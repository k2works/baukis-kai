
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the Baukis-Kai project.">
      
      
        <meta name="author" content="Project Team">
      
      
      
        <link rel="prev" href="../20170220/">
      
      
        <link rel="next" href="../20170318/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>20170317 - Baukis-Kai</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../docs/mkdocs/assets/css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2017-03-17" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Baukis-Kai" class="md-header__button md-logo" aria-label="Baukis-Kai" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Baukis-Kai
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              20170317
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/k2works/baukis-kai" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    baukis-kai
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/" class="md-tabs__link">
        
  
  
    
  
  UseCases

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/" class="md-tabs__link">
        
  
  
    
  
  Architecture

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/" class="md-tabs__link">
        
  
  
    
  
  Implementation

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../%E7%94%A8%E8%AA%9E%E9%9B%86/" class="md-tabs__link">
        
  
  
    
  
  Glossary

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../20170110/" class="md-tabs__link">
          
  
  
  Journal

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Baukis-Kai" class="md-nav__button md-logo" aria-label="Baukis-Kai" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Baukis-Kai
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k2works/baukis-kai" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    baukis-kai
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UseCases
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Implementation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%94%A8%E8%AA%9E%E9%9B%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Journal
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Journal
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170110/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170110
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170111/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170111
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170114/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170114
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170116/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170116
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170117/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170117
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170118/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170118
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170120/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170120
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170121/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170121
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170123/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170123
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170124/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170124
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170126/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170126
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170127/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170127
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170128/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170128
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170130/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170130
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170131/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170131
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170202
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170203
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170204/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170204
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170206/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170206
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170207/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170207
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170209/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170209
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170210/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170210
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170213/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170213
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170214/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170214
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170216/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170216
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170220/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170220
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    20170317
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    20170317
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#22c4d8e-24" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 22c4d8e - フォームの確認画面 #24
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 22c4d8e - フォームの確認画面 #24">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      技術的詳細
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      お知らせ表示の構造
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#f61e351-capybara-24" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: f61e351 - 職員アカウント編集機能のCapybaraテスト追加 #24
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: f61e351 - 職員アカウント編集機能のCapybaraテスト追加 #24">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      技術的詳細
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#capybara" class="md-nav__link">
    <span class="md-ellipsis">
      Capybaraテストのフロー
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#85a2dea" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 85a2dea
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 85a2dea">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8c50d92" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 8c50d92
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 8c50d92">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#47a8374" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 47a8374
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 47a8374">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6fbc436" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 6fbc436
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 6fbc436">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8d64ce4" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 8d64ce4
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 8d64ce4">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dbe81c9" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: dbe81c9
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: dbe81c9">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7554c69" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 7554c69
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 7554c69">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5d1bb3a" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 5d1bb3a
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 5d1bb3a">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_36" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_37" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_38" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#476f49a" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 476f49a
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 476f49a">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_39" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_40" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_41" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3146c73" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 3146c73
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 3146c73">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_42" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_43" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_44" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a60faf5" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: a60faf5
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: a60faf5">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_45" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_46" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_47" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_48" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9c56504" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 9c56504
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 9c56504">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_49" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_50" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_51" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_52" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bcc4f1b" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: bcc4f1b
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: bcc4f1b">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_53" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_54" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_55" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9f635a9" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 9f635a9
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 9f635a9">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_56" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_57" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_58" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#b48c9a1" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: b48c9a1
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: b48c9a1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_59" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_60" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_61" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1569069" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 1569069
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 1569069">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_62" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_63" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_64" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_65" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#954b550" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 954b550
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 954b550">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_66" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_67" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_68" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_69" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2b2bac2" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 2b2bac2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 2b2bac2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_70" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_71" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_72" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_73" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0c95ec6" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 0c95ec6
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 0c95ec6">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_74" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_75" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_76" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_77" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ac3058e" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: ac3058e
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: ac3058e">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_78" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_79" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_80" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#da405c2" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: da405c2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: da405c2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_81" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_82" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_83" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_84" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#248cbeb" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 248cbeb
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 248cbeb">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_85" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_86" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_87" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8a01ab7" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 8a01ab7
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 8a01ab7">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_88" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_89" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_90" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170318/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170318
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170325/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170325
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170327/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170327
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170328/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170328
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250424/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250424
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250510/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250510
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250607/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250607
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250608/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250608
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250609/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250609
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250610/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250610
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250611/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250611
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250612/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250612
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="2017-03-17">作業履歴 2017-03-17<a class="headerlink" href="#2017-03-17" title="Permanent link">&para;</a></h1>
<h2 id="_1">概要<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>2017-03-17の作業内容をまとめています。このジャーナルでは、フォームの確認画面機能の実装と、職員アカウント編集機能のテスト追加を行いました。これらの変更はユーザー体験の向上とコード品質の確保を目的としています。</p>
<h2 id="22c4d8e-24">コミット: 22c4d8e - フォームの確認画面 #24<a class="headerlink" href="#22c4d8e-24" title="Permanent link">&para;</a></h2>
<h3 id="_2">概要<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>ユーザーインターフェースを改善するため、フォームの確認画面機能を実装しました。これにより、ユーザーは入力内容を確認してから送信できるようになり、入力ミスを減らすことができます。</p>
<h3 id="_3">技術的詳細<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<ul>
<li>顧客向けダッシュボードに「顧客自身によるアカウント管理機能追加」のお知らせを追加</li>
<li>職員向けトップページに「アカウント情報編集機能を改善」のお知らせを追加</li>
<li>BEM記法に従ったHTMLマークアップを使用（NewsList__item, NewsList__head, NewsList__bodyなど）</li>
</ul>
<h3 id="_4">変更されたファイル<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/views/customer/top/dashboard.html.erb</li>
<li>M app/views/staff/top/index.html.erb</li>
</ul>
<h3 id="_5">変更内容<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 22c4d8e82e0a2a07d34ac1eb6f4ba9ce4c5cb9d9
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 18:39:20 2017 +0900

<span class="w"> </span>   フォームの確認画面  #24

<span class="gh">diff --git a/app/views/customer/top/dashboard.html.erb b/app/views/customer/top/dashboard.html.erb</span>
<span class="gh">index fd60d28..ead0c5c 100644</span>
<span class="gd">--- a/app/views/customer/top/dashboard.html.erb</span>
<span class="gi">+++ b/app/views/customer/top/dashboard.html.erb</span>
<span class="gu">@@ -8,6 +8,10 @@</span>
<span class="w"> </span>    &lt;h2 class=&quot;sectionLabel&quot;&gt;お知らせ&lt;/h2&gt;
<span class="w"> </span>  &lt;/div&gt;
<span class="w"> </span>  &lt;ol class=&quot;NewsList&quot;&gt;
<span class="gi">+    &lt;li class=&quot;NewsList__item&quot;&gt;</span>
<span class="gi">+      &lt;time class=&quot;NewsList__head&quot; datatime=&quot;2017-3-17&quot;&gt;2017.3.17&lt;/time&gt;</span>
<span class="gi">+      &lt;span class=&quot;NewsList__body&quot;&gt;顧客自身によるアカウント管理機能追加&lt;/span&gt;</span>
<span class="gi">+    &lt;/li&gt;</span>
<span class="w"> </span>    &lt;li class=&quot;NewsList__item&quot;&gt;
<span class="w"> </span>      &lt;time class=&quot;NewsList__head&quot; datatime=&quot;2017-3-17&quot;&gt;2017.3.17&lt;/time&gt;
<span class="w"> </span>      &lt;span class=&quot;NewsList__body&quot;&gt;プログラム申し込み機能追加&lt;/span&gt;
<span class="gh">diff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb</span>
<span class="gh">index 877666a..c0973b1 100644</span>
<span class="gd">--- a/app/views/staff/top/index.html.erb</span>
<span class="gi">+++ b/app/views/staff/top/index.html.erb</span>
<span class="gu">@@ -8,6 +8,10 @@</span>
<span class="w"> </span>    &lt;h2 class=&quot;sectionLabel&quot;&gt;お知らせ&lt;/h2&gt;
<span class="w"> </span>  &lt;/div&gt;
<span class="w"> </span>  &lt;ol class=&quot;NewsList&quot;&gt;
<span class="gi">+    &lt;li class=&quot;NewsList__item&quot;&gt;</span>
<span class="gi">+      &lt;time class=&quot;NewsList__head&quot; datatime=&quot;2017-3-17&quot;&gt;2017.3.17&lt;/time&gt;</span>
<span class="gi">+      &lt;span class=&quot;NewsList__body&quot;&gt;アカウント情報編集機能を改善&lt;/span&gt;</span>
<span class="gi">+    &lt;/li&gt;</span>
<span class="w"> </span>    &lt;li class=&quot;NewsList__item&quot;&gt;
<span class="w"> </span>      &lt;time class=&quot;NewsList__head&quot; datatime=&quot;2017-2-16&quot;&gt;2017.2.16&lt;/time&gt;
<span class="w"> </span>      &lt;span class=&quot;NewsList__body&quot;&gt;プログラム管理機能を追加&lt;/span&gt;
</code></pre></div>
<h3 id="_6">お知らせ表示の構造<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjMzN3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTA3NXB4O2hlaWdodDozMzdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMDc1IDMzNyIgd2lkdGg9IjEwNzVweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMTIzNjI7JiMzMDY5MzsmIzEyNDI1OyYjMTIzNzk7JiMzNDkyMDsmIzMxMDM0OyYjMTI0Njc7JiMxMjUzMTsmIzEyNTA5OyYjMTI1NDA7JiMxMjQ5MzsmIzEyNTMxOyYjMTI0ODg7JiMyNzA4MzsmIzM2ODk2OzwvdGl0bGU+PGRlZnMvPjxnPjxyZWN0IGZpbGw9IiNGRkZGQ0MiIGhlaWdodD0iMjYuNjQwNiIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojRkZERDg4O3N0cm9rZS13aWR0aDozOyIgd2lkdGg9IjEwNjQuNjc4OSIgeD0iNSIgeT0iNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTAiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzU1LjIxIiB4PSIxMCIgeT0iMjAiPlBsZWFzZSYjMTYwO3VzZSYjMTYwOychb3B0aW9uJiMxNjA7aGFuZHdyaXR0ZW4mIzE2MDt0cnVlJyYjMTYwO3RvJiMxNjA7ZW5hYmxlJiMxNjA7aGFuZHdyaXR0ZW48L3RleHQ+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjA5Ljk5OTEiIHg9IjQxOC4zMzk5IiB5PSI1OS42MzU3Ij4mIzEyMzYyOyYjMzA2OTM7JiMxMjQyNTsmIzEyMzc5OyYjMzQ5MjA7JiMzMTAzNDsmIzEyNDY3OyYjMTI1MzE7JiMxMjUwOTsmIzEyNTQwOyYjMTI0OTM7JiMxMjUzMTsmIzEyNDg4OyYjMjcwODM7JiMzNjg5Njs8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIG5ld3NMaXN0LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtZW50aXR5PSJuZXdzTGlzdCIgZGF0YS1zb3VyY2UtbGluZT0iNiIgZGF0YS11aWQ9ImVudDAwMDIiIGlkPSJjbHVzdGVyX25ld3NMaXN0Ij48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjE3MC4zIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iOTI2IiB4PSI3IiB5PSI4MC45Mzc1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4Ni44OTQxIiB4PSIzNzYuNTUyOSIgeT0iOTUuOTMyNiI+TmV3c0xpc3QgKCYjMTIzNjI7JiMzMDY5MzsmIzEyNDI1OyYjMTIzNzk7JiMxMjUyMjsmIzEyNDczOyYjMTI0ODg7KTwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgaXRlbTEtLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1lbnRpdHk9Iml0ZW0xIiBkYXRhLXNvdXJjZS1saW5lPSI3IiBkYXRhLXVpZD0iZW50MDAwMyIgaWQ9ImNsdXN0ZXJfaXRlbTEiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iODcuMyIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjQxNSIgeD0iMzkiIHk9IjEzMS45Mzc1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIyMi40Njg0IiB4PSIxMzUuMjY1OCIgeT0iMTQ2LjkzMjYiPk5ld3NMaXN0X19pdGVtICgmIzEyMzYyOyYjMzA2OTM7JiMxMjQyNTsmIzEyMzc5OyYjMzg5MTc7JiMzMDQ0NjspPC90ZXh0PjwvZz48IS0tY2x1c3RlciBpdGVtMi0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLWVudGl0eT0iaXRlbTIiIGRhdGEtc291cmNlLWxpbmU9IjEyIiBkYXRhLXVpZD0iZW50MDAwNiIgaWQ9ImNsdXN0ZXJfaXRlbTIiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iODcuMyIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjQxNSIgeD0iNDc4IiB5PSIxMzEuOTM3NSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMjIuNDY4NCIgeD0iNTc0LjI2NTgiIHk9IjE0Ni45MzI2Ij5OZXdzTGlzdF9faXRlbSAoJiMxMjM2MjsmIzMwNjkzOyYjMTI0MjU7JiMxMjM3OTsmIzM4OTE3OyYjMzA0NDY7KTwvdGV4dD48L2c+PCEtLWVudGl0eSBoZWFkMS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJoZWFkMSIgZGF0YS1zb3VyY2UtbGluZT0iOCIgZGF0YS11aWQ9ImVudDAwMDQiIGlkPSJlbnRpdHlfaGVhZDEiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTc0LjYyODgiIHg9IjU0LjY5IiB5PSIxNjYuOTM3NSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1NC42Mjg4IiB4PSI2NC42OSIgeT0iMTg5LjkzMjYiPk5ld3NMaXN0X19oZWFkICgmIzI2MDg1OyYjMjAxODQ7KTwvdGV4dD48L2c+PCEtLWVudGl0eSBib2R5MS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJib2R5MSIgZGF0YS1zb3VyY2UtbGluZT0iOSIgZGF0YS11aWQ9ImVudDAwMDUiIGlkPSJlbnRpdHlfYm9keTEiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTc0LjMwMDciIHg9IjI2My44NSIgeT0iMTY2LjkzNzUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTQuMzAwNyIgeD0iMjczLjg1IiB5PSIxODkuOTMyNiI+TmV3c0xpc3RfX2JvZHkgKCYjMjA4Njk7JiMyMzQ4MTspPC90ZXh0PjwvZz48IS0tZW50aXR5IGhlYWQyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImhlYWQyIiBkYXRhLXNvdXJjZS1saW5lPSIxMyIgZGF0YS11aWQ9ImVudDAwMDciIGlkPSJlbnRpdHlfaGVhZDIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTc0LjYyODgiIHg9IjQ5My42OSIgeT0iMTY2LjkzNzUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTQuNjI4OCIgeD0iNTAzLjY5IiB5PSIxODkuOTMyNiI+TmV3c0xpc3RfX2hlYWQgKCYjMjYwODU7JiMyMDE4NDspPC90ZXh0PjwvZz48IS0tZW50aXR5IGJvZHkyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImJvZHkyIiBkYXRhLXNvdXJjZS1saW5lPSIxNCIgZGF0YS11aWQ9ImVudDAwMDgiIGlkPSJlbnRpdHlfYm9keTIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTc0LjMwMDciIHg9IjcwMi44NSIgeT0iMTY2LjkzNzUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTQuMzAwNyIgeD0iNzEyLjg1IiB5PSIxODkuOTMyNiI+TmV3c0xpc3RfX2JvZHkgKCYjMjA4Njk7JiMyMzQ4MTspPC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iR01OOSIgZGF0YS1zb3VyY2UtbGluZT0iMTkiIGRhdGEtdWlkPSJlbnQwMDEwIiBpZD0iZW50aXR5X0dNTjkiPjxwYXRoIGQ9Ik03OTYuMzMsMjc1LjIzNzUgTDc5Ni4zMywzMzAuNjM1OSBMMTA1My42Nzg5LDMzMC42MzU5IEwxMDUzLjY3ODksMjg1LjIzNzUgTDEwNDMuNjc4OSwyNzUuMjM3NSBMNzk2LjMzLDI3NS4yMzc1IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMTA0My42Nzg5LDI3NS4yMzc1IEwxMDQzLjY3ODksMjg1LjIzNzUgTDEwNTMuNjc4OSwyODUuMjM3NSBMMTA0My42Nzg5LDI3NS4yMzc1IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjM2LjM0ODkiIHg9IjgwMi4zMyIgeT0iMjkyLjMwNDQiPkJFTSYjMzUzNTI7JiMyNzg2MTsmIzEyMzk1OyYjMjI1MjI7JiMxMjM4OTsmIzEyMzU2OyYjMTIzODM7JiMxMjQ2NzsmIzEyNTMxOyYjMTI1MDk7JiMxMjU0MDsmIzEyNDkzOyYjMTI1MzE7JiMxMjQ4ODsmIzM1MzczOyYjMzUzMzY7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMC4zNDc3IiB4PSI4MDIuMzMiIHk9IjMwNy40MzcyIj4tIEJsb2NrOiBOZXdzTGlzdDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2Ny4wMjQ5IiB4PSI4MDIuMzMiIHk9IjMyMi41NyI+LSBFbGVtZW50OjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0LWRlY29yYXRpb249InVuZGVybGluZSIgdGV4dExlbmd0aD0iMzMuNTAyOSIgeD0iODczLjQ4NzIiIHk9IjMyMi41NyI+aXRlbSw8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODUuODcxMSIgeD0iOTExLjEyMjUiIHk9IjMyMi41NyI+aGVhZCwgX19ib2R5PC90ZXh0PjwvZz48IS0tbGluayBuZXdzTGlzdCB0byBHTU45LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9Im5ld3NMaXN0IiBkYXRhLWVudGl0eS0yPSJHTU45IiBkYXRhLXNvdXJjZS1saW5lPSIxOSIgZGF0YS11aWQ9ImxuazExIiBpZD0ibGlua19uZXdzTGlzdF9HTU45Ij48cGF0aCBkPSJNOTI1LDI1MS4zNzYgQzkyNSwyNTEuNTI2NyA5MjUsMjUxLjY3NzQgOTI1LDI1MS44MjggQzkyNSwyNTIuMTI5MSA5MjUsMjUyLjQzIDkyNSwyNTIuNzMwNiBDOTI1LDI1My4zMzE3IDkyNSwyNTMuOTMxNSA5MjUsMjU0LjUyOTggQzkyNSwyNTYuOTIzIDkyNSwyNTkuMjkxMyA5MjUsMjYxLjYxNzggQzkyNSwyNjYuMjcwOCA5MjUsMjcwLjc1NjMgOTI1LDI3NC45Mzc1IiBmaWxsPSJub25lIiBpZD0ibmV3c0xpc3QtR01OOSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48L2c+PCEtLVNSQz1bZFA1Rkl5Q202Q1JsLUhHbEVyTkdHdFZTU1JBUi1YTDZyY1BSTVBqODZuYVlXYnNUSkNNWkUxWW8yR3hCbjVyc3NsSlJsRlJGbGVNZlBKOVg3WU80YWhwbHktSnY5UDZNajFjV1Z2Q0Nuell2SGQtR0ZlTjl5bTh4Q21wS1VDSlcwdUV4eHRLbFZoYlROZW04eUxlTUZ3T2tUUTE2WkxSMzVJVlN0MVVzU0E3VGoySFJ3cFNmRHprazlJTlpLQVVzbm1YbmNJNGZSd1pLbVg1aFVtVU05cTVSMXkxV1dmc3ZZamlmMEZNMGhxSGRjd3BMZ1dmcVZYLW03N01KbUpIdFBydHpCc2tKS0hFcS02N3ktVHhGdkxiNXRvb2syVkNLakVZZzZxdGRrSllod0VJU185VWhrMXJOU0hra2VrOUlQNW44ZmxQSTJXVDRfVVNqSVJib2M4UnpVN1FGX2NpcU5BMF9IbHlJX1U3NlJxXzNqcEppYUpxZXN5OWViTTJMaEllTGNwY0NvbkJhenpzNTczd1JDbWgyazBhUG1uUzBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="f61e351-capybara-24">コミット: f61e351 - 職員アカウント編集機能のCapybaraテスト追加 #24<a class="headerlink" href="#f61e351-capybara-24" title="Permanent link">&para;</a></h2>
<h3 id="_7">概要<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<p>職員が自分のアカウントを編集する機能について、Capybaraを使用した統合テストを追加しました。これにより、ユーザーの視点からの機能の動作を確認し、リグレッションを防止することができます。</p>
<h3 id="_8">技術的詳細<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<ul>
<li>READMEに新しいテスト項目を追加</li>
<li>Capybaraを使用した統合テストファイルを新規作成</li>
<li>テストでは以下のシナリオをカバー:</li>
<li>アカウント情報の表示</li>
<li>アカウント情報の編集</li>
<li>確認画面の表示と確認</li>
<li>情報の更新処理</li>
</ul>
<h3 id="_9">変更されたファイル<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>A spec/features/staff/account_management_spec.rb (新規作成)</li>
</ul>
<h3 id="_10">変更内容<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit f61e351caf90cf87121bd763f5c88b49d37793bd
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 18:36:08 2017 +0900

<span class="w"> </span>   職員が自分のアカウントを編集する機能に関するCapybaraによるテストを作成 #24

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index 33304ad..3e956b6 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -726,6 +726,7 @@ git push heroku master</span>
<span class="w"> </span>#### 演習問題
<span class="w"> </span>+ 職員が自分のアカウントを編集する機能に確認画面用を追加
<span class="w"> </span>+ 機能追加により失敗するテストの修正
<span class="gi">++ 職員が自分のアカウントを編集する機能に関するCapybaraによるテストを作成</span>

<span class="w"> </span>### Ajax
<span class="w"> </span>#### 顧客向け問い合わせフォーム
<span class="gh">diff --git a/spec/features/staff/account_management_spec.rb b/spec/features/staff/account_management_spec.rb</span>
new file mode 100644
<span class="gh">index 0000000..fef8918</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/spec/features/staff/account_management_spec.rb</span>
</code></pre></div>
<h3 id="capybara">Capybaraテストのフロー<a class="headerlink" href="#capybara" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkFDVElWSVRZIiBoZWlnaHQ9IjgyMHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NjExcHg7aGVpZ2h0OjgyMHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDYxMSA4MjAiIHdpZHRoPSI2MTFweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzI4ODc7JiMyMTcyOTsmIzEyNDUwOyYjMTI0NTk7JiMxMjQ1NDsmIzEyNTMxOyYjMTI0ODg7JiMzMjIzMjsmIzM4NTk4OyYjMjcyMzE7JiMzMzAyMTsmIzEyMzk4OyYjMTI0ODY7JiMxMjQ3MzsmIzEyNDg4OyYjMTI1MDE7JiMxMjUyNTsmIzEyNTQwOzwvdGl0bGU+PGRlZnMvPjxnPjxyZWN0IGZpbGw9IiNGRkZGQ0MiIGhlaWdodD0iMjYuNjQwNiIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojRkZERDg4O3N0cm9rZS13aWR0aDozOyIgd2lkdGg9IjYwMC45NDU0IiB4PSI1IiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNTUuMjEiIHg9IjEwIiB5PSIyMCI+UGxlYXNlJiMxNjA7dXNlJiMxNjA7JyFvcHRpb24mIzE2MDtoYW5kd3JpdHRlbiYjMTYwO3RydWUnJiMxNjA7dG8mIzE2MDtlbmFibGUmIzE2MDtoYW5kd3JpdHRlbjwvdGV4dD48ZyBjbGFzcz0idGl0bGUiIGRhdGEtc291cmNlLWxpbmU9IjEiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNTEuOTk4OSIgeD0iMTcwLjk3MzIiIHk9IjY5LjYzNTciPiYjMzI4ODc7JiMyMTcyOTsmIzEyNDUwOyYjMTI0NTk7JiMxMjQ1NDsmIzEyNTMxOyYjMTI0ODg7JiMzMjIzMjsmIzM4NTk4OyYjMjcyMzE7JiMzMzAyMTsmIzEyMzk4OyYjMTI0ODY7JiMxMjQ3MzsmIzEyNDg4OyYjMTI1MDE7JiMxMjUyNTsmIzEyNTQwOzwvdGV4dD48L2c+PGVsbGlwc2UgY3g9IjMzNi4wNDczIiBjeT0iOTMuOTM3NSIgZmlsbD0iIzIyMjIyMiIgcng9IjEwIiByeT0iMTAiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjAwLjAwMTQiIHg9IjIzNi4wNDY2IiB5PSIxMjMuOTM3NSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4MC4wMDE0IiB4PSIyNDYuMDQ2NiIgeT0iMTQ1LjA3NjIiPiYjMTI0ODY7JiMxMjQ3MzsmIzEyNDg4OyYjMjk5OTI7JiMxMjQ3MzsmIzEyNDc5OyYjMTI0ODM7JiMxMjUwMTsmIzEyNDUwOyYjMTI0NTk7JiMxMjQ1NDsmIzEyNTMxOyYjMTI0ODg7JiMyMDMxNjsmIzI1MTA0OzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iOTIuMDAwNSIgeD0iMjkwLjA0NyIgeT0iMTc3LjkwNjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Mi4wMDA1IiB4PSIzMDAuMDQ3IiB5PSIxOTkuMDQ0OSI+JiMxMjUyNTsmIzEyNDY0OyYjMTI0NTI7JiMxMjUzMTsmIzIwOTY2OyYjMjk3MDI7PC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyMDAuMDAxNCIgeD0iMjM2LjA0NjYiIHk9IjIzMS44NzUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxODAuMDAxNCIgeD0iMjQ2LjA0NjYiIHk9IjI1My4wMTM3Ij4mIzEyNDUwOyYjMTI0NTk7JiMxMjQ1NDsmIzEyNTMxOyYjMTI0ODg7JiMzNTQ0MzsmIzMyMDQ4OyYjMTI1MDY7JiMxMjU0MDsmIzEyNDcyOyYjMTIzOTU7JiMxMjQ1MDsmIzEyNDYzOyYjMTI0NzU7JiMxMjQ3Mzs8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0YxRjFGMSIgcG9pbnRzPSIyMzkuNjI4NywyODUuODQzOCw0MzIuNDY1OCwyODUuODQzOCw0NDQuNDY1OCwyOTcuODQzOCw0MzIuNDY1OCwzMDkuODQzOCwyMzkuNjI4NywzMDkuODQzOCwyMjcuNjI4NywyOTcuODQzOCwyMzkuNjI4NywyODUuODQzOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTkyLjgzNzEiIHg9IjIzOS42Mjg3IiB5PSIzMDEuNjUxOSI+JiMxMjQ1MDsmIzEyNDU5OyYjMTI0NTQ7JiMxMjUzMTsmIzEyNDg4OyYjMjQ3NzM7JiMyMjU3NzsmIzEyMzY0OyYjMjc0OTE7JiMxMjM3NTsmIzEyMzY3OyYjMzQ5MjA7JiMzMTAzNDsmIzEyMzczOyYjMTI0Mjg7JiMxMjQyNzsmIzEyMzYzOz88L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTkuMDA4MyIgeD0iMjA4LjYyMDQiIHk9IjI5NS4yNDk1Ij55ZXM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMuNzAxNyIgeD0iNDQ0LjQ2NTgiIHk9IjI5NS4yNDk1Ij5ubzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjAwLjAwMTQiIHg9IjExNy42MjgiIHk9IjMxOS44NDM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgwLjAwMTQiIHg9IjEyNy42MjgiIHk9IjM0MC45ODI0Ij4mIzEyNDUwOyYjMTI0NTk7JiMxMjQ1NDsmIzEyNTMxOyYjMTI0ODg7JiMzMjIzMjsmIzM4NTk4OyYjMTI1MDY7JiMxMjU0MDsmIzEyNDcyOyYjMTIzOTU7JiMxMjQ1MDsmIzEyNDYzOyYjMTI0NzU7JiMxMjQ3Mzs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE3Ni4wMDEyIiB4PSIxMjkuNjI4MSIgeT0iMzczLjgxMjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTYuMDAxMiIgeD0iMTM5LjYyODEiIHk9IjM5NC45NTEyIj4mIzEyNTAxOyYjMTI0NTc7JiMxMjU0MDsmIzEyNTEyOyYjMTIzOTU7JiMyNjAzMjsmIzEyMzc1OyYjMTIzNTY7JiMyNDc3MzsmIzIyNTc3OyYjMTI0MzQ7JiMyMDgzNzsmIzIxMTQ3OzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTQwLjAwMDkiIHg9IjE0Ny42MjgzIiB5PSI0MjcuNzgxMyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMC4wMDA5IiB4PSIxNTcuNjI4MyIgeT0iNDQ4LjkxOTkiPiYjMzA5MDY7JiMzNTQ2OTsmIzEyNTA4OyYjMTI0Nzk7JiMxMjUzMTsmIzEyNDM0OyYjMTI0NjM7JiMxMjUyMjsmIzEyNDgzOyYjMTI0NjM7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNGMUYxRjEiIHBvaW50cz0iMTU0LjIxLDQ4MS43NSwyODEuMDQ3NSw0ODEuNzUsMjkzLjA0NzUsNDkzLjc1LDI4MS4wNDc1LDUwNS43NSwxNTQuMjEsNTA1Ljc1LDE0Mi4yMSw0OTMuNzUsMTU0LjIxLDQ4MS43NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI2LjgzNzUiIHg9IjE1NC4yMSIgeT0iNDk3LjU1ODEiPiYjMzA5MDY7JiMzNTQ2OTsmIzMwMDExOyYjMzg3NTQ7JiMxMjM2NDsmIzM0OTIwOyYjMzEwMzQ7JiMxMjM3MzsmIzEyNDI4OyYjMTI0Mjc7JiMxMjM2Mzs/PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5LjAwODMiIHg9IjEyMy4yMDE3IiB5PSI0OTEuMTU1OCI+eWVzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzLjcwMTciIHg9IjI5My4wNDc1IiB5PSI0OTEuMTU1OCI+bm88L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE0MC4wMDA5IiB4PSI1NS40MTg2IiB5PSI1MTUuNzUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjAuMDAwOSIgeD0iNjUuNDE4NiIgeT0iNTM2Ljg4ODciPiYjMjYzNTY7JiMyNjAzMjsmIzEyNTA4OyYjMTI0Nzk7JiMxMjUzMTsmIzEyNDM0OyYjMTI0NjM7JiMxMjUyMjsmIzEyNDgzOyYjMTI0NjM7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNGMUYxRjEiIHBvaW50cz0iNzMuMDAwMiw1NjkuNzE4OCwxNzcuODM3OSw1NjkuNzE4OCwxODkuODM3OSw1ODEuNzE4OCwxNzcuODM3OSw1OTMuNzE4OCw3My4wMDAyLDU5My43MTg4LDYxLjAwMDIsNTgxLjcxODgsNzMuMDAwMiw1NjkuNzE4OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA0LjgzNzciIHg9IjczLjAwMDIiIHk9IjU4NS41MjY5Ij4mIzI0NzczOyYjMjI1Nzc7JiMxMjM2NDsmIzI2MzU2OyYjMjYwMzI7JiMxMjM3MzsmIzEyNDI4OyYjMTI0Mjc7JiMxMjM2Mzs/PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5LjAwODMiIHg9IjQxLjk5MTkiIHk9IjU3OS4xMjQ1Ij55ZXM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMuNzAxNyIgeD0iMTg5LjgzNzkiIHk9IjU3OS4xMjQ1Ij5ubzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iODAuMDAwNSIgeD0iMTEiIHk9IjYwMy43MTg4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjAuMDAwNSIgeD0iMjEiIHk9IjYyNC44NTc0Ij4mIzEyNDg2OyYjMTI0NzM7JiMxMjQ4ODsmIzI1MTA0OyYjMjExNTE7PC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4MC4wMDA1IiB4PSIxNTkuODM3NyIgeT0iNjAzLjcxODgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MC4wMDA1IiB4PSIxNjkuODM3NyIgeT0iNjI0Ljg1NzQiPiYjMTI0ODY7JiMxMjQ3MzsmIzEyNDg4OyYjMjI4MzM7JiMyNTk0Mzs8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0YxRjFGMSIgcG9pbnRzPSIxMjUuNDE5MSw2NDMuNjg3NSwxMzcuNDE5MSw2NTUuNjg3NSwxMjUuNDE5MSw2NjcuNjg3NSwxMTMuNDE5MSw2NTUuNjg3NSwxMjUuNDE5MSw2NDMuNjg3NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjgwLjAwMDUiIHg9IjI2OS44MzgyIiB5PSI1MTUuNzUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MC4wMDA1IiB4PSIyNzkuODM4MiIgeT0iNTM2Ljg4ODciPiYjMTI0ODY7JiMxMjQ3MzsmIzEyNDg4OyYjMjI4MzM7JiMyNTk0Mzs8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0YxRjFGMSIgcG9pbnRzPSIyMTcuNjI4Nyw2NzMuNjg3NSwyMjkuNjI4Nyw2ODUuNjg3NSwyMTcuNjI4Nyw2OTcuNjg3NSwyMDUuNjI4Nyw2ODUuNjg3NSwyMTcuNjI4Nyw2NzMuNjg3NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjgwLjAwMDUiIHg9IjQxNC40NjU2IiB5PSIzMTkuODQzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwLjAwMDUiIHg9IjQyNC40NjU2IiB5PSIzNDAuOTgyNCI+JiMxMjQ4NjsmIzEyNDczOyYjMTI0ODg7JiMyMjgzMzsmIzI1OTQzOzwvdGV4dD48cG9seWdvbiBmaWxsPSIjRjFGMUYxIiBwb2ludHM9IjMzNi4wNDczLDcwMy42ODc1LDM0OC4wNDczLDcxNS42ODc1LDMzNi4wNDczLDcyNy42ODc1LDMyNC4wNDczLDcxNS42ODc1LDMzNi4wNDczLDcwMy42ODc1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMzY3LjA0NzMsNzM3LjY4NzUgTDM2Ny4wNDczLDc2OC45NTMxIEwzNDcuMDQ3Myw3NzIuOTUzMSBMMzY3LjA0NzMsNzc2Ljk1MzEgTDM2Ny4wNDczLDgwOC4yMTg4IEEwLDAgMCAwIDAgMzY3LjA0NzMsODA4LjIxODggTDU4NC45NDU0LDgwOC4yMTg4IEEwLDAgMCAwIDAgNTg0Ljk0NTQsODA4LjIxODggTDU4NC45NDU0LDc0Ny42ODc1IEw1NzQuOTQ1NCw3MzcuNjg3NSBMMzY3LjA0NzMsNzM3LjY4NzUgQTAsMCAwIDAgMCAzNjcuMDQ3Myw3MzcuNjg3NSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTU3NC45NDU0LDczNy42ODc1IEw1NzQuOTQ1NCw3NDcuNjg3NSBMNTg0Ljk0NTQsNzQ3LjY4NzUgTDU3NC45NDU0LDczNy42ODc1IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTYuODk4MSIgeD0iMzczLjA0NzMiIHk9Ijc1NC43NTQ0Ij5DYXB5YmFyYSYjMTI0MzQ7JiMyMDM1MTsmIzI5OTkyOyYjMTIzNzU7JiMxMjM4MzsmIzMyMTEzOyYjMjE1MTI7JiMxMjQ4NjsmIzEyNDczOyYjMTI0ODg7OjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzguODIzNCIgeD0iMzczLjA0NzMiIHk9Ijc2OS44ODcyIj4tICYjMTI1MTg7JiMxMjU0MDsmIzEyNDcwOyYjMTI1NDA7JiMxMjM5ODsmIzI1ODA1OyYjMjAzMTY7JiMxMjQzNDsmIzI3MTY5OyYjMjA1MTU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2NC44MjM0IiB4PSIzNzMuMDQ3MyIgeT0iNzg1LjAyIj4tICYjMjM0NTU7JiMzODU1NTsmIzEyMzk4OyYjMTI1MDI7JiMxMjUyMTsmIzEyNDU0OyYjMTI0NzA7JiMyMTIwNTsmIzIwMzE2OyYjMTI0MzQ7JiMzMDkwNjsmIzM1NDY5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjQuODIzNCIgeD0iMzczLjA0NzMiIHk9IjgwMC4xNTI4Ij4tICYjMzAwMTE7JiMzODc1NDsmIzM2OTgzOyYjMzEyMjc7JiMxMjQyMDsmIzM0OTIwOyYjMzEwMzQ7JiMyMDg2OTsmIzIzNDgxOyYjMTI0MzQ7JiMyNjkwODsmIzM1Mzg4OzwvdGV4dD48ZWxsaXBzZSBjeD0iMzM2LjA0NzMiIGN5PSI3NzIuOTUzMSIgZmlsbD0ibm9uZSIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48ZWxsaXBzZSBjeD0iMzM2LjA0NzMiIGN5PSI3NzIuOTUzMSIgZmlsbD0iIzIyMjIyMiIgcng9IjYiIHJ5PSI2IiBzdHlsZT0ic3Ryb2tlOiMyMjIyMjI7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMzNi4wNDczIiB4Mj0iMzM2LjA0NzMiIHkxPSIxMDMuOTM3NSIgeTI9IjEyMy45Mzc1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMzIuMDQ3MywxMTMuOTM3NSwzMzYuMDQ3MywxMjMuOTM3NSwzNDAuMDQ3MywxMTMuOTM3NSwzMzYuMDQ3MywxMTcuOTM3NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMzYuMDQ3MyIgeDI9IjMzNi4wNDczIiB5MT0iMTU3LjkwNjMiIHkyPSIxNzcuOTA2MyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzMyLjA0NzMsMTY3LjkwNjMsMzM2LjA0NzMsMTc3LjkwNjMsMzQwLjA0NzMsMTY3LjkwNjMsMzM2LjA0NzMsMTcxLjkwNjMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzM2LjA0NzMiIHgyPSIzMzYuMDQ3MyIgeTE9IjIxMS44NzUiIHkyPSIyMzEuODc1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMzIuMDQ3MywyMjEuODc1LDMzNi4wNDczLDIzMS44NzUsMzQwLjA0NzMsMjIxLjg3NSwzMzYuMDQ3MywyMjUuODc1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIxNy42Mjg3IiB4Mj0iMjE3LjYyODciIHkxPSIzNTMuODEyNSIgeTI9IjM3My44MTI1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMTMuNjI4NywzNjMuODEyNSwyMTcuNjI4NywzNzMuODEyNSwyMjEuNjI4NywzNjMuODEyNSwyMTcuNjI4NywzNjcuODEyNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMTcuNjI4NyIgeDI9IjIxNy42Mjg3IiB5MT0iNDA3Ljc4MTMiIHkyPSI0MjcuNzgxMyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjEzLjYyODcsNDE3Ljc4MTMsMjE3LjYyODcsNDI3Ljc4MTMsMjIxLjYyODcsNDE3Ljc4MTMsMjE3LjYyODcsNDIxLjc4MTMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjEuMDAwMiIgeDI9IjUxLjAwMDIiIHkxPSI1ODEuNzE4OCIgeTI9IjU4MS43MTg4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjUxLjAwMDIiIHgyPSI1MS4wMDAyIiB5MT0iNTgxLjcxODgiIHkyPSI2MDMuNzE4OCIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDcuMDAwMiw1OTMuNzE4OCw1MS4wMDAyLDYwMy43MTg4LDU1LjAwMDIsNTkzLjcxODgsNTEuMDAwMiw1OTcuNzE4OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxODkuODM3OSIgeDI9IjE5OS44Mzc5IiB5MT0iNTgxLjcxODgiIHkyPSI1ODEuNzE4OCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxOTkuODM3OSIgeDI9IjE5OS44Mzc5IiB5MT0iNTgxLjcxODgiIHkyPSI2MDMuNzE4OCIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTk1LjgzNzksNTkzLjcxODgsMTk5LjgzNzksNjAzLjcxODgsMjAzLjgzNzksNTkzLjcxODgsMTk5LjgzNzksNTk3LjcxODgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTEuMDAwMiIgeDI9IjUxLjAwMDIiIHkxPSI2MzcuNjg3NSIgeTI9IjY1NS42ODc1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjUxLjAwMDIiIHgyPSIxMTMuNDE5MSIgeTE9IjY1NS42ODc1IiB5Mj0iNjU1LjY4NzUiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjEwMy40MTkxLDY1MS42ODc1LDExMy40MTkxLDY1NS42ODc1LDEwMy40MTkxLDY1OS42ODc1LDEwNy40MTkxLDY1NS42ODc1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5OS44Mzc5IiB4Mj0iMTk5LjgzNzkiIHkxPSI2MzcuNjg3NSIgeTI9IjY1NS42ODc1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5OS44Mzc5IiB4Mj0iMTM3LjQxOTEiIHkxPSI2NTUuNjg3NSIgeTI9IjY1NS42ODc1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNDcuNDE5MSw2NTEuNjg3NSwxMzcuNDE5MSw2NTUuNjg3NSwxNDcuNDE5MSw2NTkuNjg3NSwxNDMuNDE5MSw2NTUuNjg3NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMjUuNDE5MSIgeDI9IjEyNS40MTkxIiB5MT0iNTQ5LjcxODgiIHkyPSI1NjkuNzE4OCIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTIxLjQxOTEsNTU5LjcxODgsMTI1LjQxOTEsNTY5LjcxODgsMTI5LjQxOTEsNTU5LjcxODgsMTI1LjQxOTEsNTYzLjcxODgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTQyLjIxIiB4Mj0iMTI1LjQxOTEiIHkxPSI0OTMuNzUiIHkyPSI0OTMuNzUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTI1LjQxOTEiIHgyPSIxMjUuNDE5MSIgeTE9IjQ5My43NSIgeTI9IjUxNS43NSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTIxLjQxOTEsNTA1Ljc1LDEyNS40MTkxLDUxNS43NSwxMjkuNDE5MSw1MDUuNzUsMTI1LjQxOTEsNTA5Ljc1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI5My4wNDc1IiB4Mj0iMzA5LjgzODQiIHkxPSI0OTMuNzUiIHkyPSI0OTMuNzUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzA5LjgzODQiIHgyPSIzMDkuODM4NCIgeTE9IjQ5My43NSIgeTI9IjUxNS43NSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzA1LjgzODQsNTA1Ljc1LDMwOS44Mzg0LDUxNS43NSwzMTMuODM4NCw1MDUuNzUsMzA5LjgzODQsNTA5Ljc1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEyNS40MTkxIiB4Mj0iMTI1LjQxOTEiIHkxPSI2NjcuNjg3NSIgeTI9IjY4NS42ODc1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEyNS40MTkxIiB4Mj0iMjA1LjYyODciIHkxPSI2ODUuNjg3NSIgeTI9IjY4NS42ODc1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxOTUuNjI4Nyw2ODEuNjg3NSwyMDUuNjI4Nyw2ODUuNjg3NSwxOTUuNjI4Nyw2ODkuNjg3NSwxOTkuNjI4Nyw2ODUuNjg3NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMDkuODM4NCIgeDI9IjMwOS44Mzg0IiB5MT0iNTQ5LjcxODgiIHkyPSI2ODUuNjg3NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMDkuODM4NCIgeDI9IjIyOS42Mjg3IiB5MT0iNjg1LjY4NzUiIHkyPSI2ODUuNjg3NSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjM5LjYyODcsNjgxLjY4NzUsMjI5LjYyODcsNjg1LjY4NzUsMjM5LjYyODcsNjg5LjY4NzUsMjM1LjYyODcsNjg1LjY4NzUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjE3LjYyODciIHgyPSIyMTcuNjI4NyIgeTE9IjQ2MS43NSIgeTI9IjQ4MS43NSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjEzLjYyODcsNDcxLjc1LDIxNy42Mjg3LDQ4MS43NSwyMjEuNjI4Nyw0NzEuNzUsMjE3LjYyODcsNDc1Ljc1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIyNy42Mjg3IiB4Mj0iMjE3LjYyODciIHkxPSIyOTcuODQzOCIgeTI9IjI5Ny44NDM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIxNy42Mjg3IiB4Mj0iMjE3LjYyODciIHkxPSIyOTcuODQzOCIgeTI9IjMxOS44NDM4Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMTMuNjI4NywzMDkuODQzOCwyMTcuNjI4NywzMTkuODQzOCwyMjEuNjI4NywzMDkuODQzOCwyMTcuNjI4NywzMTMuODQzOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI0NDQuNDY1OCIgeDI9IjQ1NC40NjU4IiB5MT0iMjk3Ljg0MzgiIHkyPSIyOTcuODQzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI0NTQuNDY1OCIgeDI9IjQ1NC40NjU4IiB5MT0iMjk3Ljg0MzgiIHkyPSIzMTkuODQzOCIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDUwLjQ2NTgsMzA5Ljg0MzgsNDU0LjQ2NTgsMzE5Ljg0MzgsNDU4LjQ2NTgsMzA5Ljg0MzgsNDU0LjQ2NTgsMzEzLjg0MzgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjE3LjYyODciIHgyPSIyMTcuNjI4NyIgeTE9IjY5Ny42ODc1IiB5Mj0iNzE1LjY4NzUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjE3LjYyODciIHgyPSIzMjQuMDQ3MyIgeTE9IjcxNS42ODc1IiB5Mj0iNzE1LjY4NzUiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMxNC4wNDczLDcxMS42ODc1LDMyNC4wNDczLDcxNS42ODc1LDMxNC4wNDczLDcxOS42ODc1LDMxOC4wNDczLDcxNS42ODc1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQ1NC40NjU4IiB4Mj0iNDU0LjQ2NTgiIHkxPSIzNTMuODEyNSIgeTI9IjcxNS42ODc1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQ1NC40NjU4IiB4Mj0iMzQ4LjA0NzMiIHkxPSI3MTUuNjg3NSIgeTI9IjcxNS42ODc1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzNTguMDQ3Myw3MTEuNjg3NSwzNDguMDQ3Myw3MTUuNjg3NSwzNTguMDQ3Myw3MTkuNjg3NSwzNTQuMDQ3Myw3MTUuNjg3NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMzYuMDQ3MyIgeDI9IjMzNi4wNDczIiB5MT0iMjY1Ljg0MzgiIHkyPSIyODUuODQzOCIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzMyLjA0NzMsMjc1Ljg0MzgsMzM2LjA0NzMsMjg1Ljg0MzgsMzQwLjA0NzMsMjc1Ljg0MzgsMzM2LjA0NzMsMjc5Ljg0MzgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzM2LjA0NzMiIHgyPSIzMzYuMDQ3MyIgeTE9IjcyNy42ODc1IiB5Mj0iNzYxLjk1MzEiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMzMi4wNDczLDc1MS45NTMxLDMzNi4wNDczLDc2MS45NTMxLDM0MC4wNDczLDc1MS45NTMxLDMzNi4wNDczLDc1NS45NTMxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PCEtLVNSQz1baEw5VEpuZjE1N3NWTnA2Ri1EMF8wMHp6eTlVaVBQNkRrNGtNUU9ubGRIY1hIM0diTEpHSDZXR2ZOSkdXMTJqLTROX0NUTlFNVno0eGt6UGdjemdObGNtc1N5d3p2em5wQnRET21RT0hkd2N6M2VXa1kzQ0dWUDFKYTVLejJuUkRJWlhlSHQ4RVYwSW8wazhRdHE0c0cwdjF0WDVJTWRGU2VrTFJ3dEo1VWhVc3dkbGx0VW9vTF8xeWtmNXRjRnFDcHJqa1RpRHQ2QkRUY2hDQTlIa0JjVUtwYWR4Z2dfUzN5b0ZrR0tnWnlUQkRteG1MTGtpUG1uLTI2OEZldVJsd3NEVnJZZGJ5SU91Nkt0cW4xZGM0QmE1UzBKLUIyVVNXUmI0WUd1WUpld2RWUWE5UExpU0p1M2xYeTBKdThWMUZLSVZHbEhsV1E2SzdIMHJ1eFVxSVBOY1M4QkxmYnZSLUs0cTIteGpnRWZ2Z081MXZaNlh1Qzh3NWpYd2JuTVRMX2dnc2N5Wkt0UGxlVDFUYUF1dlpZZjNmOHF6RERFQnlTTzI0ZkZUbDVyLXd3RmtWVGlGY1hQNXlsVWNsNjFCc0F6Rl9OMXBrSE1zdEN5SjZqVEFLd3B0N0w2eUlEV3VIU3hERVpsbWRJZWJ2SEs5U1p6ZEtUclJwWjJuUm5TcUxsM0NTd001LVJteDl2RGhNdG9VZ05kdGdhWVBsQUNYLWw5ckJ5LU1aUzZ5TjNtbEJtZzJaRmZtV0dPdFFZd0RjVkV5NzgwVGNrVTlJckhlOUJPYVNRS2RnMnB4SnR0MnZNcWRzZ2I5TWVzbEpoVFVBV1pqWmJuZ05GbTAwXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" />
@@ -0,0 +1,34 @@
+require 'rails_helper'
+
+feature '職員による自分自身のアカウント管理' do
+  include FeaturesSpecHelper
+  let(:staff_member) { create(:staff_member) }
+
+  before do
+    switch_namespace(:staff)
+    login_as_staff_member(staff_member)
+    click_link I18n.t('staff.shared.header.account')
+    click_link I18n.t('staff.accounts.show.edit')
+  end
+
+  scenario '職員がメールアドレス、氏名、フリガナを更新する' do
+    fill_in I18n.t('activerecord.attributes.staff_member.email'), with: 'test@oiax.jp'
+    fill_in 'staff_member_family_name', with: '試験'
+    fill_in 'staff_member_given_name', with: '花子'
+    fill_in 'staff_member_family_name_kana', with: 'シケン'
+    fill_in 'staff_member_given_name_kana', with: 'ハナコ'
+    click_button I18n.t('staff.accounts.edit.confirm')
+    click_button I18n.t('staff.accounts.confirm.update')
+
+    staff_member.reload
+    expect(staff_member.email).to eq('test@oiax.jp')
+    expect(staff_member.family_name).to eq('試験')
+    expect(staff_member.given_name_kana).to eq('ハナコ')
+  end
+
+  scenario '職員がメールアドレスに無効な値を入力する' do
+    fill_in I18n.t('activerecord.attributes.staff_member.email'), with: 'test@@oiax.jp'
+    click_button I18n.t('staff.accounts.edit.confirm')
+    expect(page).to have_css('.has-error span.help-block')
+  end
+end
\ No newline at end of file</p>
<p><div class="highlight"><pre><span></span><code>## コミット: c89c40d

### メッセージ
</code></pre></div>
機能追加により失敗するテストの修正 #24
<div class="highlight"><pre><span></span><code>### 変更されたファイル

- M README.md
- M spec/controllers/staff/accounts_controller_spec.rb

### 変更内容

```diff
commit c89c40d0829c19911bd1df5571596e371124f700
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 18:17:50 2017 +0900

    機能追加により失敗するテストの修正 #24

diff --git a/README.md b/README.md
index b7ade4f..33304ad 100644
--- a/README.md
+++ b/README.md
@@ -725,6 +725,7 @@ git push heroku master

 #### 演習問題
 + 職員が自分のアカウントを編集する機能に確認画面用を追加
++ 機能追加により失敗するテストの修正

 ### Ajax
 #### 顧客向け問い合わせフォーム
diff --git a/spec/controllers/staff/accounts_controller_spec.rb b/spec/controllers/staff/accounts_controller_spec.rb
index cf7ce64..bdce4d8 100644
--- a/spec/controllers/staff/accounts_controller_spec.rb
+++ b/spec/controllers/staff/accounts_controller_spec.rb
@@ -17,7 +17,7 @@ describe Staff::AccountsController do
     # email属性を変更する
     it &#39;should update email attributes&#39; do
       params_hash.merge!(email: &#39;test@example.com&#39;)
-      patch :update, id: staff_member.id, staff_member: params_hash
+      patch :update, id: staff_member.id, staff_member: params_hash, commit: &#39;更新&#39;
       staff_member.reload
       expect(staff_member.email).to eq(&#39;test@example.com&#39;)
     end
@@ -25,14 +25,14 @@ describe Staff::AccountsController do
     # 例外ActionController::ParameterMissingが発生
     it &#39;should throw ActionController::ParameterMissing exception&#39; do
       bypass_rescue
-      expect { patch :update, id: staff_member.id}.to raise_error(ActionController::ParameterMissing)
+      expect { patch :update, id: staff_member.id, commit: &#39;更新&#39;}.to raise_error(ActionController::ParameterMissing)
     end

     # end_dateの値は書き換え不可
     it &#39;should writable end_data value&#39; do
       params_hash.merge!(end_date: Date.tomorrow)
       expect {
-        patch :update, id: staff_member.id, staff_member: params_hash
+        patch :update, id: staff_member.id, staff_member: params_hash, commit: &#39;更新&#39;
       }.not_to change { staff_member.end_date }
     end
   end
</code></pre></div></p>
<h3 id="_11">構造変更<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgMjU3IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjkxNDEiIHg9IjUiIHk9IjE2LjEzODciPldlbGNvbWUgdG8gUGxhbnRVTUwhPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMzAuMTA3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ny4xMDc0IiB4PSI1IiB5PSI0NC4wNzYyIj5Zb3UgY2FuIHN0YXJ0IHdpdGggYSBzaW1wbGUgVU1MIERpYWdyYW0gbGlrZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI1OC4wNDQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE4NCIgeD0iNSIgeT0iNzIuMDEzNyI+Qm9iLSZndDtBbGljZTomIzE2MDtIZWxsbzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9Ijg1Ljk4MjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNC4zNzg5IiB4PSI1IiB5PSI5OS45NTEyIj5PcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjExMy45MTk5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My45MTk5IiB4PSI1IiB5PSIxMjcuODg4NyI+Y2xhc3MmIzE2MDtFeGFtcGxlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTQxLjg1NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDEuOTUzMSIgeD0iNSIgeT0iMTU1LjgyNjIiPllvdSB3aWxsIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBQbGFudFVNTCBzeW50YXggb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyNS43MDEyIiB4PSIzNTAuNzY3NiIgeT0iMTU1LjgyNjIiPmh0dHBzOi8vcGxhbnR1bWwuY29tPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTY5Ljc5NDkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNjExMyIgeD0iNSIgeT0iMTgzLjc2MzciPihEZXRhaWxzIGJ5IHR5cGluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU3MjMiIHg9IjExNS40MjU4IiB5PSIxODMuNzYzNyI+bGljZW5zZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS44MjIzIiB4PSIxNjkuODEyNSIgeT0iMTgzLjc2MzciPmtleXdvcmQpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTk3LjczMjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjIxMS43MDEyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIyMjUuNjY5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMjM5LjYzODciPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjI1My42MDc0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA2LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSIxODUuNDM3NSIvPjwhLS1TUkM9W0tyVHV0M1p2U1VFd25xc1I3cFZGVnpwU19CWXZ1dDdad2lURDdPLVJrZnlqeHR4UGlFM2ZhaXZkaXhTeVJmaHFPazZBbnVxcDdwU3RGNnZReWhYZnFVRWMzTy1STHB2a05XMkswWGkySEFqVnhEX3hqNmwxdXlSZlpua05GTXhpVnptOFA0enp0RFoyZlF4bVA1LXQ1UDFBcGFhaUJiUm1Jb3J0MVo3VzBndUxjU0tiY05kZkM1Nk8wV0xUTkpqS0lHMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="85a2dea">コミット: 85a2dea<a class="headerlink" href="#85a2dea" title="Permanent link">&para;</a></h2>
<h3 id="_12">メッセージ<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>職員が自分のアカウントを編集する機能に確認画面用を追加 #24
</code></pre></div>
<h3 id="_13">変更されたファイル<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/controllers/staff/accounts_controller.rb</li>
<li>A app/views/staff/accounts/_confirming_form.html.erb</li>
<li>A app/views/staff/accounts/confirm.html.erb</li>
<li>M app/views/staff/accounts/edit.html.erb</li>
<li>M config/locales/views/ja.yml</li>
<li>M config/routes.rb</li>
</ul>
<h3 id="_14">変更内容<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 85a2deaeed286efedf31d1d8eff7ec4fc37a88fc
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 18:13:26 2017 +0900

<span class="w"> </span>   職員が自分のアカウントを編集する機能に確認画面用を追加 #24

<span class="gh">diff --git a/app/controllers/staff/accounts_controller.rb b/app/controllers/staff/accounts_controller.rb</span>
<span class="gh">index 449f282..1b5b3ba 100644</span>
<span class="gd">--- a/app/controllers/staff/accounts_controller.rb</span>
<span class="gi">+++ b/app/controllers/staff/accounts_controller.rb</span>
<span class="gu">@@ -7,12 +7,26 @@ class Staff::AccountsController &lt; Staff::Base</span>
<span class="w"> </span>    @staff_member = current_staff_member
<span class="w"> </span>  end

<span class="gi">+  def confirm</span>
<span class="gi">+    @staff_member = current_staff_member</span>
<span class="gi">+    @staff_member.assign_attributes(staff_member_params)</span>
<span class="gi">+    if @staff_member.valid?</span>
<span class="gi">+      render action: &#39;confirm&#39;</span>
<span class="gi">+    else</span>
<span class="gi">+      render action: &#39;edit&#39;</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="w"> </span>  def update
<span class="w"> </span>    @staff_member = current_staff_member
<span class="w"> </span>    @staff_member.assign_attributes(staff_member_params)
<span class="gd">-    if @staff_member.save</span>
<span class="gd">-      flash.notice = t(&#39;.flash_success&#39;)</span>
<span class="gd">-      redirect_to :staff_account</span>
<span class="gi">+    if params[:commit]</span>
<span class="gi">+      if @staff_member.save</span>
<span class="gi">+        flash.notice = t(&#39;.flash_success&#39;)</span>
<span class="gi">+        redirect_to :staff_account</span>
<span class="gi">+      else</span>
<span class="gi">+        render action: &#39;edit&#39;</span>
<span class="gi">+      end</span>
<span class="w"> </span>    else
<span class="w"> </span>      render action: &#39;edit&#39;
<span class="w"> </span>    end
<span class="gh">diff --git a/app/views/staff/accounts/_confirming_form.html.erb b/app/views/staff/accounts/_confirming_form.html.erb</span>
new file mode 100644
<span class="gh">index 0000000..9229e00</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/views/staff/accounts/_confirming_form.html.erb</span>
<span class="gu">@@ -0,0 +1,8 @@</span>
<span class="gi">+&lt;%= markup do |m|</span>
<span class="gi">+  p = ConfirmingUserFormPresenter.new(f, self)</span>
<span class="gi">+  p.with_options(required: true) do |q|</span>
<span class="gi">+    m &lt;&lt; q.text_field_block(:email, t(&#39;activerecord.attributes.staff_member.email&#39;))</span>
<span class="gi">+    m &lt;&lt; q.full_name_block(:family_name, :given_name, &#39;氏名&#39;)</span>
<span class="gi">+    m &lt;&lt; q.full_name_block(:family_name_kana, :given_name_kana, &#39;フリガナ&#39;)</span>
<span class="gi">+  end</span>
<span class="gi">+end %&gt;</span>
\ No newline at end of file
<span class="gh">diff --git a/app/views/staff/accounts/confirm.html.erb b/app/views/staff/accounts/confirm.html.erb</span>
new file mode 100644
<span class="gh">index 0000000..c7960d8</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/views/staff/accounts/confirm.html.erb</span>
<span class="gu">@@ -0,0 +1,17 @@</span>
<span class="gi">+&lt;% @title = t(&#39;.title&#39;) %&gt;</span>
<span class="gi">+&lt;section class=&quot;Section&quot;&gt;</span>
<span class="gi">+  &lt;h1 class=&quot;Staff__title&quot;&gt;&lt;%= @title %&gt;&lt;/h1&gt;</span>
<span class="gi">+&lt;/section&gt;</span>
<span class="gi">+</span>
<span class="gi">+&lt;section class=&quot;Section l-column AppForm&quot;&gt;</span>
<span class="gi">+  &lt;div class=&quot;AppForm__generic-form CustomerAppForm__generic-form AppForm__customer-form AppForm--isConfirmed&quot;&gt;</span>
<span class="gi">+    &lt;%= bootstrap_form_for @staff_member, url: :staff_account do |f| %&gt;</span>
<span class="gi">+        &lt;p&gt;&lt;%= t(&#39;.confirm_message&#39;)%&gt;&lt;/p&gt;</span>
<span class="gi">+        &lt;%= render &#39;confirming_form&#39;, f: f %&gt;</span>
<span class="gi">+        &lt;div class=&quot;AppForm__buttons&quot;&gt;</span>
<span class="gi">+          &lt;%= f.submit t(&#39;.update&#39;),class: &#39;btn btn-default btn-lg&#39; %&gt;</span>
<span class="gi">+          &lt;%= f.submit t(&#39;.correct&#39;), name: &#39;correct&#39;, class: &#39;btn btn-default btn-lg&#39; %&gt;</span>
<span class="gi">+        &lt;/div&gt;</span>
<span class="gi">+    &lt;% end %&gt;</span>
<span class="gi">+  &lt;/div&gt;</span>
<span class="gi">+&lt;/section&gt;</span>
<span class="gh">diff --git a/app/views/staff/accounts/edit.html.erb b/app/views/staff/accounts/edit.html.erb</span>
<span class="gh">index c60ac2e..ed7746f 100644</span>
<span class="gd">--- a/app/views/staff/accounts/edit.html.erb</span>
<span class="gi">+++ b/app/views/staff/accounts/edit.html.erb</span>
<span class="gu">@@ -5,10 +5,10 @@</span>

<span class="w"> </span>&lt;section class=&quot;Section l-column AppForm&quot;&gt;
<span class="w"> </span>  &lt;div class=&quot;AppForm__generic-form StaffAppForm__generic-form&quot;&gt;
<span class="gd">-    &lt;%= bootstrap_form_for @staff_member, url: :staff_account do |f| %&gt;</span>
<span class="gi">+    &lt;%= bootstrap_form_for @staff_member, url: :confirm_staff_account do |f| %&gt;</span>
<span class="w"> </span>        &lt;%= render &#39;form&#39;, f: f %&gt;
<span class="w"> </span>        &lt;div class=&quot;AppForm__buttons&quot;&gt;
<span class="gd">-          &lt;%= f.submit t(&#39;.update&#39;),class: &#39;btn btn-default btn-lg&#39; %&gt;</span>
<span class="gi">+          &lt;%= f.submit t(&#39;.confirm&#39;),class: &#39;btn btn-default btn-lg&#39; %&gt;</span>
<span class="w"> </span>          &lt;%= link_to t(&#39;.cancel&#39;), :staff_account, class: &#39;btn btn-default btn-lg&#39; %&gt;
<span class="w"> </span>        &lt;/div&gt;
<span class="w"> </span>    &lt;% end %&gt;
<span class="gh">diff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml</span>
<span class="gh">index 7e19903..8e2bd2b 100644</span>
<span class="gd">--- a/config/locales/views/ja.yml</span>
<span class="gi">+++ b/config/locales/views/ja.yml</span>
<span class="gu">@@ -93,8 +93,14 @@ ja:</span>
<span class="w"> </span>        start_date: &#39;開始日&#39;
<span class="w"> </span>      edit:
<span class="w"> </span>        title: &#39;アカウント情報編集&#39;
<span class="gi">+        confirm: &#39;確認画面へ進む&#39;</span>
<span class="w"> </span>        update: &#39;更新&#39;
<span class="w"> </span>        cancel: &#39;キャンセル&#39;
<span class="gi">+      confirm:</span>
<span class="gi">+        title: &#39;アカウントの更新（確認）&#39;</span>
<span class="gi">+        confirm_message: &#39;以下の内容でアカウントを更新します。よろしいですか？&#39;</span>
<span class="gi">+        update: &#39;更新&#39;</span>
<span class="gi">+        correct: &#39;訂正&#39;</span>
<span class="w"> </span>    passwords:
<span class="w"> </span>      edit:
<span class="w"> </span>        title: &#39;パスワード変更&#39;
<span class="gh">diff --git a/config/routes.rb b/config/routes.rb</span>
<span class="gh">index e003496..ab71ca9 100644</span>
<span class="gd">--- a/config/routes.rb</span>
<span class="gi">+++ b/config/routes.rb</span>
<span class="gu">@@ -79,7 +79,9 @@ Rails.application.routes.draw do</span>
<span class="w"> </span>    namespace :staff, path: config[:staff][:path] do
<span class="w"> </span>      root   &#39;top#index&#39;
<span class="w"> </span>      concerns :session_path
<span class="gd">-      resource :account, only: [:show, :edit, :update]</span>
<span class="gi">+      resource :account, only: [:show, :edit, :update] do</span>
<span class="gi">+        patch :confirm</span>
<span class="gi">+      end</span>
<span class="w"> </span>      resource :password, only: [:show, :edit, :update]
<span class="w"> </span>      resources :customers
<span class="w"> </span>      resources :programs do
</code></pre></div>
<h3 id="_15">構造変更<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgMjU3IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjkxNDEiIHg9IjUiIHk9IjE2LjEzODciPldlbGNvbWUgdG8gUGxhbnRVTUwhPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMzAuMTA3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ny4xMDc0IiB4PSI1IiB5PSI0NC4wNzYyIj5Zb3UgY2FuIHN0YXJ0IHdpdGggYSBzaW1wbGUgVU1MIERpYWdyYW0gbGlrZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI1OC4wNDQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE4NCIgeD0iNSIgeT0iNzIuMDEzNyI+Qm9iLSZndDtBbGljZTomIzE2MDtIZWxsbzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9Ijg1Ljk4MjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNC4zNzg5IiB4PSI1IiB5PSI5OS45NTEyIj5PcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjExMy45MTk5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My45MTk5IiB4PSI1IiB5PSIxMjcuODg4NyI+Y2xhc3MmIzE2MDtFeGFtcGxlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTQxLjg1NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDEuOTUzMSIgeD0iNSIgeT0iMTU1LjgyNjIiPllvdSB3aWxsIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBQbGFudFVNTCBzeW50YXggb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyNS43MDEyIiB4PSIzNTAuNzY3NiIgeT0iMTU1LjgyNjIiPmh0dHBzOi8vcGxhbnR1bWwuY29tPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTY5Ljc5NDkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNjExMyIgeD0iNSIgeT0iMTgzLjc2MzciPihEZXRhaWxzIGJ5IHR5cGluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU3MjMiIHg9IjExNS40MjU4IiB5PSIxODMuNzYzNyI+bGljZW5zZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS44MjIzIiB4PSIxNjkuODEyNSIgeT0iMTgzLjc2MzciPmtleXdvcmQpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTk3LjczMjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjIxMS43MDEyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIyMjUuNjY5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMjM5LjYzODciPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjI1My42MDc0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA2LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSIxODUuNDM3NSIvPjwhLS1TUkM9W0tyVHV0M1p2U1VFd25xc1I3cFZGVnpwU19CWXZ1dDdad2lURDdPLVJrZnlqeHR4UGlFM2ZhaXZkaXhTeVJmaHFPazZBbnVxcDdwU3RGNnZReWhYZnFVRWMzTy1STHB2a05XMkswWGkySEFqVnhEX3hqNmwxdXlSZlpua05GTXhpVnptOFA0enp0RFoyZlF4bVA1LXQ1UDFBcGFhaUJiUm1Jb3J0MVo3VzBndUxjU0tiY05kZkM1Nk8wV0xUTkpqS0lHMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="8c50d92">コミット: 8c50d92<a class="headerlink" href="#8c50d92" title="Permanent link">&para;</a></h2>
<h3 id="_16">メッセージ<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>不要ルーティングの削除
</code></pre></div>
<h3 id="_17">変更されたファイル<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M config/routes.rb</li>
</ul>
<h3 id="_18">変更内容<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 8c50d92232da1dc01e27a5403e02d64f42ae119a
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 17:58:37 2017 +0900

<span class="w"> </span>   不要ルーティングの削除

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index a80e7e8..b7ade4f 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -724,6 +724,7 @@ git push heroku master</span>
<span class="w"> </span>+ Capybaraによるテスト

<span class="w"> </span>#### 演習問題
<span class="gi">++ 職員が自分のアカウントを編集する機能に確認画面用を追加</span>

<span class="w"> </span>### Ajax
<span class="w"> </span>#### 顧客向け問い合わせフォーム
<span class="gh">diff --git a/config/routes.rb b/config/routes.rb</span>
<span class="gh">index 170bc41..e003496 100644</span>
<span class="gd">--- a/config/routes.rb</span>
<span class="gi">+++ b/config/routes.rb</span>
<span class="gu">@@ -1,9 +1,6 @@</span>
<span class="w"> </span># == Route Map
<span class="w"> </span>#
<span class="w"> </span>#                          Prefix Verb   URI Pattern                                          Controller#Action
<span class="gd">-#         customer_entries_create GET    /customer/entries/create(.:format)                   customer/entries#create</span>
<span class="gd">-#         customer_programs_index GET    /customer/programs/index(.:format)                   customer/programs#index</span>
<span class="gd">-#          customer_programs_show GET    /customer/programs/show(.:format)                    customer/programs#show</span>
<span class="w"> </span>#                      staff_root GET    /staff(.:format)                                     staff/top#index {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                     staff_login GET    /staff/login(.:format)                               staff/sessions#new {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                   staff_session DELETE /staff/session(.:format)                             staff/sessions#destroy {:host=&gt;&quot;0.0.0.0&quot;}
<span class="gu">@@ -71,18 +68,6 @@</span>
<span class="w"> </span>#

<span class="w"> </span>Rails.application.routes.draw do
<span class="gd">-  namespace :customer do</span>
<span class="gd">-    get &#39;entries/create&#39;</span>
<span class="gd">-  end</span>
<span class="gd">-</span>
<span class="gd">-  namespace :customer do</span>
<span class="gd">-    get &#39;programs/index&#39;</span>
<span class="gd">-  end</span>
<span class="gd">-</span>
<span class="gd">-  namespace :customer do</span>
<span class="gd">-    get &#39;programs/show&#39;</span>
<span class="gd">-  end</span>
<span class="gd">-</span>
<span class="w"> </span>  config = Rails.application.config.baukis_kai

<span class="w"> </span>  concern :session_path do
</code></pre></div>
<h2 id="47a8374">コミット: 47a8374<a class="headerlink" href="#47a8374" title="Permanent link">&para;</a></h2>
<h3 id="_19">メッセージ<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>Capybaraによるテスト #24
</code></pre></div>
<h3 id="_20">変更されたファイル<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>A spec/features/customer/account_management_spec.rb</li>
<li>M spec/support/features_spec_helper.rb</li>
</ul>
<h3 id="_21">変更内容<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 47a83749a8df70eafa3f2c1067907c95d1b10058
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 17:51:38 2017 +0900

<span class="w"> </span>   Capybaraによるテスト #24

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index ff398fd..a80e7e8 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -721,6 +721,7 @@ git push heroku master</span>
<span class="w"> </span>+ 確認画面の本実装
<span class="w"> </span>+ CoffeeScriptの修正
<span class="w"> </span>+ 訂正ボタン
<span class="gi">++ Capybaraによるテスト</span>

<span class="w"> </span>#### 演習問題

<span class="gh">diff --git a/spec/features/customer/account_management_spec.rb b/spec/features/customer/account_management_spec.rb</span>
new file mode 100644
<span class="gh">index 0000000..f497df1</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/spec/features/customer/account_management_spec.rb</span>
<span class="gu">@@ -0,0 +1,43 @@</span>
<span class="gi">+require &#39;rails_helper&#39;</span>
<span class="gi">+</span>
<span class="gi">+feature &#39;顧客によるアカウント管理&#39; do</span>
<span class="gi">+  include FeaturesSpecHelper</span>
<span class="gi">+  let(:customer) { create(:customer) }</span>
<span class="gi">+</span>
<span class="gi">+  before do</span>
<span class="gi">+    switch_namespace(:customer)</span>
<span class="gi">+    login_as_customer(customer)</span>
<span class="gi">+    click_link I18n.t(&#39;customer.shared.header.account&#39;)</span>
<span class="gi">+    click_link I18n.t(&#39;customer.accounts.show.edit&#39;)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;顧客が基本情報、自宅住所、勤務先を更新する&#39; do</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.customer.birthday&#39;), with: &#39;1980-04-01&#39;</span>
<span class="gi">+    within(&#39;fieldset#home-address-fields&#39;) do</span>
<span class="gi">+      fill_in I18n.t(&#39;activerecord.attributes.home_address.postal_code&#39;), with: &#39;9999999&#39;</span>
<span class="gi">+    end</span>
<span class="gi">+    click_button I18n.t(&#39;customer.accounts.edit.confirm&#39;)</span>
<span class="gi">+    click_button I18n.t(&#39;customer.accounts.confirm.correct&#39;)</span>
<span class="gi">+    within(&#39;fieldset#work-address-fields&#39;) do</span>
<span class="gi">+      fill_in I18n.t(&#39;activerecord.attributes.work_address.company_name&#39;), with: &#39;テスト&#39;</span>
<span class="gi">+    end</span>
<span class="gi">+    click_button I18n.t(&#39;customer.accounts.edit.confirm&#39;)</span>
<span class="gi">+    click_button I18n.t(&#39;customer.accounts.edit.update&#39;)</span>
<span class="gi">+</span>
<span class="gi">+    customer.reload</span>
<span class="gi">+    expect(customer.birthday).to eq(Date.new(1980,4,1))</span>
<span class="gi">+    expect(customer.home_address.postal_code).to eq(&#39;9999999&#39;)</span>
<span class="gi">+    expect(customer.work_address.company_name).to eq(&#39;テスト&#39;)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;顧客が生年月日と自宅の郵便番号に無効な値を入力する&#39; do</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.customer.birthday&#39;), with: &#39;2100-01-01&#39;</span>
<span class="gi">+    within(&#39;fieldset#home-address-fields&#39;) do</span>
<span class="gi">+      fill_in I18n.t(&#39;activerecord.attributes.home_address.postal_code&#39;), with: &#39;XYZ&#39;</span>
<span class="gi">+    end</span>
<span class="gi">+    click_button I18n.t(&#39;customer.accounts.edit.confirm&#39;)</span>
<span class="gi">+</span>
<span class="gi">+    expect(page).to have_css(&#39;header span.Flash__alert&#39;)</span>
<span class="gi">+    expect(page).to have_css(&#39;.has-error span.help-block&#39;)</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
\ No newline at end of file
<span class="gh">diff --git a/spec/support/features_spec_helper.rb b/spec/support/features_spec_helper.rb</span>
<span class="gh">index 54314d5..c17fb25 100644</span>
<span class="gd">--- a/spec/support/features_spec_helper.rb</span>
<span class="gi">+++ b/spec/support/features_spec_helper.rb</span>
<span class="gu">@@ -12,4 +12,13 @@ module FeaturesSpecHelper</span>
<span class="w"> </span>      click_button I18n.t(&#39;staff.sessions.new.submit&#39;)
<span class="w"> </span>    end
<span class="w"> </span>  end
<span class="gi">+</span>
<span class="gi">+  def login_as_customer(customer, password = &#39;pw&#39;)</span>
<span class="gi">+    visit customer_login_path</span>
<span class="gi">+    within(&#39;.Login--customer&#39;) do</span>
<span class="gi">+      fill_in I18n.t(&#39;activemodel.attributes.customer/login_form.email&#39;), with: customer.email</span>
<span class="gi">+      fill_in I18n.t(&#39;activemodel.attributes.customer/login_form.password&#39;), with: password</span>
<span class="gi">+      click_button I18n.t(&#39;customer.sessions.new.submit&#39;)</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="w"> </span>end
\ No newline at end of file
</code></pre></div>
<h2 id="6fbc436">コミット: 6fbc436<a class="headerlink" href="#6fbc436" title="Permanent link">&para;</a></h2>
<h3 id="_22">メッセージ<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>訂正ボタン #24
</code></pre></div>
<h3 id="_23">変更されたファイル<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M app/controllers/customer/accounts_controller.rb</li>
<li>M app/forms/customer/account_form.rb</li>
</ul>
<h3 id="_24">変更内容<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 6fbc436b4b27d691d44421dadc29413a13534433
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 17:00:29 2017 +0900

<span class="w"> </span>   訂正ボタン #24

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index bb54ab8..ff398fd 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -720,6 +720,7 @@ git push heroku master</span>
<span class="w"> </span>+ 確認画面用プレゼンターの作成
<span class="w"> </span>+ 確認画面の本実装
<span class="w"> </span>+ CoffeeScriptの修正
<span class="gi">++ 訂正ボタン</span>

<span class="w"> </span>#### 演習問題

<span class="gh">diff --git a/app/controllers/customer/accounts_controller.rb b/app/controllers/customer/accounts_controller.rb</span>
<span class="gh">index e9dc219..9e383c7 100644</span>
<span class="gd">--- a/app/controllers/customer/accounts_controller.rb</span>
<span class="gi">+++ b/app/controllers/customer/accounts_controller.rb</span>
<span class="gu">@@ -10,11 +10,15 @@ class Customer::AccountsController &lt; Customer::Base</span>
<span class="w"> </span>  def update
<span class="w"> </span>    @customer_form = Customer::AccountForm.new(current_customer)
<span class="w"> </span>    @customer_form.assign_attributes(params[:form])
<span class="gd">-    if @customer_form.save</span>
<span class="gd">-      flash.notice = t(&#39;.flash_notice&#39;)</span>
<span class="gd">-      redirect_to :staff_account</span>
<span class="gi">+    if params[:commit]</span>
<span class="gi">+      if @customer_form.save</span>
<span class="gi">+        flash.notice = t(&#39;.flash_notice&#39;)</span>
<span class="gi">+        redirect_to :staff_account</span>
<span class="gi">+      else</span>
<span class="gi">+        flash.now.alert = t(&#39;.flash_alert&#39;)</span>
<span class="gi">+        render action: &#39;edit&#39;</span>
<span class="gi">+      end</span>
<span class="w"> </span>    else
<span class="gd">-      flash.now.alert = t(&#39;.flash_alert&#39;)</span>
<span class="w"> </span>      render action: &#39;edit&#39;
<span class="w"> </span>    end
<span class="w"> </span>  end
<span class="gh">diff --git a/app/forms/customer/account_form.rb b/app/forms/customer/account_form.rb</span>
<span class="gh">index 6aed1f5..23a98e1 100644</span>
<span class="gd">--- a/app/forms/customer/account_form.rb</span>
<span class="gi">+++ b/app/forms/customer/account_form.rb</span>
<span class="gu">@@ -23,8 +23,8 @@ class Customer::AccountForm</span>

<span class="w"> </span>  def assign_attributes(params = {})
<span class="w"> </span>    @params = params
<span class="gd">-    self.inputs_home_address = params[:inputs_home_address] == &#39;1&#39;</span>
<span class="gd">-    self.inputs_work_address = params[:inputs_work_address] == &#39;1&#39;</span>
<span class="gi">+    self.inputs_home_address = params[:inputs_home_address].in? [ &#39;1&#39;, &#39;true&#39;]</span>
<span class="gi">+    self.inputs_work_address = params[:inputs_work_address].in? [ &#39;1&#39;, &#39;true&#39;]</span>

<span class="w"> </span>    customer.assign_attributes(customer_params)
</code></pre></div>
<h3 id="_25">構造変更<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgMjU3IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjkxNDEiIHg9IjUiIHk9IjE2LjEzODciPldlbGNvbWUgdG8gUGxhbnRVTUwhPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMzAuMTA3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ny4xMDc0IiB4PSI1IiB5PSI0NC4wNzYyIj5Zb3UgY2FuIHN0YXJ0IHdpdGggYSBzaW1wbGUgVU1MIERpYWdyYW0gbGlrZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI1OC4wNDQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE4NCIgeD0iNSIgeT0iNzIuMDEzNyI+Qm9iLSZndDtBbGljZTomIzE2MDtIZWxsbzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9Ijg1Ljk4MjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNC4zNzg5IiB4PSI1IiB5PSI5OS45NTEyIj5PcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjExMy45MTk5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My45MTk5IiB4PSI1IiB5PSIxMjcuODg4NyI+Y2xhc3MmIzE2MDtFeGFtcGxlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTQxLjg1NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDEuOTUzMSIgeD0iNSIgeT0iMTU1LjgyNjIiPllvdSB3aWxsIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBQbGFudFVNTCBzeW50YXggb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyNS43MDEyIiB4PSIzNTAuNzY3NiIgeT0iMTU1LjgyNjIiPmh0dHBzOi8vcGxhbnR1bWwuY29tPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTY5Ljc5NDkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNjExMyIgeD0iNSIgeT0iMTgzLjc2MzciPihEZXRhaWxzIGJ5IHR5cGluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU3MjMiIHg9IjExNS40MjU4IiB5PSIxODMuNzYzNyI+bGljZW5zZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS44MjIzIiB4PSIxNjkuODEyNSIgeT0iMTgzLjc2MzciPmtleXdvcmQpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTk3LjczMjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjIxMS43MDEyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIyMjUuNjY5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMjM5LjYzODciPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjI1My42MDc0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA2LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSIxODUuNDM3NSIvPjwhLS1TUkM9W0tyVHV0M1p2U1VFd25xc1I3cFZGVnpwU19CWXZ1dDdad2lURDdPLVJrZnlqeHR4UGlFM2ZhaXZkaXhTeVJmaHFPazZBbnVxcDdwU3RGNnZReWhYZnFVRWMzTy1STHB2a05XMkswWGkySEFqVnhEX3hqNmwxdXlSZlpua05GTXhpVnptOFA0enp0RFoyZlF4bVA1LXQ1UDFBcGFhaUJiUm1Jb3J0MVo3VzBndUxjU0tiY05kZkM1Nk8wV0xUTkpqS0lHMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="8d64ce4">コミット: 8d64ce4<a class="headerlink" href="#8d64ce4" title="Permanent link">&para;</a></h2>
<h3 id="_26">メッセージ<a class="headerlink" href="#_26" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>CoffeeScriptの修正 #24
</code></pre></div>
<h3 id="_27">変更されたファイル<a class="headerlink" href="#_27" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M app/assets/javascripts/customer/account_form.coffee</li>
<li>M app/assets/stylesheets/components/_appForm.scss</li>
<li>M app/views/customer/accounts/confirm.html.erb</li>
</ul>
<h3 id="_28">変更内容<a class="headerlink" href="#_28" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 8d64ce429cd7e24ddd31e49104c517b814ae4521
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 16:52:48 2017 +0900

<span class="w"> </span>   CoffeeScriptの修正 #24

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index d8a8cde..bb54ab8 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -719,6 +719,7 @@ git push heroku master</span>
<span class="w"> </span>+ 確認画面の仮実装
<span class="w"> </span>+ 確認画面用プレゼンターの作成
<span class="w"> </span>+ 確認画面の本実装
<span class="gi">++ CoffeeScriptの修正</span>

<span class="w"> </span>#### 演習問題

<span class="gh">diff --git a/app/assets/javascripts/customer/account_form.coffee b/app/assets/javascripts/customer/account_form.coffee</span>
<span class="gh">index 0db2be2..2e5cac4 100644</span>
<span class="gd">--- a/app/assets/javascripts/customer/account_form.coffee</span>
<span class="gi">+++ b/app/assets/javascripts/customer/account_form.coffee</span>
<span class="gu">@@ -17,11 +17,13 @@ class AccountForm</span>
<span class="w"> </span>    toggleWorkAddressFields()

<span class="w"> </span>  toggleHomeAddressFields = -&gt;
<span class="gi">+    return if $(&#39;.AppForm--isConfirmed&#39;).length</span>
<span class="w"> </span>    checked = $(&#39;input#form_inputs_home_address&#39;).prop(&#39;checked&#39;)
<span class="w"> </span>    $(&#39;fieldset#home-address-fields input&#39;).prop(&#39;disabled&#39;, !checked)
<span class="w"> </span>    $(&#39;fieldset#home-address-fields select&#39;).prop(&#39;disabled&#39;, !checked)
<span class="w"> </span>    $(&#39;fieldset#home-address-fields&#39;).toggle(checked)
<span class="w"> </span>  toggleWorkAddressFields = -&gt;
<span class="gi">+    return if $(&#39;.AppForm--isConfirmed&#39;).length</span>
<span class="w"> </span>    checked = $(&#39;input#form_inputs_work_address&#39;).prop(&#39;checked&#39;)
<span class="w"> </span>    $(&#39;fieldset#work-address-fields input&#39;).prop(&#39;disabled&#39;, !checked)
<span class="w"> </span>    $(&#39;fieldset#work-address-fields select&#39;).prop(&#39;disabled&#39;, !checked)
<span class="gh">diff --git a/app/assets/stylesheets/components/_appForm.scss b/app/assets/stylesheets/components/_appForm.scss</span>
<span class="gh">index ae48fe4..0c5ecf2 100644</span>
<span class="gd">--- a/app/assets/stylesheets/components/_appForm.scss</span>
<span class="gi">+++ b/app/assets/stylesheets/components/_appForm.scss</span>
<span class="gu">@@ -63,4 +63,5 @@</span>
<span class="w"> </span>  &amp;--field-value { margin-left: $wide; font-weight: bold;}
<span class="w"> </span>  &amp;--readonly { color: $dark_gray; }
<span class="w"> </span>  &amp;--field-value { font-weight: bold; }
<span class="gi">+  &amp;--isConfirmed {}</span>
<span class="w"> </span>}
\ No newline at end of file
<span class="gh">diff --git a/app/views/customer/accounts/confirm.html.erb b/app/views/customer/accounts/confirm.html.erb</span>
<span class="gh">index 64ce9a4..743918e 100644</span>
<span class="gd">--- a/app/views/customer/accounts/confirm.html.erb</span>
<span class="gi">+++ b/app/views/customer/accounts/confirm.html.erb</span>
<span class="gu">@@ -4,7 +4,7 @@</span>
<span class="w"> </span>&lt;/section&gt;

<span class="w"> </span>&lt;section class=&quot;Section l-column AppForm&quot;&gt;
<span class="gd">-  &lt;div class=&quot;AppForm__generic-form CustomerAppForm__generic-form AppForm__customer-form&quot;&gt;</span>
<span class="gi">+  &lt;div class=&quot;AppForm__generic-form CustomerAppForm__generic-form AppForm__customer-form AppForm--isConfirmed&quot;&gt;</span>
<span class="w"> </span>    &lt;%= bootstrap_form_for @customer_form, as: &#39;form&#39;, url: :customer_account do |f| %&gt;
<span class="w"> </span>        &lt;p&gt;&lt;%= t(&#39;.confirm_message&#39;)%&gt;&lt;/p&gt;
<span class="w"> </span>        &lt;%= render &#39;confirming_form&#39;, f: f %&gt;
</code></pre></div>
<h2 id="dbe81c9">コミット: dbe81c9<a class="headerlink" href="#dbe81c9" title="Permanent link">&para;</a></h2>
<h3 id="_29">メッセージ<a class="headerlink" href="#_29" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>確認画面の本実装 #24
</code></pre></div>
<h3 id="_30">変更されたファイル<a class="headerlink" href="#_30" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M app/assets/javascripts/customer/account_form.coffee</li>
<li>M app/assets/stylesheets/components/_appForm.scss</li>
<li>M app/presenters/confirming_form_presenter.rb</li>
<li>M app/presenters/confirming_user_form_presenter.rb</li>
<li>M app/presenters/customer/confirming_address_form_presenter.rb</li>
<li>M app/presenters/customer/confirming_customer_form_presenter.rb</li>
<li>A app/views/customer/accounts/_confirming_form.html.erb</li>
<li>A app/views/customer/accounts/_confirming_phone_fields.html.erb</li>
<li>M app/views/customer/accounts/_customer_fields.html.erb</li>
<li>M app/views/customer/accounts/_form.html.erb</li>
<li>M app/views/customer/accounts/_home_address_fields.html.erb</li>
<li>M app/views/customer/accounts/_work_address_fields.html.erb</li>
<li>M app/views/customer/accounts/confirm.html.erb</li>
</ul>
<h3 id="_31">変更内容<a class="headerlink" href="#_31" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit dbe81c982dee60110305308051be0d38f6370050
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 16:37:22 2017 +0900

<span class="w"> </span>   確認画面の本実装 #24

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index 269c058..d8a8cde 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -718,6 +718,7 @@ git push heroku master</span>
<span class="w"> </span>+ 編集フォームの修正
<span class="w"> </span>+ 確認画面の仮実装
<span class="w"> </span>+ 確認画面用プレゼンターの作成
<span class="gi">++ 確認画面の本実装</span>

<span class="w"> </span>#### 演習問題

<span class="gh">diff --git a/app/assets/javascripts/customer/account_form.coffee b/app/assets/javascripts/customer/account_form.coffee</span>
<span class="gh">index 3db60a7..0db2be2 100644</span>
<span class="gd">--- a/app/assets/javascripts/customer/account_form.coffee</span>
<span class="gi">+++ b/app/assets/javascripts/customer/account_form.coffee</span>
<span class="gu">@@ -4,6 +4,8 @@ $(document).on &quot;turbolinks:load&quot;, -&gt;</span>

<span class="w"> </span>class AccountForm
<span class="w"> </span>  constructor: -&gt;
<span class="gi">+    toggleHomeAddressFields()</span>
<span class="gi">+    toggleWorkAddressFields()</span>
<span class="w"> </span>    $(&#39;.AppForm__customer-form input#form_inputs_home_address&#39;).on
<span class="w"> </span>      &#39;click&#39; : handleHomeAddressFields
<span class="w"> </span>    $(&#39;.AppForm__customer-form input#form_inputs_work_address&#39;).on
<span class="gh">diff --git a/app/assets/stylesheets/components/_appForm.scss b/app/assets/stylesheets/components/_appForm.scss</span>
<span class="gh">index 420d4b5..ae48fe4 100644</span>
<span class="gd">--- a/app/assets/stylesheets/components/_appForm.scss</span>
<span class="gi">+++ b/app/assets/stylesheets/components/_appForm.scss</span>
<span class="gu">@@ -60,4 +60,7 @@</span>
<span class="w"> </span>    label { color: $red }
<span class="w"> </span>    input, select { background-color: $pink }
<span class="w"> </span>  }
<span class="gi">+  &amp;--field-value { margin-left: $wide; font-weight: bold;}</span>
<span class="gi">+  &amp;--readonly { color: $dark_gray; }</span>
<span class="gi">+  &amp;--field-value { font-weight: bold; }</span>
<span class="w"> </span>}
\ No newline at end of file
<span class="gh">diff --git a/app/presenters/confirming_form_presenter.rb b/app/presenters/confirming_form_presenter.rb</span>
<span class="gh">index 8fc536d..8811aaf 100644</span>
<span class="gd">--- a/app/presenters/confirming_form_presenter.rb</span>
<span class="gi">+++ b/app/presenters/confirming_form_presenter.rb</span>
<span class="gu">@@ -2,7 +2,7 @@ class ConfirmingFormPresenter</span>
<span class="w"> </span>  include HtmlBuilder

<span class="w"> </span>  attr_reader :form_builder, :view_context
<span class="gd">-  delegate :lable, :hidden_field, :object, to: :form_builder</span>
<span class="gi">+  delegate :label, :hidden_field, :object, to: :form_builder</span>

<span class="w"> </span>  def initialize(form_builder, view_context)
<span class="w"> </span>    @form_builder = form_builder
<span class="gu">@@ -13,9 +13,9 @@ class ConfirmingFormPresenter</span>
<span class="w"> </span>    markup(:div) do |m|
<span class="w"> </span>      m &lt;&lt; decorated_label(name, label_text, options)
<span class="w"> </span>      if options[:disabled]
<span class="gd">-        m.div(object.send(name), class: &#39;field-value readonly&#39;)</span>
<span class="gi">+        m.div(object.send(name), class: &#39;AppForm--field-value AppForm--readonly&#39;)</span>
<span class="w"> </span>      else
<span class="gd">-        m.div(object.send(name), class: &#39;field-value&#39;)</span>
<span class="gi">+        m.div(object.send(name), class: &#39;AppForm--field-value&#39;)</span>
<span class="w"> </span>        m &lt;&lt; hidden_field(name, options)
<span class="w"> </span>      end
<span class="w"> </span>    end
<span class="gu">@@ -24,7 +24,7 @@ class ConfirmingFormPresenter</span>
<span class="w"> </span>  def drop_down_list_block(name, label_text, choices, options = {})
<span class="w"> </span>    markup(:div, class: &#39;AppForm__input-block&#39;) do |m|
<span class="w"> </span>      m &lt;&lt; decorated_label(name, label_text, options)
<span class="gd">-      m.div(object.send(name), class: &#39;field-value&#39;)</span>
<span class="gi">+      m.div(object.send(name), class: &#39;AppForm--field-value&#39;)</span>
<span class="w"> </span>      m &lt;&lt; hidden_field(name, options)
<span class="w"> </span>    end
<span class="w"> </span>  end
<span class="gh">diff --git a/app/presenters/confirming_user_form_presenter.rb b/app/presenters/confirming_user_form_presenter.rb</span>
<span class="gh">index 942ef51..5ff1923 100644</span>
<span class="gd">--- a/app/presenters/confirming_user_form_presenter.rb</span>
<span class="gi">+++ b/app/presenters/confirming_user_form_presenter.rb</span>
<span class="gu">@@ -2,7 +2,7 @@ class ConfirmingUserFormPresenter &lt; ConfirmingFormPresenter</span>
<span class="w"> </span>  def full_name_block(name1, name2, label_text, options = {})
<span class="w"> </span>    markup(:div, class: &#39;AppForm__input-block&#39;) do |m|
<span class="w"> </span>      m &lt;&lt; decorated_label(name1, label_text, options)
<span class="gd">-      m.div(object.send(name1) + &#39; &#39; + object.send(name2), class: &#39;field-value&#39;)</span>
<span class="gi">+      m.div(object.send(name1) + &#39; &#39; + object.send(name2), class: &#39;AppForm--field-value&#39;)</span>
<span class="w"> </span>      m &lt;&lt; hidden_field(name1)
<span class="w"> </span>      m &lt;&lt; hidden_field(name2)
<span class="w"> </span>    end
<span class="gh">diff --git a/app/presenters/customer/confirming_address_form_presenter.rb b/app/presenters/customer/confirming_address_form_presenter.rb</span>
<span class="gh">index 5693127..8cda7e5 100644</span>
<span class="gd">--- a/app/presenters/customer/confirming_address_form_presenter.rb</span>
<span class="gi">+++ b/app/presenters/customer/confirming_address_form_presenter.rb</span>
<span class="gu">@@ -2,7 +2,7 @@ class Customer::ConfirmingAddressFormPresenter &lt; ConfirmingFormPresenter</span>
<span class="w"> </span>  def postal_code_block(name, label_text, options)
<span class="w"> </span>    markup(:div, class: &#39;AppForm__input-block&#39;) do |m|
<span class="w"> </span>      m &lt;&lt; decorated_label(name, label_text, options)
<span class="gd">-      m.div(object.send(name), class: &#39;field-value&#39;)</span>
<span class="gi">+      m.div(object.send(name), class: &#39;AppForm--field-value&#39;)</span>
<span class="w"> </span>      m &lt;&lt; hidden_field(name, options)
<span class="w"> </span>    end
<span class="w"> </span>  end
<span class="gh">diff --git a/app/presenters/customer/confirming_customer_form_presenter.rb b/app/presenters/customer/confirming_customer_form_presenter.rb</span>
<span class="gh">index d96f350..a35590c 100644</span>
<span class="gd">--- a/app/presenters/customer/confirming_customer_form_presenter.rb</span>
<span class="gi">+++ b/app/presenters/customer/confirming_customer_form_presenter.rb</span>
<span class="gu">@@ -2,7 +2,7 @@ class Customer::ConfirmingCustomerFormPresenter &lt; ConfirmingUserFormPresenter</span>
<span class="w"> </span>  def birthday_field_block(name, label_text, options = {})
<span class="w"> </span>    markup(:div, class: &#39;AppForm__input-block&#39;) do |m|
<span class="w"> </span>      m &lt;&lt; decorated_label(name, label_text, options)
<span class="gd">-      m.div(object.send(name), class: &#39;field-value&#39;)</span>
<span class="gi">+      m.div(object.send(name), class: &#39;AppForm--field-value&#39;)</span>
<span class="w"> </span>      m &lt;&lt; hidden_field(name)
<span class="w"> </span>    end
<span class="w"> </span>  end
<span class="gu">@@ -10,8 +10,8 @@ class Customer::ConfirmingCustomerFormPresenter &lt; ConfirmingUserFormPresenter</span>
<span class="w"> </span>  def gender_field_block
<span class="w"> </span>    markup(:div, class: &#39;AppForm__input-block&#39;) do |m|
<span class="w"> </span>      m &lt;&lt; decorated_label(:gender, &#39;性別&#39;)
<span class="gd">-      m.div(object.gender == &#39;male&#39; ? &#39;男性&#39; : &#39;女性&#39;, class: &#39;field-value&#39;)</span>
<span class="gd">-      m &lt;&lt; hidden_field</span>
<span class="gi">+      m.div(object.gender == &#39;male&#39; ? &#39;男性&#39; : &#39;女性&#39;, class: &#39;AppForm--field-value&#39;)</span>
<span class="gi">+      m &lt;&lt; hidden_field(:gender)</span>
<span class="w"> </span>    end
<span class="w"> </span>  end
<span class="w"> </span>end
\ No newline at end of file
<span class="gh">diff --git a/app/views/customer/accounts/_confirming_form.html.erb b/app/views/customer/accounts/_confirming_form.html.erb</span>
new file mode 100644
<span class="gh">index 0000000..650862f</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/views/customer/accounts/_confirming_form.html.erb</span>
<span class="gu">@@ -0,0 +1,22 @@</span>
<span class="gi">+&lt;fieldset id=&quot;customer-fields&quot;&gt;</span>
<span class="gi">+  &lt;legend&gt;&lt;%= t(&#39;staff.customers.new.basic_info&#39;) %&gt;&lt;/legend&gt;</span>
<span class="gi">+  &lt;%= render &#39;customer_fields&#39;, f: f, confirming: true %&gt;</span>
<span class="gi">+&lt;/fieldset&gt;</span>
<span class="gi">+&lt;% if f.object.inputs_home_address %&gt;</span>
<span class="gi">+    &lt;div&gt;</span>
<span class="gi">+      &lt;%= f.hidden_field :inputs_home_address %&gt;</span>
<span class="gi">+    &lt;/div&gt;</span>
<span class="gi">+    &lt;fieldset id=&quot;home-address-fields&quot;&gt;</span>
<span class="gi">+      &lt;legend&gt;&lt;%= t(&#39;staff.customers.new.home_address&#39;) %&gt;&lt;/legend&gt;</span>
<span class="gi">+      &lt;%= render &#39;home_address_fields&#39;, f: f, confirming: true %&gt;</span>
<span class="gi">+    &lt;/fieldset&gt;</span>
<span class="gi">+&lt;% end %&gt;</span>
<span class="gi">+&lt;% if f.object.inputs_work_address %&gt;</span>
<span class="gi">+    &lt;div&gt;</span>
<span class="gi">+      &lt;%= f.hidden_field :inputs_work_address %&gt;</span>
<span class="gi">+    &lt;/div&gt;</span>
<span class="gi">+    &lt;fieldset id=&quot;work-address-fields&quot;&gt;</span>
<span class="gi">+      &lt;legend&gt;&lt;%= t(&#39;staff.customers.new.work_address&#39;) %&gt;&lt;/legend&gt;</span>
<span class="gi">+      &lt;%= render &#39;work_address_fields&#39;, f: f, confirming: true %&gt;</span>
<span class="gi">+    &lt;/fieldset&gt;</span>
<span class="gi">+&lt;% end %&gt;</span>
\ No newline at end of file
<span class="gh">diff --git a/app/views/customer/accounts/_confirming_phone_fields.html.erb b/app/views/customer/accounts/_confirming_phone_fields.html.erb</span>
new file mode 100644
<span class="gh">index 0000000..16c63b9</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/views/customer/accounts/_confirming_phone_fields.html.erb</span>
<span class="gu">@@ -0,0 +1,9 @@</span>
<span class="gi">+&lt;%= f.fields_for :phones, phone, index: index do |ff| %&gt;</span>
<span class="gi">+&lt;%= markup(:li) do |m|</span>
<span class="gi">+  text = ff.object.number</span>
<span class="gi">+  text += &#39;(優先)&#39; if ff.object.primary?</span>
<span class="gi">+  m.span(text, class: &#39;field-value&#39;)</span>
<span class="gi">+  m &lt;&lt; ff.hidden_field(:number)</span>
<span class="gi">+  m &lt;&lt; ff.hidden_field(:primary)</span>
<span class="gi">+  end %&gt;</span>
<span class="gi">+&lt;% end %&gt;</span>
\ No newline at end of file
<span class="gh">diff --git a/app/views/customer/accounts/_customer_fields.html.erb b/app/views/customer/accounts/_customer_fields.html.erb</span>
<span class="gh">index 24ceba4..add1296 100644</span>
<span class="gd">--- a/app/views/customer/accounts/_customer_fields.html.erb</span>
<span class="gi">+++ b/app/views/customer/accounts/_customer_fields.html.erb</span>
<span class="gu">@@ -1,6 +1,6 @@</span>
<span class="w"> </span>&lt;%= f.fields_for :customer, f.object.customer do |ff| %&gt;
<span class="w"> </span>&lt;%= markup do |m|
<span class="gd">-  p = Staff::CustomerFormPresenter.new(ff,self)</span>
<span class="gi">+  p = confirming ? Customer::ConfirmingCustomerFormPresenter.new(ff, self) : Staff::CustomerFormPresenter.new(ff, self)</span>
<span class="w"> </span>  p.with_options(required: true) do |q|
<span class="w"> </span>    m &lt;&lt; q.text_field_block(:email, t(&#39;activerecord.attributes.customer.email&#39;), size: 32)
<span class="w"> </span>    m &lt;&lt; q.full_name_block(:family_name, :given_name, t(&#39;activerecord.attributes.customer.full_name&#39;))
<span class="gu">@@ -11,7 +11,11 @@</span>
<span class="w"> </span>  m.div(class: &#39;AppForm__input-block&#39;) do
<span class="w"> </span>    m.ol do
<span class="w"> </span>      p.object.personal_phones.each_with_index do |phone, index|
<span class="gd">-        m &lt;&lt; render(&#39;phone_fields&#39;, f: ff, phone: phone, index: index)</span>
<span class="gi">+        if confirming</span>
<span class="gi">+          m &lt;&lt; render(&#39;confirming_phone_fields&#39;, f: ff, phone: phone, index: index)</span>
<span class="gi">+        else</span>
<span class="gi">+          m &lt;&lt; render(&#39;phone_fields&#39;, f: ff, phone: phone, index: index)</span>
<span class="gi">+        end</span>
<span class="w"> </span>      end
<span class="w"> </span>    end
<span class="w"> </span>  end
<span class="gh">diff --git a/app/views/customer/accounts/_form.html.erb b/app/views/customer/accounts/_form.html.erb</span>
<span class="gh">index 80eb496..a6b0f9d 100644</span>
<span class="gd">--- a/app/views/customer/accounts/_form.html.erb</span>
<span class="gi">+++ b/app/views/customer/accounts/_form.html.erb</span>
<span class="gu">@@ -1,19 +1,19 @@</span>
<span class="w"> </span>&lt;%= FormPresenter.new(f,self).notes %&gt;
<span class="w"> </span>&lt;fieldset id=&quot;customer-fields&quot;&gt;
<span class="w"> </span>  &lt;legend&gt;&lt;%= t(&#39;staff.customers.new.basic_info&#39;) %&gt;&lt;/legend&gt;
<span class="gd">-  &lt;%= render &#39;customer_fields&#39;, f: f %&gt;</span>
<span class="gi">+  &lt;%= render &#39;customer_fields&#39;, f: f, confirming: false %&gt;</span>
<span class="w"> </span>&lt;/fieldset&gt;
<span class="w"> </span>&lt;div&gt;
<span class="w"> </span>  &lt;%= f.check_box :inputs_home_address, label: t(&#39;staff.customers.new.home_address_inputs&#39;)  %&gt;
<span class="w"> </span>&lt;/div&gt;
<span class="w"> </span>&lt;fieldset id=&quot;home-address-fields&quot;&gt;
<span class="w"> </span>  &lt;legend&gt;&lt;%= t(&#39;staff.customers.new.home_address&#39;) %&gt;&lt;/legend&gt;
<span class="gd">-  &lt;%= render &#39;home_address_fields&#39;, f: f %&gt;</span>
<span class="gi">+  &lt;%= render &#39;home_address_fields&#39;, f: f, confirming: false %&gt;</span>
<span class="w"> </span>&lt;/fieldset&gt;
<span class="w"> </span>&lt;div&gt;
<span class="w"> </span>  &lt;%= f.check_box :inputs_work_address, label: t(&#39;staff.customers.new.work_address_inputs&#39;) %&gt;
<span class="w"> </span>&lt;/div&gt;
<span class="w"> </span>&lt;fieldset id=&quot;work-address-fields&quot;&gt;
<span class="w"> </span>  &lt;legend&gt;&lt;%= t(&#39;staff.customers.new.work_address&#39;) %&gt;&lt;/legend&gt;
<span class="gd">-  &lt;%= render &#39;work_address_fields&#39;, f: f %&gt;</span>
<span class="gi">+  &lt;%= render &#39;work_address_fields&#39;, f: f, confirming: false %&gt;</span>
<span class="w"> </span>&lt;/fieldset&gt;
<span class="gh">diff --git a/app/views/customer/accounts/_home_address_fields.html.erb b/app/views/customer/accounts/_home_address_fields.html.erb</span>
<span class="gh">index 23aa061..2776012 100644</span>
<span class="gd">--- a/app/views/customer/accounts/_home_address_fields.html.erb</span>
<span class="gi">+++ b/app/views/customer/accounts/_home_address_fields.html.erb</span>
<span class="gu">@@ -1,6 +1,6 @@</span>
<span class="w"> </span>&lt;%= f.fields_for :home_address, f.object.customer.home_address do |ff| %&gt;
<span class="w"> </span>&lt;%= markup do |m|
<span class="gd">-  p = Staff::AddressFormPresenter.new(ff,self)</span>
<span class="gi">+  p = confirming ? Customer::ConfirmingAddressFormPresenter.new(ff, self) : Staff::AddressFormPresenter.new(ff, self)</span>
<span class="w"> </span>  p.with_options(required: true) do |q|
<span class="w"> </span>    m &lt;&lt; q.postal_code_block(:postal_code, t(&#39;activerecord.attributes.home_address.postal_code&#39;), size: 7)
<span class="w"> </span>    m &lt;&lt; q.drop_down_list_block(:prefecture, t(&#39;activerecord.attributes.home_address.prefecture&#39;),Address::PREFECTURE_NAMES)
<span class="gu">@@ -11,9 +11,13 @@</span>
<span class="w"> </span>  m.div(class: &#39;FormApp__input-block&#39;) do
<span class="w"> </span>    m.ol do
<span class="w"> </span>      p.object.phones.each_with_index do |phone, index|
<span class="gd">-        m &lt;&lt; render(&#39;phone_fields&#39;, f: ff, phone: phone, index: index)</span>
<span class="gi">+        if confirming</span>
<span class="gi">+          m &lt;&lt; render(&#39;confirming_phone_fields&#39;, f: ff, phone: phone, index: index)</span>
<span class="gi">+        else</span>
<span class="gi">+          m &lt;&lt; render(&#39;phone_fields&#39;, f: ff, phone: phone, index: index)</span>
<span class="w"> </span>        end
<span class="w"> </span>      end
<span class="w"> </span>    end
<span class="gi">+  end</span>
<span class="w"> </span>end %&gt;
<span class="w"> </span>&lt;% end %&gt;
<span class="gh">diff --git a/app/views/customer/accounts/_work_address_fields.html.erb b/app/views/customer/accounts/_work_address_fields.html.erb</span>
<span class="gh">index b9e6cd3..d34f93e 100644</span>
<span class="gd">--- a/app/views/customer/accounts/_work_address_fields.html.erb</span>
<span class="gi">+++ b/app/views/customer/accounts/_work_address_fields.html.erb</span>
<span class="gu">@@ -1,6 +1,6 @@</span>
<span class="w"> </span>&lt;%= f.fields_for :work_address, f.object.customer.work_address do |ff| %&gt;
<span class="w"> </span>    &lt;%= markup do |m|
<span class="gd">-      p = Staff::AddressFormPresenter.new(ff,self)</span>
<span class="gi">+      p = confirming ? Customer::ConfirmingAddressFormPresenter.new(ff, self) : Staff::AddressFormPresenter.new(ff,self)</span>
<span class="w"> </span>      m &lt;&lt; p.text_field_block(:company_name, t(&#39;activerecord.attributes.work_address.company_name&#39;), size: 40, required: true)
<span class="w"> </span>      m &lt;&lt; p.text_field_block(:division_name, t(&#39;activerecord.attributes.work_address.division_name&#39;), size: 40)
<span class="w"> </span>      m &lt;&lt; p.postal_code_block(:postal_code, t(&#39;activerecord.attributes.work_address.postal_code&#39;), size: 7)
<span class="gu">@@ -11,7 +11,11 @@</span>
<span class="w"> </span>      m.div(class: &#39;FormApp__input-block&#39;) do
<span class="w"> </span>        m.ol do
<span class="w"> </span>          p.object.phones.each_with_index do |phone, index|
<span class="gd">-            m &lt;&lt; render(&#39;phone_fields&#39;, f: ff, phone: phone, index: index)</span>
<span class="gi">+            if confirming</span>
<span class="gi">+              m &lt;&lt; render(&#39;confirming_phone_fields&#39;, f: ff, phone: phone, index: index)</span>
<span class="gi">+            else</span>
<span class="gi">+              m &lt;&lt; render(&#39;phone_fields&#39;, f: ff, phone: phone, index: index)</span>
<span class="gi">+            end</span>
<span class="w"> </span>          end
<span class="w"> </span>        end
<span class="w"> </span>      end
<span class="gh">diff --git a/app/views/customer/accounts/confirm.html.erb b/app/views/customer/accounts/confirm.html.erb</span>
<span class="gh">index 5b2c3d7..64ce9a4 100644</span>
<span class="gd">--- a/app/views/customer/accounts/confirm.html.erb</span>
<span class="gi">+++ b/app/views/customer/accounts/confirm.html.erb</span>
<span class="gu">@@ -1,3 +1,4 @@</span>
<span class="gi">+&lt;% @title = t(&#39;.title&#39;) %&gt;</span>
<span class="w"> </span>&lt;section class=&quot;Section&quot;&gt;
<span class="w"> </span>  &lt;h1 class=&quot;Customer__title&quot;&gt;&lt;%= @title %&gt;&lt;/h1&gt;
<span class="w"> </span>&lt;/section&gt;
<span class="gu">@@ -6,7 +7,7 @@</span>
<span class="w"> </span>  &lt;div class=&quot;AppForm__generic-form CustomerAppForm__generic-form AppForm__customer-form&quot;&gt;
<span class="w"> </span>    &lt;%= bootstrap_form_for @customer_form, as: &#39;form&#39;, url: :customer_account do |f| %&gt;
<span class="w"> </span>        &lt;p&gt;&lt;%= t(&#39;.confirm_message&#39;)%&gt;&lt;/p&gt;
<span class="gd">-        &lt;%= render &#39;form&#39;, f: f %&gt;</span>
<span class="gi">+        &lt;%= render &#39;confirming_form&#39;, f: f %&gt;</span>
<span class="w"> </span>        &lt;div class=&quot;AppForm__buttons&quot;&gt;
<span class="w"> </span>          &lt;%= f.submit t(&#39;.update&#39;),class: &#39;btn btn-default btn-lg&#39; %&gt;
<span class="w"> </span>          &lt;%= f.submit t(&#39;.correct&#39;), name: &#39;correct&#39;, class: &#39;btn btn-default btn-lg&#39; %&gt;
</code></pre></div>
<h2 id="7554c69">コミット: 7554c69<a class="headerlink" href="#7554c69" title="Permanent link">&para;</a></h2>
<h3 id="_32">メッセージ<a class="headerlink" href="#_32" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>確認画面用プレゼンターの作成 #24
</code></pre></div>
<h3 id="_33">変更されたファイル<a class="headerlink" href="#_33" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>A app/presenters/confirming_form_presenter.rb</li>
<li>A app/presenters/confirming_user_form_presenter.rb</li>
<li>A app/presenters/customer/confirming_address_form_presenter.rb</li>
<li>A app/presenters/customer/confirming_customer_form_presenter.rb</li>
</ul>
<h3 id="_34">変更内容<a class="headerlink" href="#_34" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 7554c69713ab8351afff65a8688452514484fbad
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 15:19:49 2017 +0900

<span class="w"> </span>   確認画面用プレゼンターの作成 #24

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index 6bde6a1..269c058 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -717,6 +717,7 @@ git push heroku master</span>
<span class="w"> </span>+ ルーティング
<span class="w"> </span>+ 編集フォームの修正
<span class="w"> </span>+ 確認画面の仮実装
<span class="gi">++ 確認画面用プレゼンターの作成</span>

<span class="w"> </span>#### 演習問題

<span class="gh">diff --git a/app/presenters/confirming_form_presenter.rb b/app/presenters/confirming_form_presenter.rb</span>
new file mode 100644
<span class="gh">index 0000000..8fc536d</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/presenters/confirming_form_presenter.rb</span>
<span class="gu">@@ -0,0 +1,35 @@</span>
<span class="gi">+class ConfirmingFormPresenter</span>
<span class="gi">+  include HtmlBuilder</span>
<span class="gi">+</span>
<span class="gi">+  attr_reader :form_builder, :view_context</span>
<span class="gi">+  delegate :lable, :hidden_field, :object, to: :form_builder</span>
<span class="gi">+</span>
<span class="gi">+  def initialize(form_builder, view_context)</span>
<span class="gi">+    @form_builder = form_builder</span>
<span class="gi">+    @view_context = view_context</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  def text_field_block(name, label_text, options = {})</span>
<span class="gi">+    markup(:div) do |m|</span>
<span class="gi">+      m &lt;&lt; decorated_label(name, label_text, options)</span>
<span class="gi">+      if options[:disabled]</span>
<span class="gi">+        m.div(object.send(name), class: &#39;field-value readonly&#39;)</span>
<span class="gi">+      else</span>
<span class="gi">+        m.div(object.send(name), class: &#39;field-value&#39;)</span>
<span class="gi">+        m &lt;&lt; hidden_field(name, options)</span>
<span class="gi">+      end</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  def drop_down_list_block(name, label_text, choices, options = {})</span>
<span class="gi">+    markup(:div, class: &#39;AppForm__input-block&#39;) do |m|</span>
<span class="gi">+      m &lt;&lt; decorated_label(name, label_text, options)</span>
<span class="gi">+      m.div(object.send(name), class: &#39;field-value&#39;)</span>
<span class="gi">+      m &lt;&lt; hidden_field(name, options)</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  def decorated_label(name, label_text, options = {})</span>
<span class="gi">+    label(name, label_text)</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
\ No newline at end of file
<span class="gh">diff --git a/app/presenters/confirming_user_form_presenter.rb b/app/presenters/confirming_user_form_presenter.rb</span>
new file mode 100644
<span class="gh">index 0000000..942ef51</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/presenters/confirming_user_form_presenter.rb</span>
<span class="gu">@@ -0,0 +1,10 @@</span>
<span class="gi">+class ConfirmingUserFormPresenter &lt; ConfirmingFormPresenter</span>
<span class="gi">+  def full_name_block(name1, name2, label_text, options = {})</span>
<span class="gi">+    markup(:div, class: &#39;AppForm__input-block&#39;) do |m|</span>
<span class="gi">+      m &lt;&lt; decorated_label(name1, label_text, options)</span>
<span class="gi">+      m.div(object.send(name1) + &#39; &#39; + object.send(name2), class: &#39;field-value&#39;)</span>
<span class="gi">+      m &lt;&lt; hidden_field(name1)</span>
<span class="gi">+      m &lt;&lt; hidden_field(name2)</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
\ No newline at end of file
<span class="gh">diff --git a/app/presenters/customer/confirming_address_form_presenter.rb b/app/presenters/customer/confirming_address_form_presenter.rb</span>
new file mode 100644
<span class="gh">index 0000000..5693127</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/presenters/customer/confirming_address_form_presenter.rb</span>
<span class="gu">@@ -0,0 +1,9 @@</span>
<span class="gi">+class Customer::ConfirmingAddressFormPresenter &lt; ConfirmingFormPresenter</span>
<span class="gi">+  def postal_code_block(name, label_text, options)</span>
<span class="gi">+    markup(:div, class: &#39;AppForm__input-block&#39;) do |m|</span>
<span class="gi">+      m &lt;&lt; decorated_label(name, label_text, options)</span>
<span class="gi">+      m.div(object.send(name), class: &#39;field-value&#39;)</span>
<span class="gi">+      m &lt;&lt; hidden_field(name, options)</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
\ No newline at end of file
<span class="gh">diff --git a/app/presenters/customer/confirming_customer_form_presenter.rb b/app/presenters/customer/confirming_customer_form_presenter.rb</span>
new file mode 100644
<span class="gh">index 0000000..d96f350</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/presenters/customer/confirming_customer_form_presenter.rb</span>
<span class="gu">@@ -0,0 +1,17 @@</span>
<span class="gi">+class Customer::ConfirmingCustomerFormPresenter &lt; ConfirmingUserFormPresenter</span>
<span class="gi">+  def birthday_field_block(name, label_text, options = {})</span>
<span class="gi">+    markup(:div, class: &#39;AppForm__input-block&#39;) do |m|</span>
<span class="gi">+      m &lt;&lt; decorated_label(name, label_text, options)</span>
<span class="gi">+      m.div(object.send(name), class: &#39;field-value&#39;)</span>
<span class="gi">+      m &lt;&lt; hidden_field(name)</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  def gender_field_block</span>
<span class="gi">+    markup(:div, class: &#39;AppForm__input-block&#39;) do |m|</span>
<span class="gi">+      m &lt;&lt; decorated_label(:gender, &#39;性別&#39;)</span>
<span class="gi">+      m.div(object.gender == &#39;male&#39; ? &#39;男性&#39; : &#39;女性&#39;, class: &#39;field-value&#39;)</span>
<span class="gi">+      m &lt;&lt; hidden_field</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
\ No newline at end of file
</code></pre></div>
<h2 id="5d1bb3a">コミット: 5d1bb3a<a class="headerlink" href="#5d1bb3a" title="Permanent link">&para;</a></h2>
<h3 id="_35">メッセージ<a class="headerlink" href="#_35" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>確認画面の仮実装 #24
</code></pre></div>
<h3 id="_36">変更されたファイル<a class="headerlink" href="#_36" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M app/controllers/customer/accounts_controller.rb</li>
<li>M app/forms/customer/account_form.rb</li>
<li>A app/views/customer/accounts/confirm.html.erb</li>
<li>M config/locales/controllers/ja.yml</li>
<li>M config/locales/views/ja.yml</li>
</ul>
<h3 id="_37">変更内容<a class="headerlink" href="#_37" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 5d1bb3a632f7abd4b4c32514f15cc4644331464b
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 14:45:49 2017 +0900

<span class="w"> </span>   確認画面の仮実装 #24

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index 651f73b..6bde6a1 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -716,6 +716,7 @@ git push heroku master</span>
<span class="w"> </span>#### 確認画面
<span class="w"> </span>+ ルーティング
<span class="w"> </span>+ 編集フォームの修正
<span class="gi">++ 確認画面の仮実装</span>

<span class="w"> </span>#### 演習問題

<span class="gh">diff --git a/app/controllers/customer/accounts_controller.rb b/app/controllers/customer/accounts_controller.rb</span>
<span class="gh">index e964c59..e9dc219 100644</span>
<span class="gd">--- a/app/controllers/customer/accounts_controller.rb</span>
<span class="gi">+++ b/app/controllers/customer/accounts_controller.rb</span>
<span class="gu">@@ -18,4 +18,16 @@ class Customer::AccountsController &lt; Customer::Base</span>
<span class="w"> </span>      render action: &#39;edit&#39;
<span class="w"> </span>    end
<span class="w"> </span>  end
<span class="gi">+</span>
<span class="gi">+  # PATCH</span>
<span class="gi">+  def confirm</span>
<span class="gi">+    @customer_form = Customer::AccountForm.new(current_customer)</span>
<span class="gi">+    @customer_form.assign_attributes(params[:form])</span>
<span class="gi">+    if @customer_form.valid?</span>
<span class="gi">+      render action: &#39;confirm&#39;</span>
<span class="gi">+    else</span>
<span class="gi">+      flash.now.alert = t(&#39;.flash_alert&#39;)</span>
<span class="gi">+      render action: &#39;edit&#39;</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="w"> </span>end
<span class="gh">diff --git a/app/forms/customer/account_form.rb b/app/forms/customer/account_form.rb</span>
<span class="gh">index 42dd17d..6aed1f5 100644</span>
<span class="gd">--- a/app/forms/customer/account_form.rb</span>
<span class="gi">+++ b/app/forms/customer/account_form.rb</span>
<span class="gu">@@ -2,7 +2,7 @@ class Customer::AccountForm</span>
<span class="w"> </span>  include ActiveModel::Model

<span class="w"> </span>  attr_accessor :customer, :inputs_home_address, :inputs_work_address
<span class="gd">-  delegate :persisted?, :save, to: :customer</span>
<span class="gi">+  delegate :persisted?, :valid?, :save, to: :customer</span>

<span class="w"> </span>  def initialize(customer)
<span class="w"> </span>    @customer = customer
<span class="gh">diff --git a/app/views/customer/accounts/confirm.html.erb b/app/views/customer/accounts/confirm.html.erb</span>
new file mode 100644
<span class="gh">index 0000000..5b2c3d7</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/views/customer/accounts/confirm.html.erb</span>
<span class="gu">@@ -0,0 +1,16 @@</span>
<span class="gi">+&lt;section class=&quot;Section&quot;&gt;</span>
<span class="gi">+  &lt;h1 class=&quot;Customer__title&quot;&gt;&lt;%= @title %&gt;&lt;/h1&gt;</span>
<span class="gi">+&lt;/section&gt;</span>
<span class="gi">+</span>
<span class="gi">+&lt;section class=&quot;Section l-column AppForm&quot;&gt;</span>
<span class="gi">+  &lt;div class=&quot;AppForm__generic-form CustomerAppForm__generic-form AppForm__customer-form&quot;&gt;</span>
<span class="gi">+    &lt;%= bootstrap_form_for @customer_form, as: &#39;form&#39;, url: :customer_account do |f| %&gt;</span>
<span class="gi">+        &lt;p&gt;&lt;%= t(&#39;.confirm_message&#39;)%&gt;&lt;/p&gt;</span>
<span class="gi">+        &lt;%= render &#39;form&#39;, f: f %&gt;</span>
<span class="gi">+        &lt;div class=&quot;AppForm__buttons&quot;&gt;</span>
<span class="gi">+          &lt;%= f.submit t(&#39;.update&#39;),class: &#39;btn btn-default btn-lg&#39; %&gt;</span>
<span class="gi">+          &lt;%= f.submit t(&#39;.correct&#39;), name: &#39;correct&#39;, class: &#39;btn btn-default btn-lg&#39; %&gt;</span>
<span class="gi">+        &lt;/div&gt;</span>
<span class="gi">+    &lt;% end %&gt;</span>
<span class="gi">+  &lt;/div&gt;</span>
<span class="gi">+&lt;/section&gt;</span>
<span class="gh">diff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml</span>
<span class="gh">index 3d7309e..0da1ba1 100644</span>
<span class="gd">--- a/config/locales/controllers/ja.yml</span>
<span class="gi">+++ b/config/locales/controllers/ja.yml</span>
<span class="gu">@@ -77,3 +77,5 @@ ja:</span>
<span class="w"> </span>      update:
<span class="w"> </span>        flash_notice: &#39;アカウント情報を更新しました。&#39;
<span class="w"> </span>        flash_alert: &#39;入力に誤りがあります。&#39;
<span class="gi">+      confirm:</span>
<span class="gi">+        flash_alert: &#39;入力に誤りがあります。&#39;</span>
<span class="gh">diff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml</span>
<span class="gh">index 714130d..7e19903 100644</span>
<span class="gd">--- a/config/locales/views/ja.yml</span>
<span class="gi">+++ b/config/locales/views/ja.yml</span>
<span class="gu">@@ -279,4 +279,9 @@ ja:</span>
<span class="w"> </span>        title: &#39;アカウントの編集&#39;
<span class="w"> </span>        confirm: &#39;確認画面へ進む&#39;
<span class="w"> </span>        update: &#39;更新&#39;
<span class="gd">-        cancel: &#39;キャンセル&#39;</span>
\ No newline at end of file
<span class="gi">+        cancel: &#39;キャンセル&#39;</span>
<span class="gi">+      confirm:</span>
<span class="gi">+        title: &#39;アカウントの更新（確認）&#39;</span>
<span class="gi">+        confirm_message: &#39;以下の内容でアカウントを更新します。よろしいですか？&#39;</span>
<span class="gi">+        update: &#39;更新&#39;</span>
<span class="gi">+        correct: &#39;訂正&#39;</span>
\ No newline at end of file
</code></pre></div>
<h3 id="_38">構造変更<a class="headerlink" href="#_38" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgMjU3IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjkxNDEiIHg9IjUiIHk9IjE2LjEzODciPldlbGNvbWUgdG8gUGxhbnRVTUwhPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMzAuMTA3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ny4xMDc0IiB4PSI1IiB5PSI0NC4wNzYyIj5Zb3UgY2FuIHN0YXJ0IHdpdGggYSBzaW1wbGUgVU1MIERpYWdyYW0gbGlrZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI1OC4wNDQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE4NCIgeD0iNSIgeT0iNzIuMDEzNyI+Qm9iLSZndDtBbGljZTomIzE2MDtIZWxsbzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9Ijg1Ljk4MjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNC4zNzg5IiB4PSI1IiB5PSI5OS45NTEyIj5PcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjExMy45MTk5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My45MTk5IiB4PSI1IiB5PSIxMjcuODg4NyI+Y2xhc3MmIzE2MDtFeGFtcGxlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTQxLjg1NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDEuOTUzMSIgeD0iNSIgeT0iMTU1LjgyNjIiPllvdSB3aWxsIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBQbGFudFVNTCBzeW50YXggb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyNS43MDEyIiB4PSIzNTAuNzY3NiIgeT0iMTU1LjgyNjIiPmh0dHBzOi8vcGxhbnR1bWwuY29tPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTY5Ljc5NDkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNjExMyIgeD0iNSIgeT0iMTgzLjc2MzciPihEZXRhaWxzIGJ5IHR5cGluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU3MjMiIHg9IjExNS40MjU4IiB5PSIxODMuNzYzNyI+bGljZW5zZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS44MjIzIiB4PSIxNjkuODEyNSIgeT0iMTgzLjc2MzciPmtleXdvcmQpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTk3LjczMjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjIxMS43MDEyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIyMjUuNjY5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMjM5LjYzODciPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjI1My42MDc0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA2LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSIxODUuNDM3NSIvPjwhLS1TUkM9W0tyVHV0M1p2U1VFd25xc1I3cFZGVnpwU19CWXZ1dDdad2lURDdPLVJrZnlqeHR4UGlFM2ZhaXZkaXhTeVJmaHFPazZBbnVxcDdwU3RGNnZReWhYZnFVRWMzTy1STHB2a05XMkswWGkySEFqVnhEX3hqNmwxdXlSZlpua05GTXhpVnptOFA0enp0RFoyZlF4bVA1LXQ1UDFBcGFhaUJiUm1Jb3J0MVo3VzBndUxjU0tiY05kZkM1Nk8wV0xUTkpqS0lHMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="476f49a">コミット: 476f49a<a class="headerlink" href="#476f49a" title="Permanent link">&para;</a></h2>
<h3 id="_39">メッセージ<a class="headerlink" href="#_39" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>編集フォームの修正 #24
</code></pre></div>
<h3 id="_40">変更されたファイル<a class="headerlink" href="#_40" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M app/views/customer/accounts/edit.html.erb</li>
<li>M config/locales/views/ja.yml</li>
</ul>
<h3 id="_41">変更内容<a class="headerlink" href="#_41" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 476f49adffb81b6f4f51239a440067f57df0500f
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 14:25:10 2017 +0900

<span class="w"> </span>   編集フォームの修正 #24

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index 2202f59..651f73b 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -715,6 +715,7 @@ git push heroku master</span>

<span class="w"> </span>#### 確認画面
<span class="w"> </span>+ ルーティング
<span class="gi">++ 編集フォームの修正</span>

<span class="w"> </span>#### 演習問題

<span class="gh">diff --git a/app/views/customer/accounts/edit.html.erb b/app/views/customer/accounts/edit.html.erb</span>
<span class="gh">index a169648..8ad70cc 100644</span>
<span class="gd">--- a/app/views/customer/accounts/edit.html.erb</span>
<span class="gi">+++ b/app/views/customer/accounts/edit.html.erb</span>
<span class="gu">@@ -5,10 +5,10 @@</span>

<span class="w"> </span>&lt;section class=&quot;Section l-column AppForm&quot;&gt;
<span class="w"> </span>  &lt;div class=&quot;AppForm__generic-form CustomerAppForm__generic-form AppForm__customer-form&quot;&gt;
<span class="gd">-    &lt;%= bootstrap_form_for @customer_form, as: &#39;form&#39;, url: :customer_account do |f| %&gt;</span>
<span class="gi">+    &lt;%= bootstrap_form_for @customer_form, as: &#39;form&#39;, url: :confirm_customer_account do |f| %&gt;</span>
<span class="w"> </span>        &lt;%= render &#39;form&#39;, f: f %&gt;
<span class="w"> </span>        &lt;div class=&quot;AppForm__buttons&quot;&gt;
<span class="gd">-          &lt;%= f.submit t(&#39;.update&#39;),class: &#39;btn btn-default btn-lg&#39; %&gt;</span>
<span class="gi">+          &lt;%= f.submit t(&#39;.confirm&#39;),class: &#39;btn btn-default btn-lg&#39; %&gt;</span>
<span class="w"> </span>          &lt;%= link_to t(&#39;.cancel&#39;), :customer_account,class: &#39;btn btn-default btn-lg&#39; %&gt;
<span class="w"> </span>        &lt;/div&gt;
<span class="w"> </span>    &lt;% end %&gt;
<span class="gh">diff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml</span>
<span class="gh">index f414caf..714130d 100644</span>
<span class="gd">--- a/config/locales/views/ja.yml</span>
<span class="gi">+++ b/config/locales/views/ja.yml</span>
<span class="gu">@@ -277,5 +277,6 @@ ja:</span>
<span class="w"> </span>        edit: &#39;編集&#39;
<span class="w"> </span>      edit:
<span class="w"> </span>        title: &#39;アカウントの編集&#39;
<span class="gi">+        confirm: &#39;確認画面へ進む&#39;</span>
<span class="w"> </span>        update: &#39;更新&#39;
<span class="w"> </span>        cancel: &#39;キャンセル&#39;
\ No newline at end of file
</code></pre></div>
<h2 id="3146c73">コミット: 3146c73<a class="headerlink" href="#3146c73" title="Permanent link">&para;</a></h2>
<h3 id="_42">メッセージ<a class="headerlink" href="#_42" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>ルーティング #24
</code></pre></div>
<h3 id="_43">変更されたファイル<a class="headerlink" href="#_43" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M config/routes.rb</li>
</ul>
<h3 id="_44">変更内容<a class="headerlink" href="#_44" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 3146c736dd8faad1394e159a8ca52bcb93c9ce1d
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 14:17:59 2017 +0900

<span class="w"> </span>   ルーティング #24

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index a4c205b..2202f59 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -714,6 +714,8 @@ git push heroku master</span>
<span class="w"> </span>+ アカウント編集機能

<span class="w"> </span>#### 確認画面
<span class="gi">++ ルーティング</span>
<span class="gi">+</span>
<span class="w"> </span>#### 演習問題

<span class="w"> </span>### Ajax
<span class="gh">diff --git a/config/routes.rb b/config/routes.rb</span>
<span class="gh">index ee7c8e3..170bc41 100644</span>
<span class="gd">--- a/config/routes.rb</span>
<span class="gi">+++ b/config/routes.rb</span>
<span class="gu">@@ -57,6 +57,7 @@</span>
<span class="w"> </span>#                  customer_login GET    /login(.:format)                                     customer/sessions#new {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                customer_session DELETE /session(.:format)                                   customer/sessions#destroy {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                                 POST   /session(.:format)                                   customer/sessions#create {:host=&gt;&quot;0.0.0.0&quot;}
<span class="gi">+#        confirm_customer_account PATCH  /account/confirm(.:format)                           customer/accounts#confirm {:host=&gt;&quot;0.0.0.0&quot;}</span>
<span class="w"> </span>#           edit_customer_account GET    /account/edit(.:format)                              customer/accounts#edit {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                customer_account GET    /account(.:format)                                   customer/accounts#show {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                                 PATCH  /account(.:format)                                   customer/accounts#update {:host=&gt;&quot;0.0.0.0&quot;}
<span class="gu">@@ -124,7 +125,9 @@ Rails.application.routes.draw do</span>
<span class="w"> </span>      get &#39;campaign_submit&#39;, to: &#39;campaign#submit&#39;
<span class="w"> </span>      get &#39;login&#39; =&gt; &#39;sessions#new&#39;, as: :login
<span class="w"> </span>      resource :session, only: [ :create, :destroy ]
<span class="gd">-      resource :account, except: [ :new, :create, :destroy ]</span>
<span class="gi">+      resource :account, except: [ :new, :create, :destroy ] do</span>
<span class="gi">+        patch :confirm</span>
<span class="gi">+      end</span>
<span class="w"> </span>      resources :programs, only: [ :index, :show ] do
<span class="w"> </span>        resources :entries, only: [ :create ] do
<span class="w"> </span>          patch :cancel, on: :member
</code></pre></div>
<h2 id="a60faf5">コミット: a60faf5<a class="headerlink" href="#a60faf5" title="Permanent link">&para;</a></h2>
<h3 id="_45">メッセージ<a class="headerlink" href="#_45" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>アカウント編集機能 #24
</code></pre></div>
<h3 id="_46">変更されたファイル<a class="headerlink" href="#_46" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>A app/assets/javascripts/customer/account_form.coffee</li>
<li>A app/assets/stylesheets/components/_customerAppForm.scss</li>
<li>M app/assets/stylesheets/main.scss</li>
<li>M app/controllers/customer/accounts_controller.rb</li>
<li>A app/forms/customer/account_form.rb</li>
<li>A app/views/customer/accounts/_customer_fields.html.erb</li>
<li>A app/views/customer/accounts/_form.html.erb</li>
<li>A app/views/customer/accounts/_home_address_fields.html.erb</li>
<li>A app/views/customer/accounts/_phone_fields.html.erb</li>
<li>A app/views/customer/accounts/_work_address_fields.html.erb</li>
<li>A app/views/customer/accounts/edit.html.erb</li>
<li>M app/views/customer/accounts/show.html.erb</li>
<li>M config/locales/controllers/ja.yml</li>
<li>M config/locales/views/ja.yml</li>
</ul>
<h3 id="_47">変更内容<a class="headerlink" href="#_47" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit a60faf5434ad3744b5c19653ca4ba312d9502bc9
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 14:13:06 2017 +0900

<span class="w"> </span>   アカウント編集機能 #24

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index b6e2467..a4c205b 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -711,6 +711,7 @@ git push heroku master</span>
<span class="w"> </span>+ ルーティング
<span class="w"> </span>+ 顧客トップページの修正
<span class="w"> </span>+ アカウント詳細表示
<span class="gi">++ アカウント編集機能</span>

<span class="w"> </span>#### 確認画面
<span class="w"> </span>#### 演習問題
<span class="gh">diff --git a/app/assets/javascripts/customer/account_form.coffee b/app/assets/javascripts/customer/account_form.coffee</span>
new file mode 100644
<span class="gh">index 0000000..3db60a7</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/assets/javascripts/customer/account_form.coffee</span>
<span class="gu">@@ -0,0 +1,26 @@</span>
<span class="gi">+$(document).on &quot;turbolinks:load&quot;, -&gt;</span>
<span class="gi">+  do -&gt;</span>
<span class="gi">+    new AccountForm</span>
<span class="gi">+</span>
<span class="gi">+class AccountForm</span>
<span class="gi">+  constructor: -&gt;</span>
<span class="gi">+    $(&#39;.AppForm__customer-form input#form_inputs_home_address&#39;).on</span>
<span class="gi">+      &#39;click&#39; : handleHomeAddressFields</span>
<span class="gi">+    $(&#39;.AppForm__customer-form input#form_inputs_work_address&#39;).on</span>
<span class="gi">+      &#39;click&#39; : handleWorkAddrssFields</span>
<span class="gi">+</span>
<span class="gi">+  handleHomeAddressFields = -&gt;</span>
<span class="gi">+    toggleHomeAddressFields()</span>
<span class="gi">+  handleWorkAddrssFields = -&gt;</span>
<span class="gi">+    toggleWorkAddressFields()</span>
<span class="gi">+</span>
<span class="gi">+  toggleHomeAddressFields = -&gt;</span>
<span class="gi">+    checked = $(&#39;input#form_inputs_home_address&#39;).prop(&#39;checked&#39;)</span>
<span class="gi">+    $(&#39;fieldset#home-address-fields input&#39;).prop(&#39;disabled&#39;, !checked)</span>
<span class="gi">+    $(&#39;fieldset#home-address-fields select&#39;).prop(&#39;disabled&#39;, !checked)</span>
<span class="gi">+    $(&#39;fieldset#home-address-fields&#39;).toggle(checked)</span>
<span class="gi">+  toggleWorkAddressFields = -&gt;</span>
<span class="gi">+    checked = $(&#39;input#form_inputs_work_address&#39;).prop(&#39;checked&#39;)</span>
<span class="gi">+    $(&#39;fieldset#work-address-fields input&#39;).prop(&#39;disabled&#39;, !checked)</span>
<span class="gi">+    $(&#39;fieldset#work-address-fields select&#39;).prop(&#39;disabled&#39;, !checked)</span>
<span class="gi">+    $(&#39;fieldset#work-address-fields&#39;).toggle(checked)</span>
\ No newline at end of file
<span class="gh">diff --git a/app/assets/stylesheets/components/_customerAppForm.scss b/app/assets/stylesheets/components/_customerAppForm.scss</span>
new file mode 100644
<span class="gh">index 0000000..eea83d8</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/assets/stylesheets/components/_customerAppForm.scss</span>
<span class="gu">@@ -0,0 +1,12 @@</span>
<span class="gi">+// =====================</span>
<span class="gi">+// CustomerApplicationForm</span>
<span class="gi">+// ---------------------</span>
<span class="gi">+// 顧客用アプリケーション用フォーム</span>
<span class="gi">+// =====================</span>
<span class="gi">+</span>
<span class="gi">+</span>
<span class="gi">+.CustomerAppForm {</span>
<span class="gi">+  &amp;__generic-form {</span>
<span class="gi">+    border: solid 4px $dark_yellow;</span>
<span class="gi">+    }</span>
<span class="gi">+}</span>
\ No newline at end of file
<span class="gh">diff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss</span>
<span class="gh">index 6293d9d..b0f45e1 100644</span>
<span class="gd">--- a/app/assets/stylesheets/main.scss</span>
<span class="gi">+++ b/app/assets/stylesheets/main.scss</span>
<span class="gu">@@ -75,6 +75,7 @@</span>
<span class="w"> </span>@import &quot;./components/appForm&quot;;
<span class="w"> </span>@import &quot;./components/adminAppForm&quot;;
<span class="w"> </span>@import &quot;./components/staffAppForm&quot;;
<span class="gi">+@import &quot;./components/customerAppForm&quot;;</span>
<span class="w"> </span>@import &quot;./components/appEntryForm&quot;;

<span class="w"> </span>// テーブル
<span class="gh">diff --git a/app/controllers/customer/accounts_controller.rb b/app/controllers/customer/accounts_controller.rb</span>
<span class="gh">index e6d6b32..e964c59 100644</span>
<span class="gd">--- a/app/controllers/customer/accounts_controller.rb</span>
<span class="gi">+++ b/app/controllers/customer/accounts_controller.rb</span>
<span class="gu">@@ -2,4 +2,20 @@ class Customer::AccountsController &lt; Customer::Base</span>
<span class="w"> </span>  def show
<span class="w"> </span>    @customer = current_customer
<span class="w"> </span>  end
<span class="gi">+</span>
<span class="gi">+  def edit</span>
<span class="gi">+    @customer_form = Customer::AccountForm.new(current_customer)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  def update</span>
<span class="gi">+    @customer_form = Customer::AccountForm.new(current_customer)</span>
<span class="gi">+    @customer_form.assign_attributes(params[:form])</span>
<span class="gi">+    if @customer_form.save</span>
<span class="gi">+      flash.notice = t(&#39;.flash_notice&#39;)</span>
<span class="gi">+      redirect_to :staff_account</span>
<span class="gi">+    else</span>
<span class="gi">+      flash.now.alert = t(&#39;.flash_alert&#39;)</span>
<span class="gi">+      render action: &#39;edit&#39;</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="w"> </span>end
<span class="gh">diff --git a/app/forms/customer/account_form.rb b/app/forms/customer/account_form.rb</span>
new file mode 100644
<span class="gh">index 0000000..42dd17d</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/forms/customer/account_form.rb</span>
<span class="gu">@@ -0,0 +1,110 @@</span>
<span class="gi">+class Customer::AccountForm</span>
<span class="gi">+  include ActiveModel::Model</span>
<span class="gi">+</span>
<span class="gi">+  attr_accessor :customer, :inputs_home_address, :inputs_work_address</span>
<span class="gi">+  delegate :persisted?, :save, to: :customer</span>
<span class="gi">+</span>
<span class="gi">+  def initialize(customer)</span>
<span class="gi">+    @customer = customer</span>
<span class="gi">+    (2 - @customer.personal_phones.size).times do</span>
<span class="gi">+      @customer.personal_phones.build</span>
<span class="gi">+    end</span>
<span class="gi">+    self.inputs_home_address = @customer.home_address.present?</span>
<span class="gi">+    self.inputs_work_address = @customer.work_address.present?</span>
<span class="gi">+    @customer.build_home_address unless @customer.home_address</span>
<span class="gi">+    @customer.build_work_address unless @customer.work_address</span>
<span class="gi">+    (2 - @customer.home_address.phones.size).times do</span>
<span class="gi">+      @customer.home_address.phones.build</span>
<span class="gi">+    end</span>
<span class="gi">+    (2 - @customer.work_address.phones.size).times do</span>
<span class="gi">+      @customer.work_address.phones.build</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  def assign_attributes(params = {})</span>
<span class="gi">+    @params = params</span>
<span class="gi">+    self.inputs_home_address = params[:inputs_home_address] == &#39;1&#39;</span>
<span class="gi">+    self.inputs_work_address = params[:inputs_work_address] == &#39;1&#39;</span>
<span class="gi">+</span>
<span class="gi">+    customer.assign_attributes(customer_params)</span>
<span class="gi">+</span>
<span class="gi">+    phones = phone_params(:customer).fetch(:phones)</span>
<span class="gi">+    customer.personal_phones.size.times do |index|</span>
<span class="gi">+      attributes = phones[index.to_s]</span>
<span class="gi">+      if attributes &amp;&amp; attributes[:number].present?</span>
<span class="gi">+        customer.personal_phones[index].assign_attributes(attributes)</span>
<span class="gi">+      else</span>
<span class="gi">+        customer.personal_phones[index].mark_for_destruction</span>
<span class="gi">+      end</span>
<span class="gi">+    end</span>
<span class="gi">+</span>
<span class="gi">+    if inputs_home_address</span>
<span class="gi">+      customer.home_address.assign_attributes(home_address_params)</span>
<span class="gi">+</span>
<span class="gi">+      phones = phone_params(:home_address).fetch(:phones)</span>
<span class="gi">+      customer.home_address.phones.size.times do |index|</span>
<span class="gi">+        attributes = phones[index.to_s]</span>
<span class="gi">+        if attributes &amp;&amp; attributes[:number].present?</span>
<span class="gi">+          customer.home_address.phones[index].assign_attributes(attributes)</span>
<span class="gi">+        else</span>
<span class="gi">+          customer.home_address.phones[index].mark_for_destruction</span>
<span class="gi">+        end</span>
<span class="gi">+      end</span>
<span class="gi">+    else</span>
<span class="gi">+      customer.home_address.mark_for_destruction</span>
<span class="gi">+    end</span>
<span class="gi">+    if inputs_work_address</span>
<span class="gi">+      customer.work_address.assign_attributes(work_address_params)</span>
<span class="gi">+</span>
<span class="gi">+      phones = phone_params(:work_address).fetch(:phones)</span>
<span class="gi">+      customer.work_address.phones.size.times do |index|</span>
<span class="gi">+        attributes = phones[index.to_s]</span>
<span class="gi">+        if attributes &amp;&amp; attributes[:number].present?</span>
<span class="gi">+          customer.work_address.phones[index].assign_attributes(attributes)</span>
<span class="gi">+        else</span>
<span class="gi">+          customer.work_address.phones[index].mark_for_destruction</span>
<span class="gi">+        end</span>
<span class="gi">+      end</span>
<span class="gi">+    else</span>
<span class="gi">+      customer.work_address.mark_for_destruction</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  private</span>
<span class="gi">+  def customer_params</span>
<span class="gi">+    @params.require(:customer).permit(</span>
<span class="gi">+                                  :family_name,</span>
<span class="gi">+                                  :given_name,</span>
<span class="gi">+                                  :family_name_kana,</span>
<span class="gi">+                                  :given_name_kana,</span>
<span class="gi">+                                  :birthday,</span>
<span class="gi">+                                  :gender</span>
<span class="gi">+    )</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  def home_address_params</span>
<span class="gi">+    @params.require(:home_address).permit(</span>
<span class="gi">+                                     :postal_code,</span>
<span class="gi">+                                     :prefecture,</span>
<span class="gi">+                                     :city,</span>
<span class="gi">+                                     :address1,</span>
<span class="gi">+                                     :address2,</span>
<span class="gi">+    )</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  def work_address_params</span>
<span class="gi">+    @params.require(:work_address).permit(</span>
<span class="gi">+                                      :postal_code,</span>
<span class="gi">+                                      :prefecture,</span>
<span class="gi">+                                      :city,</span>
<span class="gi">+                                      :address1,</span>
<span class="gi">+                                      :address2,</span>
<span class="gi">+                                      :company_name,</span>
<span class="gi">+                                      :division_name</span>
<span class="gi">+    )</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  def phone_params(record_name)</span>
<span class="gi">+    @params.require(record_name).permit(phones: [ :number, :primary ])</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
\ No newline at end of file
<span class="gh">diff --git a/app/views/customer/accounts/_customer_fields.html.erb b/app/views/customer/accounts/_customer_fields.html.erb</span>
new file mode 100644
<span class="gh">index 0000000..24ceba4</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/views/customer/accounts/_customer_fields.html.erb</span>
<span class="gu">@@ -0,0 +1,19 @@</span>
<span class="gi">+&lt;%= f.fields_for :customer, f.object.customer do |ff| %&gt;</span>
<span class="gi">+&lt;%= markup do |m|</span>
<span class="gi">+  p = Staff::CustomerFormPresenter.new(ff,self)</span>
<span class="gi">+  p.with_options(required: true) do |q|</span>
<span class="gi">+    m &lt;&lt; q.text_field_block(:email, t(&#39;activerecord.attributes.customer.email&#39;), size: 32)</span>
<span class="gi">+    m &lt;&lt; q.full_name_block(:family_name, :given_name, t(&#39;activerecord.attributes.customer.full_name&#39;))</span>
<span class="gi">+    m &lt;&lt; q.full_name_block(:family_name_kana, :given_name_kana, t(&#39;activerecord.attributes.customer.full_name_kana&#39;))</span>
<span class="gi">+  end</span>
<span class="gi">+  m &lt;&lt; p.birthday_field_block(:birthday, t(&#39;activerecord.attributes.customer.birthday&#39;))</span>
<span class="gi">+  m &lt;&lt; p.gender_field_block</span>
<span class="gi">+  m.div(class: &#39;AppForm__input-block&#39;) do</span>
<span class="gi">+    m.ol do</span>
<span class="gi">+      p.object.personal_phones.each_with_index do |phone, index|</span>
<span class="gi">+        m &lt;&lt; render(&#39;phone_fields&#39;, f: ff, phone: phone, index: index)</span>
<span class="gi">+      end</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="gi">+  end %&gt;</span>
<span class="gi">+&lt;% end %&gt;</span>
\ No newline at end of file
<span class="gh">diff --git a/app/views/customer/accounts/_form.html.erb b/app/views/customer/accounts/_form.html.erb</span>
new file mode 100644
<span class="gh">index 0000000..80eb496</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/views/customer/accounts/_form.html.erb</span>
<span class="gu">@@ -0,0 +1,19 @@</span>
<span class="gi">+&lt;%= FormPresenter.new(f,self).notes %&gt;</span>
<span class="gi">+&lt;fieldset id=&quot;customer-fields&quot;&gt;</span>
<span class="gi">+  &lt;legend&gt;&lt;%= t(&#39;staff.customers.new.basic_info&#39;) %&gt;&lt;/legend&gt;</span>
<span class="gi">+  &lt;%= render &#39;customer_fields&#39;, f: f %&gt;</span>
<span class="gi">+&lt;/fieldset&gt;</span>
<span class="gi">+&lt;div&gt;</span>
<span class="gi">+  &lt;%= f.check_box :inputs_home_address, label: t(&#39;staff.customers.new.home_address_inputs&#39;)  %&gt;</span>
<span class="gi">+&lt;/div&gt;</span>
<span class="gi">+&lt;fieldset id=&quot;home-address-fields&quot;&gt;</span>
<span class="gi">+  &lt;legend&gt;&lt;%= t(&#39;staff.customers.new.home_address&#39;) %&gt;&lt;/legend&gt;</span>
<span class="gi">+  &lt;%= render &#39;home_address_fields&#39;, f: f %&gt;</span>
<span class="gi">+&lt;/fieldset&gt;</span>
<span class="gi">+&lt;div&gt;</span>
<span class="gi">+  &lt;%= f.check_box :inputs_work_address, label: t(&#39;staff.customers.new.work_address_inputs&#39;) %&gt;</span>
<span class="gi">+&lt;/div&gt;</span>
<span class="gi">+&lt;fieldset id=&quot;work-address-fields&quot;&gt;</span>
<span class="gi">+  &lt;legend&gt;&lt;%= t(&#39;staff.customers.new.work_address&#39;) %&gt;&lt;/legend&gt;</span>
<span class="gi">+  &lt;%= render &#39;work_address_fields&#39;, f: f %&gt;</span>
<span class="gi">+&lt;/fieldset&gt;</span>
<span class="gh">diff --git a/app/views/customer/accounts/_home_address_fields.html.erb b/app/views/customer/accounts/_home_address_fields.html.erb</span>
new file mode 100644
<span class="gh">index 0000000..23aa061</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/views/customer/accounts/_home_address_fields.html.erb</span>
<span class="gu">@@ -0,0 +1,19 @@</span>
<span class="gi">+&lt;%= f.fields_for :home_address, f.object.customer.home_address do |ff| %&gt;</span>
<span class="gi">+&lt;%= markup do |m|</span>
<span class="gi">+  p = Staff::AddressFormPresenter.new(ff,self)</span>
<span class="gi">+  p.with_options(required: true) do |q|</span>
<span class="gi">+    m &lt;&lt; q.postal_code_block(:postal_code, t(&#39;activerecord.attributes.home_address.postal_code&#39;), size: 7)</span>
<span class="gi">+    m &lt;&lt; q.drop_down_list_block(:prefecture, t(&#39;activerecord.attributes.home_address.prefecture&#39;),Address::PREFECTURE_NAMES)</span>
<span class="gi">+    m &lt;&lt; q.text_field_block(:city, t(&#39;activerecord.attributes.home_address.city&#39;), size: 16)</span>
<span class="gi">+    m &lt;&lt; q.text_field_block(:address1, t(&#39;activerecord.attributes.home_address.address1&#39;), size: 40)</span>
<span class="gi">+  end</span>
<span class="gi">+  m &lt;&lt; p.text_field_block(:address2, t(&#39;activerecord.attributes.home_address.address2&#39;), size: 40)</span>
<span class="gi">+  m.div(class: &#39;FormApp__input-block&#39;) do</span>
<span class="gi">+    m.ol do</span>
<span class="gi">+      p.object.phones.each_with_index do |phone, index|</span>
<span class="gi">+        m &lt;&lt; render(&#39;phone_fields&#39;, f: ff, phone: phone, index: index)</span>
<span class="gi">+        end</span>
<span class="gi">+      end</span>
<span class="gi">+    end</span>
<span class="gi">+end %&gt;</span>
<span class="gi">+&lt;% end %&gt;</span>
<span class="gh">diff --git a/app/views/customer/accounts/_phone_fields.html.erb b/app/views/customer/accounts/_phone_fields.html.erb</span>
new file mode 100644
<span class="gh">index 0000000..a5f6749</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/views/customer/accounts/_phone_fields.html.erb</span>
<span class="gu">@@ -0,0 +1,6 @@</span>
<span class="gi">+&lt;%= f.fields_for :phones, phone, index: index do |ff| %&gt;</span>
<span class="gi">+    &lt;%= markup(:li) do |m|</span>
<span class="gi">+      m &lt;&lt; ff.text_field(:number, skip_required: true)</span>
<span class="gi">+      m &lt;&lt; ff.check_box(:primary, label: t(&#39;activerecord.attributes.phone.primary&#39;))</span>
<span class="gi">+      end %&gt;</span>
<span class="gi">+&lt;% end %&gt;</span>
\ No newline at end of file
<span class="gh">diff --git a/app/views/customer/accounts/_work_address_fields.html.erb b/app/views/customer/accounts/_work_address_fields.html.erb</span>
new file mode 100644
<span class="gh">index 0000000..b9e6cd3</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/views/customer/accounts/_work_address_fields.html.erb</span>
<span class="gu">@@ -0,0 +1,19 @@</span>
<span class="gi">+&lt;%= f.fields_for :work_address, f.object.customer.work_address do |ff| %&gt;</span>
<span class="gi">+    &lt;%= markup do |m|</span>
<span class="gi">+      p = Staff::AddressFormPresenter.new(ff,self)</span>
<span class="gi">+      m &lt;&lt; p.text_field_block(:company_name, t(&#39;activerecord.attributes.work_address.company_name&#39;), size: 40, required: true)</span>
<span class="gi">+      m &lt;&lt; p.text_field_block(:division_name, t(&#39;activerecord.attributes.work_address.division_name&#39;), size: 40)</span>
<span class="gi">+      m &lt;&lt; p.postal_code_block(:postal_code, t(&#39;activerecord.attributes.work_address.postal_code&#39;), size: 7)</span>
<span class="gi">+      m &lt;&lt; p.drop_down_list_block(:prefecture, t(&#39;activerecord.attributes.work_address.prefecture&#39;),Address::PREFECTURE_NAMES)</span>
<span class="gi">+      m &lt;&lt; p.text_field_block(:city, t(&#39;activerecord.attributes.work_address.city&#39;), size: 16)</span>
<span class="gi">+      m &lt;&lt; p.text_field_block(:address1, t(&#39;activerecord.attributes.work_address.address1&#39;), size: 40)</span>
<span class="gi">+      m &lt;&lt; p.text_field_block(:address2, t(&#39;activerecord.attributes.work_address.address2&#39;), size: 40)</span>
<span class="gi">+      m.div(class: &#39;FormApp__input-block&#39;) do</span>
<span class="gi">+        m.ol do</span>
<span class="gi">+          p.object.phones.each_with_index do |phone, index|</span>
<span class="gi">+            m &lt;&lt; render(&#39;phone_fields&#39;, f: ff, phone: phone, index: index)</span>
<span class="gi">+          end</span>
<span class="gi">+        end</span>
<span class="gi">+      end</span>
<span class="gi">+    end %&gt;</span>
<span class="gi">+&lt;% end %&gt;</span>
<span class="gh">diff --git a/app/views/customer/accounts/edit.html.erb b/app/views/customer/accounts/edit.html.erb</span>
new file mode 100644
<span class="gh">index 0000000..a169648</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/views/customer/accounts/edit.html.erb</span>
<span class="gu">@@ -0,0 +1,16 @@</span>
<span class="gi">+&lt;% @title = t(&#39;.title&#39;) %&gt;</span>
<span class="gi">+&lt;section class=&quot;Section&quot;&gt;</span>
<span class="gi">+  &lt;h1 class=&quot;Customer__title&quot;&gt;&lt;%= @title %&gt;&lt;/h1&gt;</span>
<span class="gi">+&lt;/section&gt;</span>
<span class="gi">+</span>
<span class="gi">+&lt;section class=&quot;Section l-column AppForm&quot;&gt;</span>
<span class="gi">+  &lt;div class=&quot;AppForm__generic-form CustomerAppForm__generic-form AppForm__customer-form&quot;&gt;</span>
<span class="gi">+    &lt;%= bootstrap_form_for @customer_form, as: &#39;form&#39;, url: :customer_account do |f| %&gt;</span>
<span class="gi">+        &lt;%= render &#39;form&#39;, f: f %&gt;</span>
<span class="gi">+        &lt;div class=&quot;AppForm__buttons&quot;&gt;</span>
<span class="gi">+          &lt;%= f.submit t(&#39;.update&#39;),class: &#39;btn btn-default btn-lg&#39; %&gt;</span>
<span class="gi">+          &lt;%= link_to t(&#39;.cancel&#39;), :customer_account,class: &#39;btn btn-default btn-lg&#39; %&gt;</span>
<span class="gi">+        &lt;/div&gt;</span>
<span class="gi">+    &lt;% end %&gt;</span>
<span class="gi">+  &lt;/div&gt;</span>
<span class="gi">+&lt;/section&gt;</span>
<span class="gh">diff --git a/app/views/customer/accounts/show.html.erb b/app/views/customer/accounts/show.html.erb</span>
<span class="gh">index 469002d..5bbb464 100644</span>
<span class="gd">--- a/app/views/customer/accounts/show.html.erb</span>
<span class="gi">+++ b/app/views/customer/accounts/show.html.erb</span>
<span class="gu">@@ -1,9 +1,12 @@</span>
<span class="w"> </span>&lt;% @title = t(&#39;.title&#39;) %&gt;
<span class="w"> </span>&lt;section class=&quot;Section&quot;&gt;
<span class="gd">-  &lt;h1 class=&quot;Staff__title&quot;&gt;&lt;%= @title %&gt;&lt;/h1&gt;</span>
<span class="gi">+  &lt;h1 class=&quot;Customer__title&quot;&gt;&lt;%= @title %&gt;&lt;/h1&gt;</span>
<span class="w"> </span>&lt;/section&gt;

<span class="w"> </span>&lt;section class=&quot;Section l-column Table StaffTable&quot;&gt;
<span class="gi">+  &lt;div class=&quot;Table__links&quot;&gt;</span>
<span class="gi">+    &lt;%= link_to t(&#39;.edit&#39;), :edit_customer_account , class: &#39;btn btn-default&#39; %&gt;</span>
<span class="gi">+  &lt;/div&gt;</span>
<span class="w"> </span>  &lt;table class=&quot;Table__body Table__body--attributes StaffTable__body&quot;&gt;
<span class="w"> </span>    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot; colspan=&quot;2&quot;&gt;&lt;%= t(&#39;.basic_info&#39;) %&gt;&lt;/th&gt;&lt;/tr&gt;
<span class="w"> </span>    &lt;% p1 = Staff::CustomerPresenter.new(@customer, self) %&gt;
<span class="gh">diff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml</span>
<span class="gh">index facc37e..3d7309e 100644</span>
<span class="gd">--- a/config/locales/controllers/ja.yml</span>
<span class="gi">+++ b/config/locales/controllers/ja.yml</span>
<span class="gu">@@ -72,4 +72,8 @@ ja:</span>
<span class="w"> </span>        flash_alert: &#39;プログラムへの申込者数が上限に達しました。&#39;
<span class="w"> </span>        flash_alert_close: &#39;プログラムの申し込み期限が終了しました。&#39;
<span class="w"> </span>      cancel:
<span class="gd">-        flash_notice: &#39;プログラムへの申込みをキャンセルしました。&#39;</span>
\ No newline at end of file
<span class="gi">+        flash_notice: &#39;プログラムへの申込みをキャンセルしました。&#39;</span>
<span class="gi">+    accounts:</span>
<span class="gi">+      update:</span>
<span class="gi">+        flash_notice: &#39;アカウント情報を更新しました。&#39;</span>
<span class="gi">+        flash_alert: &#39;入力に誤りがあります。&#39;</span>
<span class="gh">diff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml</span>
<span class="gh">index b57c221..f414caf 100644</span>
<span class="gd">--- a/config/locales/views/ja.yml</span>
<span class="gi">+++ b/config/locales/views/ja.yml</span>
<span class="gu">@@ -246,7 +246,7 @@ ja:</span>
<span class="w"> </span>        confirm: &#39;本当に申し込みますか？&#39;
<span class="w"> </span>    accounts:
<span class="w"> </span>      show:
<span class="gd">-        title: &#39;顧客詳細情報&#39;</span>
<span class="gi">+        title: &#39;アカウント情報&#39;</span>
<span class="w"> </span>        basic_info: &#39;基本情報&#39;
<span class="w"> </span>        home_address: &#39;自宅住所&#39;
<span class="w"> </span>        work_address: &#39;勤務先&#39;
<span class="gu">@@ -273,4 +273,9 @@ ja:</span>
<span class="w"> </span>        work_address_address1: &#39;町域、番地等&#39;
<span class="w"> </span>        work_address_address2: &#39;建物名、部屋番号&#39;
<span class="w"> </span>        work_address_phones_1: &#39;勤務先電話番号（１）&#39;
<span class="gd">-        work_address_phones_2: &#39;勤務先電話番号（２）&#39;</span>
\ No newline at end of file
<span class="gi">+        work_address_phones_2: &#39;勤務先電話番号（２）&#39;</span>
<span class="gi">+        edit: &#39;編集&#39;</span>
<span class="gi">+      edit:</span>
<span class="gi">+        title: &#39;アカウントの編集&#39;</span>
<span class="gi">+        update: &#39;更新&#39;</span>
<span class="gi">+        cancel: &#39;キャンセル&#39;</span>
\ No newline at end of file
</code></pre></div>
<h3 id="_48">構造変更<a class="headerlink" href="#_48" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgMjU3IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjkxNDEiIHg9IjUiIHk9IjE2LjEzODciPldlbGNvbWUgdG8gUGxhbnRVTUwhPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMzAuMTA3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ny4xMDc0IiB4PSI1IiB5PSI0NC4wNzYyIj5Zb3UgY2FuIHN0YXJ0IHdpdGggYSBzaW1wbGUgVU1MIERpYWdyYW0gbGlrZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI1OC4wNDQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE4NCIgeD0iNSIgeT0iNzIuMDEzNyI+Qm9iLSZndDtBbGljZTomIzE2MDtIZWxsbzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9Ijg1Ljk4MjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNC4zNzg5IiB4PSI1IiB5PSI5OS45NTEyIj5PcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjExMy45MTk5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My45MTk5IiB4PSI1IiB5PSIxMjcuODg4NyI+Y2xhc3MmIzE2MDtFeGFtcGxlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTQxLjg1NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDEuOTUzMSIgeD0iNSIgeT0iMTU1LjgyNjIiPllvdSB3aWxsIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBQbGFudFVNTCBzeW50YXggb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyNS43MDEyIiB4PSIzNTAuNzY3NiIgeT0iMTU1LjgyNjIiPmh0dHBzOi8vcGxhbnR1bWwuY29tPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTY5Ljc5NDkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNjExMyIgeD0iNSIgeT0iMTgzLjc2MzciPihEZXRhaWxzIGJ5IHR5cGluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU3MjMiIHg9IjExNS40MjU4IiB5PSIxODMuNzYzNyI+bGljZW5zZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS44MjIzIiB4PSIxNjkuODEyNSIgeT0iMTgzLjc2MzciPmtleXdvcmQpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTk3LjczMjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjIxMS43MDEyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIyMjUuNjY5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMjM5LjYzODciPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjI1My42MDc0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA2LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSIxODUuNDM3NSIvPjwhLS1TUkM9W0tyVHV0M1p2U1VFd25xc1I3cFZGVnpwU19CWXZ1dDdad2lURDdPLVJrZnlqeHR4UGlFM2ZhaXZkaXhTeVJmaHFPazZBbnVxcDdwU3RGNnZReWhYZnFVRWMzTy1STHB2a05XMkswWGkySEFqVnhEX3hqNmwxdXlSZlpua05GTXhpVnptOFA0enp0RFoyZlF4bVA1LXQ1UDFBcGFhaUJiUm1Jb3J0MVo3VzBndUxjU0tiY05kZkM1Nk8wV0xUTkpqS0lHMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="9c56504">コミット: 9c56504<a class="headerlink" href="#9c56504" title="Permanent link">&para;</a></h2>
<h3 id="_49">メッセージ<a class="headerlink" href="#_49" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>アカウント詳細表示 #24
</code></pre></div>
<h3 id="_50">変更されたファイル<a class="headerlink" href="#_50" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>A app/controllers/customer/accounts_controller.rb</li>
<li>A app/views/customer/accounts/show.html.erb</li>
<li>M config/locales/views/ja.yml</li>
</ul>
<h3 id="_51">変更内容<a class="headerlink" href="#_51" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 9c565041849fe1a7f1683c5304cfb265d631eb03
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 13:31:39 2017 +0900

<span class="w"> </span>   アカウント詳細表示 #24

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index 548c321..b6e2467 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -710,6 +710,7 @@ git push heroku master</span>
<span class="w"> </span>#### 顧客自身によるアカウント管理機能
<span class="w"> </span>+ ルーティング
<span class="w"> </span>+ 顧客トップページの修正
<span class="gi">++ アカウント詳細表示</span>

<span class="w"> </span>#### 確認画面
<span class="w"> </span>#### 演習問題
<span class="gh">diff --git a/app/controllers/customer/accounts_controller.rb b/app/controllers/customer/accounts_controller.rb</span>
new file mode 100644
<span class="gh">index 0000000..e6d6b32</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/controllers/customer/accounts_controller.rb</span>
<span class="gu">@@ -0,0 +1,5 @@</span>
<span class="gi">+class Customer::AccountsController &lt; Customer::Base</span>
<span class="gi">+  def show</span>
<span class="gi">+    @customer = current_customer</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
<span class="gh">diff --git a/app/views/customer/accounts/show.html.erb b/app/views/customer/accounts/show.html.erb</span>
new file mode 100644
<span class="gh">index 0000000..469002d</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/views/customer/accounts/show.html.erb</span>
<span class="gu">@@ -0,0 +1,41 @@</span>
<span class="gi">+&lt;% @title = t(&#39;.title&#39;) %&gt;</span>
<span class="gi">+&lt;section class=&quot;Section&quot;&gt;</span>
<span class="gi">+  &lt;h1 class=&quot;Staff__title&quot;&gt;&lt;%= @title %&gt;&lt;/h1&gt;</span>
<span class="gi">+&lt;/section&gt;</span>
<span class="gi">+</span>
<span class="gi">+&lt;section class=&quot;Section l-column Table StaffTable&quot;&gt;</span>
<span class="gi">+  &lt;table class=&quot;Table__body Table__body--attributes StaffTable__body&quot;&gt;</span>
<span class="gi">+    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot; colspan=&quot;2&quot;&gt;&lt;%= t(&#39;.basic_info&#39;) %&gt;&lt;/th&gt;&lt;/tr&gt;</span>
<span class="gi">+    &lt;% p1 = Staff::CustomerPresenter.new(@customer, self) %&gt;</span>
<span class="gi">+    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.full_name&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p1.full_name %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.full_name_kana&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p1.full_name_kana %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.birthday&#39;) %&gt;&lt;/th&gt;&lt;td class=&quot;Table__td--date&quot;&gt;&lt;%= p1.birthday %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.gender&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p1.gender %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.personal_phones_1&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p1.personal_phones[0] %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.personal_phones_2&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p1.personal_phones[1] %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+    &lt;% if @customer.home_address %&gt;</span>
<span class="gi">+        &lt;% p2 = Staff::AddressPresenter.new(@customer.home_address, self) %&gt;</span>
<span class="gi">+        &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot; colspan=&quot;2&quot;&gt;&lt;%= t(&#39;.home_address&#39;) %&gt;&lt;/th&gt;&lt;/tr&gt;</span>
<span class="gi">+        &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.home_address_postal_code&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.postal_code %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+        &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.home_address_prefecture&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.prefecture %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+        &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.home_address_city&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.city %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+        &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.home_address_address1&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.address1 %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+        &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.home_address_address2&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.address2 %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+        &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.home_address_phones_1&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.phones[0] %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+        &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.home_address_phones_2&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.phones[1] %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+    &lt;% end %&gt;</span>
<span class="gi">+    &lt;% if @customer.work_address %&gt;</span>
<span class="gi">+        &lt;% p3 = Staff::AddressPresenter.new(@customer.work_address, self) %&gt;</span>
<span class="gi">+        &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot; colspan=&quot;2&quot;&gt;&lt;%= t(&#39;.work_address&#39;) %&gt;&lt;/th&gt;&lt;/tr&gt;</span>
<span class="gi">+        &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.work_address_company_name&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.company_name %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+        &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.work_address_division_name&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.division_name %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+        &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.work_address_postal_code&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.postal_code %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+        &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.work_address_prefecture&#39;)%&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.prefecture %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+        &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.work_address_city&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.city %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+        &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.work_address_address1&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.address1 %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+        &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.work_address_address2&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.address2 %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+        &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.work_address_phones_1&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.phones[0] %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+        &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.work_address_phones_2&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.phones[1] %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+    &lt;% end %&gt;</span>
<span class="gi">+  &lt;/table&gt;</span>
<span class="gi">+&lt;/section&gt;</span>
\ No newline at end of file
<span class="gh">diff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml</span>
<span class="gh">index 23cb9c2..b57c221 100644</span>
<span class="gd">--- a/config/locales/views/ja.yml</span>
<span class="gi">+++ b/config/locales/views/ja.yml</span>
<span class="gu">@@ -243,4 +243,34 @@ ja:</span>
<span class="w"> </span>        confirm_cancel: &#39;本当にキャンセルしますか？&#39;
<span class="w"> </span>        closed: &#39;募集終了&#39;
<span class="w"> </span>        apply: &#39;申し込む&#39;
<span class="gd">-        confirm: &#39;本当に申し込みますか？&#39;</span>
\ No newline at end of file
<span class="gi">+        confirm: &#39;本当に申し込みますか？&#39;</span>
<span class="gi">+    accounts:</span>
<span class="gi">+      show:</span>
<span class="gi">+        title: &#39;顧客詳細情報&#39;</span>
<span class="gi">+        basic_info: &#39;基本情報&#39;</span>
<span class="gi">+        home_address: &#39;自宅住所&#39;</span>
<span class="gi">+        work_address: &#39;勤務先&#39;</span>
<span class="gi">+        full_name: &#39;氏名&#39;</span>
<span class="gi">+        full_name_kana: &#39;フリガナ&#39;</span>
<span class="gi">+        birthday: &#39;生年月日&#39;</span>
<span class="gi">+        gender: &#39;性別&#39;</span>
<span class="gi">+        create_at: &#39;登録日時&#39;</span>
<span class="gi">+        update_at: &#39;更新日時&#39;</span>
<span class="gi">+        personal_phones_1: &#39;個人電話番号（１）&#39;</span>
<span class="gi">+        personal_phones_2: &#39;個人電話番号（２）&#39;</span>
<span class="gi">+        home_address_postal_code: &#39;郵便番号&#39;</span>
<span class="gi">+        home_address_prefecture: &#39;都道府県&#39;</span>
<span class="gi">+        home_address_city: &#39;市区町村&#39;</span>
<span class="gi">+        home_address_address1: &#39;町域、番地等&#39;</span>
<span class="gi">+        home_address_address2: &#39;建物名、部屋番号&#39;</span>
<span class="gi">+        home_address_phones_1: &#39;自宅電話番号（１）&#39;</span>
<span class="gi">+        home_address_phones_2: &#39;自宅電話番号（２）&#39;</span>
<span class="gi">+        work_address_company_name: &#39;会社名&#39;</span>
<span class="gi">+        work_address_division_name: &#39;部署名&#39;</span>
<span class="gi">+        work_address_postal_code: &#39;郵便番号&#39;</span>
<span class="gi">+        work_address_prefecture: &#39;都道府県&#39;</span>
<span class="gi">+        work_address_city: &#39;市区町村&#39;</span>
<span class="gi">+        work_address_address1: &#39;町域、番地等&#39;</span>
<span class="gi">+        work_address_address2: &#39;建物名、部屋番号&#39;</span>
<span class="gi">+        work_address_phones_1: &#39;勤務先電話番号（１）&#39;</span>
<span class="gi">+        work_address_phones_2: &#39;勤務先電話番号（２）&#39;</span>
\ No newline at end of file
</code></pre></div>
<h3 id="_52">構造変更<a class="headerlink" href="#_52" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgMjU3IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjkxNDEiIHg9IjUiIHk9IjE2LjEzODciPldlbGNvbWUgdG8gUGxhbnRVTUwhPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMzAuMTA3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ny4xMDc0IiB4PSI1IiB5PSI0NC4wNzYyIj5Zb3UgY2FuIHN0YXJ0IHdpdGggYSBzaW1wbGUgVU1MIERpYWdyYW0gbGlrZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI1OC4wNDQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE4NCIgeD0iNSIgeT0iNzIuMDEzNyI+Qm9iLSZndDtBbGljZTomIzE2MDtIZWxsbzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9Ijg1Ljk4MjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNC4zNzg5IiB4PSI1IiB5PSI5OS45NTEyIj5PcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjExMy45MTk5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My45MTk5IiB4PSI1IiB5PSIxMjcuODg4NyI+Y2xhc3MmIzE2MDtFeGFtcGxlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTQxLjg1NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDEuOTUzMSIgeD0iNSIgeT0iMTU1LjgyNjIiPllvdSB3aWxsIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBQbGFudFVNTCBzeW50YXggb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyNS43MDEyIiB4PSIzNTAuNzY3NiIgeT0iMTU1LjgyNjIiPmh0dHBzOi8vcGxhbnR1bWwuY29tPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTY5Ljc5NDkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNjExMyIgeD0iNSIgeT0iMTgzLjc2MzciPihEZXRhaWxzIGJ5IHR5cGluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU3MjMiIHg9IjExNS40MjU4IiB5PSIxODMuNzYzNyI+bGljZW5zZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS44MjIzIiB4PSIxNjkuODEyNSIgeT0iMTgzLjc2MzciPmtleXdvcmQpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTk3LjczMjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjIxMS43MDEyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIyMjUuNjY5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMjM5LjYzODciPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjI1My42MDc0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA2LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSIxODUuNDM3NSIvPjwhLS1TUkM9W0tyVHV0M1p2U1VFd25xc1I3cFZGVnpwU19CWXZ1dDdad2lURDdPLVJrZnlqeHR4UGlFM2ZhaXZkaXhTeVJmaHFPazZBbnVxcDdwU3RGNnZReWhYZnFVRWMzTy1STHB2a05XMkswWGkySEFqVnhEX3hqNmwxdXlSZlpua05GTXhpVnptOFA0enp0RFoyZlF4bVA1LXQ1UDFBcGFhaUJiUm1Jb3J0MVo3VzBndUxjU0tiY05kZkM1Nk8wV0xUTkpqS0lHMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="bcc4f1b">コミット: bcc4f1b<a class="headerlink" href="#bcc4f1b" title="Permanent link">&para;</a></h2>
<h3 id="_53">メッセージ<a class="headerlink" href="#_53" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>顧客トップページの修正 #24
</code></pre></div>
<h3 id="_54">変更されたファイル<a class="headerlink" href="#_54" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M app/assets/stylesheets/components/common/_header.scss</li>
<li>M app/views/customer/shared/_header_login.html.erb</li>
<li>M config/locales/views/ja.yml</li>
</ul>
<h3 id="_55">変更内容<a class="headerlink" href="#_55" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit bcc4f1b373144efe7e83f17e28e9b153a7e63dea
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 13:11:49 2017 +0900

<span class="w"> </span>   顧客トップページの修正 #24

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index 27d50a1..548c321 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -709,6 +709,8 @@ git push heroku master</span>
<span class="w"> </span>### フォームの確認画面 
<span class="w"> </span>#### 顧客自身によるアカウント管理機能
<span class="w"> </span>+ ルーティング
<span class="gi">++ 顧客トップページの修正</span>
<span class="gi">+</span>
<span class="w"> </span>#### 確認画面
<span class="w"> </span>#### 演習問題

<span class="gh">diff --git a/app/assets/stylesheets/components/common/_header.scss b/app/assets/stylesheets/components/common/_header.scss</span>
<span class="gh">index 2a68577..a91cc29 100644</span>
<span class="gd">--- a/app/assets/stylesheets/components/common/_header.scss</span>
<span class="gi">+++ b/app/assets/stylesheets/components/common/_header.scss</span>
<span class="gu">@@ -23,4 +23,7 @@</span>
<span class="w"> </span>      font-size: 22px;
<span class="w"> </span>    }
<span class="w"> </span>  }
<span class="gi">+  &amp;__account {</span>
<span class="gi">+    margin-left: $wide;</span>
<span class="gi">+  }</span>
<span class="w"> </span>}
\ No newline at end of file
<span class="gh">diff --git a/app/views/customer/shared/_header_login.html.erb b/app/views/customer/shared/_header_login.html.erb</span>
<span class="gh">index d957b92..0bc79c2 100644</span>
<span class="gd">--- a/app/views/customer/shared/_header_login.html.erb</span>
<span class="gi">+++ b/app/views/customer/shared/_header_login.html.erb</span>
<span class="gu">@@ -22,4 +22,5 @@</span>
<span class="w"> </span>        link_to t(&#39;customer.shared.header.login&#39;), :customer_login, class: &#39;btn btn-default&#39;
<span class="w"> </span>      end
<span class="w"> </span>  %&gt;
<span class="gi">+  &lt;%= link_to t(&#39;customer.shared.header.account&#39;), :customer_account, class: &#39;btn btn-default Header__account&#39; if current_customer %&gt;</span>
<span class="w"> </span>&lt;/header&gt;
\ No newline at end of file
<span class="gh">diff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml</span>
<span class="gh">index 4084d1a..23cb9c2 100644</span>
<span class="gd">--- a/config/locales/views/ja.yml</span>
<span class="gi">+++ b/config/locales/views/ja.yml</span>
<span class="gu">@@ -211,6 +211,7 @@ ja:</span>
<span class="w"> </span>      header:
<span class="w"> </span>        login: &#39;ログイン&#39;
<span class="w"> </span>        logout: &#39;ログアウト&#39;
<span class="gi">+        account: &#39;アカウント&#39;</span>
<span class="w"> </span>    sessions:
<span class="w"> </span>      new:
<span class="w"> </span>        title: &#39;ログイン&#39;
</code></pre></div>
<h2 id="9f635a9">コミット: 9f635a9<a class="headerlink" href="#9f635a9" title="Permanent link">&para;</a></h2>
<h3 id="_56">メッセージ<a class="headerlink" href="#_56" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>ルーティング #24
</code></pre></div>
<h3 id="_57">変更されたファイル<a class="headerlink" href="#_57" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M config/routes.rb</li>
</ul>
<h3 id="_58">変更内容<a class="headerlink" href="#_58" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 9f635a9525593d2466393a1db44375197606e8b1
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 12:51:21 2017 +0900

<span class="w"> </span>   ルーティング #24

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index cad918c..27d50a1 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -708,6 +708,7 @@ git push heroku master</span>

<span class="w"> </span>### フォームの確認画面 
<span class="w"> </span>#### 顧客自身によるアカウント管理機能
<span class="gi">++ ルーティング</span>
<span class="w"> </span>#### 確認画面
<span class="w"> </span>#### 演習問題

<span class="gh">diff --git a/config/routes.rb b/config/routes.rb</span>
<span class="gh">index 829ed42..ee7c8e3 100644</span>
<span class="gd">--- a/config/routes.rb</span>
<span class="gi">+++ b/config/routes.rb</span>
<span class="gu">@@ -1,6 +1,9 @@</span>
<span class="w"> </span># == Route Map
<span class="w"> </span>#
<span class="w"> </span>#                          Prefix Verb   URI Pattern                                          Controller#Action
<span class="gi">+#         customer_entries_create GET    /customer/entries/create(.:format)                   customer/entries#create</span>
<span class="gi">+#         customer_programs_index GET    /customer/programs/index(.:format)                   customer/programs#index</span>
<span class="gi">+#          customer_programs_show GET    /customer/programs/show(.:format)                    customer/programs#show</span>
<span class="w"> </span>#                      staff_root GET    /staff(.:format)                                     staff/top#index {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                     staff_login GET    /staff/login(.:format)                               staff/sessions#new {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                   staff_session DELETE /staff/session(.:format)                             staff/sessions#destroy {:host=&gt;&quot;0.0.0.0&quot;}
<span class="gu">@@ -54,6 +57,12 @@</span>
<span class="w"> </span>#                  customer_login GET    /login(.:format)                                     customer/sessions#new {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                customer_session DELETE /session(.:format)                                   customer/sessions#destroy {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                                 POST   /session(.:format)                                   customer/sessions#create {:host=&gt;&quot;0.0.0.0&quot;}
<span class="gi">+#           edit_customer_account GET    /account/edit(.:format)                              customer/accounts#edit {:host=&gt;&quot;0.0.0.0&quot;}</span>
<span class="gi">+#                customer_account GET    /account(.:format)                                   customer/accounts#show {:host=&gt;&quot;0.0.0.0&quot;}</span>
<span class="gi">+#                                 PATCH  /account(.:format)                                   customer/accounts#update {:host=&gt;&quot;0.0.0.0&quot;}</span>
<span class="gi">+#                                 PUT    /account(.:format)                                   customer/accounts#update {:host=&gt;&quot;0.0.0.0&quot;}</span>
<span class="gi">+#   cancel_customer_program_entry PATCH  /programs/:program_id/entries/:id/cancel(.:format)   customer/entries#cancel {:host=&gt;&quot;0.0.0.0&quot;}</span>
<span class="gi">+#        customer_program_entries POST   /programs/:program_id/entries(.:format)              customer/entries#create {:host=&gt;&quot;0.0.0.0&quot;}</span>
<span class="w"> </span>#               customer_programs GET    /programs(.:format)                                  customer/programs#index {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                customer_program GET    /programs/:id(.:format)                              customer/programs#show {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                            root GET    /                                                    errors#routing_error
<span class="gu">@@ -115,6 +124,7 @@ Rails.application.routes.draw do</span>
<span class="w"> </span>      get &#39;campaign_submit&#39;, to: &#39;campaign#submit&#39;
<span class="w"> </span>      get &#39;login&#39; =&gt; &#39;sessions#new&#39;, as: :login
<span class="w"> </span>      resource :session, only: [ :create, :destroy ]
<span class="gi">+      resource :account, except: [ :new, :create, :destroy ]</span>
<span class="w"> </span>      resources :programs, only: [ :index, :show ] do
<span class="w"> </span>        resources :entries, only: [ :create ] do
<span class="w"> </span>          patch :cancel, on: :member
</code></pre></div>
<h2 id="b48c9a1">コミット: b48c9a1<a class="headerlink" href="#b48c9a1" title="Permanent link">&para;</a></h2>
<h3 id="_59">メッセージ<a class="headerlink" href="#_59" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>トランザクションと排他的ロック #25
</code></pre></div>
<h3 id="_60">変更されたファイル<a class="headerlink" href="#_60" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/views/customer/top/dashboard.html.erb</li>
</ul>
<h3 id="_61">変更内容<a class="headerlink" href="#_61" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit b48c9a1cd9145150e646028709e20471b5dcaac7
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 12:35:11 2017 +0900

<span class="w"> </span>   トランザクションと排他的ロック #25

<span class="gh">diff --git a/app/views/customer/top/dashboard.html.erb b/app/views/customer/top/dashboard.html.erb</span>
<span class="gh">index 83a0f41..fd60d28 100644</span>
<span class="gd">--- a/app/views/customer/top/dashboard.html.erb</span>
<span class="gi">+++ b/app/views/customer/top/dashboard.html.erb</span>
<span class="gu">@@ -8,6 +8,10 @@</span>
<span class="w"> </span>    &lt;h2 class=&quot;sectionLabel&quot;&gt;お知らせ&lt;/h2&gt;
<span class="w"> </span>  &lt;/div&gt;
<span class="w"> </span>  &lt;ol class=&quot;NewsList&quot;&gt;
<span class="gi">+    &lt;li class=&quot;NewsList__item&quot;&gt;</span>
<span class="gi">+      &lt;time class=&quot;NewsList__head&quot; datatime=&quot;2017-3-17&quot;&gt;2017.3.17&lt;/time&gt;</span>
<span class="gi">+      &lt;span class=&quot;NewsList__body&quot;&gt;プログラム申し込み機能追加&lt;/span&gt;</span>
<span class="gi">+    &lt;/li&gt;</span>
<span class="w"> </span>    &lt;li class=&quot;NewsList__item&quot;&gt;
<span class="w"> </span>      &lt;time class=&quot;NewsList__head&quot; datatime=&quot;2017-2-9&quot;&gt;2017.2.9&lt;/time&gt;
<span class="w"> </span>      &lt;span class=&quot;NewsList__body&quot;&gt;顧客ログイン・ログアウト機能追加&lt;/span&gt;
</code></pre></div>
<h2 id="1569069">コミット: 1569069<a class="headerlink" href="#1569069" title="Permanent link">&para;</a></h2>
<h3 id="_62">メッセージ<a class="headerlink" href="#_62" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>申し込みのキャンセル #25
</code></pre></div>
<h3 id="_63">変更されたファイル<a class="headerlink" href="#_63" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M app/controllers/customer/entries_controller.rb</li>
<li>M app/presenters/customer/program_presenter.rb</li>
<li>M config/locales/controllers/ja.yml</li>
<li>M config/locales/views/ja.yml</li>
</ul>
<h3 id="_64">変更内容<a class="headerlink" href="#_64" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 1569069f69cf3a283370394db1d768d8f2a0abc8
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 12:31:15 2017 +0900

<span class="w"> </span>   申し込みのキャンセル #25

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index c648b7d..cad918c 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -704,6 +704,7 @@ git push heroku master</span>
<span class="w"> </span>+ 申込みを受け付ける
<span class="w"> </span>+ 排他制御
<span class="w"> </span>+ プログラム申し込み機能の仕上げ
<span class="gi">++ 申し込みのキャンセル</span>

<span class="w"> </span>### フォームの確認画面 
<span class="w"> </span>#### 顧客自身によるアカウント管理機能
<span class="gh">diff --git a/app/controllers/customer/entries_controller.rb b/app/controllers/customer/entries_controller.rb</span>
<span class="gh">index 7951433..8de2e01 100644</span>
<span class="gd">--- a/app/controllers/customer/entries_controller.rb</span>
<span class="gi">+++ b/app/controllers/customer/entries_controller.rb</span>
<span class="gu">@@ -11,4 +11,13 @@ class Customer::EntriesController &lt; Customer::Base</span>
<span class="w"> </span>      end
<span class="w"> </span>    redirect_to [ :customer, program ]
<span class="w"> </span>  end
<span class="gi">+</span>
<span class="gi">+  # PATCH</span>
<span class="gi">+  def cancel</span>
<span class="gi">+    program = Program.published.find(params[:program_id])</span>
<span class="gi">+    entry = program.entries.where(customer_id: current_customer.id).first!</span>
<span class="gi">+    entry.update_column(:canceled, true)</span>
<span class="gi">+    flash.notice = t(&#39;.flash_notice&#39;)</span>
<span class="gi">+    redirect_to [:customer, program ]</span>
<span class="gi">+  end</span>
<span class="w"> </span>end
<span class="gh">diff --git a/app/presenters/customer/program_presenter.rb b/app/presenters/customer/program_presenter.rb</span>
<span class="gh">index da482cb..ec7ec6c 100644</span>
<span class="gd">--- a/app/presenters/customer/program_presenter.rb</span>
<span class="gi">+++ b/app/presenters/customer/program_presenter.rb</span>
<span class="gu">@@ -2,6 +2,7 @@ class Customer::ProgramPresenter &lt; ModelPresenter</span>
<span class="w"> </span>  delegate :title,
<span class="w"> </span>           :description, to: :object
<span class="w"> </span>  delegate :number_with_delimiter,
<span class="gi">+           :current_customer,</span>
<span class="w"> </span>           :button_to, to: :view_context

<span class="w"> </span>  def initialize(object, view_context)
<span class="gu">@@ -26,8 +27,13 @@ class Customer::ProgramPresenter &lt; ModelPresenter</span>
<span class="w"> </span>  end

<span class="w"> </span>  def apply_or_cancel_button
<span class="gd">-    closed = object.application_end_time &lt; Time.current</span>
<span class="gd">-    label_text = closed ? I18n.t(&#39;customer.programs.show.closed&#39;) : I18n.t(&#39;customer.programs.show.apply&#39;)</span>
<span class="gd">-    button_to label_text, [ :customer, object, :entries ], disabled: closed, method: :post, class: &#39;btn btn-default&#39;, data: { confirm: I18n.t(&#39;customer.programs.show.confirm&#39;)}</span>
<span class="gi">+    if entry = object.entries.where(customer_id: current_customer.id).first</span>
<span class="gi">+      label_text = entry.canceled? ? I18n.t(&#39;customer.programs.show.canceled&#39;) : I18n.t(&#39;customer.programs.show.cancel&#39;)</span>
<span class="gi">+      button_to label_text, [ :cancel, :customer, object, entry ], disabled: entry.canceled?, method: :patch, class: &#39;btn btn-default&#39;, data: { confirm: I18n.t(&#39;customer.programs.show.confirm_cancel&#39;) }</span>
<span class="gi">+    else</span>
<span class="gi">+      closed = object.application_end_time &lt; Time.current</span>
<span class="gi">+      label_text = closed ? I18n.t(&#39;customer.programs.show.closed&#39;) : I18n.t(&#39;customer.programs.show.apply&#39;)</span>
<span class="gi">+      button_to label_text, [ :customer, object, :entries ], disabled: closed, method: :post, class: &#39;btn btn-default&#39;, data: { confirm: I18n.t(&#39;customer.programs.show.confirm&#39;)}</span>
<span class="gi">+    end</span>
<span class="w"> </span>  end
<span class="w"> </span>end
\ No newline at end of file
<span class="gh">diff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml</span>
<span class="gh">index 75054a5..facc37e 100644</span>
<span class="gd">--- a/config/locales/controllers/ja.yml</span>
<span class="gi">+++ b/config/locales/controllers/ja.yml</span>
<span class="gu">@@ -70,4 +70,6 @@ ja:</span>
<span class="w"> </span>      create:
<span class="w"> </span>        flash_notice: &#39;プログラムに申し込みました。&#39;
<span class="w"> </span>        flash_alert: &#39;プログラムへの申込者数が上限に達しました。&#39;
<span class="gd">-        flash_alert_close: &#39;プログラムの申し込み期限が終了しました。&#39;</span>
\ No newline at end of file
<span class="gi">+        flash_alert_close: &#39;プログラムの申し込み期限が終了しました。&#39;</span>
<span class="gi">+      cancel:</span>
<span class="gi">+        flash_notice: &#39;プログラムへの申込みをキャンセルしました。&#39;</span>
\ No newline at end of file
<span class="gh">diff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml</span>
<span class="gh">index b7b7b1b..4084d1a 100644</span>
<span class="gd">--- a/config/locales/views/ja.yml</span>
<span class="gi">+++ b/config/locales/views/ja.yml</span>
<span class="gu">@@ -237,6 +237,9 @@ ja:</span>
<span class="w"> </span>        program_end: &#39;申し込み終了日時&#39;
<span class="w"> </span>        program_min_entry: &#39;最小参加者数&#39;
<span class="w"> </span>        program_max_entry: &#39;最大参観者数&#39;
<span class="gi">+        canceled: &#39;キャンセル済み&#39;</span>
<span class="gi">+        cancel: &#39;キャンセルする&#39;</span>
<span class="gi">+        confirm_cancel: &#39;本当にキャンセルしますか？&#39;</span>
<span class="w"> </span>        closed: &#39;募集終了&#39;
<span class="w"> </span>        apply: &#39;申し込む&#39;
<span class="w"> </span>        confirm: &#39;本当に申し込みますか？&#39;
\ No newline at end of file
</code></pre></div>
<h3 id="_65">構造変更<a class="headerlink" href="#_65" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgMjU3IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjkxNDEiIHg9IjUiIHk9IjE2LjEzODciPldlbGNvbWUgdG8gUGxhbnRVTUwhPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMzAuMTA3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ny4xMDc0IiB4PSI1IiB5PSI0NC4wNzYyIj5Zb3UgY2FuIHN0YXJ0IHdpdGggYSBzaW1wbGUgVU1MIERpYWdyYW0gbGlrZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI1OC4wNDQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE4NCIgeD0iNSIgeT0iNzIuMDEzNyI+Qm9iLSZndDtBbGljZTomIzE2MDtIZWxsbzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9Ijg1Ljk4MjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNC4zNzg5IiB4PSI1IiB5PSI5OS45NTEyIj5PcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjExMy45MTk5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My45MTk5IiB4PSI1IiB5PSIxMjcuODg4NyI+Y2xhc3MmIzE2MDtFeGFtcGxlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTQxLjg1NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDEuOTUzMSIgeD0iNSIgeT0iMTU1LjgyNjIiPllvdSB3aWxsIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBQbGFudFVNTCBzeW50YXggb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyNS43MDEyIiB4PSIzNTAuNzY3NiIgeT0iMTU1LjgyNjIiPmh0dHBzOi8vcGxhbnR1bWwuY29tPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTY5Ljc5NDkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNjExMyIgeD0iNSIgeT0iMTgzLjc2MzciPihEZXRhaWxzIGJ5IHR5cGluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU3MjMiIHg9IjExNS40MjU4IiB5PSIxODMuNzYzNyI+bGljZW5zZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS44MjIzIiB4PSIxNjkuODEyNSIgeT0iMTgzLjc2MzciPmtleXdvcmQpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTk3LjczMjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjIxMS43MDEyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIyMjUuNjY5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMjM5LjYzODciPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjI1My42MDc0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA2LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSIxODUuNDM3NSIvPjwhLS1TUkM9W0tyVHV0M1p2U1VFd25xc1I3cFZGVnpwU19CWXZ1dDdad2lURDdPLVJrZnlqeHR4UGlFM2ZhaXZkaXhTeVJmaHFPazZBbnVxcDdwU3RGNnZReWhYZnFVRWMzTy1STHB2a05XMkswWGkySEFqVnhEX3hqNmwxdXlSZlpua05GTXhpVnptOFA0enp0RFoyZlF4bVA1LXQ1UDFBcGFhaUJiUm1Jb3J0MVo3VzBndUxjU0tiY05kZkM1Nk8wV0xUTkpqS0lHMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="954b550">コミット: 954b550<a class="headerlink" href="#954b550" title="Permanent link">&para;</a></h2>
<h3 id="_66">メッセージ<a class="headerlink" href="#_66" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>プログラム申し込み機能の仕上げ #25
</code></pre></div>
<h3 id="_67">変更されたファイル<a class="headerlink" href="#_67" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M app/controllers/customer/entries_controller.rb</li>
<li>M app/services/customer/entry_acceptor.rb</li>
<li>M config/locales/controllers/ja.yml</li>
</ul>
<h3 id="_68">変更内容<a class="headerlink" href="#_68" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 954b550a87d6a874091654ce91ea5d07e9a5c209
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 12:11:50 2017 +0900

<span class="w"> </span>   プログラム申し込み機能の仕上げ #25

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index bad088c..c648b7d 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -703,6 +703,7 @@ git push heroku master</span>
<span class="w"> </span>+ 「申し込む」ボタンの設置
<span class="w"> </span>+ 申込みを受け付ける
<span class="w"> </span>+ 排他制御
<span class="gi">++ プログラム申し込み機能の仕上げ</span>

<span class="w"> </span>### フォームの確認画面 
<span class="w"> </span>#### 顧客自身によるアカウント管理機能
<span class="gh">diff --git a/app/controllers/customer/entries_controller.rb b/app/controllers/customer/entries_controller.rb</span>
<span class="gh">index 987bacb..7951433 100644</span>
<span class="gd">--- a/app/controllers/customer/entries_controller.rb</span>
<span class="gi">+++ b/app/controllers/customer/entries_controller.rb</span>
<span class="gu">@@ -6,6 +6,8 @@ class Customer::EntriesController &lt; Customer::Base</span>
<span class="w"> </span>        flash.notice = t(&#39;.flash_notice&#39;)
<span class="w"> </span>      when :full
<span class="w"> </span>        flash.alert = t(&#39;.flash_alert&#39;)
<span class="gi">+      when :closed</span>
<span class="gi">+        flash.alert =  t(&#39;.flash_alert_close&#39;)</span>
<span class="w"> </span>      end
<span class="w"> </span>    redirect_to [ :customer, program ]
<span class="w"> </span>  end
<span class="gh">diff --git a/app/services/customer/entry_acceptor.rb b/app/services/customer/entry_acceptor.rb</span>
<span class="gh">index 95870d4..14acf50 100644</span>
<span class="gd">--- a/app/services/customer/entry_acceptor.rb</span>
<span class="gi">+++ b/app/services/customer/entry_acceptor.rb</span>
<span class="gu">@@ -4,9 +4,13 @@ class Customer::EntryAcceptor</span>
<span class="w"> </span>  end

<span class="w"> </span>  def accept(program)
<span class="gi">+    raise if Time.current &lt; program.application_start_time</span>
<span class="gi">+    return :closed if Time.current &gt;= program.application_end_time</span>
<span class="w"> </span>    ActiveRecord::Base.transaction do
<span class="w"> </span>      program.lock!
<span class="gd">-      if max = program.max_number_of_participants</span>
<span class="gi">+      if program.entries.where(customer_id: @customer.id).exists?</span>
<span class="gi">+        return :accepted</span>
<span class="gi">+      elsif max = program.max_number_of_participants</span>
<span class="w"> </span>        if program.entries.where(canceled: false).count &lt; max
<span class="w"> </span>          program.entries.create!(customer: @customer)
<span class="w"> </span>          return :accepted
<span class="gh">diff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml</span>
<span class="gh">index ea7b0af..75054a5 100644</span>
<span class="gd">--- a/config/locales/controllers/ja.yml</span>
<span class="gi">+++ b/config/locales/controllers/ja.yml</span>
<span class="gu">@@ -69,4 +69,5 @@ ja:</span>
<span class="w"> </span>    entries:
<span class="w"> </span>      create:
<span class="w"> </span>        flash_notice: &#39;プログラムに申し込みました。&#39;
<span class="gd">-        flash_alert: &#39;プログラムへの申込者数が上限に達しました。&#39;</span>
\ No newline at end of file
<span class="gi">+        flash_alert: &#39;プログラムへの申込者数が上限に達しました。&#39;</span>
<span class="gi">+        flash_alert_close: &#39;プログラムの申し込み期限が終了しました。&#39;</span>
\ No newline at end of file
</code></pre></div>
<h3 id="_69">構造変更<a class="headerlink" href="#_69" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgMjU3IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjkxNDEiIHg9IjUiIHk9IjE2LjEzODciPldlbGNvbWUgdG8gUGxhbnRVTUwhPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMzAuMTA3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ny4xMDc0IiB4PSI1IiB5PSI0NC4wNzYyIj5Zb3UgY2FuIHN0YXJ0IHdpdGggYSBzaW1wbGUgVU1MIERpYWdyYW0gbGlrZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI1OC4wNDQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE4NCIgeD0iNSIgeT0iNzIuMDEzNyI+Qm9iLSZndDtBbGljZTomIzE2MDtIZWxsbzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9Ijg1Ljk4MjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNC4zNzg5IiB4PSI1IiB5PSI5OS45NTEyIj5PcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjExMy45MTk5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My45MTk5IiB4PSI1IiB5PSIxMjcuODg4NyI+Y2xhc3MmIzE2MDtFeGFtcGxlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTQxLjg1NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDEuOTUzMSIgeD0iNSIgeT0iMTU1LjgyNjIiPllvdSB3aWxsIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBQbGFudFVNTCBzeW50YXggb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyNS43MDEyIiB4PSIzNTAuNzY3NiIgeT0iMTU1LjgyNjIiPmh0dHBzOi8vcGxhbnR1bWwuY29tPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTY5Ljc5NDkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNjExMyIgeD0iNSIgeT0iMTgzLjc2MzciPihEZXRhaWxzIGJ5IHR5cGluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU3MjMiIHg9IjExNS40MjU4IiB5PSIxODMuNzYzNyI+bGljZW5zZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS44MjIzIiB4PSIxNjkuODEyNSIgeT0iMTgzLjc2MzciPmtleXdvcmQpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTk3LjczMjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjIxMS43MDEyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIyMjUuNjY5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMjM5LjYzODciPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjI1My42MDc0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA2LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSIxODUuNDM3NSIvPjwhLS1TUkM9W0tyVHV0M1p2U1VFd25xc1I3cFZGVnpwU19CWXZ1dDdad2lURDdPLVJrZnlqeHR4UGlFM2ZhaXZkaXhTeVJmaHFPazZBbnVxcDdwU3RGNnZReWhYZnFVRWMzTy1STHB2a05XMkswWGkySEFqVnhEX3hqNmwxdXlSZlpua05GTXhpVnptOFA0enp0RFoyZlF4bVA1LXQ1UDFBcGFhaUJiUm1Jb3J0MVo3VzBndUxjU0tiY05kZkM1Nk8wV0xUTkpqS0lHMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="2b2bac2">コミット: 2b2bac2<a class="headerlink" href="#2b2bac2" title="Permanent link">&para;</a></h2>
<h3 id="_70">メッセージ<a class="headerlink" href="#_70" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>排他制御 #25
</code></pre></div>
<h3 id="_71">変更されたファイル<a class="headerlink" href="#_71" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M app/services/customer/entry_acceptor.rb</li>
</ul>
<h3 id="_72">変更内容<a class="headerlink" href="#_72" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 2b2bac21b78c8e9ca99bf63846dffcece916bb1f
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 11:48:13 2017 +0900

<span class="w"> </span>   排他制御 #25

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index c516ed6..bad088c 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -702,6 +702,7 @@ git push heroku master</span>
<span class="w"> </span>+ 仕様の確認
<span class="w"> </span>+ 「申し込む」ボタンの設置
<span class="w"> </span>+ 申込みを受け付ける
<span class="gi">++ 排他制御</span>

<span class="w"> </span>### フォームの確認画面 
<span class="w"> </span>#### 顧客自身によるアカウント管理機能
<span class="gh">diff --git a/app/services/customer/entry_acceptor.rb b/app/services/customer/entry_acceptor.rb</span>
<span class="gh">index f5ad52c..95870d4 100644</span>
<span class="gd">--- a/app/services/customer/entry_acceptor.rb</span>
<span class="gi">+++ b/app/services/customer/entry_acceptor.rb</span>
<span class="gu">@@ -4,16 +4,19 @@ class Customer::EntryAcceptor</span>
<span class="w"> </span>  end

<span class="w"> </span>  def accept(program)
<span class="gd">-    if max = program.max_number_of_participants</span>
<span class="gd">-      if program.entries.where(canceled: false).count &lt; max</span>
<span class="gi">+    ActiveRecord::Base.transaction do</span>
<span class="gi">+      program.lock!</span>
<span class="gi">+      if max = program.max_number_of_participants</span>
<span class="gi">+        if program.entries.where(canceled: false).count &lt; max</span>
<span class="gi">+          program.entries.create!(customer: @customer)</span>
<span class="gi">+          return :accepted</span>
<span class="gi">+        else</span>
<span class="gi">+          return :full</span>
<span class="gi">+        end</span>
<span class="gi">+      else</span>
<span class="w"> </span>        program.entries.create!(customer: @customer)
<span class="w"> </span>        return :accepted
<span class="gd">-      else</span>
<span class="gd">-        return :full</span>
<span class="w"> </span>      end
<span class="gd">-    else</span>
<span class="gd">-      program.entries.create!(customer: @customer)</span>
<span class="gd">-      return :accepted</span>
<span class="w"> </span>    end
<span class="w"> </span>  end
<span class="w"> </span>end
\ No newline at end of file
</code></pre></div>
<h3 id="_73">構造変更<a class="headerlink" href="#_73" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgMjU3IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjkxNDEiIHg9IjUiIHk9IjE2LjEzODciPldlbGNvbWUgdG8gUGxhbnRVTUwhPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMzAuMTA3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ny4xMDc0IiB4PSI1IiB5PSI0NC4wNzYyIj5Zb3UgY2FuIHN0YXJ0IHdpdGggYSBzaW1wbGUgVU1MIERpYWdyYW0gbGlrZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI1OC4wNDQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE4NCIgeD0iNSIgeT0iNzIuMDEzNyI+Qm9iLSZndDtBbGljZTomIzE2MDtIZWxsbzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9Ijg1Ljk4MjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNC4zNzg5IiB4PSI1IiB5PSI5OS45NTEyIj5PcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjExMy45MTk5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My45MTk5IiB4PSI1IiB5PSIxMjcuODg4NyI+Y2xhc3MmIzE2MDtFeGFtcGxlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTQxLjg1NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDEuOTUzMSIgeD0iNSIgeT0iMTU1LjgyNjIiPllvdSB3aWxsIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBQbGFudFVNTCBzeW50YXggb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyNS43MDEyIiB4PSIzNTAuNzY3NiIgeT0iMTU1LjgyNjIiPmh0dHBzOi8vcGxhbnR1bWwuY29tPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTY5Ljc5NDkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNjExMyIgeD0iNSIgeT0iMTgzLjc2MzciPihEZXRhaWxzIGJ5IHR5cGluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU3MjMiIHg9IjExNS40MjU4IiB5PSIxODMuNzYzNyI+bGljZW5zZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS44MjIzIiB4PSIxNjkuODEyNSIgeT0iMTgzLjc2MzciPmtleXdvcmQpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTk3LjczMjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjIxMS43MDEyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIyMjUuNjY5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMjM5LjYzODciPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjI1My42MDc0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA2LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSIxODUuNDM3NSIvPjwhLS1TUkM9W0tyVHV0M1p2U1VFd25xc1I3cFZGVnpwU19CWXZ1dDdad2lURDdPLVJrZnlqeHR4UGlFM2ZhaXZkaXhTeVJmaHFPazZBbnVxcDdwU3RGNnZReWhYZnFVRWMzTy1STHB2a05XMkswWGkySEFqVnhEX3hqNmwxdXlSZlpua05GTXhpVnptOFA0enp0RFoyZlF4bVA1LXQ1UDFBcGFhaUJiUm1Jb3J0MVo3VzBndUxjU0tiY05kZkM1Nk8wV0xUTkpqS0lHMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="0c95ec6">コミット: 0c95ec6<a class="headerlink" href="#0c95ec6" title="Permanent link">&para;</a></h2>
<h3 id="_74">メッセージ<a class="headerlink" href="#_74" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>申込みを受け付ける #25
</code></pre></div>
<h3 id="_75">変更されたファイル<a class="headerlink" href="#_75" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>A app/controllers/customer/entries_controller.rb</li>
<li>A app/services/customer/entry_acceptor.rb</li>
<li>M config/locales/controllers/ja.yml</li>
<li>M config/routes.rb</li>
</ul>
<h3 id="_76">変更内容<a class="headerlink" href="#_76" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 0c95ec6a6eb165af9bdcd8c7acf9e159001068d4
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 11:40:36 2017 +0900

<span class="w"> </span>   申込みを受け付ける #25

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index 3c44fce..c516ed6 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -701,6 +701,7 @@ git push heroku master</span>
<span class="w"> </span>#### プログラム申し込み機能
<span class="w"> </span>+ 仕様の確認
<span class="w"> </span>+ 「申し込む」ボタンの設置
<span class="gi">++ 申込みを受け付ける</span>

<span class="w"> </span>### フォームの確認画面 
<span class="w"> </span>#### 顧客自身によるアカウント管理機能
<span class="gh">diff --git a/app/controllers/customer/entries_controller.rb b/app/controllers/customer/entries_controller.rb</span>
new file mode 100644
<span class="gh">index 0000000..987bacb</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/controllers/customer/entries_controller.rb</span>
<span class="gu">@@ -0,0 +1,12 @@</span>
<span class="gi">+class Customer::EntriesController &lt; Customer::Base</span>
<span class="gi">+  def create</span>
<span class="gi">+    program = Program.published.find(params[:program_id])</span>
<span class="gi">+    case Customer::EntryAcceptor.new(current_customer).accept(program)</span>
<span class="gi">+      when :accepted</span>
<span class="gi">+        flash.notice = t(&#39;.flash_notice&#39;)</span>
<span class="gi">+      when :full</span>
<span class="gi">+        flash.alert = t(&#39;.flash_alert&#39;)</span>
<span class="gi">+      end</span>
<span class="gi">+    redirect_to [ :customer, program ]</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
<span class="gh">diff --git a/app/services/customer/entry_acceptor.rb b/app/services/customer/entry_acceptor.rb</span>
new file mode 100644
<span class="gh">index 0000000..f5ad52c</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/services/customer/entry_acceptor.rb</span>
<span class="gu">@@ -0,0 +1,19 @@</span>
<span class="gi">+class Customer::EntryAcceptor</span>
<span class="gi">+  def initialize(customer)</span>
<span class="gi">+    @customer = customer</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  def accept(program)</span>
<span class="gi">+    if max = program.max_number_of_participants</span>
<span class="gi">+      if program.entries.where(canceled: false).count &lt; max</span>
<span class="gi">+        program.entries.create!(customer: @customer)</span>
<span class="gi">+        return :accepted</span>
<span class="gi">+      else</span>
<span class="gi">+        return :full</span>
<span class="gi">+      end</span>
<span class="gi">+    else</span>
<span class="gi">+      program.entries.create!(customer: @customer)</span>
<span class="gi">+      return :accepted</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
\ No newline at end of file
<span class="gh">diff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml</span>
<span class="gh">index f6b50e3..ea7b0af 100644</span>
<span class="gd">--- a/config/locales/controllers/ja.yml</span>
<span class="gi">+++ b/config/locales/controllers/ja.yml</span>
<span class="gu">@@ -65,4 +65,8 @@ ja:</span>
<span class="w"> </span>  customer:
<span class="w"> </span>    base:
<span class="w"> </span>      authrize:
<span class="gd">-        flash_alert: &#39;ログインしてください。&#39;</span>
\ No newline at end of file
<span class="gi">+        flash_alert: &#39;ログインしてください。&#39;</span>
<span class="gi">+    entries:</span>
<span class="gi">+      create:</span>
<span class="gi">+        flash_notice: &#39;プログラムに申し込みました。&#39;</span>
<span class="gi">+        flash_alert: &#39;プログラムへの申込者数が上限に達しました。&#39;</span>
\ No newline at end of file
<span class="gh">diff --git a/config/routes.rb b/config/routes.rb</span>
<span class="gh">index f9f2b3d..829ed42 100644</span>
<span class="gd">--- a/config/routes.rb</span>
<span class="gi">+++ b/config/routes.rb</span>
<span class="gu">@@ -61,6 +61,10 @@</span>
<span class="w"> </span>#

<span class="w"> </span>Rails.application.routes.draw do
<span class="gi">+  namespace :customer do</span>
<span class="gi">+    get &#39;entries/create&#39;</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="w"> </span>  namespace :customer do
<span class="w"> </span>    get &#39;programs/index&#39;
<span class="w"> </span>  end
</code></pre></div>
<h3 id="_77">構造変更<a class="headerlink" href="#_77" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgMjU3IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjkxNDEiIHg9IjUiIHk9IjE2LjEzODciPldlbGNvbWUgdG8gUGxhbnRVTUwhPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMzAuMTA3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ny4xMDc0IiB4PSI1IiB5PSI0NC4wNzYyIj5Zb3UgY2FuIHN0YXJ0IHdpdGggYSBzaW1wbGUgVU1MIERpYWdyYW0gbGlrZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI1OC4wNDQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE4NCIgeD0iNSIgeT0iNzIuMDEzNyI+Qm9iLSZndDtBbGljZTomIzE2MDtIZWxsbzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9Ijg1Ljk4MjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNC4zNzg5IiB4PSI1IiB5PSI5OS45NTEyIj5PcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjExMy45MTk5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My45MTk5IiB4PSI1IiB5PSIxMjcuODg4NyI+Y2xhc3MmIzE2MDtFeGFtcGxlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTQxLjg1NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDEuOTUzMSIgeD0iNSIgeT0iMTU1LjgyNjIiPllvdSB3aWxsIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBQbGFudFVNTCBzeW50YXggb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyNS43MDEyIiB4PSIzNTAuNzY3NiIgeT0iMTU1LjgyNjIiPmh0dHBzOi8vcGxhbnR1bWwuY29tPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTY5Ljc5NDkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNjExMyIgeD0iNSIgeT0iMTgzLjc2MzciPihEZXRhaWxzIGJ5IHR5cGluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU3MjMiIHg9IjExNS40MjU4IiB5PSIxODMuNzYzNyI+bGljZW5zZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS44MjIzIiB4PSIxNjkuODEyNSIgeT0iMTgzLjc2MzciPmtleXdvcmQpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTk3LjczMjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjIxMS43MDEyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIyMjUuNjY5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMjM5LjYzODciPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjI1My42MDc0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA2LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSIxODUuNDM3NSIvPjwhLS1TUkM9W0tyVHV0M1p2U1VFd25xc1I3cFZGVnpwU19CWXZ1dDdad2lURDdPLVJrZnlqeHR4UGlFM2ZhaXZkaXhTeVJmaHFPazZBbnVxcDdwU3RGNnZReWhYZnFVRWMzTy1STHB2a05XMkswWGkySEFqVnhEX3hqNmwxdXlSZlpua05GTXhpVnptOFA0enp0RFoyZlF4bVA1LXQ1UDFBcGFhaUJiUm1Jb3J0MVo3VzBndUxjU0tiY05kZkM1Nk8wV0xUTkpqS0lHMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="ac3058e">コミット: ac3058e<a class="headerlink" href="#ac3058e" title="Permanent link">&para;</a></h2>
<h3 id="_78">メッセージ<a class="headerlink" href="#_78" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>「申し込む」ボタンの設置 #25
</code></pre></div>
<h3 id="_79">変更されたファイル<a class="headerlink" href="#_79" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M app/presenters/customer/program_presenter.rb</li>
<li>M app/views/customer/programs/show.html.erb</li>
<li>M config/locales/views/ja.yml</li>
<li>M config/routes.rb</li>
</ul>
<h3 id="_80">変更内容<a class="headerlink" href="#_80" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit ac3058e33d597933520183e8edf99ab73b0d74ae
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 11:16:30 2017 +0900

<span class="w"> </span>   「申し込む」ボタンの設置 #25

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index f1e6f2b..3c44fce 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -699,6 +699,8 @@ git push heroku master</span>
<span class="w"> </span>+ プログラムの一覧と詳細

<span class="w"> </span>#### プログラム申し込み機能
<span class="gi">++ 仕様の確認</span>
<span class="gi">++ 「申し込む」ボタンの設置</span>

<span class="w"> </span>### フォームの確認画面 
<span class="w"> </span>#### 顧客自身によるアカウント管理機能
<span class="gh">diff --git a/app/presenters/customer/program_presenter.rb b/app/presenters/customer/program_presenter.rb</span>
<span class="gh">index 1e63019..da482cb 100644</span>
<span class="gd">--- a/app/presenters/customer/program_presenter.rb</span>
<span class="gi">+++ b/app/presenters/customer/program_presenter.rb</span>
<span class="gu">@@ -1,6 +1,8 @@</span>
<span class="w"> </span>class Customer::ProgramPresenter &lt; ModelPresenter
<span class="gd">-  delegate :title, :description, to: :object</span>
<span class="gd">-  delegate :number_with_delimiter, to: :view_context</span>
<span class="gi">+  delegate :title,</span>
<span class="gi">+           :description, to: :object</span>
<span class="gi">+  delegate :number_with_delimiter,</span>
<span class="gi">+           :button_to, to: :view_context</span>

<span class="w"> </span>  def initialize(object, view_context)
<span class="w"> </span>    super
<span class="gu">@@ -22,4 +24,10 @@ class Customer::ProgramPresenter &lt; ModelPresenter</span>
<span class="w"> </span>  def min_number_of_participants
<span class="w"> </span>    @delegated_presenter.min_number_of_participants
<span class="w"> </span>  end
<span class="gi">+</span>
<span class="gi">+  def apply_or_cancel_button</span>
<span class="gi">+    closed = object.application_end_time &lt; Time.current</span>
<span class="gi">+    label_text = closed ? I18n.t(&#39;customer.programs.show.closed&#39;) : I18n.t(&#39;customer.programs.show.apply&#39;)</span>
<span class="gi">+    button_to label_text, [ :customer, object, :entries ], disabled: closed, method: :post, class: &#39;btn btn-default&#39;, data: { confirm: I18n.t(&#39;customer.programs.show.confirm&#39;)}</span>
<span class="gi">+  end</span>
<span class="w"> </span>end
\ No newline at end of file
<span class="gh">diff --git a/app/views/customer/programs/show.html.erb b/app/views/customer/programs/show.html.erb</span>
<span class="gh">index 4e603f1..243debe 100644</span>
<span class="gd">--- a/app/views/customer/programs/show.html.erb</span>
<span class="gi">+++ b/app/views/customer/programs/show.html.erb</span>
<span class="gu">@@ -14,4 +14,6 @@</span>
<span class="w"> </span>  &lt;/table&gt;

<span class="w"> </span>  &lt;div class=&quot;Table__body--description&quot;&gt;&lt;%= @program.description %&gt;&lt;/div&gt;
<span class="gi">+</span>
<span class="gi">+  &lt;div&gt;&lt;%= p.apply_or_cancel_button %&gt;&lt;/div&gt;</span>
<span class="w"> </span>&lt;/section&gt;
<span class="gh">diff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml</span>
<span class="gh">index c9e5a7a..b7b7b1b 100644</span>
<span class="gd">--- a/config/locales/views/ja.yml</span>
<span class="gi">+++ b/config/locales/views/ja.yml</span>
<span class="gu">@@ -236,4 +236,7 @@ ja:</span>
<span class="w"> </span>        program_start: &#39;申し込み開始日時&#39;
<span class="w"> </span>        program_end: &#39;申し込み終了日時&#39;
<span class="w"> </span>        program_min_entry: &#39;最小参加者数&#39;
<span class="gd">-        program_max_entry: &#39;最大参観者数&#39;</span>
\ No newline at end of file
<span class="gi">+        program_max_entry: &#39;最大参観者数&#39;</span>
<span class="gi">+        closed: &#39;募集終了&#39;</span>
<span class="gi">+        apply: &#39;申し込む&#39;</span>
<span class="gi">+        confirm: &#39;本当に申し込みますか？&#39;</span>
\ No newline at end of file
<span class="gh">diff --git a/config/routes.rb b/config/routes.rb</span>
<span class="gh">index 45c887c..f9f2b3d 100644</span>
<span class="gd">--- a/config/routes.rb</span>
<span class="gi">+++ b/config/routes.rb</span>
<span class="gu">@@ -111,7 +111,11 @@ Rails.application.routes.draw do</span>
<span class="w"> </span>      get &#39;campaign_submit&#39;, to: &#39;campaign#submit&#39;
<span class="w"> </span>      get &#39;login&#39; =&gt; &#39;sessions#new&#39;, as: :login
<span class="w"> </span>      resource :session, only: [ :create, :destroy ]
<span class="gd">-      resources :programs, only: [ :index, :show ]</span>
<span class="gi">+      resources :programs, only: [ :index, :show ] do</span>
<span class="gi">+        resources :entries, only: [ :create ] do</span>
<span class="gi">+          patch :cancel, on: :member</span>
<span class="gi">+        end</span>
<span class="gi">+      end</span>
<span class="w"> </span>    end
<span class="w"> </span>  end
</code></pre></div>
<h2 id="da405c2">コミット: da405c2<a class="headerlink" href="#da405c2" title="Permanent link">&para;</a></h2>
<h3 id="_81">メッセージ<a class="headerlink" href="#_81" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>プログラムの一覧と詳細 #25
</code></pre></div>
<h3 id="_82">変更されたファイル<a class="headerlink" href="#_82" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>A app/assets/stylesheets/components/_customerTable.scss</li>
<li>M app/assets/stylesheets/main.scss</li>
<li>A app/controllers/customer/programs_controller.rb</li>
<li>M app/models/program.rb</li>
<li>A app/presenters/customer/program_presenter.rb</li>
<li>A app/views/customer/programs/_program.html.erb</li>
<li>A app/views/customer/programs/index.html.erb</li>
<li>A app/views/customer/programs/show.html.erb</li>
<li>M config/locales/views/ja.yml</li>
<li>M config/routes.rb</li>
</ul>
<h3 id="_83">変更内容<a class="headerlink" href="#_83" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit da405c27febe1e5924f52348b344aaac7e89494e
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 10:51:38 2017 +0900

<span class="w"> </span>   プログラムの一覧と詳細 #25

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index 31b1423..f1e6f2b 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -696,6 +696,7 @@ git push heroku master</span>
<span class="w"> </span>#### プログラム一覧表示・詳細表示機能（顧客向け)
<span class="w"> </span>+ ルーティング
<span class="w"> </span>+ 顧客トップページの修正
<span class="gi">++ プログラムの一覧と詳細</span>

<span class="w"> </span>#### プログラム申し込み機能

<span class="gh">diff --git a/app/assets/stylesheets/components/_customerTable.scss b/app/assets/stylesheets/components/_customerTable.scss</span>
new file mode 100644
<span class="gh">index 0000000..3d2d4b8</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/assets/stylesheets/components/_customerTable.scss</span>
<span class="gu">@@ -0,0 +1,6 @@</span>
<span class="gi">+.CustomerTable {</span>
<span class="gi">+  &amp;__body {</span>
<span class="gi">+    margin: $moderate auto 0;</span>
<span class="gi">+    border: solid $moderate $very_dark_yellow;</span>
<span class="gi">+  }</span>
<span class="gi">+}</span>
\ No newline at end of file
<span class="gh">diff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss</span>
<span class="gh">index 2b95725..6293d9d 100644</span>
<span class="gd">--- a/app/assets/stylesheets/main.scss</span>
<span class="gi">+++ b/app/assets/stylesheets/main.scss</span>
<span class="gu">@@ -80,6 +80,7 @@</span>
<span class="w"> </span>// テーブル
<span class="w"> </span>@import &quot;./components/adminTable&quot;;
<span class="w"> </span>@import &quot;./components/staffTable&quot;;
<span class="gi">+@import &quot;./components/customerTable&quot;;</span>

<span class="w"> </span>//font-awesome
<span class="w"> </span>@import &quot;font-awesome&quot;;
<span class="gh">diff --git a/app/controllers/customer/programs_controller.rb b/app/controllers/customer/programs_controller.rb</span>
new file mode 100644
<span class="gh">index 0000000..0cf4a1e</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/controllers/customer/programs_controller.rb</span>
<span class="gu">@@ -0,0 +1,9 @@</span>
<span class="gi">+class Customer::ProgramsController &lt; Customer::Base</span>
<span class="gi">+  def index</span>
<span class="gi">+    @programs = Program.published.page(params[:page])</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  def show</span>
<span class="gi">+    @program = Program.published.find(params[:id])</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
<span class="gh">diff --git a/app/models/program.rb b/app/models/program.rb</span>
<span class="gh">index 905887b..bc3c1d7 100644</span>
<span class="gd">--- a/app/models/program.rb</span>
<span class="gi">+++ b/app/models/program.rb</span>
<span class="gu">@@ -69,6 +69,10 @@ class Program &lt; ApplicationRecord</span>
<span class="w"> </span>        .order(application_start_time: :desc)
<span class="w"> </span>        .includes(:registrant)
<span class="w"> </span>  }
<span class="gi">+  scope :published, -&gt; {</span>
<span class="gi">+    where(&#39;application_start_time &lt;= ?&#39;, Time.current)</span>
<span class="gi">+    .order(application_start_time: :desc)</span>
<span class="gi">+  }</span>

<span class="w"> </span>  def deletable?
<span class="w"> </span>    entries.empty?
<span class="gh">diff --git a/app/presenters/customer/program_presenter.rb b/app/presenters/customer/program_presenter.rb</span>
new file mode 100644
<span class="gh">index 0000000..1e63019</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/presenters/customer/program_presenter.rb</span>
<span class="gu">@@ -0,0 +1,25 @@</span>
<span class="gi">+class Customer::ProgramPresenter &lt; ModelPresenter</span>
<span class="gi">+  delegate :title, :description, to: :object</span>
<span class="gi">+  delegate :number_with_delimiter, to: :view_context</span>
<span class="gi">+</span>
<span class="gi">+  def initialize(object, view_context)</span>
<span class="gi">+    super</span>
<span class="gi">+    @delegated_presenter = Staff::ProgramPresenter.new(@object, @view_context)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  def application_start_time</span>
<span class="gi">+    @delegated_presenter.application_start_time</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  def application_end_time</span>
<span class="gi">+    @delegated_presenter.application_end_time</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  def max_number_of_participants</span>
<span class="gi">+    @delegated_presenter.max_number_of_participants</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  def min_number_of_participants</span>
<span class="gi">+    @delegated_presenter.min_number_of_participants</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
\ No newline at end of file
<span class="gh">diff --git a/app/views/customer/programs/_program.html.erb b/app/views/customer/programs/_program.html.erb</span>
new file mode 100644
<span class="gh">index 0000000..c1a9a33</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/views/customer/programs/_program.html.erb</span>
<span class="gu">@@ -0,0 +1,11 @@</span>
<span class="gi">+&lt;% p = Customer::ProgramPresenter.new(program, self) %&gt;</span>
<span class="gi">+&lt;tr class=&quot;Table__tr&quot;&gt;</span>
<span class="gi">+  &lt;td class=&quot;Table__td&quot;&gt;&lt;%= p.title %&gt;&lt;/td&gt;</span>
<span class="gi">+  &lt;td class=&quot;Table__td--date&quot;&gt;&lt;%= p.application_start_time %&gt;&lt;/td&gt;</span>
<span class="gi">+  &lt;td class=&quot;Table__td--date&quot;&gt;&lt;%= p.application_end_time %&gt;&lt;/td&gt;</span>
<span class="gi">+  &lt;td class=&quot;Table__td--numeric&quot;&gt;&lt;%= p.min_number_of_participants %&gt;&lt;/td&gt;</span>
<span class="gi">+  &lt;td class=&quot;Table__td--numeric&quot;&gt;&lt;%= p.max_number_of_participants %&gt;&lt;/td&gt;</span>
<span class="gi">+  &lt;td class=&quot;Table__td--action&quot;&gt;</span>
<span class="gi">+    &lt;%= link_to t(&#39;staff.programs.form.show&#39;), [ :customer, program ], class: &#39;btn btn-default btn-xs&#39; %&gt;</span>
<span class="gi">+  &lt;/td&gt;</span>
<span class="gi">+&lt;/tr&gt;</span>
\ No newline at end of file
<span class="gh">diff --git a/app/views/customer/programs/index.html.erb b/app/views/customer/programs/index.html.erb</span>
new file mode 100644
<span class="gh">index 0000000..65da552</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/views/customer/programs/index.html.erb</span>
<span class="gu">@@ -0,0 +1,22 @@</span>
<span class="gi">+&lt;% @title = t(&#39;.title&#39;) %&gt;</span>
<span class="gi">+&lt;section class=&quot;Section&quot;&gt;</span>
<span class="gi">+  &lt;h1 class=&quot;Customer__title&quot;&gt;&lt;%= @title %&gt;&lt;/h1&gt;</span>
<span class="gi">+&lt;/section&gt;</span>
<span class="gi">+</span>
<span class="gi">+&lt;section class=&quot;Section l-column Table&quot;&gt;</span>
<span class="gi">+  &lt;%= paginate @programs %&gt;</span>
<span class="gi">+</span>
<span class="gi">+  &lt;table class=&quot;Table__body Table__body--listing CustomerTable__body&quot;&gt;</span>
<span class="gi">+    &lt;tr class=&quot;Table__tr&quot;&gt;</span>
<span class="gi">+      &lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.program_tiile&#39;) %&gt;&lt;/th&gt;</span>
<span class="gi">+      &lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.program_start&#39;) %&gt;&lt;/th&gt;</span>
<span class="gi">+      &lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.program_end&#39;) %&gt;&lt;/th&gt;</span>
<span class="gi">+      &lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.program_min_entry&#39;) %&gt;&lt;/th&gt;</span>
<span class="gi">+      &lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.program_max_entry&#39;) %&gt;&lt;/th&gt;</span>
<span class="gi">+      &lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.action&#39;) %&gt;&lt;/th&gt;</span>
<span class="gi">+    &lt;/tr&gt;</span>
<span class="gi">+    &lt;%= render partial: &#39;program&#39;, collection: @programs %&gt;</span>
<span class="gi">+  &lt;/table&gt;</span>
<span class="gi">+</span>
<span class="gi">+  &lt;%= paginate @programs %&gt;</span>
<span class="gi">+&lt;/section&gt;</span>
\ No newline at end of file
<span class="gh">diff --git a/app/views/customer/programs/show.html.erb b/app/views/customer/programs/show.html.erb</span>
new file mode 100644
<span class="gh">index 0000000..4e603f1</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/views/customer/programs/show.html.erb</span>
<span class="gu">@@ -0,0 +1,17 @@</span>
<span class="gi">+&lt;% @title = t(&#39;.title&#39;) %&gt;</span>
<span class="gi">+&lt;section class=&quot;Section&quot;&gt;</span>
<span class="gi">+  &lt;h1 class=&quot;Staff__title&quot;&gt;&lt;%= @title %&gt;&lt;/h1&gt;</span>
<span class="gi">+&lt;/section&gt;</span>
<span class="gi">+</span>
<span class="gi">+&lt;section class=&quot;Section l-column Table CustomerTable&quot;&gt;</span>
<span class="gi">+  &lt;table class=&quot;Table__body Table__body--attributes CustomerTable__body&quot;&gt;</span>
<span class="gi">+    &lt;% p = Customer::ProgramPresenter.new(@program, self) %&gt;</span>
<span class="gi">+    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.program_tiile&#39;) %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.title %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.program_start&#39;) %&gt;&lt;/th&gt;&lt;td class=&quot;Table__td--date&quot;&gt;&lt;%= p.application_start_time %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.program_end&#39;) %&gt;&lt;/th&gt;&lt;td class=&quot;Table__td--date&quot;&gt;&lt;%= p.application_end_time %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.program_min_entry&#39;) %&gt;&lt;/th&gt;&lt;td class=&quot;Table__td--numeric&quot;&gt;&lt;%= p.min_number_of_participants %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+    &lt;tr class=&quot;Table__tr&quot;&gt;&lt;th class=&quot;Table__th&quot;&gt;&lt;%= t(&#39;.program_max_entry&#39;) %&gt;&lt;/th&gt;&lt;td class=&quot;Table__td--numeric&quot;&gt;&lt;%= p.max_number_of_participants %&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="gi">+  &lt;/table&gt;</span>
<span class="gi">+</span>
<span class="gi">+  &lt;div class=&quot;Table__body--description&quot;&gt;&lt;%= @program.description %&gt;&lt;/div&gt;</span>
<span class="gi">+&lt;/section&gt;</span>
<span class="gh">diff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml</span>
<span class="gh">index 95f102c..c9e5a7a 100644</span>
<span class="gd">--- a/config/locales/views/ja.yml</span>
<span class="gi">+++ b/config/locales/views/ja.yml</span>
<span class="gu">@@ -219,4 +219,21 @@ ja:</span>
<span class="w"> </span>    top:
<span class="w"> </span>      dashboard:
<span class="w"> </span>        title: &#39;ダッシュボード&#39;
<span class="gd">-        customer_programs: &#39;プログラム一覧&#39;</span>
\ No newline at end of file
<span class="gi">+        customer_programs: &#39;プログラム一覧&#39;</span>
<span class="gi">+    programs:</span>
<span class="gi">+      index:</span>
<span class="gi">+        title: &#39;プログラム管理&#39;</span>
<span class="gi">+        new: &#39;新規登録&#39;</span>
<span class="gi">+        program_tiile: &#39;タイトル&#39;</span>
<span class="gi">+        program_start: &#39;申し込み開始日時&#39;</span>
<span class="gi">+        program_end: &#39;申し込み終了日時&#39;</span>
<span class="gi">+        program_min_entry: &#39;最小参加者数&#39;</span>
<span class="gi">+        program_max_entry: &#39;最大参観者数&#39;</span>
<span class="gi">+        action: &#39;アクション&#39;</span>
<span class="gi">+      show:</span>
<span class="gi">+        title: &#39;プログラム詳細情報&#39;</span>
<span class="gi">+        program_tiile: &#39;タイトル&#39;</span>
<span class="gi">+        program_start: &#39;申し込み開始日時&#39;</span>
<span class="gi">+        program_end: &#39;申し込み終了日時&#39;</span>
<span class="gi">+        program_min_entry: &#39;最小参加者数&#39;</span>
<span class="gi">+        program_max_entry: &#39;最大参観者数&#39;</span>
\ No newline at end of file
<span class="gh">diff --git a/config/routes.rb b/config/routes.rb</span>
<span class="gh">index dd3aa14..45c887c 100644</span>
<span class="gd">--- a/config/routes.rb</span>
<span class="gi">+++ b/config/routes.rb</span>
<span class="gu">@@ -61,6 +61,14 @@</span>
<span class="w"> </span>#

<span class="w"> </span>Rails.application.routes.draw do
<span class="gi">+  namespace :customer do</span>
<span class="gi">+    get &#39;programs/index&#39;</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  namespace :customer do</span>
<span class="gi">+    get &#39;programs/show&#39;</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="w"> </span>  config = Rails.application.config.baukis_kai

<span class="w"> </span>  concern :session_path do
</code></pre></div>
<h3 id="_84">構造変更<a class="headerlink" href="#_84" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgMjU3IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjkxNDEiIHg9IjUiIHk9IjE2LjEzODciPldlbGNvbWUgdG8gUGxhbnRVTUwhPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMzAuMTA3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ny4xMDc0IiB4PSI1IiB5PSI0NC4wNzYyIj5Zb3UgY2FuIHN0YXJ0IHdpdGggYSBzaW1wbGUgVU1MIERpYWdyYW0gbGlrZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI1OC4wNDQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE4NCIgeD0iNSIgeT0iNzIuMDEzNyI+Qm9iLSZndDtBbGljZTomIzE2MDtIZWxsbzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9Ijg1Ljk4MjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNC4zNzg5IiB4PSI1IiB5PSI5OS45NTEyIj5PcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjExMy45MTk5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My45MTk5IiB4PSI1IiB5PSIxMjcuODg4NyI+Y2xhc3MmIzE2MDtFeGFtcGxlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTQxLjg1NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDEuOTUzMSIgeD0iNSIgeT0iMTU1LjgyNjIiPllvdSB3aWxsIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBQbGFudFVNTCBzeW50YXggb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyNS43MDEyIiB4PSIzNTAuNzY3NiIgeT0iMTU1LjgyNjIiPmh0dHBzOi8vcGxhbnR1bWwuY29tPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTY5Ljc5NDkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNjExMyIgeD0iNSIgeT0iMTgzLjc2MzciPihEZXRhaWxzIGJ5IHR5cGluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU3MjMiIHg9IjExNS40MjU4IiB5PSIxODMuNzYzNyI+bGljZW5zZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS44MjIzIiB4PSIxNjkuODEyNSIgeT0iMTgzLjc2MzciPmtleXdvcmQpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTk3LjczMjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjIxMS43MDEyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIyMjUuNjY5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMjM5LjYzODciPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjI1My42MDc0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA2LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSIxODUuNDM3NSIvPjwhLS1TUkM9W0tyVHV0M1p2U1VFd25xc1I3cFZGVnpwU19CWXZ1dDdad2lURDdPLVJrZnlqeHR4UGlFM2ZhaXZkaXhTeVJmaHFPazZBbnVxcDdwU3RGNnZReWhYZnFVRWMzTy1STHB2a05XMkswWGkySEFqVnhEX3hqNmwxdXlSZlpua05GTXhpVnptOFA0enp0RFoyZlF4bVA1LXQ1UDFBcGFhaUJiUm1Jb3J0MVo3VzBndUxjU0tiY05kZkM1Nk8wV0xUTkpqS0lHMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="248cbeb">コミット: 248cbeb<a class="headerlink" href="#248cbeb" title="Permanent link">&para;</a></h2>
<h3 id="_85">メッセージ<a class="headerlink" href="#_85" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>顧客トップページの修正 #25
</code></pre></div>
<h3 id="_86">変更されたファイル<a class="headerlink" href="#_86" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M app/views/customer/top/dashboard.html.erb</li>
<li>M config/locales/views/ja.yml</li>
</ul>
<h3 id="_87">変更内容<a class="headerlink" href="#_87" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 248cbeb85d8489e22be7d6eec1b63b911d8c317c
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 09:41:18 2017 +0900

<span class="w"> </span>   顧客トップページの修正 #25

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index eea5c34..31b1423 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -695,6 +695,7 @@ git push heroku master</span>
<span class="w"> </span>### トランザクションと排他的ロック
<span class="w"> </span>#### プログラム一覧表示・詳細表示機能（顧客向け)
<span class="w"> </span>+ ルーティング
<span class="gi">++ 顧客トップページの修正</span>

<span class="w"> </span>#### プログラム申し込み機能

<span class="gh">diff --git a/app/views/customer/top/dashboard.html.erb b/app/views/customer/top/dashboard.html.erb</span>
<span class="gh">index 6aa1334..83a0f41 100644</span>
<span class="gd">--- a/app/views/customer/top/dashboard.html.erb</span>
<span class="gi">+++ b/app/views/customer/top/dashboard.html.erb</span>
<span class="gu">@@ -13,4 +13,10 @@</span>
<span class="w"> </span>      &lt;span class=&quot;NewsList__body&quot;&gt;顧客ログイン・ログアウト機能追加&lt;/span&gt;
<span class="w"> </span>    &lt;/li&gt;
<span class="w"> </span>  &lt;/ol&gt;
<span class="gi">+&lt;/section&gt;</span>
<span class="gi">+</span>
<span class="gi">+&lt;section class=&quot;Section l-column DashBoard&quot;&gt;</span>
<span class="gi">+  &lt;ul class=&quot;DashBoard__menu&quot;&gt;</span>
<span class="gi">+    &lt;li&gt;&lt;%= link_to t(&#39;.customer_programs&#39;), :customer_programs, class: &#39;btn btn-default&#39; %&gt;&lt;/li&gt;</span>
<span class="gi">+  &lt;/ul&gt;</span>
<span class="w"> </span>&lt;/section&gt;
\ No newline at end of file
<span class="gh">diff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml</span>
<span class="gh">index 175ce07..95f102c 100644</span>
<span class="gd">--- a/config/locales/views/ja.yml</span>
<span class="gi">+++ b/config/locales/views/ja.yml</span>
<span class="gu">@@ -218,4 +218,5 @@ ja:</span>
<span class="w"> </span>        remember: &#39;次回から自動でログインする&#39;
<span class="w"> </span>    top:
<span class="w"> </span>      dashboard:
<span class="gd">-        title: &#39;ダッシュボード&#39;</span>
\ No newline at end of file
<span class="gi">+        title: &#39;ダッシュボード&#39;</span>
<span class="gi">+        customer_programs: &#39;プログラム一覧&#39;</span>
\ No newline at end of file
</code></pre></div>
<h2 id="8a01ab7">コミット: 8a01ab7<a class="headerlink" href="#8a01ab7" title="Permanent link">&para;</a></h2>
<h3 id="_88">メッセージ<a class="headerlink" href="#_88" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>ルーティング #25
</code></pre></div>
<h3 id="_89">変更されたファイル<a class="headerlink" href="#_89" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M config/routes.rb</li>
</ul>
<h3 id="_90">変更内容<a class="headerlink" href="#_90" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 8a01ab7c664ac41681ae5614016ed274e72a63a1
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Fri Mar 17 09:30:00 2017 +0900

<span class="w"> </span>   ルーティング #25

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index d178a44..eea5c34 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -694,6 +694,8 @@ git push heroku master</span>

<span class="w"> </span>### トランザクションと排他的ロック
<span class="w"> </span>#### プログラム一覧表示・詳細表示機能（顧客向け)
<span class="gi">++ ルーティング</span>
<span class="gi">+</span>
<span class="w"> </span>#### プログラム申し込み機能

<span class="w"> </span>### フォームの確認画面 
<span class="gh">diff --git a/config/routes.rb b/config/routes.rb</span>
<span class="gh">index 8a753ed..dd3aa14 100644</span>
<span class="gd">--- a/config/routes.rb</span>
<span class="gi">+++ b/config/routes.rb</span>
<span class="gu">@@ -54,6 +54,8 @@</span>
<span class="w"> </span>#                  customer_login GET    /login(.:format)                                     customer/sessions#new {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                customer_session DELETE /session(.:format)                                   customer/sessions#destroy {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                                 POST   /session(.:format)                                   customer/sessions#create {:host=&gt;&quot;0.0.0.0&quot;}
<span class="gi">+#               customer_programs GET    /programs(.:format)                                  customer/programs#index {:host=&gt;&quot;0.0.0.0&quot;}</span>
<span class="gi">+#                customer_program GET    /programs/:id(.:format)                              customer/programs#show {:host=&gt;&quot;0.0.0.0&quot;}</span>
<span class="w"> </span>#                            root GET    /                                                    errors#routing_error
<span class="w"> </span>#                                 GET    /*anything(.:format)                                 errors#routing_error
<span class="w"> </span>#
<span class="gu">@@ -101,6 +103,7 @@ Rails.application.routes.draw do</span>
<span class="w"> </span>      get &#39;campaign_submit&#39;, to: &#39;campaign#submit&#39;
<span class="w"> </span>      get &#39;login&#39; =&gt; &#39;sessions#new&#39;, as: :login
<span class="w"> </span>      resource :session, only: [ :create, :destroy ]
<span class="gi">+      resources :programs, only: [ :index, :show ]</span>
<span class="w"> </span>    end
<span class="w"> </span>  end
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k2works/baukis-kai" target="_blank" rel="noopener" title="GitHub Repository" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../docs/assets/js/extra.js"></script>
      
    
  </body>
</html>