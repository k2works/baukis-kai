
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the Baukis-Kai project.">
      
      
        <meta name="author" content="Project Team">
      
      
      
        <link rel="prev" href="../20250609/">
      
      
        <link rel="next" href="../20250611/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>20250610 - Baukis-Kai</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../docs/mkdocs/assets/css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2025-06-10" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Baukis-Kai" class="md-header__button md-logo" aria-label="Baukis-Kai" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Baukis-Kai
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              20250610
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/k2works/baukis-kai" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    baukis-kai
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/" class="md-tabs__link">
        
  
  
    
  
  UseCases

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/" class="md-tabs__link">
        
  
  
    
  
  Architecture

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/" class="md-tabs__link">
        
  
  
    
  
  Implementation

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../%E7%94%A8%E8%AA%9E%E9%9B%86/" class="md-tabs__link">
        
  
  
    
  
  Glossary

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../20170110/" class="md-tabs__link">
          
  
  
  Journal

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Baukis-Kai" class="md-nav__button md-logo" aria-label="Baukis-Kai" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Baukis-Kai
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k2works/baukis-kai" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    baukis-kai
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UseCases
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Implementation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%94%A8%E8%AA%9E%E9%9B%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Journal
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Journal
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170110/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170110
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170111/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170111
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170114/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170114
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170116/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170116
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170117/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170117
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170118/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170118
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170120/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170120
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170121/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170121
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170123/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170123
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170124/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170124
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170126/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170126
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170127/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170127
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170128/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170128
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170130/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170130
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170131/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170131
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170202
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170203
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170204/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170204
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170206/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170206
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170207/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170207
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170209/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170209
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170210/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170210
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170213/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170213
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170214/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170214
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170216/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170216
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170220/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170220
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170317/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170317
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170318/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170318
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170325/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170325
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170327/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170327
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170328/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170328
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250424/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250424
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250510/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250510
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250607/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250607
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250608/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250608
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250609/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250609
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    20250610
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    20250610
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      システム構成図
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      作業内容
    </span>
  </a>
  
    <nav class="md-nav" aria-label="作業内容">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#e2e" class="md-nav__link">
    <span class="md-ellipsis">
      E2Eテスト環境の構築
    </span>
  </a>
  
    <nav class="md-nav" aria-label="E2Eテスト環境の構築">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      変更点の概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      技術的詳細
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#75931b2" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 75931b2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 75931b2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#00e4601" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 00e4601
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 00e4601">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#429998b" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 429998b
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 429998b">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#72de0b8" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 72de0b8
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 72de0b8">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#356390d" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 356390d
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 356390d">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6d58199" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 6d58199
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 6d58199">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ec454b9" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: ec454b9
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: ec454b9">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#60822b7" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 60822b7
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 60822b7">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#01e2dca" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 01e2dca
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 01e2dca">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_36" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fc160e1" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: fc160e1
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: fc160e1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_37" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_38" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_39" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3e43b03" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 3e43b03
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 3e43b03">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_40" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_41" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_42" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_43" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6e9569a" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 6e9569a
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 6e9569a">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_44" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_45" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_46" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#b0dca43" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: b0dca43
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: b0dca43">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_47" class="md-nav__link">
    <span class="md-ellipsis">
      メッセージ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_48" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_49" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250611/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250611
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250612/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250612
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="2025-06-10">作業履歴 2025-06-10<a class="headerlink" href="#2025-06-10" title="Permanent link">&para;</a></h1>
<h2 id="_1">概要<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>2025-06-10の作業内容をまとめています。このジャーナルでは、E2Eテスト環境の構築と実装に関する作業を記録しています。</p>
<h2 id="_2">システム構成図<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjU5MHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDAycHg7aGVpZ2h0OjU5MHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQwMiA1OTAiIHdpZHRoPSI0MDJweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbHVzdGVyIHRlc3RfZW52LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtZW50aXR5PSJ0ZXN0X2VudiIgZGF0YS1zb3VyY2UtbGluZT0iMTQ2NSIgZGF0YS11aWQ9ImVudDAwMDMiIGlkPSJjbHVzdGVyX3Rlc3RfZW52Ij48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjM4My4zMSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojNDQ0NDQ0O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiIHdpZHRoPSIzODkiIHg9IjciIHk9IjIwMS4xOSIvPjx0ZXh0IGZpbGw9IiM0NDQ0NDQiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjYiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MC42MjExIiB4PSIxNzEuMTg5NSIgeT0iMjA4Ljc1OTMiPiYjMTcxO3N5c3RlbV9ib3VuZGFyeSYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjNDQ0NDQ0IiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSI2IiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzUuOTI5NyIgeD0iMTgzLjUzNTIiIHk9IjIxOC43NTkzIj4mIzE3MTtib3VuZGFyeSYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjNDQ0NDQ0IiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODAuMDAwMiIgeD0iMTYxLjQ5OTkiIHk9IjIzOC4wNDE2Ij4mIzEyNDg2OyYjMTI0NzM7JiMxMjQ4ODsmIzI5ODcyOyYjMjI2NTk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiM0NDQ0NDQiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1OS40NTUxIiB4PSIxNzEuNzcyNSIgeT0iMjUyLjk1MzciPltzeXN0ZW1dPC90ZXh0PjwvZz48IS0tZW50aXR5IHJhaWxzX2FwcC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJyYWlsc19hcHAiIGRhdGEtc291cmNlLWxpbmU9IjcxIiBkYXRhLXVpZD0iZW50MDAwNCIgaWQ9ImVudGl0eV9yYWlsc19hcHAiPjxyZWN0IGZpbGw9IiM0MzhERDUiIGhlaWdodD0iOTkuMTU2MyIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojM0M3RkMwO3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTk3LjE3OTkiIHg9IjEwMi40MSIgeT0iMjcyLjE5Ii8+PHRleHQgZmlsbD0iI0ZGRkZGRiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MS41NDMiIHg9IjE2NS4yMjg1IiB5PSIyOTMuMzI4NyI+JiMxNzE7Y29udGFpbmVyJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiNGRkZGRkYiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0My42MDk0IiB4PSIxMTIuNDEiIHk9IjMxMS4wMTAzIj5SYWlsczwvdGV4dD48dGV4dCBmaWxsPSIjRkZGRkZGIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNS41NzAzIiB4PSIxNTYuMDE5NCIgeT0iMzExLjAxMDMiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjRkZGRkZGIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI4LjAwMDIiIHg9IjE2MS41ODk3IiB5PSIzMTEuMDEwMyI+JiMxMjQ1MDsmIzEyNTAzOyYjMTI1MjI7JiMxMjQ2NTsmIzEyNTQwOyYjMTI0NzE7JiMxMjUxOTsmIzEyNTMxOzwvdGV4dD48dGV4dCBmaWxsPSIjRkZGRkZGIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM1LjM0MzgiIHg9IjEzMi40OTUxIiB5PSIzMjUuOTIyNCI+W1J1Ynk8L3RleHQ+PHRleHQgZmlsbD0iI0ZGRkZGRiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjE2Ny44Mzg4IiB5PSIzMjUuOTIyNCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiNGRkZGRkYiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQuOTQ3MyIgeD0iMTcxLjY1MzMiIHk9IjMyNS45MjI0Ij5vbjwvdGV4dD48dGV4dCBmaWxsPSIjRkZGRkZGIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iMTg2LjYwMDYiIHk9IjMyNS45MjI0Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iI0ZGRkZGRiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyOC42MTEzIiB4PSIxOTAuNDE1IiB5PSIzMjUuOTIyNCI+UmFpbHM8L3RleHQ+PHRleHQgZmlsbD0iI0ZGRkZGRiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjIxOS4wMjYzIiB5PSIzMjUuOTIyNCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiNGRkZGRkYiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDYuNjY0MSIgeD0iMjIyLjg0MDgiIHk9IjMyNS45MjI0Ij43LjIuMi4xXTwvdGV4dD48dGV4dCBmaWxsPSIjRkZGRkZGIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0LjQ1MDIiIHg9IjE5OC43NzQ5IiB5PSIzNDEuNzQ3NiI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiNGRkZGRkYiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMS45OTk1IiB4PSIxNDUuMDAwMiIgeT0iMzU4LjA0NDUiPiYjMzkwMTU7JiMyMzQ1ODsmIzMxNjQ5OyYjMjk3MDI7JiMxMjQ3MTsmIzEyNDczOyYjMTI0ODY7JiMxMjUxMjs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgY2hyb21lLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImNocm9tZSIgZGF0YS1zb3VyY2UtbGluZT0iNzEiIGRhdGEtdWlkPSJlbnQwMDA1IiBpZD0iZW50aXR5X2Nocm9tZSI+PHJlY3QgZmlsbD0iIzQzOERENSIgaGVpZ2h0PSI5OS4xNTYzIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMzQzdGQzA7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNTguNTk4MSIgeD0iMjIuNyIgeT0iNDY0Ljg0Ii8+PHRleHQgZmlsbD0iI0ZGRkZGRiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MS41NDMiIHg9IjY2LjIyNzYiIHk9IjQ4NS45Nzg3Ij4mIzE3MTtjb250YWluZXImIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iI0ZGRkZGRiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5LjUzOTEiIHg9IjY3LjIyOTUiIHk9IjUwMy42NjAzIj5DaHJvbWU8L3RleHQ+PHRleHQgZmlsbD0iI0ZGRkZGRiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1Ny4zNjM2IiB4PSI3My4zMTcyIiB5PSI1MTguNTcyNCI+WyYjMTI1MDI7JiMxMjUyMTsmIzEyNDU0OyYjMTI0NzA7XTwvdGV4dD48dGV4dCBmaWxsPSIjRkZGRkZGIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0LjQ1MDIiIHg9Ijk5Ljc3NCIgeT0iNTM0LjM5NzYiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjRkZGRkZGIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzguNTk4MSIgeD0iMzIuNyIgeT0iNTUwLjY5NDUiPkUyRSYjMTI0ODY7JiMxMjQ3MzsmIzEyNDg4OyYjMjk5OTI7JiMxMjUwMjsmIzEyNTIxOyYjMTI0NTQ7JiMxMjQ3MDs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgZGItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iZGIiIGRhdGEtc291cmNlLWxpbmU9Ijc1IiBkYXRhLXVpZD0iZW50MDAwNiIgaWQ9ImVudGl0eV9kYiI+PHBhdGggZD0iTTIxNiw0NzAuMzQgQzIxNiw0NjAuMzQgMjk4LjAwMDEsNDYwLjM0IDI5OC4wMDAxLDQ2MC4zNCBDMjk4LjAwMDEsNDYwLjM0IDM4MC4wMDAzLDQ2MC4zNCAzODAuMDAwMyw0NzAuMzQgTDM4MC4wMDAzLDU1OC40OTYzIEMzODAuMDAwMyw1NjguNDk2MyAyOTguMDAwMSw1NjguNDk2MyAyOTguMDAwMSw1NjguNDk2MyBDMjk4LjAwMDEsNTY4LjQ5NjMgMjE2LDU2OC40OTYzIDIxNiw1NTguNDk2MyBMMjE2LDQ3MC4zNCIgZmlsbD0iIzQzOERENSIgc3R5bGU9InN0cm9rZTojM0M3RkMwO3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTIxNiw0NzAuMzQgQzIxNiw0ODAuMzQgMjk4LjAwMDEsNDgwLjM0IDI5OC4wMDAxLDQ4MC4zNCBDMjk4LjAwMDEsNDgwLjM0IDM4MC4wMDAzLDQ4MC4zNCAzODAuMDAwMyw0NzAuMzQiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzNDN0ZDMDtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiNGRkZGRkYiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzEuNTQzIiB4PSIyNjIuMjI4NyIgeT0iNDk1LjQ3ODciPiYjMTcxO2NvbnRhaW5lciYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjRkZGRkZGIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ0LjAwMDMiIHg9IjIyNiIgeT0iNTEzLjE2MDMiPiYjMTI0ODY7JiMxMjQ3MzsmIzEyNDg4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyYjMTI1MDU7JiMxMjU0MDsmIzEyNDczOzwvdGV4dD48dGV4dCBmaWxsPSIjRkZGRkZGIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU2NjQiIHg9IjI3Mi43MTY5IiB5PSI1MjguMDcyNCI+W015U1FMXTwvdGV4dD48dGV4dCBmaWxsPSIjRkZGRkZGIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0LjQ1MDIiIHg9IjI5NS43NzUiIHk9IjU0My44OTc2Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iI0ZGRkZGRiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM5Ljk5OTQiIHg9IjIyOC4wMDA0IiB5PSI1NjAuMTk0NSI+JiMxMjQ4NjsmIzEyNDczOyYjMTI0ODg7JiMyOTk5MjsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsmIzEyNDM0OyYjMjY2ODQ7JiMzMjAxMzs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgZGV2ZWxvcGVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImRldmVsb3BlciIgZGF0YS1zb3VyY2UtbGluZT0iMzc0IiBkYXRhLXVpZD0iZW50MDAwMiIgaWQ9ImVudGl0eV9kZXZlbG9wZXIiPjxyZWN0IGZpbGw9IiMwODQyN0IiIGhlaWdodD0iMTMzLjE4NzUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzA3M0I2RjtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE3My45OTkzIiB4PSIxMTQiIHk9IjciLz48dGV4dCBmaWxsPSIjRkZGRkZGIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1LjgxNjQiIHg9IjE3My4wOTE1IiB5PSIyOC4xMzg3Ij4mIzE3MTtwZXJzb24mIzE4Nzs8L3RleHQ+PGltYWdlIGhlaWdodD0iNDgiIHdpZHRoPSI0OCIgeD0iMTc2Ljk5OTciIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBREFBQUFBd0NBWUFBQUJYQXZtSEFBQUNNRWxFUVZSNFh1Mll2VXJGUUJDRmIra2orQWkrZ3EzWTJQZ0ErZ0NDdFoyVjJBaHFhU05pcVkxZ1lXTWphQ3ZYeWtvRUt5MjFzTENOZkVMZ01zY2tzejhtV2ZEQUIzS3V5ZTdzVG1Zbm1jd3RiVTlLUm96U0VDT1ZsYTNUNnVUcXZycVpQbGNQVDY4L1hOdytWdHZIMTlYQytzR2UvZjlVeElobDgvQ3krdmo4cXJwRVlJc2JSMU43ZlN4aWhESy91cnZNS29lS0hiSDNpa0dNRUppOFo5V2J0SDkybHh5RUdDSEVyTHdWcVdmdkc0SVlYa2lCWEdJbjdmMjlpT0dCQWUwa1VrVFZzbU40RWNNRDI1NWJkZ3d2WW5pZ0ZPWVc1NGNkeDRNWUhsSXFUNU5peTZvWUh1emdPUlJiVXNYd1lBZlBvVjREZUhsN3QrTW5LL1k4RU1NRHpWbHU5Zm9RNXk2akZBVTdoaGN4dk9Tc1JMSDVEMko0S2JxVnFNbHhvSzN0bkVldlBvZ1JBaXVYVXBGaUQ2OVp4SWdoWmlkU1Y3NUdqRmlZa0djM0tNRXBPVzhSSXhYZWQwa05Kc3JPQU8weXBUZm54R3ZFS0EweFNrTU1EM3pmSWVkSkZRNGhDUGxVd3JYMWRhUVdiVVJzZW9uUkJoTnVlMUQ1cmM1M0prVlF3TjljMjFXdCtEMjBKeExqTjdocHp0YWhTd1RpM1JFeExEbGJoaEN4bTU1UGtXTE1rcnZyREJXNzNyVVRZdFNRdS9hR1E0aDBzbk56QmREMXdQV3B0clpEREJqTDZ0ZmllYkJ6YkEyQVVqZzJOVDNRWWtCYnJSOUtUUy85WW9DOWVBeHFldTBVSS9lSDIxeWl1N1Z6TFNxQXBuSXF4bjhBZjZUaUEzQS9BOUJuNStsVjB4Y01NV0RvSnM2cXJha1RvNGE2T3daeHFMYTk3WWt4QzFIek1rTXpOUVJ0RTNjRlVBSmlsTVkzT0dUTkwwTkRMcUlBQUFBQVNVVk9SSzVDWUlJPSIgeT0iMzAuOTY4OCIvPjx0ZXh0IGZpbGw9IiNGRkZGRkYiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OC4wMDAxIiB4PSIxNzYuOTk5NiIgeT0iOTMuODIwMyI+JiMzODI4MzsmIzMwMzMwOyYjMzI3NzM7PC90ZXh0Pjx0ZXh0IGZpbGw9IiNGRkZGRkYiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuNDUwMiIgeD0iMTk4Ljc3NDYiIHk9IjExMC41ODg5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iI0ZGRkZGRiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjk5OTMiIHg9IjEyNCIgeT0iMTI2Ljg4NTciPiYjMTI0NTA7JiMxMjUwMzsmIzEyNTIyOyYjMTI0NjU7JiMxMjU0MDsmIzEyNDcxOyYjMTI1MTk7JiMxMjUzMTsmIzM4MjgzOyYjMzAzMzA7JiMzMjc3Mzs8L3RleHQ+PC9nPjwhLS1saW5rIGRldmVsb3BlciB0byByYWlsc19hcHAtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZGV2ZWxvcGVyIiBkYXRhLWVudGl0eS0yPSJyYWlsc19hcHAiIGRhdGEtc291cmNlLWxpbmU9IjE1NzgiIGRhdGEtdWlkPSJsbms3IiBpZD0ibGlua19kZXZlbG9wZXJfcmFpbHNfYXBwIj48cGF0aCBkPSJNMjAxLDE0MC41NiBDMjAxLDE4MS44NyAyMDEsMjI2LjE5IDIwMSwyNjMuOCIgZmlsbD0ibm9uZSIgaWQ9ImRldmVsb3Blci10by1yYWlsc19hcHAiIHN0eWxlPSJzdHJva2U6IzY2NjY2NjtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjNjY2NjY2IiBwb2ludHM9IjIwMSwyNzEuOCwyMDQsMjYzLjgsMTk4LDI2My44LDIwMSwyNzEuOCIgc3R5bGU9InN0cm9rZTojNjY2NjY2O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiM2NjY2NjYiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ni4wMDA3IiB4PSIyMDIiIHk9IjE4Mi4zMjg3Ij4mIzM4MjgzOyYjMzAzMzA7JiMxMjUzOTsmIzEyNDg2OyYjMTI0NzM7JiMxMjQ4ODsmIzIzNDU1OyYjMzQ4OTI7PC90ZXh0PjwvZz48IS0tbGluayByYWlsc19hcHAgdG8gY2hyb21lLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9InJhaWxzX2FwcCIgZGF0YS1lbnRpdHktMj0iY2hyb21lIiBkYXRhLXNvdXJjZS1saW5lPSIxNTc4IiBkYXRhLXVpZD0ibG5rOCIgaWQ9ImxpbmtfcmFpbHNfYXBwX2Nocm9tZSI+PHBhdGggZD0iTTEyMS4xNCwzNzEuNjIgQzExMi4yMywzODAuMzkgMTA0LjQzLDM5MC4zMSA5OSw0MDEuMzQgQzg5LjU1LDQyMC41NiA4Ny45MTc3LDQzNS45OTU1IDkwLjEwNzcsNDU2LjQzNTUiIGZpbGw9Im5vbmUiIGlkPSJyYWlsc19hcHAtdG8tY2hyb21lIiBzdHlsZT0ic3Ryb2tlOiM2NjY2NjY7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzY2NjY2NiIgcG9pbnRzPSI5MC45Niw0NjQuMzksOTMuMDkwNyw0NTYuMTE1OSw4Ny4xMjQ4LDQ1Ni43NTUxLDkwLjk2LDQ2NC4zOSIgc3R5bGU9InN0cm9rZTojNjY2NjY2O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiM2NjY2NjYiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NC43NDQ2IiB4PSIxMjcuOTgxMiIgeT0iNDEzLjQ3ODciPkUyRSYjMTI0ODY7JiMxMjQ3MzsmIzEyNDg4OyYjMjM0NTU7JiMzNDg5Mjs8L3RleHQ+PHRleHQgZmlsbD0iIzY2NjY2NiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2Mi4zOTA2IiB4PSIxMDAiIHk9IjQyNy40NDc0Ij5bQ2FweWJhcmE8L3RleHQ+PHRleHQgZmlsbD0iIzY2NjY2NiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjE2Mi4zOTA2IiB5PSI0MjcuNDQ3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiM2NjY2NjYiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTAuMDU0NyIgeD0iMTY2LjIwNTEiIHk9IjQyNy40NDc0Ij4rPC90ZXh0Pjx0ZXh0IGZpbGw9IiM2NjY2NjYiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSIxNzYuMjU5OCIgeT0iNDI3LjQ0NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjNjY2NjY2IiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwLjYzMjgiIHg9IjE4MC4wNzQyIiB5PSI0MjcuNDQ3NCI+U2VsZW5pdW1dPC90ZXh0PjwvZz48IS0tbGluayByYWlsc19hcHAgdG8gZGItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0icmFpbHNfYXBwIiBkYXRhLWVudGl0eS0yPSJkYiIgZGF0YS1zb3VyY2UtbGluZT0iMTU3OCIgZGF0YS11aWQ9ImxuazkiIGlkPSJsaW5rX3JhaWxzX2FwcF9kYiI+PHBhdGggZD0iTTIzMi4yNiwzNzEuNjQgQzIzOC4wNywzODEuMzQgMjQzLjksMzkxLjU2IDI0OSw0MDEuMzQgQzI1OC43Niw0MjAuMDggMjY1LjE4NzcsNDMzLjgzNzIgMjczLjI0NzcsNDUyLjYzNzIiIGZpbGw9Im5vbmUiIGlkPSJyYWlsc19hcHAtdG8tZGIiIHN0eWxlPSJzdHJva2U6IzY2NjY2NjtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjNjY2NjY2IiBwb2ludHM9IjI3Ni40LDQ1OS45OSwyNzYuMDA1LDQ1MS40NTUxLDI3MC40OTA0LDQ1My44MTk0LDI3Ni40LDQ1OS45OSIgc3R5bGU9InN0cm9rZTojNjY2NjY2O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiM2NjY2NjYiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MC4wMDA1IiB4PSIyNzcuNDUxOSIgeT0iNDEzLjQ3ODciPiYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyYjMjU4MDU7JiMyMDMxNjs8L3RleHQ+PHRleHQgZmlsbD0iIzY2NjY2NiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4OC45MDQzIiB4PSIyNjMiIHk9IjQyNy40NDc0Ij5bQWN0aXZlUmVjb3JkXTwvdGV4dD48L2c+PCEtLVNSQz1bVEw1REl5RDA0QnRkTHdtdmZJWUFmVTE1MThzekFNWncwcUJJQjFYOERvNFZYSTIyUEI0QU1mMGdiTzlXc3VETDNxTEhiNmg1N3BFc1FWLTVzUklzQUk5eGNNN1VVX0ZVeDluRXllUWRPUkdnUGZSNFoyb1FuNUxxV2txclpqbDFqY0NJR1NENVI5V01qWFNHRndvVVhoTnRtVTRIN3BLR0Q4NVUwTnMwdTBiZTV1OHRlMnNXcHJER1lrRG9sa0ZZV2huWFVhSEpSNXptaVVGQWMxR1Bkdk9XdzAwejJJa0ZsSVJiS3NZVmMtbU5SNEt0NzVjbmgwV2ZpSGh6anV6dmFKcExIb1AxOC1KQU9aZndvc21tUkJId3hNUk9SZUpkOVNQVzJxajB3djZ0d1F4eWRjcU1TOEdNdW84RUh3ajB4bzZ1WFUyTHpUYnFUa2h0eWN2Y2Q5M1FMMExESk1PM1VYbnhfRzlRWXVpRUt6bHNTeGpSX0NtRGNFT2xEQVpxd3p0bWZIbWY3dDJTWDh0YTlvR0ZDcGVycTgtOUpnenpDc1lTSEtKNklhMGQ0UEQxbmMwTU5CNXlMUjRMRDh6b3NDMTR6bWZfRFNSOW5ZeHg1LU5scHNqNk5pLXhVWDVCRTZfUTZmX3cwRzAwXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h2 id="_3">作業内容<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<h3 id="e2e">E2Eテスト環境の構築<a class="headerlink" href="#e2e" title="Permanent link">&para;</a></h3>
<p>E2Eテスト（End-to-End テスト）は、アプリケーションの全体的な機能を検証するために重要です。今回の作業では、Capybaraとselenium-webdriverを使用したE2Eテスト環境を整備しました。</p>
<h4 id="_4">変更点の概要<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<ol>
<li>テスト用の設定ファイルの修正</li>
<li>テストデータのファクトリ設定の更新</li>
<li>プログラム管理機能のE2Eテストの実装</li>
</ol>
<h4 id="_5">技術的詳細<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h4>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjUwMXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDUxcHg7aGVpZ2h0OjUwMXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQ1MSA1MDEiIHdpZHRoPSI0NTFweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbHVzdGVyID8/Pz8/Pz8/Pz8tLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1lbnRpdHk9Ii4uLi4uLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjEiIGRhdGEtdWlkPSJlbnQwMDAyIiBpZD0iY2x1c3Rlcl8uLi4uLi4uLi4uIj48cGF0aCBkPSJNOC41LDc4LjI5IEwxNDkuNDk5NCw3OC4yOSBBMy43NSwzLjc1IDAgMCAxIDE1MS45OTk0LDgwLjc5IEwxNTguOTk5NCwxMDAuNTg2OSBMMjE5LjUsMTAwLjU4NjkgQTIuNSwyLjUgMCAwIDEgMjIyLDEwMy4wODY5IEwyMjIsNDkxLjk4IEEyLjUsMi41IDAgMCAxIDIxOS41LDQ5NC40OCBMOC41LDQ5NC40OCBBMi41LDIuNSAwIDAgMSA2LDQ5MS45OCBMNiw4MC43OSBBMi41LDIuNSAwIDAgMSA4LjUsNzguMjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjYiIHgyPSIxNTguOTk5NCIgeTE9IjEwMC41ODY5IiB5Mj0iMTAwLjU4NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM5Ljk5OTQiIHg9IjEwIiB5PSI5My4yODUxIj4mIzEyNDg2OyYjMTI0NzM7JiMxMjQ4ODsmIzEyNTAxOyYjMTI1MjQ7JiMxMjU0MDsmIzEyNTEyOyYjMTI1Mjc7JiMxMjU0MDsmIzEyNDYzOzwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgPz8/Pz8/LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtZW50aXR5PSIuLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjciIGRhdGEtdWlkPSJlbnQwMDEwIiBpZD0iY2x1c3Rlcl8uLi4uLi4iPjxwYXRoIGQ9Ik0yNDguNSw3OC4yOSBMMzMzLjQ5OTYsNzguMjkgQTMuNzUsMy43NSAwIDAgMSAzMzUuOTk5Niw4MC43OSBMMzQyLjk5OTYsMTAwLjU4NjkgTDQ0MS41LDEwMC41ODY5IEEyLjUsMi41IDAgMCAxIDQ0NCwxMDMuMDg2OSBMNDQ0LDI3OS4zOSBBMi41LDIuNSAwIDAgMSA0NDEuNSwyODEuODkgTDI0OC41LDI4MS44OSBBMi41LDIuNSAwIDAgMSAyNDYsMjc5LjM5IEwyNDYsODAuNzkgQTIuNSwyLjUgMCAwIDEgMjQ4LjUsNzguMjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjI0NiIgeDI9IjM0Mi45OTk2IiB5MT0iMTAwLjU4NjkiIHkyPSIxMDAuNTg2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSIyNTAiIHk9IjkzLjI4NTEiPiYjMTI0ODY7JiMxMjQ3MzsmIzEyNDg4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48L2c+PCEtLWVudGl0eSBSU3BlYy0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJSU3BlYyIgZGF0YS1zb3VyY2UtbGluZT0iMiIgZGF0YS11aWQ9ImVudDAwMDMiIGlkPSJlbnRpdHlfUlNwZWMiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iODMuODExNSIgeD0iMTA5LjA5IiB5PSIxMTMuMjkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iMTcyLjkwMTUiIHk9IjExOC4yOSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMTcwLjkwMTUiIHk9IjEyMC4yOSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMTcwLjkwMTUiIHk9IjEyNC4yOSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQzLjgxMTUiIHg9IjEyNC4wOSIgeT0iMTQ2LjI4NTEiPlJTcGVjPC90ZXh0PjwvZz48IS0tZW50aXR5IENhcHliYXJhLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkNhcHliYXJhIiBkYXRhLXNvdXJjZS1saW5lPSIyIiBkYXRhLXVpZD0iZW50MDAwNCIgaWQ9ImVudGl0eV9DYXB5YmFyYSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0Ni4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDcuMzI3MSIgeD0iNzIuMzQiIHk9IjIxOS41OSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1IiB4PSIxNTkuNjY3MSIgeT0iMjI0LjU5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSIxNTcuNjY3MSIgeT0iMjI2LjU5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSIxNTcuNjY3MSIgeT0iMjMwLjU5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjcuMzI3MSIgeD0iODcuMzQiIHk9IjI1Mi41ODUxIj5DYXB5YmFyYTwvdGV4dD48L2c+PCEtLWVudGl0eSBTZWxlbml1bSBXZWJEcml2ZXItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iU2VsZW5pdW0gV2ViRHJpdmVyIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBkYXRhLXVpZD0iZW50MDAwNiIgaWQ9ImVudGl0eV9TZWxlbml1bSBXZWJEcml2ZXIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTg0LjE0OTQiIHg9IjIxLjkzIiB5PSIzMjUuODkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iMTg2LjA3OTQiIHk9IjMzMC44OSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMTg0LjA3OTQiIHk9IjMzMi44OSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMTg0LjA3OTQiIHk9IjMzNi44OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0NC4xNDk0IiB4PSIzNi45MyIgeT0iMzU4Ljg4NTEiPlNlbGVuaXVtIFdlYkRyaXZlcjwvdGV4dD48L2c+PCEtLWVudGl0eSBDaHJvbWUtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iQ2hyb21lIiBkYXRhLXNvdXJjZS1saW5lPSI0IiBkYXRhLXVpZD0iZW50MDAwOCIgaWQ9ImVudGl0eV9DaHJvbWUiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iOTUuMjIwNyIgeD0iNjYuMzkiIHk9IjQzMi4xOCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1IiB4PSIxNDEuNjEwNyIgeT0iNDM3LjE4Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSIxMzkuNjEwNyIgeT0iNDM5LjE4Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSIxMzkuNjEwNyIgeT0iNDQzLjE4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuMjIwNyIgeD0iODEuMzkiIHk9IjQ2NS4xNzUxIj5DaHJvbWU8L3RleHQ+PC9nPjwhLS1lbnRpdHkgRmFjdG9yeUJvdC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJGYWN0b3J5Qm90IiBkYXRhLXNvdXJjZS1saW5lPSI4IiBkYXRhLXVpZD0iZW50MDAxMSIgaWQ9ImVudGl0eV9GYWN0b3J5Qm90Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExNi4wODQiIHg9IjI3My45NiIgeT0iMTEzLjI5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTUiIHg9IjM3MC4wNDQiIHk9IjExOC4yOSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMzY4LjA0NCIgeT0iMTIwLjI5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSIzNjguMDQ0IiB5PSIxMjQuMjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Ni4wODQiIHg9IjI4OC45NiIgeT0iMTQ2LjI4NTEiPkZhY3RvcnlCb3Q8L3RleHQ+PC9nPjwhLS1lbnRpdHkgPz8/Pz8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9Ii4uLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iOCIgZGF0YS11aWQ9ImVudDAwMTIiIGlkPSJlbnRpdHlfLi4uLi4uLi4uIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE2NS45OTk1IiB4PSIyNjIiIHk9IjIxOS41OSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1IiB4PSI0MDcuOTk5NSIgeT0iMjI0LjU5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSI0MDUuOTk5NSIgeT0iMjI2LjU5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSI0MDUuOTk5NSIgeT0iMjMwLjU5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI1Ljk5OTUiIHg9IjI3NyIgeT0iMjUyLjU4NTEiPiYjMTI0ODY7JiMxMjQ3MzsmIzEyNDg4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyYjMTI1MDU7JiMxMjU0MDsmIzEyNDczOzwvdGV4dD48L2c+PCEtLWVudGl0eSA/Pz8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIxMSIgZGF0YS11aWQ9ImVudDAwMTQiIGlkPSJlbnRpdHlfLi4uLi4uIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyMy45OTk2IiB4PSIxOTgiIHk9IjciLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iMzAxLjk5OTYiIHk9IjEyIi8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSIyOTkuOTk5NiIgeT0iMTQiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjI5OS45OTk2IiB5PSIxOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjIxMyIgeT0iMzkuOTk1MSI+JiMxMjQ4NjsmIzEyNDczOyYjMTI0ODg7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7PC90ZXh0PjwvZz48IS0tbGluayBSU3BlYyB0byBDYXB5YmFyYS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJSU3BlYyIgZGF0YS1lbnRpdHktMj0iQ2FweWJhcmEiIGRhdGEtc291cmNlLWxpbmU9IjIiIGRhdGEtdWlkPSJsbms1IiBpZD0ibGlua19SU3BlY19DYXB5YmFyYSI+PHBhdGggZD0iTTE0NS41OCwxNjAuMDcgQzE0MS4zOCwxNzcuNTcgMTM2Ljk5ODYsMTk1LjgzNTMgMTMyLjgwODYsMjEzLjMxNTMiIGZpbGw9Im5vbmUiIGlkPSJSU3BlYy10by1DYXB5YmFyYSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTMxLjQxLDIxOS4xNSwxMzcuMzk3NywyMTEuMzMwMywxMzIuNTc1NSwyMTQuMjg3NywxMjkuNjE4MSwyMDkuNDY1NSwxMzEuNDEsMjE5LjE1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIENhcHliYXJhIHRvIFNlbGVuaXVtIFdlYkRyaXZlci0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJDYXB5YmFyYSIgZGF0YS1lbnRpdHktMj0iU2VsZW5pdW0gV2ViRHJpdmVyIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBkYXRhLXVpZD0ibG5rNyIgaWQ9ImxpbmtfQ2FweWJhcmFfU2VsZW5pdW0gV2ViRHJpdmVyIj48cGF0aCBkPSJNMTIzLjQsMjY2LjM3IEMxMjEuMzgsMjgzLjg2IDExOS4yOTU0LDMwMi4wMDkzIDExNy4yODU0LDMxOS40ODkzIiBmaWxsPSJub25lIiBpZD0iQ2FweWJhcmEtdG8tU2VsZW5pdW0gV2ViRHJpdmVyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMTYuNiwzMjUuNDUsMTIxLjYwMTksMzE2Ljk2NTksMTE3LjE3MTIsMzIwLjQ4MjcsMTEzLjY1NDMsMzE2LjA1MiwxMTYuNiwzMjUuNDUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgU2VsZW5pdW0gV2ViRHJpdmVyIHRvIENocm9tZS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJTZWxlbml1bSBXZWJEcml2ZXIiIGRhdGEtZW50aXR5LTI9IkNocm9tZSIgZGF0YS1zb3VyY2UtbGluZT0iNCIgZGF0YS11aWQ9ImxuazkiIGlkPSJsaW5rX1NlbGVuaXVtIFdlYkRyaXZlcl9DaHJvbWUiPjxwYXRoIGQ9Ik0xMTQsMzcyLjY3IEMxMTQsMzkwLjE2IDExNCw0MDguMjYgMTE0LDQyNS43NCIgZmlsbD0ibm9uZSIgaWQ9IlNlbGVuaXVtIFdlYkRyaXZlci10by1DaHJvbWUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjExNCw0MzEuNzQsMTE4LDQyMi43NCwxMTQsNDI2Ljc0LDExMCw0MjIuNzQsMTE0LDQzMS43NCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBGYWN0b3J5Qm90IHRvID8/Pz8/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJGYWN0b3J5Qm90IiBkYXRhLWVudGl0eS0yPSIuLi4uLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjgiIGRhdGEtdWlkPSJsbmsxMyIgaWQ9ImxpbmtfRmFjdG9yeUJvdF8uLi4uLi4uLi4iPjxwYXRoIGQ9Ik0zMzQuODIsMTYwLjA3IEMzMzcsMTc3LjU3IDMzOS4yNzA4LDE5NS43MTU3IDM0MS40NDA4LDIxMy4xOTU3IiBmaWxsPSJub25lIiBpZD0iRmFjdG9yeUJvdC10by0mIzEyNDg2OyYjMTI0NzM7JiMxMjQ4ODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsmIzEyNTA1OyYjMTI1NDA7JiMxMjQ3MzsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM0Mi4xOCwyMTkuMTUsMzQ1LjA0MDgsMjA5LjcyNTgsMzQxLjU2NCwyMTQuMTg4MSwzMzcuMTAxNywyMTAuNzExMywzNDIuMTgsMjE5LjE1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rID8/Pz8/PyB0byBSU3BlYy0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSIuLi4uLi4iIGRhdGEtZW50aXR5LTI9IlJTcGVjIiBkYXRhLXNvdXJjZS1saW5lPSIxMSIgZGF0YS11aWQ9ImxuazE1IiBpZD0ibGlua18uLi4uLi5fUlNwZWMiPjxwYXRoIGQ9Ik0yMzYuMzUsNTMuNzcgQzIxOC4wNyw3MS4yNyAxOTcuMjE1Myw5MS4yMjIxIDE3OC45NDUzLDEwOC43MDIxIiBmaWxsPSJub25lIiBpZD0iJiMxMjQ4NjsmIzEyNDczOyYjMTI0ODg7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7LXRvLVJTcGVjIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNzQuNjEsMTEyLjg1LDE4My44NzgzLDEwOS41MTg0LDE3OC4yMjI4LDEwOS4zOTM0LDE3OC4zNDc4LDEwMy43MzgsMTc0LjYxLDExMi44NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayA/Pz8/Pz8gdG8gRmFjdG9yeUJvdC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSIuLi4uLi4iIGRhdGEtZW50aXR5LTI9IkZhY3RvcnlCb3QiIGRhdGEtc291cmNlLWxpbmU9IjEyIiBkYXRhLXVpZD0ibG5rMTYiIGlkPSJsaW5rXy4uLi4uLl9GYWN0b3J5Qm90Ij48cGF0aCBkPSJNMjc1LjYyLDUzLjc3IEMyODcuNyw3MS4yNyAzMDAuOTMwOCw5MC40MzI3IDMxMy4wMDA4LDEwNy45MTI3IiBmaWxsPSJub25lIiBpZD0iJiMxMjQ4NjsmIzEyNDczOyYjMTI0ODg7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7LXRvLUZhY3RvcnlCb3QiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMxNi40MSwxMTIuODUsMzE0LjU4NzcsMTAzLjE3MTIsMzEzLjU2OSwxMDguNzM1NiwzMDguMDA0NiwxMDcuNzE2OCwzMTYuNDEsMTEyLjg1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1TUkM9W0FxWENwYXZDSnJMR1VqcFN6aFhmdi1GY1ppVkRLbnl0aHRkU2xFVG55dUI3cFVqMVpBUnJJV2hMTkQ1MW1HTWZvUjRBa2hmczJqN0VZR01MSU9iNVlSNVMyMlA0OVpXcjlwS2xpcEhOOEptcm9RS2Vpb29yMkFXNllvM0tkOG9ZX0RwS01BdlFCZ3UyQjR2ZjFya183c296TXM5b0lOdkhmTEQtMkxHbGZoaDdwSkYxWjlyVzB2NEtENnE2VXdXSmdYRlk0cG1BYUVtMjAwMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="75931b2">コミット: 75931b2<a class="headerlink" href="#75931b2" title="Permanent link">&para;</a></h2>
<h3 id="_6">メッセージ<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>test(WIP):E2Eテスト
</code></pre></div>
<h3 id="_7">変更されたファイル<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<ul>
<li>M config/locales/views/ja.yml</li>
<li>M spec/factories/entries.rb</li>
<li>M spec/features/staff/program_management_spec.rb</li>
</ul>
<h3 id="_8">変更内容<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 75931b26d769263f0e5169e1294146d410fa5795
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Tue Jun 10 18:10:48 2025 +0900

<span class="w"> </span>   test(WIP):E2Eテスト

<span class="gh">diff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml</span>
<span class="gh">index 94c8e8f..a7d03e1 100644</span>
<span class="gd">--- a/config/locales/views/ja.yml</span>
<span class="gi">+++ b/config/locales/views/ja.yml</span>
<span class="gu">@@ -120,7 +120,7 @@ ja:</span>
<span class="w"> </span>        program_start: &#39;申し込み開始日時&#39;
<span class="w"> </span>        program_end: &#39;申し込み終了日時&#39;
<span class="w"> </span>        program_min_entry: &#39;最小参加者数&#39;
<span class="gd">-        program_max_entry: &#39;最大参観者数&#39;</span>
<span class="gi">+        program_max_entry: &#39;最大参加者数&#39;</span>
<span class="w"> </span>        program_entry_count: &#39;申し込み件数&#39;
<span class="w"> </span>        program_staff: &#39;登録職員&#39;
<span class="w"> </span>        action: &#39;アクション&#39;
<span class="gu">@@ -130,7 +130,7 @@ ja:</span>
<span class="w"> </span>        program_start: &#39;申し込み開始日時&#39;
<span class="w"> </span>        program_end: &#39;申し込み終了日時&#39;
<span class="w"> </span>        program_min_entry: &#39;最小参加者数&#39;
<span class="gd">-        program_max_entry: &#39;最大参観者数&#39;</span>
<span class="gi">+        program_max_entry: &#39;最大参加者数&#39;</span>
<span class="w"> </span>        program_entry_count: &#39;申し込み件数&#39;
<span class="w"> </span>        program_staff: &#39;登録職員&#39;
<span class="w"> </span>      new:
<span class="gu">@@ -151,7 +151,7 @@ ja:</span>
<span class="w"> </span>        program_end: &#39;申し込み終了日時&#39;
<span class="w"> </span>        program_end_instruction: &#39;開始日時から90日後まで&#39;
<span class="w"> </span>        program_min_entry: &#39;最小参加者数&#39;
<span class="gd">-        program_max_entry: &#39;最大参観者数&#39;</span>
<span class="gi">+        program_max_entry: &#39;最大参加者数&#39;</span>
<span class="w"> </span>      entries_form:
<span class="w"> </span>        name: &#39;氏名&#39;
<span class="w"> </span>        a: &#39;A&#39;
<span class="gh">diff --git a/spec/factories/entries.rb b/spec/factories/entries.rb</span>
<span class="gh">index 68decf9..6dc2a58 100644</span>
<span class="gd">--- a/spec/factories/entries.rb</span>
<span class="gi">+++ b/spec/factories/entries.rb</span>
<span class="gu">@@ -19,6 +19,9 @@</span>

<span class="w"> </span>FactoryBot.define do
<span class="w"> </span>  factory :entry do
<span class="gd">-    </span>
<span class="gi">+    program</span>
<span class="gi">+    customer</span>
<span class="gi">+    approved { false }</span>
<span class="gi">+    canceled { false }</span>
<span class="w"> </span>  end
<span class="w"> </span>end
<span class="gh">diff --git a/spec/features/staff/program_management_spec.rb b/spec/features/staff/program_management_spec.rb</span>
<span class="gh">index 413731f..190110a 100644</span>
<span class="gd">--- a/spec/features/staff/program_management_spec.rb</span>
<span class="gi">+++ b/spec/features/staff/program_management_spec.rb</span>
<span class="gu">@@ -1,35 +1,82 @@</span>
<span class="w"> </span>require &#39;rails_helper&#39;

<span class="gd">-feature &#39;プログラム管理機能&#39;, :performace do</span>
<span class="gi">+feature &#39;職員によるプログラム管理&#39; do</span>
<span class="w"> </span>  include FeaturesSpecHelper
<span class="w"> </span>  include PerformanceSpecHelper
<span class="w"> </span>  let(:staff_member) { create(:staff_member) }
<span class="gi">+  let!(:program) { create(:program, registrant: staff_member) }</span>
<span class="gi">+  let(:customer) { create(:customer) }</span>
<span class="gi">+  let!(:entry) { create(:entry, program: program, customer: customer) }</span>

<span class="w"> </span>  before do
<span class="gd">-    20.times do |n|</span>
<span class="gd">-      p  = create(:program, application_start_time: n.days.ago.midnight)</span>
<span class="gd">-      if n &lt; 2</span>
<span class="gd">-        p.applicants &lt;&lt; create(:customer)</span>
<span class="gd">-        p.applicants &lt;&lt; create(:customer)</span>
<span class="gd">-      end</span>
<span class="gd">-    end</span>
<span class="gd">-</span>
<span class="w"> </span>    switch_namespace(:staff)
<span class="w"> </span>    login_as_staff_member(staff_member)
<span class="w"> </span>  end

<span class="gd">-  scenario &#39;プログラム一覧&#39; do |example|</span>
<span class="gi">+  scenario &#39;職員がプログラム一覧を表示する&#39; do</span>
<span class="w"> </span>    visit staff_programs_path
<span class="w"> </span>    expect(page).to have_css(&#39;h1&#39;, text: I18n.t(&#39;staff.programs.index.title&#39;))
<span class="gi">+    expect(page).to have_content(program.title)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;職員がプログラム詳細を表示する&#39; do</span>
<span class="gi">+    visit staff_programs_path</span>
<span class="gi">+    click_link I18n.t(&#39;staff.programs.form.show&#39;)</span>
<span class="gi">+</span>
<span class="gi">+    expect(page).to have_content(program.title)</span>
<span class="gi">+    expect(page).to have_content(program.description)</span>
<span class="gi">+  end</span>

<span class="gd">-    elapsed = Benchmark.realtime do</span>
<span class="gd">-      100.times do</span>
<span class="gd">-        visit staff_programs_path</span>
<span class="gd">-      end</span>
<span class="gd">-    end</span>
<span class="gi">+  scenario &#39;職員が新規プログラムを登録する&#39; do</span>
<span class="gi">+    visit staff_programs_path</span>
<span class="gi">+    first(&#39;a&#39;, text: I18n.t(&#39;staff.programs.index.new&#39;)).click</span>
<span class="gi">+</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.program.title&#39;), with: &#39;New Program&#39;</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.program.description&#39;), with: &#39;Program Description&#39;</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.program.application_start_date&#39;), with: Date.today.to_s</span>
<span class="gi">+    select &#39;09&#39;, from: &quot;form_program_application_start_hour&quot;</span>
<span class="gi">+    select &#39;00&#39;, from: &quot;form_program_application_start_minute&quot;</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.program.application_end_date&#39;), with: Date.today.next_month.to_s</span>
<span class="gi">+    select &#39;17&#39;, from: &quot;form_program_application_end_hour&quot;</span>
<span class="gi">+    select &#39;00&#39;, from: &quot;form_program_application_end_minute&quot;</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.program.min_number_of_participants&#39;), with: &#39;5&#39;</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.program.max_number_of_participants&#39;), with: &#39;10&#39;</span>
<span class="gi">+</span>
<span class="gi">+    click_button I18n.t(&#39;staff.programs.new.create&#39;)</span>

<span class="gd">-    write_to_performance_log(example, elapsed)</span>
<span class="gd">-    expect(elapsed).to be &lt; 100.0</span>
<span class="gi">+    expect(page).to have_css(&#39;.Flash__notice&#39;, text: I18n.t(&#39;staff.programs.create.flash_notice&#39;))</span>
<span class="gi">+    expect(Program.find_by(title: &#39;New Program&#39;)).to be_present</span>
<span class="w"> </span>  end

<span class="gi">+  scenario &#39;職員がプログラムを編集する&#39; do</span>
<span class="gi">+    visit staff_programs_path</span>
<span class="gi">+    click_link I18n.t(&#39;staff.programs.form.edit&#39;)</span>
<span class="gi">+</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.program.title&#39;), with: &#39;Updated Program&#39;</span>
<span class="gi">+    click_button I18n.t(&#39;staff.programs.edit.update&#39;)</span>
<span class="gi">+</span>
<span class="gi">+    expect(page).to have_css(&#39;.Flash__notice&#39;, text: I18n.t(&#39;staff.programs.update.flash_notice&#39;))</span>
<span class="gi">+    expect(program.reload.title).to eq(&#39;Updated Program&#39;)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;職員がプログラムを削除する&#39; do</span>
<span class="gi">+    program_without_entries = create(:program, registrant: staff_member)</span>
<span class="gi">+</span>
<span class="gi">+    visit staff_programs_path</span>
<span class="gi">+</span>
<span class="gi">+    all(&#39;a&#39;, text: I18n.t(&#39;staff.programs.form.delete&#39;)).last.click</span>
<span class="gi">+</span>
<span class="gi">+    expect(page).to have_css(&#39;.Flash__notice&#39;, text: I18n.t(&#39;staff.programs.destroy.flash_notice&#39;))</span>
<span class="gi">+    expect(Program.find_by(id: program_without_entries.id)).to be_nil</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;職員がエントリーを管理する&#39; do</span>
<span class="gi">+    visit staff_program_path(program)</span>
<span class="gi">+</span>
<span class="gi">+    find(&quot;input[type=&#39;checkbox&#39;].isApproved[data-entry-id=&#39;#{entry.id}&#39;]&quot;).click</span>
<span class="gi">+    click_button I18n.t(&#39;staff.programs.entries_form.update&#39;)</span>
<span class="gi">+</span>
<span class="gi">+    expect(page).to have_css(&#39;.Flash__notice&#39;, text: I18n.t(&#39;staff.programs.entries.flash_notice&#39;))</span>
<span class="gi">+    expect(entry.reload.approved).to be true</span>
<span class="gi">+  end</span>
<span class="w"> </span>end
</code></pre></div>
<h2 id="00e4601">コミット: 00e4601<a class="headerlink" href="#00e4601" title="Permanent link">&para;</a></h2>
<h3 id="_9">メッセージ<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>test(WIP):E2Eテスト
</code></pre></div>
<h3 id="_10">変更されたファイル<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/controllers/customer/programs_controller.rb</li>
<li>M spec/features/customer/program_management_spec.rb</li>
</ul>
<h3 id="_11">変更内容<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 00e4601c979a9c5b18e48f66a032ba5464f00149
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Tue Jun 10 16:35:12 2025 +0900

<span class="w"> </span>   test(WIP):E2Eテスト

<span class="gh">diff --git a/app/controllers/customer/programs_controller.rb b/app/controllers/customer/programs_controller.rb</span>
<span class="gh">index 0cf4a1e..c6d8421 100644</span>
<span class="gd">--- a/app/controllers/customer/programs_controller.rb</span>
<span class="gi">+++ b/app/controllers/customer/programs_controller.rb</span>
<span class="gu">@@ -4,6 +4,6 @@ class Customer::ProgramsController &lt; Customer::Base</span>
<span class="w"> </span>  end

<span class="w"> </span>  def show
<span class="gd">-    @program = Program.published.find(params[:id])</span>
<span class="gi">+    @program = Program.published.find_by(params[:id])</span>
<span class="w"> </span>  end
<span class="w"> </span>end
<span class="gh">diff --git a/spec/features/customer/program_management_spec.rb b/spec/features/customer/program_management_spec.rb</span>
<span class="gh">index 8341e2d..a2230b8 100644</span>
<span class="gd">--- a/spec/features/customer/program_management_spec.rb</span>
<span class="gi">+++ b/spec/features/customer/program_management_spec.rb</span>
<span class="gu">@@ -19,50 +19,37 @@ feature &#39;顧客によるプログラム管理&#39; do</span>

<span class="w"> </span>  scenario &#39;顧客がプログラム詳細を閲覧する&#39; do
<span class="w"> </span>    visit customer_programs_path
<span class="gd">-    click_link program.title</span>
<span class="gd">-    </span>
<span class="gd">-    expect(page).to have_css(&#39;h1&#39;, text: program.title)</span>
<span class="gi">+    click_link I18n.t(&#39;staff.programs.form.show&#39;)</span>
<span class="gi">+</span>
<span class="gi">+    expect(page).to have_content(program.title)</span>
<span class="w"> </span>    expect(page).to have_content(program.description)
<span class="w"> </span>  end

<span class="w"> </span>  scenario &#39;顧客がプログラムを予約する&#39; do
<span class="w"> </span>    visit customer_program_path(program)
<span class="gd">-    click_link I18n.t(&#39;customer.programs.show.apply&#39;)</span>
<span class="gd">-    </span>
<span class="gd">-    fill_in I18n.t(&#39;activerecord.attributes.entry.remarks&#39;), with: &#39;テスト予約&#39;</span>
<span class="gd">-    click_button I18n.t(&#39;customer.entries.new.submit&#39;)</span>
<span class="gi">+    click_button I18n.t(&#39;customer.programs.show.apply&#39;)</span>

<span class="gd">-    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;customer.entries.create.notice&#39;))</span>
<span class="gi">+    expect(page).to have_css(&#39;.Flash__notice&#39;, text: I18n.t(&#39;customer.entries.create.flash_notice&#39;))</span>
<span class="w"> </span>    expect(Entry.find_by(program: program, customer: customer)).to be_present
<span class="w"> </span>  end

<span class="w"> </span>  scenario &#39;顧客が予約をキャンセルする&#39; do
<span class="gd">-    entry = create(:entry, program: program, customer: customer)</span>
<span class="gd">-    </span>
<span class="gd">-    visit customer_entries_path</span>
<span class="gd">-    click_link program.title</span>
<span class="gd">-    click_link I18n.t(&#39;customer.entries.show.cancel&#39;)</span>
<span class="gd">-    </span>
<span class="gd">-    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;customer.entries.cancel.notice&#39;))</span>
<span class="gd">-    expect(entry.reload.canceled).to be_truthy</span>
<span class="gi">+    visit customer_program_path(program)</span>
<span class="gi">+    click_button I18n.t(&#39;customer.programs.show.apply&#39;)</span>
<span class="gi">+    visit customer_program_path(program)</span>
<span class="gi">+    click_button I18n.t(&#39;customer.programs.show.cancel&#39;)</span>
<span class="gi">+</span>
<span class="gi">+    expect(page).to have_css(&#39;.Flash__notice&#39;, text: I18n.t(&#39;customer.entries.cancel.flash_notice&#39;))</span>
<span class="gi">+    expect(Entry.find_by(program: program, customer: customer).canceled).to be true</span>
<span class="w"> </span>  end

<span class="w"> </span>  scenario &#39;顧客が予約期間外のプログラムを予約しようとする&#39; do
<span class="gd">-    closed_program = create(:program, application_start_time: 10.days.from_now, application_end_time: 20.days.from_now)</span>
<span class="gd">-    </span>
<span class="gd">-    visit customer_program_path(closed_program)</span>
<span class="gd">-    </span>
<span class="gd">-    expect(page).not_to have_link(I18n.t(&#39;customer.programs.show.apply&#39;))</span>
<span class="gd">-    expect(page).to have_content(I18n.t(&#39;customer.programs.show.not_applicable&#39;))</span>
<span class="gd">-  end</span>
<span class="gi">+    Program.delete_all</span>
<span class="gi">+    closed_program = create(:program, application_start_time: 20.days.ago, application_end_time: 10.days.ago)</span>
<span class="gi">+    visit customer_programs_path</span>

<span class="gd">-  scenario &#39;顧客が定員超過のプログラムを予約しようとする&#39; do</span>
<span class="gd">-    full_program = create(:program, application_start_time: 2.days.ago, application_end_time: 2.days.from_now, max_number_of_participants: 1)</span>
<span class="gd">-    create(:entry, program: full_program) # Fill the program</span>
<span class="gd">-    </span>
<span class="gd">-    visit customer_program_path(full_program)</span>
<span class="gi">+    visit customer_program_path(closed_program)</span>

<span class="gd">-    expect(page).not_to have_link(I18n.t(&#39;customer.programs.show.apply&#39;))</span>
<span class="gd">-    expect(page).to have_content(I18n.t(&#39;customer.programs.show.full&#39;))</span>
<span class="gi">+    expect(page).to have_button(I18n.t(&#39;customer.programs.show.closed&#39;), disabled: true)</span>
<span class="w"> </span>  end
<span class="w"> </span>end
\ No newline at end of file
</code></pre></div>
<h3 id="_12">構造変更<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgMjU3IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjkxNDEiIHg9IjUiIHk9IjE2LjEzODciPldlbGNvbWUgdG8gUGxhbnRVTUwhPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMzAuMTA3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ny4xMDc0IiB4PSI1IiB5PSI0NC4wNzYyIj5Zb3UgY2FuIHN0YXJ0IHdpdGggYSBzaW1wbGUgVU1MIERpYWdyYW0gbGlrZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI1OC4wNDQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE4NCIgeD0iNSIgeT0iNzIuMDEzNyI+Qm9iLSZndDtBbGljZTomIzE2MDtIZWxsbzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9Ijg1Ljk4MjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNC4zNzg5IiB4PSI1IiB5PSI5OS45NTEyIj5PcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjExMy45MTk5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My45MTk5IiB4PSI1IiB5PSIxMjcuODg4NyI+Y2xhc3MmIzE2MDtFeGFtcGxlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTQxLjg1NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDEuOTUzMSIgeD0iNSIgeT0iMTU1LjgyNjIiPllvdSB3aWxsIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBQbGFudFVNTCBzeW50YXggb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyNS43MDEyIiB4PSIzNTAuNzY3NiIgeT0iMTU1LjgyNjIiPmh0dHBzOi8vcGxhbnR1bWwuY29tPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTY5Ljc5NDkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNjExMyIgeD0iNSIgeT0iMTgzLjc2MzciPihEZXRhaWxzIGJ5IHR5cGluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU3MjMiIHg9IjExNS40MjU4IiB5PSIxODMuNzYzNyI+bGljZW5zZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS44MjIzIiB4PSIxNjkuODEyNSIgeT0iMTgzLjc2MzciPmtleXdvcmQpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTk3LjczMjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjIxMS43MDEyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIyMjUuNjY5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMjM5LjYzODciPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjI1My42MDc0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA2LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSIxODUuNDM3NSIvPjwhLS1TUkM9W0tyVHV0M1p2U1VFd25xc1I3cFZGVnpwU19CWXZ1dDdad2lURDdPLVJrZnlqeHR4UGlFM2ZhaXZkaXhTeVJmaHFPazZBbnVxcDdwU3RGNnZReWhYZnFVRWMzTy1STHB2a05XMkswWGkySEFqVnhEX3hqNmwxdXlSZlpua05GTXhpVnptOFA0enp0RFoyZlF4bVA1LXQ1UDFBcGFhaUJiUm1Jb3J0MVo3VzBndUxjU0tiY05kZkM1Nk8wV0xUTkpqS0lHMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="429998b">コミット: 429998b<a class="headerlink" href="#429998b" title="Permanent link">&para;</a></h2>
<h3 id="_13">メッセージ<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>docs:ユースケース更新
</code></pre></div>
<h3 id="_14">変更されたファイル<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<ul>
<li>M "docs/\343\203\246\343\203\274\343\202\271\343\202\261\343\203\274\343\202\271.md"</li>
</ul>
<h3 id="_15">変更内容<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 429998be7be58147cc12ad325bbfd790bd33b9bb
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Tue Jun 10 15:21:20 2025 +0900

<span class="w"> </span>   docs:ユースケース更新

<span class="gh">diff --git &quot;a/docs/\343\203\246\343\203\274\343\202\271\343\202\261\343\203\274\343\202\271.md&quot; &quot;b/docs/\343\203\246\343\203\274\343\202\271\343\202\261\343\203\274\343\202\271.md&quot;</span>
<span class="gh">index 8d89046..51eb39c 100644</span>
<span class="gd">--- &quot;a/docs/\343\203\246\343\203\274\343\202\271\343\202\261\343\203\274\343\202\271.md&quot;</span>
<span class="gi">+++ &quot;b/docs/\343\203\246\343\203\274\343\202\271\343\202\261\343\203\274\343\202\271.md&quot;</span>
<span class="gu">@@ -2,58 +2,58 @@</span>

<span class="w"> </span>## 1. 概要

<span class="gd">-このドキュメントはBaukis-Kaiシステムの主要なユースケースを定義します。システムは主に3つのユーザータイプ（スタッフ、顧客、管理者）向けの機能を提供しています。</span>
<span class="gi">+このドキュメントはBaukis-Kaiシステムの主要なユースケースを定義します。システムは主に3つのユーザータイプ（職員、顧客、管理者）向けの機能を提供しています。</span>

<span class="w"> </span>## 2. アクター定義

<span class="w"> </span>システムには以下の主要なアクターが存在します：

<span class="gd">-1. **スタッフ**: 顧客情報管理、プログラム管理、顧客とのコミュニケーションを担当する組織の従業員</span>
<span class="gi">+1. **職員**: 顧客情報管理、プログラム管理、顧客とのコミュニケーションを担当する組織の従業員</span>
<span class="w"> </span>2. **顧客**: サービスを利用する個人またはグループ
<span class="gd">-3. **管理者**: システム全体とスタッフアカウントを管理する権限を持つユーザー</span>
<span class="gi">+3. **管理者**: システム全体と職員アカウントを管理する権限を持つユーザー</span>

<span class="gd">-## 3. スタッフのユースケース</span>
<span class="gi">+## 3. 職員のユースケース</span>

<span class="w"> </span>### 3.1. アカウント管理

<span class="w"> </span>| ユースケースID | S-001 |
<span class="w"> </span>| ------------- | ----- |
<span class="gd">-| ユースケース名 | スタッフログイン |</span>
<span class="gd">-| アクター | スタッフ |</span>
<span class="gd">-| 説明 | スタッフがシステムにログインする |</span>
<span class="gd">-| 事前条件 | スタッフアカウントが作成されている |</span>
<span class="gd">-| 基本フロー | 1. スタッフがログインページにアクセス&lt;br&gt;2. メールアドレスとパスワードを入力&lt;br&gt;3. 認証情報を検証&lt;br&gt;4. ダッシュボードにリダイレクト |</span>
<span class="gi">+| ユースケース名 | 職員ログイン |</span>
<span class="gi">+| アクター | 職員 |</span>
<span class="gi">+| 説明 | 職員がシステムにログインする |</span>
<span class="gi">+| 事前条件 | 職員アカウントが作成されている |</span>
<span class="gi">+| 基本フロー | 1. 職員がログインページにアクセス&lt;br&gt;2. メールアドレスとパスワードを入力&lt;br&gt;3. 認証情報を検証&lt;br&gt;4. ダッシュボードにリダイレクト |</span>
<span class="w"> </span>| 代替フロー | - 認証失敗: エラーメッセージを表示&lt;br&gt;- アカウント停止中: アクセス拒否メッセージを表示 |
<span class="gd">-| 事後条件 | スタッフがシステムにログインした状態になる |</span>
<span class="gi">+| 事後条件 | 職員がシステムにログインした状態になる |</span>

<span class="w"> </span>| ユースケースID | S-002 |
<span class="w"> </span>| ------------- | ----- |
<span class="gd">-| ユースケース名 | スタッフログアウト |</span>
<span class="gd">-| アクター | スタッフ |</span>
<span class="gd">-| 説明 | スタッフがシステムからログアウトする |</span>
<span class="gd">-| 事前条件 | スタッフがログイン済み |</span>
<span class="gd">-| 基本フロー | 1. スタッフがログアウトボタンをクリック&lt;br&gt;2. セッションを終了&lt;br&gt;3. ログインページにリダイレクト |</span>
<span class="gi">+| ユースケース名 | 職員ログアウト |</span>
<span class="gi">+| アクター | 職員 |</span>
<span class="gi">+| 説明 | 職員がシステムからログアウトする |</span>
<span class="gi">+| 事前条件 | 職員がログイン済み |</span>
<span class="gi">+| 基本フロー | 1. 職員がログアウトボタンをクリック&lt;br&gt;2. セッションを終了&lt;br&gt;3. ログインページにリダイレクト |</span>
<span class="w"> </span>| 代替フロー | なし |
<span class="gd">-| 事後条件 | スタッフがログアウト状態になる |</span>
<span class="gi">+| 事後条件 | 職員がログアウト状態になる |</span>

<span class="w"> </span>| ユースケースID | S-003 |
<span class="w"> </span>| ------------- | ----- |
<span class="gd">-| ユースケース名 | スタッフアカウント情報更新 |</span>
<span class="gd">-| アクター | スタッフ |</span>
<span class="gd">-| 説明 | スタッフが自身のアカウント情報を更新する |</span>
<span class="gd">-| 事前条件 | スタッフがログイン済み |</span>
<span class="gd">-| 基本フロー | 1. スタッフがアカウント設定ページにアクセス&lt;br&gt;2. 情報を編集&lt;br&gt;3. 変更を保存 |</span>
<span class="gi">+| ユースケース名 | 職員アカウント情報更新 |</span>
<span class="gi">+| アクター | 職員 |</span>
<span class="gi">+| 説明 | 職員が自身のアカウント情報を更新する |</span>
<span class="gi">+| 事前条件 | 職員がログイン済み |</span>
<span class="gi">+| 基本フロー | 1. 職員がアカウント設定ページにアクセス&lt;br&gt;2. 情報を編集&lt;br&gt;3. 変更を保存 |</span>
<span class="w"> </span>| 代替フロー | - バリデーションエラー: エラーメッセージを表示し再編集を促す |
<span class="gd">-| 事後条件 | スタッフの情報が更新される |</span>
<span class="gi">+| 事後条件 | 職員の情報が更新される |</span>

<span class="w"> </span>### 3.2. 顧客管理

<span class="w"> </span>| ユースケースID | S-004 |
<span class="w"> </span>| ------------- | ----- |
<span class="w"> </span>| ユースケース名 | 顧客情報登録 |
<span class="gd">-| アクター | スタッフ |</span>
<span class="gd">-| 説明 | スタッフが新規顧客情報を登録する |</span>
<span class="gd">-| 事前条件 | スタッフがログイン済み |</span>
<span class="gi">+| アクター | 職員 |</span>
<span class="gi">+| 説明 | 職員が新規顧客情報を登録する |</span>
<span class="gi">+| 事前条件 | 職員がログイン済み |</span>
<span class="w"> </span>| 基本フロー | 1. 顧客登録フォームにアクセス&lt;br&gt;2. 顧客の基本情報を入力&lt;br&gt;3. 住所情報を入力（自宅/職場）&lt;br&gt;4. 電話番号情報を入力&lt;br&gt;5. フォームを送信&lt;br&gt;6. システムがデータを検証&lt;br&gt;7. 顧客情報を保存 |
<span class="w"> </span>| 代替フロー | - バリデーションエラー: エラーメッセージを表示し再編集を促す |
<span class="w"> </span>| 事後条件 | 新規顧客情報がシステムに登録される |
<span class="gu">@@ -61,9 +61,9 @@</span>
<span class="w"> </span>| ユースケースID | S-005 |
<span class="w"> </span>| ------------- | ----- |
<span class="w"> </span>| ユースケース名 | 顧客情報検索 |
<span class="gd">-| アクター | スタッフ |</span>
<span class="gd">-| 説明 | スタッフが顧客情報を検索する |</span>
<span class="gd">-| 事前条件 | スタッフがログイン済み |</span>
<span class="gi">+| アクター | 職員 |</span>
<span class="gi">+| 説明 | 職員が顧客情報を検索する |</span>
<span class="gi">+| 事前条件 | 職員がログイン済み |</span>
<span class="w"> </span>| 基本フロー | 1. 顧客検索フォームにアクセス&lt;br&gt;2. 検索条件（名前、メールアドレス、電話番号など）を入力&lt;br&gt;3. 検索を実行&lt;br&gt;4. 検索結果を表示 |
<span class="w"> </span>| 代替フロー | - 検索結果なし: 該当する顧客がない旨のメッセージを表示 |
<span class="w"> </span>| 事後条件 | 検索条件に合致する顧客情報が表示される |
<span class="gu">@@ -71,9 +71,9 @@</span>
<span class="w"> </span>| ユースケースID | S-006 |
<span class="w"> </span>| ------------- | ----- |
<span class="w"> </span>| ユースケース名 | 顧客情報更新 |
<span class="gd">-| アクター | スタッフ |</span>
<span class="gd">-| 説明 | スタッフが既存の顧客情報を更新する |</span>
<span class="gd">-| 事前条件 | スタッフがログイン済み、顧客が登録済み |</span>
<span class="gi">+| アクター | 職員 |</span>
<span class="gi">+| 説明 | 職員が既存の顧客情報を更新する |</span>
<span class="gi">+| 事前条件 | 職員がログイン済み、顧客が登録済み |</span>
<span class="w"> </span>| 基本フロー | 1. 顧客詳細ページにアクセス&lt;br&gt;2. 編集ボタンをクリック&lt;br&gt;3. 顧客情報を編集&lt;br&gt;4. 変更を保存 |
<span class="w"> </span>| 代替フロー | - バリデーションエラー: エラーメッセージを表示し再編集を促す |
<span class="w"> </span>| 事後条件 | 顧客情報が更新される |
<span class="gu">@@ -83,9 +83,9 @@</span>
<span class="w"> </span>| ユースケースID | S-007 |
<span class="w"> </span>| ------------- | ----- |
<span class="w"> </span>| ユースケース名 | プログラム作成 |
<span class="gd">-| アクター | スタッフ |</span>
<span class="gd">-| 説明 | スタッフが新規プログラムを作成する |</span>
<span class="gd">-| 事前条件 | スタッフがログイン済み |</span>
<span class="gi">+| アクター | 職員 |</span>
<span class="gi">+| 説明 | 職員が新規プログラムを作成する |</span>
<span class="gi">+| 事前条件 | 職員がログイン済み |</span>
<span class="w"> </span>| 基本フロー | 1. プログラム作成フォームにアクセス&lt;br&gt;2. プログラム詳細（タイトル、説明、日時、参加人数制限等）を入力&lt;br&gt;3. フォームを送信&lt;br&gt;4. システムがデータを検証&lt;br&gt;5. プログラム情報を保存 |
<span class="w"> </span>| 代替フロー | - バリデーションエラー: エラーメッセージを表示し再編集を促す |
<span class="w"> </span>| 事後条件 | 新規プログラムがシステムに登録される |
<span class="gu">@@ -93,9 +93,9 @@</span>
<span class="w"> </span>| ユースケースID | S-008 |
<span class="w"> </span>| ------------- | ----- |
<span class="w"> </span>| ユースケース名 | プログラム更新 |
<span class="gd">-| アクター | スタッフ |</span>
<span class="gd">-| 説明 | スタッフが既存のプログラム情報を更新する |</span>
<span class="gd">-| 事前条件 | スタッフがログイン済み、プログラムが登録済み |</span>
<span class="gi">+| アクター | 職員 |</span>
<span class="gi">+| 説明 | 職員が既存のプログラム情報を更新する |</span>
<span class="gi">+| 事前条件 | 職員がログイン済み、プログラムが登録済み |</span>
<span class="w"> </span>| 基本フロー | 1. プログラム詳細ページにアクセス&lt;br&gt;2. 編集ボタンをクリック&lt;br&gt;3. プログラム情報を編集&lt;br&gt;4. 変更を保存 |
<span class="w"> </span>| 代替フロー | - バリデーションエラー: エラーメッセージを表示し再編集を促す&lt;br&gt;- 既に予約がある場合: 特定の項目の編集を制限 |
<span class="w"> </span>| 事後条件 | プログラム情報が更新される |
<span class="gu">@@ -103,9 +103,9 @@</span>
<span class="w"> </span>| ユースケースID | S-009 |
<span class="w"> </span>| ------------- | ----- |
<span class="w"> </span>| ユースケース名 | プログラム参加者管理 |
<span class="gd">-| アクター | スタッフ |</span>
<span class="gd">-| 説明 | スタッフがプログラムの参加者を管理する |</span>
<span class="gd">-| 事前条件 | スタッフがログイン済み、プログラムが登録済み |</span>
<span class="gi">+| アクター | 職員 |</span>
<span class="gi">+| 説明 | 職員がプログラムの参加者を管理する |</span>
<span class="gi">+| 事前条件 | 職員がログイン済み、プログラムが登録済み |</span>
<span class="w"> </span>| 基本フロー | 1. プログラム詳細ページの参加者タブにアクセス&lt;br&gt;2. 参加者リストを確認&lt;br&gt;3. 参加承認または拒否の操作を行う |
<span class="w"> </span>| 代替フロー | - 参加者なし: 参加者がいない旨のメッセージを表示 |
<span class="w"> </span>| 事後条件 | 参加者のステータスが更新される |
<span class="gu">@@ -115,9 +115,9 @@</span>
<span class="w"> </span>| ユースケースID | S-010 |
<span class="w"> </span>| ------------- | ----- |
<span class="w"> </span>| ユースケース名 | 顧客への問い合わせ送信 |
<span class="gd">-| アクター | スタッフ |</span>
<span class="gd">-| 説明 | スタッフが顧客にメッセージを送信する |</span>
<span class="gd">-| 事前条件 | スタッフがログイン済み、顧客が登録済み |</span>
<span class="gi">+| アクター | 職員 |</span>
<span class="gi">+| 説明 | 職員が顧客にメッセージを送信する |</span>
<span class="gi">+| 事前条件 | 職員がログイン済み、顧客が登録済み |</span>
<span class="w"> </span>| 基本フロー | 1. 顧客詳細ページのメッセージタブにアクセス&lt;br&gt;2. 新規メッセージボタンをクリック&lt;br&gt;3. メッセージのタイトルと本文を入力&lt;br&gt;4. タグを選択（オプション）&lt;br&gt;5. メッセージを送信 |
<span class="w"> </span>| 代替フロー | - バリデーションエラー: エラーメッセージを表示し再編集を促す |
<span class="w"> </span>| 事後条件 | メッセージが顧客に送信される |
<span class="gu">@@ -125,9 +125,9 @@</span>
<span class="w"> </span>| ユースケースID | S-011 |
<span class="w"> </span>| ------------- | ----- |
<span class="w"> </span>| ユースケース名 | 顧客からの問い合わせ確認 |
<span class="gd">-| アクター | スタッフ |</span>
<span class="gd">-| 説明 | スタッフが顧客からのメッセージを確認する |</span>
<span class="gd">-| 事前条件 | スタッフがログイン済み、顧客からメッセージが送信済み |</span>
<span class="gi">+| アクター | 職員 |</span>
<span class="gi">+| 説明 | 職員が顧客からのメッセージを確認する |</span>
<span class="gi">+| 事前条件 | 職員がログイン済み、顧客からメッセージが送信済み |</span>
<span class="w"> </span>| 基本フロー | 1. メッセージ一覧ページにアクセス&lt;br&gt;2. 未読または特定の顧客からのメッセージをフィルタ&lt;br&gt;3. メッセージを選択して詳細を閲覧 |
<span class="w"> </span>| 代替フロー | - メッセージなし: メッセージがない旨のメッセージを表示 |
<span class="w"> </span>| 事後条件 | メッセージが既読状態になる |
<span class="gu">@@ -135,9 +135,9 @@</span>
<span class="w"> </span>| ユースケースID | S-012 |
<span class="w"> </span>| ------------- | ----- |
<span class="w"> </span>| ユースケース名 | 問い合わせ返信 |
<span class="gd">-| アクター | スタッフ |</span>
<span class="gd">-| 説明 | スタッフが顧客のメッセージに返信する |</span>
<span class="gd">-| 事前条件 | スタッフがログイン済み、顧客からメッセージが送信済み |</span>
<span class="gi">+| アクター | 職員 |</span>
<span class="gi">+| 説明 | 職員が顧客のメッセージに返信する |</span>
<span class="gi">+| 事前条件 | 職員がログイン済み、顧客からメッセージが送信済み |</span>
<span class="w"> </span>| 基本フロー | 1. メッセージ詳細画面にアクセス&lt;br&gt;2. 返信ボタンをクリック&lt;br&gt;3. 返信内容を入力&lt;br&gt;4. 返信を送信 |
<span class="w"> </span>| 代替フロー | - バリデーションエラー: エラーメッセージを表示し再編集を促す |
<span class="w"> </span>| 事後条件 | 返信が顧客に送信される |
<span class="gu">@@ -222,13 +222,13 @@</span>

<span class="w"> </span>| ユースケースID | C-008 |
<span class="w"> </span>| ------------- | ----- |
<span class="gd">-| ユースケース名 | スタッフへの問い合わせ送信 |</span>
<span class="gi">+| ユースケース名 | 職員への問い合わせ送信 |</span>
<span class="w"> </span>| アクター | 顧客 |
<span class="gd">-| 説明 | 顧客がスタッフにメッセージを送信する |</span>
<span class="gi">+| 説明 | 顧客が職員にメッセージを送信する |</span>
<span class="w"> </span>| 事前条件 | 顧客がログイン済み |
<span class="gd">-| 基本フロー | 1. マイページのメッセージ機能にアクセス&lt;br&gt;2. 新規メッセージボタンをクリック&lt;br&gt;3. メッセージのタイトルと本文を入力&lt;br&gt;4. 宛先のスタッフを選択またはカテゴリを選択&lt;br&gt;5. メッセージを送信 |</span>
<span class="gi">+| 基本フロー | 1. マイページのメッセージ機能にアクセス&lt;br&gt;2. 新規メッセージボタンをクリック&lt;br&gt;3. メッセージのタイトルと本文を入力&lt;br&gt;4. 宛先の職員を選択またはカテゴリを選択&lt;br&gt;5. メッセージを送信 |</span>
<span class="w"> </span>| 代替フロー | - バリデーションエラー: エラーメッセージを表示し再編集を促す |
<span class="gd">-| 事後条件 | メッセージがスタッフに送信される |</span>
<span class="gi">+| 事後条件 | メッセージが職員に送信される |</span>

<span class="w"> </span>| ユースケースID | C-009 |
<span class="w"> </span>| ------------- | ----- |
<span class="gu">@@ -244,11 +244,11 @@</span>
<span class="w"> </span>| ------------- |---------------------------------------------------|
<span class="w"> </span>| ユースケース名 | 問い合わせ返信                                           |
<span class="w"> </span>| アクター | 顧客                                                |
<span class="gd">-| 説明 | 顧客がスタッフのメッセージに返信する                                |</span>
<span class="gd">-| 事前条件 | 顧客がログイン済み、スタッフからメッセージが送信済み                        |</span>
<span class="gi">+| 説明 | 顧客が職員のメッセージに返信する                                |</span>
<span class="gi">+| 事前条件 | 顧客がログイン済み、職員からメッセージが送信済み                        |</span>
<span class="w"> </span>| 基本フロー | 1. マイページのメッセージ履歴にアクセス&lt;br&gt;2. メッセージスレッドを選択&lt;br&gt;3. 返信 |
<span class="w"> </span>| 代替フロー | - バリデーションエラー: エラーメッセージを表示し再編集を促す                  |
<span class="gd">-| 事後条件 | 返信がスタッフに送信される                                     |</span>
<span class="gi">+| 事後条件 | 返信が職員に送信される                                     |</span>


<span class="w"> </span>## 5. 管理者のユースケース
<span class="gu">@@ -275,62 +275,52 @@</span>
<span class="w"> </span>| 代替フロー | なし |
<span class="w"> </span>| 事後条件 | 管理者がログアウト状態になる |

<span class="gd">-### 5.2. スタッフ管理</span>
<span class="gi">+### 5.2. 職員管理</span>

<span class="w"> </span>| ユースケースID | A-003 |
<span class="w"> </span>| ------------- | ----- |
<span class="gd">-| ユースケース名 | スタッフアカウント作成 |</span>
<span class="gi">+| ユースケース名 | 職員アカウント作成 |</span>
<span class="w"> </span>| アクター | 管理者 |
<span class="gd">-| 説明 | 管理者が新規スタッフアカウントを作成する |</span>
<span class="gi">+| 説明 | 管理者が新規職員アカウントを作成する |</span>
<span class="w"> </span>| 事前条件 | 管理者がログイン済み |
<span class="gd">-| 基本フロー | 1. スタッフ管理ページにアクセス&lt;br&gt;2. 新規スタッフ作成ボタンをクリック&lt;br&gt;3. スタッフ情報を入力&lt;br&gt;4. アカウントを作成 |</span>
<span class="gi">+| 基本フロー | 1. 職員管理ページにアクセス&lt;br&gt;2. 新規スタッフ作成ボタンをクリック&lt;br&gt;3. スタッフ情報を入力&lt;br&gt;4. アカウントを作成 |</span>
<span class="w"> </span>| 代替フロー | - バリデーションエラー: エラーメッセージを表示し再編集を促す&lt;br&gt;- メールアドレス重複: エラーメッセージを表示 |
<span class="gd">-| 事後条件 | 新規スタッフアカウントが作成される |</span>
<span class="gi">+| 事後条件 | 新規職員アカウントが作成される |</span>

<span class="w"> </span>| ユースケースID | A-004 |
<span class="w"> </span>| ------------- | ----- |
<span class="gd">-| ユースケース名 | スタッフアカウント編集 |</span>
<span class="gi">+| ユースケース名 | 職員アカウント編集 |</span>
<span class="w"> </span>| アクター | 管理者 |
<span class="gd">-| 説明 | 管理者が既存のスタッフアカウント情報を編集する |</span>
<span class="gd">-| 事前条件 | 管理者がログイン済み、スタッフアカウントが存在する |</span>
<span class="gd">-| 基本フロー | 1. スタッフ一覧ページにアクセス&lt;br&gt;2. 編集するスタッフを選択&lt;br&gt;3. 編集ボタンをクリック&lt;br&gt;4. スタッフ情報を編集&lt;br&gt;5. 変更を保存 |</span>
<span class="gi">+| 説明 | 管理者が既存の職員アカウント情報を編集する |</span>
<span class="gi">+| 事前条件 | 管理者がログイン済み、職員アカウントが存在する |</span>
<span class="gi">+| 基本フロー | 1. 職員一覧ページにアクセス&lt;br&gt;2. 編集するスタッフを選択&lt;br&gt;3. 編集ボタンをクリック&lt;br&gt;4. スタッフ情報を編集&lt;br&gt;5. 変更を保存 |</span>
<span class="w"> </span>| 代替フロー | - バリデーションエラー: エラーメッセージを表示し再編集を促す |
<span class="gd">-| 事後条件 | スタッフ情報が更新される |</span>
<span class="gi">+| 事後条件 | 職員情報が更新される |</span>

<span class="w"> </span>| ユースケースID | A-005 |
<span class="w"> </span>| ------------- | ----- |
<span class="gd">-| ユースケース名 | スタッフアカウント停止/再開 |</span>
<span class="gi">+| ユースケース名 | 職員アカウント停止/再開 |</span>
<span class="w"> </span>| アクター | 管理者 |
<span class="gd">-| 説明 | 管理者がスタッフアカウントの停止または再開を行う |</span>
<span class="gd">-| 事前条件 | 管理者がログイン済み、スタッフアカウントが存在する |</span>
<span class="gd">-| 基本フロー | 1. スタッフ一覧ページにアクセス&lt;br&gt;2. 対象のスタッフを選択&lt;br&gt;3. 停止/再開ボタンをクリック&lt;br&gt;4. 確認ダイアログで確認 |</span>
<span class="gi">+| 説明 | 管理者が職員アカウントの停止または再開を行う |</span>
<span class="gi">+| 事前条件 | 管理者がログイン済み、職員アカウントが存在する |</span>
<span class="gi">+| 基本フロー | 1. 職員一覧ページにアクセス&lt;br&gt;2. 対象のスタッフを選択&lt;br&gt;3. 停止/再開ボタンをクリック&lt;br&gt;4. 確認ダイアログで確認 |</span>
<span class="w"> </span>| 代替フロー | なし |
<span class="gd">-| 事後条件 | スタッフアカウントの状態が変更される |</span>
<span class="gi">+| 事後条件 | 職員アカウントの状態が変更される |</span>

<span class="w"> </span>| ユースケースID | A-006 |
<span class="w"> </span>| ------------- | ----- |
<span class="gd">-| ユースケース名 | スタッフイベントログ確認 |</span>
<span class="gi">+| ユースケース名 | 職員イベントログ確認 |</span>
<span class="w"> </span>| アクター | 管理者 |
<span class="gd">-| 説明 | 管理者がスタッフのアクティビティログを確認する |</span>
<span class="gd">-| 事前条件 | 管理者がログイン済み、スタッフアカウントが存在する |</span>
<span class="gd">-| 基本フロー | 1. スタッフ詳細ページにアクセス&lt;br&gt;2. イベントログタブを選択&lt;br&gt;3. ログを閲覧 |</span>
<span class="gi">+| 説明 | 管理者が職員のアクティビティログを確認する |</span>
<span class="gi">+| 事前条件 | 管理者がログイン済み、職員アカウントが存在する |</span>
<span class="gi">+| 基本フロー | 1. 職員詳細ページにアクセス&lt;br&gt;2. イベントログタブを選択&lt;br&gt;3. ログを閲覧 |</span>
<span class="w"> </span>| 代替フロー | - ログなし: ログがない旨のメッセージを表示 |
<span class="gd">-| 事後条件 | スタッフのアクティビティログが表示される |</span>
<span class="gi">+| 事後条件 | 職員のアクティビティログが表示される |</span>

<span class="w"> </span>### 5.3. システム管理

<span class="w"> </span>| ユースケースID | A-007 |
<span class="w"> </span>| ------------- | ----- |
<span class="gd">-| ユースケース名 | システム設定管理 |</span>
<span class="gd">-| アクター | 管理者 |</span>
<span class="gd">-| 説明 | 管理者がシステム全体の設定を管理する |</span>
<span class="gd">-| 事前条件 | 管理者がログイン済み |</span>
<span class="gd">-| 基本フロー | 1. システム設定ページにアクセス&lt;br&gt;2. 設定項目を編集&lt;br&gt;3. 変更を保存 |</span>
<span class="gd">-| 代替フロー | - バリデーションエラー: エラーメッセージを表示し再編集を促す |</span>
<span class="gd">-| 事後条件 | システム設定が更新される |</span>
<span class="gd">-</span>
<span class="gd">-| ユースケースID | A-008 |</span>
<span class="gd">-| ------------- | ----- |</span>
<span class="w"> </span>| ユースケース名 | アクセス制限IPアドレス管理 |
<span class="w"> </span>| アクター | 管理者 |
<span class="w"> </span>| 説明 | 管理者がアクセス許可するIPアドレスを管理する |
<span class="gu">@@ -339,50 +329,6 @@</span>
<span class="w"> </span>| 代替フロー | - バリデーションエラー: エラーメッセージを表示し再編集を促す |
<span class="w"> </span>| 事後条件 | アクセス制限設定が更新される |

<span class="gd">-## 6. システム間ユースケース</span>
<span class="gd">-</span>
<span class="gd">-| ユースケースID | SYS-001 |</span>
<span class="gd">-| ------------- | ----- |</span>
<span class="gd">-| ユースケース名 | 自動メール送信 |</span>
<span class="gd">-| アクター | システム |</span>
<span class="gd">-| 説明 | システムが特定のイベント発生時に自動的にメールを送信する |</span>
<span class="gd">-| 事前条件 | 対象イベントが発生している（予約完了、メッセージ受信など） |</span>
<span class="gd">-| 基本フロー | 1. イベント発生を検知&lt;br&gt;2. メールテンプレートを選択&lt;br&gt;3. 必要な情報を埋め込む&lt;br&gt;4. メールを送信 |</span>
<span class="gd">-| 代替フロー | - メール送信失敗: エラーをログに記録し再送を試みる |</span>
<span class="gd">-| 事後条件 | メールが送信される |</span>
<span class="gd">-</span>
<span class="gd">-| ユースケースID | SYS-002 |</span>
<span class="gd">-| ------------- | ----- |</span>
<span class="gd">-| ユースケース名 | プログラム開始通知 |</span>
<span class="gd">-| アクター | システム |</span>
<span class="gd">-| 説明 | システムがプログラム開始前に参加者に通知する |</span>
<span class="gd">-| 事前条件 | プログラムが登録済み、参加者が存在する |</span>
<span class="gd">-| 基本フロー | 1. スケジュールされたタイミングで通知処理を実行&lt;br&gt;2. 参加者リストを取得&lt;br&gt;3. 各参加者に通知を送信 |</span>
<span class="gd">-| 代替フロー | - 通知送信失敗: エラーをログに記録 |</span>
<span class="gd">-| 事後条件 | 参加者に通知が送信される |</span>
<span class="gd">-</span>
<span class="gd">-## 7. 非機能要件に関連するユースケース</span>
<span class="gd">-</span>
<span class="gd">-| ユースケースID | NF-001 |</span>
<span class="gd">-| ------------- | ----- |</span>
<span class="gd">-| ユースケース名 | システム監視 |</span>
<span class="gd">-| アクター | 管理者 |</span>
<span class="gd">-| 説明 | 管理者がシステムのパフォーマンスと健全性を監視する |</span>
<span class="gd">-| 事前条件 | 管理者がログイン済み |</span>
<span class="gd">-| 基本フロー | 1. システム監視ダッシュボードにアクセス&lt;br&gt;2. パフォーマンス指標を確認&lt;br&gt;3. エラーログを確認&lt;br&gt;4. 必要に応じて対応策を実施 |</span>
<span class="gd">-| 代替フロー | なし |</span>
<span class="gd">-| 事後条件 | システム状態が把握される |</span>
<span class="gd">-</span>
<span class="gd">-| ユースケースID | NF-002 |</span>
<span class="gd">-| ------------- | ----- |</span>
<span class="gd">-| ユースケース名 | データバックアップ |</span>
<span class="gd">-| アクター | システム |</span>
<span class="gd">-| 説明 | システムが定期的にデータのバックアップを実行する |</span>
<span class="gd">-| 事前条件 | バックアップスケジュールが設定されている |</span>
<span class="gd">-| 基本フロー | 1. スケジュールされたタイミングでバックアッププロセスを開始&lt;br&gt;2. データベースのバックアップを取得&lt;br&gt;3. バックアップファイルを保存&lt;br&gt;4. 古いバックアップファイルの整理 |</span>
<span class="gd">-| 代替フロー | - バックアップ失敗: エラーをログに記録し管理者に通知 |</span>
<span class="gd">-| 事後条件 | データバックアップが作成される |</span>
<span class="gd">-</span>
<span class="w"> </span>## 8. ユースケース関連図

<span class="w"> </span>以下は、Baukis-Kaiシステムの主要なユースケースとアクター間の関係を示すUML図です。
<span class="gu">@@ -401,15 +347,14 @@ skinparam usecase {</span>
<span class="w"> </span>  ActorFontColor black
<span class="w"> </span>}

<span class="gd">-actor &quot;スタッフ&quot; as Staff</span>
<span class="gi">+actor &quot;職員&quot; as Staff</span>
<span class="w"> </span>actor &quot;顧客&quot; as Customer
<span class="w"> </span>actor &quot;管理者&quot; as Admin
<span class="gd">-actor &quot;システム&quot; as System</span>

<span class="gd">-rectangle &quot;スタッフのユースケース&quot; {</span>
<span class="gd">-  usecase &quot;スタッフログイン&quot; as S001</span>
<span class="gd">-  usecase &quot;スタッフログアウト&quot; as S002</span>
<span class="gd">-  usecase &quot;スタッフアカウント情報更新&quot; as S003</span>
<span class="gi">+rectangle &quot;職員のユースケース&quot; {</span>
<span class="gi">+  usecase &quot;職員ログイン&quot; as S001</span>
<span class="gi">+  usecase &quot;職員ログアウト&quot; as S002</span>
<span class="gi">+  usecase &quot;職員アカウント情報更新&quot; as S003</span>
<span class="w"> </span>  usecase &quot;顧客情報登録&quot; as S004
<span class="w"> </span>  usecase &quot;顧客情報検索&quot; as S005
<span class="w"> </span>  usecase &quot;顧客情報更新&quot; as S006
<span class="gu">@@ -429,30 +374,18 @@ rectangle &quot;顧客のユースケース&quot; {</span>
<span class="w"> </span>  usecase &quot;プログラム閲覧&quot; as C005
<span class="w"> </span>  usecase &quot;プログラム予約&quot; as C006
<span class="w"> </span>  usecase &quot;予約キャンセル&quot; as C007
<span class="gd">-  usecase &quot;スタッフへの問い合わせ送信&quot; as C008</span>
<span class="gi">+  usecase &quot;職員への問い合わせ送信&quot; as C008</span>
<span class="w"> </span>  usecase &quot;問い合わせ履歴確認&quot; as C009
<span class="w"> </span>}

<span class="w"> </span>rectangle &quot;管理者のユースケース&quot; {
<span class="w"> </span>  usecase &quot;管理者ログイン&quot; as A001
<span class="w"> </span>  usecase &quot;管理者ログアウト&quot; as A002
<span class="gd">-  usecase &quot;スタッフアカウント作成&quot; as A003</span>
<span class="gd">-  usecase &quot;スタッフアカウント編���&quot; as A004</span>
<span class="gd">-  usecase &quot;スタッフアカウント停止/再開&quot; as A005</span>
<span class="gd">-  usecase &quot;スタッフイベントログ確認&quot; as A006</span>
<span class="gd">-  usecase &quot;システム設定管理&quot; as A007</span>
<span class="gi">+  usecase &quot;職員アカウント作成&quot; as A003</span>
<span class="gi">+  usecase &quot;職員アカウント編���&quot; as A004</span>
<span class="gi">+  usecase &quot;職員アカウント停止/再開&quot; as A005</span>
<span class="gi">+  usecase &quot;職員イベントログ確認&quot; as A006</span>
<span class="w"> </span>  usecase &quot;アクセス制限IPアドレス管理&quot; as A008
<span class="gd">-  usecase &quot;タグ管理&quot; as A009</span>
<span class="gd">-}</span>
<span class="gd">-</span>
<span class="gd">-rectangle &quot;システム間ユースケース&quot; {</span>
<span class="gd">-  usecase &quot;自動メール送信&quot; as SYS001</span>
<span class="gd">-  usecase &quot;プログラム開始通知&quot; as SYS002</span>
<span class="gd">-}</span>
<span class="gd">-</span>
<span class="gd">-rectangle &quot;非機能要件に関連するユースケース&quot; {</span>
<span class="gd">-  usecase &quot;システム監視&quot; as NF001</span>
<span class="gd">-  usecase &quot;データバックアップ&quot; as NF002</span>
<span class="w"> </span>}

<span class="w"> </span>Staff --&gt; S001
<span class="gu">@@ -468,15 +401,15 @@ Staff --&gt; S010</span>
<span class="w"> </span>Staff --&gt; S011
<span class="w"> </span>Staff --&gt; S012

<span class="gd">-Customer --&gt; C001</span>
<span class="gd">-Customer --&gt; C002</span>
<span class="gd">-Customer --&gt; C003</span>
<span class="gd">-Customer --&gt; C004</span>
<span class="gd">-Customer --&gt; C005</span>
<span class="gd">-Customer --&gt; C006</span>
<span class="gd">-Customer --&gt; C007</span>
<span class="gd">-Customer --&gt; C008</span>
<span class="gd">-Customer --&gt; C009</span>
<span class="gi">+C001 &lt;-- Customer</span>
<span class="gi">+C002 &lt;-- Customer</span>
<span class="gi">+C003 &lt;-- Customer</span>
<span class="gi">+C004 &lt;-- Customer</span>
<span class="gi">+C005 &lt;-- Customer</span>
<span class="gi">+C006 &lt;-- Customer</span>
<span class="gi">+C007 &lt;-- Customer</span>
<span class="gi">+C008 &lt;-- Customer</span>
<span class="gi">+C009 &lt;-- Customer</span>

<span class="w"> </span>Admin --&gt; A001
<span class="w"> </span>Admin --&gt; A002
<span class="gu">@@ -484,14 +417,7 @@ Admin --&gt; A003</span>
<span class="w"> </span>Admin --&gt; A004
<span class="w"> </span>Admin --&gt; A005
<span class="w"> </span>Admin --&gt; A006
<span class="gd">-Admin --&gt; A007</span>
<span class="w"> </span>Admin --&gt; A008
<span class="gd">-Admin --&gt; A009</span>
<span class="gd">-Admin --&gt; NF001</span>
<span class="gd">-</span>
<span class="gd">-System --&gt; SYS001</span>
<span class="gd">-System --&gt; SYS002</span>
<span class="gd">-System --&gt; NF002</span>

<span class="w"> </span>S010 ..&gt; C009 : &lt;&lt;extend&gt;&gt;
<span class="w"> </span>S011 ..&gt; C008 : &lt;&lt;extend&gt;&gt;
</code></pre></div>
<h2 id="72de0b8">コミット: 72de0b8<a class="headerlink" href="#72de0b8" title="Permanent link">&para;</a></h2>
<h3 id="_16">メッセージ<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>test(WIP):E2Eテスト
</code></pre></div>
<h3 id="_17">変更されたファイル<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h3>
<ul>
<li>M spec/features/staff/message_management_spec.rb</li>
</ul>
<h3 id="_18">変更内容<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 72de0b863e8b81e58fea1eda5817d45b870cd569
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Tue Jun 10 15:11:35 2025 +0900

<span class="w"> </span>   test(WIP):E2Eテスト

<span class="gh">diff --git a/spec/features/staff/message_management_spec.rb b/spec/features/staff/message_management_spec.rb</span>
<span class="gh">index 18c6b9f..4561273 100644</span>
<span class="gd">--- a/spec/features/staff/message_management_spec.rb</span>
<span class="gi">+++ b/spec/features/staff/message_management_spec.rb</span>
<span class="gu">@@ -1,6 +1,6 @@</span>
<span class="w"> </span>require &#39;rails_helper&#39;

<span class="gd">-feature &#39;スタッフによるメッセージ管理&#39; do</span>
<span class="gi">+feature &#39;職員によるメッセージ管理&#39; do</span>
<span class="w"> </span>  include FeaturesSpecHelper
<span class="w"> </span>  include PerformanceSpecHelper
<span class="w"> </span>  let(:staff_member) { create(:staff_member) }
<span class="gu">@@ -18,24 +18,24 @@ feature &#39;スタッフによるメッセージ管理&#39; do</span>
<span class="w"> </span>    login_as_staff_member(staff_member)
<span class="w"> </span>  end

<span class="gd">-  scenario &#39;スタッフがメッセージ一覧を表示する&#39; do</span>
<span class="gi">+  scenario &#39;職員がメッセージ一覧を表示する&#39; do</span>
<span class="w"> </span>    visit staff_messages_path
<span class="w"> </span>    expect(page).to have_css(&#39;h1&#39;, text: I18n.t(&#39;staff.messages.index.title_index&#39;))
<span class="w"> </span>    expect(page).to have_content(&#39;Hello&#39;)
<span class="w"> </span>  end

<span class="gd">-  scenario &#39;スタッフが問い合わせ一覧を表示する&#39; do</span>
<span class="gi">+  scenario &#39;職員が問い合わせ一覧を表示する&#39; do</span>
<span class="w"> </span>    visit inbound_staff_messages_path
<span class="w"> </span>    expect(page).to have_css(&#39;h1&#39;, text: I18n.t(&#39;staff.messages.index.title_inbound&#39;))
<span class="w"> </span>    expect(page).to have_content(&#39;Hello&#39;)
<span class="w"> </span>  end

<span class="gd">-  scenario &#39;スタッフが返信一覧を表示する&#39; do</span>
<span class="gi">+  scenario &#39;職員が返信一覧を表示する&#39; do</span>
<span class="w"> </span>    visit outbound_staff_messages_path
<span class="w"> </span>    expect(page).to have_css(&#39;h1&#39;, text: I18n.t(&#39;staff.messages.index.title_outbound&#39;))
<span class="w"> </span>  end

<span class="gd">-  scenario &#39;スタッフが顧客からのメッセージに返信する&#39; do</span>
<span class="gi">+  scenario &#39;職員が顧客からのメッセージに返信する&#39; do</span>
<span class="w"> </span>    visit staff_message_path(root_message)
<span class="w"> </span>    within(&#39;.Table__links&#39;) do
<span class="w"> </span>      click_link I18n.t(&#39;staff.messages.show.reply&#39;)
<span class="gu">@@ -50,7 +50,7 @@ feature &#39;スタッフによるメッセージ管理&#39; do</span>
<span class="w"> </span>    expect(StaffMessage.find_by(subject: &#39;Re: Hello&#39;, staff_member: staff_member)).to be_present
<span class="w"> </span>  end

<span class="gd">-  scenario &#39;スタッフが問い合わせを削除する&#39; do</span>
<span class="gi">+  scenario &#39;職員が問い合わせを削除する&#39; do</span>
<span class="w"> </span>    visit staff_message_path(root_message)
<span class="w"> </span>    expect(page).to have_css(&#39;h1&#39;, text: &#39;メッセージ詳細&#39;)
</code></pre></div>
<h2 id="356390d">コミット: 356390d<a class="headerlink" href="#356390d" title="Permanent link">&para;</a></h2>
<h3 id="_19">メッセージ<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>test(WIP):E2Eテスト
</code></pre></div>
<h3 id="_20">変更されたファイル<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<ul>
<li>M spec/features/staff/message_management_spec.rb</li>
</ul>
<h3 id="_21">変更内容<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 356390d0a333a674270edff57e1a16cc9f1c0f22
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Tue Jun 10 15:11:04 2025 +0900

<span class="w"> </span>   test(WIP):E2Eテスト

<span class="gh">diff --git a/spec/features/staff/message_management_spec.rb b/spec/features/staff/message_management_spec.rb</span>
<span class="gh">index 763d243..18c6b9f 100644</span>
<span class="gd">--- a/spec/features/staff/message_management_spec.rb</span>
<span class="gi">+++ b/spec/features/staff/message_management_spec.rb</span>
<span class="gu">@@ -1,34 +1,66 @@</span>
<span class="w"> </span>require &#39;rails_helper&#39;

<span class="gd">-feature &#39;メッセージ管理機能&#39; do</span>
<span class="gi">+feature &#39;スタッフによるメッセージ管理&#39; do</span>
<span class="w"> </span>  include FeaturesSpecHelper
<span class="w"> </span>  include PerformanceSpecHelper
<span class="w"> </span>  let(:staff_member) { create(:staff_member) }
<span class="gd">-  let!(:root_message) { create(:customer_message, subject: &#39;Hello&#39;) }</span>
<span class="gd">-  let!(:reply1) { create(:staff_message, parent: root_message) }</span>
<span class="gd">-  let!(:message1) { create(:customer_message, parent: reply1) }</span>
<span class="gd">-  let!(:message2) { create(:customer_message, parent: reply1) }</span>
<span class="gd">-  let!(:reply2) { create(:staff_message, parent: message1) }</span>
<span class="gd">-  let!(:reply3) { create(:staff_message, parent: message1) }</span>
<span class="gd">-  let!(:message3) { create(:customer_message, parent: reply3) }</span>
<span class="gi">+  let(:customer) { create(:customer) }</span>
<span class="gi">+  let!(:root_message) { create(:customer_message, subject: &#39;Hello&#39;, customer: customer) }</span>
<span class="gi">+  let!(:reply1) { create(:staff_message, parent: root_message, staff_member: staff_member) }</span>
<span class="gi">+  let!(:message1) { create(:customer_message, parent: reply1, customer: customer) }</span>
<span class="gi">+  let!(:message2) { create(:customer_message, parent: reply1, customer: customer) }</span>
<span class="gi">+  let!(:reply2) { create(:staff_message, parent: message1, staff_member: staff_member) }</span>
<span class="gi">+  let!(:reply3) { create(:staff_message, parent: message1, staff_member: staff_member) }</span>
<span class="gi">+  let!(:message3) { create(:customer_message, parent: reply3, customer: customer) }</span>

<span class="w"> </span>  before do
<span class="w"> </span>    switch_namespace(:staff)
<span class="w"> </span>    login_as_staff_member(staff_member)
<span class="w"> </span>  end

<span class="gd">-  scenario &#39;メッセージツリーの表示&#39;, :performance do |example|</span>
<span class="gd">-    visit staff_message_path(message1)</span>
<span class="gi">+  scenario &#39;スタッフがメッセージ一覧を表示する&#39; do</span>
<span class="gi">+    visit staff_messages_path</span>
<span class="gi">+    expect(page).to have_css(&#39;h1&#39;, text: I18n.t(&#39;staff.messages.index.title_index&#39;))</span>
<span class="gi">+    expect(page).to have_content(&#39;Hello&#39;)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;スタッフが問い合わせ一覧を表示する&#39; do</span>
<span class="gi">+    visit inbound_staff_messages_path</span>
<span class="gi">+    expect(page).to have_css(&#39;h1&#39;, text: I18n.t(&#39;staff.messages.index.title_inbound&#39;))</span>
<span class="gi">+    expect(page).to have_content(&#39;Hello&#39;)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;スタッフが返信一覧を表示する&#39; do</span>
<span class="gi">+    visit outbound_staff_messages_path</span>
<span class="gi">+    expect(page).to have_css(&#39;h1&#39;, text: I18n.t(&#39;staff.messages.index.title_outbound&#39;))</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;スタッフが顧客からのメッセージに返信する&#39; do</span>
<span class="gi">+    visit staff_message_path(root_message)</span>
<span class="gi">+    within(&#39;.Table__links&#39;) do</span>
<span class="gi">+      click_link I18n.t(&#39;staff.messages.show.reply&#39;)</span>
<span class="gi">+    end</span>
<span class="gi">+</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.message.subject&#39;), with: &#39;Re: Hello&#39;</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.message.body&#39;), with: &#39;This is a reply to your message.&#39;</span>
<span class="gi">+    click_button I18n.t(&#39;staff.replies.new.confirm&#39;)</span>
<span class="gi">+    click_button I18n.t(&#39;staff.replies.confirm.send&#39;)</span>
<span class="gi">+</span>
<span class="gi">+    expect(page).to have_css(&#39;.Flash__notice&#39;, text: I18n.t(&#39;staff.replies.create.flash_notice&#39;))</span>
<span class="gi">+    expect(StaffMessage.find_by(subject: &#39;Re: Hello&#39;, staff_member: staff_member)).to be_present</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;スタッフが問い合わせを削除する&#39; do</span>
<span class="gi">+    visit staff_message_path(root_message)</span>
<span class="w"> </span>    expect(page).to have_css(&#39;h1&#39;, text: &#39;メッセージ詳細&#39;)
<span class="gd">-    expect(page).to have_css(&#39;li a&#39;, text: &#39;Hello&#39;)</span>

<span class="gd">-    elapsed = Benchmark.realtime do</span>
<span class="gd">-      100.times do</span>
<span class="gd">-        visit staff_message_path(message1)</span>
<span class="gd">-      end</span>
<span class="gi">+    visit staff_messages_path</span>
<span class="gi">+</span>
<span class="gi">+    within(&quot;tr&quot;, text: root_message.subject) do</span>
<span class="gi">+      click_link I18n.t(&#39;staff.messages.index.delete&#39;)</span>
<span class="w"> </span>    end

<span class="gd">-    write_to_performance_log(example, elapsed)</span>
<span class="gd">-    expect(elapsed).to be &lt; 100.0</span>
<span class="gi">+    expect(page).to have_css(&#39;.Flash__notice&#39;, text: I18n.t(&#39;staff.messages.destroy.flash_notice&#39;))</span>
<span class="gi">+    expect(Message.find(root_message.id).deleted).to be true</span>
<span class="w"> </span>  end
<span class="gd">-end</span>
\ No newline at end of file
<span class="gi">+end</span>
</code></pre></div>
<h2 id="6d58199">コミット: 6d58199<a class="headerlink" href="#6d58199" title="Permanent link">&para;</a></h2>
<h3 id="_22">メッセージ<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>test(WIP):E2Eテスト
</code></pre></div>
<h3 id="_23">変更されたファイル<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/controllers/staff/messages_controller.rb</li>
<li>M config/locales/controllers/ja.yml</li>
<li>M "docs/\343\203\246\343\203\274\343\202\271\343\202\261\343\203\274\343\202\271.md"</li>
<li>M spec/features/admin/staff_management_spec.rb</li>
<li>M spec/features/staff/customer_management_spec.rb</li>
</ul>
<h3 id="_24">変更内容<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 6d58199c85407137dc14704a0bec3563509c9758
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Tue Jun 10 14:50:17 2025 +0900

<span class="w"> </span>   test(WIP):E2Eテスト

<span class="gh">diff --git a/app/controllers/staff/messages_controller.rb b/app/controllers/staff/messages_controller.rb</span>
<span class="gh">index 00b5e99..815a060 100644</span>
<span class="gd">--- a/app/controllers/staff/messages_controller.rb</span>
<span class="gi">+++ b/app/controllers/staff/messages_controller.rb</span>
<span class="gu">@@ -45,7 +45,8 @@ class Staff::MessagesController &lt; Staff::Base</span>
<span class="w"> </span>    message = CustomerMessage.find(params[:id])
<span class="w"> </span>    message.update_column(:deleted, true)
<span class="w"> </span>    flash.notice = t(&#39;.flash_notice&#39;)
<span class="gd">-    redirect_to :back</span>
<span class="gi">+</span>
<span class="gi">+    redirect_back(fallback_location: staff_message_path)</span>
<span class="w"> </span>  end

<span class="w"> </span>  # POST/DELETE
<span class="gh">diff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml</span>
<span class="gh">index 97ff6e3..4d16ae0 100644</span>
<span class="gd">--- a/config/locales/controllers/ja.yml</span>
<span class="gi">+++ b/config/locales/controllers/ja.yml</span>
<span class="gu">@@ -30,7 +30,7 @@ ja:</span>
<span class="w"> </span>        flash_notice: &#39;顧客を更新しました。&#39;
<span class="w"> </span>        flash_alert: &#39;入力に誤りがあります。&#39;
<span class="w"> </span>      destroy:
<span class="gd">-        flash_notice: &#39;顧客をアカウントを削除しました。&#39;</span>
<span class="gi">+        flash_notice: &#39;顧客アカウントを削除しました。&#39;</span>
<span class="w"> </span>    programs:
<span class="w"> </span>      create:
<span class="w"> </span>        flash_notice: &#39;プログラムを登録しました。&#39;
<span class="gh">diff --git &quot;a/docs/\343\203\246\343\203\274\343\202\271\343\202\261\343\203\274\343\202\271.md&quot; &quot;b/docs/\343\203\246\343\203\274\343\202\271\343\202\261\343\203\274\343\202\271.md&quot;</span>
<span class="gh">index 41923d3..8d89046 100644</span>
<span class="gd">--- &quot;a/docs/\343\203\246\343\203\274\343\202\271\343\202\261\343\203\274\343\202\271.md&quot;</span>
<span class="gi">+++ &quot;b/docs/\343\203\246\343\203\274\343\202\271\343\202\261\343\203\274\343\202\271.md&quot;</span>
<span class="gu">@@ -218,7 +218,7 @@</span>
<span class="w"> </span>| 代替フロー | - キャンセル期限超過: キャンセルできない旨のメッセージを表示 |
<span class="w"> </span>| 事後条件 | 予約がキャンセルされる |

<span class="gd">-### 4.3. メッセージング</span>
<span class="gi">+### 4.3. 問い合わせ</span>

<span class="w"> </span>| ユースケースID | C-008 |
<span class="w"> </span>| ------------- | ----- |
<span class="gu">@@ -240,6 +240,17 @@</span>
<span class="w"> </span>| 代替フロー | - メッセージなし: メッセージがない旨のメッセージを表示 |
<span class="w"> </span>| 事後条件 | メッセージ履歴が表示される |

<span class="gi">+| ユースケースID | C-010                                             |</span>
<span class="gi">+| ------------- |---------------------------------------------------|</span>
<span class="gi">+| ユースケース名 | 問い合わせ返信                                           |</span>
<span class="gi">+| アクター | 顧客                                                |</span>
<span class="gi">+| 説明 | 顧客がスタッフのメッセージに返信する                                |</span>
<span class="gi">+| 事前条件 | 顧客がログイン済み、スタッフからメッセージが送信済み                        |</span>
<span class="gi">+| 基本フロー | 1. マイページのメッセージ履歴にアクセス&lt;br&gt;2. メッセージスレッドを選択&lt;br&gt;3. 返信 |</span>
<span class="gi">+| 代替フロー | - バリデーションエラー: エラーメッセージを表示し再編集を促す                  |</span>
<span class="gi">+| 事後条件 | 返信がスタッフに送信される                                     |</span>
<span class="gi">+</span>
<span class="gi">+</span>
<span class="w"> </span>## 5. 管理者のユースケース

<span class="w"> </span>### 5.1. アカウント管理
<span class="gh">diff --git a/spec/features/admin/staff_management_spec.rb b/spec/features/admin/staff_management_spec.rb</span>
<span class="gh">index a816337..d7c215e 100644</span>
<span class="gd">--- a/spec/features/admin/staff_management_spec.rb</span>
<span class="gi">+++ b/spec/features/admin/staff_management_spec.rb</span>
<span class="gu">@@ -61,4 +61,13 @@ feature &#39;管理者によるスタッフ管理&#39; do</span>
<span class="w"> </span>    expect(page).to have_css(&#39;.Flash__notice&#39;, text: &#39;職員アカウントを更新しました。&#39;)
<span class="w"> </span>    expect(staff_member.reload.suspended).to be_falsey
<span class="w"> </span>  end
<span class="gi">+</span>
<span class="gi">+  scenario &#39;管理者がスタッフアカウントを削除する&#39; do</span>
<span class="gi">+    staff_member = create(:staff_member)</span>
<span class="gi">+    visit admin_staff_members_path</span>
<span class="gi">+</span>
<span class="gi">+    first(&#39;a&#39;, text: I18n.t(&#39;admin.staff_members.index.delete&#39;)).click</span>
<span class="gi">+</span>
<span class="gi">+    expect(page).to have_css(&#39;.Flash__notice&#39;, text: &#39;職員アカウントを削除しました。&#39;)</span>
<span class="gi">+  end</span>
<span class="w"> </span>end
\ No newline at end of file
<span class="gh">diff --git a/spec/features/staff/customer_management_spec.rb b/spec/features/staff/customer_management_spec.rb</span>
<span class="gh">index 2ce6bbe..9847cd7 100644</span>
<span class="gd">--- a/spec/features/staff/customer_management_spec.rb</span>
<span class="gi">+++ b/spec/features/staff/customer_management_spec.rb</span>
<span class="gu">@@ -118,4 +118,11 @@ feature &#39;職員による顧客管理&#39; do</span>
<span class="w"> </span>    customer.reload
<span class="w"> </span>    expect(customer.work_address.company_name).to eq(&#39;テスト&#39;)
<span class="w"> </span>  end
<span class="gi">+</span>
<span class="gi">+  scenario &#39;職員が顧客を削除する&#39; do</span>
<span class="gi">+    click_link I18n.t(&#39;staff.top.dashboard.staff_customers&#39;)</span>
<span class="gi">+    first(&#39;table.Table__body--listing&#39;).click_link I18n.t(&#39;staff.customers.index.delete&#39;)</span>
<span class="gi">+</span>
<span class="gi">+    expect(page).to have_css(&#39;.Flash__notice&#39;, text: &#39;顧客アカウントを削除しました。&#39;)</span>
<span class="gi">+  end</span>
<span class="w"> </span>end
</code></pre></div>
<h3 id="_25">構造変更<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgMjU3IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjkxNDEiIHg9IjUiIHk9IjE2LjEzODciPldlbGNvbWUgdG8gUGxhbnRVTUwhPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMzAuMTA3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ny4xMDc0IiB4PSI1IiB5PSI0NC4wNzYyIj5Zb3UgY2FuIHN0YXJ0IHdpdGggYSBzaW1wbGUgVU1MIERpYWdyYW0gbGlrZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI1OC4wNDQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE4NCIgeD0iNSIgeT0iNzIuMDEzNyI+Qm9iLSZndDtBbGljZTomIzE2MDtIZWxsbzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9Ijg1Ljk4MjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNC4zNzg5IiB4PSI1IiB5PSI5OS45NTEyIj5PcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjExMy45MTk5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My45MTk5IiB4PSI1IiB5PSIxMjcuODg4NyI+Y2xhc3MmIzE2MDtFeGFtcGxlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTQxLjg1NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDEuOTUzMSIgeD0iNSIgeT0iMTU1LjgyNjIiPllvdSB3aWxsIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBQbGFudFVNTCBzeW50YXggb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyNS43MDEyIiB4PSIzNTAuNzY3NiIgeT0iMTU1LjgyNjIiPmh0dHBzOi8vcGxhbnR1bWwuY29tPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTY5Ljc5NDkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNjExMyIgeD0iNSIgeT0iMTgzLjc2MzciPihEZXRhaWxzIGJ5IHR5cGluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU3MjMiIHg9IjExNS40MjU4IiB5PSIxODMuNzYzNyI+bGljZW5zZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS44MjIzIiB4PSIxNjkuODEyNSIgeT0iMTgzLjc2MzciPmtleXdvcmQpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTk3LjczMjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjIxMS43MDEyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIyMjUuNjY5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMjM5LjYzODciPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjI1My42MDc0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA2LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSIxODUuNDM3NSIvPjwhLS1TUkM9W0tyVHV0M1p2U1VFd25xc1I3cFZGVnpwU19CWXZ1dDdad2lURDdPLVJrZnlqeHR4UGlFM2ZhaXZkaXhTeVJmaHFPazZBbnVxcDdwU3RGNnZReWhYZnFVRWMzTy1STHB2a05XMkswWGkySEFqVnhEX3hqNmwxdXlSZlpua05GTXhpVnptOFA0enp0RFoyZlF4bVA1LXQ1UDFBcGFhaUJiUm1Jb3J0MVo3VzBndUxjU0tiY05kZkM1Nk8wV0xUTkpqS0lHMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="ec454b9">コミット: ec454b9<a class="headerlink" href="#ec454b9" title="Permanent link">&para;</a></h2>
<h3 id="_26">メッセージ<a class="headerlink" href="#_26" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>test(WIP):E2Eテスト
</code></pre></div>
<h3 id="_27">変更されたファイル<a class="headerlink" href="#_27" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/controllers/customer/messages_controller.rb</li>
<li>M app/models/message.rb</li>
<li>M "docs/\343\203\246\343\203\274\343\202\271\343\202\261\343\203\274\343\202\271.md"</li>
<li>M spec/factories/messages.rb</li>
<li>M spec/features/customer/message_management_spec.rb</li>
</ul>
<h3 id="_28">変更内容<a class="headerlink" href="#_28" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit ec454b96d6c5f024cd58a0e33c0a461f376dd634
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Tue Jun 10 14:13:42 2025 +0900

<span class="w"> </span>   test(WIP):E2Eテスト

<span class="gh">diff --git a/app/controllers/customer/messages_controller.rb b/app/controllers/customer/messages_controller.rb</span>
<span class="gh">index 2877f1e..8c521f1 100644</span>
<span class="gd">--- a/app/controllers/customer/messages_controller.rb</span>
<span class="gi">+++ b/app/controllers/customer/messages_controller.rb</span>
<span class="gu">@@ -42,7 +42,8 @@ class Customer::MessagesController &lt; Customer::Base</span>
<span class="w"> </span>    message = StaffMessage.find(params[:id])
<span class="w"> </span>    message.update_column(:discarded, true)
<span class="w"> </span>    flash.notice = t(&#39;.flash_notice&#39;)
<span class="gd">-    redirect_to :back</span>
<span class="gi">+</span>
<span class="gi">+    redirect_back(fallback_location: customer_root_path)</span>
<span class="w"> </span>  end

<span class="w"> </span>  private
<span class="gh">diff --git a/app/models/message.rb b/app/models/message.rb</span>
<span class="gh">index f9c8853..e54ddaa 100644</span>
<span class="gd">--- a/app/models/message.rb</span>
<span class="gi">+++ b/app/models/message.rb</span>
<span class="gu">@@ -31,7 +31,7 @@</span>
<span class="w"> </span>#

<span class="w"> </span>class Message &lt; ApplicationRecord
<span class="gd">-  belongs_to :customer</span>
<span class="gi">+  belongs_to :customer, optional: true</span>
<span class="w"> </span>  belongs_to :staff_member, optional: true
<span class="w"> </span>  belongs_to :root, class_name: &#39;Message&#39;, foreign_key: &#39;root_id&#39;, optional: true
<span class="w"> </span>  belongs_to :parent, class_name: &#39;Message&#39;, foreign_key: &#39;parent_id&#39;, optional: true
<span class="gh">diff --git &quot;a/docs/\343\203\246\343\203\274\343\202\271\343\202\261\343\203\274\343\202\271.md&quot; &quot;b/docs/\343\203\246\343\203\274\343\202\271\343\202\261\343\203\274\343\202\271.md&quot;</span>
<span class="gh">index 2989e6a..41923d3 100644</span>
<span class="gd">--- &quot;a/docs/\343\203\246\343\203\274\343\202\271\343\202\261\343\203\274\343\202\271.md&quot;</span>
<span class="gi">+++ &quot;b/docs/\343\203\246\343\203\274\343\202\271\343\202\261\343\203\274\343\202\271.md&quot;</span>
<span class="gu">@@ -110,11 +110,11 @@</span>
<span class="w"> </span>| 代替フロー | - 参加者なし: 参加者がいない旨のメッセージを表示 |
<span class="w"> </span>| 事後条件 | 参加者のステータスが更新される |

<span class="gd">-### 3.4. メッセージング</span>
<span class="gi">+### 3.4. 問い合わせ</span>

<span class="w"> </span>| ユースケースID | S-010 |
<span class="w"> </span>| ------------- | ----- |
<span class="gd">-| ユースケース名 | 顧客へのメッセージ送信 |</span>
<span class="gi">+| ユースケース名 | 顧客への問い合わせ送信 |</span>
<span class="w"> </span>| アクター | スタッフ |
<span class="w"> </span>| 説明 | スタッフが顧客にメッセージを送信する |
<span class="w"> </span>| 事前条件 | スタッフがログイン済み、顧客が登録済み |
<span class="gu">@@ -124,7 +124,7 @@</span>

<span class="w"> </span>| ユースケースID | S-011 |
<span class="w"> </span>| ------------- | ----- |
<span class="gd">-| ユースケース名 | 顧客からのメッセージ確認 |</span>
<span class="gi">+| ユースケース名 | 顧客からの問い合わせ確認 |</span>
<span class="w"> </span>| アクター | スタッフ |
<span class="w"> </span>| 説明 | スタッフが顧客からのメッセージを確認する |
<span class="w"> </span>| 事前条件 | スタッフがログイン済み、顧客からメッセージが送信済み |
<span class="gu">@@ -134,7 +134,7 @@</span>

<span class="w"> </span>| ユースケースID | S-012 |
<span class="w"> </span>| ------------- | ----- |
<span class="gd">-| ユースケース名 | メッセージ返信 |</span>
<span class="gi">+| ユースケース名 | 問い合わせ返信 |</span>
<span class="w"> </span>| アクター | スタッフ |
<span class="w"> </span>| 説明 | スタッフが顧客のメッセージに返信する |
<span class="w"> </span>| 事前条件 | スタッフがログイン済み、顧客からメッセージが送信済み |
<span class="gu">@@ -222,7 +222,7 @@</span>

<span class="w"> </span>| ユースケースID | C-008 |
<span class="w"> </span>| ------------- | ----- |
<span class="gd">-| ユースケース名 | スタッフへのメッセージ送信 |</span>
<span class="gi">+| ユースケース名 | スタッフへの問い合わせ送信 |</span>
<span class="w"> </span>| アクター | 顧客 |
<span class="w"> </span>| 説明 | 顧客がスタッフにメッセージを送信する |
<span class="w"> </span>| 事前条件 | 顧客がログイン済み |
<span class="gu">@@ -232,7 +232,7 @@</span>

<span class="w"> </span>| ユースケースID | C-009 |
<span class="w"> </span>| ------------- | ----- |
<span class="gd">-| ユースケース名 | メッセージ履歴確認 |</span>
<span class="gi">+| ユースケース名 | 問い合わせ履歴確認 |</span>
<span class="w"> </span>| アクター | 顧客 |
<span class="w"> </span>| 説明 | 顧客が過去のメッセージのやり取りを確認する |
<span class="w"> </span>| 事前条件 | 顧客がログイン済み、メッセージのやり取りが存在する |
<span class="gu">@@ -405,9 +405,9 @@ rectangle &quot;スタッフのユースケース&quot; {</span>
<span class="w"> </span>  usecase &quot;プログラム作成&quot; as S007
<span class="w"> </span>  usecase &quot;プログラム更新&quot; as S008
<span class="w"> </span>  usecase &quot;プログラム参加者管理&quot; as S009
<span class="gd">-  usecase &quot;顧客へのメッセージ送信&quot; as S010</span>
<span class="gd">-  usecase &quot;顧客からのメッセージ確認&quot; as S011</span>
<span class="gd">-  usecase &quot;メッセージ返信&quot; as S012</span>
<span class="gi">+  usecase &quot;顧客への問い合わせ送信&quot; as S010</span>
<span class="gi">+  usecase &quot;顧客からの問い合わせ確認&quot; as S011</span>
<span class="gi">+  usecase &quot;問い合わせ返信&quot; as S012</span>
<span class="w"> </span>}

<span class="w"> </span>rectangle &quot;顧客のユースケース&quot; {
<span class="gu">@@ -418,8 +418,8 @@ rectangle &quot;顧客のユースケース&quot; {</span>
<span class="w"> </span>  usecase &quot;プログラム閲覧&quot; as C005
<span class="w"> </span>  usecase &quot;プログラム予約&quot; as C006
<span class="w"> </span>  usecase &quot;予約キャンセル&quot; as C007
<span class="gd">-  usecase &quot;スタッフへのメッセージ送信&quot; as C008</span>
<span class="gd">-  usecase &quot;メッセージ履歴確認&quot; as C009</span>
<span class="gi">+  usecase &quot;スタッフへの問い合わせ送信&quot; as C008</span>
<span class="gi">+  usecase &quot;問い合わせ履歴確認&quot; as C009</span>
<span class="w"> </span>}

<span class="w"> </span>rectangle &quot;管理者のユースケース&quot; {
<span class="gh">diff --git a/spec/factories/messages.rb b/spec/factories/messages.rb</span>
<span class="gh">index f3b7548..20757bc 100644</span>
<span class="gd">--- a/spec/factories/messages.rb</span>
<span class="gi">+++ b/spec/factories/messages.rb</span>
<span class="gu">@@ -40,7 +40,7 @@ FactoryBot.define do</span>
<span class="w"> </span>  factory :staff_message do
<span class="w"> </span>    subject {&#39;Subject&#39;}
<span class="w"> </span>    body {&quot;Body.\nBody.&quot;}
<span class="gd">-    parent { FactoryGirl.create(:customer_message)}</span>
<span class="gi">+    parent { FactoryBot.create(:customer_message)}</span>
<span class="w"> </span>    staff_member
<span class="w"> </span>  end
<span class="w"> </span>end
<span class="gh">diff --git a/spec/features/customer/message_management_spec.rb b/spec/features/customer/message_management_spec.rb</span>
<span class="gh">index 91972d9..20f3550 100644</span>
<span class="gd">--- a/spec/features/customer/message_management_spec.rb</span>
<span class="gi">+++ b/spec/features/customer/message_management_spec.rb</span>
<span class="gu">@@ -11,59 +11,58 @@ feature &#39;顧客によるメッセージ管理&#39; do</span>
<span class="w"> </span>  end

<span class="w"> </span>  scenario &#39;顧客がスタッフにメッセージを送信する&#39; do
<span class="gd">-    visit customer_messages_path</span>
<span class="gd">-    click_link I18n.t(&#39;customer.messages.index.new&#39;)</span>
<span class="gd">-    </span>
<span class="gi">+    visit new_customer_message_path</span>
<span class="gi">+</span>
<span class="w"> </span>    fill_in I18n.t(&#39;activerecord.attributes.message.subject&#39;), with: &#39;テストメッセージ&#39;
<span class="w"> </span>    fill_in I18n.t(&#39;activerecord.attributes.message.body&#39;), with: &#39;これはテストメッセージです。&#39;
<span class="gd">-    select staff_member.family_name + staff_member.given_name, from: I18n.t(&#39;activerecord.attributes.message.staff_member_id&#39;)</span>
<span class="w"> </span>    click_button I18n.t(&#39;customer.messages.new.submit&#39;)
<span class="gi">+    click_button I18n.t(&#39;customer.messages.confirm.update&#39;)</span>

<span class="gd">-    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;customer.messages.create.notice&#39;))</span>
<span class="gi">+    expect(page).to have_css(&#39;.Flash__notice&#39;, text: I18n.t(&#39;customer.messages.create.flash_notice&#39;))</span>
<span class="w"> </span>    expect(Message.find_by(subject: &#39;テストメッセージ&#39;, customer: customer)).to be_present
<span class="w"> </span>  end

<span class="w"> </span>  scenario &#39;顧客がメッセージ履歴を確認する&#39; do
<span class="w"> </span>    # Create a message from customer to staff
<span class="gd">-    message = create(:message, customer: customer, staff_member: staff_member)</span>
<span class="gi">+    message = create(:customer_message, customer: customer)</span>
<span class="w"> </span>    # Create a reply from staff to customer
<span class="gd">-    create(:reply, message: message, staff_member: staff_member)</span>
<span class="gi">+    create(:staff_message, parent: message, staff_member: staff_member)</span>

<span class="w"> </span>    visit customer_messages_path
<span class="gd">-    click_link message.subject</span>
<span class="gd">-    </span>
<span class="gd">-    expect(page).to have_css(&#39;h1&#39;, text: message.subject)</span>
<span class="gd">-    expect(page).to have_content(message.body)</span>
<span class="gd">-    expect(page).to have_css(&#39;.replies .reply&#39;, count: 1)</span>
<span class="gi">+    click_link I18n.t(&#39;customer.messages.index.detail&#39;)</span>
<span class="gi">+</span>
<span class="gi">+    expect(page).to have_content(message.subject)</span>
<span class="gi">+    expect(page).to have_content(message.body.to_s.delete(&quot;\n&quot;))</span>
<span class="w"> </span>  end

<span class="gd">-  scenario &#39;顧客がメッセージを検索する&#39; do</span>
<span class="gd">-    create(:message, customer: customer, staff_member: staff_member, subject: &#39;問い合わせ&#39;)</span>
<span class="gd">-    create(:message, customer: customer, staff_member: staff_member, subject: &#39;予約について&#39;)</span>
<span class="gd">-    </span>
<span class="gi">+  scenario &#39;顧客がスタッフからのメッセージに回答する&#39; do</span>
<span class="gi">+    # Create a message from customer to staff</span>
<span class="gi">+    message = create(:customer_message, customer: customer)</span>
<span class="gi">+    # Create a reply from staff to customer</span>
<span class="gi">+    create(:staff_message, parent: message, staff_member: staff_member)</span>
<span class="gi">+</span>
<span class="w"> </span>    visit customer_messages_path
<span class="gd">-    fill_in I18n.t(&#39;customer.messages.index.search_form.subject&#39;), with: &#39;予約&#39;</span>
<span class="gd">-    click_button I18n.t(&#39;customer.messages.index.search_form.submit&#39;)</span>
<span class="gd">-    </span>
<span class="gd">-    expect(page).to have_content(&#39;予約について&#39;)</span>
<span class="gd">-    expect(page).not_to have_content(&#39;問い合わせ&#39;)</span>
<span class="gi">+    click_link I18n.t(&#39;customer.messages.index.detail&#39;)</span>
<span class="gi">+    click_link I18n.t(&#39;customer.messages.show.reply&#39;)</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.message.subject&#39;), with: &#39;回答テストメッセージ&#39;</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.message.body&#39;), with: &#39;これは回答テストメッセージです。&#39;</span>
<span class="gi">+    click_button I18n.t(&#39;customer.replies.new.submit&#39;)</span>
<span class="gi">+    click_button I18n.t(&#39;customer.replies.confirm.send&#39;)</span>
<span class="gi">+</span>
<span class="gi">+    expect(page).to have_css(&#39;.Flash__notice&#39;, text: I18n.t(&#39;customer.replies.create.flash_notice&#39;))</span>
<span class="gi">+    expect(Message.find_by(subject: &#39;回答テストメッセージ&#39;, customer: customer)).to be_present</span>
<span class="w"> </span>  end

<span class="gd">-  scenario &#39;顧客がメッセージにタグを付ける&#39; do</span>
<span class="gd">-    tag = create(:tag, value: &#39;テストタグ&#39;)</span>
<span class="gd">-    </span>
<span class="gi">+  scenario &#39;顧客がスタッフからのメッセージを削除する&#39; do</span>
<span class="gi">+    # Create a message from customer to staff</span>
<span class="gi">+    message = create(:customer_message, customer: customer)</span>
<span class="gi">+    # Create a reply from staff to customer</span>
<span class="gi">+    create(:staff_message, parent: message, staff_member: staff_member)</span>
<span class="gi">+</span>
<span class="w"> </span>    visit customer_messages_path
<span class="gd">-    click_link I18n.t(&#39;customer.messages.index.new&#39;)</span>
<span class="gd">-    </span>
<span class="gd">-    fill_in I18n.t(&#39;activerecord.attributes.message.subject&#39;), with: &#39;タグ付きメッセージ&#39;</span>
<span class="gd">-    fill_in I18n.t(&#39;activerecord.attributes.message.body&#39;), with: &#39;これはタグ付きメッセージです。&#39;</span>
<span class="gd">-    select staff_member.family_name + staff_member.given_name, from: I18n.t(&#39;activerecord.attributes.message.staff_member_id&#39;)</span>
<span class="gd">-    check &quot;tag_#{tag.id}&quot;</span>
<span class="gd">-    click_button I18n.t(&#39;customer.messages.new.submit&#39;)</span>
<span class="gd">-    </span>
<span class="gd">-    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;customer.messages.create.notice&#39;))</span>
<span class="gd">-    message = Message.find_by(subject: &#39;タグ付きメッセージ&#39;, customer: customer)</span>
<span class="gd">-    expect(message).to be_present</span>
<span class="gd">-    expect(message.tags).to include(tag)</span>
<span class="gi">+    click_link I18n.t(&#39;customer.messages.index.delete&#39;)</span>
<span class="gi">+</span>
<span class="gi">+    expect(page).to have_css(&#39;.Flash__notice&#39;, text: I18n.t(&#39;customer.messages.destroy.flash_notice&#39;))</span>
<span class="w"> </span>  end
<span class="gi">+</span>
<span class="w"> </span>end
\ No newline at end of file
</code></pre></div>
<h3 id="_29">構造変更<a class="headerlink" href="#_29" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgMjU3IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjkxNDEiIHg9IjUiIHk9IjE2LjEzODciPldlbGNvbWUgdG8gUGxhbnRVTUwhPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMzAuMTA3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ny4xMDc0IiB4PSI1IiB5PSI0NC4wNzYyIj5Zb3UgY2FuIHN0YXJ0IHdpdGggYSBzaW1wbGUgVU1MIERpYWdyYW0gbGlrZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI1OC4wNDQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE4NCIgeD0iNSIgeT0iNzIuMDEzNyI+Qm9iLSZndDtBbGljZTomIzE2MDtIZWxsbzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9Ijg1Ljk4MjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNC4zNzg5IiB4PSI1IiB5PSI5OS45NTEyIj5PcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjExMy45MTk5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My45MTk5IiB4PSI1IiB5PSIxMjcuODg4NyI+Y2xhc3MmIzE2MDtFeGFtcGxlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTQxLjg1NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDEuOTUzMSIgeD0iNSIgeT0iMTU1LjgyNjIiPllvdSB3aWxsIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBQbGFudFVNTCBzeW50YXggb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyNS43MDEyIiB4PSIzNTAuNzY3NiIgeT0iMTU1LjgyNjIiPmh0dHBzOi8vcGxhbnR1bWwuY29tPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTY5Ljc5NDkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNjExMyIgeD0iNSIgeT0iMTgzLjc2MzciPihEZXRhaWxzIGJ5IHR5cGluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU3MjMiIHg9IjExNS40MjU4IiB5PSIxODMuNzYzNyI+bGljZW5zZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS44MjIzIiB4PSIxNjkuODEyNSIgeT0iMTgzLjc2MzciPmtleXdvcmQpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTk3LjczMjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjIxMS43MDEyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIyMjUuNjY5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMjM5LjYzODciPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjI1My42MDc0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA2LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSIxODUuNDM3NSIvPjwhLS1TUkM9W0tyVHV0M1p2U1VFd25xc1I3cFZGVnpwU19CWXZ1dDdad2lURDdPLVJrZnlqeHR4UGlFM2ZhaXZkaXhTeVJmaHFPazZBbnVxcDdwU3RGNnZReWhYZnFVRWMzTy1STHB2a05XMkswWGkySEFqVnhEX3hqNmwxdXlSZlpua05GTXhpVnptOFA0enp0RFoyZlF4bVA1LXQ1UDFBcGFhaUJiUm1Jb3J0MVo3VzBndUxjU0tiY05kZkM1Nk8wV0xUTkpqS0lHMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="60822b7">コミット: 60822b7<a class="headerlink" href="#60822b7" title="Permanent link">&para;</a></h2>
<h3 id="_30">メッセージ<a class="headerlink" href="#_30" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>test(WIP):E2Eテスト
</code></pre></div>
<h3 id="_31">変更されたファイル<a class="headerlink" href="#_31" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/models/customer.rb</li>
</ul>
<h3 id="_32">変更内容<a class="headerlink" href="#_32" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 60822b76d4823db992bd35d8d0f18bc5eab9e35c
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Jun 9 19:04:54 2025 +0900

<span class="w"> </span>   test(WIP):E2Eテスト

<span class="gh">diff --git a/app/models/customer.rb b/app/models/customer.rb</span>
<span class="gh">index d61ffce..03b7ec8 100644</span>
<span class="gd">--- a/app/models/customer.rb</span>
<span class="gi">+++ b/app/models/customer.rb</span>
<span class="gu">@@ -47,6 +47,11 @@ class Customer &lt; ApplicationRecord</span>
<span class="w"> </span>           -&gt; { where(address_id: nil).order(:id) },
<span class="w"> </span>           class_name: &#39;Phone&#39;,
<span class="w"> </span>           autosave: true
<span class="gi">+  has_many :entries, dependent: :destroy</span>
<span class="gi">+  has_many :programs, through: :entries</span>
<span class="gi">+  has_many :messages</span>
<span class="gi">+  has_many :outbound_messages, class_name: &#39;CustomerMessage&#39;, foreign_key: &#39;customer_id&#39;</span>
<span class="gi">+  has_many :inbound_messages, class_name: &#39;StaffMessage&#39;, foreign_key: &#39;customer_id&#39;</span>

<span class="w"> </span>  validates :gender, inclusion: { in: %w(male female), allow_blank: true }
<span class="w"> </span>  validates :birthday, date: {
</code></pre></div>
<h3 id="_33">構造変更<a class="headerlink" href="#_33" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgMjU3IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjkxNDEiIHg9IjUiIHk9IjE2LjEzODciPldlbGNvbWUgdG8gUGxhbnRVTUwhPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMzAuMTA3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ny4xMDc0IiB4PSI1IiB5PSI0NC4wNzYyIj5Zb3UgY2FuIHN0YXJ0IHdpdGggYSBzaW1wbGUgVU1MIERpYWdyYW0gbGlrZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI1OC4wNDQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE4NCIgeD0iNSIgeT0iNzIuMDEzNyI+Qm9iLSZndDtBbGljZTomIzE2MDtIZWxsbzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9Ijg1Ljk4MjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNC4zNzg5IiB4PSI1IiB5PSI5OS45NTEyIj5PcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjExMy45MTk5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My45MTk5IiB4PSI1IiB5PSIxMjcuODg4NyI+Y2xhc3MmIzE2MDtFeGFtcGxlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTQxLjg1NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDEuOTUzMSIgeD0iNSIgeT0iMTU1LjgyNjIiPllvdSB3aWxsIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBQbGFudFVNTCBzeW50YXggb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyNS43MDEyIiB4PSIzNTAuNzY3NiIgeT0iMTU1LjgyNjIiPmh0dHBzOi8vcGxhbnR1bWwuY29tPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTY5Ljc5NDkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNjExMyIgeD0iNSIgeT0iMTgzLjc2MzciPihEZXRhaWxzIGJ5IHR5cGluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU3MjMiIHg9IjExNS40MjU4IiB5PSIxODMuNzYzNyI+bGljZW5zZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS44MjIzIiB4PSIxNjkuODEyNSIgeT0iMTgzLjc2MzciPmtleXdvcmQpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTk3LjczMjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjIxMS43MDEyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIyMjUuNjY5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMjM5LjYzODciPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjI1My42MDc0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA2LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSIxODUuNDM3NSIvPjwhLS1TUkM9W0tyVHV0M1p2U1VFd25xc1I3cFZGVnpwU19CWXZ1dDdad2lURDdPLVJrZnlqeHR4UGlFM2ZhaXZkaXhTeVJmaHFPazZBbnVxcDdwU3RGNnZReWhYZnFVRWMzTy1STHB2a05XMkswWGkySEFqVnhEX3hqNmwxdXlSZlpua05GTXhpVnptOFA0enp0RFoyZlF4bVA1LXQ1UDFBcGFhaUJiUm1Jb3J0MVo3VzBndUxjU0tiY05kZkM1Nk8wV0xUTkpqS0lHMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="01e2dca">コミット: 01e2dca<a class="headerlink" href="#01e2dca" title="Permanent link">&para;</a></h2>
<h3 id="_34">メッセージ<a class="headerlink" href="#_34" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>test(WIP):E2Eテスト
</code></pre></div>
<h3 id="_35">変更されたファイル<a class="headerlink" href="#_35" title="Permanent link">&para;</a></h3>
<ul>
<li>M "docs/\343\203\246\343\203\274\343\202\271\343\202\261\343\203\274\343\202\271.md"</li>
<li>M spec/features/admin/account_management_spec.rb</li>
<li>M spec/features/admin/staff_management_spec.rb</li>
<li>M spec/features/admin/system_management_spec.rb</li>
</ul>
<h3 id="_36">変更内容<a class="headerlink" href="#_36" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 01e2dca118613fd499eac83d7a10924d02e778d3
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Jun 9 18:40:01 2025 +0900

<span class="w"> </span>   test(WIP):E2Eテスト

<span class="gh">diff --git &quot;a/docs/\343\203\246\343\203\274\343\202\271\343\202\261\343\203\274\343\202\271.md&quot; &quot;b/docs/\343\203\246\343\203\274\343\202\271\343\202\261\343\203\274\343\202\271.md&quot;</span>
<span class="gh">index aeee4d3..2989e6a 100644</span>
<span class="gd">--- &quot;a/docs/\343\203\246\343\203\274\343\202\271\343\202\261\343\203\274\343\202\271.md&quot;</span>
<span class="gi">+++ &quot;b/docs/\343\203\246\343\203\274\343\202\271\343\202\261\343\203\274\343\202\271.md&quot;</span>
<span class="gu">@@ -328,16 +328,6 @@</span>
<span class="w"> </span>| 代替フロー | - バリデーションエラー: エラーメッセージを表示し再編集を促す |
<span class="w"> </span>| 事後条件 | アクセス制限設定が更新される |

<span class="gd">-| ユースケースID | A-009 |</span>
<span class="gd">-| ------------- | ----- |</span>
<span class="gd">-| ユースケース名 | タグ管理 |</span>
<span class="gd">-| アクター | 管理者 |</span>
<span class="gd">-| 説明 | 管理者がメッセージングで使用するタグを管理する |</span>
<span class="gd">-| 事前条件 | 管理者がログイン済み |</span>
<span class="gd">-| 基本フロー | 1. タグ管理ページにアクセス&lt;br&gt;2. タグを追加/編集/削除&lt;br&gt;3. 変更を保存 |</span>
<span class="gd">-| 代替フロー | - バリデーションエラー: エラーメッセージを表示し再編集を促す |</span>
<span class="gd">-| 事後条件 | タグ設定が更新される |</span>
<span class="gd">-</span>
<span class="w"> </span>## 6. システム間ユースケース

<span class="w"> </span>| ユースケースID | SYS-001 |
<span class="gh">diff --git a/spec/features/admin/account_management_spec.rb b/spec/features/admin/account_management_spec.rb</span>
<span class="gh">index 6d43ea4..919a2c1 100644</span>
<span class="gd">--- a/spec/features/admin/account_management_spec.rb</span>
<span class="gi">+++ b/spec/features/admin/account_management_spec.rb</span>
<span class="gu">@@ -17,15 +17,15 @@ feature &#39;管理者によるアカウント管理&#39; do</span>
<span class="w"> </span>    end

<span class="w"> </span>    expect(current_path).to eq(admin_root_path)
<span class="gd">-    expect(page).to have_content(administrator.email)</span>
<span class="gi">+    expect(page).to have_content(&quot;ログインしました&quot;)</span>
<span class="w"> </span>  end

<span class="w"> </span>  scenario &#39;管理者がログアウトする&#39; do
<span class="w"> </span>    login_as_administrator(administrator)
<span class="w"> </span>    click_link I18n.t(&#39;admin.shared.header.logout&#39;)

<span class="gd">-    expect(current_path).to eq(admin_login_path)</span>
<span class="gd">-    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;admin.sessions.destroy.notice&#39;))</span>
<span class="gi">+    expect(current_path).to eq(admin_root_path)</span>
<span class="gi">+    expect(page).to have_content(&quot;ログアウトしました&quot;)</span>
<span class="w"> </span>  end

<span class="w"> </span>  scenario &#39;管理者が無効なパスワードでログインを試みる&#39; do
<span class="gu">@@ -36,7 +36,6 @@ feature &#39;管理者によるアカウント管理&#39; do</span>
<span class="w"> </span>      click_button I18n.t(&#39;admin.sessions.new.submit&#39;)
<span class="w"> </span>    end

<span class="gd">-    expect(current_path).to eq(admin_login_path)</span>
<span class="gd">-    expect(page).to have_css(&#39;.alert&#39;, text: I18n.t(&#39;admin.sessions.create.alert&#39;))</span>
<span class="gi">+    expect(current_path).to eq(admin_session_path)</span>
<span class="w"> </span>  end
<span class="w"> </span>end
\ No newline at end of file
<span class="gh">diff --git a/spec/features/admin/staff_management_spec.rb b/spec/features/admin/staff_management_spec.rb</span>
<span class="gh">index ff3e2aa..a816337 100644</span>
<span class="gd">--- a/spec/features/admin/staff_management_spec.rb</span>
<span class="gi">+++ b/spec/features/admin/staff_management_spec.rb</span>
<span class="gu">@@ -10,54 +10,55 @@ feature &#39;管理者によるスタッフ管理&#39; do</span>
<span class="w"> </span>  end

<span class="w"> </span>  scenario &#39;管理者が新規スタッフアカウントを作成する&#39; do
<span class="gd">-    click_link I18n.t(&#39;admin.staff_members.index.new&#39;)</span>
<span class="gi">+    click_link I18n.t(&#39;admin.top.dashboard.admin_staff_members&#39;)</span>
<span class="gi">+    first(&#39;a&#39;, text: I18n.t(&#39;admin.staff_members.index.new&#39;)).click</span>

<span class="w"> </span>    fill_in I18n.t(&#39;activerecord.attributes.staff_member.email&#39;), with: &#39;test@example.com&#39;
<span class="w"> </span>    fill_in I18n.t(&#39;activerecord.attributes.staff_member.family_name&#39;), with: &#39;試験&#39;
<span class="w"> </span>    fill_in I18n.t(&#39;activerecord.attributes.staff_member.given_name&#39;), with: &#39;太郎&#39;
<span class="w"> </span>    fill_in I18n.t(&#39;activerecord.attributes.staff_member.family_name_kana&#39;), with: &#39;シケン&#39;
<span class="w"> </span>    fill_in I18n.t(&#39;activerecord.attributes.staff_member.given_name_kana&#39;), with: &#39;タロウ&#39;
<span class="gd">-    fill_in I18n.t(&#39;activerecord.attributes.staff_member.password&#39;), with: &#39;password&#39;</span>
<span class="gd">-    click_button I18n.t(&#39;admin.staff_members.new.submit&#39;)</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.staff_member.hashed_password&#39;), with: &#39;password&#39;</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.staff_member.start_date&#39;), with: Date.today.strftime(&#39;%Y-%m-%d&#39;)</span>
<span class="gi">+    click_button I18n.t(&#39;admin.staff_members.new.create&#39;)</span>

<span class="gd">-    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;admin.staff_members.create.notice&#39;))</span>
<span class="gi">+    expect(page).to have_css(&#39;.Flash__notice&#39;, text: &#39;職員アカウントを新規登録しました。&#39;)</span>
<span class="w"> </span>    expect(StaffMember.find_by(email: &#39;test@example.com&#39;)).to be_present
<span class="w"> </span>  end

<span class="w"> </span>  scenario &#39;管理者がスタッフアカウントを編集する&#39; do
<span class="w"> </span>    staff_member = create(:staff_member)
<span class="w"> </span>    visit admin_staff_members_path
<span class="gd">-    click_link staff_member.family_name + staff_member.given_name</span>

<span class="gd">-    click_link I18n.t(&#39;admin.staff_members.show.edit&#39;)</span>
<span class="gi">+    first(&#39;a&#39;, text: I18n.t(&#39;admin.staff_members.index.edit&#39;)).click</span>
<span class="w"> </span>    fill_in I18n.t(&#39;activerecord.attributes.staff_member.email&#39;), with: &#39;edited@example.com&#39;
<span class="gd">-    click_button I18n.t(&#39;admin.staff_members.edit.submit&#39;)</span>
<span class="gi">+    click_button I18n.t(&#39;admin.staff_members.edit.update&#39;)</span>

<span class="gd">-    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;admin.staff_members.update.notice&#39;))</span>
<span class="gi">+    expect(page).to have_css(&#39;.Flash__notice&#39;, text: &#39;職員アカウントを更新しました。&#39;)</span>
<span class="w"> </span>    expect(staff_member.reload.email).to eq(&#39;edited@example.com&#39;)
<span class="w"> </span>  end

<span class="w"> </span>  scenario &#39;管理者がスタッフアカウントを停止する&#39; do
<span class="w"> </span>    staff_member = create(:staff_member)
<span class="w"> </span>    visit admin_staff_members_path
<span class="gd">-    </span>
<span class="gd">-    within(&quot;#staff_member_#{staff_member.id}&quot;) do</span>
<span class="gd">-      click_link I18n.t(&#39;admin.staff_members.index.suspend&#39;)</span>
<span class="gd">-    end</span>

<span class="gd">-    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;admin.staff_members.suspend.notice&#39;))</span>
<span class="gi">+    first(&#39;a&#39;, text: I18n.t(&#39;admin.staff_members.index.edit&#39;)).click</span>
<span class="gi">+    check I18n.t(&#39;activerecord.attributes.staff_member.suspended&#39;)</span>
<span class="gi">+    click_button I18n.t(&#39;admin.staff_members.edit.update&#39;)</span>
<span class="gi">+</span>
<span class="gi">+    expect(page).to have_css(&#39;.Flash__notice&#39;, text: &#39;職員アカウントを更新しました。&#39;)</span>
<span class="w"> </span>    expect(staff_member.reload.suspended).to be_truthy
<span class="w"> </span>  end

<span class="w"> </span>  scenario &#39;管理者がスタッフアカウントを再開する&#39; do
<span class="w"> </span>    staff_member = create(:staff_member, suspended: true)
<span class="w"> </span>    visit admin_staff_members_path
<span class="gd">-    </span>
<span class="gd">-    within(&quot;#staff_member_#{staff_member.id}&quot;) do</span>
<span class="gd">-      click_link I18n.t(&#39;admin.staff_members.index.resume&#39;)</span>
<span class="gd">-    end</span>

<span class="gd">-    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;admin.staff_members.resume.notice&#39;))</span>
<span class="gi">+    first(&#39;a&#39;, text: I18n.t(&#39;admin.staff_members.index.edit&#39;)).click</span>
<span class="gi">+    uncheck I18n.t(&#39;activerecord.attributes.staff_member.suspended&#39;)</span>
<span class="gi">+    click_button I18n.t(&#39;admin.staff_members.edit.update&#39;)</span>
<span class="gi">+</span>
<span class="gi">+    expect(page).to have_css(&#39;.Flash__notice&#39;, text: &#39;職員アカウントを更新しました。&#39;)</span>
<span class="w"> </span>    expect(staff_member.reload.suspended).to be_falsey
<span class="w"> </span>  end
<span class="w"> </span>end
\ No newline at end of file
<span class="gh">diff --git a/spec/features/admin/system_management_spec.rb b/spec/features/admin/system_management_spec.rb</span>
<span class="gh">index 88c77fd..ca56786 100644</span>
<span class="gd">--- a/spec/features/admin/system_management_spec.rb</span>
<span class="gi">+++ b/spec/features/admin/system_management_spec.rb</span>
<span class="gu">@@ -15,51 +15,22 @@ feature &#39;管理者によるシステム管理&#39; do</span>
<span class="w"> </span>    staff_member.events.create!(type: &#39;logged_in&#39;)
<span class="w"> </span>    staff_member.events.create!(type: &#39;logged_out&#39;)

<span class="gd">-    visit admin_staff_member_path(staff_member)</span>
<span class="gd">-    click_link I18n.t(&#39;admin.staff_members.show.events&#39;)</span>
<span class="gd">-    </span>
<span class="gi">+    visit admin_staff_events_path</span>
<span class="gi">+</span>
<span class="w"> </span>    expect(page).to have_css(&#39;h1&#39;, text: I18n.t(&#39;admin.staff_events.index.title&#39;))
<span class="gd">-    expect(page).to have_selector(&#39;table.staff-events tbody tr&#39;, count: 2)</span>
<span class="gi">+    expect(page).to have_selector(&#39;table.Table__body tr.Table__tr&#39;, count: 3)</span>
<span class="w"> </span>  end

<span class="w"> </span>  scenario &#39;管理者がIPアドレス制限を設定する&#39; do
<span class="w"> </span>    visit admin_allowed_sources_path
<span class="gd">-    click_link I18n.t(&#39;admin.allowed_sources.index.new&#39;)</span>
<span class="gd">-    </span>
<span class="gd">-    fill_in I18n.t(&#39;activerecord.attributes.allowed_source.octet1&#39;), with: &#39;192&#39;</span>
<span class="gd">-    fill_in I18n.t(&#39;activerecord.attributes.allowed_source.octet2&#39;), with: &#39;168&#39;</span>
<span class="gd">-    fill_in I18n.t(&#39;activerecord.attributes.allowed_source.octet3&#39;), with: &#39;1&#39;</span>
<span class="gd">-    fill_in I18n.t(&#39;activerecord.attributes.allowed_source.octet4&#39;), with: &#39;0&#39;</span>
<span class="gd">-    fill_in I18n.t(&#39;activerecord.attributes.allowed_source.wildcard&#39;), with: true</span>
<span class="gd">-    fill_in I18n.t(&#39;activerecord.attributes.allowed_source.note&#39;), with: &#39;テスト用&#39;</span>
<span class="gd">-    click_button I18n.t(&#39;admin.allowed_sources.new.submit&#39;)</span>
<span class="gd">-    </span>
<span class="gd">-    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;admin.allowed_sources.create.notice&#39;))</span>
<span class="gd">-    expect(AllowedSource.find_by(octet1: 192, octet2: 168, octet3: 1, octet4: 0, wildcard: true)).to be_present</span>
<span class="gd">-  end</span>

<span class="gd">-  scenario &#39;管理者がタグを管理する&#39; do</span>
<span class="gd">-    visit admin_tags_path</span>
<span class="gd">-    click_link I18n.t(&#39;admin.tags.index.new&#39;)</span>
<span class="gd">-    </span>
<span class="gd">-    fill_in I18n.t(&#39;activerecord.attributes.tag.value&#39;), with: &#39;テストタグ&#39;</span>
<span class="gd">-    click_button I18n.t(&#39;admin.tags.new.submit&#39;)</span>
<span class="gd">-    </span>
<span class="gd">-    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;admin.tags.create.notice&#39;))</span>
<span class="gd">-    expect(Tag.find_by(value: &#39;テストタグ&#39;)).to be_present</span>
<span class="gd">-    </span>
<span class="gd">-    # Edit tag</span>
<span class="gd">-    click_link &#39;テストタグ&#39;</span>
<span class="gd">-    click_link I18n.t(&#39;admin.tags.show.edit&#39;)</span>
<span class="gd">-    fill_in I18n.t(&#39;activerecord.attributes.tag.value&#39;), with: &#39;更新タグ&#39;</span>
<span class="gd">-    click_button I18n.t(&#39;admin.tags.edit.submit&#39;)</span>
<span class="gd">-    </span>
<span class="gd">-    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;admin.tags.update.notice&#39;))</span>
<span class="gd">-    expect(Tag.find_by(value: &#39;更新タグ&#39;)).to be_present</span>
<span class="gd">-    </span>
<span class="gd">-    # Delete tag</span>
<span class="gd">-    click_link I18n.t(&#39;admin.tags.show.delete&#39;)</span>
<span class="gd">-    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;admin.tags.destroy.notice&#39;))</span>
<span class="gd">-    expect(Tag.find_by(value: &#39;更新タグ&#39;)).to be_nil</span>
<span class="gi">+    fill_in &#39;allowed_source_octet1&#39;, with: &#39;192&#39;</span>
<span class="gi">+    fill_in &#39;allowed_source_octet2&#39;, with: &#39;168&#39;</span>
<span class="gi">+    fill_in &#39;allowed_source_octet3&#39;, with: &#39;1&#39;</span>
<span class="gi">+    fill_in &#39;allowed_source_last_octet&#39;, with: &#39;*&#39;</span>
<span class="gi">+    click_button &#39;追加&#39;</span>
<span class="gi">+</span>
<span class="gi">+    expect(page).to have_css(&#39;.Flash__notice&#39;, text: I18n.t(&#39;admin.allowed_sources.create.flash_notice&#39;))</span>
<span class="gi">+    expect(AllowedSource.find_by(octet1: 192, octet2: 168, octet3: 1, octet4: 0, wildcard: true)).to be_present</span>
<span class="w"> </span>  end
<span class="w"> </span>end
\ No newline at end of file
</code></pre></div>
<h2 id="fc160e1">コミット: fc160e1<a class="headerlink" href="#fc160e1" title="Permanent link">&para;</a></h2>
<h3 id="_37">メッセージ<a class="headerlink" href="#_37" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>chore:スクリーンショット設定
</code></pre></div>
<h3 id="_38">変更されたファイル<a class="headerlink" href="#_38" title="Permanent link">&para;</a></h3>
<ul>
<li>M spec/rails_helper.rb</li>
</ul>
<h3 id="_39">変更内容<a class="headerlink" href="#_39" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit fc160e11784d9a3980544b9f11f4f17635d651f8
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Jun 9 18:39:20 2025 +0900

<span class="w"> </span>   chore:スクリーンショット設定

<span class="gh">diff --git a/spec/rails_helper.rb b/spec/rails_helper.rb</span>
<span class="gh">index bd111bc..cd000d0 100644</span>
<span class="gd">--- a/spec/rails_helper.rb</span>
<span class="gi">+++ b/spec/rails_helper.rb</span>
<span class="gu">@@ -11,6 +11,7 @@ require &#39;rspec/rails&#39;</span>
<span class="w"> </span>require &#39;capybara/rails&#39;
<span class="w"> </span>require &#39;capybara/rspec&#39;
<span class="w"> </span>require &#39;selenium-webdriver&#39;
<span class="gi">+require &#39;capybara-screenshot/rspec&#39;</span>

<span class="w"> </span># Chrome Headless設定
<span class="w"> </span>Capybara.register_driver :selenium_chrome_headless do |app|
<span class="gu">@@ -49,6 +50,10 @@ Capybara.default_max_wait_time = 5</span>
<span class="w"> </span>Capybara.server_host = &#39;0.0.0.0&#39;
<span class="w"> </span>Capybara.server_port = 3001

<span class="gi">+# スクリーンショット設定</span>
<span class="gi">+Capybara::Screenshot.autosave_on_failure = true</span>
<span class="gi">+Capybara::Screenshot.prune_strategy = :keep_last_run</span>
<span class="gi">+</span>
<span class="w"> </span># Requires supporting ruby files with custom matchers and macros, etc, in
<span class="w"> </span># spec/support/ and its subdirectories. Files matching `spec/**/*_spec.rb` are
<span class="w"> </span># run as spec files by default. This means that files in spec/support that end
</code></pre></div>
<h2 id="3e43b03">コミット: 3e43b03<a class="headerlink" href="#3e43b03" title="Permanent link">&para;</a></h2>
<h3 id="_40">メッセージ<a class="headerlink" href="#_40" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>fix:シード
</code></pre></div>
<h3 id="_41">変更されたファイル<a class="headerlink" href="#_41" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/models/message.rb</li>
<li>A spec/models/customer_message_spec.rb</li>
<li>A test_customer_message.rb</li>
</ul>
<h3 id="_42">変更内容<a class="headerlink" href="#_42" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 3e43b0320d45a3e08b3ede2b65c816f0d15b5625
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Jun 9 16:47:32 2025 +0900

<span class="w"> </span>   fix:シード

<span class="gh">diff --git a/app/models/message.rb b/app/models/message.rb</span>
<span class="gh">index 3364e95..f9c8853 100644</span>
<span class="gd">--- a/app/models/message.rb</span>
<span class="gi">+++ b/app/models/message.rb</span>
<span class="gu">@@ -32,9 +32,9 @@</span>

<span class="w"> </span>class Message &lt; ApplicationRecord
<span class="w"> </span>  belongs_to :customer
<span class="gd">-  belongs_to :staff_member</span>
<span class="gd">-  belongs_to :root, class_name: &#39;Message&#39;, foreign_key: &#39;root_id&#39;</span>
<span class="gd">-  belongs_to :parent, class_name: &#39;Message&#39;, foreign_key: &#39;parent_id&#39;</span>
<span class="gi">+  belongs_to :staff_member, optional: true</span>
<span class="gi">+  belongs_to :root, class_name: &#39;Message&#39;, foreign_key: &#39;root_id&#39;, optional: true</span>
<span class="gi">+  belongs_to :parent, class_name: &#39;Message&#39;, foreign_key: &#39;parent_id&#39;, optional: true</span>
<span class="w"> </span>  has_many :message_tag_links, dependent: :destroy
<span class="w"> </span>  has_many :tags, -&gt; { order(:value)}, through: :message_tag_links

<span class="gh">diff --git a/spec/models/customer_message_spec.rb b/spec/models/customer_message_spec.rb</span>
new file mode 100644
<span class="gh">index 0000000..a51f646</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/spec/models/customer_message_spec.rb</span>
<span class="gu">@@ -0,0 +1,17 @@</span>
<span class="gi">+require &#39;rails_helper&#39;</span>
<span class="gi">+</span>
<span class="gi">+RSpec.describe CustomerMessage, type: :model do</span>
<span class="gi">+  describe &#39;validations&#39; do</span>
<span class="gi">+    it &#39;can be created without staff_member, root, or parent&#39; do</span>
<span class="gi">+      customer = FactoryBot.create(:customer)</span>
<span class="gi">+      message = CustomerMessage.new(</span>
<span class="gi">+        customer: customer,</span>
<span class="gi">+        subject: &#39;Test Subject&#39;,</span>
<span class="gi">+        body: &#39;Test Body&#39;</span>
<span class="gi">+      )</span>
<span class="gi">+      </span>
<span class="gi">+      expect(message).to be_valid</span>
<span class="gi">+      expect { message.save! }.not_to raise_error</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
\ No newline at end of file
<span class="gh">diff --git a/test_customer_message.rb b/test_customer_message.rb</span>
new file mode 100644
<span class="gh">index 0000000..f754441</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/test_customer_message.rb</span>
<span class="gu">@@ -0,0 +1,29 @@</span>
<span class="gi">+#!/usr/bin/env ruby</span>
<span class="gi">+require_relative &#39;config/environment&#39;</span>
<span class="gi">+</span>
<span class="gi">+# Create a customer</span>
<span class="gi">+customer = Customer.first || Customer.create!(</span>
<span class="gi">+  email: &#39;test@example.com&#39;,</span>
<span class="gi">+  family_name: &#39;Test&#39;,</span>
<span class="gi">+  given_name: &#39;User&#39;,</span>
<span class="gi">+  family_name_kana: &#39;テスト&#39;,</span>
<span class="gi">+  given_name_kana: &#39;ユーザー&#39;,</span>
<span class="gi">+  password: &#39;password&#39;,</span>
<span class="gi">+  birthday: Date.new(1980, 1, 1),</span>
<span class="gi">+  gender: &#39;male&#39;</span>
<span class="gi">+)</span>
<span class="gi">+</span>
<span class="gi">+# Create a CustomerMessage without staff_member, root, or parent</span>
<span class="gi">+message = CustomerMessage.new(</span>
<span class="gi">+  customer: customer,</span>
<span class="gi">+  subject: &#39;Test Subject&#39;,</span>
<span class="gi">+  body: &#39;Test Body&#39;</span>
<span class="gi">+)</span>
<span class="gi">+</span>
<span class="gi">+puts &quot;Message valid? #{message.valid?}&quot;</span>
<span class="gi">+if message.valid?</span>
<span class="gi">+  message.save!</span>
<span class="gi">+  puts &quot;Message saved successfully with ID: #{message.id}&quot;</span>
<span class="gi">+else</span>
<span class="gi">+  puts &quot;Message validation errors: #{message.errors.full_messages.join(&#39;, &#39;)}&quot;</span>
<span class="gi">+end</span>
\ No newline at end of file
</code></pre></div>
<h3 id="_43">構造変更<a class="headerlink" href="#_43" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4N3B4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODcgMjU3IiB3aWR0aD0iNTg3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjkxNDEiIHg9IjUiIHk9IjE2LjEzODciPldlbGNvbWUgdG8gUGxhbnRVTUwhPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMzAuMTA3NCI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ny4xMDc0IiB4PSI1IiB5PSI0NC4wNzYyIj5Zb3UgY2FuIHN0YXJ0IHdpdGggYSBzaW1wbGUgVU1MIERpYWdyYW0gbGlrZTo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI1OC4wNDQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE4NCIgeD0iNSIgeT0iNzIuMDEzNyI+Qm9iLSZndDtBbGljZTomIzE2MDtIZWxsbzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9Ijg1Ljk4MjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNC4zNzg5IiB4PSI1IiB5PSI5OS45NTEyIj5PcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjExMy45MTk5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My45MTk5IiB4PSI1IiB5PSIxMjcuODg4NyI+Y2xhc3MmIzE2MDtFeGFtcGxlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTQxLjg1NzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDEuOTUzMSIgeD0iNSIgeT0iMTU1LjgyNjIiPllvdSB3aWxsIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBQbGFudFVNTCBzeW50YXggb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyNS43MDEyIiB4PSIzNTAuNzY3NiIgeT0iMTU1LjgyNjIiPmh0dHBzOi8vcGxhbnR1bWwuY29tPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTY5Ljc5NDkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNjExMyIgeD0iNSIgeT0iMTgzLjc2MzciPihEZXRhaWxzIGJ5IHR5cGluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwLjU3MjMiIHg9IjExNS40MjU4IiB5PSIxODMuNzYzNyI+bGljZW5zZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS44MjIzIiB4PSIxNjkuODEyNSIgeT0iMTgzLjc2MzciPmtleXdvcmQpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMTk3LjczMjQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjIxMS43MDEyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIyMjUuNjY5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iMjM5LjYzODciPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjI1My42MDc0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA2LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSIxODUuNDM3NSIvPjwhLS1TUkM9W0tyVHV0M1p2U1VFd25xc1I3cFZGVnpwU19CWXZ1dDdad2lURDdPLVJrZnlqeHR4UGlFM2ZhaXZkaXhTeVJmaHFPazZBbnVxcDdwU3RGNnZReWhYZnFVRWMzTy1STHB2a05XMkswWGkySEFqVnhEX3hqNmwxdXlSZlpua05GTXhpVnptOFA0enp0RFoyZlF4bVA1LXQ1UDFBcGFhaUJiUm1Jb3J0MVo3VzBndUxjU0tiY05kZkM1Nk8wV0xUTkpqS0lHMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="6e9569a">コミット: 6e9569a<a class="headerlink" href="#6e9569a" title="Permanent link">&para;</a></h2>
<h3 id="_44">メッセージ<a class="headerlink" href="#_44" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>test(WIP):E2Eテスト
</code></pre></div>
<h3 id="_45">変更されたファイル<a class="headerlink" href="#_45" title="Permanent link">&para;</a></h3>
<ul>
<li>A spec/features/admin/account_management_spec.rb</li>
<li>A spec/features/admin/staff_management_spec.rb</li>
<li>A spec/features/admin/system_management_spec.rb</li>
<li>A spec/features/customer/message_management_spec.rb</li>
<li>A spec/features/customer/program_management_spec.rb</li>
<li>M spec/support/features_spec_helper.rb</li>
</ul>
<h3 id="_46">変更内容<a class="headerlink" href="#_46" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 6e9569aed1d38e5f97f2b43ec56b2cb6155ab99c
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Jun 9 16:22:15 2025 +0900

<span class="w"> </span>   test(WIP):E2Eテスト

<span class="gh">diff --git a/spec/features/admin/account_management_spec.rb b/spec/features/admin/account_management_spec.rb</span>
new file mode 100644
<span class="gh">index 0000000..6d43ea4</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/spec/features/admin/account_management_spec.rb</span>
<span class="gu">@@ -0,0 +1,42 @@</span>
<span class="gi">+require &#39;rails_helper&#39;</span>
<span class="gi">+</span>
<span class="gi">+feature &#39;管理者によるアカウント管理&#39; do</span>
<span class="gi">+  include FeaturesSpecHelper</span>
<span class="gi">+  let(:administrator) { create(:administrator) }</span>
<span class="gi">+</span>
<span class="gi">+  before do</span>
<span class="gi">+    switch_namespace(:admin)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;管理者がログインする&#39; do</span>
<span class="gi">+    visit admin_login_path</span>
<span class="gi">+    within(&#39;.Login--admin&#39;) do</span>
<span class="gi">+      fill_in I18n.t(&#39;activemodel.attributes.admin/login_form.email&#39;), with: administrator.email</span>
<span class="gi">+      fill_in I18n.t(&#39;activemodel.attributes.admin/login_form.password&#39;), with: &#39;pw&#39;</span>
<span class="gi">+      click_button I18n.t(&#39;admin.sessions.new.submit&#39;)</span>
<span class="gi">+    end</span>
<span class="gi">+</span>
<span class="gi">+    expect(current_path).to eq(admin_root_path)</span>
<span class="gi">+    expect(page).to have_content(administrator.email)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;管理者がログアウトする&#39; do</span>
<span class="gi">+    login_as_administrator(administrator)</span>
<span class="gi">+    click_link I18n.t(&#39;admin.shared.header.logout&#39;)</span>
<span class="gi">+    </span>
<span class="gi">+    expect(current_path).to eq(admin_login_path)</span>
<span class="gi">+    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;admin.sessions.destroy.notice&#39;))</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;管理者が無効なパスワードでログインを試みる&#39; do</span>
<span class="gi">+    visit admin_login_path</span>
<span class="gi">+    within(&#39;.Login--admin&#39;) do</span>
<span class="gi">+      fill_in I18n.t(&#39;activemodel.attributes.admin/login_form.email&#39;), with: administrator.email</span>
<span class="gi">+      fill_in I18n.t(&#39;activemodel.attributes.admin/login_form.password&#39;), with: &#39;wrong_password&#39;</span>
<span class="gi">+      click_button I18n.t(&#39;admin.sessions.new.submit&#39;)</span>
<span class="gi">+    end</span>
<span class="gi">+</span>
<span class="gi">+    expect(current_path).to eq(admin_login_path)</span>
<span class="gi">+    expect(page).to have_css(&#39;.alert&#39;, text: I18n.t(&#39;admin.sessions.create.alert&#39;))</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
\ No newline at end of file
<span class="gh">diff --git a/spec/features/admin/staff_management_spec.rb b/spec/features/admin/staff_management_spec.rb</span>
new file mode 100644
<span class="gh">index 0000000..ff3e2aa</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/spec/features/admin/staff_management_spec.rb</span>
<span class="gu">@@ -0,0 +1,63 @@</span>
<span class="gi">+require &#39;rails_helper&#39;</span>
<span class="gi">+</span>
<span class="gi">+feature &#39;管理者によるスタッフ管理&#39; do</span>
<span class="gi">+  include FeaturesSpecHelper</span>
<span class="gi">+  let(:administrator) { create(:administrator) }</span>
<span class="gi">+</span>
<span class="gi">+  before do</span>
<span class="gi">+    switch_namespace(:admin)</span>
<span class="gi">+    login_as_administrator(administrator)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;管理者が新規スタッフアカウントを作成する&#39; do</span>
<span class="gi">+    click_link I18n.t(&#39;admin.staff_members.index.new&#39;)</span>
<span class="gi">+    </span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.staff_member.email&#39;), with: &#39;test@example.com&#39;</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.staff_member.family_name&#39;), with: &#39;試験&#39;</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.staff_member.given_name&#39;), with: &#39;太郎&#39;</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.staff_member.family_name_kana&#39;), with: &#39;シケン&#39;</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.staff_member.given_name_kana&#39;), with: &#39;タロウ&#39;</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.staff_member.password&#39;), with: &#39;password&#39;</span>
<span class="gi">+    click_button I18n.t(&#39;admin.staff_members.new.submit&#39;)</span>
<span class="gi">+</span>
<span class="gi">+    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;admin.staff_members.create.notice&#39;))</span>
<span class="gi">+    expect(StaffMember.find_by(email: &#39;test@example.com&#39;)).to be_present</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;管理者がスタッフアカウントを編集する&#39; do</span>
<span class="gi">+    staff_member = create(:staff_member)</span>
<span class="gi">+    visit admin_staff_members_path</span>
<span class="gi">+    click_link staff_member.family_name + staff_member.given_name</span>
<span class="gi">+</span>
<span class="gi">+    click_link I18n.t(&#39;admin.staff_members.show.edit&#39;)</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.staff_member.email&#39;), with: &#39;edited@example.com&#39;</span>
<span class="gi">+    click_button I18n.t(&#39;admin.staff_members.edit.submit&#39;)</span>
<span class="gi">+</span>
<span class="gi">+    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;admin.staff_members.update.notice&#39;))</span>
<span class="gi">+    expect(staff_member.reload.email).to eq(&#39;edited@example.com&#39;)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;管理者がスタッフアカウントを停止する&#39; do</span>
<span class="gi">+    staff_member = create(:staff_member)</span>
<span class="gi">+    visit admin_staff_members_path</span>
<span class="gi">+    </span>
<span class="gi">+    within(&quot;#staff_member_#{staff_member.id}&quot;) do</span>
<span class="gi">+      click_link I18n.t(&#39;admin.staff_members.index.suspend&#39;)</span>
<span class="gi">+    end</span>
<span class="gi">+</span>
<span class="gi">+    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;admin.staff_members.suspend.notice&#39;))</span>
<span class="gi">+    expect(staff_member.reload.suspended).to be_truthy</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;管理者がスタッフアカウントを再開する&#39; do</span>
<span class="gi">+    staff_member = create(:staff_member, suspended: true)</span>
<span class="gi">+    visit admin_staff_members_path</span>
<span class="gi">+    </span>
<span class="gi">+    within(&quot;#staff_member_#{staff_member.id}&quot;) do</span>
<span class="gi">+      click_link I18n.t(&#39;admin.staff_members.index.resume&#39;)</span>
<span class="gi">+    end</span>
<span class="gi">+</span>
<span class="gi">+    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;admin.staff_members.resume.notice&#39;))</span>
<span class="gi">+    expect(staff_member.reload.suspended).to be_falsey</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
\ No newline at end of file
<span class="gh">diff --git a/spec/features/admin/system_management_spec.rb b/spec/features/admin/system_management_spec.rb</span>
new file mode 100644
<span class="gh">index 0000000..88c77fd</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/spec/features/admin/system_management_spec.rb</span>
<span class="gu">@@ -0,0 +1,65 @@</span>
<span class="gi">+require &#39;rails_helper&#39;</span>
<span class="gi">+</span>
<span class="gi">+feature &#39;管理者によるシステム管理&#39; do</span>
<span class="gi">+  include FeaturesSpecHelper</span>
<span class="gi">+  let(:administrator) { create(:administrator) }</span>
<span class="gi">+</span>
<span class="gi">+  before do</span>
<span class="gi">+    switch_namespace(:admin)</span>
<span class="gi">+    login_as_administrator(administrator)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;管理者がスタッフイベントログを確認する&#39; do</span>
<span class="gi">+    staff_member = create(:staff_member)</span>
<span class="gi">+    # Create some staff events</span>
<span class="gi">+    staff_member.events.create!(type: &#39;logged_in&#39;)</span>
<span class="gi">+    staff_member.events.create!(type: &#39;logged_out&#39;)</span>
<span class="gi">+    </span>
<span class="gi">+    visit admin_staff_member_path(staff_member)</span>
<span class="gi">+    click_link I18n.t(&#39;admin.staff_members.show.events&#39;)</span>
<span class="gi">+    </span>
<span class="gi">+    expect(page).to have_css(&#39;h1&#39;, text: I18n.t(&#39;admin.staff_events.index.title&#39;))</span>
<span class="gi">+    expect(page).to have_selector(&#39;table.staff-events tbody tr&#39;, count: 2)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;管理者がIPアドレス制限を設定する&#39; do</span>
<span class="gi">+    visit admin_allowed_sources_path</span>
<span class="gi">+    click_link I18n.t(&#39;admin.allowed_sources.index.new&#39;)</span>
<span class="gi">+    </span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.allowed_source.octet1&#39;), with: &#39;192&#39;</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.allowed_source.octet2&#39;), with: &#39;168&#39;</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.allowed_source.octet3&#39;), with: &#39;1&#39;</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.allowed_source.octet4&#39;), with: &#39;0&#39;</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.allowed_source.wildcard&#39;), with: true</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.allowed_source.note&#39;), with: &#39;テスト用&#39;</span>
<span class="gi">+    click_button I18n.t(&#39;admin.allowed_sources.new.submit&#39;)</span>
<span class="gi">+    </span>
<span class="gi">+    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;admin.allowed_sources.create.notice&#39;))</span>
<span class="gi">+    expect(AllowedSource.find_by(octet1: 192, octet2: 168, octet3: 1, octet4: 0, wildcard: true)).to be_present</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;管理者がタグを管理する&#39; do</span>
<span class="gi">+    visit admin_tags_path</span>
<span class="gi">+    click_link I18n.t(&#39;admin.tags.index.new&#39;)</span>
<span class="gi">+    </span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.tag.value&#39;), with: &#39;テストタグ&#39;</span>
<span class="gi">+    click_button I18n.t(&#39;admin.tags.new.submit&#39;)</span>
<span class="gi">+    </span>
<span class="gi">+    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;admin.tags.create.notice&#39;))</span>
<span class="gi">+    expect(Tag.find_by(value: &#39;テストタグ&#39;)).to be_present</span>
<span class="gi">+    </span>
<span class="gi">+    # Edit tag</span>
<span class="gi">+    click_link &#39;テストタグ&#39;</span>
<span class="gi">+    click_link I18n.t(&#39;admin.tags.show.edit&#39;)</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.tag.value&#39;), with: &#39;更新タグ&#39;</span>
<span class="gi">+    click_button I18n.t(&#39;admin.tags.edit.submit&#39;)</span>
<span class="gi">+    </span>
<span class="gi">+    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;admin.tags.update.notice&#39;))</span>
<span class="gi">+    expect(Tag.find_by(value: &#39;更新タグ&#39;)).to be_present</span>
<span class="gi">+    </span>
<span class="gi">+    # Delete tag</span>
<span class="gi">+    click_link I18n.t(&#39;admin.tags.show.delete&#39;)</span>
<span class="gi">+    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;admin.tags.destroy.notice&#39;))</span>
<span class="gi">+    expect(Tag.find_by(value: &#39;更新タグ&#39;)).to be_nil</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
\ No newline at end of file
<span class="gh">diff --git a/spec/features/customer/message_management_spec.rb b/spec/features/customer/message_management_spec.rb</span>
new file mode 100644
<span class="gh">index 0000000..91972d9</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/spec/features/customer/message_management_spec.rb</span>
<span class="gu">@@ -0,0 +1,69 @@</span>
<span class="gi">+require &#39;rails_helper&#39;</span>
<span class="gi">+</span>
<span class="gi">+feature &#39;顧客によるメッセージ管理&#39; do</span>
<span class="gi">+  include FeaturesSpecHelper</span>
<span class="gi">+  let(:customer) { create(:customer) }</span>
<span class="gi">+  let(:staff_member) { create(:staff_member) }</span>
<span class="gi">+</span>
<span class="gi">+  before do</span>
<span class="gi">+    switch_namespace(:customer)</span>
<span class="gi">+    login_as_customer(customer)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;顧客がスタッフにメッセージを送信する&#39; do</span>
<span class="gi">+    visit customer_messages_path</span>
<span class="gi">+    click_link I18n.t(&#39;customer.messages.index.new&#39;)</span>
<span class="gi">+    </span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.message.subject&#39;), with: &#39;テストメッセージ&#39;</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.message.body&#39;), with: &#39;これはテストメッセージです。&#39;</span>
<span class="gi">+    select staff_member.family_name + staff_member.given_name, from: I18n.t(&#39;activerecord.attributes.message.staff_member_id&#39;)</span>
<span class="gi">+    click_button I18n.t(&#39;customer.messages.new.submit&#39;)</span>
<span class="gi">+    </span>
<span class="gi">+    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;customer.messages.create.notice&#39;))</span>
<span class="gi">+    expect(Message.find_by(subject: &#39;テストメッセージ&#39;, customer: customer)).to be_present</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;顧客がメッセージ履歴を確認する&#39; do</span>
<span class="gi">+    # Create a message from customer to staff</span>
<span class="gi">+    message = create(:message, customer: customer, staff_member: staff_member)</span>
<span class="gi">+    # Create a reply from staff to customer</span>
<span class="gi">+    create(:reply, message: message, staff_member: staff_member)</span>
<span class="gi">+    </span>
<span class="gi">+    visit customer_messages_path</span>
<span class="gi">+    click_link message.subject</span>
<span class="gi">+    </span>
<span class="gi">+    expect(page).to have_css(&#39;h1&#39;, text: message.subject)</span>
<span class="gi">+    expect(page).to have_content(message.body)</span>
<span class="gi">+    expect(page).to have_css(&#39;.replies .reply&#39;, count: 1)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;顧客がメッセージを検索する&#39; do</span>
<span class="gi">+    create(:message, customer: customer, staff_member: staff_member, subject: &#39;問い合わせ&#39;)</span>
<span class="gi">+    create(:message, customer: customer, staff_member: staff_member, subject: &#39;予約について&#39;)</span>
<span class="gi">+    </span>
<span class="gi">+    visit customer_messages_path</span>
<span class="gi">+    fill_in I18n.t(&#39;customer.messages.index.search_form.subject&#39;), with: &#39;予約&#39;</span>
<span class="gi">+    click_button I18n.t(&#39;customer.messages.index.search_form.submit&#39;)</span>
<span class="gi">+    </span>
<span class="gi">+    expect(page).to have_content(&#39;予約について&#39;)</span>
<span class="gi">+    expect(page).not_to have_content(&#39;問い合わせ&#39;)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;顧客がメッセージにタグを付ける&#39; do</span>
<span class="gi">+    tag = create(:tag, value: &#39;テストタグ&#39;)</span>
<span class="gi">+    </span>
<span class="gi">+    visit customer_messages_path</span>
<span class="gi">+    click_link I18n.t(&#39;customer.messages.index.new&#39;)</span>
<span class="gi">+    </span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.message.subject&#39;), with: &#39;タグ付きメッセージ&#39;</span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.message.body&#39;), with: &#39;これはタグ付きメッセージです。&#39;</span>
<span class="gi">+    select staff_member.family_name + staff_member.given_name, from: I18n.t(&#39;activerecord.attributes.message.staff_member_id&#39;)</span>
<span class="gi">+    check &quot;tag_#{tag.id}&quot;</span>
<span class="gi">+    click_button I18n.t(&#39;customer.messages.new.submit&#39;)</span>
<span class="gi">+    </span>
<span class="gi">+    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;customer.messages.create.notice&#39;))</span>
<span class="gi">+    message = Message.find_by(subject: &#39;タグ付きメッセージ&#39;, customer: customer)</span>
<span class="gi">+    expect(message).to be_present</span>
<span class="gi">+    expect(message.tags).to include(tag)</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
\ No newline at end of file
<span class="gh">diff --git a/spec/features/customer/program_management_spec.rb b/spec/features/customer/program_management_spec.rb</span>
new file mode 100644
<span class="gh">index 0000000..8341e2d</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/spec/features/customer/program_management_spec.rb</span>
<span class="gu">@@ -0,0 +1,68 @@</span>
<span class="gi">+require &#39;rails_helper&#39;</span>
<span class="gi">+</span>
<span class="gi">+feature &#39;顧客によるプログラム管理&#39; do</span>
<span class="gi">+  include FeaturesSpecHelper</span>
<span class="gi">+  let(:customer) { create(:customer) }</span>
<span class="gi">+  let!(:program) { create(:program, application_start_time: 2.days.ago, application_end_time: 2.days.from_now) }</span>
<span class="gi">+</span>
<span class="gi">+  before do</span>
<span class="gi">+    switch_namespace(:customer)</span>
<span class="gi">+    login_as_customer(customer)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;顧客がプログラム一覧を閲覧する&#39; do</span>
<span class="gi">+    visit customer_programs_path</span>
<span class="gi">+    </span>
<span class="gi">+    expect(page).to have_css(&#39;h1&#39;, text: I18n.t(&#39;customer.programs.index.title&#39;))</span>
<span class="gi">+    expect(page).to have_content(program.title)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;顧客がプログラム詳細を閲覧する&#39; do</span>
<span class="gi">+    visit customer_programs_path</span>
<span class="gi">+    click_link program.title</span>
<span class="gi">+    </span>
<span class="gi">+    expect(page).to have_css(&#39;h1&#39;, text: program.title)</span>
<span class="gi">+    expect(page).to have_content(program.description)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;顧客がプログラムを予約する&#39; do</span>
<span class="gi">+    visit customer_program_path(program)</span>
<span class="gi">+    click_link I18n.t(&#39;customer.programs.show.apply&#39;)</span>
<span class="gi">+    </span>
<span class="gi">+    fill_in I18n.t(&#39;activerecord.attributes.entry.remarks&#39;), with: &#39;テスト予約&#39;</span>
<span class="gi">+    click_button I18n.t(&#39;customer.entries.new.submit&#39;)</span>
<span class="gi">+    </span>
<span class="gi">+    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;customer.entries.create.notice&#39;))</span>
<span class="gi">+    expect(Entry.find_by(program: program, customer: customer)).to be_present</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;顧客が予約をキャンセルする&#39; do</span>
<span class="gi">+    entry = create(:entry, program: program, customer: customer)</span>
<span class="gi">+    </span>
<span class="gi">+    visit customer_entries_path</span>
<span class="gi">+    click_link program.title</span>
<span class="gi">+    click_link I18n.t(&#39;customer.entries.show.cancel&#39;)</span>
<span class="gi">+    </span>
<span class="gi">+    expect(page).to have_css(&#39;.notice&#39;, text: I18n.t(&#39;customer.entries.cancel.notice&#39;))</span>
<span class="gi">+    expect(entry.reload.canceled).to be_truthy</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;顧客が予約期間外のプログラムを予約しようとする&#39; do</span>
<span class="gi">+    closed_program = create(:program, application_start_time: 10.days.from_now, application_end_time: 20.days.from_now)</span>
<span class="gi">+    </span>
<span class="gi">+    visit customer_program_path(closed_program)</span>
<span class="gi">+    </span>
<span class="gi">+    expect(page).not_to have_link(I18n.t(&#39;customer.programs.show.apply&#39;))</span>
<span class="gi">+    expect(page).to have_content(I18n.t(&#39;customer.programs.show.not_applicable&#39;))</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  scenario &#39;顧客が定員超過のプログラムを予約しようとする&#39; do</span>
<span class="gi">+    full_program = create(:program, application_start_time: 2.days.ago, application_end_time: 2.days.from_now, max_number_of_participants: 1)</span>
<span class="gi">+    create(:entry, program: full_program) # Fill the program</span>
<span class="gi">+    </span>
<span class="gi">+    visit customer_program_path(full_program)</span>
<span class="gi">+    </span>
<span class="gi">+    expect(page).not_to have_link(I18n.t(&#39;customer.programs.show.apply&#39;))</span>
<span class="gi">+    expect(page).to have_content(I18n.t(&#39;customer.programs.show.full&#39;))</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
\ No newline at end of file
<span class="gh">diff --git a/spec/support/features_spec_helper.rb b/spec/support/features_spec_helper.rb</span>
<span class="gh">index c17fb25..aac0165 100644</span>
<span class="gd">--- a/spec/support/features_spec_helper.rb</span>
<span class="gi">+++ b/spec/support/features_spec_helper.rb</span>
<span class="gu">@@ -21,4 +21,13 @@ module FeaturesSpecHelper</span>
<span class="w"> </span>      click_button I18n.t(&#39;customer.sessions.new.submit&#39;)
<span class="w"> </span>    end
<span class="w"> </span>  end
<span class="gd">-end</span>
\ No newline at end of file
<span class="gi">+</span>
<span class="gi">+  def login_as_administrator(administrator, password = &#39;pw&#39;)</span>
<span class="gi">+    visit admin_login_path</span>
<span class="gi">+    within(&#39;.Login--admin&#39;) do</span>
<span class="gi">+      fill_in I18n.t(&#39;activemodel.attributes.admin/login_form.email&#39;), with: administrator.email</span>
<span class="gi">+      fill_in I18n.t(&#39;activemodel.attributes.admin/login_form.password&#39;), with: password</span>
<span class="gi">+      click_button I18n.t(&#39;admin.sessions.new.submit&#39;)</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
</code></pre></div>
<h2 id="b0dca43">コミット: b0dca43<a class="headerlink" href="#b0dca43" title="Permanent link">&para;</a></h2>
<h3 id="_47">メッセージ<a class="headerlink" href="#_47" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>test:E2Eテスト
</code></pre></div>
<h3 id="_48">変更されたファイル<a class="headerlink" href="#_48" title="Permanent link">&para;</a></h3>
<ul>
<li>M spec/features/staff/customer_management_spec.rb</li>
<li>M spec/features/staff/phone_management_spec.rb</li>
<li>M spec/features/staff/program_management_spec.rb</li>
</ul>
<h3 id="_49">変更内容<a class="headerlink" href="#_49" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit b0dca43861f203f72561b12aeb36f99963f5b171
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Jun 9 16:09:12 2025 +0900

<span class="w"> </span>   test:E2Eテスト

<span class="gh">diff --git a/spec/features/staff/customer_management_spec.rb b/spec/features/staff/customer_management_spec.rb</span>
<span class="gh">index 8aac7ee..2ce6bbe 100644</span>
<span class="gd">--- a/spec/features/staff/customer_management_spec.rb</span>
<span class="gi">+++ b/spec/features/staff/customer_management_spec.rb</span>
<span class="gu">@@ -1,7 +1,6 @@</span>
<span class="w"> </span>require &#39;rails_helper&#39;

<span class="gd">-# 職員による顧客管理</span>
<span class="gd">-feature &#39;Customer management by staff&#39; do</span>
<span class="gi">+feature &#39;職員による顧客管理&#39; do</span>
<span class="w"> </span>  include FeaturesSpecHelper
<span class="w"> </span>  let(:staff_member) { create(:staff_member) }
<span class="w"> </span>  let!(:customer) { create(:customer) }
<span class="gu">@@ -11,8 +10,7 @@ feature &#39;Customer management by staff&#39; do</span>
<span class="w"> </span>    login_as_staff_member(staff_member)
<span class="w"> </span>  end

<span class="gd">-  # 職員が顧客（基本情報のみ）を登録する</span>
<span class="gd">-  scenario &#39;Employees register customers (only basic information)&#39; do</span>
<span class="gi">+  scenario &#39;職員が顧客（基本情報のみ）を登録する&#39; do</span>
<span class="w"> </span>    click_link I18n.t(&#39;staff.top.dashboard.staff_customers&#39;)
<span class="w"> </span>    first(&#39;.Table__links&#39;).click_link I18n.t(&#39;staff.customers.index.new&#39;)
<span class="w"> </span>    fill_in I18n.t(&#39;activerecord.attributes.customer.email&#39;), with: &#39;test@example.jp&#39;
<span class="gu">@@ -33,8 +31,7 @@ feature &#39;Customer management by staff&#39; do</span>
<span class="w"> </span>    expect(new_customer.work_address).to be_nil
<span class="w"> </span>  end

<span class="gd">-  # 職員が顧客、自宅住所、勤務先を更新する</span>
<span class="gd">-  scenario &#39;Staff update customer, home address, work place&#39; do</span>
<span class="gi">+  scenario &#39;職員が顧客、自宅住所、勤務先を更新する&#39; do</span>
<span class="w"> </span>    click_link I18n.t(&#39;staff.top.dashboard.staff_customers&#39;)
<span class="w"> </span>    first(&#39;table.Table__body--listing&#39;).click_link I18n.t(&#39;staff.customers.index.edit&#39;)

<span class="gu">@@ -53,8 +50,7 @@ feature &#39;Customer management by staff&#39; do</span>
<span class="w"> </span>    expect(customer.work_address.company_name).to eq(&#39;テスト&#39;)
<span class="w"> </span>  end

<span class="gd">-  # 職員が顧客、自宅住所、勤務先を登録する</span>
<span class="gd">-  scenario &#39;Employees register customer, home address, work place&#39; do</span>
<span class="gi">+  scenario &#39;職員が顧客、自宅住所、勤務先を登録する&#39; do</span>
<span class="w"> </span>    click_link I18n.t(&#39;staff.top.dashboard.staff_customers&#39;)
<span class="w"> </span>    first(&#39;.Table__links&#39;).click_link I18n.t(&#39;staff.customers.index.new&#39;)

<span class="gu">@@ -94,8 +90,7 @@ feature &#39;Customer management by staff&#39; do</span>
<span class="w"> </span>    expect(new_customer.work_address.company_name).to eq(&#39;テスト&#39;)
<span class="w"> </span>  end

<span class="gd">-  # 職員が生年月日と自宅の郵便番号に無効な値を入力する</span>
<span class="gd">-  scenario &#39;Employees enter invalid values for birth date and home postal code&#39; do</span>
<span class="gi">+  scenario &#39;職員が生年月日と自宅の郵便番号に無効な値を入力する&#39; do</span>
<span class="w"> </span>    click_link I18n.t(&#39;staff.top.dashboard.staff_customers&#39;)
<span class="w"> </span>    first(&#39;table.Table__body--listing&#39;).click_link I18n.t(&#39;staff.customers.index.edit&#39;)

<span class="gu">@@ -109,8 +104,7 @@ feature &#39;Customer management by staff&#39; do</span>
<span class="w"> </span>    expect(page).to have_css(&#39;.has-error span.help-block&#39;)
<span class="w"> </span>  end

<span class="gd">-  # 職員が勤務先データのない既存顧客に会社名の情報を追加する</span>
<span class="gd">-  scenario &#39;Staff add company name information to existing customers that do not have work data&#39; do</span>
<span class="gi">+  scenario &#39;職員が勤務先データのない既存顧客に会社名の情報を追加する&#39; do</span>
<span class="w"> </span>    customer.work_address.destroy
<span class="w"> </span>    click_link I18n.t(&#39;staff.top.dashboard.staff_customers&#39;)
<span class="w"> </span>    first(&#39;table.Table__body--listing&#39;).click_link I18n.t(&#39;staff.customers.index.edit&#39;)
<span class="gu">@@ -124,4 +118,4 @@ feature &#39;Customer management by staff&#39; do</span>
<span class="w"> </span>    customer.reload
<span class="w"> </span>    expect(customer.work_address.company_name).to eq(&#39;テスト&#39;)
<span class="w"> </span>  end
<span class="gd">-end</span>
\ No newline at end of file
<span class="gi">+end</span>
<span class="gh">diff --git a/spec/features/staff/phone_management_spec.rb b/spec/features/staff/phone_management_spec.rb</span>
<span class="gh">index 99935f2..0f97a6a 100644</span>
<span class="gd">--- a/spec/features/staff/phone_management_spec.rb</span>
<span class="gi">+++ b/spec/features/staff/phone_management_spec.rb</span>
<span class="gu">@@ -1,7 +1,6 @@</span>
<span class="w"> </span>require &#39;rails_helper&#39;

<span class="gd">-# 職員による顧客電話番号管理</span>
<span class="gd">-feature &#39;Customer telephone number management by staff&#39; do</span>
<span class="gi">+feature &#39;職員による顧客電話番号管理&#39; do</span>
<span class="w"> </span>  include FeaturesSpecHelper
<span class="w"> </span>  let(:staff_member) { create(:staff_member) }
<span class="w"> </span>  let!(:customer) { create(:customer) }
<span class="gu">@@ -11,8 +10,7 @@ feature &#39;Customer telephone number management by staff&#39; do</span>
<span class="w"> </span>    login_as_staff_member(staff_member)
<span class="w"> </span>  end

<span class="gd">-  # 職員が顧客の電話番号を追加する</span>
<span class="gd">-  scenario &quot;The staff adds the customer&#39;s phone number&quot; do</span>
<span class="gi">+  scenario &#39;職員が顧客の電話番号を追加する&#39; do</span>
<span class="w"> </span>    click_link I18n.t(&#39;staff.top.dashboard.staff_customers&#39;)
<span class="w"> </span>    first(&#39;table.Table__body--listing&#39;).click_link I18n.t(&#39;staff.customers.index.edit&#39;)

<span class="gu">@@ -25,8 +23,7 @@ feature &#39;Customer telephone number management by staff&#39; do</span>
<span class="w"> </span>    expect(customer.personal_phones[0].number).to eq(&#39;090-9999-9999&#39;)
<span class="w"> </span>  end

<span class="gd">-  # 職員が顧客の自宅電話番号を追加する</span>
<span class="gd">-  scenario &quot;The staff adds the customer&#39;s home phone number&quot; do</span>
<span class="gi">+  scenario &#39;職員が顧客の自宅電話番号を追加する&#39; do</span>
<span class="w"> </span>    click_link I18n.t(&#39;staff.top.dashboard.staff_customers&#39;)
<span class="w"> </span>    first(&#39;table.Table__body--listing&#39;).click_link I18n.t(&#39;staff.customers.index.edit&#39;)

<span class="gu">@@ -39,8 +36,7 @@ feature &#39;Customer telephone number management by staff&#39; do</span>
<span class="w"> </span>    expect(customer.home_address.phones[0].number).to eq(&#39;090-9999-9999&#39;)
<span class="w"> </span>  end

<span class="gd">-  # 職員が顧客の勤務先電話番号を追加する</span>
<span class="gd">-  scenario &quot;The staff adds the customer&#39;s work phone number&quot; do</span>
<span class="gi">+  scenario &#39;職員が顧客の勤務先電話番号を追加する&#39; do</span>
<span class="w"> </span>    click_link I18n.t(&#39;staff.top.dashboard.staff_customers&#39;)
<span class="w"> </span>    first(&#39;table.Table__body--listing&#39;).click_link I18n.t(&#39;staff.customers.index.edit&#39;)

<span class="gu">@@ -52,4 +48,4 @@ feature &#39;Customer telephone number management by staff&#39; do</span>
<span class="w"> </span>    expect(customer.work_address.phones.size).to eq(1)
<span class="w"> </span>    expect(customer.work_address.phones[0].number).to eq(&#39;03-9999-9999&#39;)
<span class="w"> </span>  end
<span class="gd">-end</span>
\ No newline at end of file
<span class="gi">+end</span>
<span class="gh">diff --git a/spec/features/staff/program_management_spec.rb b/spec/features/staff/program_management_spec.rb</span>
<span class="gh">index 9131037..413731f 100644</span>
<span class="gd">--- a/spec/features/staff/program_management_spec.rb</span>
<span class="gi">+++ b/spec/features/staff/program_management_spec.rb</span>
<span class="gu">@@ -1,7 +1,6 @@</span>
<span class="w"> </span>require &#39;rails_helper&#39;

<span class="gd">-# プログラム管理機能</span>
<span class="gd">-feature &#39;Program management function&#39;, :performace do</span>
<span class="gi">+feature &#39;プログラム管理機能&#39;, :performace do</span>
<span class="w"> </span>  include FeaturesSpecHelper
<span class="w"> </span>  include PerformanceSpecHelper
<span class="w"> </span>  let(:staff_member) { create(:staff_member) }
<span class="gu">@@ -19,8 +18,7 @@ feature &#39;Program management function&#39;, :performace do</span>
<span class="w"> </span>    login_as_staff_member(staff_member)
<span class="w"> </span>  end

<span class="gd">-  # プログラム一覧</span>
<span class="gd">-  scenario &#39;Program list&#39; do |example|</span>
<span class="gi">+  scenario &#39;プログラム一覧&#39; do |example|</span>
<span class="w"> </span>    visit staff_programs_path
<span class="w"> </span>    expect(page).to have_css(&#39;h1&#39;, text: I18n.t(&#39;staff.programs.index.title&#39;))

<span class="gu">@@ -34,4 +32,4 @@ feature &#39;Program management function&#39;, :performace do</span>
<span class="w"> </span>    expect(elapsed).to be &lt; 100.0
<span class="w"> </span>  end

<span class="gd">-end</span>
\ No newline at end of file
<span class="gi">+end</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k2works/baukis-kai" target="_blank" rel="noopener" title="GitHub Repository" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../docs/assets/js/extra.js"></script>
      
    
  </body>
</html>