
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the Baukis-Kai project.">
      
      
        <meta name="author" content="Project Team">
      
      
      
        <link rel="prev" href="../20170214/">
      
      
        <link rel="next" href="../20170220/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>20170216 - Baukis-Kai</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../docs/mkdocs/assets/css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2017-02-16" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Baukis-Kai" class="md-header__button md-logo" aria-label="Baukis-Kai" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Baukis-Kai
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              20170216
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/k2works/baukis-kai" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    baukis-kai
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/" class="md-tabs__link">
        
  
  
    
  
  UseCases

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/" class="md-tabs__link">
        
  
  
    
  
  Architecture

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/" class="md-tabs__link">
        
  
  
    
  
  Implementation

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../%E7%94%A8%E8%AA%9E%E9%9B%86/" class="md-tabs__link">
        
  
  
    
  
  Glossary

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../20170110/" class="md-tabs__link">
          
  
  
  Journal

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Baukis-Kai" class="md-nav__button md-logo" aria-label="Baukis-Kai" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Baukis-Kai
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k2works/baukis-kai" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    baukis-kai
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UseCases
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Implementation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%94%A8%E8%AA%9E%E9%9B%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Journal
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Journal
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170110/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170110
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170111/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170111
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170114/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170114
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170116/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170116
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170117/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170117
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170118/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170118
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170120/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170120
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170121/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170121
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170123/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170123
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170124/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170124
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170126/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170126
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170127/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170127
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170128/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170128
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170130/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170130
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170131/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170131
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170202
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170203
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170204/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170204
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170206/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170206
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170207/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170207
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170209/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170209
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170210/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170210
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170213/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170213
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170214/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170214
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    20170216
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    20170216
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c951126-ip" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: c951126 - 本番環境でのIPアドレス制限を回避できるようにする
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: c951126 - 本番環境でのIPアドレス制限を回避できるようにする">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      技術的詳細
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c5c1282-" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: c5c1282 - マイグレーションファイルの編集ミス修正
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: c5c1282 - マイグレーションファイルの編集ミス修正">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      技術的詳細
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6cf0216-" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 6cf0216 - データベース設計の修正
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 6cf0216 - データベース設計の修正">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      技術的詳細
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aaaa913-" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: aaaa913 - プログラム管理機能の追加
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: aaaa913 - プログラム管理機能の追加">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      技術的詳細
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0a6fbdf-" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 0a6fbdf - プログラム削除機能の安全性向上
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 0a6fbdf - プログラム削除機能の安全性向上">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      技術的詳細
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ca63ff0-" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: ca63ff0 - プログラム参加者数の検証強化
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: ca63ff0 - プログラム参加者数の検証強化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      技術的詳細
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#f0442a3-" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: f0442a3 - 多数のオブジェクトの一括更新処理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: f0442a3 - 多数のオブジェクトの一括更新処理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    <span class="md-ellipsis">
      技術的詳細
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_36" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5ebcb9e-coffeescript" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 5ebcb9e - 隠しフィールドとCoffeeScriptによるフォーム処理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 5ebcb9e - 隠しフィールドとCoffeeScriptによるフォーム処理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_37" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_38" class="md-nav__link">
    <span class="md-ellipsis">
      技術的詳細
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_39" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_40" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_41" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1d20b95-" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 1d20b95 - 多数のオブジェクトを一括編集するフォーム
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 1d20b95 - 多数のオブジェクトを一括編集するフォーム">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_42" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_43" class="md-nav__link">
    <span class="md-ellipsis">
      技術的詳細
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_44" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_45" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_46" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6daf247-" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 6daf247 - プログラム削除機能の実装
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 6daf247 - プログラム削除機能の実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_47" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_48" class="md-nav__link">
    <span class="md-ellipsis">
      技術的詳細
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_49" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_50" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_51" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#59015b1-" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 59015b1 - プログラムモデルのバリデーション強化
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 59015b1 - プログラムモデルのバリデーション強化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_52" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_53" class="md-nav__link">
    <span class="md-ellipsis">
      技術的詳細
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_54" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_55" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_56" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2831d4b-" class="md-nav__link">
    <span class="md-ellipsis">
      コミット: 2831d4b - プログラムの新規登録と更新機能
    </span>
  </a>
  
    <nav class="md-nav" aria-label="コミット: 2831d4b - プログラムの新規登録と更新機能">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_57" class="md-nav__link">
    <span class="md-ellipsis">
      概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_58" class="md-nav__link">
    <span class="md-ellipsis">
      技術的詳細
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_59" class="md-nav__link">
    <span class="md-ellipsis">
      変更されたファイル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_60" class="md-nav__link">
    <span class="md-ellipsis">
      変更内容
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_61" class="md-nav__link">
    <span class="md-ellipsis">
      構造変更
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170220/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170220
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170317/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170317
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170318/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170318
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170325/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170325
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170327/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170327
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20170328/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20170328
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250424/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250424
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250510/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250510
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250607/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250607
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250608/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250608
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250609/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250609
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250610/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250610
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250611/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250611
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250612/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20250612
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="2017-02-16">作業履歴 2017-02-16<a class="headerlink" href="#2017-02-16" title="Permanent link">&para;</a></h1>
<h2 id="_1">概要<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>2017-02-16の作業内容をまとめています。このジャーナルでは、IPアドレス制限の設定変更、マイグレーションファイルの修正、プログラム管理機能の実装などを行いました。</p>
<h2 id="c951126-ip">コミット: c951126 - 本番環境でのIPアドレス制限を回避できるようにする<a class="headerlink" href="#c951126-ip" title="Permanent link">&para;</a></h2>
<h3 id="_2">概要<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>本番環境において、特定のIPアドレスからのアクセスを許可するように設定を変更しました。これにより、本番環境でも指定されたIPアドレスからシステムにアクセスできるようになります。</p>
<h3 id="_3">技術的詳細<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<ul>
<li><code>allowed_sources</code>テーブルに新しいIPアドレスのエントリを追加</li>
<li>管理者と職員の両方のインターフェースに対して、特定のIPアドレス（118.4.67.44および118.4.67.*）からのアクセスを許可</li>
</ul>
<h3 id="_4">変更されたファイル<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<ul>
<li>M db/seed/production/allowed_sources.rb</li>
</ul>
<h3 id="_5">変更内容<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit c951126b3c0a8e0635f0b08e5ca4772faed4ef9d
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Thu Feb 16 17:13:35 2017 +0900

<span class="w"> </span>   本番環境でのIPアドレス制限を回避できるようにする

<span class="gh">diff --git a/db/seed/production/allowed_sources.rb b/db/seed/production/allowed_sources.rb</span>
<span class="gh">index 541d445..a97f5de 100644</span>
<span class="gd">--- a/db/seed/production/allowed_sources.rb</span>
<span class="gi">+++ b/db/seed/production/allowed_sources.rb</span>
<span class="gu">@@ -1,2 +1,4 @@</span>
<span class="w"> </span>AllowedSource.create(namespace: &#39;admin&#39;, ip_address: &#39;127.0.0.1&#39;)
<span class="gd">-AllowedSource.create(namespace: &#39;staff&#39;, ip_address: &#39;127.0.0.*&#39;)</span>
\ No newline at end of file
<span class="gi">+AllowedSource.create(namespace: &#39;staff&#39;, ip_address: &#39;127.0.0.*&#39;)</span>
<span class="gi">+AllowedSource.create(namespace: &#39;admin&#39;, ip_address: &#39;118.4.67.44&#39;)</span>
<span class="gi">+AllowedSource.create(namespace: &#39;staff&#39;, ip_address: &#39;118.4.67.*&#39;)</span>
\ No newline at end of file
</code></pre></div>
<h3 id="_6">構造変更<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjEzMXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MzcycHg7aGVpZ2h0OjEzMXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDM3MiAxMzEiIHdpZHRoPSIzNzJweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPklQJiMxMjQ1MDsmIzEyNDg5OyYjMTI1MjQ7JiMxMjQ3MzsmIzIxMDQ2OyYjMzg0ODA7JiMxMjM5ODsmIzI3MDgzOyYjMzY4OTY7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQxLjQ2OTIiIHg9IjEwOC41NjIxIiB5PSIyMi45OTUxIj5JUCYjMTI0NTA7JiMxMjQ4OTsmIzEyNTI0OyYjMTI0NzM7JiMyMTA0NjsmIzM4NDgwOyYjMTIzOTg7JiMyNzA4MzsmIzM2ODk2OzwvdGV4dD48L2c+PCEtLWNsYXNzIEFsbG93ZWRTb3VyY2UtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iQWxsb3dlZFNvdXJjZSIgZGF0YS1zb3VyY2UtbGluZT0iMyIgZGF0YS11aWQ9ImVudDAwMDIiIGlkPSJlbnRpdHlfQWxsb3dlZFNvdXJjZSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI4MC41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNTYuMTI4OSIgeD0iNyIgeT0iNDQuMjk2OSIvPjxlbGxpcHNlIGN4PSIzMS4zODk0IiBjeT0iNjAuMjk2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMzQuMzU4MSw2NS45Mzc1IFEzMy43OCw2Ni4yMzQ0IDMzLjEzOTQsNjYuMzc1IFEzMi40OTg3LDY2LjUzMTMgMzEuNzk1Niw2Ni41MzEzIFEyOS4yOTU2LDY2LjUzMTMgMjcuOTY3NSw2NC44OTA2IFEyNi42NTUsNjMuMjM0NCAyNi42NTUsNjAuMTA5NCBRMjYuNjU1LDU2Ljk4NDQgMjcuOTY3NSw1NS4zMjgxIFEyOS4yOTU2LDUzLjY3MTkgMzEuNzk1Niw1My42NzE5IFEzMi40OTg3LDUzLjY3MTkgMzMuMTM5NCw1My44MjgxIFEzMy43OTU2LDUzLjk4NDQgMzQuMzU4MSw1NC4yODEzIEwzNC4zNTgxLDU3IFEzMy43MzMxLDU2LjQyMTkgMzMuMTM5NCw1Ni4xNTYzIFEzMi41NDU2LDU1Ljg3NSAzMS45MjA2LDU1Ljg3NSBRMzAuNTc2OSw1NS44NzUgMjkuODg5NCw1Ni45NTMxIFEyOS4yMDE5LDU4LjAxNTYgMjkuMjAxOSw2MC4xMDk0IFEyOS4yMDE5LDYyLjIwMzEgMjkuODg5NCw2My4yODEzIFEzMC41NzY5LDY0LjM0MzggMzEuOTIwNiw2NC4zNDM4IFEzMi41NDU2LDY0LjM0MzggMzMuMTM5NCw2NC4wNzgxIFEzMy43MzMxLDYzLjc5NjkgMzQuMzU4MSw2My4yMTg4IEwzNC4zNTgxLDY1LjkzNzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDMuMjYzNyIgeD0iNDcuNDc1OSIgeT0iNjUuMTQzNiI+QWxsb3dlZFNvdXJjZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4IiB4Mj0iMTYyLjEyODkiIHkxPSI3Ni4yOTY5IiB5Mj0iNzYuMjk2OSIvPjxlbGxpcHNlIGN4PSIxOCIgY3k9Ijg5Ljk0NTMiIGZpbGw9Im5vbmUiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMC4xMjg5IiB4PSIyNyIgeT0iOTMuMjkyIj5uYW1lc3BhY2U6IHN0cmluZzwvdGV4dD48ZWxsaXBzZSBjeD0iMTgiIGN5PSIxMDYuMjQyMiIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI0LjQ0MTQiIHg9IjI3IiB5PSIxMDkuNTg4OSI+aXBfYWRkcmVzczogc3RyaW5nPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjgiIHgyPSIxNjIuMTI4OSIgeTE9IjExNi44OTA2IiB5Mj0iMTE2Ljg5MDYiLz48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkdNTjMiIGRhdGEtc291cmNlLWxpbmU9IjkiIGRhdGEtdWlkPSJlbnQwMDA0IiBpZD0iZW50aXR5X0dNTjMiPjxwYXRoIGQ9Ik0xOTguNTQsNTYuODg2OSBMMTk4LjU0LDgwLjU4NjkgTDE2My41Niw4NC41ODY5IEwxOTguNTQsODguNTg2OSBMMTk4LjU0LDExMi4yODUzIEEwLDAgMCAwIDAgMTk4LjU0LDExMi4yODUzIEwzNjUuNTkzNCwxMTIuMjg1MyBBMCwwIDAgMCAwIDM2NS41OTM0LDExMi4yODUzIEwzNjUuNTkzNCw2Ni44ODY5IEwzNTUuNTkzNCw1Ni44ODY5IEwxOTguNTQsNTYuODg2OSBBMCwwIDAgMCAwIDE5OC41NCw1Ni44ODY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMzU1LjU5MzQsNTYuODg2OSBMMzU1LjU5MzQsNjYuODg2OSBMMzY1LjU5MzQsNjYuODg2OSBMMzU1LjU5MzQsNTYuODg2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ2LjA1MzQiIHg9IjIwNC41NCIgeT0iNzMuOTUzOCI+JiMyNjAzMjsmIzEyMzc1OyYjMTIzNTY7SVAmIzEyNDUwOyYjMTI0ODk7JiMxMjUyNDsmIzEyNDczOyYjMTI0MzQ7JiMzNjg2MTsmIzIxMTUyOzo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM2LjYzMzMiIHg9IjIwNC41NCIgeT0iODkuMDg2NiI+LSBhZG1pbjogMTE4LjQuNjcuNDQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE0Ljg0ODEiIHg9IjIwNC41NCIgeT0iMTA0LjIxOTQiPi0gc3RhZmY6IDExOC40LjY3Lio8L3RleHQ+PC9nPjwhLS1TUkM9W0F5YWlvS2JMeTBudXRCSmVTTkZkdS1Pclp2anNGa3RPemRCY1hDVUR3dnVqeHR4UGk4MkJBcGFkaVJYT21KNGQ5eHl5RElLdWx4R2VFTE1YY2FpeEJwNHRqUldXQ0pkTElnNnVmMldwQnZyQkV4Q1dGWjRiZklZcmsxV2tMaWw1YlBUVmFnZkdiOWNVS1FBR2R1UGczalVwUUhpVURxdl90RFkyd2VSN0pQRFV4RF94ajZrMTVQVWtHYzlBUmNRVWJPQVhlT01VWVB3UGtQdzkyTDJtazJHbkJHcjlLOGloREl6NTBNR0wwMDAwXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h2 id="c5c1282-">コミット: c5c1282 - マイグレーションファイルの編集ミス修正<a class="headerlink" href="#c5c1282-" title="Permanent link">&para;</a></h2>
<h3 id="_7">概要<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<p>マイグレーションファイル内の外部キー設定に関する誤りを修正しました。エントリーテーブルが顧客テーブルを参照するための外部キー制約が正しく設定されていなかった問題を解決しています。</p>
<h3 id="_8">技術的詳細<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<ul>
<li><code>entries</code>テーブルの外部キー設定を修正</li>
<li>誤って同じテーブル（programs）を2回参照していた設定を、正しく<code>programs</code>と<code>customers</code>を参照するように変更</li>
</ul>
<h3 id="_9">変更されたファイル<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<ul>
<li>M db/migrate/20170214071032_create_entries.rb</li>
</ul>
<h3 id="_10">変更内容<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit c5c1282842c77ec02c86174c732003581eb53348
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Thu Feb 16 16:54:36 2017 +0900

<span class="w"> </span>   マイグレーションファイルの編集ミス修正

<span class="gh">diff --git a/db/migrate/20170214071032_create_entries.rb b/db/migrate/20170214071032_create_entries.rb</span>
<span class="gh">index d8c4042..312fce7 100644</span>
<span class="gd">--- a/db/migrate/20170214071032_create_entries.rb</span>
<span class="gi">+++ b/db/migrate/20170214071032_create_entries.rb</span>
<span class="gu">@@ -11,6 +11,6 @@ class CreateEntries &lt; ActiveRecord::Migration[5.0]</span>

<span class="w"> </span>   add_index :entries, [ :program_id, :customer_id ], unique: true
<span class="w"> </span>   add_foreign_key :entries, :programs
<span class="gd">-    add_foreign_key :entries, :programs</span>
<span class="gi">+    add_foreign_key :entries, :customers</span>
<span class="w"> </span>  end
<span class="w"> </span>end
</code></pre></div>
<h3 id="_11">構造変更<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjM4N3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NjY2cHg7aGVpZ2h0OjM4N3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDY2NiAzODciIHdpZHRoPSI2NjZweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMTI0NTY7JiMxMjUzMTsmIzEyNDg4OyYjMTI1MjI7JiMxMjU0MDsmIzEyNDg2OyYjMTI1NDA7JiMxMjUwMjsmIzEyNTIzOyYjMTIzOTg7JiMyMjgwNjsmIzM3MDk2OyYjMTI0NjE7JiMxMjU0MDsmIzIwNDYyOyYjMjc0OTE7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjIzLjk5OSIgeD0iMjE0LjI3ODgiIHk9IjIyLjk5NTEiPiYjMTI0NTY7JiMxMjUzMTsmIzEyNDg4OyYjMTI1MjI7JiMxMjU0MDsmIzEyNDg2OyYjMTI1NDA7JiMxMjUwMjsmIzEyNTIzOyYjMTIzOTg7JiMyMjgwNjsmIzM3MDk2OyYjMTI0NjE7JiMxMjU0MDsmIzIwNDYyOyYjMjc0OTE7PC90ZXh0PjwvZz48IS0tY2xhc3MgZW50cmllcy0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJlbnRyaWVzIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBkYXRhLXVpZD0iZW50MDAwMiIgaWQ9ImVudGl0eV9lbnRyaWVzIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEyOS40ODQ0IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyMDkuODA0NyIgeD0iMTYwLjU0IiB5PSI0NC4yOTY5Ii8+PGVsbGlwc2UgY3g9IjIzNi45MjgyIiBjeT0iNjAuMjk2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMjQxLjAzNzYsNjYuMjk2OSBMMjMzLjMxODgsNjYuMjk2OSBMMjMzLjMxODgsNTMuOTA2MyBMMjQxLjAzNzYsNTMuOTA2MyBMMjQxLjAzNzYsNTYuMDYyNSBMMjM1Ljc3MTksNTYuMDYyNSBMMjM1Ljc3MTksNTguNzM0NCBMMjQwLjUzNzYsNTguNzM0NCBMMjQwLjUzNzYsNjAuODkwNiBMMjM1Ljc3MTksNjAuODkwNiBMMjM1Ljc3MTksNjQuMTQwNiBMMjQxLjAzNzYsNjQuMTQwNiBMMjQxLjAzNzYsNjYuMjk2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ4LjUyODMiIHg9IjI1Ny40MjgyIiB5PSI2NS4xNDM2Ij5lbnRyaWVzPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjE2MS41NCIgeDI9IjM2OS4zNDQ3IiB5MT0iNzYuMjk2OSIgeTI9Ijc2LjI5NjkiLz48ZWxsaXBzZSBjeD0iMTcxLjU0IiBjeT0iODkuOTQ1MyIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIuMDY0NSIgeD0iMTgwLjU0IiB5PSI5My4yOTIiPmlkOiBpbnRlZ2VyPC90ZXh0PjxlbGxpcHNlIGN4PSIxNzEuNTQiIGN5PSIxMDYuMjQyMiIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTc3Ljk0NjMiIHg9IjE4MC41NCIgeT0iMTA5LjU4ODkiPnByb2dyYW1faWQ6IGludGVnZXIgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PGVsbGlwc2UgY3g9IjE3MS41NCIgY3k9IjEyMi41MzkxIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxODMuODA0NyIgeD0iMTgwLjU0IiB5PSIxMjUuODg1NyI+Y3VzdG9tZXJfaWQ6IGludGVnZXIgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PGVsbGlwc2UgY3g9IjE3MS41NCIgY3k9IjEzOC44MzU5IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzEuNTk4NiIgeD0iMTgwLjU0IiB5PSIxNDIuMTgyNiI+YXBwcm92ZWQ6IGJvb2xlYW48L3RleHQ+PGVsbGlwc2UgY3g9IjE3MS41NCIgY3k9IjE1NS4xMzI4IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjcuOTg5MyIgeD0iMTgwLjU0IiB5PSIxNTguNDc5NSI+Y2FuY2VsZWQ6IGJvb2xlYW48L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTYxLjU0IiB4Mj0iMzY5LjM0NDciIHkxPSIxNjUuNzgxMyIgeTI9IjE2NS43ODEzIi8+PC9nPjwhLS1jbGFzcyBwcm9ncmFtcy0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJwcm9ncmFtcyIgZGF0YS1zb3VyY2UtbGluZT0iMTEiIGRhdGEtdWlkPSJlbnQwMDAzIiBpZD0iZW50aXR5X3Byb2dyYW1zIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjExMy4xODc1IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNDAuODg0OCIgeD0iNyIgeT0iMjU4LjkyNjkiLz48ZWxsaXBzZSBjeD0iNDAuNjg1NSIgY3k9IjI3NC45MjY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik00NC43OTQ5LDI4MC45MjY5IEwzNy4wNzYyLDI4MC45MjY5IEwzNy4wNzYyLDI2OC41MzYzIEw0NC43OTQ5LDI2OC41MzYzIEw0NC43OTQ5LDI3MC42OTI1IEwzOS41MjkzLDI3MC42OTI1IEwzOS41MjkzLDI3My4zNjQ0IEw0NC4yOTQ5LDI3My4zNjQ0IEw0NC4yOTQ5LDI3NS41MjA2IEwzOS41MjkzLDI3NS41MjA2IEwzOS41MjkzLDI3OC43NzA2IEw0NC43OTQ5LDI3OC43NzA2IEw0NC43OTQ5LDI4MC45MjY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjcuMzYxMyIgeD0iNTguODM3OSIgeT0iMjc5Ljc3MzYiPnByb2dyYW1zPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjgiIHgyPSIxNDYuODg0OCIgeTE9IjI5MC45MjY5IiB5Mj0iMjkwLjkyNjkiLz48ZWxsaXBzZSBjeD0iMTgiIGN5PSIzMDQuNTc1MyIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIuMDY0NSIgeD0iMjciIHk9IjMwNy45MjIiPmlkOiBpbnRlZ2VyPC90ZXh0PjxlbGxpcHNlIGN4PSIxOCIgY3k9IjMyMC44NzIyIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Ni43MjY2IiB4PSIyNyIgeT0iMzI0LjIxODkiPnRpdGxlOiBzdHJpbmc8L3RleHQ+PGVsbGlwc2UgY3g9IjE4IiBjeT0iMzM3LjE2OTEiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNC44ODQ4IiB4PSIyNyIgeT0iMzQwLjUxNTciPmRlc2NyaXB0aW9uOiB0ZXh0PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzLjM1MDYiIHg9IjI3IiB5PSIzNTYuODEyNiI+Li4uPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjgiIHgyPSIxNDYuODg0OCIgeTE9IjM2NC4xMTQ0IiB5Mj0iMzY0LjExNDQiLz48L2c+PCEtLWNsYXNzIGN1c3RvbWVycy0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJjdXN0b21lcnMiIGRhdGEtc291cmNlLWxpbmU9IjE4IiBkYXRhLXVpZD0iZW50MDAwNCIgaWQ9ImVudGl0eV9jdXN0b21lcnMiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTI5LjQ4NDQiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE2NS4yNjg2IiB4PSIxODIuODEiIHk9IjI1MC43ODY5Ii8+PGVsbGlwc2UgY3g9IjIyNC44MzIiIGN5PSIyNjYuNzg2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMjI4Ljk0MTMsMjcyLjc4NjkgTDIyMS4yMjI2LDI3Mi43ODY5IEwyMjEuMjIyNiwyNjAuMzk2MyBMMjI4Ljk0MTMsMjYwLjM5NjMgTDIyOC45NDEzLDI2Mi41NTI1IEwyMjMuNjc1NywyNjIuNTUyNSBMMjIzLjY3NTcsMjY1LjIyNDQgTDIyOC40NDEzLDI2NS4yMjQ0IEwyMjguNDQxMywyNjcuMzgwNiBMMjIzLjY3NTcsMjY3LjM4MDYgTDIyMy42NzU3LDI3MC42MzA2IEwyMjguOTQxMywyNzAuNjMwNiBMMjI4Ljk0MTMsMjcyLjc4NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3My4yMTk3IiB4PSIyNDQuODM2OSIgeT0iMjcxLjYzMzYiPmN1c3RvbWVyczwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxODMuODEiIHgyPSIzNDcuMDc4NiIgeTE9IjI4Mi43ODY5IiB5Mj0iMjgyLjc4NjkiLz48ZWxsaXBzZSBjeD0iMTkzLjgxIiBjeT0iMjk2LjQzNTMiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcyLjA2NDUiIHg9IjIwMi44MSIgeT0iMjk5Ljc4MiI+aWQ6IGludGVnZXI8L3RleHQ+PGVsbGlwc2UgY3g9IjE5My44MSIgY3k9IjMxMi43MzIyIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4Ny45NjQ4IiB4PSIyMDIuODEiIHk9IjMxNi4wNzg5Ij5lbWFpbDogc3RyaW5nPC90ZXh0PjxlbGxpcHNlIGN4PSIxOTMuODEiIGN5PSIzMjkuMDI5MSIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM5LjI2ODYiIHg9IjIwMi44MSIgeT0iMzMyLjM3NTciPmZhbWlseV9uYW1lOiBzdHJpbmc8L3RleHQ+PGVsbGlwc2UgY3g9IjE5My44MSIgY3k9IjM0NS4zMjU5IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzQuNjA2NCIgeD0iMjAyLjgxIiB5PSIzNDguNjcyNiI+Z2l2ZW5fbmFtZTogc3RyaW5nPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzLjM1MDYiIHg9IjIwMi44MSIgeT0iMzY0Ljk2OTUiPi4uLjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxODMuODEiIHgyPSIzNDcuMDc4NiIgeTE9IjM3Mi4yNzEzIiB5Mj0iMzcyLjI3MTMiLz48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkdNTjciIGRhdGEtc291cmNlLWxpbmU9IjMwIiBkYXRhLXVpZD0iZW50MDAwOCIgaWQ9ImVudGl0eV9HTU43Ij48cGF0aCBkPSJNMzgzLjMzLDI5NS4zODY5IEwzODMuMzMsMzM1LjY1MjUgQTAsMCAwIDAgMCAzODMuMzMsMzM1LjY1MjUgTDY1OS41NTY2LDMzNS42NTI1IEEwLDAgMCAwIDAgNjU5LjU1NjYsMzM1LjY1MjUgTDY1OS41NTY2LDMwNS4zODY5IEw2NDkuNTU2NiwyOTUuMzg2OSBMNTAwLjk5LDI5NS4zODY5IEwzNDUuNzQsMTc0LjE3NjkgTDQ5Mi45OSwyOTUuMzg2OSBMMzgzLjMzLDI5NS4zODY5IEEwLDAgMCAwIDAgMzgzLjMzLDI5NS4zODY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNjQ5LjU1NjYsMjk1LjM4NjkgTDY0OS41NTY2LDMwNS4zODY5IEw2NTkuNTU2NiwzMDUuMzg2OSBMNjQ5LjU1NjYsMjk1LjM4NjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIxNC41MTkxIiB4PSIzODkuMzMiIHk9IjMxMi40NTM4Ij4mIzIwNDYyOyYjMjc0OTE7JiMyMTA2OTs6IGVudHJpZXMgLSZndDsgcHJvZ3JhbXMgKDImIzIyMjM4Oyk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjU1LjIyNjYiIHg9IjM4OS4zMyIgeT0iMzI3LjU4NjYiPiYjMjA0NjI7JiMyNzQ5MTsmIzI0NDYwOzogZW50cmllcyAtJmd0OyBwcm9ncmFtcywgY3VzdG9tZXJzPC90ZXh0PjwvZz48IS0tbGluayBlbnRyaWVzIHRvIHByb2dyYW1zLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudHJpZXMiIGRhdGEtZW50aXR5LTI9InByb2dyYW1zIiBkYXRhLXNvdXJjZS1saW5lPSIyNiIgZGF0YS11aWQ9ImxuazUiIGlkPSJsaW5rX2VudHJpZXNfcHJvZ3JhbXMiPjxwYXRoIGNvZGVMaW5lPSIyNiIgZD0iTTIwMS4wNTY1LDE4MC4wNjcxIEMxNzYuMTg2NSwyMDcuMTI3MSAxNTguMzEzOSwyMjYuNTU3IDEzNC4zMTM5LDI1Mi42NjciIGZpbGw9Im5vbmUiIGlkPSJlbnRyaWVzLXByb2dyYW1zIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIwMS4wNTY1IiB4Mj0iMjAyLjA1MjQiIHkxPSIxODAuMDY3MSIgeTI9IjE3MC4xMTY4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIwMS4wNTY1IiB4Mj0iMjEwLjg4NzYiIHkxPSIxODAuMDY3MSIgeTI9IjE3OC4yMzciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjAxLjA1NjUiIHgyPSIyMDYuNDciIHkxPSIxODAuMDY3MSIgeTI9IjE3NC4xNzY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5Ni43NTgxIiB4Mj0iMjAyLjY0ODIiIHkxPSIxNzguODMyOSIgeTI9IjE4NC4yNDYzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEzNC41NTE4IiB4Mj0iMTI4LjY2MiIgeTE9IjI1OC4zMTg5IiB5Mj0iMjUyLjkwNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMzYuNTgyIiB4Mj0iMTMwLjY5MjIiIHkxPSIyNTYuMTEwMiIgeTI9IjI1MC42OTYzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEzNC4zMTM5IiB4Mj0iMTI4LjkiIHkxPSIyNTIuNjY3IiB5Mj0iMjU4LjU1NjkiLz48L2c+PCEtLWxpbmsgZW50cmllcyB0byBjdXN0b21lcnMtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50cmllcyIgZGF0YS1lbnRpdHktMj0iY3VzdG9tZXJzIiBkYXRhLXNvdXJjZS1saW5lPSIyNyIgZGF0YS11aWQ9ImxuazYiIGlkPSJsaW5rX2VudHJpZXNfY3VzdG9tZXJzIj48cGF0aCBjb2RlTGluZT0iMjciIGQ9Ik0yNjUuNDQsMTgyLjE3NjkgQzI2NS40NCwyMDYuNTM2OSAyNjUuNDQsMjE4LjI3NjkgMjY1LjQ0LDI0Mi42MTY5IiBmaWxsPSJub25lIiBpZD0iZW50cmllcy1jdXN0b21lcnMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjY1LjQ0IiB4Mj0iMjU5LjQ0IiB5MT0iMTgyLjE3NjkiIHkyPSIxNzQuMTc2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNjUuNDQiIHgyPSIyNzEuNDQiIHkxPSIxODIuMTc2OSIgeTI9IjE3NC4xNzY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI2NS40NCIgeDI9IjI2NS40NCIgeTE9IjE4Mi4xNzY5IiB5Mj0iMTc0LjE3NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjYxLjQ0IiB4Mj0iMjY5LjQ0IiB5MT0iMTg0LjE3NjkiIHkyPSIxODQuMTc2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNjkuNDQiIHgyPSIyNjEuNDQiIHkxPSIyNDYuNjE2OSIgeTI9IjI0Ni42MTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI2OS40NCIgeDI9IjI2MS40NCIgeTE9IjI0My42MTY5IiB5Mj0iMjQzLjYxNjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjY1LjQ0IiB4Mj0iMjY1LjQ0IiB5MT0iMjQyLjYxNjkiIHkyPSIyNTAuNjE2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNC4wMDAxIiB4PSIyNjYuNDQiIHk9IjIxNi44NTM4Ij4mIzIwNDYyOyYjMjc0OTE7JiMyNDQ2MDsmIzEyMzk4OyYjMjE0NDI7JiMyOTAzMTsmIzM4MzA2OyYjMjA0MTg7PC90ZXh0PjwvZz48IS0tU1JDPVtSTDR6SnlDbTREdHpBcXdUMDk0Q1o1NkxhT0tWS1BkYTZiYkF4MmVuNUhOZkcybUdJMjJzQjRXQ1c0RzVRWFRNckZ1T0R3My0ybm5lRmExUFJEc3hrX1VVZG9NSjhPQkVQYmd6UXRNYnJRak03cmZUX2ZvdkxjX3dWNTR5dm5pcnF6ZFNXRWxMdWRGLUgwWG9vVUc0VWtRRTZJT3pFMkR4bTdtNzY5U09PNm9nS0lvMmM0UTM1V2h6X2s2SHd2Z2NUdjk4NE03U3RRS1ppcG42cXBlTThhSkFvbXRBRkdwUnNCSW5pVE5nejI3QjlwZ0c2QUN5Q0JNRllIVXBhTUkyRW8zbkwxQlJqamphYlJURURlbWUycmppR25nblMzQldENmZoMTZvQ18yX09ZOUkxbUpJcmgzSWpHYWgtdXhLN1NFMHR5czl2S194NU5WUHJ5UkI5N3pVaFoxMGs5OWV1ZjFhNUNPR2oxemFrTkR5dzVHSU1NcWwxcGE1bl94MUJRamhFZ1Z0NldsN2NHb2RyM0cwMF0tLT48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h2 id="6cf0216-">コミット: 6cf0216 - データベース設計の修正<a class="headerlink" href="#6cf0216-" title="Permanent link">&para;</a></h2>
<h3 id="_12">概要<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p>データベース設計に関する誤りを修正しました。マイグレーションファイル内で顧客テーブルが誤って<code>programs</code>として作成されていた問題を解決し、関連する外部キー参照も修正しています。</p>
<h3 id="_13">技術的詳細<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<ul>
<li>顧客テーブルの作成時のテーブル名を<code>programs</code>から<code>customers</code>に修正</li>
<li>住所テーブルと電話番号テーブルの外部キー参照先を<code>programs</code>から<code>customers</code>に修正</li>
<li>顧客テーブルの誕生日関連カラム追加先を<code>programs</code>から<code>customers</code>に修正</li>
</ul>
<h3 id="_14">変更されたファイル<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<ul>
<li>M db/migrate/20170203051643_create_customers.rb</li>
<li>M db/migrate/20170203051654_create_addresses.rb</li>
<li>M db/migrate/20170206085929_create_phones.rb</li>
<li>M db/migrate/20170207042109_alter_customers1.rb</li>
</ul>
<h3 id="_15">変更内容<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 6cf021608f059cd1c5ec02bfc744000cf7bf7244
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Thu Feb 16 16:54:25 2017 +0900

<span class="w"> </span>   Revert: データベース設計 #27

<span class="gh">diff --git a/db/migrate/20170203051643_create_customers.rb b/db/migrate/20170203051643_create_customers.rb</span>
<span class="gh">index ad396e4..1ffb208 100644</span>
<span class="gd">--- a/db/migrate/20170203051643_create_customers.rb</span>
<span class="gi">+++ b/db/migrate/20170203051643_create_customers.rb</span>
<span class="gu">@@ -1,6 +1,6 @@</span>
<span class="w"> </span>class CreateCustomers &lt; ActiveRecord::Migration[5.0]
<span class="w"> </span>  def change
<span class="gd">-    create_table :programs, comment:&#39;顧客&#39; do |t|</span>
<span class="gi">+    create_table :customers, comment:&#39;顧客&#39; do |t|</span>
<span class="w"> </span>      t.string :email, null: false, comment:&#39;メールアドレス&#39;
<span class="w"> </span>      t.string :email_for_index, null: false, comment:&#39;顧客用メールアドレス&#39;
<span class="w"> </span>      t.string :family_name, null: false, comment:&#39;姓&#39;
<span class="gh">diff --git a/db/migrate/20170203051654_create_addresses.rb b/db/migrate/20170203051654_create_addresses.rb</span>
<span class="gh">index 5d824f1..e2da587 100644</span>
<span class="gd">--- a/db/migrate/20170203051654_create_addresses.rb</span>
<span class="gi">+++ b/db/migrate/20170203051654_create_addresses.rb</span>
<span class="gu">@@ -15,6 +15,6 @@ class CreateAddresses &lt; ActiveRecord::Migration[5.0]</span>
<span class="w"> </span>    end

<span class="w"> </span>    add_index :addresses, [:type, :customer_id], unique: true
<span class="gd">-    add_foreign_key :addresses, :programs</span>
<span class="gi">+    add_foreign_key :addresses, :customers</span>
<span class="w"> </span>  end
<span class="w"> </span>end
<span class="gh">diff --git a/db/migrate/20170206085929_create_phones.rb b/db/migrate/20170206085929_create_phones.rb</span>
<span class="gh">index bb8c001..f9f0714 100644</span>
<span class="gd">--- a/db/migrate/20170206085929_create_phones.rb</span>
<span class="gi">+++ b/db/migrate/20170206085929_create_phones.rb</span>
<span class="gu">@@ -11,7 +11,7 @@ class CreatePhones &lt; ActiveRecord::Migration[5.0]</span>
<span class="w"> </span>    end

<span class="w"> </span>    add_index :phones, :number_for_index
<span class="gd">-    add_foreign_key :phones, :programs</span>
<span class="gi">+    add_foreign_key :phones, :customers</span>
<span class="w"> </span>    add_foreign_key :phones, :addresses
<span class="w"> </span>  end
<span class="w"> </span>end
<span class="gh">diff --git a/db/migrate/20170207042109_alter_customers1.rb b/db/migrate/20170207042109_alter_customers1.rb</span>
<span class="gh">index 49f274b..1e0ffe5 100644</span>
<span class="gd">--- a/db/migrate/20170207042109_alter_customers1.rb</span>
<span class="gi">+++ b/db/migrate/20170207042109_alter_customers1.rb</span>
<span class="gu">@@ -1,8 +1,8 @@</span>
<span class="w"> </span>class AlterCustomers1 &lt; ActiveRecord::Migration[5.0]
<span class="w"> </span>  def change
<span class="gd">-    add_column :programs, :birth_year, :integer, comment:&#39;誕生年&#39;</span>
<span class="gd">-    add_column :programs, :birth_month, :integer, comment:&#39;誕生月&#39;</span>
<span class="gd">-    add_column :programs, :birth_mday, :integer, comment:&#39;誕生日&#39;</span>
<span class="gi">+    add_column :customers, :birth_year, :integer, comment:&#39;誕生年&#39;</span>
<span class="gi">+    add_column :customers, :birth_month, :integer, comment:&#39;誕生月&#39;</span>
<span class="gi">+    add_column :customers, :birth_mday, :integer, comment:&#39;誕生日&#39;</span>

<span class="w"> </span>    add_index :customers, [ :birth_year, :birth_month, :birth_mday ]
<span class="w"> </span>    add_index :customers, [ :birth_month, :birth_mday ]
</code></pre></div>
<h3 id="_16">構造変更<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjUyMXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTAxMXB4O2hlaWdodDo1MjFweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMDExIDUyMSIgd2lkdGg9IjEwMTFweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyYjMTI1MDU7JiMxMjU0MDsmIzEyNDczOyYjMzUzNzM7JiMzNTMzNjsmIzEyMzk4OyYjMjA0NjI7JiMyNzQ5MTs8L3RpdGxlPjxkZWZzLz48Zz48ZyBjbGFzcz0idGl0bGUiIGRhdGEtc291cmNlLWxpbmU9IjEiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTMuOTk5MyIgeD0iNDIxLjUwMDMiIHk9IjIyLjk5NTEiPiYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyYjMTI1MDU7JiMxMjU0MDsmIzEyNDczOyYjMzUzNzM7JiMzNTMzNjsmIzEyMzk4OyYjMjA0NjI7JiMyNzQ5MTs8L3RleHQ+PC9nPjwhLS1jbHVzdGVyID8/Pz8/Pz8tLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1lbnRpdHk9Ii4uLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjQiIGRhdGEtdWlkPSJlbnQwMDAyIiBpZD0iY2x1c3Rlcl8uLi4uLi4uIj48cGF0aCBkPSJNOC41LDQzLjI5NjkgTDEwNy40OTk2LDQzLjI5NjkgQTMuNzUsMy43NSAwIDAgMSAxMDkuOTk5Niw0NS43OTY5IEwxMTYuOTk5Niw2NS41OTM4IEw0OTAuNSw2NS41OTM4IEEyLjUsMi41IDAgMCAxIDQ5Myw2OC4wOTM4IEw0OTMsNDQzLjM2NjkgQTIuNSwyLjUgMCAwIDEgNDkwLjUsNDQ1Ljg2NjkgTDguNSw0NDUuODY2OSBBMi41LDIuNSAwIDAgMSA2LDQ0My4zNjY5IEw2LDQ1Ljc5NjkgQTIuNSwyLjUgMCAwIDEgOC41LDQzLjI5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjYiIHgyPSIxMTYuOTk5NiIgeTE9IjY1LjU5MzgiIHkyPSI2NS41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjEwIiB5PSI1OC4yOTIiPiYjMjA0NjI7JiMyNzQ5MTsmIzIxMDY5OyYjNjUyODg7JiMzNTQ5MjsmIzEyNDI2OyYjNjUyODk7PC90ZXh0PjwvZz48IS0tY2x1c3RlciA/Pz8/Pz8/Py0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLWVudGl0eT0iLi4uLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjM1IiBkYXRhLXVpZD0iZW50MDAwOCIgaWQ9ImNsdXN0ZXJfLi4uLi4uLi4iPjxwYXRoIGQ9Ik01MTkuNSw0My4yOTY5IEw2MzIuNDk5NSw0My4yOTY5IEEzLjc1LDMuNzUgMCAwIDEgNjM0Ljk5OTUsNDUuNzk2OSBMNjQxLjk5OTUsNjUuNTkzOCBMMTAwMS41LDY1LjU5MzggQTIuNSwyLjUgMCAwIDEgMTAwNCw2OC4wOTM4IEwxMDA0LDQ0My4zNjY5IEEyLjUsMi41IDAgMCAxIDEwMDEuNSw0NDUuODY2OSBMNTE5LjUsNDQ1Ljg2NjkgQTIuNSwyLjUgMCAwIDEgNTE3LDQ0My4zNjY5IEw1MTcsNDUuNzk2OSBBMi41LDIuNSAwIDAgMSA1MTkuNSw0My4yOTY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI1MTciIHgyPSI2NDEuOTk5NSIgeTE9IjY1LjU5MzgiIHkyPSI2NS41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMS45OTk1IiB4PSI1MjEiIHk9IjU4LjI5MiI+JiMyMDQ2MjsmIzI3NDkxOyYjMjQ0NjA7JiM2NTI4ODsmIzI3NDkxOyYjMTIzNzU7JiMxMjM1NjsmIzY1Mjg5OzwvdGV4dD48L2c+PCEtLWNsYXNzIHByb2dyYW1zX3dyb25nLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9InByb2dyYW1zX3dyb25nIiBkYXRhLXNvdXJjZS1saW5lPSI1IiBkYXRhLXVpZD0iZW50MDAwMyIgaWQ9ImVudGl0eV9wcm9ncmFtc193cm9uZyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxNzguMzc1IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNzAuNjIxMSIgeD0iMTYzLjY5IiB5PSIyNTEuNDg2OSIvPjxlbGxpcHNlIGN4PSIyMTEuMDY5OSIgY3k9IjI2Ny40ODY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0yMTUuMTc5MywyNzMuNDg2OSBMMjA3LjQ2MDUsMjczLjQ4NjkgTDIwNy40NjA1LDI2MS4wOTYzIEwyMTUuMTc5MywyNjEuMDk2MyBMMjE1LjE3OTMsMjYzLjI1MjUgTDIwOS45MTM2LDI2My4yNTI1IEwyMDkuOTEzNiwyNjUuOTI0NCBMMjE0LjY3OTMsMjY1LjkyNDQgTDIxNC42NzkzLDI2OC4wODA2IEwyMDkuOTEzNiwyNjguMDgwNiBMMjA5LjkxMzYsMjcxLjMzMDYgTDIxNS4xNzkzLDI3MS4zMzA2IEwyMTUuMTc5MywyNzMuNDg2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY3LjM2MTMiIHg9IjIzMS41Njk5IiB5PSIyNzIuMzMzNiI+cHJvZ3JhbXM8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTY0LjY5IiB4Mj0iMzMzLjMxMTEiIHkxPSIyODMuNDg2OSIgeTI9IjI4My40ODY5Ii8+PGVsbGlwc2UgY3g9IjE3NC42OSIgY3k9IjI5Ny4xMzUzIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Mi4wNjQ1IiB4PSIxODMuNjkiIHk9IjMwMC40ODIiPmlkOiBpbnRlZ2VyPC90ZXh0PjxlbGxpcHNlIGN4PSIxNzQuNjkiIGN5PSIzMTMuNDMyMiIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODcuOTY0OCIgeD0iMTgzLjY5IiB5PSIzMTYuNzc4OSI+ZW1haWw6IHN0cmluZzwvdGV4dD48ZWxsaXBzZSBjeD0iMTc0LjY5IiBjeT0iMzI5LjcyOTEiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzOS4yNjg2IiB4PSIxODMuNjkiIHk9IjMzMy4wNzU3Ij5mYW1pbHlfbmFtZTogc3RyaW5nPC90ZXh0PjxlbGxpcHNlIGN4PSIxNzQuNjkiIGN5PSIzNDYuMDI1OSIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM0LjYwNjQiIHg9IjE4My42OSIgeT0iMzQ5LjM3MjYiPmdpdmVuX25hbWU6IHN0cmluZzwvdGV4dD48ZWxsaXBzZSBjeD0iMTc0LjY5IiBjeT0iMzYyLjMyMjgiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMC40MTYiIHg9IjE4My42OSIgeT0iMzY1LjY2OTUiPmJpcnRoX3llYXI6IGludGVnZXI8L3RleHQ+PGVsbGlwc2UgY3g9IjE3NC42OSIgY3k9IjM3OC42MTk3IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDQuNjIxMSIgeD0iMTgzLjY5IiB5PSIzODEuOTY2NCI+YmlydGhfbW9udGg6IGludGVnZXI8L3RleHQ+PGVsbGlwc2UgY3g9IjE3NC42OSIgY3k9IjM5NC45MTY2IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzguNTcxMyIgeD0iMTgzLjY5IiB5PSIzOTguMjYzMiI+YmlydGhfbWRheTogaW50ZWdlcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMy4zNTA2IiB4PSIxODMuNjkiIHk9IjQxNC41NjAxIj4uLi48L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTY0LjY5IiB4Mj0iMzMzLjMxMTEiIHkxPSI0MjEuODYxOSIgeTI9IjQyMS44NjE5Ii8+PC9nPjwhLS1jbGFzcyBhZGRyZXNzZXNfd3JvbmctLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iYWRkcmVzc2VzX3dyb25nIiBkYXRhLXNvdXJjZS1saW5lPSIxNiIgZGF0YS11aWQ9ImVudDAwMDQiIGlkPSJlbnRpdHlfYWRkcmVzc2VzX3dyb25nIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjExMy4xODc1IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyMDkuODA0NyIgeD0iMjIuMSIgeT0iNzguMjk2OSIvPjxlbGxpcHNlIGN4PSI4Ny4xNDM5IiBjeT0iOTQuMjk2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNOTEuMjUzMywxMDAuMjk2OSBMODMuNTM0NiwxMDAuMjk2OSBMODMuNTM0Niw4Ny45MDYzIEw5MS4yNTMzLDg3LjkwNjMgTDkxLjI1MzMsOTAuMDYyNSBMODUuOTg3Nyw5MC4wNjI1IEw4NS45ODc3LDkyLjczNDQgTDkwLjc1MzMsOTIuNzM0NCBMOTAuNzUzMyw5NC44OTA2IEw4NS45ODc3LDk0Ljg5MDYgTDg1Ljk4NzcsOTguMTQwNiBMOTEuMjUzMyw5OC4xNDA2IEw5MS4yNTMzLDEwMC4yOTY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzEuMjE2OCIgeD0iMTA3LjY0MzkiIHk9Ijk5LjE0MzYiPmFkZHJlc3NlczwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyMy4xIiB4Mj0iMjMwLjkwNDciIHkxPSIxMTAuMjk2OSIgeTI9IjExMC4yOTY5Ii8+PGVsbGlwc2UgY3g9IjMzLjEiIGN5PSIxMjMuOTQ1MyIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIuMDY0NSIgeD0iNDIuMSIgeT0iMTI3LjI5MiI+aWQ6IGludGVnZXI8L3RleHQ+PGVsbGlwc2UgY3g9IjMzLjEiIGN5PSIxNDAuMjQyMiIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgzLjgwNDciIHg9IjQyLjEiIHk9IjE0My41ODg5Ij5jdXN0b21lcl9pZDogaW50ZWdlciAmIzE3MTtGSyYjMTg3OzwvdGV4dD48ZWxsaXBzZSBjeD0iMzMuMSIgY3k9IjE1Ni41MzkxIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzIuODIyMyIgeD0iNDIuMSIgeT0iMTU5Ljg4NTciPnBvc3RhbF9jb2RlOiBzdHJpbmc8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMuMzUwNiIgeD0iNDIuMSIgeT0iMTc2LjE4MjYiPi4uLjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyMy4xIiB4Mj0iMjMwLjkwNDciIHkxPSIxODMuNDg0NCIgeTI9IjE4My40ODQ0Ii8+PC9nPjwhLS1jbGFzcyBwaG9uZXNfd3JvbmctLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0icGhvbmVzX3dyb25nIiBkYXRhLXNvdXJjZS1saW5lPSIyMyIgZGF0YS11aWQ9ImVudDAwMDUiIGlkPSJlbnRpdHlfcGhvbmVzX3dyb25nIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjExMy4xODc1IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyMDkuODA0NyIgeD0iMjY3LjEiIHk9Ijc4LjI5NjkiLz48ZWxsaXBzZSBjeD0iMzQyLjE5OTYiIGN5PSI5NC4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0zNDYuMzA5LDEwMC4yOTY5IEwzMzguNTkwMiwxMDAuMjk2OSBMMzM4LjU5MDIsODcuOTA2MyBMMzQ2LjMwOSw4Ny45MDYzIEwzNDYuMzA5LDkwLjA2MjUgTDM0MS4wNDM0LDkwLjA2MjUgTDM0MS4wNDM0LDkyLjczNDQgTDM0NS44MDksOTIuNzM0NCBMMzQ1LjgwOSw5NC44OTA2IEwzNDEuMDQzNCw5NC44OTA2IEwzNDEuMDQzNCw5OC4xNDA2IEwzNDYuMzA5LDk4LjE0MDYgTDM0Ni4zMDksMTAwLjI5NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MS4xMDU1IiB4PSIzNjIuNjk5NiIgeT0iOTkuMTQzNiI+cGhvbmVzPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI2OC4xIiB4Mj0iNDc1LjkwNDciIHkxPSIxMTAuMjk2OSIgeTI9IjExMC4yOTY5Ii8+PGVsbGlwc2UgY3g9IjI3OC4xIiBjeT0iMTIzLjk0NTMiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcyLjA2NDUiIHg9IjI4Ny4xIiB5PSIxMjcuMjkyIj5pZDogaW50ZWdlcjwvdGV4dD48ZWxsaXBzZSBjeD0iMjc4LjEiIGN5PSIxNDAuMjQyMiIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgzLjgwNDciIHg9IjI4Ny4xIiB5PSIxNDMuNTg4OSI+Y3VzdG9tZXJfaWQ6IGludGVnZXIgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PGVsbGlwc2UgY3g9IjI3OC4xIiBjeT0iMTU2LjUzOTEiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMy45OTUxIiB4PSIyODcuMSIgeT0iMTU5Ljg4NTciPm51bWJlcjogc3RyaW5nPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzLjM1MDYiIHg9IjI4Ny4xIiB5PSIxNzYuMTgyNiI+Li4uPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI2OC4xIiB4Mj0iNDc1LjkwNDciIHkxPSIxODMuNDg0NCIgeTI9IjE4My40ODQ0Ii8+PC9nPjwhLS1jbGFzcyBjdXN0b21lcnMtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iY3VzdG9tZXJzIiBkYXRhLXNvdXJjZS1saW5lPSIzNiIgZGF0YS11aWQ9ImVudDAwMDkiIGlkPSJlbnRpdHlfY3VzdG9tZXJzIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE3OC4zNzUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE3MC42MjExIiB4PSI2NzQuNjkiIHk9IjI1MS40ODY5Ii8+PGVsbGlwc2UgY3g9IjcxOS4xNDA3IiBjeT0iMjY3LjQ4NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTcyMy4yNTAxLDI3My40ODY5IEw3MTUuNTMxMywyNzMuNDg2OSBMNzE1LjUzMTMsMjYxLjA5NjMgTDcyMy4yNTAxLDI2MS4wOTYzIEw3MjMuMjUwMSwyNjMuMjUyNSBMNzE3Ljk4NDQsMjYzLjI1MjUgTDcxNy45ODQ0LDI2NS45MjQ0IEw3MjIuNzUwMSwyNjUuOTI0NCBMNzIyLjc1MDEsMjY4LjA4MDYgTDcxNy45ODQ0LDI2OC4wODA2IEw3MTcuOTg0NCwyNzEuMzMwNiBMNzIzLjI1MDEsMjcxLjMzMDYgTDcyMy4yNTAxLDI3My40ODY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzMuMjE5NyIgeD0iNzM5LjY0MDciIHk9IjI3Mi4zMzM2Ij5jdXN0b21lcnM8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNjc1LjY5IiB4Mj0iODQ0LjMxMTEiIHkxPSIyODMuNDg2OSIgeTI9IjI4My40ODY5Ii8+PGVsbGlwc2UgY3g9IjY4NS42OSIgY3k9IjI5Ny4xMzUzIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Mi4wNjQ1IiB4PSI2OTQuNjkiIHk9IjMwMC40ODIiPmlkOiBpbnRlZ2VyPC90ZXh0PjxlbGxpcHNlIGN4PSI2ODUuNjkiIGN5PSIzMTMuNDMyMiIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODcuOTY0OCIgeD0iNjk0LjY5IiB5PSIzMTYuNzc4OSI+ZW1haWw6IHN0cmluZzwvdGV4dD48ZWxsaXBzZSBjeD0iNjg1LjY5IiBjeT0iMzI5LjcyOTEiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzOS4yNjg2IiB4PSI2OTQuNjkiIHk9IjMzMy4wNzU3Ij5mYW1pbHlfbmFtZTogc3RyaW5nPC90ZXh0PjxlbGxpcHNlIGN4PSI2ODUuNjkiIGN5PSIzNDYuMDI1OSIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM0LjYwNjQiIHg9IjY5NC42OSIgeT0iMzQ5LjM3MjYiPmdpdmVuX25hbWU6IHN0cmluZzwvdGV4dD48ZWxsaXBzZSBjeD0iNjg1LjY5IiBjeT0iMzYyLjMyMjgiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMC40MTYiIHg9IjY5NC42OSIgeT0iMzY1LjY2OTUiPmJpcnRoX3llYXI6IGludGVnZXI8L3RleHQ+PGVsbGlwc2UgY3g9IjY4NS42OSIgY3k9IjM3OC42MTk3IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDQuNjIxMSIgeD0iNjk0LjY5IiB5PSIzODEuOTY2NCI+YmlydGhfbW9udGg6IGludGVnZXI8L3RleHQ+PGVsbGlwc2UgY3g9IjY4NS42OSIgY3k9IjM5NC45MTY2IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzguNTcxMyIgeD0iNjk0LjY5IiB5PSIzOTguMjYzMiI+YmlydGhfbWRheTogaW50ZWdlcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMy4zNTA2IiB4PSI2OTQuNjkiIHk9IjQxNC41NjAxIj4uLi48L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNjc1LjY5IiB4Mj0iODQ0LjMxMTEiIHkxPSI0MjEuODYxOSIgeTI9IjQyMS44NjE5Ii8+PC9nPjwhLS1jbGFzcyBhZGRyZXNzZXMtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iYWRkcmVzc2VzIiBkYXRhLXNvdXJjZS1saW5lPSI0NyIgZGF0YS11aWQ9ImVudDAwMTAiIGlkPSJlbnRpdHlfYWRkcmVzc2VzIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjExMy4xODc1IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyMDkuODA0NyIgeD0iNTMzLjEiIHk9Ijc4LjI5NjkiLz48ZWxsaXBzZSBjeD0iNTk4LjE0MzkiIGN5PSI5NC4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik02MDIuMjUzMywxMDAuMjk2OSBMNTk0LjUzNDYsMTAwLjI5NjkgTDU5NC41MzQ2LDg3LjkwNjMgTDYwMi4yNTMzLDg3LjkwNjMgTDYwMi4yNTMzLDkwLjA2MjUgTDU5Ni45ODc3LDkwLjA2MjUgTDU5Ni45ODc3LDkyLjczNDQgTDYwMS43NTMzLDkyLjczNDQgTDYwMS43NTMzLDk0Ljg5MDYgTDU5Ni45ODc3LDk0Ljg5MDYgTDU5Ni45ODc3LDk4LjE0MDYgTDYwMi4yNTMzLDk4LjE0MDYgTDYwMi4yNTMzLDEwMC4yOTY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzEuMjE2OCIgeD0iNjE4LjY0MzkiIHk9Ijk5LjE0MzYiPmFkZHJlc3NlczwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI1MzQuMSIgeDI9Ijc0MS45MDQ3IiB5MT0iMTEwLjI5NjkiIHkyPSIxMTAuMjk2OSIvPjxlbGxpcHNlIGN4PSI1NDQuMSIgY3k9IjEyMy45NDUzIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Mi4wNjQ1IiB4PSI1NTMuMSIgeT0iMTI3LjI5MiI+aWQ6IGludGVnZXI8L3RleHQ+PGVsbGlwc2UgY3g9IjU0NC4xIiBjeT0iMTQwLjI0MjIiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4My44MDQ3IiB4PSI1NTMuMSIgeT0iMTQzLjU4ODkiPmN1c3RvbWVyX2lkOiBpbnRlZ2VyICYjMTcxO0ZLJiMxODc7PC90ZXh0PjxlbGxpcHNlIGN4PSI1NDQuMSIgY3k9IjE1Ni41MzkxIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzIuODIyMyIgeD0iNTUzLjEiIHk9IjE1OS44ODU3Ij5wb3N0YWxfY29kZTogc3RyaW5nPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzLjM1MDYiIHg9IjU1My4xIiB5PSIxNzYuMTgyNiI+Li4uPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjUzNC4xIiB4Mj0iNzQxLjkwNDciIHkxPSIxODMuNDg0NCIgeTI9IjE4My40ODQ0Ii8+PC9nPjwhLS1jbGFzcyBwaG9uZXMtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0icGhvbmVzIiBkYXRhLXNvdXJjZS1saW5lPSI1NCIgZGF0YS11aWQ9ImVudDAwMTEiIGlkPSJlbnRpdHlfcGhvbmVzIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjExMy4xODc1IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyMDkuODA0NyIgeD0iNzc4LjEiIHk9Ijc4LjI5NjkiLz48ZWxsaXBzZSBjeD0iODUzLjE5OTYiIGN5PSI5NC4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik04NTcuMzA5LDEwMC4yOTY5IEw4NDkuNTkwMiwxMDAuMjk2OSBMODQ5LjU5MDIsODcuOTA2MyBMODU3LjMwOSw4Ny45MDYzIEw4NTcuMzA5LDkwLjA2MjUgTDg1Mi4wNDM0LDkwLjA2MjUgTDg1Mi4wNDM0LDkyLjczNDQgTDg1Ni44MDksOTIuNzM0NCBMODU2LjgwOSw5NC44OTA2IEw4NTIuMDQzNCw5NC44OTA2IEw4NTIuMDQzNCw5OC4xNDA2IEw4NTcuMzA5LDk4LjE0MDYgTDg1Ny4zMDksMTAwLjI5NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MS4xMDU1IiB4PSI4NzMuNjk5NiIgeT0iOTkuMTQzNiI+cGhvbmVzPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9Ijc3OS4xIiB4Mj0iOTg2LjkwNDciIHkxPSIxMTAuMjk2OSIgeTI9IjExMC4yOTY5Ii8+PGVsbGlwc2UgY3g9Ijc4OS4xIiBjeT0iMTIzLjk0NTMiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcyLjA2NDUiIHg9Ijc5OC4xIiB5PSIxMjcuMjkyIj5pZDogaW50ZWdlcjwvdGV4dD48ZWxsaXBzZSBjeD0iNzg5LjEiIGN5PSIxNDAuMjQyMiIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgzLjgwNDciIHg9Ijc5OC4xIiB5PSIxNDMuNTg4OSI+Y3VzdG9tZXJfaWQ6IGludGVnZXIgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PGVsbGlwc2UgY3g9Ijc4OS4xIiBjeT0iMTU2LjUzOTEiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMy45OTUxIiB4PSI3OTguMSIgeT0iMTU5Ljg4NTciPm51bWJlcjogc3RyaW5nPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzLjM1MDYiIHg9Ijc5OC4xIiB5PSIxNzYuMTgyNiI+Li4uPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9Ijc3OS4xIiB4Mj0iOTg2LjkwNDciIHkxPSIxODMuNDg0NCIgeTI9IjE4My40ODQ0Ii8+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJHTU4xNCIgZGF0YS1zb3VyY2UtbGluZT0iNjYiIGRhdGEtdWlkPSJlbnQwMDE1IiBpZD0iZW50aXR5X0dNTjE0Ij48cGF0aCBkPSJNNjYuOTksNDg5Ljg2NjkgTDY2Ljk5LDUxNC45OTk3IEEwLDAgMCAwIDAgNjYuOTksNTE0Ljk5OTcgTDQzMS4wMTEyLDUxNC45OTk3IEEwLDAgMCAwIDAgNDMxLjAxMTIsNTE0Ljk5OTcgTDQzMS4wMTEyLDQ5OS44NjY5IEw0MjEuMDExMiw0ODkuODY2OSBMMjUzLDQ4OS44NjY5IEwyNDksNDI5Ljk2NjkgTDI0NSw0ODkuODY2OSBMNjYuOTksNDg5Ljg2NjkgQTAsMCAwIDAgMCA2Ni45OSw0ODkuODY2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTQyMS4wMTEyLDQ4OS44NjY5IEw0MjEuMDExMiw0OTkuODY2OSBMNDMxLjAxMTIsNDk5Ljg2NjkgTDQyMS4wMTEyLDQ4OS44NjY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDMuMDIxMiIgeD0iNzIuOTkiIHk9IjUwNi45MzM4Ij4mIzM1NDkyOyYjMTI0MjY7OiAmIzM5MDE1OyYjMjM0NTg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7JiMxMjM2NDsicHJvZ3JhbXMiJiMxMjQ4NjsmIzEyNTQwOyYjMTI1MDI7JiMxMjUyMzsmIzEyMzk1OyYjMjY2ODQ7JiMzMjAxMzsmIzEyMzczOyYjMTI0Mjg7JiMxMjM5MDsmIzEyMzU2OyYjMTIzODM7PC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iR01OMTciIGRhdGEtc291cmNlLWxpbmU9IjcwIiBkYXRhLXVpZD0iZW50MDAxOCIgaWQ9ImVudGl0eV9HTU4xNyI+PHBhdGggZD0iTTU4OC4yNyw0ODkuODY2OSBMNTg4LjI3LDUxNC45OTk3IEEwLDAgMCAwIDAgNTg4LjI3LDUxNC45OTk3IEw5MzEuNzMxMSw1MTQuOTk5NyBBMCwwIDAgMCAwIDkzMS43MzExLDUxNC45OTk3IEw5MzEuNzMxMSw0OTkuODY2OSBMOTIxLjczMTEsNDg5Ljg2NjkgTDc2NCw0ODkuODY2OSBMNzYwLDQyOS45NjY5IEw3NTYsNDg5Ljg2NjkgTDU4OC4yNyw0ODkuODY2OSBBMCwwIDAgMCAwIDU4OC4yNyw0ODkuODY2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTkyMS43MzExLDQ4OS44NjY5IEw5MjEuNzMxMSw0OTkuODY2OSBMOTMxLjczMTEsNDk5Ljg2NjkgTDkyMS43MzExLDQ4OS44NjY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMjIuNDYxMSIgeD0iNTk0LjI3IiB5PSI1MDYuOTMzOCI+JiMyMDQ2MjsmIzI3NDkxOzogJiMzOTAxNTsmIzIzNDU4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyYjMTI0MzQ7JiMyNzQ5MTsmIzEyMzc1OyYjMTIzNjc7ImN1c3RvbWVycyImIzEyNDg2OyYjMTI1NDA7JiMxMjUwMjsmIzEyNTIzOyYjMTIzOTU7JiMyNjY4NDsmIzMyMDEzOzwvdGV4dD48L2c+PCEtLWxpbmsgYWRkcmVzc2VzX3dyb25nIHRvIHByb2dyYW1zX3dyb25nLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImFkZHJlc3Nlc193cm9uZyIgZGF0YS1lbnRpdHktMj0icHJvZ3JhbXNfd3JvbmciIGRhdGEtc291cmNlLWxpbmU9IjMwIiBkYXRhLXVpZD0ibG5rNiIgaWQ9ImxpbmtfYWRkcmVzc2VzX3dyb25nX3Byb2dyYW1zX3dyb25nIj48cGF0aCBjb2RlTGluZT0iMzAiIGQ9Ik0xNjQuNjA4MywxOTguNzExNCBDMTc1LjYwODMsMjE3LjA5MTQgMTc5LjkxMSwyMjQuMjcyNyAxOTEuOTkxLDI0NC40NTI3IiBmaWxsPSJub25lIiBpZD0iYWRkcmVzc2VzX3dyb25nLXByb2dyYW1zX3dyb25nIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE2NC42MDgzIiB4Mj0iMTU1LjM1MTYiIHkxPSIxOTguNzExNCIgeTI9IjE5NC45MjgxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE2NC42MDgzIiB4Mj0iMTY1LjY0ODQiIHkxPSIxOTguNzExNCIgeTI9IjE4OC43NjU3Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE2NC42MDgzIiB4Mj0iMTYwLjUiIHkxPSIxOTguNzExNCIgeTI9IjE5MS44NDY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE2Mi4yMDMxIiB4Mj0iMTY5LjA2NzYiIHkxPSIyMDIuNDgxNyIgeTI9IjE5OC4zNzM0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5Ny40Nzc2IiB4Mj0iMTkwLjYxMzQiIHkxPSIyNDUuODMwMyIgeTI9IjI0OS45MzkzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5NS45MzY3IiB4Mj0iMTg5LjA3MjYiIHkxPSIyNDMuMjU2MyIgeTI9IjI0Ny4zNjUyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5MS45OTEiIHgyPSIxOTYuMSIgeTE9IjI0NC40NTI3IiB5Mj0iMjUxLjMxNjkiLz48L2c+PCEtLWxpbmsgcGhvbmVzX3dyb25nIHRvIHByb2dyYW1zX3dyb25nLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9InBob25lc193cm9uZyIgZGF0YS1lbnRpdHktMj0icHJvZ3JhbXNfd3JvbmciIGRhdGEtc291cmNlLWxpbmU9IjMxIiBkYXRhLXVpZD0ibG5rNyIgaWQ9ImxpbmtfcGhvbmVzX3dyb25nX3Byb2dyYW1zX3dyb25nIj48cGF0aCBjb2RlTGluZT0iMzEiIGQ9Ik0zMzQuMDk0MywxOTguNjk1IEMzMjIuOTk0MywyMTcuMDc1IDMxOC42NTY0LDIyNC4yODkyIDMwNi40NjY0LDI0NC40NjkyIiBmaWxsPSJub25lIiBpZD0icGhvbmVzX3dyb25nLXByb2dyYW1zX3dyb25nIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMzNC4wOTQzIiB4Mj0iMzMzLjA5MzkiIHkxPSIxOTguNjk1IiB5Mj0iMTg4Ljc0NTEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzM0LjA5NDMiIHgyPSIzNDMuMzY2MSIgeTE9IjE5OC42OTUiIHkyPSIxOTQuOTQ4NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMzQuMDk0MyIgeDI9IjMzOC4yMyIgeTE9IjE5OC42OTUiIHkyPSIxOTEuODQ2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMjkuNjM2NCIgeDI9IjMzNi40ODQ0IiB5MT0iMTk4LjMzOTEiIHkyPSIyMDIuNDc0OCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMDcuODIyIiB4Mj0iMzAwLjk3NDQiIHkxPSIyNDkuOTYxMyIgeTI9IjI0NS44MjQ5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMwOS4zNzMyIiB4Mj0iMzAyLjUyNTUiIHkxPSIyNDcuMzkzNCIgeTI9IjI0My4yNTciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzA2LjQ2NjQiIHgyPSIzMDIuMzMiIHkxPSIyNDQuNDY5MiIgeTI9IjI1MS4zMTY5Ii8+PC9nPjwhLS1saW5rIGFkZHJlc3NlcyB0byBjdXN0b21lcnMtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iYWRkcmVzc2VzIiBkYXRhLWVudGl0eS0yPSJjdXN0b21lcnMiIGRhdGEtc291cmNlLWxpbmU9IjYxIiBkYXRhLXVpZD0ibG5rMTIiIGlkPSJsaW5rX2FkZHJlc3Nlc19jdXN0b21lcnMiPjxwYXRoIGNvZGVMaW5lPSI2MSIgZD0iTTY3NS42MDgzLDE5OC43MTE0IEM2ODYuNjA4MywyMTcuMDkxNCA2OTAuOTExLDIyNC4yNzI3IDcwMi45OTEsMjQ0LjQ1MjciIGZpbGw9Im5vbmUiIGlkPSJhZGRyZXNzZXMtY3VzdG9tZXJzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY3NS42MDgzIiB4Mj0iNjY2LjM1MTYiIHkxPSIxOTguNzExNCIgeTI9IjE5NC45MjgxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY3NS42MDgzIiB4Mj0iNjc2LjY0ODQiIHkxPSIxOTguNzExNCIgeTI9IjE4OC43NjU3Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY3NS42MDgzIiB4Mj0iNjcxLjUiIHkxPSIxOTguNzExNCIgeTI9IjE5MS44NDY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY3My4yMDMxIiB4Mj0iNjgwLjA2NzYiIHkxPSIyMDIuNDgxNyIgeTI9IjE5OC4zNzM0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjcwOC40Nzc2IiB4Mj0iNzAxLjYxMzQiIHkxPSIyNDUuODMwMyIgeTI9IjI0OS45MzkzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjcwNi45MzY3IiB4Mj0iNzAwLjA3MjYiIHkxPSIyNDMuMjU2MyIgeTI9IjI0Ny4zNjUyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjcwMi45OTEiIHgyPSI3MDcuMSIgeTE9IjI0NC40NTI3IiB5Mj0iMjUxLjMxNjkiLz48L2c+PCEtLWxpbmsgcGhvbmVzIHRvIGN1c3RvbWVycy0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJwaG9uZXMiIGRhdGEtZW50aXR5LTI9ImN1c3RvbWVycyIgZGF0YS1zb3VyY2UtbGluZT0iNjIiIGRhdGEtdWlkPSJsbmsxMyIgaWQ9ImxpbmtfcGhvbmVzX2N1c3RvbWVycyI+PHBhdGggY29kZUxpbmU9IjYyIiBkPSJNODQ1LjA5NDMsMTk4LjY5NSBDODMzLjk5NDMsMjE3LjA3NSA4MjkuNjU2NCwyMjQuMjg5MiA4MTcuNDY2NCwyNDQuNDY5MiIgZmlsbD0ibm9uZSIgaWQ9InBob25lcy1jdXN0b21lcnMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iODQ1LjA5NDMiIHgyPSI4NDQuMDkzOSIgeTE9IjE5OC42OTUiIHkyPSIxODguNzQ1MSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI4NDUuMDk0MyIgeDI9Ijg1NC4zNjYxIiB5MT0iMTk4LjY5NSIgeTI9IjE5NC45NDg2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijg0NS4wOTQzIiB4Mj0iODQ5LjIzIiB5MT0iMTk4LjY5NSIgeTI9IjE5MS44NDY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijg0MC42MzY0IiB4Mj0iODQ3LjQ4NDQiIHkxPSIxOTguMzM5MSIgeTI9IjIwMi40NzQ4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjgxOC44MjIiIHgyPSI4MTEuOTc0NCIgeTE9IjI0OS45NjEzIiB5Mj0iMjQ1LjgyNDkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iODIwLjM3MzIiIHgyPSI4MTMuNTI1NSIgeTE9IjI0Ny4zOTM0IiB5Mj0iMjQzLjI1NyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI4MTcuNDY2NCIgeDI9IjgxMy4zMyIgeTE9IjI0NC40NjkyIiB5Mj0iMjUxLjMxNjkiLz48L2c+PCEtLVNSQz1bckxKMUppOTA0QnR0QXBRemM5WjAxbjMycU9pVnFJbnFBSGxmQmpha2NhUDhCM0tBWVo0bktVRDk1MkQ0MFlTbDlXRy1QV05YbjItdU02WGhXT2xIV3hVUHJ6YnpDdHJsWHNFVUhxMnVmeUJqWXlmR2s3VFZtVGthdFBzcWd5QmZsR3p4dXN2SktSUTA1dXJnNW5BVGwzbTlmb2NTLXQ3aFY3aEtLMGVtaW1TRDE1SV9RRFFscGVpZ1B4RC1KR003Mlk4U1Nua2UxS09EMWFyQjFUMDJvcUd4TzlHT2ljZVJPM3ExQ0U3OEc0bmNvOEd1ZG0wTVB2V09DaXoyNC1UalpLMEpYTDAzeG9DSTFURU95UG5jOHlaMjV0Z2VJR2RGaE81clEwVGVGMXZOb2VoVkVESHJYWW1CVVB0eHNTUk1DcU1CS25DbkJHSTNQNzlkRHZNSU5tbEt1WjJsUFFXVXoxbVhCRUdlTVIxdnVHLWZJRDVDOG5QYllHdkdCaUxZZkw5NDRVS1J5VmdJU2lXUld4aHFYV280U29rU3VtdFU2REliRF9vWVkzc01lclpnbHQ3MzdxaF9vcjhsNVZIX3lhQlZMTG9VOGZHWmFBUFM4ZTFjZXdmeFJwaTFmVy1qS1V5bnMxekVGTlpYbVpzUGUtd0RTM2wyd09tUl9Pek5rSm9rSEtOUXY1YmdCX1U3NzVhN1N3ZUxtZzBQcHBVaE45TWhmT2lrR3h2UG8taEpWMDgwXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h2 id="aaaa913-">コミット: aaaa913 - プログラム管理機能の追加<a class="headerlink" href="#aaaa913-" title="Permanent link">&para;</a></h2>
<h3 id="_17">概要<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h3>
<p>職員向けトップページのお知らせセクションに、プログラム管理機能が追加されたことを通知するエントリを追加しました。これにより、システムユーザーに新機能の追加を知らせることができます。</p>
<h3 id="_18">技術的詳細<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<ul>
<li>職員向けトップページのお知らせリストに新しいエントリを追加</li>
<li>新しいエントリには日付（2017-2-16）とメッセージ（プログラム管理機能を追加）を含む</li>
</ul>
<h3 id="_19">変更されたファイル<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/views/staff/top/index.html.erb</li>
</ul>
<h3 id="_20">変更内容<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit aaaa9133ff99415fd9a43cf930adb44df5ca00e4
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Thu Feb 16 16:24:51 2017 +0900

<span class="w"> </span>   プログラム管理機能

<span class="gh">diff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb</span>
<span class="gh">index 4adfc9f..877666a 100644</span>
<span class="gd">--- a/app/views/staff/top/index.html.erb</span>
<span class="gi">+++ b/app/views/staff/top/index.html.erb</span>
<span class="gu">@@ -8,6 +8,10 @@</span>
<span class="w"> </span>    &lt;h2 class=&quot;sectionLabel&quot;&gt;お知らせ&lt;/h2&gt;
<span class="w"> </span>  &lt;/div&gt;
<span class="w"> </span>  &lt;ol class=&quot;NewsList&quot;&gt;
<span class="gi">+    &lt;li class=&quot;NewsList__item&quot;&gt;</span>
<span class="gi">+      &lt;time class=&quot;NewsList__head&quot; datatime=&quot;2017-2-16&quot;&gt;2017.2.16&lt;/time&gt;</span>
<span class="gi">+      &lt;span class=&quot;NewsList__body&quot;&gt;プログラム管理機能を追加&lt;/span&gt;</span>
<span class="gi">+    &lt;/li&gt;</span>
<span class="w"> </span>    &lt;li class=&quot;NewsList__item&quot;&gt;
<span class="w"> </span>      &lt;time class=&quot;NewsList__head&quot; datatime=&quot;2017-2-7&quot;&gt;2017.2.7&lt;/time&gt;
<span class="w"> </span>      &lt;span class=&quot;NewsList__body&quot;&gt;顧客検索機能を追加&lt;/span&gt;
</code></pre></div>
<h3 id="_21">構造変更<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjM1M3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6OTU1cHg7aGVpZ2h0OjM1M3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDk1NSAzNTMiIHdpZHRoPSI5NTVweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzI4ODc7JiMyMTcyOTsmIzEyNDg4OyYjMTI0ODM7JiMxMjUwMzsmIzEyNTA2OyYjMTI1NDA7JiMxMjQ3MjsmIzEyMzk4OyYjMTIzNjI7JiMzMDY5MzsmIzEyNDI1OyYjMTIzNzk7JiMyNjM1NjsmIzI2MDMyOzwvdGl0bGU+PGRlZnMvPjxnPjxnIGNsYXNzPSJ0aXRsZSIgZGF0YS1zb3VyY2UtbGluZT0iMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIwOS45OTkxIiB4PSIzNjUuODQ1NiIgeT0iMjIuOTk1MSI+JiMzMjg4NzsmIzIxNzI5OyYjMTI0ODg7JiMxMjQ4MzsmIzEyNTAzOyYjMTI1MDY7JiMxMjU0MDsmIzEyNDcyOyYjMTIzOTg7JiMxMjM2MjsmIzMwNjkzOyYjMTI0MjU7JiMxMjM3OTsmIzI2MzU2OyYjMjYwMzI7PC90ZXh0PjwvZz48IS0tY2x1c3RlciA/Pz8/Pz8/LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtZW50aXR5PSIuLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIxNCIgZGF0YS11aWQ9ImVudDAwMDgiIGlkPSJjbHVzdGVyXy4uLi4uLi4iPjxwYXRoIGQ9Ik04LjUsMTc0LjA5NjkgTDEwNy40OTk2LDE3NC4wOTY5IEEzLjc1LDMuNzUgMCAwIDEgMTA5Ljk5OTYsMTc2LjU5NjkgTDExNi45OTk2LDE5Ni4zOTM3IEw1OTEuNSwxOTYuMzkzNyBBMi41LDIuNSAwIDAgMSA1OTQsMTk4Ljg5MzcgTDU5NCwzNDQuMTg2OSBBMi41LDIuNSAwIDAgMSA1OTEuNSwzNDYuNjg2OSBMOC41LDM0Ni42ODY5IEEyLjUsMi41IDAgMCAxIDYsMzQ0LjE4NjkgTDYsMTc2LjU5NjkgQTIuNSwyLjUgMCAwIDEgOC41LDE3NC4wOTY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI2IiB4Mj0iMTE2Ljk5OTYiIHkxPSIxOTYuMzkzNyIgeTI9IjE5Ni4zOTM3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjEwIiB5PSIxODkuMDkyIj4mIzEyMzYyOyYjMzA2OTM7JiMxMjQyNTsmIzEyMzc5OyYjMTI1MjI7JiMxMjQ3MzsmIzEyNDg4OzwvdGV4dD48L2c+PCEtLWVudGl0eSAyMDE3LjIuMTY6ID8/Pz8/Pz8/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSIyMDE3LjIuMTYuIC4uLi4uLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMTUiIGRhdGEtdWlkPSJlbnQwMDA5IiBpZD0iZW50aXR5XzIwMTcuMi4xNi4gLi4uLi4uLi4uLi4uIj48cmVjdCBmaWxsPSIjOTBFRTkwIiBoZWlnaHQ9IjIyLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjI2OC40MTcyIiB4PSIyOS43OSIgeT0iMjE3LjA5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNDguNDE3MiIgeD0iMzkuNzkiIHk9IjIzMy4wOTIiPjIwMTcuMi4xNjogJiMxMjUwMzsmIzEyNTI1OyYjMTI0NjQ7JiMxMjUyMTsmIzEyNTEyOyYjMzE2NDk7JiMyOTcwMjsmIzI3MjMxOyYjMzMwMjE7JiMxMjQzNDsmIzM2ODYxOyYjMjExNTI7PC90ZXh0PjwvZz48IS0tZW50aXR5IDIwMTcuMi43OiA/Pz8/Pz8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iMjAxNy4yLjcuIC4uLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMTYiIGRhdGEtdWlkPSJlbnQwMDEwIiBpZD0iZW50aXR5XzIwMTcuMi43LiAuLi4uLi4uLi4iPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjIuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjE3LjUxMDIiIHg9IjMzMy4yNCIgeT0iMjE3LjA5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTcuNTEwMiIgeD0iMzQzLjI0IiB5PSIyMzMuMDkyIj4yMDE3LjIuNzogJiMzOTAxNTsmIzIzNDU4OyYjMjY5MDg7JiMzMjAzNDsmIzI3MjMxOyYjMzMwMjE7JiMxMjQzNDsmIzM2ODYxOyYjMjExNTI7PC90ZXh0PjwvZz48IS0tZW50aXR5ID8/Pz8/Pz8/Pz8/Li4uLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9Ii4uLi4uLi4uLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIxNyIgZGF0YS11aWQ9ImVudDAwMTEiIGlkPSJlbnRpdHlfLi4uLi4uLi4uLi4uLi4iPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjIuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTg3LjM0OTkiIHg9IjcwLjMzIiB5PSIzMDAuMzg2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2Ny4zNDk5IiB4PSI4MC4zMyIgeT0iMzE2LjM4MiI+JiMxMjM4MTsmIzEyMzk4OyYjMjAxODI7JiMxMjM5ODsmIzM2OTQyOyYjMjE0MzU7JiMxMjM5ODsmIzEyMzYyOyYjMzA2OTM7JiMxMjQyNTsmIzEyMzc5Oy4uLjwvdGV4dD48L2c+PCEtLWVudGl0eSBTdGFmZi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJTdGFmZiIgZGF0YS1zb3VyY2UtbGluZT0iMyIgZGF0YS11aWQ9ImVudDAwMDIiIGlkPSJlbnRpdHlfU3RhZmYiPjxlbGxpcHNlIGN4PSI0NDEuOTk5OSIgY3k9IjUxLjI5NjkiIGZpbGw9IiNGMUYxRjEiIHJ4PSI4IiByeT0iOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTQ0MS45OTk5LDU5LjI5NjkgTDQ0MS45OTk5LDg2LjI5NjkgTTQyOC45OTk5LDY3LjI5NjkgTDQ1NC45OTk5LDY3LjI5NjkgTTQ0MS45OTk5LDg2LjI5NjkgTDQyOC45OTk5LDEwMS4yOTY5IE00NDEuOTk5OSw4Ni4yOTY5IEw0NTQuOTk5OSwxMDEuMjk2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcuOTk5OSIgeD0iNDI4IiB5PSIxMTUuNzkyIj4mIzMyODg3OyYjMjE3Mjk7PC90ZXh0PjwvZz48IS0tZW50aXR5IFRvcFBhZ2UtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iVG9wUGFnZSIgZGF0YS1zb3VyY2UtbGluZT0iNCIgZGF0YS11aWQ9ImVudDAwMDMiIGlkPSJlbnRpdHlfVG9wUGFnZSI+PHBhdGggZD0iTTU2NS40OTk4LDYwLjc5NjkgTDU2NS40OTk4LDg0Ljc5NjkgTTU2NS40OTk4LDcyLjc5NjkgTDU4Mi40OTk4LDcyLjc5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxlbGxpcHNlIGN4PSI1OTQuNDk5OCIgY3k9IjcyLjc5NjkiIGZpbGw9IiNGMUYxRjEiIHJ4PSIxMiIgcnk9IjEyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSI1NDQiIHk9IjEwMS43OTIiPiYjMTI0ODg7JiMxMjQ4MzsmIzEyNTAzOyYjMTI1MDY7JiMxMjU0MDsmIzEyNDcyOzwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkdNTjUiIGRhdGEtc291cmNlLWxpbmU9IjkiIGRhdGEtdWlkPSJlbnQwMDA2IiBpZD0iZW50aXR5X0dNTjUiPjxwYXRoIGQ9Ik02NjMuMzEsNTMuMjQ2OSBMNjYzLjMxLDc2Ljk0NjkgTDYyOC4xMSw4MC45NDY5IEw2NjMuMzEsODQuOTQ2OSBMNjYzLjMxLDEwOC42NDUzIEEwLDAgMCAwIDAgNjYzLjMxLDEwOC42NDUzIEw5NDguNjkwMiwxMDguNjQ1MyBBMCwwIDAgMCAwIDk0OC42OTAyLDEwOC42NDUzIEw5NDguNjkwMiw2My4yNDY5IEw5MzguNjkwMiw1My4yNDY5IEw2NjMuMzEsNTMuMjQ2OSBBMCwwIDAgMCAwIDY2My4zMSw1My4yNDY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNOTM4LjY5MDIsNTMuMjQ2OSBMOTM4LjY5MDIsNjMuMjQ2OSBMOTQ4LjY5MDIsNjMuMjQ2OSBMOTM4LjY5MDIsNTMuMjQ2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjY0LjM4MDIiIHg9IjY2OS4zMSIgeT0iNzAuMzEzOCI+JiMxMjM2MjsmIzMwNjkzOyYjMTI0MjU7JiMxMjM3OTsmIzEyNDc1OyYjMTI0NjM7JiMxMjQ3MTsmIzEyNTE5OyYjMTI1MzE7JiMxMjM5NTsmIzI2MDMyOyYjMTIzNzU7JiMxMjM1NjsmIzEyNDU2OyYjMTI1MzE7JiMxMjQ4ODsmIzEyNTIyOyYjMTI0MzQ7JiMzNjg2MTsmIzIxMTUyOzo8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA5LjQ5NzEiIHg9IjY2OS4zMSIgeT0iODUuNDQ2NiI+LSAmIzI2MDg1OyYjMjAxODQ7OiAyMDE3LjIuMTY8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTk5LjMzNTciIHg9IjY2OS4zMSIgeT0iMTAwLjU3OTQiPi0gJiMyMDg2OTsmIzIzNDgxOzogJiMxMjUwMzsmIzEyNTI1OyYjMTI0NjQ7JiMxMjUyMTsmIzEyNTEyOyYjMzE2NDk7JiMyOTcwMjsmIzI3MjMxOyYjMzMwMjE7JiMxMjQzNDsmIzM2ODYxOyYjMjExNTI7PC90ZXh0PjwvZz48IS0tbGluayBTdGFmZiB0byBUb3BQYWdlLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9IlN0YWZmIiBkYXRhLWVudGl0eS0yPSJUb3BQYWdlIiBkYXRhLXNvdXJjZS1saW5lPSI2IiBkYXRhLXVpZD0ibG5rNCIgaWQ9ImxpbmtfU3RhZmZfVG9wUGFnZSI+PHBhdGggZD0iTTQ1Ni4zMyw4MC45NDY5IEM0NzYuNTQsODAuOTQ2OSA1MDguMjIsODAuOTQ2OSA1MzcuNzgsODAuOTQ2OSIgZmlsbD0ibm9uZSIgaWQ9IlN0YWZmLXRvLVRvcFBhZ2UiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjU0My43OCw4MC45NDY5LDUzNC43OCw3Ni45NDY5LDUzOC43OCw4MC45NDY5LDUzNC43OCw4NC45NDY5LDU0My43OCw4MC45NDY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIuMDAwMSIgeD0iNDc0IiB5PSI3NC4wMTM4Ij4mIzEyNDUwOyYjMTI0NjM7JiMxMjQ3NTsmIzEyNDczOzwvdGV4dD48L2c+PCEtLWxpbmsgVG9wUGFnZSB0byA/Pz8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9IlRvcFBhZ2UiIGRhdGEtZW50aXR5LTI9Ii4uLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjIwIiBkYXRhLXVpZD0ibG5rMTIiIGlkPSJsaW5rX1RvcFBhZ2VfLi4uLi4uLiI+PHBhdGggZD0iTTU4NiwxMDUuMjg2OSBDNTg2LDExNS4zOTQ0IDU4NiwxMjcuOTEzMSA1ODYsMTQxLjA0NDIgQzU4NiwxNDcuNjA5OCA1ODYsMTU0LjMyODQgNTg2LDE2MC45NzUzIEM1ODYsMTY0LjI5ODcgNTg2LDE2Ny42MDQyIDU4NiwxNzAuODYzNiBDNTg2LDE3MS42Nzg1IDU4NiwxNzIuNDkwNCA1ODYsMTczLjI5OTEgQzU4NiwxNzMuNTAxMyA1ODYsMTkwLjAwMDEgNTg2LDE5MC4yMDE4IiBmaWxsPSJub25lIiBpZD0iVG9wUGFnZS10by0mIzEyMzYyOyYjMzA2OTM7JiMxMjQyNTsmIzEyMzc5OyYjMTI1MjI7JiMxMjQ3MzsmIzEyNDg4OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTg2LDE5Ni4yMDE4LDU5MCwxODcuMjAxOCw1ODYsMTkxLjIwMTgsNTgyLDE4Ny4yMDE4LDU4NiwxOTYuMjAxOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tU1JDPVtaUDdGSVc5SDVDUnR2b2FFcXplWE5JSkNlY3NSNWE2em1BSVpJSjRacXhJOFE3N2xCSWFONFdLUU1WWTduMm9RWDBHSmFueGNFM0Z3NWpxbjRwRTJEZFRuLUN4dlZqX3pkOG9wUC0yOFRSc2g2ZWFwNGU5NFlTR0RZTlZZUnlIU09sY1dxWTEtSmdwaWJwai1pR3NXOW5wQkhrTGhJcTV6N3BTVEZQTTJSVWwwSkVoczhJZ19KcXJhTXJQc0dxeVIwMUN6SGJRXzluZUlobkRfOFR1ZHRXQ21CU1QwRXZGVVNUMUFwVFJjTUlQQWdVLUlROTl1OVZPYXFPWUxZOXFHVm1XZDhTOFp5U2xIbnkzQkxwTThlNXpnM0ZsTjZpUU1ldDRyZmFQTnZDcEJkTmZrSl9nN2hDXzRzb0hROUFnMU1taWtTZHdoQ1hBM3NHcW1wMkk2UTAxUEZSNGhhTUpJVVFSR2hvVUQ1Sm8yWDZ1ZEtQYlBfU3oxbVFOckNGTVFSSFpjcG5EbjNTVXJma1ZNX1ZsUmU1RFZOOW9BWVR0OXFlUnplZHA3aEUwTC1XaVRnZ2dnbTM3MHo0eW44YWx1OHlHZF0tLT48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h2 id="0a6fbdf-">コミット: 0a6fbdf - プログラム削除機能の安全性向上<a class="headerlink" href="#0a6fbdf-" title="Permanent link">&para;</a></h2>
<h3 id="_22">概要<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h3>
<p>プログラム削除機能に安全性チェックを追加しました。エントリー（申し込み）が存在するプログラムは削除できないようにし、関連データの整合性を保護する機能を実装しています。</p>
<h3 id="_23">技術的詳細<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h3>
<ul>
<li>プログラムモデルに<code>deletable?</code>メソッドを追加して、エントリーが空の場合のみ削除可能とする</li>
<li>プログラムとエントリーの関連付けを<code>dependent: :destroy</code>から<code>dependent: :restrict_with_exception</code>に変更し、関連エントリーがある場合は例外を発生させる</li>
<li>コントローラの<code>destroy</code>アクションを修正し、削除可能な場合のみ削除を実行</li>
<li>削除できない場合のエラーメッセージを追加</li>
</ul>
<h3 id="_24">変更されたファイル<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/controllers/staff/programs_controller.rb</li>
<li>M app/models/program.rb</li>
<li>M config/locales/controllers/ja.yml</li>
</ul>
<h3 id="_25">変更内容<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 0a6fbdf316b0f322bb5dc5466f727c1fbe5b2d49
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Thu Feb 16 16:20:39 2017 +0900

<span class="w"> </span>   演習問題 #26

<span class="gh">diff --git a/app/controllers/staff/programs_controller.rb b/app/controllers/staff/programs_controller.rb</span>
<span class="gh">index 715a9c2..072161a 100644</span>
<span class="gd">--- a/app/controllers/staff/programs_controller.rb</span>
<span class="gi">+++ b/app/controllers/staff/programs_controller.rb</span>
<span class="gu">@@ -42,8 +42,11 @@ class Staff::ProgramsController &lt; Staff::Base</span>

<span class="w"> </span>  def destroy
<span class="w"> </span>    program = Program.find(params[:id])
<span class="gd">-    program.destroy!</span>
<span class="gd">-    flash.notice = t(&#39;.flash_notice&#39;)</span>
<span class="gi">+    if program.deletable?</span>
<span class="gi">+      program.destroy!</span>
<span class="gi">+      flash.notice = t(&#39;.flash_notice&#39;)</span>
<span class="gi">+    end</span>
<span class="gi">+    flash.alert = t(&#39;.flash_alert&#39;)</span>
<span class="w"> </span>    redirect_to :staff_programs
<span class="w"> </span>  end

<span class="gh">diff --git a/app/models/program.rb b/app/models/program.rb</span>
<span class="gh">index 5c11919..905887b 100644</span>
<span class="gd">--- a/app/models/program.rb</span>
<span class="gi">+++ b/app/models/program.rb</span>
<span class="gu">@@ -20,7 +20,7 @@</span>
<span class="w"> </span>#

<span class="w"> </span>class Program &lt; ApplicationRecord
<span class="gd">-  has_many :entries, dependent: :destroy</span>
<span class="gi">+  has_many :entries, dependent: :restrict_with_exception</span>
<span class="w"> </span>  has_many :applicants, through: :entries, source: :customer
<span class="w"> </span>  belongs_to :registrant, class_name: &#39;StaffMember&#39;

<span class="gu">@@ -70,6 +70,10 @@ class Program &lt; ApplicationRecord</span>
<span class="w"> </span>        .includes(:registrant)
<span class="w"> </span>  }

<span class="gi">+  def deletable?</span>
<span class="gi">+    entries.empty?</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="w"> </span>  private
<span class="w"> </span>  def set_application_start_time
<span class="w"> </span>    return if application_start_date.blank?
<span class="gh">diff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml</span>
<span class="gh">index e78bbd8..f6b50e3 100644</span>
<span class="gd">--- a/config/locales/controllers/ja.yml</span>
<span class="gi">+++ b/config/locales/controllers/ja.yml</span>
<span class="gu">@@ -40,6 +40,7 @@ ja:</span>
<span class="w"> </span>        flash_alert: &#39;入力に誤りがあります。&#39;
<span class="w"> </span>      destroy:
<span class="w"> </span>        flash_notice: &#39;プログラムを削除しました。&#39;
<span class="gi">+        flash_alert: &#39;このプログラムは削除できません。&#39;</span>
<span class="w"> </span>      entries:
<span class="w"> </span>        flash_notice: &#39;プログラム申し込みのフラグを更新しました。&#39;
<span class="w"> </span>  admin:
</code></pre></div>
<h3 id="_26">構造変更<a class="headerlink" href="#_26" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI3MjNweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjgxN3B4O2hlaWdodDo3MjNweDtiYWNrZ3JvdW5kOiMwMDAwMDA7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA4MTcgNzIzIiB3aWR0aD0iODE3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48cmVjdCBmaWxsPSIjMTMxNDA0IiBoZWlnaHQ9IjEiIHN0eWxlPSJzdHJva2U6IzEzMTQwNDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxIiB4PSIwIiB5PSIwIi8+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY2LjkyMTkiIHg9IjUiIHk9IjE3Ij5QbGFudFVNTCAxLjIwMjUuNGJldGEyPC90ZXh0PjxyZWN0IGZpbGw9IiMzM0ZGMDIiIGhlaWdodD0iMjEuMjk2OSIgc3R5bGU9InN0cm9rZTojMzNGRjAyO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjQ5MS44NzI5IiB4PSI1IiB5PSIyNi45Njg4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4MS4wMjI1IiB4PSI2IiB5PSI0MS45Njg4Ij5bRnJvbSBzdHJpbmcgKGxpbmUgMzkpIF08L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSI2Mi4yNjU2Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgxLjQyMjkiIHg9IjUiIHk9Ijc4LjU2MjUiPkBzdGFydHVtbDwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjQ3LjM1MDYiIHg9IjUiIHk9Ijk0Ljg1OTQiPnRpdGxlICYjMTI1MDM7JiMxMjUyNTsmIzEyNDY0OyYjMTI1MjE7JiMxMjUxMjsmIzIxMDY2OyYjMzg1MDA7JiMyNzIzMTsmIzMzMDIxOyYjMTIzOTg7JiMyMzQzMzsmIzIwODQwOyYjMjQ2MTU7JiMyMTUyMTsmIzE5OTc4OzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC44NzQiIHg9IjUiIHk9IjExMS4xNTYzIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNi42Njk5IiB4PSI1IiB5PSIxMjcuNDUzMSI+Y2xhc3MgUHJvZ3JhbSB7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NC4zOTc1IiB4PSI1IiB5PSIxNDMuNzUiPitpZDogaW50ZWdlcjwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTAxLjM5NzUiIHg9IjUiIHk9IjE2MC4wNDY5Ij4rdGl0bGU6IHN0cmluZzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQzLjA2MjUiIHg9IjUiIHk9IjE3Ni4zNDM4Ij4rZGVzY3JpcHRpb246IHRleHQ8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1Ljk1NTEiIHg9IjUiIHk9IjE5Mi42NDA2Ij4uLi48L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3Mi4yMzE0IiB4PSI1IiB5PSIyMDguOTM3NSI+K2RlbGV0YWJsZSgpOiBib29sZWFuPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ljk2NjgiIHg9IjUiIHk9IjIyNS4yMzQ0Ij59PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0Ljg3NCIgeD0iNSIgeT0iMjQxLjUzMTMiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTAxLjE3ODciIHg9IjUiIHk9IjI1Ny44MjgxIj5jbGFzcyBFbnRyeSB7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NC4zOTc1IiB4PSI1IiB5PSIyNzQuMTI1Ij4raWQ6IGludGVnZXI8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI0MS4xMTA0IiB4PSI1IiB5PSIyOTAuNDIxOSI+K3Byb2dyYW1faWQ6IGludGVnZXIgJmx0OyZsdDtGSyZndDsmZ3Q7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNDcuNTAyIiB4PSI1IiB5PSIzMDYuNzE4OCI+K2N1c3RvbWVyX2lkOiBpbnRlZ2VyICZsdDsmbHQ7RksmZ3Q7Jmd0OzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU5LjgyNDIiIHg9IjUiIHk9IjMyMy4wMTU2Ij4rYXBwcm92ZWQ6IGJvb2xlYW48L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1NC45OTEyIiB4PSI1IiB5PSIzMzkuMzEyNSI+K2NhbmNlbGVkOiBib29sZWFuPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ljk2NjgiIHg9IjUiIHk9IjM1NS42MDk0Ij59PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0Ljg3NCIgeD0iNSIgeT0iMzcxLjkwNjMiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM0Ljc5NzkiIHg9IjUiIHk9IjM4OC4yMDMxIj5jbGFzcyBDdXN0b21lciB7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NC4zOTc1IiB4PSI1IiB5PSI0MDQuNSI+K2lkOiBpbnRlZ2VyPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTIuNDE3IiB4PSI1IiB5PSI0MjAuNzk2OSI+K25hbWU6IHN0cmluZzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUuOTU1MSIgeD0iNSIgeT0iNDM3LjA5MzgiPi4uLjwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOS45NjY4IiB4PSI1IiB5PSI0NTMuMzkwNiI+fTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC44NzQiIHg9IjUiIHk9IjQ2OS42ODc1Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMyNy4xNzQ4IiB4PSI1IiB5PSI0ODUuOTg0NCI+UHJvZ3JhbSAiMSIgby0tICIwLi4qIiBFbnRyeSA6IGhhc19tYW55ICZndDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMyMi42MTUyIiB4PSI1IiB5PSI1MDIuMjgxMyI+RW50cnkgIioiIC0tbyAiMSIgQ3VzdG9tZXIgOiBiZWxvbmdzX3RvICZndDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSI1MTguNTc4MSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNTcuNjk0MyIgeD0iNSIgeT0iNTM0Ljg3NSI+bm90ZSByaWdodCBvZiBQcm9ncmFtOjpkZWxldGFibGU8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMS45OTk1IiB4PSI1IiB5PSI1NTEuMTcxOSI+JiMyNjAzMjsmIzM1MjE1OyYjMzY4NjE7JiMyMTE1MjsmIzEyNTEzOyYjMTI0Nzc7JiMxMjQ4MzsmIzEyNDg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjQzLjA1NzciIHg9IjUiIHk9IjU2Ny40Njg4Ij4mIzEyNDU2OyYjMTI1MzE7JiMxMjQ4ODsmIzEyNTIyOyYjMTI1NDA7JiMxMjM2NDsmIzMxMzU0OyYjMTIzOTg7JiMyMjU4MDsmIzIxNTEyOyYjMTIzOTg7JiMxMjQxNTt0cnVlJiMxMjQzNDsmIzM2ODIwOyYjMTIzNzc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MC4xMjk5IiB4PSI1IiB5PSI1ODMuNzY1NiI+ZW5kIG5vdGU8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSI2MDAuMDYyNSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTEuMDc4MSIgeD0iNSIgeT0iNjE2LjM1OTQiPm5vdGUgYm90dG9tIG9mIFByb2dyYW08L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM2OC4xMzU2IiB4PSI1IiB5PSI2MzIuNjU2MyI+JiMyMjc5MzsmIzI2MzU2OyYjMjEwNjk7OiBoYXNfbWFueSA6ZW50cmllcywgZGVwZW5kZW50OiA6ZGVzdHJveTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDkxLjg3MjkiIHg9IjUiIHk9IjY0OC45NTMxIj4mIzIyNzkzOyYjMjYzNTY7JiMyNDQ2MDs6IGhhc19tYW55IDplbnRyaWVzLCBkZXBlbmRlbnQ6IDpyZXN0cmljdF93aXRoX2V4Y2VwdGlvbjwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzAuMTI5OSIgeD0iNSIgeT0iNjY1LjI1Ij5lbmQgbm90ZTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC44NzQiIHg9IjUiIHk9IjY4MS41NDY5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHQtZGVjb3JhdGlvbj0id2F2eSB1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjE1NC4zNTUzIiB4PSI1IiB5PSI2OTcuODQzOCI+YWN0b3IgIiYjMzI4ODc7JiMyMTcyOTsiIGFzIFN0YWZmPC90ZXh0Pjx0ZXh0IGZpbGw9IiNGRjAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MDAuMzQ0NyIgeD0iOS44NzQiIHk9IjcxNC4xNDA2Ij5Vc2UgJ2FsbG93bWl4aW5nJyBpZiB5b3Ugd2FudCB0byBtaXggY2xhc3NlcyBhbmQgb3RoZXIgVU1MIGVsZW1lbnRzLiAoQXNzdW1lZCBkaWFncmFtIHR5cGU6IGNsYXNzKTwvdGV4dD48IS0tU1JDPVtiTDlEUm5DbjRCdHhMdld6ak9JYVM1ckx1TDMyMUd2OFM4LVNOSVVyakI2WmpHRWo0NTl0M0w4SU1iNC1IQWIwUVlmNXE1SXFMQThJNUpKYW5tbVJtZ2JfMFVfY0tzcmZuU3NVY0pWbHBQakhKN2FLV3p1MGxHVlgwVVdzdzZQS1JfcFBSRk5RTXR0VFdNMF9zZ3o3cHRQd0F2LVl6UFVfWlhlOEVId0g0al9wSFNhZFBWbU9mUFhoT3lPTEJMNFZmTEpTcWlQSS1Pb05LQ2dicWw1UEhKNzFSUXBlYWFBUEoyT0VVcklIV2FUZFBjclM0Q0FaWEFDZGV6dXZobHBiQ3ZxaDB5UnlMMTNGcHotIC1heXNZYjVFTElmSWZWc3dJTDBwcThOS2RKMmM3U0NUOFNDeVhObllzRWlGRklOYW9NM281V09uU2k2dk9NQUpKc0JnVW9Mb3JYV0ZPVTk3OFY5ZG1QUG41V3YxYmFrY3FJRWg3SDRPNHpHR2xvUm1JZlg5bmVJWnNNTWJIT0w0UzZNdFJPeXpHeC1yMV8tRUJWaFNKRFBnV2pvN2lXRFFXd21aMjdUMVZHVFQweHU4LVhjM3JUX2p4bENGY09SSFVDbXk4a2lnbEtXWFZ6UmpsOERYNGJCaXV2WGtvNWVHb2NnUGVLVElnenp1VkhsTXJnTWJpUWVQWEw1eDNCZ3NPM2tQaE93RkZVMkVNSHVZVmd2U1lfMVoxNzlMX25ESFlkWXV2RDNjS0FMNzRLU0I3TFpfdTVodFVqWjJILUJ1WW5JOGdZMmZ0SU1wZUtBVFM0OFAxVTF4cmF4Qjk1dzQ0V2pGUGdRM25fNVJrUmt2MTNpXzlFM2l0RjJ1dlBwQ05KVEtQcjZaN0RZdW94aXVtVF9RVjFVQ0x0S0o0S19aaUVnQXpUejY3N0dXczhEWTV1RWJXQi1DaElmX002RV9nMGhCNHhva2QyV1JKc1paWE44Nm0xVmVwWDUtQ1lmRlpNZy1zN1pNc3VmaW4xbkYtWTRNNUhvVjdUS0d6SUlfR2ttZFh5eWw0NWVkZnlKelk0aGZzSjdJRTdreC0xRzAwXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h2 id="ca63ff0-">コミット: ca63ff0 - プログラム参加者数の検証強化<a class="headerlink" href="#ca63ff0-" title="Permanent link">&para;</a></h2>
<h3 id="_27">概要<a class="headerlink" href="#_27" title="Permanent link">&para;</a></h3>
<p>プログラムモデルに最大参加者数の検証ルールを追加しました。これにより、プログラム作成・更新時に最大参加者数が適切な範囲内にあることを確認できるようになります。</p>
<h3 id="_28">技術的詳細<a class="headerlink" href="#_28" title="Permanent link">&para;</a></h3>
<ul>
<li><code>max_number_of_participants</code>（最大参加者数）フィールドに数値検証を追加</li>
<li>整数のみを許可し、1から1000の範囲内であることを検証</li>
<li>空白値は許容する設定</li>
</ul>
<h3 id="_29">変更されたファイル<a class="headerlink" href="#_29" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/models/program.rb</li>
</ul>
<h3 id="_30">変更内容<a class="headerlink" href="#_30" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit ca63ff0d1867498d056378ef8793ea8d08e4a27e
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Thu Feb 16 16:13:48 2017 +0900

<span class="w"> </span>   演習問題 #26

<span class="gh">diff --git a/app/models/program.rb b/app/models/program.rb</span>
<span class="gh">index dc9c294..5c11919 100644</span>
<span class="gd">--- a/app/models/program.rb</span>
<span class="gi">+++ b/app/models/program.rb</span>
<span class="gu">@@ -52,6 +52,10 @@ class Program &lt; ApplicationRecord</span>
<span class="w"> </span>      only_integer: true, greater_than_or_equal_to: 1,
<span class="w"> </span>      less_than_or_equal_to: 1000, allow_blank: true
<span class="w"> </span>  }
<span class="gi">+  validates :max_number_of_participants, numericality: {</span>
<span class="gi">+      only_integer: true, greater_than_or_equal_to: 1,</span>
<span class="gi">+      less_than_or_equal_to: 1000, allow_blank: true</span>
<span class="gi">+  }</span>
<span class="w"> </span>  validate do
<span class="w"> </span>    if min_number_of_participants &amp;&amp; max_number_of_participants &amp;&amp; min_number_of_participants &gt; max_number_of_participants
<span class="w"> </span>      errors.add(:max_number_of_participants, :less_than_min_number)
</code></pre></div>
<h3 id="_31">構造変更<a class="headerlink" href="#_31" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI1MjdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjgxN3B4O2hlaWdodDo1MjdweDtiYWNrZ3JvdW5kOiMwMDAwMDA7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA4MTcgNTI3IiB3aWR0aD0iODE3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48cmVjdCBmaWxsPSIjMTkyNzFDIiBoZWlnaHQ9IjEiIHN0eWxlPSJzdHJva2U6IzE5MjcxQztzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxIiB4PSIwIiB5PSIwIi8+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY2LjkyMTkiIHg9IjUiIHk9IjE3Ij5QbGFudFVNTCAxLjIwMjUuNGJldGEyPC90ZXh0PjxyZWN0IGZpbGw9IiMzM0ZGMDIiIGhlaWdodD0iMjEuMjk2OSIgc3R5bGU9InN0cm9rZTojMzNGRjAyO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjQzOC4yODYxIiB4PSI1IiB5PSIyNi45Njg4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4MS4wMjI1IiB4PSI2IiB5PSI0MS45Njg4Ij5bRnJvbSBzdHJpbmcgKGxpbmUgMjcpIF08L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSI2Mi4yNjU2Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgxLjQyMjkiIHg9IjUiIHk9Ijc4LjU2MjUiPkBzdGFydHVtbDwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjMzLjM1MDciIHg9IjUiIHk9Ijk0Ljg1OTQiPnRpdGxlICYjMTI1MDM7JiMxMjUyNTsmIzEyNDY0OyYjMTI1MjE7JiMxMjUxMjsmIzIxNDQyOyYjMjExNTI7JiMzMjc3MzsmIzI1OTY4OyYjMTIzOTg7JiMyNjkwODsmIzM1Mzg4OyYjMjQzNzU7JiMyMTI3MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSIxMTEuMTU2MyI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjYuNjY5OSIgeD0iNSIgeT0iMTI3LjQ1MzEiPmNsYXNzIFByb2dyYW0gezwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTQuMzk3NSIgeD0iNSIgeT0iMTQzLjc1Ij4raWQ6IGludGVnZXI8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMS4zOTc1IiB4PSI1IiB5PSIxNjAuMDQ2OSI+K3RpdGxlOiBzdHJpbmc8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0My4wNjI1IiB4PSI1IiB5PSIxNzYuMzQzOCI+K2Rlc2NyaXB0aW9uOiB0ZXh0PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMDIuMDA0OSIgeD0iNSIgeT0iMTkyLjY0MDYiPittaW5fbnVtYmVyX29mX3BhcnRpY2lwYW50czogaW50ZWdlcjwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzA1LjcxNjgiIHg9IjUiIHk9IjIwOC45Mzc1Ij4rbWF4X251bWJlcl9vZl9wYXJ0aWNpcGFudHM6IGludGVnZXI8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1Ljk1NTEiIHg9IjUiIHk9IjIyNS4yMzQ0Ij4uLi48L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkuOTY2OCIgeD0iNSIgeT0iMjQxLjUzMTMiPn08L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSIyNTcuODI4MSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNzIuMjMxNCIgeD0iNSIgeT0iMjc0LjEyNSI+bm90ZSByaWdodCBvZiBQcm9ncmFtPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDUuNTk4IiB4PSI1IiB5PSIyOTAuNDIxOSI+JiMzNjg2MTsmIzIxMTUyOyYjMTIzNzM7JiMxMjQyODsmIzEyMzgzOyYjMjY5MDg7JiMzNTM4ODsmIzEyNTIzOyYjMTI1NDA7JiMxMjUyMzs6PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MzguMjg2MSIgeD0iNSIgeT0iMzA2LjcxODgiPnZhbGlkYXRlcyA6bWF4X251bWJlcl9vZl9wYXJ0aWNpcGFudHMsIG51bWVyaWNhbGl0eTogezwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ2LjczMzQiIHg9IjUiIHk9IjMyMy4wMTU2Ij5vbmx5X2ludGVnZXI6IHRydWUsPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMjUuMTI3OSIgeD0iNSIgeT0iMzM5LjMxMjUiPmdyZWF0ZXJfdGhhbl9vcl9lcXVhbF90bzogMSw8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIyNi4zNTE2IiB4PSI1IiB5PSIzNTUuNjA5NCI+bGVzc190aGFuX29yX2VxdWFsX3RvOiAxMDAwLDwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM1LjY3MjkiIHg9IjUiIHk9IjM3MS45MDYzIj5hbGxvd19ibGFuazogdHJ1ZTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOS45NjY4IiB4PSI1IiB5PSIzODguMjAzMSI+fTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzAuMTI5OSIgeD0iNSIgeT0iNDA0LjUiPmVuZCBub3RlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0Ljg3NCIgeD0iNSIgeT0iNDIwLjc5NjkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzcyLjAyNTQiIHg9IjUiIHk9IjQzNy4wOTM4Ij5jbGFzcyAiQWN0aXZlTW9kZWw6OlZhbGlkYXRpb25zIiBhcyBWYWxpZGF0aW9uczwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC44NzQiIHg9IjUiIHk9IjQ1My4zOTA2Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMyMi4wNjEiIHg9IjUiIHk9IjQ2OS42ODc1Ij5Qcm9ncmFtIC0tfCZndDsgVmFsaWRhdGlvbnMgOiAmIzI2OTA4OyYjMzUzODg7JiMxMjUyMzsmIzEyNTQwOyYjMTI1MjM7JiMxMjQzNDsmIzIwMzUxOyYjMjk5OTI7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0Ljg3NCIgeD0iNSIgeT0iNDg1Ljk4NDQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ3YXZ5IHVuZGVybGluZSIgdGV4dExlbmd0aD0iMTU0LjM1NTMiIHg9IjUiIHk9IjUwMi4yODEzIj5hY3RvciAiJiMzMjg4NzsmIzIxNzI5OyIgYXMgU3RhZmY8L3RleHQ+PHRleHQgZmlsbD0iI0ZGMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgwMC4zNDQ3IiB4PSI5Ljg3NCIgeT0iNTE4LjU3ODEiPlVzZSAnYWxsb3dtaXhpbmcnIGlmIHlvdSB3YW50IHRvIG1peCBjbGFzc2VzIGFuZCBvdGhlciBVTUwgZWxlbWVudHMuIChBc3N1bWVkIGRpYWdyYW0gdHlwZTogY2xhc3MpPC90ZXh0PjwhLS1TUkM9W1hMOVRRbkQxNTdzX2xzQjhRdjhJTl9VWDhBOWxXWTN1a2FuczktZFdQMlJFSjZnMzJpcWswR2ExSE9xTEw5OTBYOFlxajR5TEpTY0ZjTW93X1dqZEZ6QWFlUUtsby1telB5d3ZQLXhMTDNFMko3WGFtY0NKZDlobWZtYjdxUmlXd2V0WW0tdm9TNmV3OXlsOWp0V3dZc1JkS1Z5cFdDVW1La1k5NTdNOTYtV0w1QWRsOENlcmdIQzlIUHRlRUtYZklOYVRZWnZIZGdIREpHTHRhMk83NmVlRG9idFVRYkk5VDRORFJNQWZnS1VSYzZrcjhURjAxdFVJVGRQc3UwcTA1dmVXSVVqeDZlZFFnWS04dm5Tc1drYUNKRDB0ZE00TW1PSV9KOVh5N1RaN1pGZk80dU1Tc3hyQW9EUTlmOXVid3hQWm1taEVzY3hVVzBxYU13RzRUS2NpYTdKcjdrUWthMnZ2cVNCQ3JTOTF6cWgwWTU4dDhQTEFmR0lPQ1Y3SWhKQkNkc1RZRFdfWEZhZVloSHd3U0RfSlQ5eXk1WnZYWmxDaVF6aS1mb2VXaEQzNkZ5MWc5a05vd3pyRDEzYmVBeHk5Rllta3ZmVVZmVzNPcXFBWUdqbXZacHdFS3lzZDZqVGdLMUtqeGNGUEhlTFN6ZjZHWkhIRjNrMDloZ0xXTHdYd2ExS09hSWJmX01pSnNRTE93d0htVmR3T0dXMmY5SWhsZmpnc3RRcnpOOFJUUTdHTVROejRsUS1HS1lucnhNMGxfM2xpQkVQWnNBWFBuWktKSXJoQ2xxVjdOLTF3LUdQVWxreWRtdFpTanBGSVVNN3Z6ZHRLNnN2VnQtdWFDeWN2Y19yT09YUko2Z0llMlNTYzM0dG1EdmI5eTFpOEtzSmJGSmJSM2V4a2lpZzc2YXBKTHZoVHZkUDVzM0FDbnpGQm9QemF1VnUzXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h2 id="f0442a3-">コミット: f0442a3 - 多数のオブジェクトの一括更新処理<a class="headerlink" href="#f0442a3-" title="Permanent link">&para;</a></h2>
<h3 id="_32">概要<a class="headerlink" href="#_32" title="Permanent link">&para;</a></h3>
<p>プログラム申し込み（エントリー）の一括更新機能を実装しました。これにより、職員は複数のエントリーの承認状態やキャンセル状態を一度に更新できるようになります。</p>
<h3 id="_33">技術的詳細<a class="headerlink" href="#_33" title="Permanent link">&para;</a></h3>
<ul>
<li><code>EntriesForm</code>クラスに<code>assign_attributes</code>と<code>save</code>メソッドを追加</li>
<li>承認・非承認・キャンセル・非キャンセルの各状態を一括で更新する機能を実装</li>
<li>トランザクションを使用して、すべての更新を原子的に処理</li>
<li><code>ProgramsController</code>に<code>entries</code>アクションを追加して、一括更新処理を実行</li>
<li>更新成功時のフラッシュメッセージを追加</li>
</ul>
<h3 id="_34">変更されたファイル<a class="headerlink" href="#_34" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M app/controllers/staff/programs_controller.rb</li>
<li>M app/forms/staff/entries_form.rb</li>
<li>M config/locales/controllers/ja.yml</li>
</ul>
<h3 id="_35">変更内容<a class="headerlink" href="#_35" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit f0442a37db83f2a3bccfd496bd54305c55ead9a4
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Thu Feb 16 16:08:57 2017 +0900

<span class="w"> </span>   多数のオブジェクトの一括更新処理 #26

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index 3820bf1..d178a44 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -690,6 +690,7 @@ git push heroku master</span>
<span class="w"> </span>#### プログラム申し込み機能
<span class="w"> </span>+ 多数のオブジェクトを一括編集するフォーム
<span class="w"> </span>+ 隠しフィールドとCoffeeScript  
<span class="gi">++ 多数のオブジェクトの一括更新処理</span>

<span class="w"> </span>### トランザクションと排他的ロック
<span class="w"> </span>#### プログラム一覧表示・詳細表示機能（顧客向け)
<span class="gh">diff --git a/app/controllers/staff/programs_controller.rb b/app/controllers/staff/programs_controller.rb</span>
<span class="gh">index 7f487e3..715a9c2 100644</span>
<span class="gd">--- a/app/controllers/staff/programs_controller.rb</span>
<span class="gi">+++ b/app/controllers/staff/programs_controller.rb</span>
<span class="gu">@@ -46,4 +46,13 @@ class Staff::ProgramsController &lt; Staff::Base</span>
<span class="w"> </span>    flash.notice = t(&#39;.flash_notice&#39;)
<span class="w"> </span>    redirect_to :staff_programs
<span class="w"> </span>  end
<span class="gi">+</span>
<span class="gi">+  # PATCH</span>
<span class="gi">+  def entries</span>
<span class="gi">+    entries_form = Staff::EntriesForm.new(Program.find(params[:id]))</span>
<span class="gi">+    entries_form.assign_attributes(params[:form])</span>
<span class="gi">+    entries_form.save</span>
<span class="gi">+    flash.notice = t(&#39;.flash_notice&#39;)</span>
<span class="gi">+    redirect_to :staff_programs</span>
<span class="gi">+  end</span>
<span class="w"> </span>end
<span class="gh">diff --git a/app/forms/staff/entries_form.rb b/app/forms/staff/entries_form.rb</span>
<span class="gh">index 144cd72..cccd26e 100644</span>
<span class="gd">--- a/app/forms/staff/entries_form.rb</span>
<span class="gi">+++ b/app/forms/staff/entries_form.rb</span>
<span class="gu">@@ -10,4 +10,25 @@ class Staff::EntriesForm</span>
<span class="w"> </span>  def initialize(program)
<span class="w"> </span>    @program = program
<span class="w"> </span>  end
<span class="gi">+</span>
<span class="gi">+  def assign_attributes(params)</span>
<span class="gi">+    @approved = params[:approved]</span>
<span class="gi">+    @not_approved = params[:not_approved]</span>
<span class="gi">+    @canceled = params[:canceled]</span>
<span class="gi">+    @not_canceled = params[:not_canceled]</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  def save</span>
<span class="gi">+    approved_entry_ids = @approved.split(&#39;:&#39;).map(&amp;:to_i)</span>
<span class="gi">+    not_approved_entry_ids = @not_approved.split(&#39;:&#39;).map(&amp;:to_i)</span>
<span class="gi">+    canceled_entry_ids = @canceled.split(&#39;:&#39;).map(&amp;:to_i)</span>
<span class="gi">+    not_canceled_entry_ids = @not_canceled.split(&#39;:&#39;).map(&amp;:to_i)</span>
<span class="gi">+</span>
<span class="gi">+    ActiveRecord::Base.transaction do</span>
<span class="gi">+      @program.entries.where(id: approved_entry_ids).update_all(approved: true)</span>
<span class="gi">+      @program.entries.where(id: not_approved_entry_ids).update_all(approved: false)</span>
<span class="gi">+      @program.entries.where(id: canceled_entry_ids).update_all(canceled: true)</span>
<span class="gi">+      @program.entries.where(id: not_canceled_entry_ids).update_all(canceled: false)</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="w"> </span>end
\ No newline at end of file
<span class="gh">diff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml</span>
<span class="gh">index 8b067bf..e78bbd8 100644</span>
<span class="gd">--- a/config/locales/controllers/ja.yml</span>
<span class="gi">+++ b/config/locales/controllers/ja.yml</span>
<span class="gu">@@ -40,6 +40,8 @@ ja:</span>
<span class="w"> </span>        flash_alert: &#39;入力に誤りがあります。&#39;
<span class="w"> </span>      destroy:
<span class="w"> </span>        flash_notice: &#39;プログラムを削除しました。&#39;
<span class="gi">+      entries:</span>
<span class="gi">+        flash_notice: &#39;プログラム申し込みのフラグを更新しました。&#39;</span>
<span class="w"> </span>  admin:
<span class="w"> </span>    base:
<span class="w"> </span>      authrize:
</code></pre></div>
<h3 id="_36">構造変更<a class="headerlink" href="#_36" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI1NDRweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjgxN3B4O2hlaWdodDo1NDRweDtiYWNrZ3JvdW5kOiMwMDAwMDA7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA4MTcgNTQ0IiB3aWR0aD0iODE3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48cmVjdCBmaWxsPSIjMDIwQzExIiBoZWlnaHQ9IjEiIHN0eWxlPSJzdHJva2U6IzAyMEMxMTtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxIiB4PSIwIiB5PSIwIi8+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY2LjkyMTkiIHg9IjUiIHk9IjE3Ij5QbGFudFVNTCAxLjIwMjUuNGJldGEyPC90ZXh0PjxyZWN0IGZpbGw9IiMzM0ZGMDIiIGhlaWdodD0iMjEuMjk2OSIgc3R5bGU9InN0cm9rZTojMzNGRjAyO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjM0My40OTkiIHg9IjUiIHk9IjI2Ljk2ODgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgxLjAyMjUiIHg9IjYiIHk9IjQxLjk2ODgiPltGcm9tIHN0cmluZyAobGluZSA0MykgXTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC44NzQiIHg9IjUiIHk9IjYyLjI2NTYiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODEuNDIyOSIgeD0iNSIgeT0iNzguNTYyNSI+QHN0YXJ0dW1sPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNjEuMzUwNiIgeD0iNSIgeT0iOTQuODU5NCI+dGl0bGUgJiMyMjgxMDsmIzI1OTY4OyYjMTIzOTg7JiMxMjQ1ODsmIzEyNTAyOyYjMTI0NzI7JiMxMjQ1NTsmIzEyNDYzOyYjMTI0ODg7JiMxMjM5ODsmIzE5OTY4OyYjMjUzMjQ7JiMyNjM1NjsmIzI2MDMyOyYjMjA5NjY7JiMyOTcwMjs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSIxMTEuMTU2MyI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNDMuNDk5IiB4PSI1IiB5PSIxMjcuNDUzMSI+Y2xhc3MgIlN0YWZmOjpFbnRyaWVzRm9ybSIgYXMgRW50cmllc0Zvcm0gezwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUxLjUzMjIiIHg9IjUiIHk9IjE0My43NSI+LXByb2dyYW06IFByb2dyYW08L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1Ljk1NTEiIHg9IjUiIHk9IjE2MC4wNDY5Ij4uLi48L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3Ny4yNjk1IiB4PSI1IiB5PSIxNzYuMzQzOCI+Li4uICggc2tpcHBpbmcgMTggbGluZXMgKTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUuOTU1MSIgeD0iNSIgeT0iMTkyLjY0MDYiPi4uLjwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC44NzQiIHg9IjUiIHk9IjIwOC45Mzc1Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMS4xNzg3IiB4PSI1IiB5PSIyMjUuMjM0NCI+Y2xhc3MgRW50cnkgezwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTQuMzk3NSIgeD0iNSIgeT0iMjQxLjUzMTMiPitpZDogaW50ZWdlcjwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjQxLjExMDQiIHg9IjUiIHk9IjI1Ny44MjgxIj4rcHJvZ3JhbV9pZDogaW50ZWdlciAmbHQ7Jmx0O0ZLJmd0OyZndDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI0Ny41MDIiIHg9IjUiIHk9IjI3NC4xMjUiPitjdXN0b21lcl9pZDogaW50ZWdlciAmbHQ7Jmx0O0ZLJmd0OyZndDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1OS44MjQyIiB4PSI1IiB5PSIyOTAuNDIxOSI+K2FwcHJvdmVkOiBib29sZWFuPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTQuOTkxMiIgeD0iNSIgeT0iMzA2LjcxODgiPitjYW5jZWxlZDogYm9vbGVhbjwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOS45NjY4IiB4PSI1IiB5PSIzMjMuMDE1NiI+fTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC44NzQiIHg9IjUiIHk9IjMzOS4zMTI1Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMyNy4xNzQ4IiB4PSI1IiB5PSIzNTUuNjA5NCI+UHJvZ3JhbSAiMSIgby0tICIwLi4qIiBFbnRyeSA6IGhhc19tYW55ICZndDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMyNy4wMzgiIHg9IjUiIHk9IjM3MS45MDYzIj5Qcm9ncmFtc0NvbnRyb2xsZXIgLi4mZ3Q7IEVudHJpZXNGb3JtIDogJiMyMDM1MTsmIzI5OTkyOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjQwLjYxOCIgeD0iNSIgeT0iMzg4LjIwMzEiPkVudHJpZXNGb3JtIC0tJmd0OyBQcm9ncmFtIDogJiMyMTQ0MjsmIzI5MDMxOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjE1LjEyNjgiIHg9IjUiIHk9IjQwNC41Ij5FbnRyaWVzRm9ybSAtLSZndDsgRW50cnkgOiAmIzI2MzU2OyYjMjYwMzI7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0Ljg3NCIgeD0iNSIgeT0iNDIwLjc5NjkiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjQ4LjUxMzciIHg9IjUiIHk9IjQzNy4wOTM4Ij5ub3RlIHJpZ2h0IG9mIEVudHJpZXNGb3JtOjpzYXZlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxODEuOTk5MiIgeD0iNSIgeT0iNDUzLjM5MDYiPiYjMTI0ODg7JiMxMjUyMTsmIzEyNTMxOyYjMTI0NzA7JiMxMjQ2MzsmIzEyNDcxOyYjMTI1MTk7JiMxMjUzMTsmIzEyNDM0OyYjMjAzNTE7JiMyOTk5MjsmIzEyMzc1OyYjMTIzOTA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxODEuOTk5MiIgeD0iNSIgeT0iNDY5LjY4NzUiPiYjMzUwNzk7JiMyNTk2ODsmIzEyMzk4OyYjMTI0NTY7JiMxMjUzMTsmIzEyNDg4OyYjMTI1MjI7JiMxMjU0MDsmIzEyNDM0OyYjMTk5Njg7JiMyNTMyNDsmIzI2MzU2OyYjMjYwMzI7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MC4xMjk5IiB4PSI1IiB5PSI0ODUuOTg0NCI+ZW5kIG5vdGU8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSI1MDIuMjgxMyI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0LWRlY29yYXRpb249IndhdnkgdW5kZXJsaW5lIiB0ZXh0TGVuZ3RoPSIxNTQuMzU1MyIgeD0iNSIgeT0iNTE4LjU3ODEiPmFjdG9yICImIzMyODg3OyYjMjE3Mjk7IiBhcyBTdGFmZjwvdGV4dD48dGV4dCBmaWxsPSIjRkYwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODAwLjM0NDciIHg9IjkuODc0IiB5PSI1MzQuODc1Ij5Vc2UgJ2FsbG93bWl4aW5nJyBpZiB5b3Ugd2FudCB0byBtaXggY2xhc3NlcyBhbmQgb3RoZXIgVU1MIGVsZW1lbnRzLiAoQXNzdW1lZCBkaWFncmFtIHR5cGU6IGNsYXNzKTwvdGV4dD48IS0tU1JDPVtaTEgxUXppbTVCeGhMbVlWcVdLeHN6S0ttb1dqV3JxQXRKcWVaZjhRNzJiT0lhU3MxZXJEcnhHemhBbmgxempYQXVJYzdNS2hSQkkxUFVwN2c3UHd3ci1PUDNrbmF4SGJELWt6eC1ienh6RnRwMXRrT1hac0ZhTTc1d0JwTlZaVkg3MGFfODdtLXlCXzhPQWszNXVGRGdFenktWnBoLVplOGptLTZVc18xUzFzNE1ER00tRWVMWkZEUFM4ejF4Q0x3WktxWTFaQ2RVNWhlM1N6TWxUR211SWhvR1ZHS0xGNkRkM0xYNmlJSVVmMDl2SU52d0NzOFpQc1B0NXBxUTkzN0V1V3J0YzUyc2NwMUwySzM5cXdBSUNrR1BLTW53cEdIM0IzUDhnWDNMbk8wNnpjMXFhOWlZS2c5dzJrWXhydWRsY203QWs4YW9kcHp3SDBiTkthRk9UbU5DU1VBNzhiaW1iUEdqU21aQW40UVRNVUFxWWRBRVUyUzc1bnZSYmJXUUJUT2Ztc2k3VGRDakVtR2djQjRQN3VZTHBaYTZtLVBnZXpxSTNMVFFXekRlbjdNaWg2WEVrOGJIazhqQTQ1eFhaVUNBb2ZEcFJYelAtX2VtLWQ4MV9LVE1rWVhtZDNUX3ZlZ3B5NzZGVEJ0ME0wVjV1Q0ZRVS1wWTZqdk5rT2ZkZXBlMW1QZDhkV2ZfMGxiSzd6QW43cXUtRnhYOEJlVjFJVDR0M0pzbnV4LWJJYkxQY3F6YjNYU2RPNmM1SVh3V2EwaVpkcmU3UkprR2VGWmtETlpwcTFBaEg1Z2FZSXI2UWwyV3c1Vm5QX1Y4dG5ZWVFtNHZNV1RlLUxpZ0ZpQk1xWHh2dFQ3bE1uN0VVYzhFdDlRaE5KQjhXUEdZYlotV2VwMzRVeGJ6N01kWG12eEV0OFVLNllrZk5aODZqTWR4dk9VV1BCSjVyTEljdDdJZ1BKQlFOLTFaYnVzWWhmQnVpOVZmYWp0MEV1LXJWbldROXFJTkVuaU00Y2E1UXBZWldrOHpTalBDUmROV2tOUWlYYi1CLUJpbk45NXF6cEl5SU04WWpqRHVOVjR5NXZ5ZS15N05RWnhkd3UtcUs0bm84OFhGeXhUamhXVGhacDNtMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h2 id="5ebcb9e-coffeescript">コミット: 5ebcb9e - 隠しフィールドとCoffeeScriptによるフォーム処理<a class="headerlink" href="#5ebcb9e-coffeescript" title="Permanent link">&para;</a></h2>
<h3 id="_37">概要<a class="headerlink" href="#_37" title="Permanent link">&para;</a></h3>
<p>プログラム申し込み（エントリー）フォームにJavaScriptを使った機能を追加しました。CoffeeScriptを使用して、チェックボックスの状態を隠しフィールドに集約し、一括更新処理を実行する機能を実装しています。</p>
<h3 id="_38">技術的詳細<a class="headerlink" href="#_38" title="Permanent link">&para;</a></h3>
<ul>
<li>CoffeeScriptで<code>EntriesForm</code>クラスを作成し、チェックボックスの状態を監視</li>
<li>チェックボックスに<code>data-entry-id</code>属性とCSSクラスを追加して識別可能に</li>
<li>隠しフィールドを使用して、チェックボックスの状態をサーバーに送信</li>
<li>更新ボタンを追加し、クリック時にフォームを送信する処理を実装</li>
<li>ルーティングを更新して、エントリー更新用のパスを追加</li>
</ul>
<h3 id="_39">変更されたファイル<a class="headerlink" href="#_39" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>A app/assets/javascripts/staff/entries_form.coffee</li>
<li>A app/forms/staff/entries_form.rb</li>
<li>M app/views/staff/programs/_entries_form.html.erb</li>
<li>M config/locales/views/ja.yml</li>
<li>M config/routes.rb</li>
</ul>
<h3 id="_40">変更内容<a class="headerlink" href="#_40" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 5ebcb9eb9d89520d175fa5a1067d73cd60ef3891
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Thu Feb 16 15:40:22 2017 +0900

<span class="w"> </span>   隠しフィールドとCoffeeScript #26

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index 6b5b55c..3820bf1 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -689,6 +689,7 @@ git push heroku master</span>

<span class="w"> </span>#### プログラム申し込み機能
<span class="w"> </span>+ 多数のオブジェクトを一括編集するフォーム
<span class="gi">++ 隠しフィールドとCoffeeScript  </span>

<span class="w"> </span>### トランザクションと排他的ロック
<span class="w"> </span>#### プログラム一覧表示・詳細表示機能（顧客向け)
<span class="gh">diff --git a/app/assets/javascripts/staff/entries_form.coffee b/app/assets/javascripts/staff/entries_form.coffee</span>
new file mode 100644
<span class="gh">index 0000000..d3b1978</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/assets/javascripts/staff/entries_form.coffee</span>
<span class="gu">@@ -0,0 +1,33 @@</span>
<span class="gi">+$(document).on &quot;turbolinks:load&quot;, -&gt;</span>
<span class="gi">+  do -&gt;</span>
<span class="gi">+    new EntriesForm</span>
<span class="gi">+</span>
<span class="gi">+class EntriesForm</span>
<span class="gi">+  constructor: -&gt;</span>
<span class="gi">+    $(&#39;.AppEntryForm--button-wrapper button#update-entries-button&#39;).on</span>
<span class="gi">+      &#39;click&#39;: handleEntriesButton</span>
<span class="gi">+</span>
<span class="gi">+  handleEntriesButton = -&gt;</span>
<span class="gi">+    approved = []</span>
<span class="gi">+    not_approved = []</span>
<span class="gi">+    canceled = []</span>
<span class="gi">+    not_canceled = []</span>
<span class="gi">+</span>
<span class="gi">+    $(&#39;.AppEntryForm input.isApproved&#39;).each -&gt;</span>
<span class="gi">+      if $(this).prop(&#39;checked&#39;)</span>
<span class="gi">+        approved.push $(this).data(&#39;entry-id&#39;)</span>
<span class="gi">+      else</span>
<span class="gi">+        not_approved.push $(this).data(&#39;entry-id&#39;)</span>
<span class="gi">+    $(&#39;#form_approved&#39;).val(approved.join(&#39;:&#39;))</span>
<span class="gi">+    $(&#39;#form_not_approved&#39;).val(not_approved.join(&#39;:&#39;))</span>
<span class="gi">+</span>
<span class="gi">+    $(&#39;.AppEntryForm input.isCanceled&#39;).each -&gt;</span>
<span class="gi">+      if $(this).prop(&#39;checked&#39;)</span>
<span class="gi">+        canceled.push $(this).data(&#39;entry-id&#39;)</span>
<span class="gi">+      else</span>
<span class="gi">+        not_canceled.push $(this).data(&#39;entry-id&#39;)</span>
<span class="gi">+    $(&#39;#form_canceled&#39;).val(canceled.join(&#39;:&#39;))</span>
<span class="gi">+    $(&#39;#form_not_canceled&#39;).val(not_canceled.join(&#39;:&#39;))</span>
<span class="gi">+</span>
<span class="gi">+    $(&#39;.AppEntryForm--button-wrapper form&#39;).submit()</span>
<span class="gi">+</span>
<span class="gh">diff --git a/app/forms/staff/entries_form.rb b/app/forms/staff/entries_form.rb</span>
new file mode 100644
<span class="gh">index 0000000..144cd72</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/forms/staff/entries_form.rb</span>
<span class="gu">@@ -0,0 +1,13 @@</span>
<span class="gi">+class Staff::EntriesForm</span>
<span class="gi">+  include ActiveModel::Model</span>
<span class="gi">+</span>
<span class="gi">+  attr_accessor :program,</span>
<span class="gi">+                :approved,</span>
<span class="gi">+                :not_approved,</span>
<span class="gi">+                :canceled,</span>
<span class="gi">+                :not_canceled</span>
<span class="gi">+</span>
<span class="gi">+  def initialize(program)</span>
<span class="gi">+    @program = program</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
\ No newline at end of file
<span class="gh">diff --git a/app/views/staff/programs/_entries_form.html.erb b/app/views/staff/programs/_entries_form.html.erb</span>
<span class="gh">index 82dfc46..f59c5ba 100644</span>
<span class="gd">--- a/app/views/staff/programs/_entries_form.html.erb</span>
<span class="gi">+++ b/app/views/staff/programs/_entries_form.html.erb</span>
<span class="gu">@@ -18,16 +18,18 @@</span>
<span class="w"> </span>    &lt;% cols.times do |j| %&gt;
<span class="w"> </span>        &lt;% index = i * cols + j %&gt;
<span class="w"> </span>        &lt;% e = entries[index] || break %&gt;
<span class="gd">-        &lt;%= markup(:div, class: &#39;AppEntryForm__body&#39;) do |m|</span>
<span class="gi">+        &lt;%= markup(:div) do |m|</span>
<span class="w"> </span>          m.th index + 1
<span class="w"> </span>          m.td e.customer.family_name + &#39; &#39; + e.customer.given_name
<span class="w"> </span>          m.td do
<span class="gd">-            attributes = { type: &#39;checkbox&#39; }</span>
<span class="gi">+            attributes = { type: &#39;checkbox&#39;, class: &#39;isApproved&#39; }</span>
<span class="gi">+            attributes[&#39;data-entry-id&#39;] = e.id</span>
<span class="w"> </span>            attributes[:checked] = &#39;checked&#39; if e.approved?
<span class="w"> </span>            m.input attributes
<span class="w"> </span>          end
<span class="w"> </span>          m.td do
<span class="gd">-            attributes = { type: &#39;checkbox&#39; }</span>
<span class="gi">+            attributes = { type: &#39;checkbox&#39;, class: &#39;isCanceled&#39; }</span>
<span class="gi">+            attributes[&#39;data-entry-id&#39;] = e.id</span>
<span class="w"> </span>            attributes[:checked] = &#39;checked&#39; if e.canceled?
<span class="w"> </span>            m.input attributes
<span class="w"> </span>          end
<span class="gu">@@ -35,4 +37,14 @@</span>
<span class="w"> </span>      &lt;% end %&gt;
<span class="w"> </span>  &lt;/tr&gt;
<span class="w"> </span>  &lt;% end %&gt;
<span class="gd">-&lt;/table&gt;</span>
\ No newline at end of file
<span class="gi">+&lt;/table&gt;</span>
<span class="gi">+</span>
<span class="gi">+&lt;div class=&quot;AppEntryForm--button-wrapper&quot;&gt;</span>
<span class="gi">+  &lt;%= bootstrap_form_for Staff::EntriesForm.new(program: @program), as: &#39;form&#39;, url: [ :entries, :staff, @program ], html: { method: :patch } do |f| %&gt;</span>
<span class="gi">+      &lt;%= f.hidden_field :approved %&gt;</span>
<span class="gi">+      &lt;%= f.hidden_field :not_approved %&gt;</span>
<span class="gi">+      &lt;%= f.hidden_field :canceled %&gt;</span>
<span class="gi">+      &lt;%= f.hidden_field :not_canceled %&gt;</span>
<span class="gi">+      &lt;%= button_tag t(&#39;staff.programs.entries_form.update&#39;), type: &#39;button&#39;, id: &#39;update-entries-button&#39;, class: &#39;btn btn-default&#39; %&gt;</span>
<span class="gi">+  &lt;% end %&gt;</span>
<span class="gi">+&lt;/div&gt;</span>
\ No newline at end of file
<span class="gh">diff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml</span>
<span class="gh">index 00314d3..175ce07 100644</span>
<span class="gd">--- a/config/locales/views/ja.yml</span>
<span class="gi">+++ b/config/locales/views/ja.yml</span>
<span class="gu">@@ -144,6 +144,7 @@ ja:</span>
<span class="w"> </span>        name: &#39;氏名&#39;
<span class="w"> </span>        a: &#39;A&#39;
<span class="w"> </span>        c: &#39;C&#39;
<span class="gi">+        update: &#39;申し込みフラグを更新する&#39;</span>

<span class="w"> </span>  admin:
<span class="w"> </span>    shared:
<span class="gh">diff --git a/config/routes.rb b/config/routes.rb</span>
<span class="gh">index 1fe6a8a..8a753ed 100644</span>
<span class="gd">--- a/config/routes.rb</span>
<span class="gi">+++ b/config/routes.rb</span>
<span class="gu">@@ -21,6 +21,7 @@</span>
<span class="w"> </span>#                                 PATCH  /staff/customers/:id(.:format)                       staff/customers#update {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                                 PUT    /staff/customers/:id(.:format)                       staff/customers#update {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                                 DELETE /staff/customers/:id(.:format)                       staff/customers#destroy {:host=&gt;&quot;0.0.0.0&quot;}
<span class="gi">+#           entries_staff_program PATCH  /staff/programs/:id/entries(.:format)                staff/programs#entries {:host=&gt;&quot;0.0.0.0&quot;}</span>
<span class="w"> </span>#                  staff_programs GET    /staff/programs(.:format)                            staff/programs#index {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#                                 POST   /staff/programs(.:format)                            staff/programs#create {:host=&gt;&quot;0.0.0.0&quot;}
<span class="w"> </span>#               new_staff_program GET    /staff/programs/new(.:format)                        staff/programs#new {:host=&gt;&quot;0.0.0.0&quot;}
<span class="gu">@@ -72,7 +73,9 @@ Rails.application.routes.draw do</span>
<span class="w"> </span>      resource :account, only: [:show, :edit, :update]
<span class="w"> </span>      resource :password, only: [:show, :edit, :update]
<span class="w"> </span>      resources :customers
<span class="gd">-      resources :programs</span>
<span class="gi">+      resources :programs do</span>
<span class="gi">+        patch :entries, on: :member</span>
<span class="gi">+      end</span>
<span class="w"> </span>    end
<span class="w"> </span>  end
</code></pre></div>
<h3 id="_41">構造変更<a class="headerlink" href="#_41" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI1NjBweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjgxN3B4O2hlaWdodDo1NjBweDtiYWNrZ3JvdW5kOiMwMDAwMDA7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA4MTcgNTYwIiB3aWR0aD0iODE3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48cmVjdCBmaWxsPSIjMTMyNTFGIiBoZWlnaHQ9IjEiIHN0eWxlPSJzdHJva2U6IzEzMjUxRjtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxIiB4PSIwIiB5PSIwIi8+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY2LjkyMTkiIHg9IjUiIHk9IjE3Ij5QbGFudFVNTCAxLjIwMjUuNGJldGEyPC90ZXh0PjxyZWN0IGZpbGw9IiMzM0ZGMDIiIGhlaWdodD0iMjEuMjk2OSIgc3R5bGU9InN0cm9rZTojMzNGRjAyO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjM3My4yMTM4IiB4PSI1IiB5PSIyNi45Njg4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4MS4wMjI1IiB4PSI2IiB5PSI0MS45Njg4Ij5bRnJvbSBzdHJpbmcgKGxpbmUgMjkpIF08L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSI2Mi4yNjU2Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgxLjQyMjkiIHg9IjUiIHk9Ijc4LjU2MjUiPkBzdGFydHVtbDwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzczLjIxMzgiIHg9IjUiIHk9Ijk0Ljg1OTQiPnRpdGxlICYjMzg1NjA7JiMxMjM3NTsmIzEyNTAxOyYjMTI0NTE7JiMxMjU0MDsmIzEyNTIzOyYjMTI0ODk7JiMxMjM5MjtDb2ZmZWVTY3JpcHQmIzEyMzk1OyYjMTI0MjQ7JiMxMjQyNzsmIzEyNTAxOyYjMTI0NTc7JiMxMjU0MDsmIzEyNTEyOyYjMjA5NjY7JiMyOTcwMjs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSIxMTEuMTU2MyI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyODkuMjA4IiB4PSI1IiB5PSIxMjcuNDUzMSI+Y2xhc3MgIkVudHJpZXNGb3JtIiBhcyBDb2ZmZWVGb3JtIHs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNS44MjEzIiB4PSI1IiB5PSIxNDMuNzUiPitjb25zdHJ1Y3RvcigpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxODEuNjY1IiB4PSI1IiB5PSIxNjAuMDQ2OSI+LWhhbmRsZUVudHJpZXNCdXR0b24oKTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOS45NjY4IiB4PSI1IiB5PSIxNzYuMzQzOCI+fTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC44NzQiIHg9IjUiIHk9IjE5Mi42NDA2Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMyNy42Mzk2IiB4PSI1IiB5PSIyMDguOTM3NSI+Y2xhc3MgIlN0YWZmOjpFbnRyaWVzRm9ybSIgYXMgUnVieUZvcm0gezwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzkuMjM1NCIgeD0iNSIgeT0iMjI1LjIzNDQiPitwcm9ncmFtPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4Ni4zODU3IiB4PSI1IiB5PSIyNDEuNTMxMyI+K2FwcHJvdmVkPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTkuNjYzMSIgeD0iNSIgeT0iMjU3LjgyODEiPitub3RfYXBwcm92ZWQ8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgxLjU1MjciIHg9IjUiIHk9IjI3NC4xMjUiPitjYW5jZWxlZDwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE0LjgzMDEiIHg9IjUiIHk9IjI5MC40MjE5Ij4rbm90X2NhbmNlbGVkPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTkuNzc2NCIgeD0iNSIgeT0iMzA2LjcxODgiPitpbml0aWFsaXplKHByb2dyYW0pPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ljk2NjgiIHg9IjUiIHk9IjMyMy4wMTU2Ij59PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0Ljg3NCIgeD0iNSIgeT0iMzM5LjMxMjUiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTk2LjIyNTYiIHg9IjUiIHk9IjM1NS42MDk0Ij5ub3RlIHJpZ2h0IG9mIENvZmZlZUZvcm08L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIyMy44NjI3IiB4PSI1IiB5PSIzNzEuOTA2MyI+Q29mZmVlU2NyaXB0JiMxMjM5MTsmIzIzNDU1OyYjMzUwMTM7JiMxMjM3MzsmIzEyNDI4OyYjMTIzODM7JiMxMjQ2MzsmIzEyNTIxOyYjMTI0NzM7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMDkuOTk5MSIgeD0iNSIgeT0iMzg4LjIwMzEiPiYjMTI0ODE7JiMxMjQ1NTsmIzEyNDgzOyYjMTI0NjM7JiMxMjUwODsmIzEyNDgzOyYjMTI0NjM7JiMxMjQ3MzsmIzEyMzk4OyYjMjkzNjY7JiMyNDkwNzsmIzEyNDM0OyYjMzA0MzU7JiMzNTIyMjsmIzEyMzc1OzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY3Ljk5OTMiIHg9IjUiIHk9IjQwNC41Ij4mIzM4NTYwOyYjMTIzNzU7JiMxMjUwMTsmIzEyNDUxOyYjMTI1NDA7JiMxMjUyMzsmIzEyNDg5OyYjMTIzOTU7JiMyMDUxNjsmIzEyNDM0OyYjMzUzNzM7JiMyMzQ1MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcwLjEyOTkiIHg9IjUiIHk9IjQyMC43OTY5Ij5lbmQgbm90ZTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC44NzQiIHg9IjUiIHk9IjQzNy4wOTM4Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4NS4wNTU3IiB4PSI1IiB5PSI0NTMuMzkwNiI+bm90ZSByaWdodCBvZiBSdWJ5Rm9ybTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYzLjg5MzYiIHg9IjUiIHk9IjQ2OS42ODc1Ij5SdWJ5JiMxMjM5MTsmIzIzNDU1OyYjMzUwMTM7JiMxMjM3MzsmIzEyNDI4OyYjMTIzODM7JiMxMjUwMTsmIzEyNDU3OyYjMTI1NDA7JiMxMjUxMjsmIzEyNDU4OyYjMTI1MDI7JiMxMjQ3MjsmIzEyNDU1OyYjMTI0NjM7JiMxMjQ4ODs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzOS45OTk0IiB4PSI1IiB5PSI0ODUuOTg0NCI+JiMxMjUwMTsmIzEyNDU3OyYjMTI1NDA7JiMxMjUxMjsmIzEyMzk4OyYjMjkzNjY7JiMyNDkwNzsmIzEyNDM0OyYjMjA0NDU7JiMyNTM0NTs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcwLjEyOTkiIHg9IjUiIHk9IjUwMi4yODEzIj5lbmQgbm90ZTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC44NzQiIHg9IjUiIHk9IjUxOC41NzgxIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHQtZGVjb3JhdGlvbj0id2F2eSB1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjE1NC4zNTUzIiB4PSI1IiB5PSI1MzQuODc1Ij5hY3RvciAiJiMzMjg4NzsmIzIxNzI5OyIgYXMgU3RhZmY8L3RleHQ+PHRleHQgZmlsbD0iI0ZGMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgwMC4zNDQ3IiB4PSI5Ljg3NCIgeT0iNTUxLjE3MTkiPlVzZSAnYWxsb3dtaXhpbmcnIGlmIHlvdSB3YW50IHRvIG1peCBjbGFzc2VzIGFuZCBvdGhlciBVTUwgZWxlbWVudHMuIChBc3N1bWVkIGRpYWdyYW0gdHlwZTogY2xhc3MpPC90ZXh0PjwhLS1TUkM9W1pMRFRJbmoxNTdzVk5wN2FvSDhhekZEWG1LQVJMa29ScjN1QVBUc1R3QzJ3NnRPZDFMaUF4V3BNTDVEUThldHVLTEdZNlhEQzJvcmpiUlItYzlqRHVoX2V4RW9rTU1zNGxrc3pVLXd2UHl3emJyNWM0Tm8ta0dsLUVlWUZtRWlXVmU1ZVdOV0JWWUZsNTBnNEoxYWtCSkJtTXkzQm01U0x4NFoxVGVGYld6dzdEbVdQYmt2dkVGRk9QWXVidGhaWnBjVW14azZlRldwbkF2R3I3RGpaUmliV1paam8wdXRFd1JQZmFSWmFPT2FubnZSZnJuVGFLcW1sNTNKakFrVkpxaW4ybWJYcWRMYk5kcVRQbElXX05uMEpQTXM3Rkh6NFhjdVJuNGhvV3VaUWI1N1RlWV85SUNvWEVhaUdtSXdUZE1GT0FRSktleWo2NzBSamROdnoyTm5mSDBOeTdVMlZHSG0xRnE0V1ZFMjc4OEhBUlNTVl8wSnlUY19iVXRUZjVOWXJqck5sN3pJYXQtV1FzcmwxdWh4NHpIbDdHTmlKNFRsNGVRd2h3WDhWS0ZXbkg1RGdJaTJSODZoMFZ1UlFHYzViVEVidElicGR4NUV0dWdVUXdrNnVTQVJsX21aTXpqRzByNXBHWjVFb0pUclRtMWRXM0gxVjlJYzhmWThTQzJreTRZYmRwcnA3bWZjcWF3YVRhSHFQUFA5amcyU0FFNDVEYXpaWmI1WWNELTJSWkNSZHZRRTRIVG9PREdhSEtlQm53N3NiMTZsdXNZN25RZFZqTlVWdHpaeUx0UXJsdFRnTjRDbEZtaFZvZ1lmakhnTDhlSUd3VWFoT1dVLTNzOFhTd01zU3psbk1sNDdfZW84clpVMXpCVllwZGdmRFVvMHZkWm5JS2NJUk96YWlnOW02dk1OV0F0OFJ1a0tQaDhvNmF3aU9rd2RUcmt2RXMtYkI2UmtidFQ3a0pUbDlYU1d1SGJuYW1ZZzk2VlFHbVMzRjVfdEVzTHhBYTZHQTRaVnZ1NWItMGtVeXFEalNWN0xVSmdEY1phR2RfWFMwXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h2 id="1d20b95-">コミット: 1d20b95 - 多数のオブジェクトを一括編集するフォーム<a class="headerlink" href="#1d20b95-" title="Permanent link">&para;</a></h2>
<h3 id="_42">概要<a class="headerlink" href="#_42" title="Permanent link">&para;</a></h3>
<p>プログラム申し込み（エントリー）の一括編集用フォームを実装しました。これにより、職員はプログラムの詳細ページで複数のエントリーの承認状態やキャンセル状態を一度に確認・編集できるようになります。</p>
<h3 id="_43">技術的詳細<a class="headerlink" href="#_43" title="Permanent link">&para;</a></h3>
<ul>
<li>エントリーフォーム用のスタイルシート（<code>_appEntryForm.scss</code>）を作成</li>
<li>プログラム詳細ページにエントリーフォームを表示する部分テンプレートを追加</li>
<li>エントリーが存在する場合のみフォームを表示するよう条件分岐を追加</li>
<li>表形式でエントリー情報を表示し、チェックボックスで承認・キャンセル状態を編集可能に</li>
<li>多言語対応のための翻訳キーを追加</li>
</ul>
<h3 id="_44">変更されたファイル<a class="headerlink" href="#_44" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>A app/assets/stylesheets/components/_appEntryForm.scss</li>
<li>M app/assets/stylesheets/main.scss</li>
<li>A app/views/staff/programs/_entries_form.html.erb</li>
<li>M app/views/staff/programs/show.html.erb</li>
<li>M config/locales/views/ja.yml</li>
</ul>
<h3 id="_45">変更内容<a class="headerlink" href="#_45" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 1d20b95eb0354914d95efe20d45072492224dcc3
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Thu Feb 16 14:34:14 2017 +0900

<span class="w"> </span>   多数のオブジェクトを一括編集するフォーム #26

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index 9226786..6b5b55c 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -688,6 +688,7 @@ git push heroku master</span>
<span class="w"> </span>+ プログラムの削除

<span class="w"> </span>#### プログラム申し込み機能
<span class="gi">++ 多数のオブジェクトを一括編集するフォーム</span>

<span class="w"> </span>### トランザクションと排他的ロック
<span class="w"> </span>#### プログラム一覧表示・詳細表示機能（顧客向け)
<span class="gh">diff --git a/app/assets/stylesheets/components/_appEntryForm.scss b/app/assets/stylesheets/components/_appEntryForm.scss</span>
new file mode 100644
<span class="gh">index 0000000..fb61818</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/assets/stylesheets/components/_appEntryForm.scss</span>
<span class="gu">@@ -0,0 +1,31 @@</span>
<span class="gi">+// =====================</span>
<span class="gi">+// ApplicationEntryForm</span>
<span class="gi">+// ---------------------</span>
<span class="gi">+// アプリケーション用エントリーフォーム</span>
<span class="gi">+// =====================</span>
<span class="gi">+</span>
<span class="gi">+</span>
<span class="gi">+.AppEntryForm {</span>
<span class="gi">+  background-color: $dark_gray;</span>
<span class="gi">+</span>
<span class="gi">+  tr:nth-child(1) {</span>
<span class="gi">+    th {</span>
<span class="gi">+      background-color: $dark_gray;</span>
<span class="gi">+      color: $very_light_gray;</span>
<span class="gi">+      text-align: center;</span>
<span class="gi">+    }</span>
<span class="gi">+  }</span>
<span class="gi">+  tr {</span>
<span class="gi">+    th:nth-child(4n+1) {</span>
<span class="gi">+      padding: $moderate; width: 30px; text-align: right;</span>
<span class="gi">+    }</span>
<span class="gi">+    td { background-color: $very_light_gray }</span>
<span class="gi">+  }</span>
<span class="gi">+  &amp;--button-wrapper {</span>
<span class="gi">+    margin: $wide;</span>
<span class="gi">+    text-align: center;</span>
<span class="gi">+    button { padding: $moderate }</span>
<span class="gi">+  }</span>
<span class="gi">+  &amp;__body {</span>
<span class="gi">+  }</span>
<span class="gi">+}</span>
\ No newline at end of file
<span class="gh">diff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss</span>
<span class="gh">index 82d9d5f..2b95725 100644</span>
<span class="gd">--- a/app/assets/stylesheets/main.scss</span>
<span class="gi">+++ b/app/assets/stylesheets/main.scss</span>
<span class="gu">@@ -75,6 +75,7 @@</span>
<span class="w"> </span>@import &quot;./components/appForm&quot;;
<span class="w"> </span>@import &quot;./components/adminAppForm&quot;;
<span class="w"> </span>@import &quot;./components/staffAppForm&quot;;
<span class="gi">+@import &quot;./components/appEntryForm&quot;;</span>

<span class="w"> </span>// テーブル
<span class="w"> </span>@import &quot;./components/adminTable&quot;;
<span class="gh">diff --git a/app/views/staff/programs/_entries_form.html.erb b/app/views/staff/programs/_entries_form.html.erb</span>
new file mode 100644
<span class="gh">index 0000000..82dfc46</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/views/staff/programs/_entries_form.html.erb</span>
<span class="gu">@@ -0,0 +1,38 @@</span>
<span class="gi">+&lt;%</span>
<span class="gi">+  entries = @program.entries.includes(:customer).order(&#39;entries.id&#39;)</span>
<span class="gi">+  cols = 4</span>
<span class="gi">+  rows = entries.size / cols</span>
<span class="gi">+  rows += 1 unless entries.size % cols == 0</span>
<span class="gi">+%&gt;</span>
<span class="gi">+&lt;table class=&quot;Table__body StaffTable__body AppEntryForm&quot;&gt;</span>
<span class="gi">+  &lt;tr&gt;</span>
<span class="gi">+    &lt;% cols.times do %&gt;</span>
<span class="gi">+        &lt;th&gt;&lt;/th&gt;</span>
<span class="gi">+        &lt;th&gt;&lt;%= t(&#39;staff.programs.entries_form.name&#39;) %&gt;&lt;/th&gt;</span>
<span class="gi">+        &lt;th&gt;&lt;%= t(&#39;staff.programs.entries_form.a&#39;) %&gt;&lt;/th&gt;</span>
<span class="gi">+        &lt;th&gt;&lt;%= t(&#39;staff.programs.entries_form.c&#39;) %&gt;&lt;/th&gt;</span>
<span class="gi">+    &lt;% end %&gt;</span>
<span class="gi">+  &lt;/tr&gt;</span>
<span class="gi">+  &lt;% rows.times do |i| %&gt;</span>
<span class="gi">+  &lt;tr&gt;</span>
<span class="gi">+    &lt;% cols.times do |j| %&gt;</span>
<span class="gi">+        &lt;% index = i * cols + j %&gt;</span>
<span class="gi">+        &lt;% e = entries[index] || break %&gt;</span>
<span class="gi">+        &lt;%= markup(:div, class: &#39;AppEntryForm__body&#39;) do |m|</span>
<span class="gi">+          m.th index + 1</span>
<span class="gi">+          m.td e.customer.family_name + &#39; &#39; + e.customer.given_name</span>
<span class="gi">+          m.td do</span>
<span class="gi">+            attributes = { type: &#39;checkbox&#39; }</span>
<span class="gi">+            attributes[:checked] = &#39;checked&#39; if e.approved?</span>
<span class="gi">+            m.input attributes</span>
<span class="gi">+          end</span>
<span class="gi">+          m.td do</span>
<span class="gi">+            attributes = { type: &#39;checkbox&#39; }</span>
<span class="gi">+            attributes[:checked] = &#39;checked&#39; if e.canceled?</span>
<span class="gi">+            m.input attributes</span>
<span class="gi">+          end</span>
<span class="gi">+        end %&gt;</span>
<span class="gi">+      &lt;% end %&gt;</span>
<span class="gi">+  &lt;/tr&gt;</span>
<span class="gi">+  &lt;% end %&gt;</span>
<span class="gi">+&lt;/table&gt;</span>
\ No newline at end of file
<span class="gh">diff --git a/app/views/staff/programs/show.html.erb b/app/views/staff/programs/show.html.erb</span>
<span class="gh">index 8d7ee85..ef453c3 100644</span>
<span class="gd">--- a/app/views/staff/programs/show.html.erb</span>
<span class="gi">+++ b/app/views/staff/programs/show.html.erb</span>
<span class="gu">@@ -16,4 +16,6 @@</span>
<span class="w"> </span>  &lt;/table&gt;

<span class="w"> </span>  &lt;div class=&quot;Table__body--description&quot;&gt;&lt;%= @program.description %&gt;&lt;/div&gt;
<span class="gi">+</span>
<span class="gi">+  &lt;%= render &#39;entries_form&#39; if @program.number_of_applicants &gt; 0 %&gt;</span>
<span class="w"> </span>&lt;/section&gt;
\ No newline at end of file
<span class="gh">diff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml</span>
<span class="gh">index 280d466..00314d3 100644</span>
<span class="gd">--- a/config/locales/views/ja.yml</span>
<span class="gi">+++ b/config/locales/views/ja.yml</span>
<span class="gu">@@ -140,6 +140,10 @@ ja:</span>
<span class="w"> </span>        program_end_instruction: &#39;開始日時から90日後まで&#39;
<span class="w"> </span>        program_min_entry: &#39;最小参加者数&#39;
<span class="w"> </span>        program_max_entry: &#39;最大参観者数&#39;
<span class="gi">+      entries_form:</span>
<span class="gi">+        name: &#39;氏名&#39;</span>
<span class="gi">+        a: &#39;A&#39;</span>
<span class="gi">+        c: &#39;C&#39;</span>

<span class="w"> </span>  admin:
<span class="w"> </span>    shared:
</code></pre></div>
<h3 id="_46">構造変更<a class="headerlink" href="#_46" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI2NDFweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjgxN3B4O2hlaWdodDo2NDFweDtiYWNrZ3JvdW5kOiMwMDAwMDA7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA4MTcgNjQxIiB3aWR0aD0iODE3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48cmVjdCBmaWxsPSIjMEEyMTBDIiBoZWlnaHQ9IjEiIHN0eWxlPSJzdHJva2U6IzBBMjEwQztzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxIiB4PSIwIiB5PSIwIi8+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY2LjkyMTkiIHg9IjUiIHk9IjE3Ij5QbGFudFVNTCAxLjIwMjUuNGJldGEyPC90ZXh0PjxyZWN0IGZpbGw9IiMzM0ZGMDIiIGhlaWdodD0iMjEuMjk2OSIgc3R5bGU9InN0cm9rZTojMzNGRjAyO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjM1NS45MDYzIiB4PSI1IiB5PSIyNi45Njg4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4MS4wMjI1IiB4PSI2IiB5PSI0MS45Njg4Ij5bRnJvbSBzdHJpbmcgKGxpbmUgMzQpIF08L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSI2Mi4yNjU2Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgxLjQyMjkiIHg9IjUiIHk9Ijc4LjU2MjUiPkBzdGFydHVtbDwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzE3LjM1MDMiIHg9IjUiIHk9Ijk0Ljg1OTQiPnRpdGxlICYjMjI4MTA7JiMyNTk2ODsmIzEyMzk4OyYjMTI0NTg7JiMxMjUwMjsmIzEyNDcyOyYjMTI0NTU7JiMxMjQ2MzsmIzEyNDg4OyYjMTI0MzQ7JiMxOTk2ODsmIzI1MzI0OyYjMzIyMzI7JiMzODU5ODsmIzEyMzc3OyYjMTI0Mjc7JiMxMjUwMTsmIzEyNDU3OyYjMTI1NDA7JiMxMjUxMjs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSIxMTEuMTU2MyI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjYuNjY5OSIgeD0iNSIgeT0iMTI3LjQ1MzEiPmNsYXNzIFByb2dyYW0gezwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTQuMzk3NSIgeD0iNSIgeT0iMTQzLjc1Ij4raWQ6IGludGVnZXI8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMS4zOTc1IiB4PSI1IiB5PSIxNjAuMDQ2OSI+K3RpdGxlOiBzdHJpbmc8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1Ljk1NTEiIHg9IjUiIHk9IjE3Ni4zNDM4Ij4uLi48L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI1Mi4wNTQ3IiB4PSI1IiB5PSIxOTIuNjQwNiI+K251bWJlcl9vZl9hcHBsaWNhbnRzOiBpbnRlZ2VyPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ljk2NjgiIHg9IjUiIHk9IjIwOC45Mzc1Ij59PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0Ljg3NCIgeD0iNSIgeT0iMjI1LjIzNDQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTAxLjE3ODciIHg9IjUiIHk9IjI0MS41MzEzIj5jbGFzcyBFbnRyeSB7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NC4zOTc1IiB4PSI1IiB5PSIyNTcuODI4MSI+K2lkOiBpbnRlZ2VyPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNDEuMTEwNCIgeD0iNSIgeT0iMjc0LjEyNSI+K3Byb2dyYW1faWQ6IGludGVnZXIgJmx0OyZsdDtGSyZndDsmZ3Q7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNDcuNTAyIiB4PSI1IiB5PSIyOTAuNDIxOSI+K2N1c3RvbWVyX2lkOiBpbnRlZ2VyICZsdDsmbHQ7RksmZ3Q7Jmd0OzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU5LjgyNDIiIHg9IjUiIHk9IjMwNi43MTg4Ij4rYXBwcm92ZWQ6IGJvb2xlYW48L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1NC45OTEyIiB4PSI1IiB5PSIzMjMuMDE1NiI+K2NhbmNlbGVkOiBib29sZWFuPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ljk2NjgiIHg9IjUiIHk9IjMzOS4zMTI1Ij59PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0Ljg3NCIgeD0iNSIgeT0iMzU1LjYwOTQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM0Ljc5NzkiIHg9IjUiIHk9IjM3MS45MDYzIj5jbGFzcyBDdXN0b21lciB7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NC4zOTc1IiB4PSI1IiB5PSIzODguMjAzMSI+K2lkOiBpbnRlZ2VyPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjguMjY2NiIgeD0iNSIgeT0iNDA0LjUiPitmYW1pbHlfbmFtZTogc3RyaW5nPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjIuODI1MiIgeD0iNSIgeT0iNDIwLjc5NjkiPitnaXZlbl9uYW1lOiBzdHJpbmc8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1Ljk1NTEiIHg9IjUiIHk9IjQzNy4wOTM4Ij4uLi48L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkuOTY2OCIgeD0iNSIgeT0iNDUzLjM5MDYiPn08L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSI0NjkuNjg3NSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMjcuMTc0OCIgeD0iNSIgeT0iNDg1Ljk4NDQiPlByb2dyYW0gIjEiIG8tLSAiMC4uKiIgRW50cnkgOiBoYXNfbWFueSAmZ3Q7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMjIuNjE1MiIgeD0iNSIgeT0iNTAyLjI4MTMiPkVudHJ5ICIqIiAtLW8gIjEiIEN1c3RvbWVyIDogYmVsb25nc190byAmZ3Q7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0Ljg3NCIgeD0iNSIgeT0iNTE4LjU3ODEiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzU1LjkwNjMiIHg9IjUiIHk9IjUzNC44NzUiPm5vdGUgcmlnaHQgb2YgUHJvZ3JhbTo6bnVtYmVyX29mX2FwcGxpY2FudHM8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5NS45OTkxIiB4PSI1IiB5PSI1NTEuMTcxOSI+JiMxMjQ1NjsmIzEyNTMxOyYjMTI0ODg7JiMxMjUyMjsmIzEyNTQwOyYjMjU5Njg7JiMxMjQzNDsmIzIxNDYyOyYjMjQ0NzE7JiMxMjM3NzsmIzEyNDI3OyYjMTIzODM7JiMxMjQxNzsmIzEyMzk4OzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY3Ljk5OTMiIHg9IjUiIHk9IjU2Ny40Njg4Ij4mIzEyNDU5OyYjMTI0NTQ7JiMxMjUzMTsmIzEyNDc5OyYjMTI1NDA7JiMxMjQ2MTsmIzEyNTE1OyYjMTI0ODM7JiMxMjQ3MTsmIzEyNTE3OyYjMjM2NDY7JiMyNDYxNTs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcwLjEyOTkiIHg9IjUiIHk9IjU4My43NjU2Ij5lbmQgbm90ZTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC44NzQiIHg9IjUiIHk9IjYwMC4wNjI1Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHQtZGVjb3JhdGlvbj0id2F2eSB1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjE1NC4zNTUzIiB4PSI1IiB5PSI2MTYuMzU5NCI+YWN0b3IgIiYjMzI4ODc7JiMyMTcyOTsiIGFzIFN0YWZmPC90ZXh0Pjx0ZXh0IGZpbGw9IiNGRjAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MDAuMzQ0NyIgeD0iOS44NzQiIHk9IjYzMi42NTYzIj5Vc2UgJ2FsbG93bWl4aW5nJyBpZiB5b3Ugd2FudCB0byBtaXggY2xhc3NlcyBhbmQgb3RoZXIgVU1MIGVsZW1lbnRzLiAoQXNzdW1lZCBkaWFncmFtIHR5cGU6IGNsYXNzKTwvdGV4dD48IS0tU1JDPVtYTEpUSlhEMTVCd1ZmdlpxSWNzc21TSWhYakdCMHBWVWNGMDBwVDlFb29ReEVzSHRZbzc2WDlxSEtxRzJtRzJBSDBpWUJSLU1HMEdMdk02RXF2UXR5Q3BzUm9hNHhvUmRWRVZsRXotUG0wZmlIak5zVWNFYjNrNEhZM3NHZ28zRUdMSDFWMERQMWg3eXp0b2NDTl9HRkFqVFZObUR1R1NHeW8xTkdFbzJsMDFQOElIZGN4dkZkdGN5dzlhRVZLNklMWnZEQkpUV0hVUUhQQTBoZkFhVlU5UFI5QWJLWVlKVGFaRkVsMm1sUEN0OUlUbEFjTXhXem9EVVRaRUVrODR0VklGVlBCakVEY1FhbXlFWkpwQ1BhaW9MXzgweGNGZXM5elJvLTFIM3BwWmREWkRUbjlqa1pqYm5Ld191YXF3ZzZfS0JmY0ZQcXJkTlRGZko5T2xNNTdFbHNfSWFjQXJCSS05WFdkQjNlOGNYTEVmMWVaRFJjYXdPVmpPbnRNY1E4TXJKMGZzNm1JRHlobVZpWnpkU0JWaFBXMkVJazNuV3JCRUE0bTdiWEl4cHdWSGpsMThHRFAwZFVmQ0lUdGtYem9vTXJVQWctaEZNTU1SdTZLSThvcVZlRmVXVFpIUU5VaGRZNEVHTmExQjQ2U1lsd2xYSk93UEFjOWtka1p1WFBZeFc3YXNxbVpGclJaRDFKUC1FMU1RWEdDUHZvU3NSVVhRR1FvMEZHVEgxZWJlZ2hUc0p2WWMtcndGYXZyNThmX2NuMlZ1eTdkWXp3UlpVZWdZOGdyN2tFVFdFMldtWjhhbFZEbkFQMk9hd2VhT2NOV1ZmMUI2YnZJci1XVlgxdWd1LTRiNnR5S2FwVEVXbnBjdTdUQjM5eUFxd1ZBeXNRY3JRTFVMS0JQTHgtcFRrejExdTlKUE9rcFVOeGI0VUhFYmRlbEl1YXBoZmt4bE96Zm84SFh1eVlfYWZveXRQZkpwcHh3TXhudDJWbjk3Nk85SzFVU1hQTEpjRTVxOXljeUdxUk10TXJFeWpUUjQ4T05LVzNsLThyV3VRYm43SnRGdjljRXNwRW1YMndVcjEtRWdfNzFMQ3A3RVRmNVdfVHdZYXJxY2xiWFJrdUVOcVBNSkdId2d5NWxzMHpJWVIxM2NkRG8yczh3dFdMUEdIVEJMUExLVFJRY2ExYVByOTNUZ09rc3BqQkpKVlY2X0Nwa2lDQ2pJX2ZwdVJfNDB0RVdfS2NLNng1dE1ZYklWdF9uX0lGUlBfXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h2 id="6daf247-">コミット: 6daf247 - プログラム削除機能の実装<a class="headerlink" href="#6daf247-" title="Permanent link">&para;</a></h2>
<h3 id="_47">概要<a class="headerlink" href="#_47" title="Permanent link">&para;</a></h3>
<p>プログラムを削除する機能を実装しました。これにより、職員はプログラムを削除できるようになります。</p>
<h3 id="_48">技術的詳細<a class="headerlink" href="#_48" title="Permanent link">&para;</a></h3>
<ul>
<li><code>ProgramsController</code>に<code>destroy</code>アクションを追加</li>
<li>削除処理後に成功メッセージを表示し、プログラム一覧ページにリダイレクト</li>
<li>削除成功時のフラッシュメッセージを多言語対応ファイルに追加</li>
</ul>
<h3 id="_49">変更されたファイル<a class="headerlink" href="#_49" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M app/controllers/staff/programs_controller.rb</li>
<li>M config/locales/controllers/ja.yml</li>
</ul>
<h3 id="_50">変更内容<a class="headerlink" href="#_50" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 6daf247e353033716e7bafcc1733298276255fad
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Thu Feb 16 13:42:10 2017 +0900

<span class="w"> </span>   プログラムの削除 #26

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index fe2195a..9226786 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -685,6 +685,7 @@ git push heroku master</span>
<span class="w"> </span>+ プログラムの新規登録・編集フォーム
<span class="w"> </span>+ プログラムの新規登録と更新
<span class="w"> </span>+ バリデーション
<span class="gi">++ プログラムの削除</span>

<span class="w"> </span>#### プログラム申し込み機能

<span class="gh">diff --git a/app/controllers/staff/programs_controller.rb b/app/controllers/staff/programs_controller.rb</span>
<span class="gh">index fb819a3..7f487e3 100644</span>
<span class="gd">--- a/app/controllers/staff/programs_controller.rb</span>
<span class="gi">+++ b/app/controllers/staff/programs_controller.rb</span>
<span class="gu">@@ -39,4 +39,11 @@ class Staff::ProgramsController &lt; Staff::Base</span>
<span class="w"> </span>      render action: &#39;edit&#39;
<span class="w"> </span>    end
<span class="w"> </span>  end
<span class="gi">+</span>
<span class="gi">+  def destroy</span>
<span class="gi">+    program = Program.find(params[:id])</span>
<span class="gi">+    program.destroy!</span>
<span class="gi">+    flash.notice = t(&#39;.flash_notice&#39;)</span>
<span class="gi">+    redirect_to :staff_programs</span>
<span class="gi">+  end</span>
<span class="w"> </span>end
<span class="gh">diff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml</span>
<span class="gh">index 2c5878e..8b067bf 100644</span>
<span class="gd">--- a/config/locales/controllers/ja.yml</span>
<span class="gi">+++ b/config/locales/controllers/ja.yml</span>
<span class="gu">@@ -38,6 +38,8 @@ ja:</span>
<span class="w"> </span>      update:
<span class="w"> </span>        flash_notice: &#39;プログラムを更新しました。&#39;
<span class="w"> </span>        flash_alert: &#39;入力に誤りがあります。&#39;
<span class="gi">+      destroy:</span>
<span class="gi">+        flash_notice: &#39;プログラムを削除しました。&#39;</span>
<span class="w"> </span>  admin:
<span class="w"> </span>    base:
<span class="w"> </span>      authrize:
</code></pre></div>
<h3 id="_51">構造変更<a class="headerlink" href="#_51" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI0NDZweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjgxN3B4O2hlaWdodDo0NDZweDtiYWNrZ3JvdW5kOiMwMDAwMDA7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA4MTcgNDQ2IiB3aWR0aD0iODE3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48cmVjdCBmaWxsPSIjMjYwNDI2IiBoZWlnaHQ9IjEiIHN0eWxlPSJzdHJva2U6IzI2MDQyNjtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxIiB4PSIwIiB5PSIwIi8+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY2LjkyMTkiIHg9IjUiIHk9IjE3Ij5QbGFudFVNTCAxLjIwMjUuNGJldGEyPC90ZXh0PjxyZWN0IGZpbGw9IiMzM0ZGMDIiIGhlaWdodD0iMjEuMjk2OSIgc3R5bGU9InN0cm9rZTojMzNGRjAyO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjQ2MC45NDA0IiB4PSI1IiB5PSIyNi45Njg4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4MS4wMjI1IiB4PSI2IiB5PSI0MS45Njg4Ij5bRnJvbSBzdHJpbmcgKGxpbmUgMjIpIF08L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSI2Mi4yNjU2Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgxLjQyMjkiIHg9IjUiIHk9Ijc4LjU2MjUiPkBzdGFydHVtbDwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjA1LjM1MDgiIHg9IjUiIHk9Ijk0Ljg1OTQiPnRpdGxlICYjMTI1MDM7JiMxMjUyNTsmIzEyNDY0OyYjMTI1MjE7JiMxMjUxMjsmIzIxMDY2OyYjMzg1MDA7JiMyNzIzMTsmIzMzMDIxOyYjMTIzOTg7JiMyMzQ1NTsmIzM1MDEzOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC44NzQiIHg9IjUiIHk9IjExMS4xNTYzIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ2MC45NDA0IiB4PSI1IiB5PSIxMjcuNDUzMSI+Y2xhc3MgIlN0YWZmOjpQcm9ncmFtc0NvbnRyb2xsZXIiIGFzIFByb2dyYW1zQ29udHJvbGxlciB7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2Ny44Mzk4IiB4PSI1IiB5PSIxNDMuNzUiPitpbmRleCgpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NS4zNzg5IiB4PSI1IiB5PSIxNjAuMDQ2OSI+K3Nob3coKTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTYuOTIyOSIgeD0iNSIgeT0iMTc2LjM0MzgiPituZXcoKTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuNTM1MiIgeD0iNSIgeT0iMTkyLjY0MDYiPitlZGl0KCk8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc0Ljg2MDQiIHg9IjUiIHk9IjIwOC45Mzc1Ij4rY3JlYXRlKCk8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgwLjE3MTkiIHg9IjUiIHk9IjIyNS4yMzQ0Ij4rdXBkYXRlKCk8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5Mi41MTM0IiB4PSI1IiB5PSIyNDEuNTMxMyI+K2Rlc3Ryb3koKSAmbHQ7Jmx0OyYjMjYwMzI7JiMzNTIxNTsmIzM2ODYxOyYjMjExNTI7Jmd0OyZndDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkuOTY2OCIgeD0iNSIgeT0iMjU3LjgyODEiPn08L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSIyNzQuMTI1Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNi42Njk5IiB4PSI1IiB5PSIyOTAuNDIxOSI+Y2xhc3MgUHJvZ3JhbSB7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NC4zOTc1IiB4PSI1IiB5PSIzMDYuNzE4OCI+K2lkOiBpbnRlZ2VyPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDEuMzk3NSIgeD0iNSIgeT0iMzIzLjAxNTYiPit0aXRsZTogc3RyaW5nPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNS45NTUxIiB4PSI1IiB5PSIzMzkuMzEyNSI+Li4uPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ljk2NjgiIHg9IjUiIHk9IjM1NS42MDk0Ij59PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0Ljg3NCIgeD0iNSIgeT0iMzcxLjkwNjMiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjk4LjM1NDQiIHg9IjUiIHk9IjM4OC4yMDMxIj5Qcm9ncmFtc0NvbnRyb2xsZXIgLi4mZ3Q7IFByb2dyYW0gOiAmIzI1ODA1OyYjMjAzMTY7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0Ljg3NCIgeD0iNSIgeT0iNDA0LjUiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ3YXZ5IHVuZGVybGluZSIgdGV4dExlbmd0aD0iMTU0LjM1NTMiIHg9IjUiIHk9IjQyMC43OTY5Ij5hY3RvciAiJiMzMjg4NzsmIzIxNzI5OyIgYXMgU3RhZmY8L3RleHQ+PHRleHQgZmlsbD0iI0ZGMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgwMC4zNDQ3IiB4PSI5Ljg3NCIgeT0iNDM3LjA5MzgiPlVzZSAnYWxsb3dtaXhpbmcnIGlmIHlvdSB3YW50IHRvIG1peCBjbGFzc2VzIGFuZCBvdGhlciBVTUwgZWxlbWVudHMuIChBc3N1bWVkIGRpYWdyYW0gdHlwZTogY2xhc3MpPC90ZXh0PjwhLS1TUkM9W1hMOUhRekRHNTd1X2wtQU9mdlFvekZxby1nOXpzdUVXLTF3UnNvdkdhdjdTQ09pOEpJdjJMbko1Z0tFT1REdDZqaWVzMm5Dc05Dai1wNWRReDZiX21QbFJrOEt3eVVjUzlEX3Zsa3p5OXk4SEpPdWFEcWFVS3BHYUVJMnY3UXp0aHhfa0pHUXpIOHVmRjhiRlVpZGs2dTFRcW1lMkQ5dThncnZkeEI3bEROcGhIVjNHU3VObERQbFNEejBBeUVfTi0wZkFaY2xwYnVLWWI4OWJSb3NqQmpVNXN1djhReXRkYmsxZmp4ZllQdnREMHlOR0FYSG5TTjdvUFBaaWxxeWtudDV0a3JBMXJ0X0NQNmZRbWNSZWs4OHRrMHliYVF4NUsxNHVSV0RDcXFuN3hoNWNjZkxSM2VRSlpOVE51b3EwZ29PeTd1cWFGOGl0LWRlaGxKQ3l6clBUc185UlFDbTVUZE5VSmxPRm9pZFdURmZwRUZycVNWcmo5bl82Q3VVbEdNc2NZaU9fV2hqeDFFdWdfd3JSUDl3Z2daeTFRNEV1S0NiQmcwcmNib0V2SFQ0Ym9MRUFGYkJxVy1IdGFiOHJhMFVoc0xtRzMxekxid2ZGZ3JXRUtrUm9JY1FvcDFtUlNoV3huUGFKRExYTm5vcXVUbDRfaUVvUzMtUFdpcUtPUWZEallmSnY4LXN2U3BGZ0ozZVZ1Y3dGUDVfeGxvMHZla1p5UGhHRXU3ZzJlLXlxYldMd3pUbVlaNkt3YUZ6YkFGbkNxTGlBVW5KamZFSkg2U2EzYkdfQ3RMN2JiSUtPUmI4eFg3bHI1SVpmN3F4dFZnYXhzUFdRLUdxMF0tLT48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h2 id="59015b1-">コミット: 59015b1 - プログラムモデルのバリデーション強化<a class="headerlink" href="#59015b1-" title="Permanent link">&para;</a></h2>
<h3 id="_52">概要<a class="headerlink" href="#_52" title="Permanent link">&para;</a></h3>
<p>プログラムモデルに詳細なバリデーションルールを追加し、フォーム表示時のエラー表示機能を強化しました。これにより、プログラム作成・更新時のデータ検証が厳密になり、ユーザーにわかりやすくエラーを表示できるようになります。</p>
<h3 id="_53">技術的詳細<a class="headerlink" href="#_53" title="Permanent link">&para;</a></h3>
<ul>
<li>プログラムモデルに各種バリデーションルールを追加</li>
<li>タイトルと説明文の必須チェックと長さ制限</li>
<li>日付文字列の妥当性検証用のカスタムバリデータを作成</li>
<li>申し込み開始・終了日時の範囲チェック</li>
<li>参加者数の数値範囲チェック</li>
<li>フォーム表示時のエラー表示機能を強化</li>
<li>エラー時のスタイル（赤色のラベルとピンク色の背景）を追加</li>
<li>エラーメッセージの表示機能を追加</li>
<li>多言語対応のためのメッセージを追加</li>
</ul>
<h3 id="_54">変更されたファイル<a class="headerlink" href="#_54" title="Permanent link">&para;</a></h3>
<ul>
<li>M .idea/.generators</li>
<li>M README.md</li>
<li>M app/assets/stylesheets/components/_appForm.scss</li>
<li>A app/lib/date_string_validator.rb</li>
<li>M app/models/program.rb</li>
<li>M app/presenters/staff/program_form_presenter.rb</li>
<li>M config/locales/models/ja.yml</li>
</ul>
<h3 id="_55">変更内容<a class="headerlink" href="#_55" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 59015b15d50845516831a78dcc46852d600304c9
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Thu Feb 16 13:24:59 2017 +0900

<span class="w"> </span>   バリデーション #26

<span class="gh">diff --git a/.idea/.generators b/.idea/.generators</span>
<span class="gh">index 1618976..a68204b 100644</span>
<span class="gd">--- a/.idea/.generators</span>
<span class="gi">+++ b/.idea/.generators</span>
<span class="gu">@@ -5,4 +5,4 @@ You are allowed to:</span>
<span class="w"> </span>2. Remove generators
<span class="w"> </span>3. Add installed generators
<span class="w"> </span>To add new installed generators automatically delete this file and reload the project.
<span class="gd">---&gt;&lt;GeneratorsGroup&gt;&lt;Generator name=&quot;active_record:migration&quot; /&gt;&lt;Generator name=&quot;active_record:model&quot; /&gt;&lt;Generator name=&quot;active_record:observer&quot; /&gt;&lt;Generator name=&quot;active_record:session_migration&quot; /&gt;&lt;Generator name=&quot;controller&quot; /&gt;&lt;Generator name=&quot;erb:controller&quot; /&gt;&lt;Generator name=&quot;erb:mailer&quot; /&gt;&lt;Generator name=&quot;erb:scaffold&quot; /&gt;&lt;Generator name=&quot;generator&quot; /&gt;&lt;Generator name=&quot;helper&quot; /&gt;&lt;Generator name=&quot;integration_test&quot; /&gt;&lt;Generator name=&quot;mailer&quot; /&gt;&lt;Generator name=&quot;metal&quot; /&gt;&lt;Generator name=&quot;migration&quot; /&gt;&lt;Generator name=&quot;model&quot; /&gt;&lt;Generator name=&quot;model_subclass&quot; /&gt;&lt;Generator name=&quot;observer&quot; /&gt;&lt;Generator name=&quot;performance_test&quot; /&gt;&lt;Generator name=&quot;plugin&quot; /&gt;&lt;Generator name=&quot;resource&quot; /&gt;&lt;Generator name=&quot;scaffold&quot; /&gt;&lt;Generator name=&quot;scaffold_controller&quot; /&gt;&lt;Generator name=&quot;session_migration&quot; /&gt;&lt;Generator name=&quot;stylesheets&quot; /&gt;&lt;Generator name=&quot;test_unit:controller&quot; /&gt;&lt;Generator name=&quot;test_unit:helper&quot; /&gt;&lt;Generator name=&quot;test_unit:integration&quot; /&gt;&lt;Generator name=&quot;test_unit:mailer&quot; /&gt;&lt;Generator name=&quot;test_unit:model&quot; /&gt;&lt;Generator name=&quot;test_unit:observer&quot; /&gt;&lt;Generator name=&quot;test_unit:performance&quot; /&gt;&lt;Generator name=&quot;test_unit:plugin&quot; /&gt;&lt;Generator name=&quot;test_unit:scaffold&quot; /&gt;&lt;/GeneratorsGroup&gt;&lt;/Settings&gt;</span>
<span class="gi">+--&gt;&lt;GeneratorsGroup&gt;&lt;Generator name=&quot;annotate:install&quot; /&gt;&lt;Generator name=&quot;assets&quot; /&gt;&lt;Generator name=&quot;channel&quot; /&gt;&lt;Generator name=&quot;coffee:assets&quot; /&gt;&lt;Generator name=&quot;controller&quot; /&gt;&lt;Generator name=&quot;erd:install&quot; /&gt;&lt;Generator name=&quot;factory_girl:model&quot; /&gt;&lt;Generator name=&quot;generator&quot; /&gt;&lt;Generator name=&quot;helper&quot; /&gt;&lt;Generator name=&quot;i18n&quot; /&gt;&lt;Generator name=&quot;i18n_locale&quot; /&gt;&lt;Generator name=&quot;i18n_translation&quot; /&gt;&lt;Generator name=&quot;integration_test&quot; /&gt;&lt;Generator name=&quot;jbuilder&quot; /&gt;&lt;Generator name=&quot;job&quot; /&gt;&lt;Generator name=&quot;js:assets&quot; /&gt;&lt;Generator name=&quot;kaminari:config&quot; /&gt;&lt;Generator name=&quot;kaminari:views&quot; /&gt;&lt;Generator name=&quot;mailer&quot; /&gt;&lt;Generator name=&quot;migration&quot; /&gt;&lt;Generator name=&quot;model&quot; /&gt;&lt;Generator name=&quot;rack:dev-mark:install&quot; /&gt;&lt;Generator name=&quot;resource&quot; /&gt;&lt;Generator name=&quot;rspec:controller&quot; /&gt;&lt;Generator name=&quot;rspec:feature&quot; /&gt;&lt;Generator name=&quot;rspec:helper&quot; /&gt;&lt;Generator name=&quot;rspec:install&quot; /&gt;&lt;Generator name=&quot;rspec:integration&quot; /&gt;&lt;Generator name=&quot;rspec:job&quot; /&gt;&lt;Generator name=&quot;rspec:mailer&quot; /&gt;&lt;Generator name=&quot;rspec:model&quot; /&gt;&lt;Generator name=&quot;rspec:observer&quot; /&gt;&lt;Generator name=&quot;rspec:request&quot; /&gt;&lt;Generator name=&quot;rspec:scaffold&quot; /&gt;&lt;Generator name=&quot;rspec:view&quot; /&gt;&lt;Generator name=&quot;scaffold&quot; /&gt;&lt;Generator name=&quot;scaffold_controller&quot; /&gt;&lt;Generator name=&quot;task&quot; /&gt;&lt;Generator name=&quot;test_unit:controller&quot; /&gt;&lt;Generator name=&quot;test_unit:generator&quot; /&gt;&lt;Generator name=&quot;test_unit:helper&quot; /&gt;&lt;Generator name=&quot;test_unit:integration&quot; /&gt;&lt;Generator name=&quot;test_unit:job&quot; /&gt;&lt;Generator name=&quot;test_unit:mailer&quot; /&gt;&lt;Generator name=&quot;test_unit:model&quot; /&gt;&lt;Generator name=&quot;test_unit:plugin&quot; /&gt;&lt;Generator name=&quot;test_unit:scaffold&quot; /&gt;&lt;/GeneratorsGroup&gt;&lt;/Settings&gt;</span>
<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index 7e53182..fe2195a 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -684,6 +684,7 @@ git push heroku master</span>
<span class="w"> </span>+ プログラムの新規登録・更新フォームの仕様
<span class="w"> </span>+ プログラムの新規登録・編集フォーム
<span class="w"> </span>+ プログラムの新規登録と更新
<span class="gi">++ バリデーション</span>

<span class="w"> </span>#### プログラム申し込み機能

<span class="gh">diff --git a/app/assets/stylesheets/components/_appForm.scss b/app/assets/stylesheets/components/_appForm.scss</span>
<span class="gh">index 591163e..420d4b5 100644</span>
<span class="gd">--- a/app/assets/stylesheets/components/_appForm.scss</span>
<span class="gi">+++ b/app/assets/stylesheets/components/_appForm.scss</span>
<span class="gu">@@ -56,4 +56,8 @@</span>
<span class="w"> </span>      label { margin-right: $moderate }
<span class="w"> </span>    }
<span class="w"> </span>  }
<span class="gi">+  &amp;--with-errors {</span>
<span class="gi">+    label { color: $red }</span>
<span class="gi">+    input, select { background-color: $pink }</span>
<span class="gi">+  }</span>
<span class="w"> </span>}
\ No newline at end of file
<span class="gh">diff --git a/app/lib/date_string_validator.rb b/app/lib/date_string_validator.rb</span>
new file mode 100644
<span class="gh">index 0000000..fc89ae8</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/app/lib/date_string_validator.rb</span>
<span class="gu">@@ -0,0 +1,7 @@</span>
<span class="gi">+class DateStringValidator &lt; ActiveModel::EachValidator</span>
<span class="gi">+  def validate_each(record, attribute, value)</span>
<span class="gi">+    Date.parse(value) if value.present?</span>
<span class="gi">+  rescue ArgumentError</span>
<span class="gi">+    record.errors.add(attribute, :invalid)</span>
<span class="gi">+  end</span>
<span class="gi">+end</span>
\ No newline at end of file
<span class="gh">diff --git a/app/models/program.rb b/app/models/program.rb</span>
<span class="gh">index bd1ed70..dc9c294 100644</span>
<span class="gd">--- a/app/models/program.rb</span>
<span class="gi">+++ b/app/models/program.rb</span>
<span class="gu">@@ -34,6 +34,30 @@ class Program &lt; ApplicationRecord</span>
<span class="w"> </span>  before_validation :set_application_start_time
<span class="w"> </span>  before_validation :set_application_end_time

<span class="gi">+  validates :title, presence: true, length: { maximum: 32 }</span>
<span class="gi">+  validates :description, presence: true, length: { maximum: 800 }</span>
<span class="gi">+  validates :application_start_date, :application_end_date, date_string: true</span>
<span class="gi">+  validates :application_start_time, date: {</span>
<span class="gi">+      after_or_equal_to: Time.zone.local(2000, 1, 1),</span>
<span class="gi">+      before: -&gt; (obj) { 1.year.from_now },</span>
<span class="gi">+      allow_blank: true</span>
<span class="gi">+  }</span>
<span class="gi">+  validates :application_end_time, date: {</span>
<span class="gi">+      after: :application_start_time,</span>
<span class="gi">+      before: -&gt; (obj) { obj.application_start_time.advance(days: 90) },</span>
<span class="gi">+      allow_blank: true,</span>
<span class="gi">+      if: -&gt; (obj) { obj.application_start_time }</span>
<span class="gi">+  }</span>
<span class="gi">+  validates :min_number_of_participants, numericality: {</span>
<span class="gi">+      only_integer: true, greater_than_or_equal_to: 1,</span>
<span class="gi">+      less_than_or_equal_to: 1000, allow_blank: true</span>
<span class="gi">+  }</span>
<span class="gi">+  validate do</span>
<span class="gi">+    if min_number_of_participants &amp;&amp; max_number_of_participants &amp;&amp; min_number_of_participants &gt; max_number_of_participants</span>
<span class="gi">+      errors.add(:max_number_of_participants, :less_than_min_number)</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="w"> </span>  scope :listing, -&gt; {
<span class="w"> </span>    joins(&#39;LEFT JOIN entries ON programs.id = entries.program_id&#39;)
<span class="w"> </span>        .select(&#39;programs.*, COUNT(entries.id) AS number_of_applicants&#39;)
<span class="gh">diff --git a/app/presenters/staff/program_form_presenter.rb b/app/presenters/staff/program_form_presenter.rb</span>
<span class="gh">index 491dd3e..1dd3ea4 100644</span>
<span class="gd">--- a/app/presenters/staff/program_form_presenter.rb</span>
<span class="gi">+++ b/app/presenters/staff/program_form_presenter.rb</span>
<span class="gu">@@ -4,12 +4,18 @@ class Staff::ProgramFormPresenter &lt; FormPresenter</span>
<span class="w"> </span>      m &lt;&lt; decorated_label(:description, I18n.t(&#39;staff.programs.form.show&#39;), required: true)
<span class="w"> </span>      m &lt;&lt; text_area(:description, hide_label: true, row: 6, style: &#39;width: 454px&#39;)
<span class="w"> </span>      m.span &#39;(800文字以内)&#39;, class: &#39;instruction&#39;, style: &#39;float: right&#39;
<span class="gi">+      m &lt;&lt; error_message_for(:description)</span>
<span class="w"> </span>    end
<span class="w"> </span>  end

<span class="w"> </span>  def datetime_field_block(name, label_text, options = {})
<span class="w"> </span>    instruction = options.delete(:instruction)
<span class="gd">-    markup(:div, class: &#39;AppForm__input-block&#39;) do |m|</span>
<span class="gi">+    if object.errors.include?(&quot;#{name}_time&quot;.to_sym)</span>
<span class="gi">+      html_class = &#39;AppForm__input-block AppForm--with-errors&#39;</span>
<span class="gi">+    else</span>
<span class="gi">+      html_class = &#39;AppForm__input-block&#39;</span>
<span class="gi">+    end</span>
<span class="gi">+    markup(:div, class: &#39;AppForm__input-block html_class&#39;) do |m|</span>
<span class="w"> </span>      m &lt;&lt; decorated_label(&quot;#{name}_date&quot;, label_text, options)
<span class="w"> </span>      if options[:class].kind_of?(String)
<span class="w"> </span>        classes = options[:class].strip.split + [ &#39;datetimepicker&#39; ]
<span class="gu">@@ -22,6 +28,8 @@ class Staff::ProgramFormPresenter &lt; FormPresenter</span>
<span class="w"> </span>      m &lt;&lt; &#39;:&#39;
<span class="w"> </span>      m &lt;&lt; form_builder.select(&quot;#{name}_minute&quot;, (&#39;00&#39;..&#39;59&#39;).to_a, skip_label: true)
<span class="w"> </span>      m.span &quot;(#{instruction})&quot;, class: &#39;instruction&#39; if instruction
<span class="gi">+      m &lt;&lt; error_message_for(&quot;#{name}_time&quot;.to_sym)</span>
<span class="gi">+      m &lt;&lt; error_message_for(&quot;#{name}_date&quot;.to_sym)</span>
<span class="w"> </span>    end
<span class="w"> </span>  end
<span class="w"> </span>end
\ No newline at end of file
<span class="gh">diff --git a/config/locales/models/ja.yml b/config/locales/models/ja.yml</span>
<span class="gh">index b52d1db..95f4c93 100644</span>
<span class="gd">--- a/config/locales/models/ja.yml</span>
<span class="gi">+++ b/config/locales/models/ja.yml</span>
<span class="gu">@@ -6,6 +6,7 @@ ja:</span>
<span class="w"> </span>      staff_event: 職員イベント
<span class="w"> </span>      customer: 顧客
<span class="w"> </span>      address: 住所
<span class="gi">+      program: プログラム</span>

<span class="w"> </span>    attributes:
<span class="w"> </span>      administrator:
<span class="gu">@@ -87,6 +88,19 @@ ja:</span>
<span class="w"> </span>        primary: 優先
<span class="w"> </span>        last_four_digits: 電話番号下４桁

<span class="gi">+      program:</span>
<span class="gi">+        title: タイトル</span>
<span class="gi">+        description: 詳細</span>
<span class="gi">+        application_start_time: 申し込み開始日時</span>
<span class="gi">+        application_start_date: 申し込み開始日</span>
<span class="gi">+        application_end_time: 申し込み終了日時</span>
<span class="gi">+        application_end_date: 申し込み終了日</span>
<span class="gi">+        min_number_of_participants: 最小参加者数</span>
<span class="gi">+        max_number_of_participants: 最大参加者数</span>
<span class="gi">+        applicants: 応募者</span>
<span class="gi">+        entries: エントリー</span>
<span class="gi">+        registrant: 登録者</span>
<span class="gi">+</span>
<span class="w"> </span>    errors:
<span class="w"> </span>      models:
<span class="w"> </span>        staff_member:
<span class="gu">@@ -101,7 +115,6 @@ ja:</span>
<span class="w"> </span>                before: には1年後の日付より前の日付を指定してください。
<span class="w"> </span>                after: には開始日より後の日付を指定してください。
<span class="w"> </span>                after: には開始日より後の日付を指定してください。
<span class="gd">-</span>
<span class="w"> </span>        customer:
<span class="w"> </span>          attributes:
<span class="w"> </span>            email:
<span class="gu">@@ -109,6 +122,17 @@ ja:</span>
<span class="w"> </span>              birthday:
<span class="w"> </span>                after_or_equal_to: には1900年1月1日以降の日時を指定してください。
<span class="w"> </span>                before: が未来の日付です。
<span class="gi">+        program:</span>
<span class="gi">+          attributes:</span>
<span class="gi">+            applicatin_start_time:</span>
<span class="gi">+              after_or_equal_to: には2000年1月1日以降の日付を指定してください。</span>
<span class="gi">+              before: には現在から1年後までの日時を指定してください。</span>
<span class="gi">+            application_end_time:</span>
<span class="gi">+              after_or_equl_to: には2000年1月1日以降の日付を指定してください。</span>
<span class="gi">+              before: には申し込み開始日時から90日以内の日時を指定してください。</span>
<span class="gi">+              after: には申し込み開始日時よりも後の日時を指定してください。</span>
<span class="gi">+            max_number_of_participants:</span>
<span class="gi">+              less_than_min_number: には最小参加者以上の数を指定してください。</span>

<span class="w"> </span>  activemodel:
<span class="w"> </span>    models:
</code></pre></div>
<h3 id="_56">構造変更<a class="headerlink" href="#_56" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI1NDRweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjgxN3B4O2hlaWdodDo1NDRweDtiYWNrZ3JvdW5kOiMwMDAwMDA7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA4MTcgNTQ0IiB3aWR0aD0iODE3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48cmVjdCBmaWxsPSIjMTYyNTIyIiBoZWlnaHQ9IjEiIHN0eWxlPSJzdHJva2U6IzE2MjUyMjtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxIiB4PSIwIiB5PSIwIi8+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY2LjkyMTkiIHg9IjUiIHk9IjE3Ij5QbGFudFVNTCAxLjIwMjUuNGJldGEyPC90ZXh0PjxyZWN0IGZpbGw9IiMzM0ZGMDIiIGhlaWdodD0iMjEuMjk2OSIgc3R5bGU9InN0cm9rZTojMzNGRjAyO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjI5MC40NTIxIiB4PSI1IiB5PSIyNi45Njg4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4MS4wMjI1IiB4PSI2IiB5PSI0MS45Njg4Ij5bRnJvbSBzdHJpbmcgKGxpbmUgNDkpIF08L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSI2Mi4yNjU2Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgxLjQyMjkiIHg9IjUiIHk9Ijc4LjU2MjUiPkBzdGFydHVtbDwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjg5LjM1MDUiIHg9IjUiIHk9Ijk0Ljg1OTQiPnRpdGxlICYjMTI1MDM7JiMxMjUyNTsmIzEyNDY0OyYjMTI1MjE7JiMxMjUxMjsmIzEyNTE0OyYjMTI0ODc7JiMxMjUyMzsmIzEyMzk4OyYjMTI0OTY7JiMxMjUyMjsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3MTsmIzEyNTE5OyYjMTI1MzE7JiMyNDM3NTsmIzIxMjcwOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC44NzQiIHg9IjUiIHk9IjExMS4xNTYzIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNi42Njk5IiB4PSI1IiB5PSIxMjcuNDUzMSI+Y2xhc3MgUHJvZ3JhbSB7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NC4zOTc1IiB4PSI1IiB5PSIxNDMuNzUiPitpZDogaW50ZWdlcjwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUuOTU1MSIgeD0iNSIgeT0iMTYwLjA0NjkiPi4uLjwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTc3LjI2OTUiIHg9IjUiIHk9IjE3Ni4zNDM4Ij4uLi4gKCBza2lwcGluZyAyNCBsaW5lcyApPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNS45NTUxIiB4PSI1IiB5PSIxOTIuNjQwNiI+Li4uPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTQuNjM5IiB4PSI1IiB5PSIyMDguOTM3NSI+LSAmIzEyNDc5OyYjMTI0NTI7JiMxMjQ4ODsmIzEyNTIzOzogJiMyNDUxNzsmIzM4OTIwOyYjMTIyODk7MzImIzI1OTkxOyYjMjMzODM7JiMyMDE5NzsmIzIwODY5OzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTc2LjM4MDMiIHg9IjUiIHk9IjIyNS4yMzQ0Ij4tICYjMzU1MDA7JiMyNjEyNjs6ICYjMjQ1MTc7JiMzODkyMDsmIzEyMjg5OzgwMCYjMjU5OTE7JiMyMzM4MzsmIzIwMTk3OyYjMjA4Njk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDcuMTU2NyIgeD0iNSIgeT0iMjQxLjUzMTMiPi0gJiMyNjA4NTsmIzIwMTg0OzogJiMyNjM3NzsmIzIxMTc3OyYjMTIzOTQ7JiMyNjA4NTsmIzIwMTg0OyYjMjQ0MTg7JiMyNDMzNTs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIyMy44NjI2IiB4PSI1IiB5PSIyNTcuODI4MSI+LSAmIzM4MjgzOyYjMjI5ODc7JiMyNjA4NTsmIzI2MTc4OzogMjAwMCYjMjQxODA7JiMyMDE5NzsmIzM4NDc3OyYjMTIyODk7MSYjMjQxODA7JiMyMDE5NzsmIzIwODY5OzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjUwLjYzODciIHg9IjUiIHk9IjI3NC4xMjUiPi0gJiMzMjA2NjsmIzIwMTAyOyYjMjYwODU7JiMyNjE3ODs6ICYjMzgyODM7JiMyMjk4NzsmIzI2MDg1OyYjMjYxNzg7JiMxMjQyNDsmIzEyNDI2OyYjMjQ0NjA7JiMxMjI4OTs5MCYjMjYwODU7JiMyMDE5NzsmIzIwODY5OzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgxLjg2MjgiIHg9IjUiIHk9IjI5MC40MjE5Ij4tICYjMjE0NDI7JiMyMTE1MjsmIzMyNzczOyYjMjU5Njg7OiAxJiMxMjMxNjsxMDAwJiMxMjM5ODsmIzI1OTcyOyYjMjU5Njg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MC4xMjk5IiB4PSI1IiB5PSIzMDYuNzE4OCI+ZW5kIG5vdGU8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSIzMjMuMDE1NiI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNjIuNzczNCIgeD0iNSIgeT0iMzM5LjMxMjUiPm5vdGUgcmlnaHQgb2YgRGF0ZVN0cmluZ1ZhbGlkYXRvcjwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMxLjU5ODEiIHg9IjUiIHk9IjM1NS42MDk0Ij4mIzEyNDU5OyYjMTI0NzM7JiMxMjQ3OTsmIzEyNTEyOyYjMTI0OTY7JiMxMjUyMjsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs6PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMDkuOTk5MSIgeD0iNSIgeT0iMzcxLjkwNjMiPiYjMjU5OTE7JiMyMzM4MzsmIzIxMDE1OyYjMTIzNjQ7JiMyNjM3NzsmIzIxMTc3OyYjMTIzOTQ7JiMyNjA4NTsmIzIwMTg0OyYjMjQ0MTg7JiMyNDMzNTsmIzEyMzYzOyYjMTI0MzQ7JiMyNjkwODsmIzM1Mzg4OzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzAuMTI5OSIgeD0iNSIgeT0iMzg4LjIwMzEiPmVuZCBub3RlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0Ljg3NCIgeD0iNSIgeT0iNDA0LjUiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjkwLjQ1MjEiIHg9IjUiIHk9IjQyMC43OTY5Ij5ub3RlIHJpZ2h0IG9mIFByb2dyYW1Gb3JtUHJlc2VudGVyPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDUuNTk4IiB4PSI1IiB5PSI0MzcuMDkzOCI+JiMxMjQ1NjsmIzEyNTIxOyYjMTI1NDA7JiMzNDkyMDsmIzMxMDM0OyYjMjcyMzE7JiMzMzAyMTsmIzEyMzk4OyYjMjQzNzU7JiMyMTI3MDs6PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjQuNjgzOSIgeD0iNSIgeT0iNDUzLjM5MDYiPi0gJiMxMjQ1NjsmIzEyNTIxOyYjMTI1NDA7JiMyNjE3ODsmIzEyMzk4OyYjMTI0NzM7JiMxMjQ3OTsmIzEyNDUyOyYjMTI1MjM7JiMzNjk2OTsmIzI5OTkyOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY0LjY4MzkiIHg9IjUiIHk9IjQ2OS42ODc1Ij4tICYjMTI0NTY7JiMxMjUyMTsmIzEyNTQwOyYjMTI1MTM7JiMxMjQ4MzsmIzEyNDc1OyYjMTI1NDA7JiMxMjQ3MjsmIzEyMzk4OyYjMzQ5MjA7JiMzMTAzNDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcwLjEyOTkiIHg9IjUiIHk9IjQ4NS45ODQ0Ij5lbmQgbm90ZTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC44NzQiIHg9IjUiIHk9IjUwMi4yODEzIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHQtZGVjb3JhdGlvbj0id2F2eSB1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjE1NC4zNTUzIiB4PSI1IiB5PSI1MTguNTc4MSI+YWN0b3IgIiYjMzI4ODc7JiMyMTcyOTsiIGFzIFN0YWZmPC90ZXh0Pjx0ZXh0IGZpbGw9IiNGRjAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MDAuMzQ0NyIgeD0iOS44NzQiIHk9IjUzNC44NzUiPlVzZSAnYWxsb3dtaXhpbmcnIGlmIHlvdSB3YW50IHRvIG1peCBjbGFzc2VzIGFuZCBvdGhlciBVTUwgZWxlbWVudHMuIChBc3N1bWVkIGRpYWdyYW0gdHlwZTogY2xhc3MpPC90ZXh0PjwhLS1TUkM9W1hMTERSemo2NEJ0bGhyWmV2QzJuOEFVTmJXVFZjbE9TODQybDBZc2o1MjhLQUlwTkdPQVlXQ1k1NGJiTWNvMjlCR2pyTzJjRzROXzRKajhjUzFwQnJPeVBCS3NUeVhVd0lyOElCSkY4SkpscFBrUkRwMWtBNlNtYTY3V1ItMzV1eHU0VjBFeTJWbXR5MlYwWlM0LTBGbUQtNjN1N3U5cTJWbUZ5TnA0dTVRcWpYMGdjeFpadTNoTkJMQV9XdHo2WUtUSW1PSjVJOVhHakNmTFJtbXdaWGJMNllxTlk1QVhIUE9QalFQWUhYbW1qd2pNZ1FISHFQU2V4SkFTaXB1b0EzMmRnWkFYVkxuNzRBYnhwTG1taFJ3ckxMV2REc3dMeUxRT20yYVBManZZSjg1Qkg3dHVOYkNyY3FILUpaY3hCXzdUM3NoX2ZmWTZoc0xIcnpvMXdhM3BIMl9TTUEyZE9qN1dKd3FtWUx6U09rT2FiTzh0U2NFTjl0Nkx3Z1FIZnlPSC1qTWRiM1lLRWFKTGYxa2xKcUxybmc0ZmdGRmNJR1NuWVZqTXEyX1NOUmladm5LdEZzbWNiRGlyTllFRmVQVWNxd0tCOE9CQUxSN09iakh5RFpvdzZib190S0llNzVKTjllRTZXanRfUF91QUdQSkUyZ0w2LW54MVRjbFhIQ0JtR3BJd3VjLTJybURyRExPbzZiWjF1R18zd20xaklNSGVNbV9ndXN1MlEteUNqVi1rOUU2d0ZwbFY0dXhoNDFPVGxfVXNfNGVXVlN4YXZZRF9VNnZybFF6WlZNSFZEQ3QwRjh1RXVVMnE2SndMX2xCS1h0Y244ZXpfbkQ3bWhieWs5aXV5b1VqcHZLLVBSWlh2SGdpakZ0a1pCdW1hcTZHWFUweG9jLUF5Ykd0eEFYSE5ZNkY3S2FucTdqUmdfLUx4M29yM1JNUE9idkJOdWNuLWIyS2NiT1pNaC1PY2J4MDYxVG1KVWNQZ0RFaHBhdzhPUVlqZU1aSlF1aFRIVW1UcTB4eGRWdG1kczF6eWljeFBYTU5TX2xGUDFqNXBfTzNWVzV4QTV3QlFaVlNLOERHbHY5T1hPZ1dxVVpUcTM5UHE0MWRXRkUwVmxGQUotTVU5WnFTbjh3R01ia3FwV2RlZU5sTDMtdU5jV0xObERBa2hxNFN2Uy1tdjlJS045a281VVRPMEFqaU1lUlU5Q3Q5UnBTc0dtdXZrUUZNTGotR3J3RDRLY0otd05xM0w1ZjZtY0hDX3NYNEFvVTZhYlAyNkZPZXdpcC1rWS1xN0t6cUpwUm5IMjk3SjZIR1FDUS12ZXM0QzlzekJBTEpoZ0E4VWxuRjRza2NmRW1RTF9icXpzV3J4aFVkM293WUZyOThIcjRnajdEcmJ3TGhfbkozSHR2eEZFVG5TSFp4Nzk3WUttNmZzaTdOaGRmOEE4d1AxbHpERl91Ni1zbHJTdnVaekx1am8wOXprUVlaZFNhcGdRcHBybUVfNmc0WUpkM2tGaGUxNXl3V1ZoX3VKNlpsZk5oQmQwTnFmd3VCcUJVQ2xsbEZpd001U3dfbnkwXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h2 id="2831d4b-">コミット: 2831d4b - プログラムの新規登録と更新機能<a class="headerlink" href="#2831d4b-" title="Permanent link">&para;</a></h2>
<h3 id="_57">概要<a class="headerlink" href="#_57" title="Permanent link">&para;</a></h3>
<p>プログラムの新規登録と更新機能を実装しました。これにより、職員はプログラムを作成・編集できるようになります。</p>
<h3 id="_58">技術的詳細<a class="headerlink" href="#_58" title="Permanent link">&para;</a></h3>
<ul>
<li><code>ProgramsController</code>に<code>create</code>と<code>update</code>アクションを追加</li>
<li><code>ProgramForm</code>クラスに<code>assign_attributes</code>メソッドを追加してフォームデータの割り当て処理を実装</li>
<li>プログラムモデルに日時変換用のコールバックメソッドを追加</li>
<li><code>set_application_start_time</code>: 申し込み開始日時を設定</li>
<li><code>set_application_end_time</code>: 申し込み終了日時を設定</li>
<li>成功・失敗時のフラッシュメッセージを多言語対応ファイルに追加</li>
</ul>
<h3 id="_59">変更されたファイル<a class="headerlink" href="#_59" title="Permanent link">&para;</a></h3>
<ul>
<li>M README.md</li>
<li>M app/controllers/staff/programs_controller.rb</li>
<li>M app/forms/staff/program_form.rb</li>
<li>M app/models/program.rb</li>
<li>M config/locales/controllers/ja.yml</li>
</ul>
<h3 id="_60">変更内容<a class="headerlink" href="#_60" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 2831d4b78dc2208e4f4b7d222d5612252bb97ccd
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Thu Feb 16 12:05:44 2017 +0900

<span class="w"> </span>   プログラムの新規登録と更新 #26

<span class="gh">diff --git a/README.md b/README.md</span>
<span class="gh">index 5100173..7e53182 100644</span>
<span class="gd">--- a/README.md</span>
<span class="gi">+++ b/README.md</span>
<span class="gu">@@ -683,6 +683,7 @@ git push heroku master</span>
<span class="w"> </span>#### プログラム管理機能（後編）
<span class="w"> </span>+ プログラムの新規登録・更新フォームの仕様
<span class="w"> </span>+ プログラムの新規登録・編集フォーム
<span class="gi">++ プログラムの新規登録と更新</span>

<span class="w"> </span>#### プログラム申し込み機能

<span class="gh">diff --git a/app/controllers/staff/programs_controller.rb b/app/controllers/staff/programs_controller.rb</span>
<span class="gh">index 980bf48..fb819a3 100644</span>
<span class="gd">--- a/app/controllers/staff/programs_controller.rb</span>
<span class="gi">+++ b/app/controllers/staff/programs_controller.rb</span>
<span class="gu">@@ -14,4 +14,29 @@ class Staff::ProgramsController &lt; Staff::Base</span>
<span class="w"> </span>  def edit
<span class="w"> </span>    @program_form = Staff::ProgramForm.new(Program.find(params[:id]))
<span class="w"> </span>  end
<span class="gi">+</span>
<span class="gi">+  def create</span>
<span class="gi">+    @program_form = Staff::ProgramForm.new</span>
<span class="gi">+    @program_form.assign_attributes(params[:form])</span>
<span class="gi">+    @program_form.program.registrant = current_staff_member</span>
<span class="gi">+    if @program_form.save</span>
<span class="gi">+      flash.notice = t(&#39;.flash_notice&#39;)</span>
<span class="gi">+      redirect_to action: &#39;index&#39;</span>
<span class="gi">+    else</span>
<span class="gi">+      flash.now.alert = t(&#39;.flash_alert&#39;)</span>
<span class="gi">+      render action: &#39;new&#39;</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  def update</span>
<span class="gi">+    @program_form = Staff::ProgramForm.new(Program.find(params[:id]))</span>
<span class="gi">+    @program_form.assign_attributes(params[:form])</span>
<span class="gi">+    if @program_form.save</span>
<span class="gi">+      flash.notice = t(&#39;.flash_notice&#39;)</span>
<span class="gi">+      redirect_to action: &#39;index&#39;</span>
<span class="gi">+    else</span>
<span class="gi">+      flash.now.alert = t(&#39;.flash_alert&#39;)</span>
<span class="gi">+      render action: &#39;edit&#39;</span>
<span class="gi">+    end</span>
<span class="gi">+  end</span>
<span class="w"> </span>end
<span class="gh">diff --git a/app/forms/staff/program_form.rb b/app/forms/staff/program_form.rb</span>
<span class="gh">index ef147e2..55ef681 100644</span>
<span class="gd">--- a/app/forms/staff/program_form.rb</span>
<span class="gi">+++ b/app/forms/staff/program_form.rb</span>
<span class="gu">@@ -25,4 +25,25 @@ class Staff::ProgramForm</span>
<span class="w"> </span>      @program.application_end_minute = &#39;00&#39;
<span class="w"> </span>    end
<span class="w"> </span>  end
<span class="gi">+</span>
<span class="gi">+  def assign_attributes(params = {})</span>
<span class="gi">+    @params = params</span>
<span class="gi">+    program.assign_attributes(program_params)</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  private</span>
<span class="gi">+  def program_params</span>
<span class="gi">+    @params.require(:program).permit(</span>
<span class="gi">+                                 :title,</span>
<span class="gi">+                                 :description,</span>
<span class="gi">+                                 :application_start_date,</span>
<span class="gi">+                                 :application_start_hour,</span>
<span class="gi">+                                 :application_start_minute,</span>
<span class="gi">+                                 :application_end_date,</span>
<span class="gi">+                                 :application_end_hour,</span>
<span class="gi">+                                 :application_end_minute,</span>
<span class="gi">+                                 :min_number_of_participants,</span>
<span class="gi">+                                 :max_number_of_participants</span>
<span class="gi">+    )</span>
<span class="gi">+  end</span>
<span class="w"> </span>end
\ No newline at end of file
<span class="gh">diff --git a/app/models/program.rb b/app/models/program.rb</span>
<span class="gh">index 46c9dd1..bd1ed70 100644</span>
<span class="gd">--- a/app/models/program.rb</span>
<span class="gi">+++ b/app/models/program.rb</span>
<span class="gu">@@ -31,6 +31,9 @@ class Program &lt; ApplicationRecord</span>
<span class="w"> </span>                :application_end_hour,
<span class="w"> </span>                :application_end_minute

<span class="gi">+  before_validation :set_application_start_time</span>
<span class="gi">+  before_validation :set_application_end_time</span>
<span class="gi">+</span>
<span class="w"> </span>  scope :listing, -&gt; {
<span class="w"> </span>    joins(&#39;LEFT JOIN entries ON programs.id = entries.program_id&#39;)
<span class="w"> </span>        .select(&#39;programs.*, COUNT(entries.id) AS number_of_applicants&#39;)
<span class="gu">@@ -38,4 +41,31 @@ class Program &lt; ApplicationRecord</span>
<span class="w"> </span>        .order(application_start_time: :desc)
<span class="w"> </span>        .includes(:registrant)
<span class="w"> </span>  }
<span class="gi">+</span>
<span class="gi">+  private</span>
<span class="gi">+  def set_application_start_time</span>
<span class="gi">+    return if application_start_date.blank?</span>
<span class="gi">+    Date.parse(application_start_date)</span>
<span class="gi">+    if t = Time.zone.parse(application_start_date)</span>
<span class="gi">+      self.application_start_time = t.advance(</span>
<span class="gi">+                                         hours: application_start_hour.to_i,</span>
<span class="gi">+                                         minutes: application_start_minute.to_i</span>
<span class="gi">+      )</span>
<span class="gi">+    end</span>
<span class="gi">+  rescue ArgumentError</span>
<span class="gi">+    self.application_start_time = nil</span>
<span class="gi">+  end</span>
<span class="gi">+</span>
<span class="gi">+  def set_application_end_time</span>
<span class="gi">+    return if application_end_date.blank?</span>
<span class="gi">+    Date.parse(application_end_date)</span>
<span class="gi">+    if t = Time.zone.parse(application_end_date)</span>
<span class="gi">+      self.application_end_time = t.advance(</span>
<span class="gi">+          hours: application_end_hour.to_i,</span>
<span class="gi">+          minutes: application_end_minute.to_i</span>
<span class="gi">+      )</span>
<span class="gi">+    end</span>
<span class="gi">+  rescue ArgumentError</span>
<span class="gi">+    self.application_end_time = nil</span>
<span class="gi">+  end</span>
<span class="w"> </span>end
<span class="gh">diff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml</span>
<span class="gh">index 54638d6..2c5878e 100644</span>
<span class="gd">--- a/config/locales/controllers/ja.yml</span>
<span class="gi">+++ b/config/locales/controllers/ja.yml</span>
<span class="gu">@@ -31,6 +31,13 @@ ja:</span>
<span class="w"> </span>        flash_alert: &#39;入力に誤りがあります。&#39;
<span class="w"> </span>      destroy:
<span class="w"> </span>        flash_notice: &#39;顧客をアカウントを削除しました。&#39;
<span class="gi">+    programs:</span>
<span class="gi">+      create:</span>
<span class="gi">+        flash_notice: &#39;プログラムを登録しました。&#39;</span>
<span class="gi">+        flash_alert: &#39;入力に誤りがあります。&#39;</span>
<span class="gi">+      update:</span>
<span class="gi">+        flash_notice: &#39;プログラムを更新しました。&#39;</span>
<span class="gi">+        flash_alert: &#39;入力に誤りがあります。&#39;</span>
<span class="w"> </span>  admin:
<span class="w"> </span>    base:
<span class="w"> </span>      authrize:
</code></pre></div>
<h3 id="_61">構造変更<a class="headerlink" href="#_61" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI1NDRweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjgxN3B4O2hlaWdodDo1NDRweDtiYWNrZ3JvdW5kOiMwMDAwMDA7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA4MTcgNTQ0IiB3aWR0aD0iODE3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48cmVjdCBmaWxsPSIjMTkxODA1IiBoZWlnaHQ9IjEiIHN0eWxlPSJzdHJva2U6IzE5MTgwNTtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxIiB4PSIwIiB5PSIwIi8+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY2LjkyMTkiIHg9IjUiIHk9IjE3Ij5QbGFudFVNTCAxLjIwMjUuNGJldGEyPC90ZXh0PjxyZWN0IGZpbGw9IiMzM0ZGMDIiIGhlaWdodD0iMjEuMjk2OSIgc3R5bGU9InN0cm9rZTojMzNGRjAyO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjQ2MC45NDA0IiB4PSI1IiB5PSIyNi45Njg4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4MS4wMjI1IiB4PSI2IiB5PSI0MS45Njg4Ij5bRnJvbSBzdHJpbmcgKGxpbmUgNTApIF08L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSI2Mi4yNjU2Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgxLjQyMjkiIHg9IjUiIHk9Ijc4LjU2MjUiPkBzdGFydHVtbDwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjQ3LjM1MDYiIHg9IjUiIHk9Ijk0Ljg1OTQiPnRpdGxlICYjMTI1MDM7JiMxMjUyNTsmIzEyNDY0OyYjMTI1MjE7JiMxMjUxMjsmIzEyMzk4OyYjMjYwMzI7JiMzNTIxNTsmIzMwMzMxOyYjMzc2ODI7JiMxMjM5MjsmIzI2MzU2OyYjMjYwMzI7JiMyNzIzMTsmIzMzMDIxOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC44NzQiIHg9IjUiIHk9IjExMS4xNTYzIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ2MC45NDA0IiB4PSI1IiB5PSIxMjcuNDUzMSI+Y2xhc3MgIlN0YWZmOjpQcm9ncmFtc0NvbnRyb2xsZXIiIGFzIFByb2dyYW1zQ29udHJvbGxlciB7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2Ny44Mzk4IiB4PSI1IiB5PSIxNDMuNzUiPitpbmRleCgpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNS45NTUxIiB4PSI1IiB5PSIxNjAuMDQ2OSI+Li4uPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNzcuMjY5NSIgeD0iNSIgeT0iMTc2LjM0MzgiPi4uLiAoIHNraXBwaW5nIDI1IGxpbmVzICk8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1Ljk1NTEiIHg9IjUiIHk9IjE5Mi42NDA2Ij4uLi48L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMzOS4wMjgyIiB4PSI1IiB5PSIyMDguOTM3NSI+UHJvZ3JhbXNDb250cm9sbGVyIC4uJmd0OyBQcm9ncmFtRm9ybSA6ICYjMjAzNTE7JiMyOTk5Mjs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI1MS42MjM5IiB4PSI1IiB5PSIyMjUuMjM0NCI+UHJvZ3JhbUZvcm0gLi4mZ3Q7IFByb2dyYW0gOiAmIzI1ODA1OyYjMjAzMTY7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0Ljg3NCIgeD0iNSIgeT0iMjQxLjUzMTMiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjU5LjYzNTciIHg9IjUiIHk9IjI1Ny44MjgxIj5ub3RlIHJpZ2h0IG9mIFByb2dyYW1zQ29udHJvbGxlcjwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTczLjU5NzkiIHg9IjUiIHk9IjI3NC4xMjUiPiYjMjYwMzI7JiMzNTIxNTsmIzM2ODYxOyYjMjExNTI7JiMxMjM3MzsmIzEyNDI4OyYjMTIzODM7JiMxMjQ1MDsmIzEyNDYzOyYjMTI0NzE7JiMxMjUxOTsmIzEyNTMxOzo8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5Ny40ODk3IiB4PSI1IiB5PSIyOTAuNDIxOSI+LSBjcmVhdGU6ICYjMjYwMzI7JiMzNTIxNTsmIzEyNTAzOyYjMTI1MjU7JiMxMjQ2NDsmIzEyNTIxOyYjMTI1MTI7JiMyMDMxNjsmIzI1MTA0OzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjAyLjgwMTIiIHg9IjUiIHk9IjMwNi43MTg4Ij4tIHVwZGF0ZTogJiMyNjA4MjsmIzIzMzg0OyYjMTI1MDM7JiMxMjUyNTsmIzEyNDY0OyYjMTI1MjE7JiMxMjUxMjsmIzI2MzU2OyYjMjYwMzI7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MC4xMjk5IiB4PSI1IiB5PSIzMjMuMDE1NiI+ZW5kIG5vdGU8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSIzMzkuMzEyNSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNjEuMDQ2OSIgeD0iNSIgeT0iMzU1LjYwOTQiPm5vdGUgcmlnaHQgb2YgUHJvZ3JhbUZvcm06OmFzc2lnbl9hdHRyaWJ1dGVzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNTEuOTk4OSIgeD0iNSIgeT0iMzcxLjkwNjMiPiYjMTI1MDE7JiMxMjQ1NzsmIzEyNTQwOyYjMTI1MTI7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7JiMxMjQzNDsmIzEyNTAzOyYjMTI1MjU7JiMxMjQ2NDsmIzEyNTIxOyYjMTI1MTI7JiMxMjM5NTsmIzIxMTA2OyYjMTI0MjY7JiMyNDQwMzsmIzEyMzkwOzwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYxLjcyNzEiIHg9IjUiIHk9IjM4OC4yMDMxIj5TdHJvbmcgUGFyYW1ldGVycyYjMTIzOTU7JiMxMjQyNDsmIzEyNDI3OyYjMjM0MzM7JiMyMDg0MDsmIzEyMzk0OyYjMjAxOTU7JiMyMDgzNzs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcwLjEyOTkiIHg9IjUiIHk9IjQwNC41Ij5lbmQgbm90ZTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC44NzQiIHg9IjUiIHk9IjQyMC43OTY5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM5MC41MDI5IiB4PSI1IiB5PSI0MzcuMDkzOCI+bm90ZSByaWdodCBvZiBQcm9ncmFtOjpzZXRfYXBwbGljYXRpb25fc3RhcnRfdGltZTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjk5OTMiIHg9IjUiIHk9IjQ1My4zOTA2Ij4mIzI2MDg1OyYjMjAxODQ7JiMxMjM5MjsmIzI2MTc4OyYjMjEwNTE7JiMxMjM5ODsmIzI1OTkxOyYjMjMzODM7JiMyMTAxNTsmIzEyMzYzOyYjMTI0MjU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMDEuNjg3IiB4PSI1IiB5PSI0NjkuNjg3NSI+RGF0ZVRpbWUmIzEyNDU4OyYjMTI1MDI7JiMxMjQ3MjsmIzEyNDU1OyYjMTI0NjM7JiMxMjQ4ODsmIzEyNDM0OyYjMjk5ODM7JiMyNTEwNDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcwLjEyOTkiIHg9IjUiIHk9IjQ4NS45ODQ0Ij5lbmQgbm90ZTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC44NzQiIHg9IjUiIHk9IjUwMi4yODEzIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHQtZGVjb3JhdGlvbj0id2F2eSB1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjE1NC4zNTUzIiB4PSI1IiB5PSI1MTguNTc4MSI+YWN0b3IgIiYjMzI4ODc7JiMyMTcyOTsiIGFzIFN0YWZmPC90ZXh0Pjx0ZXh0IGZpbGw9IiNGRjAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MDAuMzQ0NyIgeD0iOS44NzQiIHk9IjUzNC44NzUiPlVzZSAnYWxsb3dtaXhpbmcnIGlmIHlvdSB3YW50IHRvIG1peCBjbGFzc2VzIGFuZCBvdGhlciBVTUwgZWxlbWVudHMuIChBc3N1bWVkIGRpYWdyYW0gdHlwZTogY2xhc3MpPC90ZXh0PjwhLS1TUkM9W2JMSEJKemowNEJ4bGhyWmI1MUdibExpcUthTFJ6VFA4Uzh6Q2lXY01aMXRQY25QUUxNaE1lWUcxcjhmTkdCR0FLMXcxNVdncTRnWDliMXlwU1BBVS0wbFRqR0N1cGdGZ29VbFBSc1UtY1ZiY2c0OUxXaTRnV05LNngwQWk0eDFzOE5WVXNocGU3N3JpUnJWX0I1ejFoakJRLVNLamhQRG9ud2VaYjUxYnF5STFJSWdkS2Y4S0NfSXE4Uy1RNHhmNjNMckxZSDcwaWVkeHBWV2oyWWJRYWltNW5yMzhkRDVWWXd6NmQwejlBYkh5NG1RSEFHY0V1VjVuYnFBZEtSVUJrejRlMmNLcG9JNU54dVBHVWd1UmlydWt1Yi1Hb0JZX1dlcjI1TGJMdGYxV3J1T1ZPcXJIRUg3a0phYmhTUGJJR3ZkRUtjODZDeDk4UHEzdVNGVGp0NE1DUERYYnVmR1lBTTU1ZW9IRDMxSVllV3lJRGRhcUJPcjJJTThjMzJMMzVMc0pDMkxwYjFGQVA1R2I4R2pKdEFJb0dVREtjVUxGSDU3NGdIVDFqQUpfRlhBOWVCMTlRN29tZnE2cS0gLTF0UmVWYUVBM2RhS1lxZl9tSVJqT1J4VktBeVhlejgwdmVoUXFxd3Z5SHFkSEFpQTZhUG9aTUttRnFYQm00OEJTMVIxYm9QTTN4bTd1MGttUmg2QW9WNFdmWkxySlNpT0Z0WVBzN1FrS19TUEloQnV1Z3hUamRNcHdLRW0yOHZ1eTVoSTdhSDNBSXIyU1QxMU9kbnp0S243MVBZLUIwNmkxTS0gLVJrY3JzdTBiUXF3c2tHRXFBSkY1NGpaTUQyTGVHSW0tRzBPN2JXSV9Qdm1Md2VHRXdxTVZyZ0JucC1ZdlNhM1V5eFFmS0VjektqQ1VKUnBDdk5kVTVWakN6QVRodTRrSUxXMVZJS3JzTUFHdTZUV2hLOXgwUk9pUVlublFjaWpqVkJlZHVGM0VHNHJHcVN3RUlreFJLelBfb1NnS0pKVWJQQm9pT3kzbFpKemJKN21PaW9lZUpSUG5tT2lieXlFWTBRN3ZfdlUtSnpzOGwzQy1WRTNfNWtYSXUyRUlubkU4Z3hFbEtobTVnbVRvenZpVXRZM2Q4VzdFZUhrZUhaQm9VZDdpTVVKNHN5RzF2eHJ3NFJYUUZ1bVhqckZOSmw4MHlpN0VxYkZfWFRwck9RR3hxbDFoV09lUDdfVmRrdEE0UWJRaWdsMjk5TFlma0RCdHBZazhoaU9oYWRKTi01Z1A3clV0SXg5aGg1alZhVXMwNU90cnJqdGpSb2hha216aTJvVzVNVGtSa3ZoSEtHS0t0STNNaVZOQk9zSVlGM2ZjR0U3bmh0R1Jwc1h2TkVOZ0x6eTlrNzFiUG5UNUNSNTVyQl9XSzBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k2works/baukis-kai" target="_blank" rel="noopener" title="GitHub Repository" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../docs/assets/js/extra.js"></script>
      
    
  </body>
</html>