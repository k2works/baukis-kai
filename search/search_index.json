{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Baukis \u6539 (Baukis Kai)","text":""},{"location":"#_1","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u6982\u8981","text":"<p>Baukis \u6539\u306f\u3001\u66f8\u7c4d\u300c\u5b9f\u8df5Ruby on Rails 4 \u73fe\u5834\u306e\u30d7\u30ed\u304b\u3089\u5b66\u3076\u672c\u683cWeb\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u300d\u3092\u30d9\u30fc\u30b9\u306b\u3057\u305f\u9867\u5ba2\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002\u672c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u3001\u5143\u306e\u5b9f\u88c5\u3092Rails 5\u304b\u3089Rails 7\u3078\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u90e8\u5206\u306b\u30e2\u30c0\u30f3CSS\u8a2d\u8a08\uff08BEM\uff09\u3092\u7d44\u307f\u8fbc\u3093\u3067\u3044\u307e\u3059\u3002</p>"},{"location":"#_2","title":"\u80cc\u666f","text":"<p>\u3053\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u3001\u5b9f\u8df5\u7684\u306aRuby on Rails\u306e\u5b66\u7fd2\u3068\u3001\u6700\u65b0\u306eWeb\u958b\u767a\u6280\u8853\u306e\u9069\u7528\u3092\u76ee\u7684\u3068\u3057\u3066\u3044\u307e\u3059\u3002\u66f8\u7c4d\u306e\u5185\u5bb9\u3092\u30d9\u30fc\u30b9\u306b\u3057\u306a\u304c\u3089\u3082\u3001\u6700\u65b0\u306eRails\u30d0\u30fc\u30b8\u30e7\u30f3\u3078\u306e\u5bfe\u5fdc\u3084\u3001\u30e2\u30c0\u30f3\u306a\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u8a2d\u8a08\u624b\u6cd5\u306e\u5c0e\u5165\u306b\u3088\u308a\u3001\u3088\u308a\u5b9f\u8df5\u7684\u3067\u73fe\u4ee3\u7684\u306aWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\u306e\u77e5\u8b58\u3092\u6df1\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"#_3","title":"\u4e3b\u306a\u6a5f\u80fd","text":"<ul> <li>\u8077\u54e1\u3001\u7ba1\u7406\u8005\u3001\u9867\u5ba2\u306e3\u7a2e\u985e\u306e\u30e6\u30fc\u30b6\u30fc\u533a\u5206</li> <li>\u9867\u5ba2\u60c5\u5831\u306e\u7ba1\u7406\uff08\u691c\u7d22\u3001\u8868\u793a\u3001\u8ffd\u52a0\u3001\u66f4\u65b0\u3001\u524a\u9664\uff09</li> <li>\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u3068\u7533\u3057\u8fbc\u307f\u6a5f\u80fd</li> <li>\u554f\u3044\u5408\u308f\u305b\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0</li> <li>\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\u3068\u30a2\u30af\u30bb\u30b9\u5236\u5fa1</li> </ul>"},{"location":"#_4","title":"\u6280\u8853\u30b9\u30bf\u30c3\u30af","text":"\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2 \u30d0\u30fc\u30b8\u30e7\u30f3 \u5099\u8003 Ruby 3.4.4 Rails 7.2.2.1 Docker 28.1.1"},{"location":"#_5","title":"\u30af\u30a4\u30c3\u30af\u30b9\u30bf\u30fc\u30c8","text":"<pre><code>docker build -t app:base .\ndocker compose build\ndocker compose up -d\n</code></pre> <p>http://127.0.0.1:3000 \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"#_6","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u69cb\u6210","text":"<p>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u4ee5\u4e0b\u306e\u4e3b\u8981\u306a\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\uff1a</p> <ol> <li>\u4ed5\u69d8\uff08\u57fa\u672c\u4ed5\u69d8\u3001\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3001\u30b3\u30a2\u30e2\u30c7\u30eb\uff09</li> <li>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u69cb\u7bc9</li> <li>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u914d\u7f6e</li> <li>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\uff08\u30d3\u30b8\u30e5\u30a2\u30eb\u30c7\u30b6\u30a4\u30f3\u3001\u8a8d\u8a3c\u3001\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306a\u3069\uff09</li> </ol>"},{"location":"#_7","title":"\u307e\u305a\u3053\u308c\u3092\u8aad\u3082\u3046\u30ea\u30b9\u30c8","text":"<ul> <li>\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u56f3 - \u60c5\u52e2\u3092\u3064\u304b\u3080\u3002</li> <li>\u30a4\u30f3\u30bb\u30d7\u30b7\u30e7\u30f3\u30c7\u30c3\u30ad - \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u6700\u521d\u306e\u9031\u306b\u4f5c\u6210\u3055\u308c\u305f\u3002\u3053\u3053\u306b\u3042\u308b\u3082\u306e\u306e\u5927\u90e8\u5206\u306f\u5909\u66f4\u3055\u308c\u305f\u304c\u3001\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u6211\u3005\u304c\u306a\u305c\u3053\u306e\u30b7\u30b9\u30c6\u30e0\u3092\u69cb\u7bc9\u3057\u3066\u3044\u308b\u304b\u3092\u793a\u3057\u3066\u3044\u308b\u3002</li> <li>\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9 - \u30b7\u30b9\u30c6\u30e0\u306e\u6a5f\u80fd\u3092\u8868\u3059\u3002\u30b7\u30b9\u30c6\u30e0\u304c\u4f55\u3092\u3059\u308b\u304b\u3092\u7406\u89e3\u3059\u308b\u306e\u306b\u5fc5\u8981\u3002</li> <li>\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 - \u30b7\u30b9\u30c6\u30e0\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3092\u793a\u3059\u3002\u30b7\u30b9\u30c6\u30e0\u306e\u5168\u4f53\u50cf\u3092\u628a\u63e1\u3059\u308b\u305f\u3081\u306b\u91cd\u8981\u3002</li> <li>\u958b\u767a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 - \u958b\u767a\u306e\u5177\u4f53\u7684\u306a\u624b\u9806\u3084\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3\u3092\u307e\u3068\u3081\u308b\u3002</li> </ul>"},{"location":"%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/","title":"Baukis-Kai \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5b9f\u88c5\u30b5\u30de\u30ea\u30fc","text":""},{"location":"%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/#_1","title":"\u6982\u8981","text":"<p>\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u3001Baukis-Kai\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u958b\u767a\u30b8\u30e3\u30fc\u30ca\u30eb\uff08docs/journal\uff09\u306e\u5185\u5bb9\u3092\u307e\u3068\u3081\u305f\u3082\u306e\u3067\u3059\u3002Baukis-Kai\u306f\u9867\u5ba2\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u3067\u3042\u308a\u3001\u30b9\u30bf\u30c3\u30d5\u306b\u3088\u308b\u9867\u5ba2\u60c5\u5831\u7ba1\u7406\u3001\u9867\u5ba2\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u4e88\u7d04\u7ba1\u7406\u3001\u9867\u5ba2\u3068\u30b9\u30bf\u30c3\u30d5\u9593\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u30f3\u30b0\u6a5f\u80fd\u306a\u3069\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p>"},{"location":"%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/#_2","title":"\u30b7\u30b9\u30c6\u30e0\u69cb\u6210","text":"<p>Baukis-Kai\u306f\u4ee5\u4e0b\u306e3\u3064\u306e\u4e3b\u8981\u306a\u30b5\u30d6\u30b7\u30b9\u30c6\u30e0\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\uff1a</p> <ol> <li>\u30b9\u30bf\u30c3\u30d5\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9: \u30b9\u30bf\u30c3\u30d5\u304c\u9867\u5ba2\u60c5\u5831\u3084\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9</li> <li>\u9867\u5ba2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9: \u9867\u5ba2\u304c\u81ea\u8eab\u306e\u60c5\u5831\u3001\u4e88\u7d04\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9</li> <li>\u7ba1\u7406\u8005\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9: \u30b7\u30b9\u30c6\u30e0\u5168\u4f53\u3068\u30b9\u30bf\u30c3\u30d5\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u7ba1\u7406\u8005\u7528\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9</li> </ol> <p></p>"},{"location":"%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/#_3","title":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3","text":"<p>Baukis-Kai\u306f\u62e1\u5f35\u7248MVC\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u57fa\u3065\u3044\u3066\u304a\u308a\u3001\u4ee5\u4e0b\u306e\u5c64\u306b\u5206\u304b\u308c\u3066\u3044\u307e\u3059\uff1a</p> <ul> <li>\u30d7\u30ec\u30bc\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3\u5c64: Views, Controllers, Presenters, Forms</li> <li>\u30c9\u30e1\u30a4\u30f3\u5c64: Models, Services</li> <li>\u5171\u901a\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8: Concerns, Validators, Helpers</li> </ul> <p></p> <p>\u7279\u5fb4\u7684\u306a\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d1\u30bf\u30fc\u30f3\u3068\u3057\u3066\u4ee5\u4e0b\u304c\u63a1\u7528\u3055\u308c\u3066\u3044\u307e\u3059\uff1a</p> <ul> <li>\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u30d1\u30bf\u30fc\u30f3: \u30d3\u30e5\u30fc\u30ed\u30b8\u30c3\u30af\u3092\u5206\u96e2</li> <li>\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d1\u30bf\u30fc\u30f3: \u8907\u96d1\u306a\u30d5\u30a9\u30fc\u30e0\u51e6\u7406\u3092\u30ab\u30d7\u30bb\u30eb\u5316</li> <li>\u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8: \u8907\u96d1\u306a\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u3092\u30ab\u30d7\u30bb\u30eb\u5316</li> </ul>"},{"location":"%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/#_4","title":"\u958b\u767a\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3","text":""},{"location":"%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/#2017","title":"2017\u5e74\u521d\u671f: \u57fa\u76e4\u69cb\u7bc9\u30d5\u30a7\u30fc\u30ba","text":"<ul> <li>Docker\u74b0\u5883\u306e\u69cb\u7bc9 (2017-01-10)</li> <li>Ruby 2.4\u30d9\u30fc\u30b9\u306eDocker\u30a4\u30e1\u30fc\u30b8\u8a2d\u5b9a</li> <li> <p>MySQL\u3001Nginx\u3092\u542b\u3080\u958b\u767a\u74b0\u5883\u306e\u69cb\u7bc9</p> </li> <li> <p>\u8a8d\u8a3c\u30fb\u8a8d\u53ef\u30b7\u30b9\u30c6\u30e0\u306e\u5b9f\u88c5</p> </li> <li>\u30b9\u30bf\u30c3\u30d5\u3001\u7ba1\u7406\u8005\u3001\u9867\u5ba2\u5411\u3051\u306e\u8a8d\u8a3c\u6a5f\u80fd</li> <li>\u6a29\u9650\u7ba1\u7406\u3068\u5236\u5fa1\u6a5f\u80fd</li> </ul>"},{"location":"%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/#2017_1","title":"2017\u5e74\u4e2d\u671f: \u4e3b\u8981\u6a5f\u80fd\u5b9f\u88c5\u30d5\u30a7\u30fc\u30ba","text":"<ul> <li>\u9867\u5ba2\u7ba1\u7406\u6a5f\u80fd\u306e\u5b9f\u88c5</li> <li>\u9867\u5ba2\u60c5\u5831\u306e\u767b\u9332\u30fb\u7de8\u96c6\u30fb\u691c\u7d22\u6a5f\u80fd</li> <li> <p>\u9867\u5ba2\u8a73\u7d30\u8868\u793a\u6a5f\u80fd</p> </li> <li> <p>\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\u306e\u5b9f\u88c5 (2017-02-14)</p> </li> <li>\u30d7\u30ed\u30b0\u30e9\u30e0\uff08\u30a4\u30d9\u30f3\u30c8\u30fb\u30bb\u30df\u30ca\u30fc\uff09\u306e\u767b\u9332\u30fb\u7de8\u96c6\u6a5f\u80fd</li> <li> <p>\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u30d1\u30bf\u30fc\u30f3\u306e\u6d3b\u7528</p> </li> <li> <p>\u4e88\u7d04\u7ba1\u7406\u6a5f\u80fd\u306e\u5b9f\u88c5</p> </li> <li>\u9867\u5ba2\u306b\u3088\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u4e88\u7d04\u6a5f\u80fd</li> <li>\u30b9\u30bf\u30c3\u30d5\u306b\u3088\u308b\u4e88\u7d04\u7ba1\u7406\u6a5f\u80fd</li> </ul>"},{"location":"%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/#2017_2","title":"2017\u5e74\u5f8c\u671f: \u62e1\u5f35\u6a5f\u80fd\u5b9f\u88c5\u30d5\u30a7\u30fc\u30ba","text":"<ul> <li>\u30e1\u30c3\u30bb\u30fc\u30b8\u30f3\u30b0\u6a5f\u80fd\u306e\u5b9f\u88c5 (2017-03-27)</li> <li>\u30b9\u30bf\u30c3\u30d5\u3068\u9867\u5ba2\u9593\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u4ea4\u63db\u6a5f\u80fd</li> <li>\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u524a\u9664\u30fb\u7ba1\u7406\u6a5f\u80fd</li> <li>\u30bf\u30b0\u4ed8\u3051\u6a5f\u80fd\u3068\u6392\u4ed6\u5236\u5fa1</li> </ul>"},{"location":"%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/#2025","title":"2025\u5e74: \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u6574\u5099\u30d5\u30a7\u30fc\u30ba","text":"<ul> <li>\u30b7\u30b9\u30c6\u30e0\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u4f5c\u6210 (2025-04-24)</li> <li>\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6982\u8981\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8</li> <li>\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8</li> </ul>"},{"location":"%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/#_5","title":"\u4e3b\u8981\u6280\u8853\u30b9\u30bf\u30c3\u30af","text":"<ul> <li>\u30d0\u30c3\u30af\u30a8\u30f3\u30c9: Ruby on Rails</li> <li>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9: MySQL</li> <li>\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9: HTML, CSS, JavaScript</li> <li>\u958b\u767a\u74b0\u5883: Docker</li> <li>\u30c7\u30d7\u30ed\u30a4\u74b0\u5883: Heroku</li> </ul>"},{"location":"%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/#_6","title":"\u7279\u5fb4\u7684\u306a\u5b9f\u88c5\u30d1\u30bf\u30fc\u30f3","text":"<ol> <li>\u62e1\u5f35MVC\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3</li> <li>\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u306b\u3088\u308b\u30d3\u30e5\u30fc\u30ed\u30b8\u30c3\u30af\u306e\u5206\u96e2</li> <li>\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u3088\u308b\u8907\u96d1\u306a\u30d5\u30a9\u30fc\u30e0\u51e6\u7406\u306e\u5206\u96e2</li> <li>\u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u3088\u308b\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u306e\u5206\u96e2</li> </ol> <ol> <li>\u540d\u524d\u7a7a\u9593\u306b\u3088\u308b\u6a5f\u80fd\u5206\u96e2</li> <li>Staff, Admin, Customer\u306e3\u3064\u306e\u540d\u524d\u7a7a\u9593\u3067\u6a5f\u80fd\u3092\u5206\u96e2</li> <li> <p>\u5404\u540d\u524d\u7a7a\u9593\u3054\u3068\u306b\u72ec\u7acb\u3057\u305f\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3001\u30d3\u30e5\u30fc\u3001\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u3092\u5b9f\u88c5</p> </li> <li> <p>\u30c9\u30e1\u30a4\u30f3\u30e2\u30c7\u30eb\u306e\u5145\u5b9f</p> </li> <li>\u8c4a\u5bcc\u306a\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3068\u30d3\u30b8\u30cd\u30b9\u30eb\u30fc\u30eb\u306e\u5b9f\u88c5</li> <li> <p>\u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\u306b\u3088\u308b\u8907\u96d1\u306a\u30c7\u30fc\u30bf\u69cb\u9020\u306e\u8868\u73fe</p> </li> <li> <p>UI\u306e\u5de5\u592b</p> </li> <li>\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u306b\u3088\u308b\u4e00\u8cab\u3057\u305fUI\u8868\u73fe</li> <li>\u8907\u96d1\u306a\u30d5\u30a9\u30fc\u30e0\u5165\u529b\u306e\u7c21\u7565\u5316\uff08\u65e5\u4ed8\u3068\u6642\u523b\u306e\u5206\u96e2\u5165\u529b\u306a\u3069\uff09</li> </ol>"},{"location":"%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/#_7","title":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3068\u306e\u95a2\u4fc2","text":"<p>Baukis-Kai\u306e\u5b9f\u88c5\u306f\u3001\u30b7\u30b9\u30c6\u30e0\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u6e80\u305f\u3059\u3088\u3046\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u4ee5\u4e0b\u306b\u3001\u4e3b\u8981\u306a\u5b9f\u88c5\u8981\u7d20\u3068\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306e\u95a2\u4fc2\u3092\u793a\u3057\u307e\u3059\u3002</p>"},{"location":"%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/#_8","title":"\u30b7\u30b9\u30c6\u30e0\u69cb\u6210\u3068\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9","text":"<p>\u30b7\u30b9\u30c6\u30e0\u306e3\u3064\u306e\u4e3b\u8981\u306a\u30b5\u30d6\u30b7\u30b9\u30c6\u30e0\u306f\u30013\u3064\u306e\u4e3b\u8981\u306a\u30a2\u30af\u30bf\u30fc\uff08\u8077\u54e1\u3001\u9867\u5ba2\u3001\u7ba1\u7406\u8005\uff09\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u76f4\u63a5\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\uff1a</p> <ol> <li>\u30b9\u30bf\u30c3\u30d5\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9: \u8077\u54e1\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff08S-001\u301cS-012\uff09\u3092\u30b5\u30dd\u30fc\u30c8</li> <li>\u9867\u5ba2\u60c5\u5831\u7ba1\u7406\uff08S-004\u301cS-006\uff09</li> <li>\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\uff08S-007\u301cS-009\uff09</li> <li> <p>\u554f\u3044\u5408\u308f\u305b\u7ba1\u7406\uff08S-010\u301cS-012\uff09</p> </li> <li> <p>\u9867\u5ba2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9: \u9867\u5ba2\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff08C-001\u301cC-010\uff09\u3092\u30b5\u30dd\u30fc\u30c8</p> </li> <li>\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\uff08C-001\u301cC-004\uff09</li> <li>\u30d7\u30ed\u30b0\u30e9\u30e0\u53c2\u52a0\uff08C-005\u301cC-007\uff09</li> <li> <p>\u554f\u3044\u5408\u308f\u305b\uff08C-008\u301cC-010\uff09</p> </li> <li> <p>\u7ba1\u7406\u8005\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9: \u7ba1\u7406\u8005\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff08A-001\u301cA-007\uff09\u3092\u30b5\u30dd\u30fc\u30c8</p> </li> <li>\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\uff08A-001\u301cA-002\uff09</li> <li>\u8077\u54e1\u7ba1\u7406\uff08A-003\u301cA-006\uff09</li> <li>\u30b7\u30b9\u30c6\u30e0\u7ba1\u7406\uff08A-007\uff09</li> </ol> <p></p>"},{"location":"%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/#_9","title":"\u958b\u767a\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3068\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9","text":"<p>\u958b\u767a\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u5404\u30d5\u30a7\u30fc\u30ba\u306f\u3001\u7279\u5b9a\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u306e\u5b9f\u88c5\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\uff1a</p> <ol> <li>\u57fa\u76e4\u69cb\u7bc9\u30d5\u30a7\u30fc\u30ba\uff082017\u5e74\u521d\u671f\uff09:</li> <li> <p>\u8a8d\u8a3c\u30fb\u8a8d\u53ef\u30b7\u30b9\u30c6\u30e0\u306e\u5b9f\u88c5: S-001, S-002, C-001, C-002, C-003, A-001, A-002\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u5bfe\u5fdc</p> </li> <li> <p>\u4e3b\u8981\u6a5f\u80fd\u5b9f\u88c5\u30d5\u30a7\u30fc\u30ba\uff082017\u5e74\u4e2d\u671f\uff09:</p> </li> <li>\u9867\u5ba2\u7ba1\u7406\u6a5f\u80fd: S-004, S-005, S-006\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u5bfe\u5fdc</li> <li> <p>\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd: S-007, S-008, S-009, C-005, C-006, C-007\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u5bfe\u5fdc</p> </li> <li> <p>\u62e1\u5f35\u6a5f\u80fd\u5b9f\u88c5\u30d5\u30a7\u30fc\u30ba\uff082017\u5e74\u5f8c\u671f\uff09:</p> </li> <li>\u30e1\u30c3\u30bb\u30fc\u30b8\u30f3\u30b0\u6a5f\u80fd: S-010, S-011, S-012, C-008, C-009, C-010\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u5bfe\u5fdc</li> </ol>"},{"location":"%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/#_10","title":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d1\u30bf\u30fc\u30f3\u3068\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9","text":"<p>\u63a1\u7528\u3055\u308c\u305f\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d1\u30bf\u30fc\u30f3\u306f\u3001\u7279\u5b9a\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u8981\u4ef6\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u305f\u3081\u306b\u9078\u629e\u3055\u308c\u307e\u3057\u305f\uff1a</p> <ol> <li>\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u30d1\u30bf\u30fc\u30f3: </li> <li>\u8907\u96d1\u306a\u30d3\u30e5\u30fc\u8868\u793a\u304c\u5fc5\u8981\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff08S-005, S-007, C-005\u306a\u3069\uff09\u3092\u30b5\u30dd\u30fc\u30c8</li> <li> <p>\u4e00\u8cab\u3057\u305fUI\u8868\u73fe\u306b\u3088\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u30a8\u30af\u30b9\u30da\u30ea\u30a8\u30f3\u30b9\u3092\u5411\u4e0a</p> </li> <li> <p>\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d1\u30bf\u30fc\u30f3:</p> </li> <li>\u8907\u96d1\u306a\u30d5\u30a9\u30fc\u30e0\u51e6\u7406\u304c\u5fc5\u8981\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff08S-004, S-007, C-001\u306a\u3069\uff09\u3092\u30b5\u30dd\u30fc\u30c8</li> <li> <p>\u65e5\u4ed8\u3068\u6642\u523b\u306e\u5206\u96e2\u5165\u529b\u306a\u3069\u3001\u30e6\u30fc\u30b6\u30fc\u30d5\u30ec\u30f3\u30c9\u30ea\u30fc\u306a\u5165\u529b\u65b9\u6cd5\u3092\u5b9f\u73fe</p> </li> <li> <p>\u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8:</p> </li> <li>\u8907\u96d1\u306a\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u3092\u542b\u3080\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff08S-009, C-006\u306a\u3069\uff09\u3092\u30b5\u30dd\u30fc\u30c8</li> <li>\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u51e6\u7406\u3084\u6392\u4ed6\u5236\u5fa1\u306a\u3069\u306e\u9ad8\u5ea6\u306a\u51e6\u7406\u3092\u5b9f\u73fe</li> </ol> <p></p>"},{"location":"%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/#_11","title":"\u5b9f\u88c5\u4f8b\u3068\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9","text":"<p>\u5177\u4f53\u7684\u306a\u5b9f\u88c5\u4f8b\u3068\u305d\u308c\u304c\u6e80\u305f\u3059\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306e\u95a2\u4fc2\uff1a</p> <ol> <li>\u9867\u5ba2\u306b\u3088\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u524a\u9664\u6a5f\u80fd:</li> <li>\u9867\u5ba2\u306e\u554f\u3044\u5408\u308f\u305b\u5c65\u6b74\u78ba\u8a8d\uff08C-009\uff09\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306e\u62e1\u5f35\u6a5f\u80fd</li> <li> <p>\u8ad6\u7406\u524a\u9664\u3092\u63a1\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30c7\u30fc\u30bf\u306e\u6574\u5408\u6027\u3092\u4fdd\u3061\u306a\u304c\u3089\u30e6\u30fc\u30b6\u30fc\u306e\u8981\u6c42\u3092\u6e80\u305f\u3059</p> </li> <li> <p>\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd:</p> </li> <li>\u30d7\u30ed\u30b0\u30e9\u30e0\u4f5c\u6210\uff08S-007\uff09\u3068\u30d7\u30ed\u30b0\u30e9\u30e0\u66f4\u65b0\uff08S-008\uff09\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u5b9f\u73fe</li> <li> <p>\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u30d1\u30bf\u30fc\u30f3\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u8907\u96d1\u306a\u30d5\u30a9\u30fc\u30e0\u51e6\u7406\u3092\u5b9f\u73fe</p> </li> <li> <p>Docker\u74b0\u5883\u69cb\u7bc9:</p> </li> <li>\u3059\u3079\u3066\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306e\u57fa\u76e4\u3068\u306a\u308b\u958b\u767a\u30fb\u5b9f\u884c\u74b0\u5883\u3092\u63d0\u4f9b</li> <li>\u4e00\u8cab\u3057\u305f\u74b0\u5883\u3067\u958b\u767a\u30fb\u30c6\u30b9\u30c8\u30fb\u30c7\u30d7\u30ed\u30a4\u3092\u53ef\u80fd\u306b\u3057\u3001\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306e\u5b9f\u88c5\u54c1\u8cea\u3092\u5411\u4e0a</li> </ol>"},{"location":"%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A3%85/#_12","title":"\u307e\u3068\u3081","text":"<p>Baukis-Kai\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u3001\u9867\u5ba2\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u3068\u3057\u3066\u5fc5\u8981\u306a\u6a5f\u80fd\u3092\u6bb5\u968e\u7684\u306b\u5b9f\u88c5\u3057\u3066\u304d\u307e\u3057\u305f\u3002\u62e1\u5f35MVC\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3092\u63a1\u7528\u3057\u3001\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u30d1\u30bf\u30fc\u30f3\u3084\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d1\u30bf\u30fc\u30f3\u306a\u3069\u306e\u8a2d\u8a08\u30d1\u30bf\u30fc\u30f3\u3092\u6d3b\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u4fdd\u5b88\u6027\u3068\u62e1\u5f35\u6027\u306e\u9ad8\u3044\u30b7\u30b9\u30c6\u30e0\u3092\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002\u958b\u767a\u306f2017\u5e74\u304b\u3089\u59cb\u307e\u308a\u30012025\u5e74\u306b\u304b\u3051\u3066\u6a5f\u80fd\u62e1\u5f35\u3068\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u6574\u5099\u304c\u8a08\u753b\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>\u30b7\u30b9\u30c6\u30e0\u306e\u5b9f\u88c5\u306f\u3001\u660e\u78ba\u306b\u5b9a\u7fa9\u3055\u308c\u305f\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u57fa\u3065\u3044\u3066\u8a2d\u8a08\u3055\u308c\u3066\u304a\u308a\u3001\u5404\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3068\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d1\u30bf\u30fc\u30f3\u306f\u7279\u5b9a\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u8981\u4ef6\u3092\u6e80\u305f\u3059\u305f\u3081\u306b\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u8a2d\u8a08\u30a2\u30d7\u30ed\u30fc\u30c1\u306b\u3088\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u30cb\u30fc\u30ba\u306b\u7126\u70b9\u3092\u5f53\u3066\u305f\u6a5f\u80fd\u7684\u3067\u4f7f\u3044\u3084\u3059\u3044\u30b7\u30b9\u30c6\u30e0\u304c\u5b9f\u73fe\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/","title":"Baukis-Kai \u30b7\u30b9\u30c6\u30e0\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6982\u8981","text":""},{"location":"%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/#1","title":"1. \u30b7\u30b9\u30c6\u30e0\u6982\u8981","text":"<p>Baukis-Kai\u306f\u9867\u5ba2\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u3067\u3001\u4e3b\u306b\u4ee5\u4e0b\u306e\u6a5f\u80fd\u3092\u63d0\u4f9b\u3057\u307e\u3059:</p> <ul> <li>\u30b9\u30bf\u30c3\u30d5\u306b\u3088\u308b\u9867\u5ba2\u60c5\u5831\u7ba1\u7406</li> <li>\u9867\u5ba2\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u4e88\u7d04\u304a\u3088\u3073\u53c2\u52a0\u7ba1\u7406</li> <li>\u9867\u5ba2\u3068\u30b9\u30bf\u30c3\u30d5\u9593\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0</li> <li>\u7ba1\u7406\u8005\u306b\u3088\u308b\u30b9\u30bf\u30c3\u30d5\u7ba1\u7406\u3068\u30b7\u30b9\u30c6\u30e0\u8a2d\u5b9a</li> </ul>"},{"location":"%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/#2","title":"2. \u30b7\u30b9\u30c6\u30e0\u69cb\u6210","text":"<p>\u30b7\u30b9\u30c6\u30e0\u306f\u4ee5\u4e0b\u306e3\u3064\u306e\u4e3b\u8981\u306a\u30b5\u30d6\u30b7\u30b9\u30c6\u30e0\u306b\u5206\u304b\u308c\u3066\u3044\u307e\u3059:</p> <ol> <li>\u30b9\u30bf\u30c3\u30d5\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9: \u30b9\u30bf\u30c3\u30d5\u304c\u9867\u5ba2\u60c5\u5831\u3084\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9</li> <li>\u9867\u5ba2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9: \u9867\u5ba2\u304c\u81ea\u8eab\u306e\u60c5\u5831\u3001\u4e88\u7d04\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9</li> <li>\u7ba1\u7406\u8005\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9: \u30b7\u30b9\u30c6\u30e0\u5168\u4f53\u3068\u30b9\u30bf\u30c3\u30d5\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u7ba1\u7406\u8005\u7528\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9</li> </ol>"},{"location":"%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/#3","title":"3. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5c64\u69cb\u9020","text":"<p>Rails\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u62e1\u5f35\u7248MVC\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u57fa\u3065\u3044\u3066\u304a\u308a\u3001\u4ee5\u4e0b\u306e\u5c64\u306b\u5206\u304b\u308c\u3066\u3044\u307e\u3059:</p> <p></p>"},{"location":"%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/#4","title":"4. \u540d\u524d\u7a7a\u9593\u3068\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u69cb\u9020","text":"<p>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u540d\u524d\u7a7a\u9593\u3092\u4f7f\u7528\u3057\u30663\u3064\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5206\u96e2\u3057\u3066\u3044\u307e\u3059:</p> <p></p>"},{"location":"%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/#5","title":"5. \u4e3b\u8981\u306a\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb","text":"<p>\u30b7\u30b9\u30c6\u30e0\u306e\u4e3b\u8981\u306a\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3068\u305d\u306e\u95a2\u4fc2\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059:</p> <p></p>"},{"location":"%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/#6","title":"6. \u4e3b\u8981\u306a\u30d3\u30b8\u30cd\u30b9\u30d5\u30ed\u30fc","text":""},{"location":"%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/#61","title":"6.1 \u9867\u5ba2\u7ba1\u7406\u30d5\u30ed\u30fc","text":""},{"location":"%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/#62","title":"6.2 \u30d7\u30ed\u30b0\u30e9\u30e0\u4e88\u7d04\u30d5\u30ed\u30fc","text":""},{"location":"%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/#63","title":"6.3 \u30e1\u30c3\u30bb\u30fc\u30b8\u30f3\u30b0\u30d5\u30ed\u30fc","text":""},{"location":"%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/#7","title":"7. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u7279\u5fb4\u7684\u306a\u30d1\u30bf\u30fc\u30f3","text":""},{"location":"%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/#71-presenter","title":"7.1 Presenter\u30d1\u30bf\u30fc\u30f3","text":"<p>\u30e2\u30c7\u30eb\u306e\u30c7\u30fc\u30bf\u3092\u8868\u793a\u7528\u306b\u6574\u5f62\u3059\u308bPresenter\u30d1\u30bf\u30fc\u30f3\u3092\u63a1\u7528\u3057\u3066\u3044\u307e\u3059\u3002</p> <p></p>"},{"location":"%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/#72-service","title":"7.2 Service\u5c64\u30d1\u30bf\u30fc\u30f3","text":"<p>\u8907\u96d1\u306a\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u3092\u30ab\u30d7\u30bb\u30eb\u5316\u3059\u308bService\u5c64\u3092\u5c0e\u5165\u3057\u3066\u3044\u307e\u3059\u3002</p> <p></p>"},{"location":"%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/#8","title":"8. \u8a8d\u8a3c\u30fb\u8a8d\u53ef\u30b7\u30b9\u30c6\u30e0","text":"<p>\u30b7\u30b9\u30c6\u30e0\u306f\u72ec\u81ea\u306e\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u3092\u5b9f\u88c5\u3057\u3066\u304a\u308a\u3001\u305d\u308c\u305e\u308c\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3054\u3068\u306b\u5206\u96e2\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p></p>"},{"location":"%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/#9","title":"9. \u914d\u7f6e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3","text":"<p>Docker\u3092\u4f7f\u7528\u3057\u305f\u958b\u767a\u30fb\u672c\u756a\u74b0\u5883\u306e\u69cb\u6210:</p> <p></p>"},{"location":"%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/#10","title":"10. \u958b\u767a\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3","text":"<ol> <li>\u540d\u524d\u7a7a\u9593\u306e\u5206\u96e2: \u5404\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\uff08\u30b9\u30bf\u30c3\u30d5\u3001\u9867\u5ba2\u3001\u7ba1\u7406\u8005\uff09\u306e\u30b3\u30fc\u30c9\u306f\u540d\u524d\u7a7a\u9593\u3067\u660e\u78ba\u306b\u5206\u96e2\u3059\u308b</li> <li>Presenter\u306e\u6d3b\u7528: \u8868\u793a\u30ed\u30b8\u30c3\u30af\u306fPresenter\u306b\u96c6\u7d04\u3059\u308b</li> <li>\u30b5\u30fc\u30d3\u30b9\u30af\u30e9\u30b9\u306e\u4f7f\u7528: \u8907\u96d1\u306a\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u306fService\u30af\u30e9\u30b9\u306b\u5b9f\u88c5\u3059\u308b</li> <li>Concern\u306e\u6d3b\u7528: \u5171\u901a\u30b3\u30fc\u30c9\u306fConcern\u3068\u3057\u3066\u5b9f\u88c5\u3057\u3001\u518d\u5229\u7528\u6027\u3092\u9ad8\u3081\u308b</li> <li>\u72ec\u81ea\u30d0\u30ea\u30c7\u30fc\u30bf: \u7279\u6b8a\u306a\u691c\u8a3c\u30ed\u30b8\u30c3\u30af\u306f\u72ec\u81ea\u306e\u30d0\u30ea\u30c7\u30fc\u30bf\u3068\u3057\u3066\u5b9f\u88c5\u3059\u308b</li> </ol>"},{"location":"%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/#11","title":"11. \u30c6\u30b9\u30c8\u6226\u7565","text":"<ul> <li>\u30e2\u30c7\u30eb\u30c6\u30b9\u30c8: RSpec\u3092\u4f7f\u7528\u3057\u305f\u30e2\u30c7\u30eb\u306e\u5358\u4f53\u30c6\u30b9\u30c8</li> <li>\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30c6\u30b9\u30c8: \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u6a5f\u80fd\u30c6\u30b9\u30c8</li> <li>\u30b7\u30b9\u30c6\u30e0\u30c6\u30b9\u30c8: Capybara\u3092\u4f7f\u7528\u3057\u305fE2E\u30c6\u30b9\u30c8</li> <li>\u30d5\u30a1\u30af\u30c8\u30ea: FactoryBot\u3092\u4f7f\u7528\u3057\u305f\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u306e\u751f\u6210</li> </ul>"},{"location":"%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E6%A6%82%E8%A6%81/#12","title":"12. \u5c06\u6765\u306e\u62e1\u5f35\u6027","text":"<p>\u30b7\u30b9\u30c6\u30e0\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u62e1\u5f35\u3092\u8003\u616e\u3057\u3066\u8a2d\u8a08\u3055\u308c\u3066\u3044\u307e\u3059:</p> <ol> <li>API\u30b5\u30dd\u30fc\u30c8: \u5c06\u6765\u306e\u30e2\u30d0\u30a4\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5bfe\u5fdc</li> <li>\u591a\u8a00\u8a9e\u5bfe\u5fdc: \u56fd\u969b\u5316\u5bfe\u5fdc\u306e\u62e1\u5f35</li> <li>\u9ad8\u5ea6\u306a\u5206\u6790\u30fb\u30ec\u30dd\u30fc\u30c6\u30a3\u30f3\u30b0\u6a5f\u80fd\u306e\u8ffd\u52a0</li> </ol>"},{"location":"%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/","title":"Baukis-Kai \u30b7\u30b9\u30c6\u30e0\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9","text":""},{"location":"%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/#1","title":"1. \u6982\u8981","text":"<p>\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306fBaukis-Kai\u30b7\u30b9\u30c6\u30e0\u306e\u4e3b\u8981\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u30b7\u30b9\u30c6\u30e0\u306f\u4e3b\u306b3\u3064\u306e\u30e6\u30fc\u30b6\u30fc\u30bf\u30a4\u30d7\uff08\u8077\u54e1\u3001\u9867\u5ba2\u3001\u7ba1\u7406\u8005\uff09\u5411\u3051\u306e\u6a5f\u80fd\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/#2","title":"2. \u30a2\u30af\u30bf\u30fc\u5b9a\u7fa9","text":"<p>\u30b7\u30b9\u30c6\u30e0\u306b\u306f\u4ee5\u4e0b\u306e\u4e3b\u8981\u306a\u30a2\u30af\u30bf\u30fc\u304c\u5b58\u5728\u3057\u307e\u3059\uff1a</p> <ol> <li>\u8077\u54e1: \u9867\u5ba2\u60c5\u5831\u7ba1\u7406\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u3001\u9867\u5ba2\u3068\u306e\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u62c5\u5f53\u3059\u308b\u7d44\u7e54\u306e\u5f93\u696d\u54e1</li> <li>\u9867\u5ba2: \u30b5\u30fc\u30d3\u30b9\u3092\u5229\u7528\u3059\u308b\u500b\u4eba\u307e\u305f\u306f\u30b0\u30eb\u30fc\u30d7</li> <li>\u7ba1\u7406\u8005: \u30b7\u30b9\u30c6\u30e0\u5168\u4f53\u3068\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u7ba1\u7406\u3059\u308b\u6a29\u9650\u3092\u6301\u3064\u30e6\u30fc\u30b6\u30fc</li> </ol>"},{"location":"%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/#3","title":"3. \u8077\u54e1\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9","text":""},{"location":"%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/#31","title":"3.1. \u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406","text":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID S-001 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u8077\u54e1\u30ed\u30b0\u30a4\u30f3 \u30a2\u30af\u30bf\u30fc \u8077\u54e1 \u8aac\u660e \u8077\u54e1\u304c\u30b7\u30b9\u30c6\u30e0\u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b \u57fa\u672c\u30d5\u30ed\u30fc 1. \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b92. \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b3. \u8a8d\u8a3c\u60c5\u5831\u3092\u691c\u8a3c4. \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u8a8d\u8a3c\u5931\u6557: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a- \u30a2\u30ab\u30a6\u30f3\u30c8\u505c\u6b62\u4e2d: \u30a2\u30af\u30bb\u30b9\u62d2\u5426\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a \u4e8b\u5f8c\u6761\u4ef6 \u8077\u54e1\u304c\u30b7\u30b9\u30c6\u30e0\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u72b6\u614b\u306b\u306a\u308b \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID S-002 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u8077\u54e1\u30ed\u30b0\u30a2\u30a6\u30c8 \u30a2\u30af\u30bf\u30fc \u8077\u54e1 \u8aac\u660e \u8077\u54e1\u304c\u30b7\u30b9\u30c6\u30e0\u304b\u3089\u30ed\u30b0\u30a2\u30a6\u30c8\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f \u57fa\u672c\u30d5\u30ed\u30fc 1. \u8077\u54e1\u304c\u30ed\u30b0\u30a2\u30a6\u30c8\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af2. \u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u7d42\u4e863. \u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8 \u4ee3\u66ff\u30d5\u30ed\u30fc \u306a\u3057 \u4e8b\u5f8c\u6761\u4ef6 \u8077\u54e1\u304c\u30ed\u30b0\u30a2\u30a6\u30c8\u72b6\u614b\u306b\u306a\u308b \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID S-003 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u66f4\u65b0 \u30a2\u30af\u30bf\u30fc \u8077\u54e1 \u8aac\u660e \u8077\u54e1\u304c\u81ea\u8eab\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f \u57fa\u672c\u30d5\u30ed\u30fc 1. \u8077\u54e1\u304c\u30a2\u30ab\u30a6\u30f3\u30c8\u8a2d\u5b9a\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b92. \u60c5\u5831\u3092\u7de8\u96c63. \u5909\u66f4\u3092\u4fdd\u5b58 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 \u4e8b\u5f8c\u6761\u4ef6 \u8077\u54e1\u306e\u60c5\u5831\u304c\u66f4\u65b0\u3055\u308c\u308b"},{"location":"%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/#32","title":"3.2. \u9867\u5ba2\u7ba1\u7406","text":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID S-004 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u9867\u5ba2\u60c5\u5831\u767b\u9332 \u30a2\u30af\u30bf\u30fc \u8077\u54e1 \u8aac\u660e \u8077\u54e1\u304c\u65b0\u898f\u9867\u5ba2\u60c5\u5831\u3092\u767b\u9332\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f \u57fa\u672c\u30d5\u30ed\u30fc 1. \u9867\u5ba2\u767b\u9332\u30d5\u30a9\u30fc\u30e0\u306b\u30a2\u30af\u30bb\u30b92. \u9867\u5ba2\u306e\u57fa\u672c\u60c5\u5831\u3092\u5165\u529b3. \u4f4f\u6240\u60c5\u5831\u3092\u5165\u529b\uff08\u81ea\u5b85/\u8077\u5834\uff094. \u96fb\u8a71\u756a\u53f7\u60c5\u5831\u3092\u5165\u529b5. \u30d5\u30a9\u30fc\u30e0\u3092\u9001\u4fe16. \u30b7\u30b9\u30c6\u30e0\u304c\u30c7\u30fc\u30bf\u3092\u691c\u8a3c7. \u9867\u5ba2\u60c5\u5831\u3092\u4fdd\u5b58 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 \u4e8b\u5f8c\u6761\u4ef6 \u65b0\u898f\u9867\u5ba2\u60c5\u5831\u304c\u30b7\u30b9\u30c6\u30e0\u306b\u767b\u9332\u3055\u308c\u308b \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID S-005 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u9867\u5ba2\u60c5\u5831\u691c\u7d22 \u30a2\u30af\u30bf\u30fc \u8077\u54e1 \u8aac\u660e \u8077\u54e1\u304c\u9867\u5ba2\u60c5\u5831\u3092\u691c\u7d22\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f \u57fa\u672c\u30d5\u30ed\u30fc 1. \u9867\u5ba2\u691c\u7d22\u30d5\u30a9\u30fc\u30e0\u306b\u30a2\u30af\u30bb\u30b92. \u691c\u7d22\u6761\u4ef6\uff08\u540d\u524d\u3001\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3001\u96fb\u8a71\u756a\u53f7\u306a\u3069\uff09\u3092\u5165\u529b3. \u691c\u7d22\u3092\u5b9f\u884c4. \u691c\u7d22\u7d50\u679c\u3092\u8868\u793a \u4ee3\u66ff\u30d5\u30ed\u30fc - \u691c\u7d22\u7d50\u679c\u306a\u3057: \u8a72\u5f53\u3059\u308b\u9867\u5ba2\u304c\u306a\u3044\u65e8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a \u4e8b\u5f8c\u6761\u4ef6 \u691c\u7d22\u6761\u4ef6\u306b\u5408\u81f4\u3059\u308b\u9867\u5ba2\u60c5\u5831\u304c\u8868\u793a\u3055\u308c\u308b \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID S-006 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u9867\u5ba2\u60c5\u5831\u66f4\u65b0 \u30a2\u30af\u30bf\u30fc \u8077\u54e1 \u8aac\u660e \u8077\u54e1\u304c\u65e2\u5b58\u306e\u9867\u5ba2\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u9867\u5ba2\u304c\u767b\u9332\u6e08\u307f \u57fa\u672c\u30d5\u30ed\u30fc 1. \u9867\u5ba2\u8a73\u7d30\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b92. \u7de8\u96c6\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af3. \u9867\u5ba2\u60c5\u5831\u3092\u7de8\u96c64. \u5909\u66f4\u3092\u4fdd\u5b58 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 \u4e8b\u5f8c\u6761\u4ef6 \u9867\u5ba2\u60c5\u5831\u304c\u66f4\u65b0\u3055\u308c\u308b"},{"location":"%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/#33","title":"3.3. \u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406","text":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID S-007 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u30d7\u30ed\u30b0\u30e9\u30e0\u4f5c\u6210 \u30a2\u30af\u30bf\u30fc \u8077\u54e1 \u8aac\u660e \u8077\u54e1\u304c\u65b0\u898f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f5c\u6210\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f \u57fa\u672c\u30d5\u30ed\u30fc 1. \u30d7\u30ed\u30b0\u30e9\u30e0\u4f5c\u6210\u30d5\u30a9\u30fc\u30e0\u306b\u30a2\u30af\u30bb\u30b92. \u30d7\u30ed\u30b0\u30e9\u30e0\u8a73\u7d30\uff08\u30bf\u30a4\u30c8\u30eb\u3001\u8aac\u660e\u3001\u65e5\u6642\u3001\u53c2\u52a0\u4eba\u6570\u5236\u9650\u7b49\uff09\u3092\u5165\u529b3. \u30d5\u30a9\u30fc\u30e0\u3092\u9001\u4fe14. \u30b7\u30b9\u30c6\u30e0\u304c\u30c7\u30fc\u30bf\u3092\u691c\u8a3c5. \u30d7\u30ed\u30b0\u30e9\u30e0\u60c5\u5831\u3092\u4fdd\u5b58 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 \u4e8b\u5f8c\u6761\u4ef6 \u65b0\u898f\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u30b7\u30b9\u30c6\u30e0\u306b\u767b\u9332\u3055\u308c\u308b \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID S-008 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u30d7\u30ed\u30b0\u30e9\u30e0\u66f4\u65b0 \u30a2\u30af\u30bf\u30fc \u8077\u54e1 \u8aac\u660e \u8077\u54e1\u304c\u65e2\u5b58\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u767b\u9332\u6e08\u307f \u57fa\u672c\u30d5\u30ed\u30fc 1. \u30d7\u30ed\u30b0\u30e9\u30e0\u8a73\u7d30\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b92. \u7de8\u96c6\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af3. \u30d7\u30ed\u30b0\u30e9\u30e0\u60c5\u5831\u3092\u7de8\u96c64. \u5909\u66f4\u3092\u4fdd\u5b58 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059- \u65e2\u306b\u4e88\u7d04\u304c\u3042\u308b\u5834\u5408: \u7279\u5b9a\u306e\u9805\u76ee\u306e\u7de8\u96c6\u3092\u5236\u9650 \u4e8b\u5f8c\u6761\u4ef6 \u30d7\u30ed\u30b0\u30e9\u30e0\u60c5\u5831\u304c\u66f4\u65b0\u3055\u308c\u308b \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID S-009 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u30d7\u30ed\u30b0\u30e9\u30e0\u53c2\u52a0\u8005\u7ba1\u7406 \u30a2\u30af\u30bf\u30fc \u8077\u54e1 \u8aac\u660e \u8077\u54e1\u304c\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u53c2\u52a0\u8005\u3092\u7ba1\u7406\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u767b\u9332\u6e08\u307f \u57fa\u672c\u30d5\u30ed\u30fc 1. \u30d7\u30ed\u30b0\u30e9\u30e0\u8a73\u7d30\u30da\u30fc\u30b8\u306e\u53c2\u52a0\u8005\u30bf\u30d6\u306b\u30a2\u30af\u30bb\u30b92. \u53c2\u52a0\u8005\u30ea\u30b9\u30c8\u3092\u78ba\u8a8d3. \u53c2\u52a0\u627f\u8a8d\u307e\u305f\u306f\u62d2\u5426\u306e\u64cd\u4f5c\u3092\u884c\u3046 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u53c2\u52a0\u8005\u306a\u3057: \u53c2\u52a0\u8005\u304c\u3044\u306a\u3044\u65e8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a \u4e8b\u5f8c\u6761\u4ef6 \u53c2\u52a0\u8005\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u66f4\u65b0\u3055\u308c\u308b"},{"location":"%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/#34","title":"3.4. \u554f\u3044\u5408\u308f\u305b","text":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID S-010 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u9867\u5ba2\u3078\u306e\u554f\u3044\u5408\u308f\u305b\u9001\u4fe1 \u30a2\u30af\u30bf\u30fc \u8077\u54e1 \u8aac\u660e \u8077\u54e1\u304c\u9867\u5ba2\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u9867\u5ba2\u304c\u767b\u9332\u6e08\u307f \u57fa\u672c\u30d5\u30ed\u30fc 1. \u9867\u5ba2\u8a73\u7d30\u30da\u30fc\u30b8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u30bf\u30d6\u306b\u30a2\u30af\u30bb\u30b92. \u65b0\u898f\u30e1\u30c3\u30bb\u30fc\u30b8\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af3. \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30bf\u30a4\u30c8\u30eb\u3068\u672c\u6587\u3092\u5165\u529b4. \u30bf\u30b0\u3092\u9078\u629e\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff095. \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 \u4e8b\u5f8c\u6761\u4ef6 \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9867\u5ba2\u306b\u9001\u4fe1\u3055\u308c\u308b \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID S-011 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u9867\u5ba2\u304b\u3089\u306e\u554f\u3044\u5408\u308f\u305b\u78ba\u8a8d \u30a2\u30af\u30bf\u30fc \u8077\u54e1 \u8aac\u660e \u8077\u54e1\u304c\u9867\u5ba2\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u78ba\u8a8d\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u9867\u5ba2\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9001\u4fe1\u6e08\u307f \u57fa\u672c\u30d5\u30ed\u30fc 1. \u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b92. \u672a\u8aad\u307e\u305f\u306f\u7279\u5b9a\u306e\u9867\u5ba2\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30d5\u30a3\u30eb\u30bf3. \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9078\u629e\u3057\u3066\u8a73\u7d30\u3092\u95b2\u89a7 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u30e1\u30c3\u30bb\u30fc\u30b8\u306a\u3057: \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u306a\u3044\u65e8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a \u4e8b\u5f8c\u6761\u4ef6 \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u65e2\u8aad\u72b6\u614b\u306b\u306a\u308b \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID S-012 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u554f\u3044\u5408\u308f\u305b\u8fd4\u4fe1 \u30a2\u30af\u30bf\u30fc \u8077\u54e1 \u8aac\u660e \u8077\u54e1\u304c\u9867\u5ba2\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u8fd4\u4fe1\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u9867\u5ba2\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9001\u4fe1\u6e08\u307f \u57fa\u672c\u30d5\u30ed\u30fc 1. \u30e1\u30c3\u30bb\u30fc\u30b8\u8a73\u7d30\u753b\u9762\u306b\u30a2\u30af\u30bb\u30b92. \u8fd4\u4fe1\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af3. \u8fd4\u4fe1\u5185\u5bb9\u3092\u5165\u529b4. \u8fd4\u4fe1\u3092\u9001\u4fe1 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 \u4e8b\u5f8c\u6761\u4ef6 \u8fd4\u4fe1\u304c\u9867\u5ba2\u306b\u9001\u4fe1\u3055\u308c\u308b"},{"location":"%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/#4","title":"4. \u9867\u5ba2\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9","text":""},{"location":"%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/#41","title":"4.1. \u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406","text":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID C-001 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u767b\u9332 \u30a2\u30af\u30bf\u30fc \u9867\u5ba2 \u8aac\u660e \u9867\u5ba2\u304c\u81ea\u3089\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u767b\u9332\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u306a\u3057 \u57fa\u672c\u30d5\u30ed\u30fc 1. \u9867\u5ba2\u304c\u30a2\u30ab\u30a6\u30f3\u30c8\u767b\u9332\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b92. \u57fa\u672c\u60c5\u5831\u3092\u5165\u529b3. \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a4. \u767b\u9332\u3092\u5b8c\u4e86 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059- \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u91cd\u8907: \u65e2\u5b58\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u4fc3\u3059 \u4e8b\u5f8c\u6761\u4ef6 \u65b0\u898f\u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u308b \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID C-002 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u9867\u5ba2\u30ed\u30b0\u30a4\u30f3 \u30a2\u30af\u30bf\u30fc \u9867\u5ba2 \u8aac\u660e \u9867\u5ba2\u304c\u30b7\u30b9\u30c6\u30e0\u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u4f5c\u6210\u6e08\u307f \u57fa\u672c\u30d5\u30ed\u30fc 1. \u9867\u5ba2\u304c\u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b92. \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b3. \u8a8d\u8a3c\u60c5\u5831\u3092\u691c\u8a3c4. \u30de\u30a4\u30da\u30fc\u30b8\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u8a8d\u8a3c\u5931\u6557: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a \u4e8b\u5f8c\u6761\u4ef6 \u9867\u5ba2\u304c\u30ed\u30b0\u30a4\u30f3\u72b6\u614b\u306b\u306a\u308b \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID C-003 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u9867\u5ba2\u30ed\u30b0\u30a2\u30a6\u30c8 \u30a2\u30af\u30bf\u30fc \u9867\u5ba2 \u8aac\u660e \u9867\u5ba2\u304c\u30b7\u30b9\u30c6\u30e0\u304b\u3089\u30ed\u30b0\u30a2\u30a6\u30c8\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u9867\u5ba2\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f \u57fa\u672c\u30d5\u30ed\u30fc 1. \u9867\u5ba2\u304c\u30ed\u30b0\u30a2\u30a6\u30c8\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af2. \u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u7d42\u4e863. \u30db\u30fc\u30e0\u30da\u30fc\u30b8\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8 \u4ee3\u66ff\u30d5\u30ed\u30fc \u306a\u3057 \u4e8b\u5f8c\u6761\u4ef6 \u9867\u5ba2\u304c\u30ed\u30b0\u30a2\u30a6\u30c8\u72b6\u614b\u306b\u306a\u308b \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID C-004 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u9867\u5ba2\u60c5\u5831\u66f4\u65b0 \u30a2\u30af\u30bf\u30fc \u9867\u5ba2 \u8aac\u660e \u9867\u5ba2\u304c\u81ea\u8eab\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u9867\u5ba2\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f \u57fa\u672c\u30d5\u30ed\u30fc 1. \u9867\u5ba2\u304c\u30de\u30a4\u30da\u30fc\u30b8\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u8a2d\u5b9a\u306b\u30a2\u30af\u30bb\u30b92. \u60c5\u5831\u3092\u7de8\u96c63. \u5909\u66f4\u3092\u4fdd\u5b58 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 \u4e8b\u5f8c\u6761\u4ef6 \u9867\u5ba2\u60c5\u5831\u304c\u66f4\u65b0\u3055\u308c\u308b"},{"location":"%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/#42","title":"4.2. \u30d7\u30ed\u30b0\u30e9\u30e0\u53c2\u52a0","text":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID C-005 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u30d7\u30ed\u30b0\u30e9\u30e0\u95b2\u89a7 \u30a2\u30af\u30bf\u30fc \u9867\u5ba2 \u8aac\u660e \u9867\u5ba2\u304c\u5229\u7528\u53ef\u80fd\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u95b2\u89a7\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u9867\u5ba2\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09 \u57fa\u672c\u30d5\u30ed\u30fc 1. \u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b92. \u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0/\u30bd\u30fc\u30c8\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff093. \u30d7\u30ed\u30b0\u30e9\u30e0\u8a73\u7d30\u3092\u95b2\u89a7 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u30d7\u30ed\u30b0\u30e9\u30e0\u306a\u3057: \u5229\u7528\u53ef\u80fd\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u306a\u3044\u65e8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a \u4e8b\u5f8c\u6761\u4ef6 \u30d7\u30ed\u30b0\u30e9\u30e0\u60c5\u5831\u304c\u8868\u793a\u3055\u308c\u308b \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID C-006 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u30d7\u30ed\u30b0\u30e9\u30e0\u4e88\u7d04 \u30a2\u30af\u30bf\u30fc \u9867\u5ba2 \u8aac\u660e \u9867\u5ba2\u304c\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4e88\u7d04\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u9867\u5ba2\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u4e88\u7d04\u53ef\u80fd\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u5b58\u5728\u3059\u308b \u57fa\u672c\u30d5\u30ed\u30fc 1. \u30d7\u30ed\u30b0\u30e9\u30e0\u8a73\u7d30\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b92. \u4e88\u7d04\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af3. \u4e88\u7d04\u60c5\u5831\u3092\u5165\u529b/\u78ba\u8a8d4. \u4e88\u7d04\u3092\u78ba\u5b9a \u4ee3\u66ff\u30d5\u30ed\u30fc - \u5b9a\u54e1\u8d85\u904e: \u4e88\u7d04\u3067\u304d\u306a\u3044\u65e8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a- \u4e88\u7d04\u671f\u9593\u5916: \u4e88\u7d04\u3067\u304d\u306a\u3044\u65e8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a \u4e8b\u5f8c\u6761\u4ef6 \u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u4e88\u7d04\u3055\u308c\u3001\u30a8\u30f3\u30c8\u30ea\u30fc\u304c\u4f5c\u6210\u3055\u308c\u308b \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID C-007 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u4e88\u7d04\u30ad\u30e3\u30f3\u30bb\u30eb \u30a2\u30af\u30bf\u30fc \u9867\u5ba2 \u8aac\u660e \u9867\u5ba2\u304c\u4e88\u7d04\u3057\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u9867\u5ba2\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4e88\u7d04\u6e08\u307f \u57fa\u672c\u30d5\u30ed\u30fc 1. \u30de\u30a4\u30da\u30fc\u30b8\u306e\u4e88\u7d04\u4e00\u89a7\u306b\u30a2\u30af\u30bb\u30b92. \u30ad\u30e3\u30f3\u30bb\u30eb\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u9078\u629e3. \u30ad\u30e3\u30f3\u30bb\u30eb\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af4. \u30ad\u30e3\u30f3\u30bb\u30eb\u3092\u78ba\u8a8d \u4ee3\u66ff\u30d5\u30ed\u30fc - \u30ad\u30e3\u30f3\u30bb\u30eb\u671f\u9650\u8d85\u904e: \u30ad\u30e3\u30f3\u30bb\u30eb\u3067\u304d\u306a\u3044\u65e8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a \u4e8b\u5f8c\u6761\u4ef6 \u4e88\u7d04\u304c\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u308b"},{"location":"%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/#43","title":"4.3. \u554f\u3044\u5408\u308f\u305b","text":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID C-008 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u8077\u54e1\u3078\u306e\u554f\u3044\u5408\u308f\u305b\u9001\u4fe1 \u30a2\u30af\u30bf\u30fc \u9867\u5ba2 \u8aac\u660e \u9867\u5ba2\u304c\u8077\u54e1\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u9867\u5ba2\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f \u57fa\u672c\u30d5\u30ed\u30fc 1. \u30de\u30a4\u30da\u30fc\u30b8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u6a5f\u80fd\u306b\u30a2\u30af\u30bb\u30b92. \u65b0\u898f\u30e1\u30c3\u30bb\u30fc\u30b8\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af3. \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30bf\u30a4\u30c8\u30eb\u3068\u672c\u6587\u3092\u5165\u529b4. \u5b9b\u5148\u306e\u8077\u54e1\u3092\u9078\u629e\u307e\u305f\u306f\u30ab\u30c6\u30b4\u30ea\u3092\u9078\u629e5. \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 \u4e8b\u5f8c\u6761\u4ef6 \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8077\u54e1\u306b\u9001\u4fe1\u3055\u308c\u308b \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID C-009 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u554f\u3044\u5408\u308f\u305b\u5c65\u6b74\u78ba\u8a8d \u30a2\u30af\u30bf\u30fc \u9867\u5ba2 \u8aac\u660e \u9867\u5ba2\u304c\u904e\u53bb\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u3084\u308a\u53d6\u308a\u3092\u78ba\u8a8d\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u9867\u5ba2\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u3084\u308a\u53d6\u308a\u304c\u5b58\u5728\u3059\u308b \u57fa\u672c\u30d5\u30ed\u30fc 1. \u30de\u30a4\u30da\u30fc\u30b8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u5c65\u6b74\u306b\u30a2\u30af\u30bb\u30b92. \u30e1\u30c3\u30bb\u30fc\u30b8\u30b9\u30ec\u30c3\u30c9\u3092\u9078\u629e3. \u3084\u308a\u53d6\u308a\u306e\u5c65\u6b74\u3092\u78ba\u8a8d \u4ee3\u66ff\u30d5\u30ed\u30fc - \u30e1\u30c3\u30bb\u30fc\u30b8\u306a\u3057: \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u306a\u3044\u65e8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a \u4e8b\u5f8c\u6761\u4ef6 \u30e1\u30c3\u30bb\u30fc\u30b8\u5c65\u6b74\u304c\u8868\u793a\u3055\u308c\u308b \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID C-010 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u554f\u3044\u5408\u308f\u305b\u8fd4\u4fe1 \u30a2\u30af\u30bf\u30fc \u9867\u5ba2 \u8aac\u660e \u9867\u5ba2\u304c\u8077\u54e1\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u8fd4\u4fe1\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u9867\u5ba2\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u8077\u54e1\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9001\u4fe1\u6e08\u307f \u57fa\u672c\u30d5\u30ed\u30fc 1. \u30de\u30a4\u30da\u30fc\u30b8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u5c65\u6b74\u306b\u30a2\u30af\u30bb\u30b92. \u30e1\u30c3\u30bb\u30fc\u30b8\u30b9\u30ec\u30c3\u30c9\u3092\u9078\u629e3. \u8fd4\u4fe1 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 \u4e8b\u5f8c\u6761\u4ef6 \u8fd4\u4fe1\u304c\u8077\u54e1\u306b\u9001\u4fe1\u3055\u308c\u308b"},{"location":"%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/#5","title":"5. \u7ba1\u7406\u8005\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9","text":""},{"location":"%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/#51","title":"5.1. \u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406","text":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID A-001 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u7ba1\u7406\u8005\u30ed\u30b0\u30a4\u30f3 \u30a2\u30af\u30bf\u30fc \u7ba1\u7406\u8005 \u8aac\u660e \u7ba1\u7406\u8005\u304c\u30b7\u30b9\u30c6\u30e0\u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u7ba1\u7406\u8005\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b \u57fa\u672c\u30d5\u30ed\u30fc 1. \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b92. \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b3. \u8a8d\u8a3c\u60c5\u5831\u3092\u691c\u8a3c4. \u7ba1\u7406\u8005\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u8a8d\u8a3c\u5931\u6557: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a \u4e8b\u5f8c\u6761\u4ef6 \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u72b6\u614b\u306b\u306a\u308b \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID A-002 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u7ba1\u7406\u8005\u30ed\u30b0\u30a2\u30a6\u30c8 \u30a2\u30af\u30bf\u30fc \u7ba1\u7406\u8005 \u8aac\u660e \u7ba1\u7406\u8005\u304c\u30b7\u30b9\u30c6\u30e0\u304b\u3089\u30ed\u30b0\u30a2\u30a6\u30c8\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f \u57fa\u672c\u30d5\u30ed\u30fc 1. \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a2\u30a6\u30c8\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af2. \u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u7d42\u4e863. \u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8 \u4ee3\u66ff\u30d5\u30ed\u30fc \u306a\u3057 \u4e8b\u5f8c\u6761\u4ef6 \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a2\u30a6\u30c8\u72b6\u614b\u306b\u306a\u308b"},{"location":"%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/#52","title":"5.2. \u8077\u54e1\u7ba1\u7406","text":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID A-003 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210 \u30a2\u30af\u30bf\u30fc \u7ba1\u7406\u8005 \u8aac\u660e \u7ba1\u7406\u8005\u304c\u65b0\u898f\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f \u57fa\u672c\u30d5\u30ed\u30fc 1. \u8077\u54e1\u7ba1\u7406\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b92. \u65b0\u898f\u30b9\u30bf\u30c3\u30d5\u4f5c\u6210\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af3. \u30b9\u30bf\u30c3\u30d5\u60c5\u5831\u3092\u5165\u529b4. \u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059- \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u91cd\u8907: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a \u4e8b\u5f8c\u6761\u4ef6 \u65b0\u898f\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u308b \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID A-004 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6 \u30a2\u30af\u30bf\u30fc \u7ba1\u7406\u8005 \u8aac\u660e \u7ba1\u7406\u8005\u304c\u65e2\u5b58\u306e\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u7de8\u96c6\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u5b58\u5728\u3059\u308b \u57fa\u672c\u30d5\u30ed\u30fc 1. \u8077\u54e1\u4e00\u89a7\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b92. \u7de8\u96c6\u3059\u308b\u30b9\u30bf\u30c3\u30d5\u3092\u9078\u629e3. \u7de8\u96c6\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af4. \u30b9\u30bf\u30c3\u30d5\u60c5\u5831\u3092\u7de8\u96c65. \u5909\u66f4\u3092\u4fdd\u5b58 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 \u4e8b\u5f8c\u6761\u4ef6 \u8077\u54e1\u60c5\u5831\u304c\u66f4\u65b0\u3055\u308c\u308b \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID A-005 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u505c\u6b62/\u518d\u958b \u30a2\u30af\u30bf\u30fc \u7ba1\u7406\u8005 \u8aac\u660e \u7ba1\u7406\u8005\u304c\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u505c\u6b62\u307e\u305f\u306f\u518d\u958b\u3092\u884c\u3046 \u4e8b\u524d\u6761\u4ef6 \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u5b58\u5728\u3059\u308b \u57fa\u672c\u30d5\u30ed\u30fc 1. \u8077\u54e1\u4e00\u89a7\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b92. \u5bfe\u8c61\u306e\u30b9\u30bf\u30c3\u30d5\u3092\u9078\u629e3. \u505c\u6b62/\u518d\u958b\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af4. \u78ba\u8a8d\u30c0\u30a4\u30a2\u30ed\u30b0\u3067\u78ba\u8a8d \u4ee3\u66ff\u30d5\u30ed\u30fc \u306a\u3057 \u4e8b\u5f8c\u6761\u4ef6 \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u72b6\u614b\u304c\u5909\u66f4\u3055\u308c\u308b \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID A-006 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u8077\u54e1\u30a4\u30d9\u30f3\u30c8\u30ed\u30b0\u78ba\u8a8d \u30a2\u30af\u30bf\u30fc \u7ba1\u7406\u8005 \u8aac\u660e \u7ba1\u7406\u8005\u304c\u8077\u54e1\u306e\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u30ed\u30b0\u3092\u78ba\u8a8d\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u5b58\u5728\u3059\u308b \u57fa\u672c\u30d5\u30ed\u30fc 1. \u8077\u54e1\u8a73\u7d30\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b92. \u30a4\u30d9\u30f3\u30c8\u30ed\u30b0\u30bf\u30d6\u3092\u9078\u629e3. \u30ed\u30b0\u3092\u95b2\u89a7 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u30ed\u30b0\u306a\u3057: \u30ed\u30b0\u304c\u306a\u3044\u65e8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a \u4e8b\u5f8c\u6761\u4ef6 \u8077\u54e1\u306e\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u30ed\u30b0\u304c\u8868\u793a\u3055\u308c\u308b"},{"location":"%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/#53","title":"5.3. \u30b7\u30b9\u30c6\u30e0\u7ba1\u7406","text":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID A-007 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d \u30a2\u30af\u30bb\u30b9\u5236\u9650IP\u30a2\u30c9\u30ec\u30b9\u7ba1\u7406 \u30a2\u30af\u30bf\u30fc \u7ba1\u7406\u8005 \u8aac\u660e \u7ba1\u7406\u8005\u304c\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\u3059\u308bIP\u30a2\u30c9\u30ec\u30b9\u3092\u7ba1\u7406\u3059\u308b \u4e8b\u524d\u6761\u4ef6 \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f \u57fa\u672c\u30d5\u30ed\u30fc 1. IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\u8a2d\u5b9a\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b92. \u8a31\u53ef\u3059\u308bIP\u30a2\u30c9\u30ec\u30b9\u3092\u8ffd\u52a0/\u7de8\u96c6/\u524a\u96643. \u5909\u66f4\u3092\u4fdd\u5b58 \u4ee3\u66ff\u30d5\u30ed\u30fc - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 \u4e8b\u5f8c\u6761\u4ef6 \u30a2\u30af\u30bb\u30b9\u5236\u9650\u8a2d\u5b9a\u304c\u66f4\u65b0\u3055\u308c\u308b"},{"location":"%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9/#8","title":"8. \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u95a2\u9023\u56f3","text":"<p>\u4ee5\u4e0b\u306f\u3001Baukis-Kai\u30b7\u30b9\u30c6\u30e0\u306e\u4e3b\u8981\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3068\u30a2\u30af\u30bf\u30fc\u9593\u306e\u95a2\u4fc2\u3092\u793a\u3059UML\u56f3\u3067\u3059\u3002</p> <p></p>"},{"location":"%E7%94%A8%E8%AA%9E%E9%9B%86/","title":"Baukis-Kai \u7528\u8a9e\u96c6","text":"<p>\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306fBaukis-Kai\u30b7\u30b9\u30c6\u30e0\u3067\u4f7f\u7528\u3055\u308c\u308b\u4e3b\u8981\u306a\u7528\u8a9e\u3092\u65e5\u672c\u8a9e\u3068\u82f1\u8a9e\u3067\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"%E7%94%A8%E8%AA%9E%E9%9B%86/#_1","title":"\u7528\u8a9e\u4e00\u89a7","text":"\u533a\u5206 \u65e5\u672c\u8a9e\u540d \u82f1\u8a9e\u540d \u5099\u8003 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30b9\u30bf\u30c3\u30d5\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 Staff Interface \u30b9\u30bf\u30c3\u30d5\u304c\u9867\u5ba2\u60c5\u5831\u3084\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u9867\u5ba2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 Customer Interface \u9867\u5ba2\u304c\u81ea\u8eab\u306e\u60c5\u5831\u3001\u4e88\u7d04\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u7ba1\u7406\u8005\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 Admin Interface \u30b7\u30b9\u30c6\u30e0\u5168\u4f53\u3068\u30b9\u30bf\u30c3\u30d5\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u7ba1\u7406\u8005\u7528\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30d7\u30ec\u30bc\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3\u5c64 Presentation Layer \u30d3\u30e5\u30fc\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3001\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u3001\u30d5\u30a9\u30fc\u30e0\u3092\u542b\u3080\u5c64 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30c9\u30e1\u30a4\u30f3\u5c64 Domain Layer \u30e2\u30c7\u30eb\u3068\u30b5\u30fc\u30d3\u30b9\u3092\u542b\u3080\u5c64 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u5171\u901a\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8 Shared Components \u30b3\u30f3\u30b5\u30fc\u30f3\u3001\u30d0\u30ea\u30c7\u30fc\u30bf\u3001\u30d8\u30eb\u30d1\u30fc\u3092\u542b\u3080\u5171\u901a\u6a5f\u80fd \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30d3\u30e5\u30fc Views \u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u8868\u793a\u3092\u62c5\u5f53\u3059\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc Controllers \u30e6\u30fc\u30b6\u30fc\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u51e6\u7406\u3057\u3001\u30e2\u30c7\u30eb\u3068\u30d3\u30e5\u30fc\u3092\u9023\u643a\u3055\u305b\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30d7\u30ec\u30bc\u30f3\u30bf\u30fc Presenters \u30e2\u30c7\u30eb\u306e\u30c7\u30fc\u30bf\u3092\u8868\u793a\u7528\u306b\u6574\u5f62\u3059\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30d5\u30a9\u30fc\u30e0 Forms \u30e6\u30fc\u30b6\u30fc\u5165\u529b\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30e2\u30c7\u30eb Models \u30b7\u30b9\u30c6\u30e0\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u3068\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u3092\u5b9a\u7fa9\u3059\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30b5\u30fc\u30d3\u30b9 Services \u8907\u96d1\u306a\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u3092\u30ab\u30d7\u30bb\u30eb\u5316\u3059\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30b3\u30f3\u30b5\u30fc\u30f3 Concerns \u8907\u6570\u306e\u30af\u30e9\u30b9\u3067\u5171\u6709\u3055\u308c\u308b\u6a5f\u80fd\u3092\u30e2\u30b8\u30e5\u30fc\u30eb\u5316\u3057\u305f\u3082\u306e \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30d0\u30ea\u30c7\u30fc\u30bf Validators \u30c7\u30fc\u30bf\u306e\u691c\u8a3c\u30ed\u30b8\u30c3\u30af\u3092\u63d0\u4f9b\u3059\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30d8\u30eb\u30d1\u30fc Helpers \u30d3\u30e5\u30fc\u3067\u4f7f\u7528\u3055\u308c\u308b\u88dc\u52a9\u7684\u306a\u6a5f\u80fd\u3092\u63d0\u4f9b\u3059\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8 \u696d\u52d9 \u8077\u54e1 Staff Member \u9867\u5ba2\u60c5\u5831\u7ba1\u7406\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u3001\u9867\u5ba2\u3068\u306e\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u62c5\u5f53\u3059\u308b\u7d44\u7e54\u306e\u5f93\u696d\u54e1 \u696d\u52d9 \u9867\u5ba2 Customer \u30b5\u30fc\u30d3\u30b9\u3092\u5229\u7528\u3059\u308b\u500b\u4eba\u307e\u305f\u306f\u30b0\u30eb\u30fc\u30d7 \u696d\u52d9 \u7ba1\u7406\u8005 Administrator \u30b7\u30b9\u30c6\u30e0\u5168\u4f53\u3068\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u7ba1\u7406\u3059\u308b\u6a29\u9650\u3092\u6301\u3064\u30e6\u30fc\u30b6\u30fc \u696d\u52d9 \u81ea\u5b85\u4f4f\u6240 Home Address \u9867\u5ba2\u306e\u81ea\u5b85\u306e\u4f4f\u6240\u60c5\u5831 \u696d\u52d9 \u52e4\u52d9\u5148\u4f4f\u6240 Work Address \u9867\u5ba2\u306e\u52e4\u52d9\u5148\u306e\u4f4f\u6240\u60c5\u5831 \u696d\u52d9 \u96fb\u8a71\u756a\u53f7 Phone \u9867\u5ba2\u306e\u9023\u7d61\u5148\u96fb\u8a71\u756a\u53f7 \u696d\u52d9 \u30d7\u30ed\u30b0\u30e9\u30e0 Program \u9867\u5ba2\u304c\u4e88\u7d04\u30fb\u53c2\u52a0\u3067\u304d\u308b\u30b5\u30fc\u30d3\u30b9\u3084\u30a4\u30d9\u30f3\u30c8 \u696d\u52d9 \u30a8\u30f3\u30c8\u30ea\u30fc Entry \u9867\u5ba2\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u4e88\u7d04\u60c5\u5831 \u696d\u52d9 \u30e1\u30c3\u30bb\u30fc\u30b8 Message \u9867\u5ba2\u3068\u8077\u54e1\u9593\u306e\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3 \u696d\u52d9 \u30bf\u30b0 Tag \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u5206\u985e\u3084\u691c\u7d22\u306e\u305f\u3081\u306e\u30e9\u30d9\u30eb \u696d\u52d9 \u8077\u54e1\u30a4\u30d9\u30f3\u30c8 Staff Event \u8077\u54e1\u306e\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u30ed\u30b0 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u8a8d\u8a3c Authentication \u30e6\u30fc\u30b6\u30fc\u306e\u8eab\u5143\u3092\u78ba\u8a8d\u3059\u308b\u30d7\u30ed\u30bb\u30b9 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u8a8d\u53ef Authorization \u30e6\u30fc\u30b6\u30fc\u306e\u30a2\u30af\u30bb\u30b9\u6a29\u9650\u3092\u7ba1\u7406\u3059\u308b\u30d7\u30ed\u30bb\u30b9 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u30d1\u30bf\u30fc\u30f3 Presenter Pattern \u30e2\u30c7\u30eb\u306e\u30c7\u30fc\u30bf\u3092\u8868\u793a\u7528\u306b\u6574\u5f62\u3059\u308b\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30b5\u30fc\u30d3\u30b9\u5c64\u30d1\u30bf\u30fc\u30f3 Service Layer Pattern \u8907\u96d1\u306a\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u3092\u30ab\u30d7\u30bb\u30eb\u5316\u3059\u308b\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30e2\u30c7\u30eb\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc Model Presenter \u30e2\u30c7\u30eb\u306e\u30c7\u30fc\u30bf\u3092\u8868\u793a\u7528\u306b\u6574\u5f62\u3059\u308b\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30d5\u30a9\u30fc\u30e0\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc Form Presenter \u30d5\u30a9\u30fc\u30e0\u306e\u8868\u793a\u3092\u6574\u5f62\u3059\u308b\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u78ba\u8a8d\u30d5\u30a9\u30fc\u30e0\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc Confirming Form Presenter \u78ba\u8a8d\u753b\u9762\u7528\u306e\u30d5\u30a9\u30fc\u30e0\u8868\u793a\u3092\u6574\u5f62\u3059\u308b\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u8077\u54e1\u30b5\u30fc\u30d3\u30b9 Staff Service \u8077\u54e1\u95a2\u9023\u306e\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u3092\u63d0\u4f9b\u3059\u308b\u30b5\u30fc\u30d3\u30b9 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u9867\u5ba2\u30b5\u30fc\u30d3\u30b9 Customer Service \u9867\u5ba2\u95a2\u9023\u306e\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u3092\u63d0\u4f9b\u3059\u308b\u30b5\u30fc\u30d3\u30b9 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30e1\u30c3\u30bb\u30fc\u30b8\u30b5\u30fc\u30d3\u30b9 Message Service \u30e1\u30c3\u30bb\u30fc\u30b8\u95a2\u9023\u306e\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u3092\u63d0\u4f9b\u3059\u308b\u30b5\u30fc\u30d3\u30b9 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30d7\u30ed\u30b0\u30e9\u30e0\u30b5\u30fc\u30d3\u30b9 Program Service \u30d7\u30ed\u30b0\u30e9\u30e0\u95a2\u9023\u306e\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u3092\u63d0\u4f9b\u3059\u308b\u30b5\u30fc\u30d3\u30b9 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d1\u30bf\u30fc\u30f3 Form Object Pattern \u8907\u96d1\u306a\u30d5\u30a9\u30fc\u30e0\u51e6\u7406\u3092\u30ab\u30d7\u30bb\u30eb\u5316\u3059\u308b\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u62e1\u5f35MVC\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 Extended MVC Architecture \u6a19\u6e96\u7684\u306aMVC\u306b\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u3001\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3001\u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8ffd\u52a0\u3057\u305f\u62e1\u5f35\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u540d\u524d\u7a7a\u9593 Namespace Staff\u3001Admin\u3001Customer\u306a\u3069\u3001\u6a5f\u80fd\u3092\u5206\u96e2\u3059\u308b\u305f\u3081\u306e\u540d\u524d\u7a7a\u9593 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u8ad6\u7406\u524a\u9664 Logical Deletion \u30c7\u30fc\u30bf\u3092\u7269\u7406\u7684\u306b\u524a\u9664\u305b\u305a\u3001\u524a\u9664\u30d5\u30e9\u30b0\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u30c7\u30fc\u30bf\u3092\u4fdd\u6301\u3059\u308b\u524a\u9664\u65b9\u6cd5 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 Ruby on Rails Ruby on Rails Baukis-Kai\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306b\u4f7f\u7528\u3055\u308c\u3066\u3044\u308bWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 MySQL MySQL Baukis-Kai\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u30ea\u30ec\u30fc\u30b7\u30e7\u30ca\u30eb\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 Docker Docker Baukis-Kai\u306e\u958b\u767a\u74b0\u5883\u306b\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u30b3\u30f3\u30c6\u30ca\u5316\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 Nginx Nginx Baukis-Kai\u306e\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u306b\u4f7f\u7528\u3055\u308c\u3066\u3044\u308bWeb\u30b5\u30fc\u30d0\u30fc \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 Heroku Heroku Baukis-Kai\u306e\u30c7\u30d7\u30ed\u30a4\u74b0\u5883\u3068\u3057\u3066\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u30af\u30e9\u30a6\u30c9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0 \u696d\u52d9 \u57fa\u76e4\u69cb\u7bc9\u30d5\u30a7\u30fc\u30ba Foundation Building Phase 2017\u5e74\u521d\u671f\u306e\u958b\u767a\u30d5\u30a7\u30fc\u30ba\u3001Docker\u74b0\u5883\u69cb\u7bc9\u3084\u8a8d\u8a3c\u30fb\u8a8d\u53ef\u30b7\u30b9\u30c6\u30e0\u306e\u5b9f\u88c5 \u696d\u52d9 \u4e3b\u8981\u6a5f\u80fd\u5b9f\u88c5\u30d5\u30a7\u30fc\u30ba Core Feature Implementation Phase 2017\u5e74\u4e2d\u671f\u306e\u958b\u767a\u30d5\u30a7\u30fc\u30ba\u3001\u9867\u5ba2\u7ba1\u7406\u6a5f\u80fd\u3084\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\u306e\u5b9f\u88c5 \u696d\u52d9 \u62e1\u5f35\u6a5f\u80fd\u5b9f\u88c5\u30d5\u30a7\u30fc\u30ba Extended Feature Implementation Phase 2017\u5e74\u5f8c\u671f\u306e\u958b\u767a\u30d5\u30a7\u30fc\u30ba\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u30f3\u30b0\u6a5f\u80fd\u306a\u3069\u306e\u5b9f\u88c5 \u696d\u52d9 \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u6574\u5099\u30d5\u30a7\u30fc\u30ba Documentation Phase 2025\u5e74\u306e\u958b\u767a\u30d5\u30a7\u30fc\u30ba\u3001\u30b7\u30b9\u30c6\u30e0\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u4f5c\u6210"},{"location":"journal/20170110/","title":"\u4f5c\u696d\u5c65\u6b74 2017-01-10","text":""},{"location":"journal/20170110/#_1","title":"\u6982\u8981","text":"<p>2017-01-10\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306eDocker\u30b3\u30f3\u30c6\u30ca\u74b0\u5883\u306e\u521d\u671f\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u306b\u95a2\u3059\u308b\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20170110/#docker","title":"Docker\u74b0\u5883\u69cb\u6210\u56f3","text":""},{"location":"journal/20170110/#_2","title":"\u4f5c\u696d\u5185\u5bb9","text":""},{"location":"journal/20170110/#docker_1","title":"Docker\u30b3\u30f3\u30c6\u30ca\u74b0\u5883\u306e\u69cb\u7bc9","text":"<p>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u958b\u767a\u30fb\u5b9f\u884c\u74b0\u5883\u3092\u7d71\u4e00\u3057\u3001\u74b0\u5883\u69cb\u7bc9\u306e\u624b\u9593\u3092\u524a\u6e1b\u3059\u308b\u305f\u3081\u3001Docker\u74b0\u5883\u3092\u5c0e\u5165\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u958b\u767a\u8005\u306e\u74b0\u5883\u306b\u4f9d\u5b58\u305b\u305a\u3001\u4e00\u8cab\u3057\u305f\u74b0\u5883\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u30fb\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"journal/20170110/#_3","title":"\u5909\u66f4\u70b9\u306e\u6982\u8981","text":"<ol> <li>Dockerfile\u306e\u4f5c\u6210</li> <li>Ruby 2.4\u30d9\u30fc\u30b9\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u7528</li> <li>\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</li> <li> <p>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4f9d\u5b58\u95a2\u4fc2\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7</p> </li> <li> <p>docker-compose.yml\u306e\u4f5c\u6210</p> </li> <li>Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c6\u30ca\u306e\u8a2d\u5b9a</li> <li>MySQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30f3\u30c6\u30ca\u306e\u8a2d\u5b9a</li> <li>Nginx\u30d7\u30ed\u30ad\u30b7\u30b3\u30f3\u30c6\u30ca\u306e\u8a2d\u5b9a</li> <li> <p>\u30b3\u30f3\u30c6\u30ca\u9593\u306e\u4f9d\u5b58\u95a2\u4fc2\u306e\u5b9a\u7fa9</p> </li> <li> <p>README\u306e\u66f4\u65b0</p> </li> <li>Docker\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u624b\u9806\u306e\u8ffd\u52a0</li> </ol>"},{"location":"journal/20170110/#c8234a0","title":"\u30b3\u30df\u30c3\u30c8: c8234a0","text":""},{"location":"journal/20170110/#_4","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Docker\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n</code></pre>"},{"location":"journal/20170110/#_5","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A Dockerfile</li> <li>M README.md</li> <li>A docker-compose.yml</li> </ul>"},{"location":"journal/20170110/#_6","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c8234a04746668c4c32b9149aed7b0e4ae794171\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 10 19:04:10 2017 +0900\n\n    Docker\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\ndiff --git a/Dockerfile b/Dockerfile\nnew file mode 100644\nindex 0000000..de3b64d\n--- /dev/null\n+++ b/Dockerfile\n@@ -0,0 +1,9 @@\n+FROM ruby:2.4\n+\n+RUN apt-get update -qq &amp;&amp; apt-get install -y build-essential libpq-dev nodejs\n+RUN mkdir /myapp\n+WORKDIR /myapp\n+ADD Gemfile /myapp/Gemfile\n+ADD Gemfile.lock /myapp/Gemfile.lock\n+RUN bundle install\n+ADD . /myapp\n\\ No newline at end of file\ndiff --git a/README.md b/README.md\nindex 567bfe4..3c0f78e 100644\n--- a/README.md\n+++ b/README.md\n@@ -20,6 +20,12 @@ vagrant up\n vagrant ssh\n ```\n\n+### Docker\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n+```\n+cd /vagrant/\n+docker-compose build\n+```\n+\n\n ## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\n\ndiff --git a/docker-compose.yml b/docker-compose.yml\nnew file mode 100644\nindex 0000000..52da61d\n--- /dev/null\n+++ b/docker-compose.yml\n@@ -0,0 +1,26 @@\n+version: '2'\n+services:\n+  db:\n+    image: mysql\n+  web:\n+    build: .\n+    environment:\n+      - RAILS_ENV=production\n+      - RAILS_SERVE_STATIC_FILES=public\n+      - SECRET_KEY_BASE=8ea360b9c9f1fd8686e20bcf0e02ddcbcd78ad5984559739e04f343d79e44d3cecb09a2b930d0c78bfc5778026b7905a414222f43dd24db86fc076e43e4c35fa\n+      - DATABASE_URL=db\n+    command: bundle exec rails s -p 3000 -b '0.0.0.0'\n+    volumes:\n+      - .:/myapp\n+    ports:\n+      - \"3000:3000\"\n+    depends_on:\n+      - db\n+  proxy:\n+    image: nginx:1.11\n+    ports:\n+      - \"80:80\"\n+    depends_on:\n+      - web\n+    volumes:\n+      - ./nginx_default.conf:/etc/nginx/conf.d/default.conf\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170110/#56b53fa","title":"\u30b3\u30df\u30c3\u30c8: 56b53fa","text":""},{"location":"journal/20170110/#_7","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Vagrant\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n</code></pre>"},{"location":"journal/20170110/#_8","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A .idea/vagrant.xml</li> <li>M README.md</li> <li>A Vagrantfile</li> </ul>"},{"location":"journal/20170110/#_9","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 56b53fa144845c7762209922f8eb540ac2e9e5b9\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 10 19:03:01 2017 +0900\n\n    Vagrant\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\ndiff --git a/.idea/vagrant.xml b/.idea/vagrant.xml\nnew file mode 100644\nindex 0000000..c6e2d31\n--- /dev/null\n+++ b/.idea/vagrant.xml\n@@ -0,0 +1,6 @@\n+&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n+&lt;project version=\"4\"&gt;\n+  &lt;component name=\"VagrantProjectSettings\"&gt;\n+    &lt;option name=\"instanceFolder\" value=\"$PROJECT_DIR$\" /&gt;\n+  &lt;/component&gt;\n+&lt;/project&gt;\n\\ No newline at end of file\ndiff --git a/README.md b/README.md\nindex a1c0839..567bfe4 100644\n--- a/README.md\n+++ b/README.md\n@@ -14,6 +14,12 @@ Baukis \u6539\n\n # \u69cb\u6210 #\n ## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u69cb\u7bc9\n+### Vagarnt\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n+```\n+vagrant up\n+vagrant ssh\n+```\n+\n\n ## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\n\ndiff --git a/Vagrantfile b/Vagrantfile\nnew file mode 100644\nindex 0000000..70088df\n--- /dev/null\n+++ b/Vagrantfile\n@@ -0,0 +1,26 @@\n+# -*- mode: ruby -*-\n+# vi: set ft=ruby :\n+\n+Vagrant.configure(\"2\") do |config|\n+  config.vm.box = \"hiroshima-arc/manhattan\"\n+  config.vm.box_version = \"1.0.0\"\n+\n+  config.vm.network :forwarded_port, guest:80, host:8888, id:\"nginx\"\n+  config.vm.network :forwarded_port, guest:3000, host:3000, id:\"rails\"\n+  config.vm.network :forwarded_port, guest:3306, host:3306, id:\"mysql\"\n+  config.vm.network :forwarded_port, guest:5432, host:5432, id:\"postgresql\"\n+  config.vm.network :forwarded_port, guest:6379, host:6379, id:\"redis\"\n+  config.vm.network :forwarded_port, guest:27017, host:27017, id:\"mongodb\"\n+  config.vm.network :private_network, ip:\"127.0.0.1\"\n+\n+  config.vm.synced_folder \".\", \"/vagrant\", mount_options: ['dmode=777','fmode=777']\n+\n+  config.vm.provider \"virtualbox\" do |vb|\n+    vb.gui = false\n+\n+    # Use VBoxManage to customize the VM. For example to change memory:\n+    vb.customize [\"modifyvm\", :id, \"--memory\", \"4096\"]\n+    vb.customize [\"modifyvm\", :id, \"--vram\", \"128\"]\n+    vb.customize [\"modifyvm\", :id, \"--accelerate3d\", \"on\"]\n+  end\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170110/#d5dac8b","title":"\u30b3\u30df\u30c3\u30c8: d5dac8b","text":""},{"location":"journal/20170110/#_10","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u69cb\u6210\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n</code></pre>"},{"location":"journal/20170110/#_11","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170110/#_12","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit d5dac8b871c496b890cf0bc4524a2b3a22a47731\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 10 18:59:50 2017 +0900\n\n    \u69cb\u6210\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\ndiff --git a/README.md b/README.md\nindex 7db80e4..a1c0839 100644\n--- a/README.md\n+++ b/README.md\n@@ -1,24 +1,24 @@\n-# README\n+Baukis \u6539\n+===================\n\n-This README would normally document whatever steps are necessary to get the\n-application up and running.\n+# \u76ee\u7684 #\n\n-Things you may want to cover:\n+# \u524d\u63d0 #\n+| \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2   | \u30d0\u30fc\u30b8\u30e7\u30f3   | \u5099\u8003        |\n+|:---------------|:-------------|:------------|\n+| ruby           |2.4.0    |             |\n+| rails          |5.0.1    |             |\n+| vagrant        |1.8.7    |             |\n+| docker         |1.12.5    |             |\n+| docker-compose |1.8.0    |             |\n\n-* Ruby version\n+# \u69cb\u6210 #\n+## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u69cb\u7bc9\n\n-* System dependencies\n+## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\n\n-* Configuration\n+## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u914d\u7f6e\n\n-* Database creation\n+# \u53c2\u7167 #\n\n-* Database initialization\n-\n-* How to run the test suite\n-\n-* Services (job queues, cache servers, search engines, etc.)\n-\n-* Deployment instructions\n-\n-* ...\n+# \u53c2\u7167 #\n</code></pre>"},{"location":"journal/20170110/#4dc1ff7","title":"\u30b3\u30df\u30c3\u30c8: 4dc1ff7","text":""},{"location":"journal/20170110/#_13","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Setup project\n</code></pre>"},{"location":"journal/20170110/#_14","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A .gitignore</li> <li>A .idea/.generators</li> <li>A .idea/.rakeTasks</li> <li>A .idea/misc.xml</li> <li>A .idea/modules.xml</li> <li>A .idea/vcs.xml</li> <li>A Gemfile</li> <li>A Gemfile.lock</li> <li>A README.md</li> <li>A Rakefile</li> <li>A app/assets/config/manifest.js</li> <li>A app/assets/images/.keep</li> <li>A app/assets/javascripts/application.js</li> <li>A app/assets/javascripts/cable.js</li> <li>A app/assets/javascripts/channels/.keep</li> <li>A app/assets/stylesheets/application.css</li> <li>A app/channels/application_cable/channel.rb</li> <li>A app/channels/application_cable/connection.rb</li> <li>A app/controllers/application_controller.rb</li> <li>A app/controllers/concerns/.keep</li> <li>A app/helpers/application_helper.rb</li> <li>A app/jobs/application_job.rb</li> <li>A app/mailers/application_mailer.rb</li> <li>A app/models/application_record.rb</li> <li>A app/models/concerns/.keep</li> <li>A app/views/layouts/application.html.erb</li> <li>A app/views/layouts/mailer.html.erb</li> <li>A app/views/layouts/mailer.text.erb</li> <li>A baukis-kai.iml</li> <li>A bin/bundle</li> <li>A bin/rails</li> <li>A bin/rake</li> <li>A bin/setup</li> <li>A bin/spring</li> <li>A bin/update</li> <li>A config.ru</li> <li>A config/application.rb</li> <li>A config/boot.rb</li> <li>A config/cable.yml</li> <li>A config/database.yml</li> <li>A config/environment.rb</li> <li>A config/environments/development.rb</li> <li>A config/environments/production.rb</li> <li>A config/environments/test.rb</li> <li>A config/initializers/application_controller_renderer.rb</li> <li>A config/initializers/assets.rb</li> <li>A config/initializers/backtrace_silencers.rb</li> <li>A config/initializers/cookies_serializer.rb</li> <li>A config/initializers/filter_parameter_logging.rb</li> <li>A config/initializers/inflections.rb</li> <li>A config/initializers/mime_types.rb</li> <li>A config/initializers/new_framework_defaults.rb</li> <li>A config/initializers/session_store.rb</li> <li>A config/initializers/wrap_parameters.rb</li> <li>A config/locales/en.yml</li> <li>A config/puma.rb</li> <li>A config/routes.rb</li> <li>A config/secrets.yml</li> <li>A config/spring.rb</li> <li>A db/seeds.rb</li> <li>A lib/assets/.keep</li> <li>A lib/tasks/.keep</li> <li>A public/404.html</li> <li>A public/422.html</li> <li>A public/500.html</li> <li>A public/apple-touch-icon-precomposed.png</li> <li>A public/apple-touch-icon.png</li> <li>A public/favicon.ico</li> <li>A public/robots.txt</li> <li>A test/controllers/.keep</li> <li>A test/fixtures/.keep</li> <li>A test/fixtures/files/.keep</li> <li>A test/helpers/.keep</li> <li>A test/integration/.keep</li> <li>A test/mailers/.keep</li> <li>A test/models/.keep</li> <li>A test/test_helper.rb</li> <li>A vendor/assets/javascripts/.keep</li> <li>A vendor/assets/stylesheets/.keep</li> </ul>"},{"location":"journal/20170110/#_15","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 4dc1ff78681f4566d6b5f4aea160b566fda1c803\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 10 18:56:30 2017 +0900\n\n    Setup project\n\ndiff --git a/.gitignore b/.gitignore\nnew file mode 100644\nindex 0000000..5ddd4e2\n--- /dev/null\n+++ b/.gitignore\n@@ -0,0 +1,108 @@\n+# See https://help.github.com/articles/ignoring-files for more about ignoring files.\n+#\n+# If you find yourself ignoring temporary files generated by your text editor\n+# or operating system, you probably want to add a global ignore instead:\n+#   git config --global core.excludesfile '~/.gitignore_global'\n+\n+# Ignore bundler config.\n+/.bundle\n+\n+# Ignore all logfiles and tempfiles.\n+/log/*\n+/tmp/*\n+!/log/.keep\n+!/tmp/.keep\n+\n+# Ignore Byebug command history file.\n+.byebug_history\n+### JetBrains template\n+# Covers JetBrains IDEs: IntelliJ, RubyMine, PhpStorm, AppCode, PyCharm, CLion, Android Studio and Webstorm\n+# Reference: https://intellij-support.jetbrains.com/hc/en-us/articles/206544839\n+\n+# User-specific stuff:\n+.idea/workspace.xml\n+.idea/tasks.xml\n+\n+# Sensitive or high-churn files:\n+.idea/dataSources/\n+.idea/dataSources.ids\n+.idea/dataSources.xml\n+.idea/dataSources.local.xml\n+.idea/sqlDataSources.xml\n+.idea/dynamic.xml\n+.idea/uiDesigner.xml\n+\n+# Gradle:\n+.idea/gradle.xml\n+.idea/libraries\n+\n+# Mongo Explorer plugin:\n+.idea/mongoSettings.xml\n+\n+## File-based project format:\n+*.iws\n+\n+## Plugin-specific files:\n+\n+# IntelliJ\n+/out/\n+\n+# mpeltonen/sbt-idea plugin\n+.idea_modules/\n+\n+# JIRA plugin\n+atlassian-ide-plugin.xml\n+\n+# Crashlytics plugin (for Android Studio and IntelliJ)\n+com_crashlytics_export_strings.xml\n+crashlytics.properties\n+crashlytics-build.properties\n+fabric.properties\n+### Vagrant template\n+.vagrant/\n+### Rails template\n+*.rbc\n+capybara-*.html\n+.rspec\n+/log\n+/tmp\n+/db/*.sqlite3\n+/db/*.sqlite3-journal\n+/public/system\n+/coverage/\n+/spec/tmp\n+**.orig\n+rerun.txt\n+pickle-email-*.html\n+\n+# TODO Comment out this rule if you are OK with secrets being uploaded to the repo\n+config/initializers/secret_token.rb\n+\n+# Only include if you have production secrets in this file, which is no longer a Rails default\n+# config/secrets.yml\n+\n+# dotenv\n+# TODO Comment out this rule if environment variables can be committed\n+.env\n+\n+## Environment normalization:\n+/.bundle\n+/vendor/bundle\n+\n+# these should all be checked in to normalize the environment:\n+# Gemfile.lock, .ruby-version, .ruby-gemset\n+\n+# unless supporting rvm &lt; 1.11.0 or doing something fancy, ignore this:\n+.rvmrc\n+\n+# if using bower-rails ignore default bower_components path bower.json files\n+/vendor/assets/bower_components\n+*.bowerrc\n+bower.json\n+\n+# Ignore pow environment settings\n+.powenv\n+\n+# Ignore Byebug command history file.\n+.byebug_history\n+\ndiff --git a/.idea/.generators b/.idea/.generators\nnew file mode 100644\nindex 0000000..1618976\n--- /dev/null\n+++ b/.idea/.generators\n@@ -0,0 +1,8 @@\n+&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n+&lt;Settings&gt;&lt;!--This file was automatically generated by Ruby plugin.\n+You are allowed to: \n+1. Reorder generators\n+2. Remove generators\n+3. Add installed generators\n+To add new installed generators automatically delete this file and reload the project.\n+--&gt;&lt;GeneratorsGroup&gt;&lt;Generator name=\"active_record:migration\" /&gt;&lt;Generator name=\"active_record:model\" /&gt;&lt;Generator name=\"active_record:observer\" /&gt;&lt;Generator name=\"active_record:session_migration\" /&gt;&lt;Generator name=\"controller\" /&gt;&lt;Generator name=\"erb:controller\" /&gt;&lt;Generator name=\"erb:mailer\" /&gt;&lt;Generator name=\"erb:scaffold\" /&gt;&lt;Generator name=\"generator\" /&gt;&lt;Generator name=\"helper\" /&gt;&lt;Generator name=\"integration_test\" /&gt;&lt;Generator name=\"mailer\" /&gt;&lt;Generator name=\"metal\" /&gt;&lt;Generator name=\"migration\" /&gt;&lt;Generator name=\"model\" /&gt;&lt;Generator name=\"model_subclass\" /&gt;&lt;Generator name=\"observer\" /&gt;&lt;Generator name=\"performance_test\" /&gt;&lt;Generator name=\"plugin\" /&gt;&lt;Generator name=\"resource\" /&gt;&lt;Generator name=\"scaffold\" /&gt;&lt;Generator name=\"scaffold_controller\" /&gt;&lt;Generator name=\"session_migration\" /&gt;&lt;Generator name=\"stylesheets\" /&gt;&lt;Generator name=\"test_unit:controller\" /&gt;&lt;Generator name=\"test_unit:helper\" /&gt;&lt;Generator name=\"test_unit:integration\" /&gt;&lt;Generator name=\"test_unit:mailer\" /&gt;&lt;Generator name=\"test_unit:model\" /&gt;&lt;Generator name=\"test_unit:observer\" /&gt;&lt;Generator name=\"test_unit:performance\" /&gt;&lt;Generator name=\"test_unit:plugin\" /&gt;&lt;Generator name=\"test_unit:scaffold\" /&gt;&lt;/GeneratorsGroup&gt;&lt;/Settings&gt;\ndiff --git a/.idea/.rakeTasks b/.idea/.rakeTasks\nnew file mode 100644\nindex 0000000..1bb59d0\n--- /dev/null\n+++ b/.idea/.rakeTasks\n@@ -0,0 +1,7 @@\n+&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n+&lt;Settings&gt;&lt;!--This file was automatically generated by Ruby plugin.\n+You are allowed to: \n+1. Remove rake task\n+2. Add existing rake tasks\n+To add existing rake tasks automatically delete this file and reload the project.\n+--&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rake\"&gt;&lt;RakeTask description=\"\" fullCmd=\"about\" taksId=\"about\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"app\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:template\" taksId=\"template\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:configs\" taksId=\"configs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:upgrade_guide_info\" taksId=\"upgrade_guide_info\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"assets\"&gt;&lt;RakeTask description=\"\" fullCmd=\"assets:clean\" taksId=\"clean\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"assets:clobber\" taksId=\"clobber\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"assets:environment\" taksId=\"environment\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"assets:precompile\" taksId=\"precompile\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache_digests\"&gt;&lt;RakeTask description=\"\" fullCmd=\"cache_digests:dependencies\" taksId=\"dependencies\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"cache_digests:nested_dependencies\" taksId=\"nested_dependencies\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"db\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:_dump\" taksId=\"_dump\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:abort_if_pending_migrations\" taksId=\"abort_if_pending_migrations\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:charset\" taksId=\"charset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:check_protected_environments\" taksId=\"check_protected_environments\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:collation\" taksId=\"collation\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:create\" taksId=\"create\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"create\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:create:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop\" taksId=\"drop\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"drop\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:_unsafe\" taksId=\"_unsafe\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"environment\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:environment:set\" taksId=\"set\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"fixtures\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:fixtures:identify\" taksId=\"identify\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:fixtures:load\" taksId=\"load\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:forward\" taksId=\"forward\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:load_config\" taksId=\"load_config\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate\" taksId=\"migrate\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"migrate\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:down\" taksId=\"down\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:redo\" taksId=\"redo\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:reset\" taksId=\"reset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:status\" taksId=\"status\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:up\" taksId=\"up\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge\" taksId=\"purge\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"purge\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:reset\" taksId=\"reset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:rollback\" taksId=\"rollback\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"schema\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:schema:cache:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:schema:cache:dump\" taksId=\"dump\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:schema:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:schema:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:schema:load_if_ruby\" taksId=\"load_if_ruby\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:seed\" taksId=\"seed\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:setup\" taksId=\"setup\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"structure\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:structure:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:structure:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:structure:load_if_sql\" taksId=\"load_if_sql\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone\" taksId=\"clone\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_schema\" taksId=\"clone_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_structure\" taksId=\"clone_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:deprecated\" taksId=\"deprecated\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_schema\" taksId=\"load_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_structure\" taksId=\"load_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:purge\" taksId=\"purge\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:version\" taksId=\"version\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"default\" taksId=\"default\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"dev\"&gt;&lt;RakeTask description=\"\" fullCmd=\"dev:cache\" taksId=\"cache\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"environment\" taksId=\"environment\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"initializers\" taksId=\"initializers\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"log\"&gt;&lt;RakeTask description=\"\" fullCmd=\"log:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"middleware\" taksId=\"middleware\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes\" taksId=\"notes\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"notes\"&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:custom\" taksId=\"custom\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:fixme\" taksId=\"fixme\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:optimize\" taksId=\"optimize\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:todo\" taksId=\"todo\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rails\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:template\" taksId=\"template\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:configs\" taksId=\"configs\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"railties\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"install\"&gt;&lt;RakeTask description=\"\" fullCmd=\"railties:install:migrations\" taksId=\"migrations\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"restart\" taksId=\"restart\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"routes\" taksId=\"routes\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"secret\" taksId=\"secret\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"stats\" taksId=\"stats\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test\" taksId=\"test\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"\" fullCmd=\"test:controllers\" taksId=\"controllers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:db\" taksId=\"db\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:functionals\" taksId=\"functionals\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:generators\" taksId=\"generators\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:helpers\" taksId=\"helpers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:integration\" taksId=\"integration\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:jobs\" taksId=\"jobs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:mailers\" taksId=\"mailers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:models\" taksId=\"models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:run\" taksId=\"run\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:units\" taksId=\"units\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"time\"&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones\" taksId=\"zones\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"zones\"&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:all\" taksId=\"all\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:local\" taksId=\"local\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:us\" taksId=\"us\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp\" taksId=\"tmp\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache\" taksId=\"tmp/cache\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache/assets\" taksId=\"tmp/cache/assets\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/pids\" taksId=\"tmp/pids\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/sockets\" taksId=\"tmp/sockets\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"tmp\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:cache:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:create\" taksId=\"create\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"pids\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:pids:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"sockets\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:sockets:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;/Settings&gt;\ndiff --git a/.idea/misc.xml b/.idea/misc.xml\nnew file mode 100644\nindex 0000000..6997697\n--- /dev/null\n+++ b/.idea/misc.xml\n@@ -0,0 +1,57 @@\n+&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n+&lt;project version=\"4\"&gt;\n+  &lt;component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_1_8\" default=\"true\" project-jdk-name=\"rbenv: 2.4.0\" project-jdk-type=\"RUBY_SDK\"&gt;\n+    &lt;output url=\"file://$PROJECT_DIR$/out\" /&gt;\n+  &lt;/component&gt;\n+  &lt;component name=\"masterDetails\"&gt;\n+    &lt;states&gt;\n+      &lt;state key=\"GlobalLibrariesConfigurable.UI\"&gt;\n+        &lt;settings&gt;\n+          &lt;last-edited&gt;actionmailer (v3.2.13, rbenv: 2.1.10) [gem]&lt;/last-edited&gt;\n+          &lt;splitter-proportions&gt;\n+            &lt;option name=\"proportions\"&gt;\n+              &lt;list&gt;\n+                &lt;option value=\"0.2\" /&gt;\n+              &lt;/list&gt;\n+            &lt;/option&gt;\n+          &lt;/splitter-proportions&gt;\n+        &lt;/settings&gt;\n+      &lt;/state&gt;\n+      &lt;state key=\"JdkListConfigurable.UI\"&gt;\n+        &lt;settings&gt;\n+          &lt;last-edited&gt;rbenv: 2.1.2&lt;/last-edited&gt;\n+          &lt;splitter-proportions&gt;\n+            &lt;option name=\"proportions\"&gt;\n+              &lt;list&gt;\n+                &lt;option value=\"0.2\" /&gt;\n+              &lt;/list&gt;\n+            &lt;/option&gt;\n+          &lt;/splitter-proportions&gt;\n+        &lt;/settings&gt;\n+      &lt;/state&gt;\n+      &lt;state key=\"ProjectJDKs.UI\"&gt;\n+        &lt;settings&gt;\n+          &lt;last-edited&gt;1.8&lt;/last-edited&gt;\n+          &lt;splitter-proportions&gt;\n+            &lt;option name=\"proportions\"&gt;\n+              &lt;list&gt;\n+                &lt;option value=\"0.2\" /&gt;\n+              &lt;/list&gt;\n+            &lt;/option&gt;\n+          &lt;/splitter-proportions&gt;\n+        &lt;/settings&gt;\n+      &lt;/state&gt;\n+      &lt;state key=\"ProjectLibrariesConfigurable.UI\"&gt;\n+        &lt;settings&gt;\n+          &lt;splitter-proportions&gt;\n+            &lt;option name=\"proportions\"&gt;\n+              &lt;list&gt;\n+                &lt;option value=\"0.2\" /&gt;\n+              &lt;/list&gt;\n+            &lt;/option&gt;\n+          &lt;/splitter-proportions&gt;\n+        &lt;/settings&gt;\n+      &lt;/state&gt;\n+    &lt;/states&gt;\n+  &lt;/component&gt;\n+&lt;/project&gt;\n\\ No newline at end of file\ndiff --git a/.idea/modules.xml b/.idea/modules.xml\nnew file mode 100644\nindex 0000000..1f69da7\n--- /dev/null\n+++ b/.idea/modules.xml\n@@ -0,0 +1,8 @@\n+&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n+&lt;project version=\"4\"&gt;\n+  &lt;component name=\"ProjectModuleManager\"&gt;\n+    &lt;modules&gt;\n+      &lt;module fileurl=\"file://$PROJECT_DIR$/baukis-kai.iml\" filepath=\"$PROJECT_DIR$/baukis-kai.iml\" /&gt;\n+    &lt;/modules&gt;\n+  &lt;/component&gt;\n+&lt;/project&gt;\n\\ No newline at end of file\ndiff --git a/.idea/vcs.xml b/.idea/vcs.xml\nnew file mode 100644\nindex 0000000..35eb1dd\n--- /dev/null\n+++ b/.idea/vcs.xml\n@@ -0,0 +1,6 @@\n+&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n+&lt;project version=\"4\"&gt;\n+  &lt;component name=\"VcsDirectoryMappings\"&gt;\n+    &lt;mapping directory=\"\" vcs=\"Git\" /&gt;\n+  &lt;/component&gt;\n+&lt;/project&gt;\n\\ No newline at end of file\ndiff --git a/Gemfile b/Gemfile\nnew file mode 100644\nindex 0000000..649a89f\n--- /dev/null\n+++ b/Gemfile\n@@ -0,0 +1,53 @@\n+source 'https://rubygems.org'\n+\n+git_source(:github) do |repo_name|\n+  repo_name = \"#{repo_name}/#{repo_name}\" unless repo_name.include?(\"/\")\n+  \"https://github.com/#{repo_name}.git\"\n+end\n+\n+\n+# Bundle edge Rails instead: gem 'rails', github: 'rails/rails'\n+gem 'rails', '~&gt; 5.0.1'\n+# Use mysql as the database for Active Record\n+gem 'mysql2', '&gt;= 0.3.18', '&lt; 0.5'\n+# Use Puma as the app server\n+gem 'puma', '~&gt; 3.0'\n+# Use SCSS for stylesheets\n+gem 'sass-rails', '~&gt; 5.0'\n+# Use Uglifier as compressor for JavaScript assets\n+gem 'uglifier', '&gt;= 1.3.0'\n+# Use CoffeeScript for .coffee assets and views\n+gem 'coffee-rails', '~&gt; 4.2'\n+# See https://github.com/rails/execjs#readme for more supported runtimes\n+# gem 'therubyracer', platforms: :ruby\n+\n+# Use jquery as the JavaScript library\n+gem 'jquery-rails'\n+# Turbolinks makes navigating your web application faster. Read more: https://github.com/turbolinks/turbolinks\n+gem 'turbolinks', '~&gt; 5'\n+# Build JSON APIs with ease. Read more: https://github.com/rails/jbuilder\n+gem 'jbuilder', '~&gt; 2.5'\n+# Use Redis adapter to run Action Cable in production\n+# gem 'redis', '~&gt; 3.0'\n+# Use ActiveModel has_secure_password\n+# gem 'bcrypt', '~&gt; 3.1.7'\n+\n+# Use Capistrano for deployment\n+# gem 'capistrano-rails', group: :development\n+\n+group :development, :test do\n+  # Call 'byebug' anywhere in the code to stop execution and get a debugger console\n+  gem 'byebug', platform: :mri\n+end\n+\n+group :development do\n+  # Access an IRB console on exception pages or by using &lt;%= console %&gt; anywhere in the code.\n+  gem 'web-console', '&gt;= 3.3.0'\n+  gem 'listen', '~&gt; 3.0.5'\n+  # Spring speeds up development by keeping your application running in the background. Read more: https://github.com/rails/spring\n+  gem 'spring'\n+  gem 'spring-watcher-listen', '~&gt; 2.0.0'\n+end\n+\n+# Windows does not include zoneinfo files, so bundle the tzinfo-data gem\n+gem 'tzinfo-data', platforms: [:mingw, :mswin, :x64_mingw, :jruby]\ndiff --git a/Gemfile.lock b/Gemfile.lock\nnew file mode 100644\nindex 0000000..8710da6\n--- /dev/null\n+++ b/Gemfile.lock\n@@ -0,0 +1,174 @@\n+GEM\n+  remote: https://rubygems.org/\n+  specs:\n+    actioncable (5.0.1)\n+      actionpack (= 5.0.1)\n+      nio4r (~&gt; 1.2)\n+      websocket-driver (~&gt; 0.6.1)\n+    actionmailer (5.0.1)\n+      actionpack (= 5.0.1)\n+      actionview (= 5.0.1)\n+      activejob (= 5.0.1)\n+      mail (~&gt; 2.5, &gt;= 2.5.4)\n+      rails-dom-testing (~&gt; 2.0)\n+    actionpack (5.0.1)\n+      actionview (= 5.0.1)\n+      activesupport (= 5.0.1)\n+      rack (~&gt; 2.0)\n+      rack-test (~&gt; 0.6.3)\n+      rails-dom-testing (~&gt; 2.0)\n+      rails-html-sanitizer (~&gt; 1.0, &gt;= 1.0.2)\n+    actionview (5.0.1)\n+      activesupport (= 5.0.1)\n+      builder (~&gt; 3.1)\n+      erubis (~&gt; 2.7.0)\n+      rails-dom-testing (~&gt; 2.0)\n+      rails-html-sanitizer (~&gt; 1.0, &gt;= 1.0.2)\n+    activejob (5.0.1)\n+      activesupport (= 5.0.1)\n+      globalid (&gt;= 0.3.6)\n+    activemodel (5.0.1)\n+      activesupport (= 5.0.1)\n+    activerecord (5.0.1)\n+      activemodel (= 5.0.1)\n+      activesupport (= 5.0.1)\n+      arel (~&gt; 7.0)\n+    activesupport (5.0.1)\n+      concurrent-ruby (~&gt; 1.0, &gt;= 1.0.2)\n+      i18n (~&gt; 0.7)\n+      minitest (~&gt; 5.1)\n+      tzinfo (~&gt; 1.1)\n+    arel (7.1.4)\n+    builder (3.2.2)\n+    byebug (9.0.6)\n+    coffee-rails (4.2.1)\n+      coffee-script (&gt;= 2.2.0)\n+      railties (&gt;= 4.0.0, &lt; 5.2.x)\n+    coffee-script (2.4.1)\n+      coffee-script-source\n+      execjs\n+    coffee-script-source (1.12.2)\n+    concurrent-ruby (1.0.4)\n+    debug_inspector (0.0.2)\n+    erubis (2.7.0)\n+    execjs (2.7.0)\n+    ffi (1.9.14)\n+    globalid (0.3.7)\n+      activesupport (&gt;= 4.1.0)\n+    i18n (0.7.0)\n+    jbuilder (2.6.1)\n+      activesupport (&gt;= 3.0.0, &lt; 5.1)\n+      multi_json (~&gt; 1.2)\n+    jquery-rails (4.2.2)\n+      rails-dom-testing (&gt;= 1, &lt; 3)\n+      railties (&gt;= 4.2.0)\n+      thor (&gt;= 0.14, &lt; 2.0)\n+    listen (3.0.8)\n+      rb-fsevent (~&gt; 0.9, &gt;= 0.9.4)\n+      rb-inotify (~&gt; 0.9, &gt;= 0.9.7)\n+    loofah (2.0.3)\n+      nokogiri (&gt;= 1.5.9)\n+    mail (2.6.4)\n+      mime-types (&gt;= 1.16, &lt; 4)\n+    method_source (0.8.2)\n+    mime-types (3.1)\n+      mime-types-data (~&gt; 3.2015)\n+    mime-types-data (3.2016.0521)\n+    mini_portile2 (2.1.0)\n+    minitest (5.10.1)\n+    multi_json (1.12.1)\n+    mysql2 (0.4.5)\n+    nio4r (1.2.1)\n+    nokogiri (1.7.0.1)\n+      mini_portile2 (~&gt; 2.1.0)\n+    puma (3.6.2)\n+    rack (2.0.1)\n+    rack-test (0.6.3)\n+      rack (&gt;= 1.0)\n+    rails (5.0.1)\n+      actioncable (= 5.0.1)\n+      actionmailer (= 5.0.1)\n+      actionpack (= 5.0.1)\n+      actionview (= 5.0.1)\n+      activejob (= 5.0.1)\n+      activemodel (= 5.0.1)\n+      activerecord (= 5.0.1)\n+      activesupport (= 5.0.1)\n+      bundler (&gt;= 1.3.0, &lt; 2.0)\n+      railties (= 5.0.1)\n+      sprockets-rails (&gt;= 2.0.0)\n+    rails-dom-testing (2.0.2)\n+      activesupport (&gt;= 4.2.0, &lt; 6.0)\n+      nokogiri (~&gt; 1.6)\n+    rails-html-sanitizer (1.0.3)\n+      loofah (~&gt; 2.0)\n+    railties (5.0.1)\n+      actionpack (= 5.0.1)\n+      activesupport (= 5.0.1)\n+      method_source\n+      rake (&gt;= 0.8.7)\n+      thor (&gt;= 0.18.1, &lt; 2.0)\n+    rake (12.0.0)\n+    rb-fsevent (0.9.8)\n+    rb-inotify (0.9.7)\n+      ffi (&gt;= 0.5.0)\n+    sass (3.4.23)\n+    sass-rails (5.0.6)\n+      railties (&gt;= 4.0.0, &lt; 6)\n+      sass (~&gt; 3.1)\n+      sprockets (&gt;= 2.8, &lt; 4.0)\n+      sprockets-rails (&gt;= 2.0, &lt; 4.0)\n+      tilt (&gt;= 1.1, &lt; 3)\n+    spring (2.0.0)\n+      activesupport (&gt;= 4.2)\n+    spring-watcher-listen (2.0.1)\n+      listen (&gt;= 2.7, &lt; 4.0)\n+      spring (&gt;= 1.2, &lt; 3.0)\n+    sprockets (3.7.1)\n+      concurrent-ruby (~&gt; 1.0)\n+      rack (&gt; 1, &lt; 3)\n+    sprockets-rails (3.2.0)\n+      actionpack (&gt;= 4.0)\n+      activesupport (&gt;= 4.0)\n+      sprockets (&gt;= 3.0.0)\n+    thor (0.19.4)\n+    thread_safe (0.3.5)\n+    tilt (2.0.5)\n+    turbolinks (5.0.1)\n+      turbolinks-source (~&gt; 5)\n+    turbolinks-source (5.0.0)\n+    tzinfo (1.2.2)\n+      thread_safe (~&gt; 0.1)\n+    uglifier (3.0.4)\n+      execjs (&gt;= 0.3.0, &lt; 3)\n+    web-console (3.4.0)\n+      actionview (&gt;= 5.0)\n+      activemodel (&gt;= 5.0)\n+      debug_inspector\n+      railties (&gt;= 5.0)\n+    websocket-driver (0.6.4)\n+      websocket-extensions (&gt;= 0.1.0)\n+    websocket-extensions (0.1.2)\n+\n+PLATFORMS\n+  ruby\n+\n+DEPENDENCIES\n+  byebug\n+  coffee-rails (~&gt; 4.2)\n+  jbuilder (~&gt; 2.5)\n+  jquery-rails\n+  listen (~&gt; 3.0.5)\n+  mysql2 (&gt;= 0.3.18, &lt; 0.5)\n+  puma (~&gt; 3.0)\n+  rails (~&gt; 5.0.1)\n+  sass-rails (~&gt; 5.0)\n+  spring\n+  spring-watcher-listen (~&gt; 2.0.0)\n+  turbolinks (~&gt; 5)\n+  tzinfo-data\n+  uglifier (&gt;= 1.3.0)\n+  web-console (&gt;= 3.3.0)\n+\n+BUNDLED WITH\n+   1.13.7\ndiff --git a/README.md b/README.md\nnew file mode 100644\nindex 0000000..7db80e4\n--- /dev/null\n+++ b/README.md\n@@ -0,0 +1,24 @@\n+# README\n+\n+This README would normally document whatever steps are necessary to get the\n+application up and running.\n+\n+Things you may want to cover:\n+\n+* Ruby version\n+\n+* System dependencies\n+\n+* Configuration\n+\n+* Database creation\n+\n+* Database initialization\n+\n+* How to run the test suite\n+\n+* Services (job queues, cache servers, search engines, etc.)\n+\n+* Deployment instructions\n+\n+* ...\ndiff --git a/Rakefile b/Rakefile\nnew file mode 100644\nindex 0000000..e85f913\n--- /dev/null\n+++ b/Rakefile\n@@ -0,0 +1,6 @@\n+# Add your own tasks in files placed in lib/tasks ending in .rake,\n+# for example lib/tasks/capistrano.rake, and they will automatically be available to Rake.\n+\n+require_relative 'config/application'\n+\n+Rails.application.load_tasks\ndiff --git a/app/assets/config/manifest.js b/app/assets/config/manifest.js\nnew file mode 100644\nindex 0000000..b16e53d\n--- /dev/null\n+++ b/app/assets/config/manifest.js\n@@ -0,0 +1,3 @@\n+//= link_tree ../images\n+//= link_directory ../javascripts .js\n+//= link_directory ../stylesheets .css\ndiff --git a/app/assets/images/.keep b/app/assets/images/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/app/assets/javascripts/application.js b/app/assets/javascripts/application.js\nnew file mode 100644\nindex 0000000..b12018d\n--- /dev/null\n+++ b/app/assets/javascripts/application.js\n@@ -0,0 +1,16 @@\n+// This is a manifest file that'll be compiled into application.js, which will include all the files\n+// listed below.\n+//\n+// Any JavaScript/Coffee file within this directory, lib/assets/javascripts, vendor/assets/javascripts,\n+// or any plugin's vendor/assets/javascripts directory can be referenced here using a relative path.\n+//\n+// It's not advisable to add code directly here, but if you do, it'll appear at the bottom of the\n+// compiled file. JavaScript code in this file should be added after the last require_* statement.\n+//\n+// Read Sprockets README (https://github.com/rails/sprockets#sprockets-directives) for details\n+// about supported directives.\n+//\n+//= require jquery\n+//= require jquery_ujs\n+//= require turbolinks\n+//= require_tree .\ndiff --git a/app/assets/javascripts/cable.js b/app/assets/javascripts/cable.js\nnew file mode 100644\nindex 0000000..71ee1e6\n--- /dev/null\n+++ b/app/assets/javascripts/cable.js\n@@ -0,0 +1,13 @@\n+// Action Cable provides the framework to deal with WebSockets in Rails.\n+// You can generate new channels where WebSocket features live using the rails generate channel command.\n+//\n+//= require action_cable\n+//= require_self\n+//= require_tree ./channels\n+\n+(function() {\n+  this.App || (this.App = {});\n+\n+  App.cable = ActionCable.createConsumer();\n+\n+}).call(this);\ndiff --git a/app/assets/javascripts/channels/.keep b/app/assets/javascripts/channels/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/app/assets/stylesheets/application.css b/app/assets/stylesheets/application.css\nnew file mode 100644\nindex 0000000..0ebd7fe\n--- /dev/null\n+++ b/app/assets/stylesheets/application.css\n@@ -0,0 +1,15 @@\n+/*\n+ * This is a manifest file that'll be compiled into application.css, which will include all the files\n+ * listed below.\n+ *\n+ * Any CSS and SCSS file within this directory, lib/assets/stylesheets, vendor/assets/stylesheets,\n+ * or any plugin's vendor/assets/stylesheets directory can be referenced here using a relative path.\n+ *\n+ * You're free to add application-wide styles to this file and they'll appear at the bottom of the\n+ * compiled file so the styles you add here take precedence over styles defined in any other CSS/SCSS\n+ * files in this directory. Styles in this file should be added after the last require_* statement.\n+ * It is generally better to create a new file per style scope.\n+ *\n+ *= require_tree .\n+ *= require_self\n+ */\ndiff --git a/app/channels/application_cable/channel.rb b/app/channels/application_cable/channel.rb\nnew file mode 100644\nindex 0000000..d672697\n--- /dev/null\n+++ b/app/channels/application_cable/channel.rb\n@@ -0,0 +1,4 @@\n+module ApplicationCable\n+  class Channel &lt; ActionCable::Channel::Base\n+  end\n+end\ndiff --git a/app/channels/application_cable/connection.rb b/app/channels/application_cable/connection.rb\nnew file mode 100644\nindex 0000000..0ff5442\n--- /dev/null\n+++ b/app/channels/application_cable/connection.rb\n@@ -0,0 +1,4 @@\n+module ApplicationCable\n+  class Connection &lt; ActionCable::Connection::Base\n+  end\n+end\ndiff --git a/app/controllers/application_controller.rb b/app/controllers/application_controller.rb\nnew file mode 100644\nindex 0000000..1c07694\n--- /dev/null\n+++ b/app/controllers/application_controller.rb\n@@ -0,0 +1,3 @@\n+class ApplicationController &lt; ActionController::Base\n+  protect_from_forgery with: :exception\n+end\ndiff --git a/app/controllers/concerns/.keep b/app/controllers/concerns/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/app/helpers/application_helper.rb b/app/helpers/application_helper.rb\nnew file mode 100644\nindex 0000000..de6be79\n--- /dev/null\n+++ b/app/helpers/application_helper.rb\n@@ -0,0 +1,2 @@\n+module ApplicationHelper\n+end\ndiff --git a/app/jobs/application_job.rb b/app/jobs/application_job.rb\nnew file mode 100644\nindex 0000000..a009ace\n--- /dev/null\n+++ b/app/jobs/application_job.rb\n@@ -0,0 +1,2 @@\n+class ApplicationJob &lt; ActiveJob::Base\n+end\ndiff --git a/app/mailers/application_mailer.rb b/app/mailers/application_mailer.rb\nnew file mode 100644\nindex 0000000..286b223\n--- /dev/null\n+++ b/app/mailers/application_mailer.rb\n@@ -0,0 +1,4 @@\n+class ApplicationMailer &lt; ActionMailer::Base\n+  default from: 'from@example.com'\n+  layout 'mailer'\n+end\ndiff --git a/app/models/application_record.rb b/app/models/application_record.rb\nnew file mode 100644\nindex 0000000..10a4cba\n--- /dev/null\n+++ b/app/models/application_record.rb\n@@ -0,0 +1,3 @@\n+class ApplicationRecord &lt; ActiveRecord::Base\n+  self.abstract_class = true\n+end\ndiff --git a/app/models/concerns/.keep b/app/models/concerns/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/app/views/layouts/application.html.erb b/app/views/layouts/application.html.erb\nnew file mode 100644\nindex 0000000..3986591\n--- /dev/null\n+++ b/app/views/layouts/application.html.erb\n@@ -0,0 +1,14 @@\n+&lt;!DOCTYPE html&gt;\n+&lt;html&gt;\n+  &lt;head&gt;\n+    &lt;title&gt;BaukisKai&lt;/title&gt;\n+    &lt;%= csrf_meta_tags %&gt;\n+\n+    &lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n+    &lt;%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %&gt;\n+  &lt;/head&gt;\n+\n+  &lt;body&gt;\n+    &lt;%= yield %&gt;\n+  &lt;/body&gt;\n+&lt;/html&gt;\ndiff --git a/app/views/layouts/mailer.html.erb b/app/views/layouts/mailer.html.erb\nnew file mode 100644\nindex 0000000..cbd34d2\n--- /dev/null\n+++ b/app/views/layouts/mailer.html.erb\n@@ -0,0 +1,13 @@\n+&lt;!DOCTYPE html&gt;\n+&lt;html&gt;\n+  &lt;head&gt;\n+    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n+    &lt;style&gt;\n+      /* Email styles need to be inline */\n+    &lt;/style&gt;\n+  &lt;/head&gt;\n+\n+  &lt;body&gt;\n+    &lt;%= yield %&gt;\n+  &lt;/body&gt;\n+&lt;/html&gt;\ndiff --git a/app/views/layouts/mailer.text.erb b/app/views/layouts/mailer.text.erb\nnew file mode 100644\nindex 0000000..37f0bdd\n--- /dev/null\n+++ b/app/views/layouts/mailer.text.erb\n@@ -0,0 +1 @@\n+&lt;%= yield %&gt;\ndiff --git a/baukis-kai.iml b/baukis-kai.iml\nnew file mode 100644\nindex 0000000..45e13de\n--- /dev/null\n+++ b/baukis-kai.iml\n@@ -0,0 +1,92 @@\n+&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n+&lt;module type=\"RUBY_MODULE\" version=\"4\"&gt;\n+  &lt;component name=\"FacetManager\"&gt;\n+    &lt;facet type=\"RailsFacetType\" name=\"Ruby on Rails\"&gt;\n+      &lt;configuration&gt;\n+        &lt;RAILS_FACET_CONFIG_ID NAME=\"RAILS_FACET_SUPPORT_REMOVED\" VALUE=\"false\" /&gt;\n+        &lt;RAILS_FACET_CONFIG_ID NAME=\"RAILS_TESTS_SOURCES_PATCHED\" VALUE=\"true\" /&gt;\n+        &lt;RAILS_FACET_CONFIG_ID NAME=\"RAILS_FACET_APPLICATION_ROOT\" VALUE=\"$MODULE_DIR$\" /&gt;\n+      &lt;/configuration&gt;\n+    &lt;/facet&gt;\n+  &lt;/component&gt;\n+  &lt;component name=\"NewModuleRootManager\" inherit-compiler-output=\"true\"&gt;\n+    &lt;exclude-output /&gt;\n+    &lt;content url=\"file://$MODULE_DIR$\"&gt;\n+      &lt;sourceFolder url=\"file://$MODULE_DIR$/test\" isTestSource=\"true\" /&gt;\n+      &lt;sourceFolder url=\"file://$MODULE_DIR$/spec\" isTestSource=\"true\" /&gt;\n+      &lt;excludeFolder url=\"file://$MODULE_DIR$/.bundle\" /&gt;\n+      &lt;excludeFolder url=\"file://$MODULE_DIR$/components\" /&gt;\n+      &lt;excludeFolder url=\"file://$MODULE_DIR$/public/system\" /&gt;\n+      &lt;excludeFolder url=\"file://$MODULE_DIR$/tmp\" /&gt;\n+      &lt;excludeFolder url=\"file://$MODULE_DIR$/vendor/bundle\" /&gt;\n+    &lt;/content&gt;\n+    &lt;orderEntry type=\"jdk\" jdkName=\"rbenv: 2.4.0\" jdkType=\"RUBY_SDK\" /&gt;\n+    &lt;orderEntry type=\"sourceFolder\" forTests=\"false\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actioncable (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionmailer (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionpack (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionview (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activejob (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activemodel (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activerecord (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activesupport (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"arel (v7.1.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"builder (v3.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bundler (v1.13.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"byebug (v9.0.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-rails (v4.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script (v2.4.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script-source (v1.12.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"concurrent-ruby (v1.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debug_inspector (v0.0.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"erubis (v2.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"execjs (v2.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ffi (v1.9.14, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"globalid (v0.3.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n (v0.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jbuilder (v2.6.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jquery-rails (v4.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"listen (v3.0.8, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"loofah (v2.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mail (v2.6.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"method_source (v0.8.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types (v3.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types-data (v3.2016.0521, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mini_portile2 (v2.1.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"minitest (v5.10.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"multi_json (v1.12.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mysql2 (v0.4.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nio4r (v1.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nokogiri (v1.7.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"puma (v3.6.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack (v2.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-test (v0.6.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-dom-testing (v2.0.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-html-sanitizer (v1.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"railties (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rake (v12.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-fsevent (v0.9.8, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-inotify (v0.9.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass (v3.4.23, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass-rails (v5.0.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring (v2.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-watcher-listen (v2.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets (v3.7.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets-rails (v3.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thor (v0.19.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thread_safe (v0.3.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tilt (v2.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks-source (v5.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tzinfo (v1.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"uglifier (v3.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"web-console (v3.4.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-driver (v0.6.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-extensions (v0.1.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+  &lt;/component&gt;\n+  &lt;component name=\"RModuleSettingsStorage\"&gt;\n+    &lt;LOAD_PATH number=\"0\" /&gt;\n+    &lt;I18N_FOLDERS number=\"1\" string0=\"$MODULE_DIR$/config/locales\" /&gt;\n+  &lt;/component&gt;\n+&lt;/module&gt;\n\\ No newline at end of file\ndiff --git a/bin/bundle b/bin/bundle\nnew file mode 100755\nindex 0000000..66e9889\n--- /dev/null\n+++ b/bin/bundle\n@@ -0,0 +1,3 @@\n+#!/usr/bin/env ruby\n+ENV['BUNDLE_GEMFILE'] ||= File.expand_path('../../Gemfile', __FILE__)\n+load Gem.bin_path('bundler', 'bundle')\ndiff --git a/bin/rails b/bin/rails\nnew file mode 100755\nindex 0000000..5badb2f\n--- /dev/null\n+++ b/bin/rails\n@@ -0,0 +1,9 @@\n+#!/usr/bin/env ruby\n+begin\n+  load File.expand_path('../spring', __FILE__)\n+rescue LoadError =&gt; e\n+  raise unless e.message.include?('spring')\n+end\n+APP_PATH = File.expand_path('../config/application', __dir__)\n+require_relative '../config/boot'\n+require 'rails/commands'\ndiff --git a/bin/rake b/bin/rake\nnew file mode 100755\nindex 0000000..d87d5f5\n--- /dev/null\n+++ b/bin/rake\n@@ -0,0 +1,9 @@\n+#!/usr/bin/env ruby\n+begin\n+  load File.expand_path('../spring', __FILE__)\n+rescue LoadError =&gt; e\n+  raise unless e.message.include?('spring')\n+end\n+require_relative '../config/boot'\n+require 'rake'\n+Rake.application.run\ndiff --git a/bin/setup b/bin/setup\nnew file mode 100755\nindex 0000000..e620b4d\n--- /dev/null\n+++ b/bin/setup\n@@ -0,0 +1,34 @@\n+#!/usr/bin/env ruby\n+require 'pathname'\n+require 'fileutils'\n+include FileUtils\n+\n+# path to your application root.\n+APP_ROOT = Pathname.new File.expand_path('../../', __FILE__)\n+\n+def system!(*args)\n+  system(*args) || abort(\"\\n== Command #{args} failed ==\")\n+end\n+\n+chdir APP_ROOT do\n+  # This script is a starting point to setup your application.\n+  # Add necessary setup steps to this file.\n+\n+  puts '== Installing dependencies =='\n+  system! 'gem install bundler --conservative'\n+  system('bundle check') || system!('bundle install')\n+\n+  # puts \"\\n== Copying sample files ==\"\n+  # unless File.exist?('config/database.yml')\n+  #   cp 'config/database.yml.sample', 'config/database.yml'\n+  # end\n+\n+  puts \"\\n== Preparing database ==\"\n+  system! 'bin/rails db:setup'\n+\n+  puts \"\\n== Removing old logs and tempfiles ==\"\n+  system! 'bin/rails log:clear tmp:clear'\n+\n+  puts \"\\n== Restarting application server ==\"\n+  system! 'bin/rails restart'\n+end\ndiff --git a/bin/spring b/bin/spring\nnew file mode 100755\nindex 0000000..9bc076b\n--- /dev/null\n+++ b/bin/spring\n@@ -0,0 +1,16 @@\n+#!/usr/bin/env ruby\n+\n+# This file loads spring without using Bundler, in order to be fast.\n+# It gets overwritten when you run the `spring binstub` command.\n+\n+unless defined?(Spring)\n+  require 'rubygems'\n+  require 'bundler'\n+\n+  lockfile = Bundler::LockfileParser.new(Bundler.default_lockfile.read)\n+  if spring = lockfile.specs.detect { |spec| spec.name == \"spring\" }\n+    Gem.use_paths Gem.dir, Bundler.bundle_path.to_s, *Gem.path\n+    gem 'spring', spring.version\n+    require 'spring/binstub'\n+  end\n+end\ndiff --git a/bin/update b/bin/update\nnew file mode 100755\nindex 0000000..a8e4462\n--- /dev/null\n+++ b/bin/update\n@@ -0,0 +1,29 @@\n+#!/usr/bin/env ruby\n+require 'pathname'\n+require 'fileutils'\n+include FileUtils\n+\n+# path to your application root.\n+APP_ROOT = Pathname.new File.expand_path('../../', __FILE__)\n+\n+def system!(*args)\n+  system(*args) || abort(\"\\n== Command #{args} failed ==\")\n+end\n+\n+chdir APP_ROOT do\n+  # This script is a way to update your development environment automatically.\n+  # Add necessary update steps to this file.\n+\n+  puts '== Installing dependencies =='\n+  system! 'gem install bundler --conservative'\n+  system('bundle check') || system!('bundle install')\n+\n+  puts \"\\n== Updating database ==\"\n+  system! 'bin/rails db:migrate'\n+\n+  puts \"\\n== Removing old logs and tempfiles ==\"\n+  system! 'bin/rails log:clear tmp:clear'\n+\n+  puts \"\\n== Restarting application server ==\"\n+  system! 'bin/rails restart'\n+end\ndiff --git a/config.ru b/config.ru\nnew file mode 100644\nindex 0000000..f7ba0b5\n--- /dev/null\n+++ b/config.ru\n@@ -0,0 +1,5 @@\n+# This file is used by Rack-based servers to start the application.\n+\n+require_relative 'config/environment'\n+\n+run Rails.application\ndiff --git a/config/application.rb b/config/application.rb\nnew file mode 100644\nindex 0000000..ed333f7\n--- /dev/null\n+++ b/config/application.rb\n@@ -0,0 +1,15 @@\n+require_relative 'boot'\n+\n+require 'rails/all'\n+\n+# Require the gems listed in Gemfile, including any gems\n+# you've limited to :test, :development, or :production.\n+Bundler.require(*Rails.groups)\n+\n+module BaukisKai\n+  class Application &lt; Rails::Application\n+    # Settings in config/environments/* take precedence over those specified here.\n+    # Application configuration should go into files in config/initializers\n+    # -- all .rb files in that directory are automatically loaded.\n+  end\n+end\ndiff --git a/config/boot.rb b/config/boot.rb\nnew file mode 100644\nindex 0000000..30f5120\n--- /dev/null\n+++ b/config/boot.rb\n@@ -0,0 +1,3 @@\n+ENV['BUNDLE_GEMFILE'] ||= File.expand_path('../Gemfile', __dir__)\n+\n+require 'bundler/setup' # Set up gems listed in the Gemfile.\ndiff --git a/config/cable.yml b/config/cable.yml\nnew file mode 100644\nindex 0000000..0bbde6f\n--- /dev/null\n+++ b/config/cable.yml\n@@ -0,0 +1,9 @@\n+development:\n+  adapter: async\n+\n+test:\n+  adapter: async\n+\n+production:\n+  adapter: redis\n+  url: redis://localhost:6379/1\ndiff --git a/config/database.yml b/config/database.yml\nnew file mode 100644\nindex 0000000..3018451\n--- /dev/null\n+++ b/config/database.yml\n@@ -0,0 +1,54 @@\n+# MySQL. Versions 5.0 and up are supported.\n+#\n+# Install the MySQL driver\n+#   gem install mysql2\n+#\n+# Ensure the MySQL gem is defined in your Gemfile\n+#   gem 'mysql2'\n+#\n+# And be sure to use new-style password hashing:\n+#   http://dev.mysql.com/doc/refman/5.7/en/old-client.html\n+#\n+default: &amp;default\n+  adapter: mysql2\n+  encoding: utf8\n+  pool: 5\n+  username: root\n+  password:\n+  host: localhost\n+\n+development:\n+  &lt;&lt;: *default\n+  database: baukis-kai_development\n+\n+# Warning: The database defined as \"test\" will be erased and\n+# re-generated from your development database when you run \"rake\".\n+# Do not set this db to the same as development or production.\n+test:\n+  &lt;&lt;: *default\n+  database: baukis-kai_test\n+\n+# As with config/secrets.yml, you never want to store sensitive information,\n+# like your database password, in your source code. If your source code is\n+# ever seen by anyone, they now have access to your database.\n+#\n+# Instead, provide the password as a unix environment variable when you boot\n+# the app. Read http://guides.rubyonrails.org/configuring.html#configuring-a-database\n+# for a full rundown on how to provide these environment variables in a\n+# production deployment.\n+#\n+# On Heroku and other platform providers, you may have a full connection URL\n+# available as an environment variable. For example:\n+#\n+#   DATABASE_URL=\"mysql2://myuser:mypass@localhost/somedatabase\"\n+#\n+# You can use this database configuration with:\n+#\n+#   production:\n+#     url: &lt;%= ENV['DATABASE_URL'] %&gt;\n+#\n+production:\n+  &lt;&lt;: *default\n+  database: baukis-kai_production\n+  username: baukis-kai\n+  password: &lt;%= ENV['BAUKIS-KAI_DATABASE_PASSWORD'] %&gt;\ndiff --git a/config/environment.rb b/config/environment.rb\nnew file mode 100644\nindex 0000000..426333b\n--- /dev/null\n+++ b/config/environment.rb\n@@ -0,0 +1,5 @@\n+# Load the Rails application.\n+require_relative 'application'\n+\n+# Initialize the Rails application.\n+Rails.application.initialize!\ndiff --git a/config/environments/development.rb b/config/environments/development.rb\nnew file mode 100644\nindex 0000000..6f71970\n--- /dev/null\n+++ b/config/environments/development.rb\n@@ -0,0 +1,54 @@\n+Rails.application.configure do\n+  # Settings specified here will take precedence over those in config/application.rb.\n+\n+  # In the development environment your application's code is reloaded on\n+  # every request. This slows down response time but is perfect for development\n+  # since you don't have to restart the web server when you make code changes.\n+  config.cache_classes = false\n+\n+  # Do not eager load code on boot.\n+  config.eager_load = false\n+\n+  # Show full error reports.\n+  config.consider_all_requests_local = true\n+\n+  # Enable/disable caching. By default caching is disabled.\n+  if Rails.root.join('tmp/caching-dev.txt').exist?\n+    config.action_controller.perform_caching = true\n+\n+    config.cache_store = :memory_store\n+    config.public_file_server.headers = {\n+      'Cache-Control' =&gt; 'public, max-age=172800'\n+    }\n+  else\n+    config.action_controller.perform_caching = false\n+\n+    config.cache_store = :null_store\n+  end\n+\n+  # Don't care if the mailer can't send.\n+  config.action_mailer.raise_delivery_errors = false\n+\n+  config.action_mailer.perform_caching = false\n+\n+  # Print deprecation notices to the Rails logger.\n+  config.active_support.deprecation = :log\n+\n+  # Raise an error on page load if there are pending migrations.\n+  config.active_record.migration_error = :page_load\n+\n+  # Debug mode disables concatenation and preprocessing of assets.\n+  # This option may cause significant delays in view rendering with a large\n+  # number of complex assets.\n+  config.assets.debug = true\n+\n+  # Suppress logger output for asset requests.\n+  config.assets.quiet = true\n+\n+  # Raises error for missing translations\n+  # config.action_view.raise_on_missing_translations = true\n+\n+  # Use an evented file watcher to asynchronously detect changes in source code,\n+  # routes, locales, etc. This feature depends on the listen gem.\n+  config.file_watcher = ActiveSupport::EventedFileUpdateChecker\n+end\ndiff --git a/config/environments/production.rb b/config/environments/production.rb\nnew file mode 100644\nindex 0000000..66be215\n--- /dev/null\n+++ b/config/environments/production.rb\n@@ -0,0 +1,86 @@\n+Rails.application.configure do\n+  # Settings specified here will take precedence over those in config/application.rb.\n+\n+  # Code is not reloaded between requests.\n+  config.cache_classes = true\n+\n+  # Eager load code on boot. This eager loads most of Rails and\n+  # your application in memory, allowing both threaded web servers\n+  # and those relying on copy on write to perform better.\n+  # Rake tasks automatically ignore this option for performance.\n+  config.eager_load = true\n+\n+  # Full error reports are disabled and caching is turned on.\n+  config.consider_all_requests_local       = false\n+  config.action_controller.perform_caching = true\n+\n+  # Disable serving static files from the `/public` folder by default since\n+  # Apache or NGINX already handles this.\n+  config.public_file_server.enabled = ENV['RAILS_SERVE_STATIC_FILES'].present?\n+\n+  # Compress JavaScripts and CSS.\n+  config.assets.js_compressor = :uglifier\n+  # config.assets.css_compressor = :sass\n+\n+  # Do not fallback to assets pipeline if a precompiled asset is missed.\n+  config.assets.compile = false\n+\n+  # `config.assets.precompile` and `config.assets.version` have moved to config/initializers/assets.rb\n+\n+  # Enable serving of images, stylesheets, and JavaScripts from an asset server.\n+  # config.action_controller.asset_host = 'http://assets.example.com'\n+\n+  # Specifies the header that your server uses for sending files.\n+  # config.action_dispatch.x_sendfile_header = 'X-Sendfile' # for Apache\n+  # config.action_dispatch.x_sendfile_header = 'X-Accel-Redirect' # for NGINX\n+\n+  # Mount Action Cable outside main process or domain\n+  # config.action_cable.mount_path = nil\n+  # config.action_cable.url = 'wss://example.com/cable'\n+  # config.action_cable.allowed_request_origins = [ 'http://example.com', /http:\\/\\/example.*/ ]\n+\n+  # Force all access to the app over SSL, use Strict-Transport-Security, and use secure cookies.\n+  # config.force_ssl = true\n+\n+  # Use the lowest log level to ensure availability of diagnostic information\n+  # when problems arise.\n+  config.log_level = :debug\n+\n+  # Prepend all log lines with the following tags.\n+  config.log_tags = [ :request_id ]\n+\n+  # Use a different cache store in production.\n+  # config.cache_store = :mem_cache_store\n+\n+  # Use a real queuing backend for Active Job (and separate queues per environment)\n+  # config.active_job.queue_adapter     = :resque\n+  # config.active_job.queue_name_prefix = \"baukis-kai_#{Rails.env}\"\n+  config.action_mailer.perform_caching = false\n+\n+  # Ignore bad email addresses and do not raise email delivery errors.\n+  # Set this to true and configure the email server for immediate delivery to raise delivery errors.\n+  # config.action_mailer.raise_delivery_errors = false\n+\n+  # Enable locale fallbacks for I18n (makes lookups for any locale fall back to\n+  # the I18n.default_locale when a translation cannot be found).\n+  config.i18n.fallbacks = true\n+\n+  # Send deprecation notices to registered listeners.\n+  config.active_support.deprecation = :notify\n+\n+  # Use default logging formatter so that PID and timestamp are not suppressed.\n+  config.log_formatter = ::Logger::Formatter.new\n+\n+  # Use a different logger for distributed setups.\n+  # require 'syslog/logger'\n+  # config.logger = ActiveSupport::TaggedLogging.new(Syslog::Logger.new 'app-name')\n+\n+  if ENV[\"RAILS_LOG_TO_STDOUT\"].present?\n+    logger           = ActiveSupport::Logger.new(STDOUT)\n+    logger.formatter = config.log_formatter\n+    config.logger = ActiveSupport::TaggedLogging.new(logger)\n+  end\n+\n+  # Do not dump schema after migrations.\n+  config.active_record.dump_schema_after_migration = false\n+end\ndiff --git a/config/environments/test.rb b/config/environments/test.rb\nnew file mode 100644\nindex 0000000..30587ef\n--- /dev/null\n+++ b/config/environments/test.rb\n@@ -0,0 +1,42 @@\n+Rails.application.configure do\n+  # Settings specified here will take precedence over those in config/application.rb.\n+\n+  # The test environment is used exclusively to run your application's\n+  # test suite. You never need to work with it otherwise. Remember that\n+  # your test database is \"scratch space\" for the test suite and is wiped\n+  # and recreated between test runs. Don't rely on the data there!\n+  config.cache_classes = true\n+\n+  # Do not eager load code on boot. This avoids loading your whole application\n+  # just for the purpose of running a single test. If you are using a tool that\n+  # preloads Rails for running tests, you may have to set it to true.\n+  config.eager_load = false\n+\n+  # Configure public file server for tests with Cache-Control for performance.\n+  config.public_file_server.enabled = true\n+  config.public_file_server.headers = {\n+    'Cache-Control' =&gt; 'public, max-age=3600'\n+  }\n+\n+  # Show full error reports and disable caching.\n+  config.consider_all_requests_local       = true\n+  config.action_controller.perform_caching = false\n+\n+  # Raise exceptions instead of rendering exception templates.\n+  config.action_dispatch.show_exceptions = false\n+\n+  # Disable request forgery protection in test environment.\n+  config.action_controller.allow_forgery_protection = false\n+  config.action_mailer.perform_caching = false\n+\n+  # Tell Action Mailer not to deliver emails to the real world.\n+  # The :test delivery method accumulates sent emails in the\n+  # ActionMailer::Base.deliveries array.\n+  config.action_mailer.delivery_method = :test\n+\n+  # Print deprecation notices to the stderr.\n+  config.active_support.deprecation = :stderr\n+\n+  # Raises error for missing translations\n+  # config.action_view.raise_on_missing_translations = true\n+end\ndiff --git a/config/initializers/application_controller_renderer.rb b/config/initializers/application_controller_renderer.rb\nnew file mode 100644\nindex 0000000..51639b6\n--- /dev/null\n+++ b/config/initializers/application_controller_renderer.rb\n@@ -0,0 +1,6 @@\n+# Be sure to restart your server when you modify this file.\n+\n+# ApplicationController.renderer.defaults.merge!(\n+#   http_host: 'example.org',\n+#   https: false\n+# )\ndiff --git a/config/initializers/assets.rb b/config/initializers/assets.rb\nnew file mode 100644\nindex 0000000..01ef3e6\n--- /dev/null\n+++ b/config/initializers/assets.rb\n@@ -0,0 +1,11 @@\n+# Be sure to restart your server when you modify this file.\n+\n+# Version of your assets, change this if you want to expire all your assets.\n+Rails.application.config.assets.version = '1.0'\n+\n+# Add additional assets to the asset load path\n+# Rails.application.config.assets.paths &lt;&lt; Emoji.images_path\n+\n+# Precompile additional assets.\n+# application.js, application.css, and all non-JS/CSS in app/assets folder are already added.\n+# Rails.application.config.assets.precompile += %w( search.js )\ndiff --git a/config/initializers/backtrace_silencers.rb b/config/initializers/backtrace_silencers.rb\nnew file mode 100644\nindex 0000000..59385cd\n--- /dev/null\n+++ b/config/initializers/backtrace_silencers.rb\n@@ -0,0 +1,7 @@\n+# Be sure to restart your server when you modify this file.\n+\n+# You can add backtrace silencers for libraries that you're using but don't wish to see in your backtraces.\n+# Rails.backtrace_cleaner.add_silencer { |line| line =~ /my_noisy_library/ }\n+\n+# You can also remove all the silencers if you're trying to debug a problem that might stem from framework code.\n+# Rails.backtrace_cleaner.remove_silencers!\ndiff --git a/config/initializers/cookies_serializer.rb b/config/initializers/cookies_serializer.rb\nnew file mode 100644\nindex 0000000..5a6a32d\n--- /dev/null\n+++ b/config/initializers/cookies_serializer.rb\n@@ -0,0 +1,5 @@\n+# Be sure to restart your server when you modify this file.\n+\n+# Specify a serializer for the signed and encrypted cookie jars.\n+# Valid options are :json, :marshal, and :hybrid.\n+Rails.application.config.action_dispatch.cookies_serializer = :json\ndiff --git a/config/initializers/filter_parameter_logging.rb b/config/initializers/filter_parameter_logging.rb\nnew file mode 100644\nindex 0000000..4a994e1\n--- /dev/null\n+++ b/config/initializers/filter_parameter_logging.rb\n@@ -0,0 +1,4 @@\n+# Be sure to restart your server when you modify this file.\n+\n+# Configure sensitive parameters which will be filtered from the log file.\n+Rails.application.config.filter_parameters += [:password]\ndiff --git a/config/initializers/inflections.rb b/config/initializers/inflections.rb\nnew file mode 100644\nindex 0000000..ac033bf\n--- /dev/null\n+++ b/config/initializers/inflections.rb\n@@ -0,0 +1,16 @@\n+# Be sure to restart your server when you modify this file.\n+\n+# Add new inflection rules using the following format. Inflections\n+# are locale specific, and you may define rules for as many different\n+# locales as you wish. All of these examples are active by default:\n+# ActiveSupport::Inflector.inflections(:en) do |inflect|\n+#   inflect.plural /^(ox)$/i, '\\1en'\n+#   inflect.singular /^(ox)en/i, '\\1'\n+#   inflect.irregular 'person', 'people'\n+#   inflect.uncountable %w( fish sheep )\n+# end\n+\n+# These inflection rules are supported but not enabled by default:\n+# ActiveSupport::Inflector.inflections(:en) do |inflect|\n+#   inflect.acronym 'RESTful'\n+# end\ndiff --git a/config/initializers/mime_types.rb b/config/initializers/mime_types.rb\nnew file mode 100644\nindex 0000000..dc18996\n--- /dev/null\n+++ b/config/initializers/mime_types.rb\n@@ -0,0 +1,4 @@\n+# Be sure to restart your server when you modify this file.\n+\n+# Add new mime types for use in respond_to blocks:\n+# Mime::Type.register \"text/richtext\", :rtf\ndiff --git a/config/initializers/new_framework_defaults.rb b/config/initializers/new_framework_defaults.rb\nnew file mode 100644\nindex 0000000..671abb6\n--- /dev/null\n+++ b/config/initializers/new_framework_defaults.rb\n@@ -0,0 +1,24 @@\n+# Be sure to restart your server when you modify this file.\n+#\n+# This file contains migration options to ease your Rails 5.0 upgrade.\n+#\n+# Read the Guide for Upgrading Ruby on Rails for more info on each option.\n+\n+# Enable per-form CSRF tokens. Previous versions had false.\n+Rails.application.config.action_controller.per_form_csrf_tokens = true\n+\n+# Enable origin-checking CSRF mitigation. Previous versions had false.\n+Rails.application.config.action_controller.forgery_protection_origin_check = true\n+\n+# Make Ruby 2.4 preserve the timezone of the receiver when calling `to_time`.\n+# Previous versions had false.\n+ActiveSupport.to_time_preserves_timezone = true\n+\n+# Require `belongs_to` associations by default. Previous versions had false.\n+Rails.application.config.active_record.belongs_to_required_by_default = true\n+\n+# Do not halt callback chains when a callback returns false. Previous versions had true.\n+ActiveSupport.halt_callback_chains_on_return_false = false\n+\n+# Configure SSL options to enable HSTS with subdomains. Previous versions had false.\n+Rails.application.config.ssl_options = { hsts: { subdomains: true } }\ndiff --git a/config/initializers/session_store.rb b/config/initializers/session_store.rb\nnew file mode 100644\nindex 0000000..705b2ed\n--- /dev/null\n+++ b/config/initializers/session_store.rb\n@@ -0,0 +1,3 @@\n+# Be sure to restart your server when you modify this file.\n+\n+Rails.application.config.session_store :cookie_store, key: '_baukis-kai_session'\ndiff --git a/config/initializers/wrap_parameters.rb b/config/initializers/wrap_parameters.rb\nnew file mode 100644\nindex 0000000..bbfc396\n--- /dev/null\n+++ b/config/initializers/wrap_parameters.rb\n@@ -0,0 +1,14 @@\n+# Be sure to restart your server when you modify this file.\n+\n+# This file contains settings for ActionController::ParamsWrapper which\n+# is enabled by default.\n+\n+# Enable parameter wrapping for JSON. You can disable this by setting :format to an empty array.\n+ActiveSupport.on_load(:action_controller) do\n+  wrap_parameters format: [:json]\n+end\n+\n+# To enable root element in JSON for ActiveRecord objects.\n+# ActiveSupport.on_load(:active_record) do\n+#   self.include_root_in_json = true\n+# end\ndiff --git a/config/locales/en.yml b/config/locales/en.yml\nnew file mode 100644\nindex 0000000..0653957\n--- /dev/null\n+++ b/config/locales/en.yml\n@@ -0,0 +1,23 @@\n+# Files in the config/locales directory are used for internationalization\n+# and are automatically loaded by Rails. If you want to use locales other\n+# than English, add the necessary files in this directory.\n+#\n+# To use the locales, use `I18n.t`:\n+#\n+#     I18n.t 'hello'\n+#\n+# In views, this is aliased to just `t`:\n+#\n+#     &lt;%= t('hello') %&gt;\n+#\n+# To use a different locale, set it with `I18n.locale`:\n+#\n+#     I18n.locale = :es\n+#\n+# This would use the information in config/locales/es.yml.\n+#\n+# To learn more, please read the Rails Internationalization guide\n+# available at http://guides.rubyonrails.org/i18n.html.\n+\n+en:\n+  hello: \"Hello world\"\ndiff --git a/config/puma.rb b/config/puma.rb\nnew file mode 100644\nindex 0000000..c7f311f\n--- /dev/null\n+++ b/config/puma.rb\n@@ -0,0 +1,47 @@\n+# Puma can serve each request in a thread from an internal thread pool.\n+# The `threads` method setting takes two numbers a minimum and maximum.\n+# Any libraries that use thread pools should be configured to match\n+# the maximum value specified for Puma. Default is set to 5 threads for minimum\n+# and maximum, this matches the default thread size of Active Record.\n+#\n+threads_count = ENV.fetch(\"RAILS_MAX_THREADS\") { 5 }.to_i\n+threads threads_count, threads_count\n+\n+# Specifies the `port` that Puma will listen on to receive requests, default is 3000.\n+#\n+port        ENV.fetch(\"PORT\") { 3000 }\n+\n+# Specifies the `environment` that Puma will run in.\n+#\n+environment ENV.fetch(\"RAILS_ENV\") { \"development\" }\n+\n+# Specifies the number of `workers` to boot in clustered mode.\n+# Workers are forked webserver processes. If using threads and workers together\n+# the concurrency of the application would be max `threads` * `workers`.\n+# Workers do not work on JRuby or Windows (both of which do not support\n+# processes).\n+#\n+# workers ENV.fetch(\"WEB_CONCURRENCY\") { 2 }\n+\n+# Use the `preload_app!` method when specifying a `workers` number.\n+# This directive tells Puma to first boot the application and load code\n+# before forking the application. This takes advantage of Copy On Write\n+# process behavior so workers use less memory. If you use this option\n+# you need to make sure to reconnect any threads in the `on_worker_boot`\n+# block.\n+#\n+# preload_app!\n+\n+# The code in the `on_worker_boot` will be called if you are using\n+# clustered mode by specifying a number of `workers`. After each worker\n+# process is booted this block will be run, if you are using `preload_app!`\n+# option you will want to use this block to reconnect to any threads\n+# or connections that may have been created at application boot, Ruby\n+# cannot share connections between processes.\n+#\n+# on_worker_boot do\n+#   ActiveRecord::Base.establish_connection if defined?(ActiveRecord)\n+# end\n+\n+# Allow puma to be restarted by `rails restart` command.\n+plugin :tmp_restart\ndiff --git a/config/routes.rb b/config/routes.rb\nnew file mode 100644\nindex 0000000..787824f\n--- /dev/null\n+++ b/config/routes.rb\n@@ -0,0 +1,3 @@\n+Rails.application.routes.draw do\n+  # For details on the DSL available within this file, see http://guides.rubyonrails.org/routing.html\n+end\ndiff --git a/config/secrets.yml b/config/secrets.yml\nnew file mode 100644\nindex 0000000..1d5e34a\n--- /dev/null\n+++ b/config/secrets.yml\n@@ -0,0 +1,22 @@\n+# Be sure to restart your server when you modify this file.\n+\n+# Your secret key is used for verifying the integrity of signed cookies.\n+# If you change this key, all old signed cookies will become invalid!\n+\n+# Make sure the secret is at least 30 characters and all random,\n+# no regular words or you'll be exposed to dictionary attacks.\n+# You can use `rails secret` to generate a secure secret key.\n+\n+# Make sure the secrets in this file are kept private\n+# if you're sharing your code publicly.\n+\n+development:\n+  secret_key_base: 8ee2a35f4e2d181144f8d1c856a9f2d592bae2295cea4a4469ef171b4a953f6099f40ef9d0935661863279adc1afe3280bf1680e0d1dd1752657452302e3d1dd\n+\n+test:\n+  secret_key_base: dcaa260b8b6463dd1f375dfeb314925212923a7e33f2825a15143e2f6fc408a455562ed198f11a2d16ae21f060acc1f47f0185aa2b40a6ce1422012ecaca30ad\n+\n+# Do not keep production secrets in the repository,\n+# instead read values from the environment.\n+production:\n+  secret_key_base: &lt;%= ENV[\"SECRET_KEY_BASE\"] %&gt;\ndiff --git a/config/spring.rb b/config/spring.rb\nnew file mode 100644\nindex 0000000..c9119b4\n--- /dev/null\n+++ b/config/spring.rb\n@@ -0,0 +1,6 @@\n+%w(\n+  .ruby-version\n+  .rbenv-vars\n+  tmp/restart.txt\n+  tmp/caching-dev.txt\n+).each { |path| Spring.watch(path) }\ndiff --git a/db/seeds.rb b/db/seeds.rb\nnew file mode 100644\nindex 0000000..1beea2a\n--- /dev/null\n+++ b/db/seeds.rb\n@@ -0,0 +1,7 @@\n+# This file should contain all the record creation needed to seed the database with its default values.\n+# The data can then be loaded with the rails db:seed command (or created alongside the database with db:setup).\n+#\n+# Examples:\n+#\n+#   movies = Movie.create([{ name: 'Star Wars' }, { name: 'Lord of the Rings' }])\n+#   Character.create(name: 'Luke', movie: movies.first)\ndiff --git a/lib/assets/.keep b/lib/assets/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/lib/tasks/.keep b/lib/tasks/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/public/404.html b/public/404.html\nnew file mode 100644\nindex 0000000..b612547\n--- /dev/null\n+++ b/public/404.html\n@@ -0,0 +1,67 @@\n+&lt;!DOCTYPE html&gt;\n+&lt;html&gt;\n+&lt;head&gt;\n+  &lt;title&gt;The page you were looking for doesn't exist (404)&lt;/title&gt;\n+  &lt;meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"&gt;\n+  &lt;style&gt;\n+  body {\n+    background-color: #EFEFEF;\n+    color: #2E2F30;\n+    text-align: center;\n+    font-family: arial, sans-serif;\n+    margin: 0;\n+  }\n+\n+  div.dialog {\n+    width: 95%;\n+    max-width: 33em;\n+    margin: 4em auto 0;\n+  }\n+\n+  div.dialog &gt; div {\n+    border: 1px solid #CCC;\n+    border-right-color: #999;\n+    border-left-color: #999;\n+    border-bottom-color: #BBB;\n+    border-top: #B00100 solid 4px;\n+    border-top-left-radius: 9px;\n+    border-top-right-radius: 9px;\n+    background-color: white;\n+    padding: 7px 12% 0;\n+    box-shadow: 0 3px 8px rgba(50, 50, 50, 0.17);\n+  }\n+\n+  h1 {\n+    font-size: 100%;\n+    color: #730E15;\n+    line-height: 1.5em;\n+  }\n+\n+  div.dialog &gt; p {\n+    margin: 0 0 1em;\n+    padding: 1em;\n+    background-color: #F7F7F7;\n+    border: 1px solid #CCC;\n+    border-right-color: #999;\n+    border-left-color: #999;\n+    border-bottom-color: #999;\n+    border-bottom-left-radius: 4px;\n+    border-bottom-right-radius: 4px;\n+    border-top-color: #DADADA;\n+    color: #666;\n+    box-shadow: 0 3px 8px rgba(50, 50, 50, 0.17);\n+  }\n+  &lt;/style&gt;\n+&lt;/head&gt;\n+\n+&lt;body&gt;\n+  &lt;!-- This file lives in public/404.html --&gt;\n+  &lt;div class=\"dialog\"&gt;\n+    &lt;div&gt;\n+      &lt;h1&gt;The page you were looking for doesn't exist.&lt;/h1&gt;\n+      &lt;p&gt;You may have mistyped the address or the page may have moved.&lt;/p&gt;\n+    &lt;/div&gt;\n+    &lt;p&gt;If you are the application owner check the logs for more information.&lt;/p&gt;\n+  &lt;/div&gt;\n+&lt;/body&gt;\n+&lt;/html&gt;\ndiff --git a/public/422.html b/public/422.html\nnew file mode 100644\nindex 0000000..a21f82b\n--- /dev/null\n+++ b/public/422.html\n@@ -0,0 +1,67 @@\n+&lt;!DOCTYPE html&gt;\n+&lt;html&gt;\n+&lt;head&gt;\n+  &lt;title&gt;The change you wanted was rejected (422)&lt;/title&gt;\n+  &lt;meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"&gt;\n+  &lt;style&gt;\n+  body {\n+    background-color: #EFEFEF;\n+    color: #2E2F30;\n+    text-align: center;\n+    font-family: arial, sans-serif;\n+    margin: 0;\n+  }\n+\n+  div.dialog {\n+    width: 95%;\n+    max-width: 33em;\n+    margin: 4em auto 0;\n+  }\n+\n+  div.dialog &gt; div {\n+    border: 1px solid #CCC;\n+    border-right-color: #999;\n+    border-left-color: #999;\n+    border-bottom-color: #BBB;\n+    border-top: #B00100 solid 4px;\n+    border-top-left-radius: 9px;\n+    border-top-right-radius: 9px;\n+    background-color: white;\n+    padding: 7px 12% 0;\n+    box-shadow: 0 3px 8px rgba(50, 50, 50, 0.17);\n+  }\n+\n+  h1 {\n+    font-size: 100%;\n+    color: #730E15;\n+    line-height: 1.5em;\n+  }\n+\n+  div.dialog &gt; p {\n+    margin: 0 0 1em;\n+    padding: 1em;\n+    background-color: #F7F7F7;\n+    border: 1px solid #CCC;\n+    border-right-color: #999;\n+    border-left-color: #999;\n+    border-bottom-color: #999;\n+    border-bottom-left-radius: 4px;\n+    border-bottom-right-radius: 4px;\n+    border-top-color: #DADADA;\n+    color: #666;\n+    box-shadow: 0 3px 8px rgba(50, 50, 50, 0.17);\n+  }\n+  &lt;/style&gt;\n+&lt;/head&gt;\n+\n+&lt;body&gt;\n+  &lt;!-- This file lives in public/422.html --&gt;\n+  &lt;div class=\"dialog\"&gt;\n+    &lt;div&gt;\n+      &lt;h1&gt;The change you wanted was rejected.&lt;/h1&gt;\n+      &lt;p&gt;Maybe you tried to change something you didn't have access to.&lt;/p&gt;\n+    &lt;/div&gt;\n+    &lt;p&gt;If you are the application owner check the logs for more information.&lt;/p&gt;\n+  &lt;/div&gt;\n+&lt;/body&gt;\n+&lt;/html&gt;\ndiff --git a/public/500.html b/public/500.html\nnew file mode 100644\nindex 0000000..061abc5\n--- /dev/null\n+++ b/public/500.html\n@@ -0,0 +1,66 @@\n+&lt;!DOCTYPE html&gt;\n+&lt;html&gt;\n+&lt;head&gt;\n+  &lt;title&gt;We're sorry, but something went wrong (500)&lt;/title&gt;\n+  &lt;meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"&gt;\n+  &lt;style&gt;\n+  body {\n+    background-color: #EFEFEF;\n+    color: #2E2F30;\n+    text-align: center;\n+    font-family: arial, sans-serif;\n+    margin: 0;\n+  }\n+\n+  div.dialog {\n+    width: 95%;\n+    max-width: 33em;\n+    margin: 4em auto 0;\n+  }\n+\n+  div.dialog &gt; div {\n+    border: 1px solid #CCC;\n+    border-right-color: #999;\n+    border-left-color: #999;\n+    border-bottom-color: #BBB;\n+    border-top: #B00100 solid 4px;\n+    border-top-left-radius: 9px;\n+    border-top-right-radius: 9px;\n+    background-color: white;\n+    padding: 7px 12% 0;\n+    box-shadow: 0 3px 8px rgba(50, 50, 50, 0.17);\n+  }\n+\n+  h1 {\n+    font-size: 100%;\n+    color: #730E15;\n+    line-height: 1.5em;\n+  }\n+\n+  div.dialog &gt; p {\n+    margin: 0 0 1em;\n+    padding: 1em;\n+    background-color: #F7F7F7;\n+    border: 1px solid #CCC;\n+    border-right-color: #999;\n+    border-left-color: #999;\n+    border-bottom-color: #999;\n+    border-bottom-left-radius: 4px;\n+    border-bottom-right-radius: 4px;\n+    border-top-color: #DADADA;\n+    color: #666;\n+    box-shadow: 0 3px 8px rgba(50, 50, 50, 0.17);\n+  }\n+  &lt;/style&gt;\n+&lt;/head&gt;\n+\n+&lt;body&gt;\n+  &lt;!-- This file lives in public/500.html --&gt;\n+  &lt;div class=\"dialog\"&gt;\n+    &lt;div&gt;\n+      &lt;h1&gt;We're sorry, but something went wrong.&lt;/h1&gt;\n+    &lt;/div&gt;\n+    &lt;p&gt;If you are the application owner check the logs for more information.&lt;/p&gt;\n+  &lt;/div&gt;\n+&lt;/body&gt;\n+&lt;/html&gt;\ndiff --git a/public/apple-touch-icon-precomposed.png b/public/apple-touch-icon-precomposed.png\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/public/apple-touch-icon.png b/public/apple-touch-icon.png\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/public/favicon.ico b/public/favicon.ico\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/public/robots.txt b/public/robots.txt\nnew file mode 100644\nindex 0000000..3c9c7c0\n--- /dev/null\n+++ b/public/robots.txt\n@@ -0,0 +1,5 @@\n+# See http://www.robotstxt.org/robotstxt.html for documentation on how to use the robots.txt file\n+#\n+# To ban all spiders from the entire site uncomment the next two lines:\n+# User-agent: *\n+# Disallow: /\ndiff --git a/test/controllers/.keep b/test/controllers/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/test/fixtures/.keep b/test/fixtures/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/test/fixtures/files/.keep b/test/fixtures/files/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/test/helpers/.keep b/test/helpers/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/test/integration/.keep b/test/integration/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/test/mailers/.keep b/test/mailers/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/test/models/.keep b/test/models/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/test/test_helper.rb b/test/test_helper.rb\nnew file mode 100644\nindex 0000000..92e39b2\n--- /dev/null\n+++ b/test/test_helper.rb\n@@ -0,0 +1,10 @@\n+ENV['RAILS_ENV'] ||= 'test'\n+require File.expand_path('../../config/environment', __FILE__)\n+require 'rails/test_help'\n+\n+class ActiveSupport::TestCase\n+  # Setup all fixtures in test/fixtures/*.yml for all tests in alphabetical order.\n+  fixtures :all\n+\n+  # Add more helper methods to be used by all tests here...\n+end\ndiff --git a/vendor/assets/javascripts/.keep b/vendor/assets/javascripts/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/vendor/assets/stylesheets/.keep b/vendor/assets/stylesheets/.keep\nnew file mode 100644\nindex 0000000..e69de29\n</code></pre>"},{"location":"journal/20170110/#_16","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170111/","title":"\u4f5c\u696d\u5c65\u6b74 2017-01-11","text":""},{"location":"journal/20170111/#_1","title":"\u6982\u8981","text":"<p>2017-01-11\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u57fa\u672c\u69cb\u6210\u3001\u958b\u767a\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3001\u304a\u3088\u3073\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u8a2d\u5b9a\u306b\u95a2\u3059\u308b\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20170111/#_2","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u69cb\u6210\u56f3","text":""},{"location":"journal/20170111/#_3","title":"\u4f5c\u696d\u5185\u5bb9","text":""},{"location":"journal/20170111/#_4","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u57fa\u672c\u69cb\u6210\u306e\u8a2d\u5b9a","text":"<p>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u57fa\u672c\u69cb\u6210\u3092\u6574\u5099\u3057\u3001\u958b\u767a\u304b\u3089\u30c7\u30d7\u30ed\u30a4\u307e\u3067\u306e\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u78ba\u7acb\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u52b9\u7387\u7684\u306a\u958b\u767a\u30d7\u30ed\u30bb\u30b9\u3068\u4e00\u8cab\u3057\u305f\u74b0\u5883\u3067\u306e\u52d5\u4f5c\u78ba\u8a8d\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"journal/20170111/#_5","title":"\u5909\u66f4\u70b9\u306e\u6982\u8981","text":"<ol> <li>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u69cb\u6210\u306e\u6574\u7406</li> <li>README\u306e\u69cb\u9020\u5316</li> <li>\u5404\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u8a73\u7d30\u5316</li> <li> <p>\u958b\u767a\u624b\u9806\u306e\u660e\u78ba\u5316</p> </li> <li> <p>\u958b\u767a\u74b0\u5883\u306e\u6574\u5099</p> </li> <li>\u8ffd\u52a0Gem\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7</li> <li>\u30c6\u30b9\u30c8\u74b0\u5883\u306e\u69cb\u7bc9\uff08RSpec, Factory Girl\uff09</li> <li> <p>\u56fd\u969b\u5316\u5bfe\u5fdc\u306e\u8a2d\u5b9a</p> </li> <li> <p>\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u8a2d\u5b9a</p> </li> <li>Heroku\u30c7\u30d7\u30ed\u30a4\u306e\u8a2d\u5b9a</li> <li>CircleCI\u306b\u3088\u308b\u7d99\u7d9a\u7684\u30a4\u30f3\u30c6\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a</li> </ol>"},{"location":"journal/20170111/#_6","title":"\u958b\u767a\u30fb\u30c6\u30b9\u30c8\u74b0\u5883\u306e\u6280\u8853\u30b9\u30bf\u30c3\u30af","text":""},{"location":"journal/20170111/#2a33184","title":"\u30b3\u30df\u30c3\u30c8: 2a33184","text":""},{"location":"journal/20170111/#_7","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u69cb\u6210\n</code></pre>"},{"location":"journal/20170111/#_8","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170111/#_9","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 2a3318491cbad4c50276cabde33bf6de08b30c26\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 11 19:19:00 2017 +0900\n\n    \u69cb\u6210\n\ndiff --git a/README.md b/README.md\nindex c4e067d..a0fc0b4 100644\n--- a/README.md\n+++ b/README.md\n@@ -3,6 +3,7 @@ Baukis \u6539\n [![CircleCI Build Status](https://circleci.com/gh/circleci/circleci-docs.svg?style=shield)](https://circleci.com/gh/k2works/baukis-kai) [![GitHub license](https://img.shields.io/badge/license-MIT-blue.svg)](https://raw.githubusercontent.com/k2works/baukis-kai/master/MIT-LICENSE.txt) \n\n # \u76ee\u7684 #\n+[\u5b9f\u8df5Ruby on Rails 4 \u73fe\u5834\u306e\u30d7\u30ed\u304b\u3089\u5b66\u3076\u672c\u683cWeb\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0](https://www.amazon.co.jp/%E5%AE%9F%E8%B7%B5Ruby-Rails-4-%E7%8F%BE%E5%A0%B4%E3%81%AE%E3%83%97%E3%83%AD%E3%81%8B%E3%82%89%E5%AD%A6%E3%81%B6%E6%9C%AC%E6%A0%BCWeb%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-%E9%BB%92%E7%94%B0/dp/4844335928)\u3092Rails5\u3067\u306e\u5b9f\u88c5\u53ca\u3073\u30d5\u30ed\u30f3\u30c8\u90e8\u5206\u306b\u30e2\u30c0\u30f3CSS\u8a2d\u8a08(BEM)\u3092\u7d44\u307f\u8fbc\u3080\n\n # \u524d\u63d0 #\n | \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2   | \u30d0\u30fc\u30b8\u30e7\u30f3   | \u5099\u8003        |\n@@ -15,8 +16,31 @@ Baukis \u6539\n\n # \u69cb\u6210 #\n 1. [\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u69cb\u7bc9](#\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u69cb\u7bc9)\n+   1. [Vagarnt\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7](#Vagarnt\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7)\n+   1. [Docker\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7](#Docker\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7)\n+   1. [\u8ffd\u52a0Gem\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7](#\u8ffd\u52a0Gem\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7)\n+   1. [\u305d\u306e\u4ed6\u306e\u6e96\u5099\u4f5c\u696d](#\u305d\u306e\u4ed6\u306e\u6e96\u5099\u4f5c\u696d)\n+   1. [\u30c6\u30b9\u30c8\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7](#\u30c6\u30b9\u30c8\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7)\n 1. [\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u914d\u7f6e](#\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u914d\u7f6e)\n+   1. [Heroku\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7](#Heroku\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7)\n+   1. [CircleCI\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7](#CircleCI\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7)\n 1. [\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a](#\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a)\n+   1. [\u30d3\u30b8\u30e5\u30a2\u30eb\u30c7\u30b6\u30a4\u30f3](#\u30d3\u30b8\u30e5\u30a2\u30eb\u30c7\u30b6\u30a4\u30f3)\n+   1. [\u30a8\u30e9\u30fc\u30da\u30fc\u30b8](#\u30a8\u30e9\u30fc\u30da\u30fc\u30b8)\n+   1. [\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c(1)](#\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c(1))\n+   1. [\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c(2)](#\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c(2))\n+   1. [\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0](#\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0)\n+   1. [\u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664](#\u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664)\n+   1. [String Parameters](#String Parameters])\n+   1. [\u30a2\u30af\u30bb\u30b9\u5236\u5fa1](#\u30a2\u30af\u30bb\u30b9\u5236\u5fa1)\n+   1. [\u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051](#\u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051)\n+   1. [\u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3](#\u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3)\n+   1. [\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc](#\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc)\n+   1. [jQuery\u3068CoffeeScript](#jQuery\u3068CoffeeScript)\n+   1. [\u5358\u4e00\u30c6\u30fc\u30d6\u7d99\u627f](#\u5358\u4e00\u30c6\u30fc\u30d6\u7d99\u627f)\n+   1. [Capybra](#Capybara)\n+   1. [\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8](#\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8)\n+   1. [\u691c\u7d22\u30d5\u30a9\u30fc\u30e0](#\u691c\u7d22\u30d5\u30a9\u30fc\u30e0)\n\n ## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u69cb\u7bc9\n ### Vagarnt\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n@@ -57,6 +81,23 @@ git push heroku master\n\n **[\u2b06 back to top](#\u69cb\u6210)**\n ## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\n+### \u30d3\u30b8\u30e5\u30a2\u30eb\u30c7\u30b6\u30a4\u30f3\n+### \u30a8\u30e9\u30fc\u30da\u30fc\u30b8\n+### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n+### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n+### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n+### \u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664\n+### String Parameters\n+### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\n+### \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\n+### \u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n+### \u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\n+### jQuery\u3068CoffeeScript\n+### \u5358\u4e00\u30c6\u30fc\u30d6\u7d99\u627f\n+### Capybara\n+### \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n+### \u691c\u7d22\u30d5\u30a9\u30fc\u30e0\n+**[\u2b06 back to top](#\u69cb\u6210)**\n\n # \u53c2\u7167 #\n-\n++ [\u5b9f\u8df5Ruby on Rails 4 \u73fe\u5834\u306e\u30d7\u30ed\u304b\u3089\u5b66\u3076\u672c\u683cWeb\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0](https://www.amazon.co.jp/%E5%AE%9F%E8%B7%B5Ruby-Rails-4-%E7%8F%BE%E5%A0%B4%E3%81%AE%E3%83%97%E3%83%AD%E3%81%8B%E3%82%89%E5%AD%A6%E3%81%B6%E6%9C%AC%E6%A0%BCWeb%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-%E9%BB%92%E7%94%B0/dp/4844335928)\n</code></pre>"},{"location":"journal/20170111/#6336c1b","title":"\u30b3\u30df\u30c3\u30c8: 6336c1b","text":""},{"location":"journal/20170111/#_10","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u69cb\u6210\n</code></pre>"},{"location":"journal/20170111/#_11","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170111/#_12","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 6336c1b2a3d3124106be36dfa13fda18975d8724\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 11 19:00:43 2017 +0900\n\n    \u69cb\u6210\n\ndiff --git a/README.md b/README.md\nindex 742bdff..c4e067d 100644\n--- a/README.md\n+++ b/README.md\n@@ -14,6 +14,10 @@ Baukis \u6539\n | docker-compose |1.8.0    |             |\n\n # \u69cb\u6210 #\n+1. [\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u69cb\u7bc9](#\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u69cb\u7bc9)\n+1. [\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u914d\u7f6e](#\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u914d\u7f6e)\n+1. [\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a](#\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a)\n+   \n ## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u69cb\u7bc9\n ### Vagarnt\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n ```\n@@ -39,6 +43,8 @@ docker-compose build\n + RSpec\u306e\u521d\u671f\u8a2d\u5b9a\n + Factory Girl\u306e\u521d\u671f\u8a2d\u5b9a\n\n+**[\u2b06 back to top](#\u69cb\u6210)**\n+\n ## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u914d\u7f6e\n\n ### Heroku\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n@@ -49,6 +55,7 @@ git push heroku master\n\n ### CircleCI\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n+**[\u2b06 back to top](#\u69cb\u6210)**\n ## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\n\n # \u53c2\u7167 #\n</code></pre>"},{"location":"journal/20170111/#8040e18","title":"\u30b3\u30df\u30c3\u30c8: 8040e18","text":""},{"location":"journal/20170111/#_13","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u914d\u7f6e\n</code></pre>"},{"location":"journal/20170111/#_14","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A circle.yml</li> </ul>"},{"location":"journal/20170111/#_15","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8040e18a935dfa8a6ab8a9f183f2cc4c057a8175\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 11 18:46:33 2017 +0900\n\n    \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u914d\u7f6e\n\ndiff --git a/README.md b/README.md\nindex 2eb5bb5..742bdff 100644\n--- a/README.md\n+++ b/README.md\n@@ -1,5 +1,6 @@\n Baukis \u6539\n ===================\n+[![CircleCI Build Status](https://circleci.com/gh/circleci/circleci-docs.svg?style=shield)](https://circleci.com/gh/k2works/baukis-kai) [![GitHub license](https://img.shields.io/badge/license-MIT-blue.svg)](https://raw.githubusercontent.com/k2works/baukis-kai/master/MIT-LICENSE.txt) \n\n # \u76ee\u7684 #\n\n@@ -46,6 +47,8 @@ heroku create baukis-kai\n git push heroku master\n ```\n\n+### CircleCI\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n+\n ## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\n\n # \u53c2\u7167 #\ndiff --git a/circle.yml b/circle.yml\nnew file mode 100644\nindex 0000000..150a280\n--- /dev/null\n+++ b/circle.yml\n@@ -0,0 +1,5 @@\n+deployment:\n+  staging:\n+    branch: master\n+    heroku:\n+      appname: baukis-kai\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170111/#521eead","title":"\u30b3\u30df\u30c3\u30c8: 521eead","text":""},{"location":"journal/20170111/#_16","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Heroku\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n</code></pre>"},{"location":"journal/20170111/#_17","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M Gemfile</li> <li>M README.md</li> </ul>"},{"location":"journal/20170111/#_18","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 521eead1b40fd919fb87dc6c6f81073f9fd41f78\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 11 18:27:42 2017 +0900\n\n    Heroku\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\ndiff --git a/Gemfile b/Gemfile\nindex 4652a91..a71748d 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -1,4 +1,5 @@\n source 'https://rubygems.org'\n+ruby '2.4.0'\n\n git_source(:github) do |repo_name|\n   repo_name = \"#{repo_name}/#{repo_name}\" unless repo_name.include?(\"/\")\ndiff --git a/README.md b/README.md\nindex 8fe9719..2eb5bb5 100644\n--- a/README.md\n+++ b/README.md\n@@ -38,10 +38,15 @@ docker-compose build\n + RSpec\u306e\u521d\u671f\u8a2d\u5b9a\n + Factory Girl\u306e\u521d\u671f\u8a2d\u5b9a\n\n-## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\n-\n ## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u914d\u7f6e\n\n-# \u53c2\u7167 #\n+### Heroku\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n+```bash\n+heroku create baukis-kai\n+git push heroku master\n+```\n+\n+## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\n\n # \u53c2\u7167 #\n+\n</code></pre>"},{"location":"journal/20170111/#8d2a1d0","title":"\u30b3\u30df\u30c3\u30c8: 8d2a1d0","text":""},{"location":"journal/20170111/#_19","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30c6\u30b9\u30c8\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n</code></pre>"},{"location":"journal/20170111/#_20","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M spec/rails_helper.rb</li> </ul>"},{"location":"journal/20170111/#_21","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8d2a1d0202b9effc2f49d34978e4d05180523092\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 11 18:18:53 2017 +0900\n\n    \u30c6\u30b9\u30c8\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\ndiff --git a/spec/rails_helper.rb b/spec/rails_helper.rb\nindex 6f1ab14..ad9274e 100644\n--- a/spec/rails_helper.rb\n+++ b/spec/rails_helper.rb\n@@ -54,4 +54,10 @@ RSpec.configure do |config|\n   config.filter_rails_from_backtrace!\n   # arbitrary gems may also be filtered via:\n   # config.filter_gems_from_backtrace(\"gem name\")\n+\n+  config.include FactoryGirl::Syntax::Methods\n+\n+  config.before(:suite) do\n+    FactoryGirl.reload\n+  end\n end\n</code></pre>"},{"location":"journal/20170111/#164239a","title":"\u30b3\u30df\u30c3\u30c8: 164239a","text":""},{"location":"journal/20170111/#_22","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30c6\u30b9\u30c8\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n</code></pre>"},{"location":"journal/20170111/#_23","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A spec/rails_helper.rb</li> <li>A spec/spec_helper.rb</li> </ul>"},{"location":"journal/20170111/#_24","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 164239a87601d4725832e5ea234f7006558bd872\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 11 18:13:25 2017 +0900\n\n    \u30c6\u30b9\u30c8\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\ndiff --git a/README.md b/README.md\nindex 3ee6927..8fe9719 100644\n--- a/README.md\n+++ b/README.md\n@@ -34,6 +34,10 @@ docker-compose build\n + \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u306e\u8a2d\u5b9a\n + \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5b9f\u884cURL\u306e\u8a2d\u5b9a\n\n+### \u30c6\u30b9\u30c8\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n++ RSpec\u306e\u521d\u671f\u8a2d\u5b9a\n++ Factory Girl\u306e\u521d\u671f\u8a2d\u5b9a\n+\n ## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\n\n ## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u914d\u7f6e\ndiff --git a/spec/rails_helper.rb b/spec/rails_helper.rb\nnew file mode 100644\nindex 0000000..6f1ab14\n--- /dev/null\n+++ b/spec/rails_helper.rb\n@@ -0,0 +1,57 @@\n+# This file is copied to spec/ when you run 'rails generate rspec:install'\n+ENV['RAILS_ENV'] ||= 'test'\n+require File.expand_path('../../config/environment', __FILE__)\n+# Prevent database truncation if the environment is production\n+abort(\"The Rails environment is running in production mode!\") if Rails.env.production?\n+require 'spec_helper'\n+require 'rspec/rails'\n+# Add additional requires below this line. Rails is not loaded until this point!\n+\n+# Requires supporting ruby files with custom matchers and macros, etc, in\n+# spec/support/ and its subdirectories. Files matching `spec/**/*_spec.rb` are\n+# run as spec files by default. This means that files in spec/support that end\n+# in _spec.rb will both be required and run as specs, causing the specs to be\n+# run twice. It is recommended that you do not name files matching this glob to\n+# end with _spec.rb. You can configure this pattern with the --pattern\n+# option on the command line or in ~/.rspec, .rspec or `.rspec-local`.\n+#\n+# The following line is provided for convenience purposes. It has the downside\n+# of increasing the boot-up time by auto-requiring all files in the support\n+# directory. Alternatively, in the individual `*_spec.rb` files, manually\n+# require only the support files necessary.\n+#\n+# Dir[Rails.root.join('spec/support/**/*.rb')].each { |f| require f }\n+\n+# Checks for pending migration and applies them before tests are run.\n+# If you are not using ActiveRecord, you can remove this line.\n+ActiveRecord::Migration.maintain_test_schema!\n+\n+RSpec.configure do |config|\n+  # Remove this line if you're not using ActiveRecord or ActiveRecord fixtures\n+  config.fixture_path = \"#{::Rails.root}/spec/fixtures\"\n+\n+  # If you're not using ActiveRecord, or you'd prefer not to run each of your\n+  # examples within a transaction, remove the following line or assign false\n+  # instead of true.\n+  config.use_transactional_fixtures = true\n+\n+  # RSpec Rails can automatically mix in different behaviours to your tests\n+  # based on their file location, for example enabling you to call `get` and\n+  # `post` in specs under `spec/controllers`.\n+  #\n+  # You can disable this behaviour by removing the line below, and instead\n+  # explicitly tag your specs with their type, e.g.:\n+  #\n+  #     RSpec.describe UsersController, :type =&gt; :controller do\n+  #       # ...\n+  #     end\n+  #\n+  # The different available types are documented in the features, such as in\n+  # https://relishapp.com/rspec/rspec-rails/docs\n+  config.infer_spec_type_from_file_location!\n+\n+  # Filter lines from Rails gems in backtraces.\n+  config.filter_rails_from_backtrace!\n+  # arbitrary gems may also be filtered via:\n+  # config.filter_gems_from_backtrace(\"gem name\")\n+end\ndiff --git a/spec/spec_helper.rb b/spec/spec_helper.rb\nnew file mode 100644\nindex 0000000..8f698be\n--- /dev/null\n+++ b/spec/spec_helper.rb\n@@ -0,0 +1,99 @@\n+# This file was generated by the `rails generate rspec:install` command. Conventionally, all\n+# specs live under a `spec` directory, which RSpec adds to the `$LOAD_PATH`.\n+# The generated `.rspec` file contains `--require spec_helper` which will cause\n+# this file to always be loaded, without a need to explicitly require it in any\n+# files.\n+#\n+# Given that it is always loaded, you are encouraged to keep this file as\n+# light-weight as possible. Requiring heavyweight dependencies from this file\n+# will add to the boot time of your test suite on EVERY test run, even for an\n+# individual file that may not need all of that loaded. Instead, consider making\n+# a separate helper file that requires the additional dependencies and performs\n+# the additional setup, and require it from the spec files that actually need\n+# it.\n+#\n+# The `.rspec` file also contains a few flags that are not defaults but that\n+# users commonly want.\n+#\n+# See http://rubydoc.info/gems/rspec-core/RSpec/Core/Configuration\n+RSpec.configure do |config|\n+  # rspec-expectations config goes here. You can use an alternate\n+  # assertion/expectation library such as wrong or the stdlib/minitest\n+  # assertions if you prefer.\n+  config.expect_with :rspec do |expectations|\n+    # This option will default to `true` in RSpec 4. It makes the `description`\n+    # and `failure_message` of custom matchers include text for helper methods\n+    # defined using `chain`, e.g.:\n+    #     be_bigger_than(2).and_smaller_than(4).description\n+    #     # =&gt; \"be bigger than 2 and smaller than 4\"\n+    # ...rather than:\n+    #     # =&gt; \"be bigger than 2\"\n+    expectations.include_chain_clauses_in_custom_matcher_descriptions = true\n+  end\n+\n+  # rspec-mocks config goes here. You can use an alternate test double\n+  # library (such as bogus or mocha) by changing the `mock_with` option here.\n+  config.mock_with :rspec do |mocks|\n+    # Prevents you from mocking or stubbing a method that does not exist on\n+    # a real object. This is generally recommended, and will default to\n+    # `true` in RSpec 4.\n+    mocks.verify_partial_doubles = true\n+  end\n+\n+  # This option will default to `:apply_to_host_groups` in RSpec 4 (and will\n+  # have no way to turn it off -- the option exists only for backwards\n+  # compatibility in RSpec 3). It causes shared context metadata to be\n+  # inherited by the metadata hash of host groups and examples, rather than\n+  # triggering implicit auto-inclusion in groups with matching metadata.\n+  config.shared_context_metadata_behavior = :apply_to_host_groups\n+\n+# The settings below are suggested to provide a good initial experience\n+# with RSpec, but feel free to customize to your heart's content.\n+=begin\n+  # This allows you to limit a spec run to individual examples or groups\n+  # you care about by tagging them with `:focus` metadata. When nothing\n+  # is tagged with `:focus`, all examples get run. RSpec also provides\n+  # aliases for `it`, `describe`, and `context` that include `:focus`\n+  # metadata: `fit`, `fdescribe` and `fcontext`, respectively.\n+  config.filter_run_when_matching :focus\n+\n+  # Allows RSpec to persist some state between runs in order to support\n+  # the `--only-failures` and `--next-failure` CLI options. We recommend\n+  # you configure your source control system to ignore this file.\n+  config.example_status_persistence_file_path = \"spec/examples.txt\"\n+\n+  # Limits the available syntax to the non-monkey patched syntax that is\n+  # recommended. For more details, see:\n+  #   - http://rspec.info/blog/2012/06/rspecs-new-expectation-syntax/\n+  #   - http://www.teaisaweso.me/blog/2013/05/27/rspecs-new-message-expectation-syntax/\n+  #   - http://rspec.info/blog/2014/05/notable-changes-in-rspec-3/#zero-monkey-patching-mode\n+  config.disable_monkey_patching!\n+\n+  # Many RSpec users commonly either run the entire suite or an individual\n+  # file, and it's useful to allow more verbose output when running an\n+  # individual spec file.\n+  if config.files_to_run.one?\n+    # Use the documentation formatter for detailed output,\n+    # unless a formatter has already been configured\n+    # (e.g. via a command-line flag).\n+    config.default_formatter = 'doc'\n+  end\n+\n+  # Print the 10 slowest examples and example groups at the\n+  # end of the spec run, to help surface which specs are running\n+  # particularly slow.\n+  config.profile_examples = 10\n+\n+  # Run specs in random order to surface order dependencies. If you find an\n+  # order dependency and want to debug it, you can fix the order by providing\n+  # the seed, which is printed after each run.\n+  #     --seed 1234\n+  config.order = :random\n+\n+  # Seed global randomization in this process using the `--seed` CLI option.\n+  # Setting this allows you to use `--seed` to deterministically reproduce\n+  # test failures related to randomization by passing the same `--seed` value\n+  # as the one that triggered the failure.\n+  Kernel.srand config.seed\n+=end\n+end\n</code></pre>"},{"location":"journal/20170111/#1f68583","title":"\u30b3\u30df\u30c3\u30c8: 1f68583","text":""},{"location":"journal/20170111/#_25","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u305d\u306e\u4ed6\u306e\u6e96\u5099\u4f5c\u696d\n</code></pre>"},{"location":"journal/20170111/#_26","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A MIT-LICENSE.txt</li> <li>M README.md</li> <li>M config/environments/development.rb</li> <li>M config/environments/production.rb</li> <li>A config/initializers/generators.rb</li> <li>A config/initializers/i18n.rb</li> </ul>"},{"location":"journal/20170111/#_27","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 1f68583b4dac5168bc35351b1a027d39b9b63b53\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 11 18:07:28 2017 +0900\n\n    \u305d\u306e\u4ed6\u306e\u6e96\u5099\u4f5c\u696d\n\ndiff --git a/MIT-LICENSE.txt b/MIT-LICENSE.txt\nnew file mode 100644\nindex 0000000..63b4b68\n--- /dev/null\n+++ b/MIT-LICENSE.txt\n@@ -0,0 +1,21 @@\n+MIT License\n+\n+Copyright (c) [year] [fullname]\n+\n+Permission is hereby granted, free of charge, to any person obtaining a copy\n+of this software and associated documentation files (the \"Software\"), to deal\n+in the Software without restriction, including without limitation the rights\n+to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+copies of the Software, and to permit persons to whom the Software is\n+furnished to do so, subject to the following conditions:\n+\n+The above copyright notice and this permission notice shall be included in all\n+copies or substantial portions of the Software.\n+\n+THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n+SOFTWARE.\n\\ No newline at end of file\ndiff --git a/README.md b/README.md\nindex 6f0b160..3ee6927 100644\n--- a/README.md\n+++ b/README.md\n@@ -28,6 +28,12 @@ docker-compose build\n\n ### \u8ffd\u52a0Gem\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n+### \u305d\u306e\u4ed6\u306e\u6e96\u5099\u4f5c\u696d\n++ \u30e9\u30a4\u30bb\u30f3\u30b9\u6587\u66f8\u306e\u4f5c\u6210\n++ \u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3068\u30ed\u30b1\u30fc\u30eb\u306e\u8a2d\u5b9a\n++ \u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u306e\u8a2d\u5b9a\n++ \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5b9f\u884cURL\u306e\u8a2d\u5b9a\n+\n ## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\n\n ## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u914d\u7f6e\ndiff --git a/config/environments/development.rb b/config/environments/development.rb\nindex 6f71970..ae94b97 100644\n--- a/config/environments/development.rb\n+++ b/config/environments/development.rb\n@@ -51,4 +51,10 @@ Rails.application.configure do\n   # Use an evented file watcher to asynchronously detect changes in source code,\n   # routes, locales, etc. This feature depends on the listen gem.\n   config.file_watcher = ActiveSupport::EventedFileUpdateChecker\n+\n+  config.baukis_kai = {\n+      staff: { host: '0.0.0.0', path: '' },\n+      admin: { host: '0.0.0.0', path: 'admin' },\n+      customer: { host: '0.0.0.0', path: 'mypage' }\n+  }\n end\ndiff --git a/config/environments/production.rb b/config/environments/production.rb\nindex 66be215..a736dfc 100644\n--- a/config/environments/production.rb\n+++ b/config/environments/production.rb\n@@ -83,4 +83,10 @@ Rails.application.configure do\n\n   # Do not dump schema after migrations.\n   config.active_record.dump_schema_after_migration = false\n+\n+  config.baukis_kai = {\n+      staff: { host: ENV[\"PRD_URL\"] , path: '' },\n+      admin: { host: ENV[\"PRD_URL\"], path: 'admin' },\n+      customer: { host: ENV[\"PRD_URL\"], path: 'mypage' }\n+  }\n end\ndiff --git a/config/initializers/generators.rb b/config/initializers/generators.rb\nnew file mode 100644\nindex 0000000..2feedb4\n--- /dev/null\n+++ b/config/initializers/generators.rb\n@@ -0,0 +1,7 @@\n+Rails.application.config.generators do |g|\n+  g.helper false\n+  g.assets false\n+  g.test_framework :rspec\n+  g.controller_specs false\n+  g.view_specs false\n+end\n\\ No newline at end of file\ndiff --git a/config/initializers/i18n.rb b/config/initializers/i18n.rb\nnew file mode 100644\nindex 0000000..6c3c01a\n--- /dev/null\n+++ b/config/initializers/i18n.rb\n@@ -0,0 +1,3 @@\n+Rails.application.config.time_zone = 'Tokyo'\n+Rails.application.config.i18n.load_path += Dir[Rails.root.join('config','locales','**','*.{rb,yml}').to_s]\n+Rails.application.config.i18n.default_locale = :ja\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170111/#7752183","title":"\u30b3\u30df\u30c3\u30c8: 7752183","text":""},{"location":"journal/20170111/#_28","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8ffd\u52a0Gem\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n</code></pre>"},{"location":"journal/20170111/#_29","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .idea/.generators</li> <li>M .idea/.rakeTasks</li> <li>A .ruby-version</li> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>M README.md</li> <li>M baukis-kai.iml</li> <li>M config/database.yml</li> <li>A db/schema.rb</li> </ul>"},{"location":"journal/20170111/#_30","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 77521839daed76995ef0c6306174b16577eae53f\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 10 19:38:47 2017 +0900\n\n    \u8ffd\u52a0Gem\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\ndiff --git a/.idea/.generators b/.idea/.generators\nindex 1618976..8e11556 100644\n--- a/.idea/.generators\n+++ b/.idea/.generators\n@@ -5,4 +5,4 @@ You are allowed to:\n 2. Remove generators\n 3. Add installed generators\n To add new installed generators automatically delete this file and reload the project.\n---&gt;&lt;GeneratorsGroup&gt;&lt;Generator name=\"active_record:migration\" /&gt;&lt;Generator name=\"active_record:model\" /&gt;&lt;Generator name=\"active_record:observer\" /&gt;&lt;Generator name=\"active_record:session_migration\" /&gt;&lt;Generator name=\"controller\" /&gt;&lt;Generator name=\"erb:controller\" /&gt;&lt;Generator name=\"erb:mailer\" /&gt;&lt;Generator name=\"erb:scaffold\" /&gt;&lt;Generator name=\"generator\" /&gt;&lt;Generator name=\"helper\" /&gt;&lt;Generator name=\"integration_test\" /&gt;&lt;Generator name=\"mailer\" /&gt;&lt;Generator name=\"metal\" /&gt;&lt;Generator name=\"migration\" /&gt;&lt;Generator name=\"model\" /&gt;&lt;Generator name=\"model_subclass\" /&gt;&lt;Generator name=\"observer\" /&gt;&lt;Generator name=\"performance_test\" /&gt;&lt;Generator name=\"plugin\" /&gt;&lt;Generator name=\"resource\" /&gt;&lt;Generator name=\"scaffold\" /&gt;&lt;Generator name=\"scaffold_controller\" /&gt;&lt;Generator name=\"session_migration\" /&gt;&lt;Generator name=\"stylesheets\" /&gt;&lt;Generator name=\"test_unit:controller\" /&gt;&lt;Generator name=\"test_unit:helper\" /&gt;&lt;Generator name=\"test_unit:integration\" /&gt;&lt;Generator name=\"test_unit:mailer\" /&gt;&lt;Generator name=\"test_unit:model\" /&gt;&lt;Generator name=\"test_unit:observer\" /&gt;&lt;Generator name=\"test_unit:performance\" /&gt;&lt;Generator name=\"test_unit:plugin\" /&gt;&lt;Generator name=\"test_unit:scaffold\" /&gt;&lt;/GeneratorsGroup&gt;&lt;/Settings&gt;\n+--&gt;&lt;GeneratorsGroup&gt;&lt;Generator name=\"annotate:install\" /&gt;&lt;Generator name=\"assets\" /&gt;&lt;Generator name=\"channel\" /&gt;&lt;Generator name=\"coffee:assets\" /&gt;&lt;Generator name=\"controller\" /&gt;&lt;Generator name=\"erd:install\" /&gt;&lt;Generator name=\"factory_girl:model\" /&gt;&lt;Generator name=\"generator\" /&gt;&lt;Generator name=\"helper\" /&gt;&lt;Generator name=\"i18n\" /&gt;&lt;Generator name=\"i18n_locale\" /&gt;&lt;Generator name=\"i18n_translation\" /&gt;&lt;Generator name=\"integration_test\" /&gt;&lt;Generator name=\"jbuilder\" /&gt;&lt;Generator name=\"job\" /&gt;&lt;Generator name=\"js:assets\" /&gt;&lt;Generator name=\"mailer\" /&gt;&lt;Generator name=\"migration\" /&gt;&lt;Generator name=\"model\" /&gt;&lt;Generator name=\"rack:dev-mark:install\" /&gt;&lt;Generator name=\"resource\" /&gt;&lt;Generator name=\"rspec:controller\" /&gt;&lt;Generator name=\"rspec:feature\" /&gt;&lt;Generator name=\"rspec:helper\" /&gt;&lt;Generator name=\"rspec:install\" /&gt;&lt;Generator name=\"rspec:integration\" /&gt;&lt;Generator name=\"rspec:job\" /&gt;&lt;Generator name=\"rspec:mailer\" /&gt;&lt;Generator name=\"rspec:model\" /&gt;&lt;Generator name=\"rspec:observer\" /&gt;&lt;Generator name=\"rspec:request\" /&gt;&lt;Generator name=\"rspec:scaffold\" /&gt;&lt;Generator name=\"rspec:view\" /&gt;&lt;Generator name=\"scaffold\" /&gt;&lt;Generator name=\"scaffold_controller\" /&gt;&lt;Generator name=\"task\" /&gt;&lt;Generator name=\"test_unit:controller\" /&gt;&lt;Generator name=\"test_unit:generator\" /&gt;&lt;Generator name=\"test_unit:helper\" /&gt;&lt;Generator name=\"test_unit:integration\" /&gt;&lt;Generator name=\"test_unit:job\" /&gt;&lt;Generator name=\"test_unit:mailer\" /&gt;&lt;Generator name=\"test_unit:model\" /&gt;&lt;Generator name=\"test_unit:plugin\" /&gt;&lt;Generator name=\"test_unit:scaffold\" /&gt;&lt;/GeneratorsGroup&gt;&lt;/Settings&gt;\ndiff --git a/.idea/.rakeTasks b/.idea/.rakeTasks\nindex 1bb59d0..ef72890 100644\n--- a/.idea/.rakeTasks\n+++ b/.idea/.rakeTasks\n@@ -4,4 +4,4 @@ You are allowed to:\n 1. Remove rake task\n 2. Add existing rake tasks\n To add existing rake tasks automatically delete this file and reload the project.\n---&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rake\"&gt;&lt;RakeTask description=\"\" fullCmd=\"about\" taksId=\"about\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"app\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:template\" taksId=\"template\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:configs\" taksId=\"configs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:upgrade_guide_info\" taksId=\"upgrade_guide_info\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"assets\"&gt;&lt;RakeTask description=\"\" fullCmd=\"assets:clean\" taksId=\"clean\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"assets:clobber\" taksId=\"clobber\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"assets:environment\" taksId=\"environment\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"assets:precompile\" taksId=\"precompile\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache_digests\"&gt;&lt;RakeTask description=\"\" fullCmd=\"cache_digests:dependencies\" taksId=\"dependencies\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"cache_digests:nested_dependencies\" taksId=\"nested_dependencies\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"db\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:_dump\" taksId=\"_dump\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:abort_if_pending_migrations\" taksId=\"abort_if_pending_migrations\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:charset\" taksId=\"charset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:check_protected_environments\" taksId=\"check_protected_environments\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:collation\" taksId=\"collation\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:create\" taksId=\"create\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"create\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:create:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop\" taksId=\"drop\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"drop\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:_unsafe\" taksId=\"_unsafe\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"environment\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:environment:set\" taksId=\"set\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"fixtures\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:fixtures:identify\" taksId=\"identify\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:fixtures:load\" taksId=\"load\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:forward\" taksId=\"forward\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:load_config\" taksId=\"load_config\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate\" taksId=\"migrate\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"migrate\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:down\" taksId=\"down\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:redo\" taksId=\"redo\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:reset\" taksId=\"reset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:status\" taksId=\"status\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:up\" taksId=\"up\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge\" taksId=\"purge\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"purge\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:reset\" taksId=\"reset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:rollback\" taksId=\"rollback\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"schema\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:schema:cache:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:schema:cache:dump\" taksId=\"dump\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:schema:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:schema:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:schema:load_if_ruby\" taksId=\"load_if_ruby\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:seed\" taksId=\"seed\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:setup\" taksId=\"setup\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"structure\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:structure:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:structure:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:structure:load_if_sql\" taksId=\"load_if_sql\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone\" taksId=\"clone\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_schema\" taksId=\"clone_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_structure\" taksId=\"clone_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:deprecated\" taksId=\"deprecated\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_schema\" taksId=\"load_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_structure\" taksId=\"load_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:purge\" taksId=\"purge\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:version\" taksId=\"version\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"default\" taksId=\"default\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"dev\"&gt;&lt;RakeTask description=\"\" fullCmd=\"dev:cache\" taksId=\"cache\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"environment\" taksId=\"environment\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"initializers\" taksId=\"initializers\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"log\"&gt;&lt;RakeTask description=\"\" fullCmd=\"log:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"middleware\" taksId=\"middleware\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes\" taksId=\"notes\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"notes\"&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:custom\" taksId=\"custom\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:fixme\" taksId=\"fixme\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:optimize\" taksId=\"optimize\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:todo\" taksId=\"todo\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rails\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:template\" taksId=\"template\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:configs\" taksId=\"configs\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"railties\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"install\"&gt;&lt;RakeTask description=\"\" fullCmd=\"railties:install:migrations\" taksId=\"migrations\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"restart\" taksId=\"restart\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"routes\" taksId=\"routes\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"secret\" taksId=\"secret\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"stats\" taksId=\"stats\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test\" taksId=\"test\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"\" fullCmd=\"test:controllers\" taksId=\"controllers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:db\" taksId=\"db\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:functionals\" taksId=\"functionals\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:generators\" taksId=\"generators\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:helpers\" taksId=\"helpers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:integration\" taksId=\"integration\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:jobs\" taksId=\"jobs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:mailers\" taksId=\"mailers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:models\" taksId=\"models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:run\" taksId=\"run\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:units\" taksId=\"units\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"time\"&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones\" taksId=\"zones\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"zones\"&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:all\" taksId=\"all\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:local\" taksId=\"local\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:us\" taksId=\"us\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp\" taksId=\"tmp\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache\" taksId=\"tmp/cache\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache/assets\" taksId=\"tmp/cache/assets\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/pids\" taksId=\"tmp/pids\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/sockets\" taksId=\"tmp/sockets\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"tmp\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:cache:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:create\" taksId=\"create\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"pids\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:pids:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"sockets\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:sockets:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;/Settings&gt;\n+--&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rake\"&gt;&lt;RakeTask description=\"List versions of all Rails frameworks and the environment\" fullCmd=\"about\" taksId=\"about\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"app\"&gt;&lt;RakeTask description=\"Applies the template supplied by LOCATION=(/path/to/template) or URL\" fullCmd=\"app:template\" taksId=\"template\" /&gt;&lt;RakeTask description=\"Update configs and some other initially generated files (or use just update:configs or update:bin)\" fullCmd=\"app:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:configs\" taksId=\"configs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:upgrade_guide_info\" taksId=\"upgrade_guide_info\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"assets\"&gt;&lt;RakeTask description=\"Remove old compiled assets\" fullCmd=\"assets:clean[keep]\" taksId=\"clean[keep]\" /&gt;&lt;RakeTask description=\"Remove compiled assets\" fullCmd=\"assets:clobber\" taksId=\"clobber\" /&gt;&lt;RakeTask description=\"Load asset compile environment\" fullCmd=\"assets:environment\" taksId=\"environment\" /&gt;&lt;RakeTask description=\"Compile all the assets named in config.assets.precompile\" fullCmd=\"assets:precompile\" taksId=\"precompile\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"assets:clean\" taksId=\"clean\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache_digests\"&gt;&lt;RakeTask description=\"Lookup first-level dependencies for TEMPLATE (like messages/show or comments/_comment.html)\" fullCmd=\"cache_digests:dependencies\" taksId=\"dependencies\" /&gt;&lt;RakeTask description=\"Lookup nested dependencies for TEMPLATE (like messages/show or comments/_comment.html)\" fullCmd=\"cache_digests:nested_dependencies\" taksId=\"nested_dependencies\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"db\"&gt;&lt;RakeTask description=\"Creates the database from DATABASE_URL or config/database.yml for the current RAILS_ENV (use db:create:all to create all databases in the config). Without RAILS_ENV or when RAILS_ENV is development, it defaults to creating the development and test databases\" fullCmd=\"db:create\" taksId=\"create\" /&gt;&lt;RakeTask description=\"Drops the database from DATABASE_URL or config/database.yml for the current RAILS_ENV (use db:drop:all to drop all databases in the config). Without RAILS_ENV or when RAILS_ENV is development, it defaults to dropping the development and test databases\" fullCmd=\"db:drop\" taksId=\"drop\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"environment\"&gt;&lt;RakeTask description=\"Set the environment value for the database\" fullCmd=\"db:environment:set\" taksId=\"set\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"fixtures\"&gt;&lt;RakeTask description=\"Loads fixtures into the current environment's database\" fullCmd=\"db:fixtures:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:fixtures:identify\" taksId=\"identify\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Migrate the database (options: VERSION=x, VERBOSE=false, SCOPE=blog)\" fullCmd=\"db:migrate\" taksId=\"migrate\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"migrate\"&gt;&lt;RakeTask description=\"Display status of migrations\" fullCmd=\"db:migrate:status\" taksId=\"status\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:down\" taksId=\"down\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:redo\" taksId=\"redo\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:reset\" taksId=\"reset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:up\" taksId=\"up\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Rolls the schema back to the previous version (specify steps w/ STEP=n)\" fullCmd=\"db:rollback\" taksId=\"rollback\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"schema\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"Clears a db/schema_cache.dump file\" fullCmd=\"db:schema:cache:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"Creates a db/schema_cache.dump file\" fullCmd=\"db:schema:cache:dump\" taksId=\"dump\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Creates a db/schema.rb file that is portable against any DB supported by Active Record\" fullCmd=\"db:schema:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"Loads a schema.rb file into the database\" fullCmd=\"db:schema:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:schema:load_if_ruby\" taksId=\"load_if_ruby\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Loads the seed data from db/seeds.rb\" fullCmd=\"db:seed\" taksId=\"seed\" /&gt;&lt;RakeTask description=\"Creates the database, loads the schema, and initializes with the seed data (use db:reset to also drop the database first)\" fullCmd=\"db:setup\" taksId=\"setup\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"structure\"&gt;&lt;RakeTask description=\"Dumps the database structure to db/structure.sql\" fullCmd=\"db:structure:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"Recreates the databases from the structure.sql file\" fullCmd=\"db:structure:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:structure:load_if_sql\" taksId=\"load_if_sql\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Retrieves the current schema version number\" fullCmd=\"db:version\" taksId=\"version\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:_dump\" taksId=\"_dump\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:abort_if_pending_migrations\" taksId=\"abort_if_pending_migrations\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:charset\" taksId=\"charset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:check_protected_environments\" taksId=\"check_protected_environments\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:collation\" taksId=\"collation\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"create\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:create:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"drop\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:_unsafe\" taksId=\"_unsafe\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:forward\" taksId=\"forward\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:load_config\" taksId=\"load_config\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge\" taksId=\"purge\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"purge\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:reset\" taksId=\"reset\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone\" taksId=\"clone\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_schema\" taksId=\"clone_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_structure\" taksId=\"clone_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:deprecated\" taksId=\"deprecated\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_schema\" taksId=\"load_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_structure\" taksId=\"load_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:purge\" taksId=\"purge\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"dev\"&gt;&lt;RakeTask description=\"Toggle development mode caching on/off\" fullCmd=\"dev:cache\" taksId=\"cache\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Generate an Entity-Relationship Diagram based on your models\" fullCmd=\"erd\" taksId=\"erd\" /&gt;&lt;RakeTask description=\"Print out all defined initializers in the order they are invoked by Rails\" fullCmd=\"initializers\" taksId=\"initializers\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"log\"&gt;&lt;RakeTask description=\"Truncates all/specified *.log files in log/ to zero bytes (specify which logs with LOGS=test,development)\" fullCmd=\"log:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Prints out your Rack middleware stack\" fullCmd=\"middleware\" taksId=\"middleware\" /&gt;&lt;RakeTask description=\"Enumerate all annotations (use notes:optimize, :fixme, :todo for focus)\" fullCmd=\"notes\" taksId=\"notes\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"notes\"&gt;&lt;RakeTask description=\"Enumerate a custom annotation, specify with ANNOTATION=CUSTOM\" fullCmd=\"notes:custom\" taksId=\"custom\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:fixme\" taksId=\"fixme\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:optimize\" taksId=\"optimize\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:todo\" taksId=\"todo\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Restart app by touching tmp/restart.txt\" fullCmd=\"restart\" taksId=\"restart\" /&gt;&lt;RakeTask description=\"Print out all defined routes in match order, with names\" fullCmd=\"routes\" taksId=\"routes\" /&gt;&lt;RakeTask description=\"Generate a cryptographically secure secret key (this is typically used to generate a secret for cookie sessions)\" fullCmd=\"secret\" taksId=\"secret\" /&gt;&lt;RakeTask description=\"Run all specs in spec directory (excluding plugin specs)\" fullCmd=\"spec\" taksId=\"spec\" /&gt;&lt;RakeTask description=\"Report code statistics (KLOCs, etc) from the application or engine\" fullCmd=\"stats\" taksId=\"stats\" /&gt;&lt;RakeTask description=\"Runs all tests in test folder\" fullCmd=\"test\" taksId=\"test\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"Run tests quickly, but also reset db\" fullCmd=\"test:db\" taksId=\"db\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:controllers\" taksId=\"controllers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:functionals\" taksId=\"functionals\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:generators\" taksId=\"generators\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:helpers\" taksId=\"helpers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:integration\" taksId=\"integration\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:jobs\" taksId=\"jobs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:mailers\" taksId=\"mailers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:models\" taksId=\"models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:run\" taksId=\"run\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:units\" taksId=\"units\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"time\"&gt;&lt;RakeTask description=\"List all time zones, list by two-letter country code (`rails time:zones[US]`), or list by UTC offset (`rails time:zones[-8]`)\" fullCmd=\"time:zones[country_or_offset]\" taksId=\"zones[country_or_offset]\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones\" taksId=\"zones\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"zones\"&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:all\" taksId=\"all\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:local\" taksId=\"local\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:us\" taksId=\"us\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"tmp\"&gt;&lt;RakeTask description=\"Clear cache and socket files from tmp/ (narrow w/ tmp:cache:clear, tmp:sockets:clear)\" fullCmd=\"tmp:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"Creates tmp directories for cache, sockets, and pids\" fullCmd=\"tmp:create\" taksId=\"create\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:cache:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"pids\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:pids:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"sockets\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:sockets:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"default\" taksId=\"default\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"environment\" taksId=\"environment\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"erd\"&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:generate\" taksId=\"generate\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:load_models\" taksId=\"load_models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:options\" taksId=\"options\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rails\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:template\" taksId=\"template\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:configs\" taksId=\"configs\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"railties\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"install\"&gt;&lt;RakeTask description=\"\" fullCmd=\"railties:install:migrations\" taksId=\"migrations\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"spec\"&gt;&lt;RakeTask description=\"\" fullCmd=\"spec:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"spec:statsetup\" taksId=\"statsetup\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp\" taksId=\"tmp\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache\" taksId=\"tmp/cache\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache/assets\" taksId=\"tmp/cache/assets\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/pids\" taksId=\"tmp/pids\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/sockets\" taksId=\"tmp/sockets\" /&gt;&lt;/RakeGroup&gt;&lt;/Settings&gt;\ndiff --git a/.ruby-version b/.ruby-version\nnew file mode 100644\nindex 0000000..197c4d5\n--- /dev/null\n+++ b/.ruby-version\n@@ -0,0 +1 @@\n+2.4.0\ndiff --git a/Gemfile b/Gemfile\nindex 649a89f..4652a91 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -9,7 +9,7 @@ end\n # Bundle edge Rails instead: gem 'rails', github: 'rails/rails'\n gem 'rails', '~&gt; 5.0.1'\n # Use mysql as the database for Active Record\n-gem 'mysql2', '&gt;= 0.3.18', '&lt; 0.5'\n+gem 'pg', '~&gt; 0.18'\n # Use Puma as the app server\n gem 'puma', '~&gt; 3.0'\n # Use SCSS for stylesheets\n@@ -38,16 +38,45 @@ gem 'jbuilder', '~&gt; 2.5'\n group :development, :test do\n   # Call 'byebug' anywhere in the code to stop execution and get a debugger console\n   gem 'byebug', platform: :mri\n+  gem 'sqlite3'\n+  gem 'rspec-rails', '~&gt; 3.5'\n+  gem 'spring-commands-rspec'\n+  gem 'factory_girl_rails'\n+  gem 'debase'\n end\n\n group :development do\n+  gem 'mysql2', '&gt;= 0.3.18', '&lt; 0.5'\n   # Access an IRB console on exception pages or by using &lt;%= console %&gt; anywhere in the code.\n   gem 'web-console', '&gt;= 3.3.0'\n   gem 'listen', '~&gt; 3.0.5'\n   # Spring speeds up development by keeping your application running in the background. Read more: https://github.com/rails/spring\n   gem 'spring'\n   gem 'spring-watcher-listen', '~&gt; 2.0.0'\n+  gem 'better_errors'\n+  gem 'binding_of_caller'\n+  gem 'migration_comments'\n+  gem 'annotate'\n+  gem 'i18n_generators'\n+  gem 'yard'\n+  gem 'rails-erd'\n+end\n+\n+group :test do\n+  gem 'faker', '~&gt; 1.4.3'\n+  gem 'capybara', '~&gt; 2.5.0'\n+  gem 'capybara-webkit'\n+  gem 'database_cleaner', '~&gt; 1.3.0'\n+  gem 'launchy', '~&gt; 2.4.2'\n+  gem 'selenium-webdriver'\n+  gem 'shoulda-matchers', '~&gt; 2.6.2'\n+  gem 'capybara-screenshot'\n end\n\n # Windows does not include zoneinfo files, so bundle the tzinfo-data gem\n gem 'tzinfo-data', platforms: [:mingw, :mswin, :x64_mingw, :jruby]\n+\n+gem 'font-awesome-rails'\n+gem 'rails_12factor', group: :production\n+gem 'rack-dev-mark'\n+gem 'enum_help'\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex 8710da6..22b35e1 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -38,9 +38,36 @@ GEM\n       i18n (~&gt; 0.7)\n       minitest (~&gt; 5.1)\n       tzinfo (~&gt; 1.1)\n+    addressable (2.5.0)\n+      public_suffix (~&gt; 2.0, &gt;= 2.0.2)\n+    annotate (2.6.5)\n+      activerecord (&gt;= 2.3.0)\n+      rake (&gt;= 0.8.7)\n     arel (7.1.4)\n+    better_errors (2.1.1)\n+      coderay (&gt;= 1.0.0)\n+      erubis (&gt;= 2.6.6)\n+      rack (&gt;= 0.9.0)\n+    binding_of_caller (0.7.2)\n+      debug_inspector (&gt;= 0.0.1)\n     builder (3.2.2)\n     byebug (9.0.6)\n+    capybara (2.5.0)\n+      mime-types (&gt;= 1.16)\n+      nokogiri (&gt;= 1.3.3)\n+      rack (&gt;= 1.0.0)\n+      rack-test (&gt;= 0.5.4)\n+      xpath (~&gt; 2.0)\n+    capybara-screenshot (1.0.14)\n+      capybara (&gt;= 1.0, &lt; 3)\n+      launchy\n+    capybara-webkit (1.11.1)\n+      capybara (&gt;= 2.3.0, &lt; 2.8.0)\n+      json\n+    childprocess (0.5.9)\n+      ffi (~&gt; 1.0, &gt;= 1.0.11)\n+    choice (0.2.0)\n+    coderay (1.1.1)\n     coffee-rails (4.2.1)\n       coffee-script (&gt;= 2.2.0)\n       railties (&gt;= 4.0.0, &lt; 5.2.x)\n@@ -49,13 +76,30 @@ GEM\n       execjs\n     coffee-script-source (1.12.2)\n     concurrent-ruby (1.0.4)\n+    database_cleaner (1.3.0)\n+    debase (0.2.1)\n+      debase-ruby_core_source\n+    debase-ruby_core_source (0.9.6)\n     debug_inspector (0.0.2)\n+    diff-lcs (1.2.5)\n+    enum_help (0.0.16)\n     erubis (2.7.0)\n     execjs (2.7.0)\n+    factory_girl (4.8.0)\n+      activesupport (&gt;= 3.0.0)\n+    factory_girl_rails (4.8.0)\n+      factory_girl (~&gt; 4.8.0)\n+      railties (&gt;= 3.0.0)\n+    faker (1.4.3)\n+      i18n (~&gt; 0.5)\n     ffi (1.9.14)\n+    font-awesome-rails (4.7.0.1)\n+      railties (&gt;= 3.2, &lt; 5.1)\n     globalid (0.3.7)\n       activesupport (&gt;= 4.1.0)\n     i18n (0.7.0)\n+    i18n_generators (2.1.1)\n+      rails (&gt;= 3.0.0)\n     jbuilder (2.6.1)\n       activesupport (&gt;= 3.0.0, &lt; 5.1)\n       multi_json (~&gt; 1.2)\n@@ -63,6 +107,9 @@ GEM\n       rails-dom-testing (&gt;= 1, &lt; 3)\n       railties (&gt;= 4.2.0)\n       thor (&gt;= 0.14, &lt; 2.0)\n+    json (2.0.2)\n+    launchy (2.4.3)\n+      addressable (~&gt; 2.3)\n     listen (3.0.8)\n       rb-fsevent (~&gt; 0.9, &gt;= 0.9.4)\n       rb-inotify (~&gt; 0.9, &gt;= 0.9.7)\n@@ -71,6 +118,8 @@ GEM\n     mail (2.6.4)\n       mime-types (&gt;= 1.16, &lt; 4)\n     method_source (0.8.2)\n+    migration_comments (0.4.1)\n+      activerecord (&gt;= 4.2.0)\n     mime-types (3.1)\n       mime-types-data (~&gt; 3.2015)\n     mime-types-data (3.2016.0521)\n@@ -81,8 +130,12 @@ GEM\n     nio4r (1.2.1)\n     nokogiri (1.7.0.1)\n       mini_portile2 (~&gt; 2.1.0)\n+    pg (0.19.0)\n+    public_suffix (2.0.5)\n     puma (3.6.2)\n     rack (2.0.1)\n+    rack-dev-mark (0.7.5)\n+      rack (&gt;= 1.1)\n     rack-test (0.6.3)\n       rack (&gt;= 1.0)\n     rails (5.0.1)\n@@ -100,8 +153,18 @@ GEM\n     rails-dom-testing (2.0.2)\n       activesupport (&gt;= 4.2.0, &lt; 6.0)\n       nokogiri (~&gt; 1.6)\n+    rails-erd (1.5.0)\n+      activerecord (&gt;= 3.2)\n+      activesupport (&gt;= 3.2)\n+      choice (~&gt; 0.2.0)\n+      ruby-graphviz (~&gt; 1.2)\n     rails-html-sanitizer (1.0.3)\n       loofah (~&gt; 2.0)\n+    rails_12factor (0.0.3)\n+      rails_serve_static_assets\n+      rails_stdout_logging\n+    rails_serve_static_assets (0.0.5)\n+    rails_stdout_logging (0.0.5)\n     railties (5.0.1)\n       actionpack (= 5.0.1)\n       activesupport (= 5.0.1)\n@@ -112,6 +175,25 @@ GEM\n     rb-fsevent (0.9.8)\n     rb-inotify (0.9.7)\n       ffi (&gt;= 0.5.0)\n+    rspec-core (3.5.4)\n+      rspec-support (~&gt; 3.5.0)\n+    rspec-expectations (3.5.0)\n+      diff-lcs (&gt;= 1.2.0, &lt; 2.0)\n+      rspec-support (~&gt; 3.5.0)\n+    rspec-mocks (3.5.0)\n+      diff-lcs (&gt;= 1.2.0, &lt; 2.0)\n+      rspec-support (~&gt; 3.5.0)\n+    rspec-rails (3.5.2)\n+      actionpack (&gt;= 3.0)\n+      activesupport (&gt;= 3.0)\n+      railties (&gt;= 3.0)\n+      rspec-core (~&gt; 3.5.0)\n+      rspec-expectations (~&gt; 3.5.0)\n+      rspec-mocks (~&gt; 3.5.0)\n+      rspec-support (~&gt; 3.5.0)\n+    rspec-support (3.5.0)\n+    ruby-graphviz (1.2.2)\n+    rubyzip (1.2.0)\n     sass (3.4.23)\n     sass-rails (5.0.6)\n       railties (&gt;= 4.0.0, &lt; 6)\n@@ -119,8 +201,16 @@ GEM\n       sprockets (&gt;= 2.8, &lt; 4.0)\n       sprockets-rails (&gt;= 2.0, &lt; 4.0)\n       tilt (&gt;= 1.1, &lt; 3)\n+    selenium-webdriver (3.0.5)\n+      childprocess (~&gt; 0.5)\n+      rubyzip (~&gt; 1.0)\n+      websocket (~&gt; 1.0)\n+    shoulda-matchers (2.6.2)\n+      activesupport (&gt;= 3.0.0)\n     spring (2.0.0)\n       activesupport (&gt;= 4.2)\n+    spring-commands-rspec (1.0.4)\n+      spring (&gt;= 0.9.1)\n     spring-watcher-listen (2.0.1)\n       listen (&gt;= 2.7, &lt; 4.0)\n       spring (&gt;= 1.2, &lt; 3.0)\n@@ -131,6 +221,7 @@ GEM\n       actionpack (&gt;= 4.0)\n       activesupport (&gt;= 4.0)\n       sprockets (&gt;= 3.0.0)\n+    sqlite3 (1.3.12)\n     thor (0.19.4)\n     thread_safe (0.3.5)\n     tilt (2.0.5)\n@@ -146,29 +237,58 @@ GEM\n       activemodel (&gt;= 5.0)\n       debug_inspector\n       railties (&gt;= 5.0)\n+    websocket (1.2.3)\n     websocket-driver (0.6.4)\n       websocket-extensions (&gt;= 0.1.0)\n     websocket-extensions (0.1.2)\n+    xpath (2.0.0)\n+      nokogiri (~&gt; 1.3)\n+    yard (0.9.7)\n\n PLATFORMS\n   ruby\n\n DEPENDENCIES\n+  annotate\n+  better_errors\n+  binding_of_caller\n   byebug\n+  capybara (~&gt; 2.5.0)\n+  capybara-screenshot\n+  capybara-webkit\n   coffee-rails (~&gt; 4.2)\n+  database_cleaner (~&gt; 1.3.0)\n+  debase\n+  enum_help\n+  factory_girl_rails\n+  faker (~&gt; 1.4.3)\n+  font-awesome-rails\n+  i18n_generators\n   jbuilder (~&gt; 2.5)\n   jquery-rails\n+  launchy (~&gt; 2.4.2)\n   listen (~&gt; 3.0.5)\n+  migration_comments\n   mysql2 (&gt;= 0.3.18, &lt; 0.5)\n+  pg (~&gt; 0.18)\n   puma (~&gt; 3.0)\n+  rack-dev-mark\n   rails (~&gt; 5.0.1)\n+  rails-erd\n+  rails_12factor\n+  rspec-rails (~&gt; 3.5)\n   sass-rails (~&gt; 5.0)\n+  selenium-webdriver\n+  shoulda-matchers (~&gt; 2.6.2)\n   spring\n+  spring-commands-rspec\n   spring-watcher-listen (~&gt; 2.0.0)\n+  sqlite3\n   turbolinks (~&gt; 5)\n   tzinfo-data\n   uglifier (&gt;= 1.3.0)\n   web-console (&gt;= 3.3.0)\n+  yard\n\n BUNDLED WITH\n    1.13.7\ndiff --git a/README.md b/README.md\nindex 3c0f78e..6f0b160 100644\n--- a/README.md\n+++ b/README.md\n@@ -26,6 +26,7 @@ cd /vagrant/\n docker-compose build\n ```\n\n+### \u8ffd\u52a0Gem\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n ## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\n\ndiff --git a/baukis-kai.iml b/baukis-kai.iml\nindex 45e13de..e1c054c 100644\n--- a/baukis-kai.iml\n+++ b/baukis-kai.iml\n@@ -30,26 +30,48 @@\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activemodel (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activerecord (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activesupport (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"addressable (v2.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"annotate (v2.6.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"arel (v7.1.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"better_errors (v2.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"binding_of_caller (v0.7.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"builder (v3.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bundler (v1.13.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"byebug (v9.0.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara (v2.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-screenshot (v1.0.14, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-webkit (v1.11.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"childprocess (v0.5.9, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"choice (v0.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coderay (v1.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-rails (v4.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script (v2.4.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script-source (v1.12.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"concurrent-ruby (v1.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"database_cleaner (v1.3.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase (v0.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase-ruby_core_source (v0.9.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debug_inspector (v0.0.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"diff-lcs (v1.2.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"enum_help (v0.0.16, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"erubis (v2.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"execjs (v2.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl (v4.8.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl_rails (v4.8.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"faker (v1.4.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ffi (v1.9.14, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"font-awesome-rails (v4.7.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"globalid (v0.3.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n (v0.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n_generators (v2.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jbuilder (v2.6.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jquery-rails (v4.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"launchy (v2.4.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"listen (v3.0.8, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"loofah (v2.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mail (v2.6.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"method_source (v0.8.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"migration_comments (v0.4.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types (v3.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types-data (v3.2016.0521, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mini_portile2 (v2.1.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n@@ -58,22 +80,40 @@\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mysql2 (v0.4.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nio4r (v1.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nokogiri (v1.7.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"pg (v0.19.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"public_suffix (v2.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"puma (v3.6.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack (v2.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-dev-mark (v0.7.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-test (v0.6.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-dom-testing (v2.0.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-erd (v1.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-html-sanitizer (v1.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_12factor (v0.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_serve_static_assets (v0.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_stdout_logging (v0.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"railties (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rake (v12.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-fsevent (v0.9.8, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-inotify (v0.9.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-core (v3.5.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-expectations (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-mocks (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-rails (v3.5.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-support (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ruby-graphviz (v1.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rubyzip (v1.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass (v3.4.23, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass-rails (v5.0.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"selenium-webdriver (v3.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"shoulda-matchers (v2.6.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring (v2.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-commands-rspec (v1.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-watcher-listen (v2.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets (v3.7.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets-rails (v3.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sqlite3 (v1.3.12, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thor (v0.19.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thread_safe (v0.3.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tilt (v2.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n@@ -82,8 +122,11 @@\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tzinfo (v1.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"uglifier (v3.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"web-console (v3.4.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket (v1.2.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-driver (v0.6.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-extensions (v0.1.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"xpath (v2.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"yard (v0.9.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n   &lt;/component&gt;\n   &lt;component name=\"RModuleSettingsStorage\"&gt;\n     &lt;LOAD_PATH number=\"0\" /&gt;\ndiff --git a/config/database.yml b/config/database.yml\nindex 3018451..b097f5f 100644\n--- a/config/database.yml\n+++ b/config/database.yml\n@@ -14,8 +14,8 @@ default: &amp;default\n   encoding: utf8\n   pool: 5\n   username: root\n-  password:\n-  host: localhost\n+  password: password\n+  host: 127.0.0.1\n\n development:\n   &lt;&lt;: *default\n@@ -25,8 +25,10 @@ development:\n # re-generated from your development database when you run \"rake\".\n # Do not set this db to the same as development or production.\n test:\n-  &lt;&lt;: *default\n-  database: baukis-kai_test\n+  adapter: sqlite3\n+  pool: 5\n+  timeout: 5000\n+  database: db/test.sqlite3\n\n # As with config/secrets.yml, you never want to store sensitive information,\n # like your database password, in your source code. If your source code is\n@@ -48,7 +50,14 @@ test:\n #     url: &lt;%= ENV['DATABASE_URL'] %&gt;\n #\n production:\n-  &lt;&lt;: *default\n+  adapter: postgresql\n+  encoding: unicode\n+  # For details on connection pooling, see rails configuration guide\n+  # http://guides.rubyonrails.org/configuring.html#database-pooling\n+  pool: &lt;%= ENV.fetch(\"RAILS_MAX_THREADS\") { 5 } %&gt;\n   database: baukis-kai_production\n-  username: baukis-kai\n-  password: &lt;%= ENV['BAUKIS-KAI_DATABASE_PASSWORD'] %&gt;\n+  username: postgres\n+  password: password\n+  host: 127.0.0.1\n+  port: 5432\n+\ndiff --git a/db/schema.rb b/db/schema.rb\nnew file mode 100644\nindex 0000000..52ab025\n--- /dev/null\n+++ b/db/schema.rb\n@@ -0,0 +1,15 @@\n+# This file is auto-generated from the current state of the database. Instead\n+# of editing this file, please use the migrations feature of Active Record to\n+# incrementally modify your database, and then regenerate this schema definition.\n+#\n+# Note that this schema.rb definition is the authoritative source for your\n+# database schema. If you need to create the application database on another\n+# system, you should be using db:schema:load, not running all the migrations\n+# from scratch. The latter is a flawed and unsustainable approach (the more migrations\n+# you'll amass, the slower it'll run and the greater likelihood for issues).\n+#\n+# It's strongly recommended that you check this file into your version control system.\n+\n+ActiveRecord::Schema.define(version: 0) do\n+\n+end\n</code></pre>"},{"location":"journal/20170114/","title":"\u4f5c\u696d\u5c65\u6b74 2017-01-14","text":""},{"location":"journal/20170114/#_1","title":"\u6982\u8981","text":"<p>2017-01-14\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d3\u30b8\u30e5\u30a2\u30eb\u30c7\u30b6\u30a4\u30f3\u3068\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u5b9f\u88c5\u306b\u95a2\u3059\u308b\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20170114/#_2","title":"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u69cb\u9020\u56f3","text":""},{"location":"journal/20170114/#_3","title":"\u4f5c\u696d\u5185\u5bb9","text":""},{"location":"journal/20170114/#_4","title":"\u30d3\u30b8\u30e5\u30a2\u30eb\u30c7\u30b6\u30a4\u30f3\u306e\u5b9f\u88c5","text":"<p>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d3\u30b8\u30e5\u30a2\u30eb\u30c7\u30b6\u30a4\u30f3\u3092\u5b9f\u88c5\u3059\u308b\u305f\u3081\u3001\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8a2d\u5b9a\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u4f5c\u6210\u3001\u30d3\u30e5\u30fc\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4f5c\u6210\u3001\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u8a2d\u5b9a\u306a\u3069\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u8077\u54e1\u30fb\u7ba1\u7406\u8005\u30fb\u9867\u5ba2\u305d\u308c\u305e\u308c\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u57fa\u672c\u7684\u306a\u898b\u305f\u76ee\u304c\u6574\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170114/#_5","title":"\u5909\u66f4\u70b9\u306e\u6982\u8981","text":"<ol> <li>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3068\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u8a2d\u5b9a</li> <li>3\u3064\u306e\u540d\u524d\u7a7a\u9593\uff08staff, admin, customer\uff09\u306e\u8a2d\u5b9a</li> <li> <p>\u5404\u540d\u524d\u7a7a\u9593\u306e\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u4f5c\u6210</p> </li> <li> <p>\u30d3\u30e5\u30fc\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4f5c\u6210</p> </li> <li>\u5404\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8</li> <li>\u5171\u901a\u30ec\u30a4\u30a2\u30a6\u30c8\u3068\u30d1\u30fc\u30b7\u30e3\u30eb\uff08\u30d8\u30c3\u30c0\u30fc\u30fb\u30d5\u30c3\u30bf\u30fc\uff09</li> <li> <p>\u30d8\u30eb\u30d1\u30fc\u30e1\u30bd\u30c3\u30c9\u306b\u3088\u308b\u30bf\u30a4\u30c8\u30eb\u8868\u793a</p> </li> <li> <p>\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u306e\u8a2d\u5b9a</p> </li> <li>SCSS/Sass\u306e\u5c0e\u5165</li> <li>\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3054\u3068\u306e\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u5207\u308a\u66ff\u3048</li> <li>\u8272\u3068\u5bf8\u6cd5\u306e\u5909\u6570\u5316</li> </ol>"},{"location":"journal/20170114/#_6","title":"\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u69cb\u9020","text":""},{"location":"journal/20170114/#9dfbc1a","title":"\u30b3\u30df\u30c3\u30c8: 9dfbc1a","text":""},{"location":"journal/20170114/#_7","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u5bf8\u6cd5\u3092\u5909\u6570\u3067\u8868\u73fe\u3059\u308b #1\n</code></pre>"},{"location":"journal/20170114/#_8","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/stylesheets/staff/_dimensions.css.scss</li> <li>M app/assets/stylesheets/staff/container.css.scss</li> <li>M app/assets/stylesheets/staff/layout.css.scss</li> </ul>"},{"location":"journal/20170114/#_9","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 9dfbc1a22d7c11cd19ef215a526e3b784c2e2b59\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 14 14:18:08 2017 +0900\n\n    \u5bf8\u6cd5\u3092\u5909\u6570\u3067\u8868\u73fe\u3059\u308b #1\n\ndiff --git a/app/assets/stylesheets/staff/_dimensions.css.scss b/app/assets/stylesheets/staff/_dimensions.css.scss\nnew file mode 100644\nindex 0000000..8d4d2dd\n--- /dev/null\n+++ b/app/assets/stylesheets/staff/_dimensions.css.scss\n@@ -0,0 +1,18 @@\n+/* \u30de\u30fc\u30b8\u30f3\u3001\u30d1\u30c7\u30a3\u30f3\u30b0 */\n+\n+$narrow: 2px;\n+$moderate: 6px;\n+$wide: 10px;\n+$very_wide: 20px;\n+\n+/* \u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba */\n+\n+$tiny: 8px;\n+$small: 10px;\n+$normal: 12px;\n+$large: 16px;\n+$huge: 20px;\n+\n+/* \u884c\u306e\u9ad8\u3055 */\n+\n+$standard_line_height: 16px;\ndiff --git a/app/assets/stylesheets/staff/container.css.scss b/app/assets/stylesheets/staff/container.css.scss\nindex d638edf..901cb2a 100644\n--- a/app/assets/stylesheets/staff/container.css.scss\n+++ b/app/assets/stylesheets/staff/container.css.scss\n@@ -1,11 +1,12 @@\n @import \"colors\";\n+@import \"dimensions\";\n\n div.wrapper {\n   div.container {\n     h1 {\n       margin: 0;\n-      padding: 9px 6px;\n-      font-size: 16px;\n+      padding: $moderate * 1.5 $moderate;\n+      font-size: $large;\n       font-weight: normal;\n       background-color: $very_dark_cyan;\n       color: $light_gray;\ndiff --git a/app/assets/stylesheets/staff/layout.css.scss b/app/assets/stylesheets/staff/layout.css.scss\nindex 19e9e46..3682fa0 100644\n--- a/app/assets/stylesheets/staff/layout.css.scss\n+++ b/app/assets/stylesheets/staff/layout.css.scss\n@@ -1,4 +1,5 @@\n @import \"colors\";\n+@import \"dimensions\";\n\n html, body {\n   margin: 0;\n@@ -10,11 +11,11 @@ div.wrapper {\n   box-sizing: border-box;\n   min-height: 100%;\n   margin: 0 auto;\n-  padding-bottom: 20px;\n+  padding-bottom: ($wide + $moderate) * 2 + $standard_line_height;\n   background-color: $gray;\n }\n header {\n-  padding: 5px;\n+  padding: $moderate;\n   background-color: $dark_cyan;\n   color: $very_light_gray;\n   span.logo-mark {\n@@ -29,7 +30,7 @@ footer {\n   color: $very_light_gray;\n   p {\n     text-align: center;\n-    padding: 5px;\n+    padding: $moderate;\n     margin: 0;\n   }\n }\n</code></pre>"},{"location":"journal/20170114/#c2cd80d","title":"\u30b3\u30df\u30c3\u30c8: c2cd80d","text":""},{"location":"journal/20170114/#_10","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8272\u3092\u5909\u6570\u3067\u8868\u73fe\u3059\u308b #1\n</code></pre>"},{"location":"journal/20170114/#_11","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/stylesheets/staff/_colors.css.scss</li> <li>M app/assets/stylesheets/staff/container.css.scss</li> <li>M app/assets/stylesheets/staff/layout.css.scss</li> </ul>"},{"location":"journal/20170114/#_12","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c2cd80d7f5ab2f5f7477f7bcad9948e56af1c1b2\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 14 14:12:55 2017 +0900\n\n    \u8272\u3092\u5909\u6570\u3067\u8868\u73fe\u3059\u308b #1\n\ndiff --git a/app/assets/stylesheets/staff/_colors.css.scss b/app/assets/stylesheets/staff/_colors.css.scss\nnew file mode 100644\nindex 0000000..11d6a3d\n--- /dev/null\n+++ b/app/assets/stylesheets/staff/_colors.css.scss\n@@ -0,0 +1,11 @@\n+/* \u30b0\u30ec\u30fc\u7cfb */\n+\n+$dark_gray: #666666;\n+$gray: #cccccc;\n+$light_gray: #eeeeee;\n+$very_light_gray: #fafafa;\n+\n+/* \u30b7\u30a2\u30f3\u7cfb */\n+\n+$dark_cyan: #448888;\n+$very_dark_cyan: darken($dark_cyan, 25%);\ndiff --git a/app/assets/stylesheets/staff/container.css.scss b/app/assets/stylesheets/staff/container.css.scss\nindex 365483c..d638edf 100644\n--- a/app/assets/stylesheets/staff/container.css.scss\n+++ b/app/assets/stylesheets/staff/container.css.scss\n@@ -1,3 +1,5 @@\n+@import \"colors\";\n+\n div.wrapper {\n   div.container {\n     h1 {\n@@ -5,8 +7,8 @@ div.wrapper {\n       padding: 9px 6px;\n       font-size: 16px;\n       font-weight: normal;\n-      background-color: #1a3333;\n-      color: #eeeeee;\n+      background-color: $very_dark_cyan;\n+      color: $light_gray;\n     }\n   }\n }\ndiff --git a/app/assets/stylesheets/staff/layout.css.scss b/app/assets/stylesheets/staff/layout.css.scss\nindex 1ef288d..19e9e46 100644\n--- a/app/assets/stylesheets/staff/layout.css.scss\n+++ b/app/assets/stylesheets/staff/layout.css.scss\n@@ -1,3 +1,5 @@\n+@import \"colors\";\n+\n html, body {\n   margin: 0;\n   padding: 0;\n@@ -9,12 +11,12 @@ div.wrapper {\n   min-height: 100%;\n   margin: 0 auto;\n   padding-bottom: 20px;\n-  background-color: #cccccc;\n+  background-color: $gray;\n }\n header {\n   padding: 5px;\n-  background-color: #448888;\n-  color: #eeeeee;\n+  background-color: $dark_cyan;\n+  color: $very_light_gray;\n   span.logo-mark {\n     font-weight: bold;\n   }\n@@ -23,8 +25,8 @@ footer {\n   bottom: 0;\n   position: absolute;\n   width: 100%;\n-  background-color: #666666;\n-  color: #eeeeee;\n+  background-color: $dark_gray;\n+  color: $very_light_gray;\n   p {\n     text-align: center;\n     padding: 5px;\n</code></pre>"},{"location":"journal/20170114/#99a7b4f","title":"\u30b3\u30df\u30c3\u30c8: 99a7b4f","text":""},{"location":"journal/20170114/#_13","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u898b\u51fa\u3057(h1\u8981\u7d20)\u306e\u30b9\u30bf\u30a4\u30eb #1\n</code></pre>"},{"location":"journal/20170114/#_14","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/stylesheets/staff/container.css.scss</li> <li>M app/views/layouts/staff.html.erb</li> </ul>"},{"location":"journal/20170114/#_15","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 99a7b4f3999a8c732a80ac519ba7b026f0d36e1d\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 14 13:56:44 2017 +0900\n\n    \u898b\u51fa\u3057(h1\u8981\u7d20)\u306e\u30b9\u30bf\u30a4\u30eb #1\n\ndiff --git a/app/assets/stylesheets/staff/container.css.scss b/app/assets/stylesheets/staff/container.css.scss\nnew file mode 100644\nindex 0000000..365483c\n--- /dev/null\n+++ b/app/assets/stylesheets/staff/container.css.scss\n@@ -0,0 +1,12 @@\n+div.wrapper {\n+  div.container {\n+    h1 {\n+      margin: 0;\n+      padding: 9px 6px;\n+      font-size: 16px;\n+      font-weight: normal;\n+      background-color: #1a3333;\n+      color: #eeeeee;\n+    }\n+  }\n+}\ndiff --git a/app/views/layouts/staff.html.erb b/app/views/layouts/staff.html.erb\nindex 5790280..3994f4a 100644\n--- a/app/views/layouts/staff.html.erb\n+++ b/app/views/layouts/staff.html.erb\n@@ -10,7 +10,7 @@\n   &lt;body&gt;\n     &lt;div class=\"wrapper\"&gt;\n       &lt;%= render 'shared/header' %&gt;\n-      &lt;div id=\"container\"&gt;\n+      &lt;div class=\"container\"&gt;\n         &lt;%= yield %&gt;\n       &lt;/div&gt;\n       &lt;%= render 'shared/footer' %&gt;\n</code></pre>"},{"location":"journal/20170114/#68443ae","title":"\u30b3\u30df\u30c3\u30c8: 68443ae","text":""},{"location":"journal/20170114/#_16","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d8\u30c3\u30c0\u3068\u30d5\u30c3\u30bf\u306e\u30b9\u30bf\u30a4\u30eb #1\n</code></pre>"},{"location":"journal/20170114/#_17","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/staff/layout.css.scss</li> </ul>"},{"location":"journal/20170114/#_18","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 68443ae38141093fb07c2bca5db425a5a9dab8ff\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 14 13:51:55 2017 +0900\n\n    \u30d8\u30c3\u30c0\u3068\u30d5\u30c3\u30bf\u306e\u30b9\u30bf\u30a4\u30eb #1\n\ndiff --git a/app/assets/stylesheets/staff/layout.css.scss b/app/assets/stylesheets/staff/layout.css.scss\nindex a5c944e..1ef288d 100644\n--- a/app/assets/stylesheets/staff/layout.css.scss\n+++ b/app/assets/stylesheets/staff/layout.css.scss\n@@ -11,3 +11,23 @@ div.wrapper {\n   padding-bottom: 20px;\n   background-color: #cccccc;\n }\n+header {\n+  padding: 5px;\n+  background-color: #448888;\n+  color: #eeeeee;\n+  span.logo-mark {\n+    font-weight: bold;\n+  }\n+}\n+footer {\n+  bottom: 0;\n+  position: absolute;\n+  width: 100%;\n+  background-color: #666666;\n+  color: #eeeeee;\n+  p {\n+    text-align: center;\n+    padding: 5px;\n+    margin: 0;\n+  }\n+}\n</code></pre>"},{"location":"journal/20170114/#7a42803","title":"\u30b3\u30df\u30c3\u30c8: 7a42803","text":""},{"location":"journal/20170114/#_19","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u306e\u5207\u308a\u66ff\u3048 #1\n</code></pre>"},{"location":"journal/20170114/#_20","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .idea/misc.xml</li> <li>M Gemfile.lock</li> <li>D app/assets/stylesheets/application.css</li> <li>A app/assets/stylesheets/staff.css</li> <li>A app/assets/stylesheets/staff/layout.css.scss</li> <li>M app/controllers/application_controller.rb</li> <li>M baukis-kai.iml</li> <li>M config/initializers/assets.rb</li> </ul>"},{"location":"journal/20170114/#_21","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 7a428034c067741161cc03baffe07908056f3fc3\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 14 13:45:19 2017 +0900\n\n    \u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u306e\u5207\u308a\u66ff\u3048 #1\n\ndiff --git a/.idea/misc.xml b/.idea/misc.xml\nindex 6997697..5e26784 100644\n--- a/.idea/misc.xml\n+++ b/.idea/misc.xml\n@@ -1,57 +1,6 @@\n &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n &lt;project version=\"4\"&gt;\n-  &lt;component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_1_8\" default=\"true\" project-jdk-name=\"rbenv: 2.4.0\" project-jdk-type=\"RUBY_SDK\"&gt;\n+  &lt;component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_1_3\" default=\"false\" project-jdk-name=\"rbenv: 2.4.0\" project-jdk-type=\"RUBY_SDK\"&gt;\n     &lt;output url=\"file://$PROJECT_DIR$/out\" /&gt;\n   &lt;/component&gt;\n-  &lt;component name=\"masterDetails\"&gt;\n-    &lt;states&gt;\n-      &lt;state key=\"GlobalLibrariesConfigurable.UI\"&gt;\n-        &lt;settings&gt;\n-          &lt;last-edited&gt;actionmailer (v3.2.13, rbenv: 2.1.10) [gem]&lt;/last-edited&gt;\n-          &lt;splitter-proportions&gt;\n-            &lt;option name=\"proportions\"&gt;\n-              &lt;list&gt;\n-                &lt;option value=\"0.2\" /&gt;\n-              &lt;/list&gt;\n-            &lt;/option&gt;\n-          &lt;/splitter-proportions&gt;\n-        &lt;/settings&gt;\n-      &lt;/state&gt;\n-      &lt;state key=\"JdkListConfigurable.UI\"&gt;\n-        &lt;settings&gt;\n-          &lt;last-edited&gt;rbenv: 2.1.2&lt;/last-edited&gt;\n-          &lt;splitter-proportions&gt;\n-            &lt;option name=\"proportions\"&gt;\n-              &lt;list&gt;\n-                &lt;option value=\"0.2\" /&gt;\n-              &lt;/list&gt;\n-            &lt;/option&gt;\n-          &lt;/splitter-proportions&gt;\n-        &lt;/settings&gt;\n-      &lt;/state&gt;\n-      &lt;state key=\"ProjectJDKs.UI\"&gt;\n-        &lt;settings&gt;\n-          &lt;last-edited&gt;1.8&lt;/last-edited&gt;\n-          &lt;splitter-proportions&gt;\n-            &lt;option name=\"proportions\"&gt;\n-              &lt;list&gt;\n-                &lt;option value=\"0.2\" /&gt;\n-              &lt;/list&gt;\n-            &lt;/option&gt;\n-          &lt;/splitter-proportions&gt;\n-        &lt;/settings&gt;\n-      &lt;/state&gt;\n-      &lt;state key=\"ProjectLibrariesConfigurable.UI\"&gt;\n-        &lt;settings&gt;\n-          &lt;splitter-proportions&gt;\n-            &lt;option name=\"proportions\"&gt;\n-              &lt;list&gt;\n-                &lt;option value=\"0.2\" /&gt;\n-              &lt;/list&gt;\n-            &lt;/option&gt;\n-          &lt;/splitter-proportions&gt;\n-        &lt;/settings&gt;\n-      &lt;/state&gt;\n-    &lt;/states&gt;\n-  &lt;/component&gt;\n &lt;/project&gt;\n\\ No newline at end of file\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex 22b35e1..3746378 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -290,5 +290,8 @@ DEPENDENCIES\n   web-console (&gt;= 3.3.0)\n   yard\n\n+RUBY VERSION\n+   ruby 2.4.0p0\n+\n BUNDLED WITH\n    1.13.7\ndiff --git a/app/assets/stylesheets/application.css b/app/assets/stylesheets/application.css\ndeleted file mode 100644\nindex 0ebd7fe..0000000\n--- a/app/assets/stylesheets/application.css\n+++ /dev/null\n@@ -1,15 +0,0 @@\n-/*\n- * This is a manifest file that'll be compiled into application.css, which will include all the files\n- * listed below.\n- *\n- * Any CSS and SCSS file within this directory, lib/assets/stylesheets, vendor/assets/stylesheets,\n- * or any plugin's vendor/assets/stylesheets directory can be referenced here using a relative path.\n- *\n- * You're free to add application-wide styles to this file and they'll appear at the bottom of the\n- * compiled file so the styles you add here take precedence over styles defined in any other CSS/SCSS\n- * files in this directory. Styles in this file should be added after the last require_* statement.\n- * It is generally better to create a new file per style scope.\n- *\n- *= require_tree .\n- *= require_self\n- */\ndiff --git a/app/assets/stylesheets/staff.css b/app/assets/stylesheets/staff.css\nnew file mode 100644\nindex 0000000..d043395\n--- /dev/null\n+++ b/app/assets/stylesheets/staff.css\n@@ -0,0 +1,3 @@\n+/*\n+ *= require_tree ./staff\n+ */\ndiff --git a/app/assets/stylesheets/staff/layout.css.scss b/app/assets/stylesheets/staff/layout.css.scss\nnew file mode 100644\nindex 0000000..a5c944e\n--- /dev/null\n+++ b/app/assets/stylesheets/staff/layout.css.scss\n@@ -0,0 +1,13 @@\n+html, body {\n+  margin: 0;\n+  padding: 0;\n+  height: 100%;\n+}\n+div.wrapper {\n+  position: relative;\n+  box-sizing: border-box;\n+  min-height: 100%;\n+  margin: 0 auto;\n+  padding-bottom: 20px;\n+  background-color: #cccccc;\n+}\ndiff --git a/app/controllers/application_controller.rb b/app/controllers/application_controller.rb\nindex 1c07694..1b2c7e6 100644\n--- a/app/controllers/application_controller.rb\n+++ b/app/controllers/application_controller.rb\n@@ -1,3 +1,14 @@\n class ApplicationController &lt; ActionController::Base\n   protect_from_forgery with: :exception\n+\n+  layout :set_layout\n+\n+  private\n+  def set_layout\n+    if params[:controller].match(%r{\\A(staff|admin|customer)/})\n+      Regexp.last_match[1]\n+    else\n+      'customer'\n+    end\n+  end\n end\ndiff --git a/app/views/layouts/application.html.erb b/app/views/layouts/staff.html.erb\nsimilarity index 80%\nrename from app/views/layouts/application.html.erb\nrename to app/views/layouts/staff.html.erb\nindex 65895dc..5790280 100644\n--- a/app/views/layouts/application.html.erb\n+++ b/app/views/layouts/staff.html.erb\n@@ -3,7 +3,7 @@\n   &lt;head&gt;\n     &lt;title&gt;&lt;%= document_title %&gt;&lt;/title&gt;\n     &lt;%= csrf_meta_tags %&gt;\n-    &lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n+    &lt;%= stylesheet_link_tag    'staff', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n     &lt;%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %&gt;\n   &lt;/head&gt;\n\ndiff --git a/baukis-kai.iml b/baukis-kai.iml\nindex e1c054c..1808fb8 100644\n--- a/baukis-kai.iml\n+++ b/baukis-kai.iml\n@@ -20,113 +20,113 @@\n       &lt;excludeFolder url=\"file://$MODULE_DIR$/tmp\" /&gt;\n       &lt;excludeFolder url=\"file://$MODULE_DIR$/vendor/bundle\" /&gt;\n     &lt;/content&gt;\n-    &lt;orderEntry type=\"jdk\" jdkName=\"rbenv: 2.4.0\" jdkType=\"RUBY_SDK\" /&gt;\n+    &lt;orderEntry type=\"jdk\" jdkName=\"Remote:ruby-2.4.0-p0\" jdkType=\"RUBY_SDK\" /&gt;\n     &lt;orderEntry type=\"sourceFolder\" forTests=\"false\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actioncable (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionmailer (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionpack (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionview (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activejob (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activemodel (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activerecord (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activesupport (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"addressable (v2.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"annotate (v2.6.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"arel (v7.1.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"better_errors (v2.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"binding_of_caller (v0.7.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"builder (v3.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bundler (v1.13.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"byebug (v9.0.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara (v2.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-screenshot (v1.0.14, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-webkit (v1.11.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"childprocess (v0.5.9, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"choice (v0.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coderay (v1.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-rails (v4.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script (v2.4.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script-source (v1.12.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"concurrent-ruby (v1.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"database_cleaner (v1.3.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase (v0.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase-ruby_core_source (v0.9.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debug_inspector (v0.0.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"diff-lcs (v1.2.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"enum_help (v0.0.16, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"erubis (v2.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"execjs (v2.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl (v4.8.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl_rails (v4.8.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"faker (v1.4.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ffi (v1.9.14, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"font-awesome-rails (v4.7.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"globalid (v0.3.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n (v0.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n_generators (v2.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jbuilder (v2.6.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jquery-rails (v4.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"launchy (v2.4.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"listen (v3.0.8, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"loofah (v2.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mail (v2.6.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"method_source (v0.8.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"migration_comments (v0.4.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types (v3.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types-data (v3.2016.0521, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mini_portile2 (v2.1.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"minitest (v5.10.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"multi_json (v1.12.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mysql2 (v0.4.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nio4r (v1.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nokogiri (v1.7.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"pg (v0.19.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"public_suffix (v2.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"puma (v3.6.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack (v2.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-dev-mark (v0.7.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-test (v0.6.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-dom-testing (v2.0.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-erd (v1.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-html-sanitizer (v1.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_12factor (v0.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_serve_static_assets (v0.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_stdout_logging (v0.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"railties (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rake (v12.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-fsevent (v0.9.8, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-inotify (v0.9.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-core (v3.5.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-expectations (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-mocks (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-rails (v3.5.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-support (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ruby-graphviz (v1.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rubyzip (v1.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass (v3.4.23, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass-rails (v5.0.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"selenium-webdriver (v3.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"shoulda-matchers (v2.6.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring (v2.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-commands-rspec (v1.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-watcher-listen (v2.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets (v3.7.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets-rails (v3.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sqlite3 (v1.3.12, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thor (v0.19.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thread_safe (v0.3.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tilt (v2.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks-source (v5.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tzinfo (v1.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"uglifier (v3.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"web-console (v3.4.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket (v1.2.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-driver (v0.6.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-extensions (v0.1.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"xpath (v2.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"yard (v0.9.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actioncable (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionmailer (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionpack (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionview (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activejob (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activemodel (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activerecord (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activesupport (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"addressable (v2.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"annotate (v2.6.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"arel (v7.1.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"better_errors (v2.1.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"binding_of_caller (v0.7.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"builder (v3.2.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bundler (v1.13.7, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"byebug (v9.0.6, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara (v2.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-screenshot (v1.0.14, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-webkit (v1.11.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"childprocess (v0.5.9, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"choice (v0.2.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coderay (v1.1.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-rails (v4.2.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script (v2.4.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script-source (v1.12.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"concurrent-ruby (v1.0.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"database_cleaner (v1.3.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase (v0.2.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase-ruby_core_source (v0.9.6, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debug_inspector (v0.0.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"diff-lcs (v1.2.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"enum_help (v0.0.16, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"erubis (v2.7.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"execjs (v2.7.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl (v4.8.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl_rails (v4.8.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"faker (v1.4.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ffi (v1.9.14, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"font-awesome-rails (v4.7.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"globalid (v0.3.7, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n (v0.7.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n_generators (v2.1.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jbuilder (v2.6.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jquery-rails (v4.2.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"launchy (v2.4.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"listen (v3.0.8, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"loofah (v2.0.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mail (v2.6.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"method_source (v0.8.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"migration_comments (v0.4.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types (v3.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types-data (v3.2016.0521, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mini_portile2 (v2.1.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"minitest (v5.10.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"multi_json (v1.12.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mysql2 (v0.4.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nio4r (v1.2.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nokogiri (v1.7.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"pg (v0.19.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"public_suffix (v2.0.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"puma (v3.6.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack (v2.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-dev-mark (v0.7.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-test (v0.6.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-dom-testing (v2.0.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-erd (v1.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-html-sanitizer (v1.0.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_12factor (v0.0.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_serve_static_assets (v0.0.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_stdout_logging (v0.0.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"railties (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rake (v12.0.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-fsevent (v0.9.8, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-inotify (v0.9.7, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-core (v3.5.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-expectations (v3.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-mocks (v3.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-rails (v3.5.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-support (v3.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ruby-graphviz (v1.2.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rubyzip (v1.2.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass (v3.4.23, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass-rails (v5.0.6, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"selenium-webdriver (v3.0.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"shoulda-matchers (v2.6.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring (v2.0.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-commands-rspec (v1.0.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-watcher-listen (v2.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets (v3.7.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets-rails (v3.2.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sqlite3 (v1.3.12, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thor (v0.19.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thread_safe (v0.3.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tilt (v2.0.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks-source (v5.0.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tzinfo (v1.2.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"uglifier (v3.0.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"web-console (v3.4.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket (v1.2.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-driver (v0.6.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-extensions (v0.1.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"xpath (v2.0.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"yard (v0.9.7, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n   &lt;/component&gt;\n   &lt;component name=\"RModuleSettingsStorage\"&gt;\n     &lt;LOAD_PATH number=\"0\" /&gt;\ndiff --git a/config/initializers/assets.rb b/config/initializers/assets.rb\nindex 01ef3e6..9bc9783 100644\n--- a/config/initializers/assets.rb\n+++ b/config/initializers/assets.rb\n@@ -8,4 +8,4 @@ Rails.application.config.assets.version = '1.0'\n\n # Precompile additional assets.\n # application.js, application.css, and all non-JS/CSS in app/assets folder are already added.\n-# Rails.application.config.assets.precompile += %w( search.js )\n+Rails.application.config.assets.precompile += %w( staff.css )\n</code></pre>"},{"location":"journal/20170114/#_22","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170114/#8e5777b","title":"\u30b3\u30df\u30c3\u30c8: 8e5777b","text":""},{"location":"journal/20170114/#_23","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Sass/SCSS #1\n</code></pre>"},{"location":"journal/20170114/#_24","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170114/#_25","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8e5777be434a9519f1902a81b822417e7971184e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 14 13:03:38 2017 +0900\n\n    Sass/SCSS #1\n\ndiff --git a/README.md b/README.md\nindex 7c65ac3..4cc0dcd 100644\n--- a/README.md\n+++ b/README.md\n@@ -90,6 +90,16 @@ git push heroku master\n + \u90e8\u5206\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n + \u30d8\u30eb\u30d1\u30fc\u30e1\u30bd\u30c3\u30c9\u306e\u5b9a\u7fa9\n\n+#### Sass/SCSS\n++ \u30a2\u30bb\u30c3\u30c8\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\n++ Sass/SCSS\u3068\u306f\n++ \u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u306e\u5207\u308a\u66ff\u3048\n++ \u30d8\u30c3\u30c0\u3068\u30d5\u30c3\u30bf\u306e\u30b9\u30bf\u30a4\u30eb\n++ \u898b\u51fa\u3057(h1\u8981\u7d20)\u306e\u30b9\u30bf\u30a4\u30eb\n++ \u8272\u3092\u5909\u6570\u3067\u8868\u73fe\u3059\u308b\n++ \u5bf8\u6cd5\u3092\u5909\u6570\u3067\u8868\u73fe\u3059\u308b\n++ \u30a2\u30bb\u30c3\u30c8\u306e\u30d7\u30ea\u30b3\u30f3\u30d1\u30a4\u30eb\n+\n ### \u30a8\u30e9\u30fc\u30da\u30fc\u30b8\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n</code></pre>"},{"location":"journal/20170114/#3301a1d","title":"\u30b3\u30df\u30c3\u30c8: 3301a1d","text":""},{"location":"journal/20170114/#_26","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u4eee\u8a2d\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\n</code></pre>"},{"location":"journal/20170114/#_27","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170114/#_28","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 3301a1d6c0b73e0ee5261c9ada380821aec45c4e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 14 12:19:25 2017 +0900\n\n    \u4eee\u8a2d\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\n\ndiff --git a/README.md b/README.md\nindex 218c068..7c65ac3 100644\n--- a/README.md\n+++ b/README.md\n@@ -1,6 +1,6 @@\n Baukis \u6539\n ===================\n-[![CircleCI Build Status](https://circleci.com/gh/circleci/circleci-docs.svg?style=shield)](https://circleci.com/gh/k2works/baukis-kai) [![GitHub license](https://img.shields.io/badge/license-MIT-blue.svg)](https://raw.githubusercontent.com/k2works/baukis-kai/master/MIT-LICENSE.txt) \n+[![CircleCI Build Status](https://circleci.com/gh/circleci/circleci-docs.svg?style=shield)](https://circleci.com/gh/k2works/baukis-kai) [![GitHub license](https://img.shields.io/badge/license-MIT-blue.svg)](https://raw.githubusercontent.com/k2works/baukis-kai/master/MIT-LICENSE.txt)\n\n # \u76ee\u7684 #\n [\u5b9f\u8df5Ruby on Rails 4 \u73fe\u5834\u306e\u30d7\u30ed\u304b\u3089\u5b66\u3076\u672c\u683cWeb\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0](https://www.amazon.co.jp/%E5%AE%9F%E8%B7%B5Ruby-Rails-4-%E7%8F%BE%E5%A0%B4%E3%81%AE%E3%83%97%E3%83%AD%E3%81%8B%E3%82%89%E5%AD%A6%E3%81%B6%E6%9C%AC%E6%A0%BCWeb%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-%E9%BB%92%E7%94%B0/dp/4844335928)\u3092Rails5\u3067\u306e\u5b9f\u88c5\u53ca\u3073\u30d5\u30ed\u30f3\u30c8\u90e8\u5206\u306b\u30e2\u30c0\u30f3CSS\u8a2d\u8a08(BEM)\u3092\u7d44\u307f\u8fbc\u3080\n@@ -41,7 +41,7 @@ Baukis \u6539\n    1. [Capybra](#Capybara)\n    1. [\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8](#\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8)\n    1. [\u691c\u7d22\u30d5\u30a9\u30fc\u30e0](#\u691c\u7d22\u30d5\u30a9\u30fc\u30e0)\n-   \n+\n ## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u69cb\u7bc9\n ### Vagarnt\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n ```\n@@ -82,6 +82,7 @@ git push heroku master\n **[\u2b06 back to top](#\u69cb\u6210)**\n ## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\n ### \u30d3\u30b8\u30e5\u30a2\u30eb\u30c7\u30b6\u30a4\u30f3\n+#### \u4eee\u8a2d\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u8a2d\u5b9a\n + \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u4f5c\u6210\n + ERB\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4f5c\u6210\n</code></pre>"},{"location":"journal/20170114/#7afd187","title":"\u30b3\u30df\u30c3\u30c8: 7afd187","text":""},{"location":"journal/20170114/#_29","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d8\u30eb\u30d1\u30fc\u30e1\u30bd\u30c3\u30c9\u306e\u5b9a\u7fa9\n</code></pre>"},{"location":"journal/20170114/#_30","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/helpers/application_helper.rb</li> <li>M app/views/layouts/application.html.erb</li> </ul>"},{"location":"journal/20170114/#_31","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 7afd187d405f538fa08a5a3aaa6cbb416684d31e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 14 12:17:49 2017 +0900\n\n    \u30d8\u30eb\u30d1\u30fc\u30e1\u30bd\u30c3\u30c9\u306e\u5b9a\u7fa9\n\ndiff --git a/app/helpers/application_helper.rb b/app/helpers/application_helper.rb\nindex de6be79..b4a86ef 100644\n--- a/app/helpers/application_helper.rb\n+++ b/app/helpers/application_helper.rb\n@@ -1,2 +1,9 @@\n module ApplicationHelper\n+  def document_title\n+    if @title.present?\n+      \"#{@title} - BaukisKai\"\n+    else\n+      'BaukisKai'\n+    end\n+  end\n end\ndiff --git a/app/views/layouts/application.html.erb b/app/views/layouts/application.html.erb\nindex 729a430..65895dc 100644\n--- a/app/views/layouts/application.html.erb\n+++ b/app/views/layouts/application.html.erb\n@@ -1,9 +1,8 @@\n &lt;!DOCTYPE html&gt;\n &lt;html&gt;\n   &lt;head&gt;\n-    &lt;title&gt;BaukisKai&lt;/title&gt;\n+    &lt;title&gt;&lt;%= document_title %&gt;&lt;/title&gt;\n     &lt;%= csrf_meta_tags %&gt;\n-\n     &lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n     &lt;%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %&gt;\n   &lt;/head&gt;\n</code></pre>"},{"location":"journal/20170114/#c26ab9e","title":"\u30b3\u30df\u30c3\u30c8: c26ab9e","text":""},{"location":"journal/20170114/#_32","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u90e8\u5206\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n</code></pre>"},{"location":"journal/20170114/#_33","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/layouts/application.html.erb</li> <li>A app/views/shared/_footer.html.erb</li> <li>A app/views/shared/_header.html.erb</li> </ul>"},{"location":"journal/20170114/#_34","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c26ab9e3b0c282f07092dff94274cfd16a9dd870\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 14 12:07:04 2017 +0900\n\n    \u90e8\u5206\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n\ndiff --git a/app/views/layouts/application.html.erb b/app/views/layouts/application.html.erb\nindex 3986591..729a430 100644\n--- a/app/views/layouts/application.html.erb\n+++ b/app/views/layouts/application.html.erb\n@@ -9,6 +9,12 @@\n   &lt;/head&gt;\n\n   &lt;body&gt;\n-    &lt;%= yield %&gt;\n+    &lt;div class=\"wrapper\"&gt;\n+      &lt;%= render 'shared/header' %&gt;\n+      &lt;div id=\"container\"&gt;\n+        &lt;%= yield %&gt;\n+      &lt;/div&gt;\n+      &lt;%= render 'shared/footer' %&gt;\n+    &lt;/div&gt;\n   &lt;/body&gt;\n &lt;/html&gt;\ndiff --git a/app/views/shared/_footer.html.erb b/app/views/shared/_footer.html.erb\nnew file mode 100644\nindex 0000000..ad0aaa0\n--- /dev/null\n+++ b/app/views/shared/_footer.html.erb\n@@ -0,0 +1,3 @@\n+&lt;footer&gt;\n+  &lt;p&gt;Powered by BAUKIS KAI &amp;copy; 2014 k2works&lt;/p&gt;\n+&lt;/footer&gt;\ndiff --git a/app/views/shared/_header.html.erb b/app/views/shared/_header.html.erb\nnew file mode 100644\nindex 0000000..e774ae8\n--- /dev/null\n+++ b/app/views/shared/_header.html.erb\n@@ -0,0 +1,3 @@\n+&lt;header&gt;\n+  &lt;span class=\"logo-mark\"&gt;BAUKIS KAI&lt;/span&gt;\n+&lt;/header&gt;\n</code></pre>"},{"location":"journal/20170114/#73e91db","title":"\u30b3\u30df\u30c3\u30c8: 73e91db","text":""},{"location":"journal/20170114/#_35","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>ERB\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4f5c\u6210\n</code></pre>"},{"location":"journal/20170114/#_36","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/views/admin/top/index.html.erb</li> <li>A app/views/customer/top/index.html.erb</li> <li>A app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170114/#_37","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 73e91db01e78225061fe58b7cf1e61175e01747f\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 14 11:47:10 2017 +0900\n\n    ERB\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4f5c\u6210\n\ndiff --git a/app/views/admin/top/index.html.erb b/app/views/admin/top/index.html.erb\nnew file mode 100644\nindex 0000000..4a793fe\n--- /dev/null\n+++ b/app/views/admin/top/index.html.erb\n@@ -0,0 +1,2 @@\n+&lt;% @title = '\u7ba1\u7406\u8005\u30c8\u30c3\u30d7\u30da\u30fc\u30b8' %&gt;\n+&lt;h1&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n\\ No newline at end of file\ndiff --git a/app/views/customer/top/index.html.erb b/app/views/customer/top/index.html.erb\nnew file mode 100644\nindex 0000000..a57dbd7\n--- /dev/null\n+++ b/app/views/customer/top/index.html.erb\n@@ -0,0 +1,2 @@\n+&lt;% @title = '\u9867\u5ba2\u30c8\u30c3\u30d7\u30da\u30fc\u30b8' %&gt;\n+&lt;h1&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nnew file mode 100644\nindex 0000000..e4d87bc\n--- /dev/null\n+++ b/app/views/staff/top/index.html.erb\n@@ -0,0 +1,2 @@\n+&lt;% @title = '\u8077\u54e1\u30c8\u30c3\u30d7\u30da\u30fc\u30b8' %&gt;\n+&lt;h1&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170114/#7bc348a","title":"\u30b3\u30df\u30c3\u30c8: 7bc348a","text":""},{"location":"journal/20170114/#_38","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u4f5c\u6210\n</code></pre>"},{"location":"journal/20170114/#_39","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/controllers/admin/top_controller.rb</li> <li>A app/controllers/customer/top_controller.rb</li> <li>A app/controllers/staff/top_controller.rb</li> </ul>"},{"location":"journal/20170114/#_40","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 7bc348a44c363258f50170e662bc8b0a11855e09\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 14 11:36:45 2017 +0900\n\n    \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u4f5c\u6210\n\ndiff --git a/app/controllers/admin/top_controller.rb b/app/controllers/admin/top_controller.rb\nnew file mode 100644\nindex 0000000..d9a88b5\n--- /dev/null\n+++ b/app/controllers/admin/top_controller.rb\n@@ -0,0 +1,5 @@\n+class Admin::TopController &lt; ApplicationController\n+  def index\n+    render action: 'index'\n+  end\n+end\ndiff --git a/app/controllers/customer/top_controller.rb b/app/controllers/customer/top_controller.rb\nnew file mode 100644\nindex 0000000..9fc6012\n--- /dev/null\n+++ b/app/controllers/customer/top_controller.rb\n@@ -0,0 +1,5 @@\n+class Customer::TopController &lt; ApplicationController\n+  def index\n+    render action: 'index'\n+  end\n+end\ndiff --git a/app/controllers/staff/top_controller.rb b/app/controllers/staff/top_controller.rb\nnew file mode 100644\nindex 0000000..290f42f\n--- /dev/null\n+++ b/app/controllers/staff/top_controller.rb\n@@ -0,0 +1,5 @@\n+class Staff::TopController &lt; ApplicationController\n+  def index\n+    render action: 'index'\n+  end\n+end\n</code></pre>"},{"location":"journal/20170114/#_41","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170114/#96519f2","title":"\u30b3\u30df\u30c3\u30c8: 96519f2","text":""},{"location":"journal/20170114/#_42","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u8a2d\u5b9a\n</code></pre>"},{"location":"journal/20170114/#_43","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170114/#_44","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 96519f2acbd2dda85e5e89ccb1f4de1ef1c0071c\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 14 11:21:54 2017 +0900\n\n    \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u8a2d\u5b9a\n\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 787824f..de42cfb 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -1,3 +1,13 @@\n Rails.application.routes.draw do\n-  # For details on the DSL available within this file, see http://guides.rubyonrails.org/routing.html\n+  namespace :staff do\n+    root 'top#index'\n+  end\n+\n+  namespace :admin do\n+    root 'top#index'\n+  end\n+\n+  namespace :customer do\n+    root 'top#index'\n+  end\n end\n</code></pre>"},{"location":"journal/20170114/#fc189a1","title":"\u30b3\u30df\u30c3\u30c8: fc189a1","text":""},{"location":"journal/20170114/#_45","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d3\u30b8\u30e5\u30a2\u30eb\u30c7\u30b6\u30a4\u30f3\n</code></pre>"},{"location":"journal/20170114/#_46","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170114/#_47","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit fc189a17c5f377687c5ec1408e747eab7eb9710d\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 14 10:42:16 2017 +0900\n\n    \u30d3\u30b8\u30e5\u30a2\u30eb\u30c7\u30b6\u30a4\u30f3\n\ndiff --git a/README.md b/README.md\nindex a0fc0b4..218c068 100644\n--- a/README.md\n+++ b/README.md\n@@ -82,6 +82,13 @@ git push heroku master\n **[\u2b06 back to top](#\u69cb\u6210)**\n ## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\n ### \u30d3\u30b8\u30e5\u30a2\u30eb\u30c7\u30b6\u30a4\u30f3\n++ \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u8a2d\u5b9a\n++ \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u4f5c\u6210\n++ ERB\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4f5c\u6210\n++ \u30ec\u30a4\u30a2\u30a6\u30c8\n++ \u90e8\u5206\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n++ \u30d8\u30eb\u30d1\u30fc\u30e1\u30bd\u30c3\u30c9\u306e\u5b9a\u7fa9\n+\n ### \u30a8\u30e9\u30fc\u30da\u30fc\u30b8\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n</code></pre>"},{"location":"journal/20170116/","title":"\u4f5c\u696d\u5c65\u6b74 2017-01-16","text":""},{"location":"journal/20170116/#_1","title":"\u6982\u8981","text":"<p>2017-01-16\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u5c0e\u5165\u3068\u30e2\u30c0\u30f3CSS\u8a2d\u8a08\uff08BEM\uff09\u306e\u5b9f\u88c5\u306b\u95a2\u3059\u308b\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20170116/#_2","title":"\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u69cb\u6210\u56f3","text":""},{"location":"journal/20170116/#_3","title":"\u4f5c\u696d\u5185\u5bb9","text":""},{"location":"journal/20170116/#bootstrapbem","title":"Bootstrap\u306e\u5c0e\u5165\u3068BEM\u8a2d\u8a08\u306e\u9069\u7528","text":"<p>\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u958b\u767a\u306e\u52b9\u7387\u5316\u3068\u4e00\u8cab\u6027\u3092\u78ba\u4fdd\u3059\u308b\u305f\u3081\u3001Bootstrap\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u5c0e\u5165\u3057\u3001BEM\uff08Block-Element-Modifier\uff09\u8a2d\u8a08\u624b\u6cd5\u3092\u9069\u7528\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u4fdd\u5b88\u6027\u306e\u9ad8\u3044CSS\u30b3\u30fc\u30c9\u3068\u30ec\u30b9\u30dd\u30f3\u30b7\u30d6\u306aUI\u3092\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20170116/#_4","title":"\u5909\u66f4\u70b9\u306e\u6982\u8981","text":"<ol> <li>Bootstrap\u306e\u5c0e\u5165</li> <li>bootstrap-sass\u3068bootstrap_form\u306eGem\u8ffd\u52a0</li> <li>JavaScript\u3068SCSS\u306e\u8a2d\u5b9a</li> <li> <p>\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u7528SCSS\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210</p> </li> <li> <p>BEM\u8a2d\u8a08\u306e\u9069\u7528</p> </li> <li>\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30d9\u30fc\u30b9\u306eSCSS\u69cb\u9020</li> <li>Block\u3001Element\u3001Modifier\u306e\u547d\u540d\u898f\u5247\u306e\u9069\u7528</li> <li>SCSS\u30d5\u30a1\u30a4\u30eb\u306e\u6574\u7406\u3068\u69cb\u9020\u5316</li> </ol>"},{"location":"journal/20170116/#b512963","title":"\u30b3\u30df\u30c3\u30c8: b512963","text":""},{"location":"journal/20170116/#_5","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Bootstrap\u7d44\u307f\u8fbc\u307f\n</code></pre>"},{"location":"journal/20170116/#_6","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>M README.md</li> <li>M app/assets/javascripts/application.js</li> <li>A app/assets/stylesheets/components/_bootstrap-custom.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M baukis-kai.iml</li> </ul>"},{"location":"journal/20170116/#_7","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit b512963731553809f7a476b0b48f073e33c9f947\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 17:58:11 2017 +0900\n\n    Bootstrap\u7d44\u307f\u8fbc\u307f\n\ndiff --git a/Gemfile b/Gemfile\nindex 94f25f0..1f609ad 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -83,3 +83,5 @@ gem 'font-awesome-rails'\n gem 'rails_12factor', group: :production\n gem 'rack-dev-mark'\n gem 'enum_help'\n+gem 'bootstrap-sass', '~&gt; 3.3.6'\n+gem 'bootstrap_form'\n\\ No newline at end of file\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex 0bcaa5d..f06af1b 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -44,12 +44,18 @@ GEM\n       activerecord (&gt;= 2.3.0)\n       rake (&gt;= 0.8.7)\n     arel (7.1.4)\n+    autoprefixer-rails (6.6.1)\n+      execjs\n     better_errors (2.1.1)\n       coderay (&gt;= 1.0.0)\n       erubis (&gt;= 2.6.6)\n       rack (&gt;= 0.9.0)\n     binding_of_caller (0.7.2)\n       debug_inspector (&gt;= 0.0.1)\n+    bootstrap-sass (3.3.7)\n+      autoprefixer-rails (&gt;= 5.2.1)\n+      sass (&gt;= 3.3.4)\n+    bootstrap_form (2.5.3)\n     builder (3.2.2)\n     byebug (9.0.6)\n     capybara (2.5.0)\n@@ -286,6 +292,8 @@ DEPENDENCIES\n   annotate\n   better_errors\n   binding_of_caller\n+  bootstrap-sass (~&gt; 3.3.6)\n+  bootstrap_form\n   byebug\n   capybara (~&gt; 2.5.0)\n   capybara-screenshot\ndiff --git a/README.md b/README.md\nindex 843e4b6..e23f947 100644\n--- a/README.md\n+++ b/README.md\n@@ -328,4 +328,6 @@ git push heroku master\n # \u53c2\u7167 #\n + [\u5b9f\u8df5Ruby on Rails 4 \u73fe\u5834\u306e\u30d7\u30ed\u304b\u3089\u5b66\u3076\u672c\u683cWeb\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0](https://www.amazon.co.jp/%E5%AE%9F%E8%B7%B5Ruby-Rails-4-%E7%8F%BE%E5%A0%B4%E3%81%AE%E3%83%97%E3%83%AD%E3%81%8B%E3%82%89%E5%AD%A6%E3%81%B6%E6%9C%AC%E6%A0%BCWeb%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-%E9%BB%92%E7%94%B0/dp/4844335928)\n + [\u73fe\u5834\u306e\u30d7\u30ed\u304c\u672c\u6c17\u3067\u6559\u3048\u308b HTML/CSS\u30c7\u30b6\u30a4\u30f3\u8b1b\u7fa9](https://www.amazon.co.jp/dp/B01K3SZGR0/ref=dp-kindle-redirect?_encoding=UTF8&amp;btkr=1)\n-+ [\u73fe\u5834\u306e\u30d7\u30ed\u304c\u672c\u6c17\u3067\u6559\u3048\u308b HTML/CSS\u30c7\u30b6\u30a4\u30f3\u8b1b\u7fa9 \u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf](https://github.com/basara669/html_css_book)\n\\ No newline at end of file\n++ [\u73fe\u5834\u306e\u30d7\u30ed\u304c\u672c\u6c17\u3067\u6559\u3048\u308b HTML/CSS\u30c7\u30b6\u30a4\u30f3\u8b1b\u7fa9 \u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf](https://github.com/basara669/html_css_book)\n++ [Bootstrap for Sass](https://github.com/twbs/bootstrap-sass)\n++ [Rails Bootstrap Forms](https://github.com/bootstrap-ruby/rails-bootstrap-forms)\n\\ No newline at end of file\ndiff --git a/app/assets/javascripts/application.js b/app/assets/javascripts/application.js\nindex b12018d..759d92e 100644\n--- a/app/assets/javascripts/application.js\n+++ b/app/assets/javascripts/application.js\n@@ -13,4 +13,5 @@\n //= require jquery\n //= require jquery_ujs\n //= require turbolinks\n+//= require bootstrap-sprockets\n //= require_tree .\ndiff --git a/app/assets/stylesheets/components/_bootstrap-custom.scss b/app/assets/stylesheets/components/_bootstrap-custom.scss\nnew file mode 100644\nindex 0000000..00ac39a\n--- /dev/null\n+++ b/app/assets/stylesheets/components/_bootstrap-custom.scss\n@@ -0,0 +1,59 @@\n+/*!\n+ * Bootstrap v3.3.6 (http://getbootstrap.com)\n+ * Copyright 2011-2015 Twitter, Inc.\n+ * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n+ */\n+\n+// Core variables and mixins\n+@import \"bootstrap/variables\";\n+@import \"bootstrap/mixins\";\n+\n+// Reset and dependencies\n+@import \"bootstrap/normalize\";\n+@import \"bootstrap/print\";\n+@import \"bootstrap/glyphicons\";\n+\n+// Core CSS\n+@import \"bootstrap/scaffolding\";\n+@import \"bootstrap/type\";\n+@import \"bootstrap/code\";\n+@import \"bootstrap/grid\";\n+@import \"bootstrap/tables\";\n+@import \"bootstrap/forms\";\n+@import \"bootstrap/buttons\";\n+\n+// Components\n+@import \"bootstrap/component-animations\";\n+@import \"bootstrap/dropdowns\";\n+@import \"bootstrap/button-groups\";\n+@import \"bootstrap/input-groups\";\n+@import \"bootstrap/navs\";\n+@import \"bootstrap/navbar\";\n+@import \"bootstrap/breadcrumbs\";\n+@import \"bootstrap/pagination\";\n+@import \"bootstrap/pager\";\n+@import \"bootstrap/labels\";\n+@import \"bootstrap/badges\";\n+@import \"bootstrap/jumbotron\";\n+@import \"bootstrap/thumbnails\";\n+@import \"bootstrap/alerts\";\n+@import \"bootstrap/progress-bars\";\n+@import \"bootstrap/media\";\n+@import \"bootstrap/list-group\";\n+@import \"bootstrap/panels\";\n+@import \"bootstrap/responsive-embed\";\n+@import \"bootstrap/wells\";\n+@import \"bootstrap/close\";\n+\n+// Components w/ JavaScript\n+@import \"bootstrap/modals\";\n+@import \"bootstrap/tooltip\";\n+@import \"bootstrap/popovers\";\n+@import \"bootstrap/carousel\";\n+\n+// Utility classes\n+@import \"bootstrap/utilities\";\n+@import \"bootstrap/responsive-utilities\";\n+\n+@import \"rails_bootstrap_forms\";\n+@import \"./base/reset\";\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 02d93af..8e0ff1d 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -63,7 +63,9 @@\n\n //font-awesome\n @import \"font-awesome\";\n-\n+//BootStrap\n+@import \"bootstrap-sprockets\";\n+@import \"components/bootstrap-custom\";\n // ===========================\n // Pages\n // ===========================\ndiff --git a/baukis-kai.iml b/baukis-kai.iml\nindex bb892a7..ea1f98f 100644\n--- a/baukis-kai.iml\n+++ b/baukis-kai.iml\n@@ -33,8 +33,11 @@\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"addressable (v2.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"annotate (v2.6.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"arel (v7.1.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"autoprefixer-rails (v6.6.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"better_errors (v2.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"binding_of_caller (v0.7.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bootstrap-sass (v3.3.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bootstrap_form (v2.5.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"builder (v3.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bundler (v1.13.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"byebug (v9.0.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n</code></pre>"},{"location":"journal/20170116/#6fe06df","title":"\u30b3\u30df\u30c3\u30c8: 6fe06df","text":""},{"location":"journal/20170116/#_8","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\uff08\u30ea\u30f3\u30af\u8ffd\u52a0\uff09\n</code></pre>"},{"location":"journal/20170116/#_9","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/shared/_footer.html.erb</li> <li>M app/views/shared/_header.html.erb</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170116/#_10","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 6fe06df5411fa0d7d4a6471719a7784f8c4cb509\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 17:26:14 2017 +0900\n\n    \u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\uff08\u30ea\u30f3\u30af\u8ffd\u52a0\uff09\n\ndiff --git a/app/views/shared/_footer.html.erb b/app/views/shared/_footer.html.erb\nindex 308c006..8aa429a 100644\n--- a/app/views/shared/_footer.html.erb\n+++ b/app/views/shared/_footer.html.erb\n@@ -1,12 +1,12 @@\n &lt;footer class=\"Footer\"&gt;\n   &lt;div class=\"l-row l-column\"&gt;\n     &lt;div class=\"Footer__head\"&gt;\n-      &lt;a href=\"./\" class=\"logo\"&gt;BAUKIS KAI&lt;/a&gt;\n+      &lt;%= link_to('BAUKIS KAI', staff_root_url, class:'logo') %&gt;\n       &lt;ul class=\"Menu Menu--sub\"&gt;\n         &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;Services&lt;/a&gt;&lt;/li&gt;\n         &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;Work&lt;/a&gt;&lt;/li&gt;\n         &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;About us&lt;/a&gt;&lt;/li&gt;\n-        &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;Blog&lt;/a&gt;&lt;/li&gt;\n+        &lt;li&gt;&lt;%= link_to('Blog', staff_article_index_url,class:\"Menu__item\") %&gt;&lt;/li&gt;\n         &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\n       &lt;/ul&gt;\n     &lt;/div&gt;\ndiff --git a/app/views/shared/_header.html.erb b/app/views/shared/_header.html.erb\nindex 898aaff..cb460e5 100644\n--- a/app/views/shared/_header.html.erb\n+++ b/app/views/shared/_header.html.erb\n@@ -3,14 +3,14 @@\n     &lt;%= fa_icon 'bars' %&gt;\n   &lt;/div&gt;\n   &lt;div class=\"Header__head\"&gt;\n-    &lt;h1 class=\"logo\"&gt;BAUKIS KAI&lt;/h1&gt;\n+    &lt;h1 class=\"logo\"&gt;&lt;%= link_to('BAUKIS KAI', staff_root_url, class:'logo') %&gt;&lt;/h1&gt;\n   &lt;/div&gt;\n   &lt;nav class=\"Header__body SpMenu\"&gt;\n     &lt;ul class=\"Menu\"&gt;\n       &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Services&lt;/a&gt;&lt;/li&gt;\n       &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Work&lt;/a&gt;&lt;/li&gt;\n       &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;About&lt;/a&gt;&lt;/li&gt;\n-      &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Blog&lt;/a&gt;&lt;/li&gt;\n+      &lt;li class=\"Menu__item\"&gt;&lt;%= link_to('Blog', staff_article_index_url) %&gt;&lt;/li&gt;\n       &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\n     &lt;/ul&gt;\n   &lt;/nav&gt;\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex 1c180af..1dba71a 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -1,7 +1,6 @@\n &lt;% @title = '\u8077\u54e1\u30c8\u30c3\u30d7\u30da\u30fc\u30b8' %&gt;\n &lt;h1&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n\n-\n &lt;div class=\"ImageSlide Section\"&gt;\n   &lt;ul id=\"Slide\" class=\"ImageSlide__main\"&gt;\n     &lt;li class=\"ImageSlide__item js-slide-item\"&gt;\n@@ -38,7 +37,7 @@\n         &lt;div class=\"EntryPanel__body\"&gt;\n           \u5927\u5207\u306a\u3042\u306e\u65b9\u306b\u3042\u308a\u304c\u3068\u3046\u3092\u5c4a\u3051\u305f\u3044\u3002\u5fc3\u3082\u4f53\u3082\u6e29\u307e\u308b\u7d20\u6575\u306a\u30ae\u30d5\u30c8\u3002\u30d7\u30ec\u30bc\u30f3\u30c8\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u5b9f\u65bd\u4e2d\uff01\n         &lt;/div&gt;\n-        &lt;div class=\"EntryPanel__foot\"&gt;&lt;a href=\"#\" class=\"button\"&gt;READ MORE&lt;/a&gt;&lt;/div&gt;\n+        &lt;div class=\"EntryPanel__foot\"&gt;&lt;%= link_to('READ MORE',staff_campaign_index_url,class:\"button\") %&gt;&lt;/div&gt;\n       &lt;/div&gt;\n     &lt;/div&gt;\n\n@@ -51,7 +50,7 @@\n         &lt;div class=\"EntryPanel__body\"&gt;\n           \u4eca\u8a71\u984c\u306e\u4eba\u6c17\u5e97\u3001Macaron'n Things\u306e\u30d1\u30f3\u30b1\u30fc\u30ad\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc\u5546\u54c1\u306e\u30bb\u30c3\u30c8\u30e1\u30cb\u30e5\u30fc\u3092\u8ca9\u58f2\u4e2d\u3002\n         &lt;/div&gt;\n-        &lt;div class=\"EntryPanel__foot\"&gt;&lt;a href=\"#\" class=\"button\"&gt;READ MORE&lt;/a&gt;&lt;/div&gt;\n+        &lt;div class=\"EntryPanel__foot\"&gt;&lt;%= link_to('READ MORE',staff_campaign_index_url,class:\"button\") %&gt;&lt;/div&gt;\n       &lt;/div&gt;\n     &lt;/div&gt;\n   &lt;/div&gt;\n@@ -109,34 +108,34 @@\n       &lt;/a&gt;\n     &lt;/div&gt;\n   &lt;/div&gt;\n+&lt;/section&gt;\n\n-  &lt;section class=\"Section l-column\"&gt;\n-    &lt;div class=\"Section__head\"&gt;\n-      &lt;h2 class=\"sectionLabel\"&gt;News&lt;/h2&gt;\n-    &lt;/div&gt;\n-    &lt;ol class=\"NewsList\"&gt;\n-      &lt;li class=\"NewsList__item\"&gt;\n-        &lt;time class=\"NewsList__head\" datatime=\"2016-10-12\"&gt;2016.10.12&lt;/time&gt;\n-        &lt;span class=\"NewsList__body\"&gt;\u300c\u304b\u307c\u3061\u3083\u30bf\u30eb\u30c8\u300d\u300c\u30d8\u30fc\u30bc\u30eb\u30ca\u30c3\u30c4\u30e9\u30c6\u300d\u300c\u30b9\u30c8\u30ed\u30d9\u30ea\u30fc\u30d6\u30e9\u30a6\u30cb\u30fc\u300d\u300c\u30cf\u30cb\u30fc\u30bd\u30a4\u30e9\u30c6\u300d\u300c\u305f\u3063\u3077\u308a\u30c1\u30fc\u30ba\u3068\u304d\u306e\u3053\u306e\u30d1\u30cb\u30fc\u30cb\u300d\u65b0\u767a\u58f2\u3002&lt;/span&gt;\n-      &lt;/li&gt;\n-      &lt;li class=\"NewsList__item\"&gt;\n-        &lt;time class=\"NewsList__head\" datatime=\"2016-09-01\"&gt;2016.09.01&lt;/time&gt;\n-        &lt;span class=\"NewsList__body\"&gt;\u55b6\u696d\u6642\u9593\u5909\u66f4\u306b\u95a2\u3059\u308b\u304a\u77e5\u3089\u305b&lt;/span&gt;\n-      &lt;/li&gt;\n-      &lt;li class=\"NewsList__item\"&gt;\n-        &lt;time class=\"NewsList__head\" datatime=\"2016-08-20\"&gt;2016.08.20&lt;/time&gt;\n-        &lt;span class=\"NewsList__body\"&gt;\u938c\u5009\u5e97\u30cb\u30e5\u30fc\u30aa\u30fc\u30d7\u30f3&lt;/span&gt;\n-      &lt;/li&gt;\n-      &lt;li class=\"NewsList__item\"&gt;\n-        &lt;time class=\"NewsList__head\" datatime=\"2016-08-10\"&gt;2016.08.10&lt;/time&gt;\n-        &lt;span class=\"NewsList__body\"&gt;\u590f\u5b63\u9650\u5b9a\u3002\u30de\u30f3\u30b4\u30fc\u30b9\u30e0\u30fc\u30b8\u30fc\u767a\u58f2&lt;/span&gt;\n-      &lt;/li&gt;\n-      &lt;li class=\"NewsList__item\"&gt;\n-        &lt;time class=\"NewsList__head\" datatime=\"2016-04-02\"&gt;2016.04.02&lt;/time&gt;\n-        &lt;span class=\"NewsList__body\"&gt;[\u671f\u9593\u9650\u5b9a]\u3055\u304f\u3089\u62b9\u8336\u30e9\u30c6\u8ca9\u58f2\u958b\u59cb&lt;/span&gt;\n-      &lt;/li&gt;\n-    &lt;/ol&gt;\n-  &lt;/section&gt;\n+&lt;section class=\"Section l-column\"&gt;\n+  &lt;div class=\"Section__head\"&gt;\n+    &lt;h2 class=\"sectionLabel\"&gt;News&lt;/h2&gt;\n+  &lt;/div&gt;\n+  &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2016-10-12\"&gt;2016.10.12&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u300c\u304b\u307c\u3061\u3083\u30bf\u30eb\u30c8\u300d\u300c\u30d8\u30fc\u30bc\u30eb\u30ca\u30c3\u30c4\u30e9\u30c6\u300d\u300c\u30b9\u30c8\u30ed\u30d9\u30ea\u30fc\u30d6\u30e9\u30a6\u30cb\u30fc\u300d\u300c\u30cf\u30cb\u30fc\u30bd\u30a4\u30e9\u30c6\u300d\u300c\u305f\u3063\u3077\u308a\u30c1\u30fc\u30ba\u3068\u304d\u306e\u3053\u306e\u30d1\u30cb\u30fc\u30cb\u300d\u65b0\u767a\u58f2\u3002&lt;/span&gt;\n+    &lt;/li&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2016-09-01\"&gt;2016.09.01&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u55b6\u696d\u6642\u9593\u5909\u66f4\u306b\u95a2\u3059\u308b\u304a\u77e5\u3089\u305b&lt;/span&gt;\n+    &lt;/li&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2016-08-20\"&gt;2016.08.20&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u938c\u5009\u5e97\u30cb\u30e5\u30fc\u30aa\u30fc\u30d7\u30f3&lt;/span&gt;\n+    &lt;/li&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2016-08-10\"&gt;2016.08.10&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u590f\u5b63\u9650\u5b9a\u3002\u30de\u30f3\u30b4\u30fc\u30b9\u30e0\u30fc\u30b8\u30fc\u767a\u58f2&lt;/span&gt;\n+    &lt;/li&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2016-04-02\"&gt;2016.04.02&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;[\u671f\u9593\u9650\u5b9a]\u3055\u304f\u3089\u62b9\u8336\u30e9\u30c6\u8ca9\u58f2\u958b\u59cb&lt;/span&gt;\n+    &lt;/li&gt;\n+  &lt;/ol&gt;\n &lt;/section&gt;\n\n &lt;div class=\"l-column u-mt60px u-mb100px\"&gt;\n@@ -148,4 +147,4 @@\n       &lt;%= image_tag('top/top_banner_2.jpg', class:'l-fitImg', alt:'Dummy banner') %&gt;\n     &lt;/a&gt;\n   &lt;/div&gt;\n-&lt;/div&gt;\n+&lt;/div&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#84c7aa1","title":"\u30b3\u30df\u30c3\u30c8: 84c7aa1","text":""},{"location":"journal/20170116/#_11","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\uff08\u30b3\u30e1\u30f3\u30c8\u8ffd\u52a0\uff09\n</code></pre>"},{"location":"journal/20170116/#_12","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/base/_mixins.scss</li> <li>M app/assets/stylesheets/base/_reset.scss</li> <li>M app/assets/stylesheets/base/_variables.scss</li> <li>M app/assets/stylesheets/components/_form.scss</li> <li>M app/assets/stylesheets/components/_iconPanel.scss</li> <li>M app/assets/stylesheets/components/_imageSlide.scss</li> <li>M app/assets/stylesheets/components/_newsList.scss</li> <li>M app/assets/stylesheets/components/_overlayPanel.scss</li> <li>M app/assets/stylesheets/components/common/_footer.scss</li> <li>M app/assets/stylesheets/components/common/_header.scss</li> <li>M app/assets/stylesheets/components/common/_menu.scss</li> <li>M app/assets/stylesheets/components/common/_section.scss</li> <li>M app/assets/stylesheets/components/common/_sns.scss</li> <li>M app/assets/stylesheets/components/parts/_labels.scss</li> <li>M app/assets/stylesheets/components/parts/_layouts.scss</li> <li>M app/assets/stylesheets/pages/_article.scss</li> <li>M app/assets/stylesheets/pages/_campaign.scss</li> <li>M app/assets/stylesheets/pages/_index.scss</li> <li>M app/assets/stylesheets/utils/_arrangements.scss</li> </ul>"},{"location":"journal/20170116/#_13","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 84c7aa11c68de0f70ba5df8d796ea11c8c16fae0\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 17:14:01 2017 +0900\n\n    \u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\uff08\u30b3\u30e1\u30f3\u30c8\u8ffd\u52a0\uff09\n\ndiff --git a/app/assets/stylesheets/base/_mixins.scss b/app/assets/stylesheets/base/_mixins.scss\nindex 1eb54ff..3911835 100644\n--- a/app/assets/stylesheets/base/_mixins.scss\n+++ b/app/assets/stylesheets/base/_mixins.scss\n@@ -1,18 +1,30 @@\n-//fonts\n+@charset 'utf-8';\n+\n+// ===========================\n+// Font mixins\n+// ===========================\n+\n+/// \u30d5\u30a9\u30f3\u30c8\u5207\u66ffmixin(\u30bf\u30a4\u30c8\u30eb\u30d5\u30a9\u30f3\u30c8\u7528)\n @mixin title-font() {\n   font-family: $font-sub;\n   font-weight: 400;\n }\n+/// \u30d5\u30a9\u30f3\u30c8\u5207\u66ffmixin(\u30e1\u30cb\u30e5\u30fc\u7528)\n @mixin menu-font() {\n   font-family: $font-sub;\n   font-weight: 300;\n }\n-//Media Queries\n+\n+/// \u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u8868\u793a\u7528\u30e1\u30c7\u30a3\u30a2\u30af\u30a8\u30eamixin\n+/// @param {number} [$sp-max-width] - \u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\n @mixin mq-sp($max: $sp-max-width) {\n   @media only screen and (max-width: #{$max}) {\n-    @content\n+    @content;\n   }\n }\n+\n+/// \u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u8868\u793a\u7528\u30e1\u30c7\u30a3\u30a2\u30af\u30a8\u30eamixin\n+/// @param {number} [$sp-max-width] - \u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\n @mixin mq-pc($min: $pc-min-width) {\n   @media only screen and (min-width: #{$min}) {\n     @content;\ndiff --git a/app/assets/stylesheets/base/_reset.scss b/app/assets/stylesheets/base/_reset.scss\nindex cd2af85..5ff7e11 100644\n--- a/app/assets/stylesheets/base/_reset.scss\n+++ b/app/assets/stylesheets/base/_reset.scss\n@@ -1,3 +1,8 @@\n+@charset 'utf-8';\n+\n+// ===========================\n+// Reset\n+// ===========================\n @import \"./lib/sanitize\";\n\n :root, html, body {\n@@ -19,4 +24,4 @@ a {\n a:hover {\n   text-decoration: none;\n   color: $color-link;\n-}\n\\ No newline at end of file\n+}\ndiff --git a/app/assets/stylesheets/base/_variables.scss b/app/assets/stylesheets/base/_variables.scss\nindex 53d409c..e3a5b8a 100644\n--- a/app/assets/stylesheets/base/_variables.scss\n+++ b/app/assets/stylesheets/base/_variables.scss\n@@ -1,19 +1,30 @@\n-$color-base: #fbf7fe;\n+@charset 'utf-8';\n+\n+// colors\n+$color-white: #fff;\n+$color-black: #252525;\n+\n+$color-base: #fbf7f3;\n $color-main-text: #474747;\n $color-link: #878378;\n+\n $color-reverse-line: #fff;\n $color-reverse-fill: #252525;\n-//sizes\n+\n+\n+// sizes\n $base-content-width: 1180px;\n $space-unit: 20px;\n $sp-space-unit: 15px;\n $column-space: $space-unit*2;\n-$color-black: #252525;\n-$color-main-text: #474747;\n-$color-white: #fff;\n+\n+// paths\n+$image-path: \"../images/\";\n+\n+// fonts\n $font-sub: 'Lato';\n-//break points\n+\n+// break points\n $sp-max-width: 640px;\n $pc-min-width: 641px;\n-\n $sp-menu-width: 200px;\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/_form.scss b/app/assets/stylesheets/components/_form.scss\nindex 9fe83d1..4ba9e32 100644\n--- a/app/assets/stylesheets/components/_form.scss\n+++ b/app/assets/stylesheets/components/_form.scss\n@@ -1,3 +1,9 @@\n+// =====================\n+// FormStyle\n+// ---------------------\n+// \u30d5\u30a9\u30fc\u30e0\n+// =====================\n+\n .Form {\n   margin: auto;\n   max-width: 400px;\ndiff --git a/app/assets/stylesheets/components/_iconPanel.scss b/app/assets/stylesheets/components/_iconPanel.scss\nindex d03298e..40a9c42 100644\n--- a/app/assets/stylesheets/components/_iconPanel.scss\n+++ b/app/assets/stylesheets/components/_iconPanel.scss\n@@ -1,26 +1,35 @@\n+@charset 'utf-8';\n+\n+// =====================\n+// IconPanel\n+// ---------------------\n+// \u30a2\u30a4\u30b3\u30f3\u3064\u304d\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u30e1\u30cb\u30e5\u30fc\n+// =====================\n+\n .IconPanel {\n   display: flex;\n-  flex-direction: column;\n   align-items: center;\n+  flex-direction: column;\n   cursor: pointer;\n   @include mq-sp {\n     display: block;\n     padding: $space-unit 0;\n   }\n+\n   &amp;__head {\n     padding: $space-unit;\n-    font-size: 18px;\n     text-align: center;\n+    font-size: 18px;\n     @include mq-sp {\n+      text-align: left;\n       margin-left: 52px;\n       padding: 0 0 15px;\n-      text-align: left;\n       font-size: 16px;\n     }\n   }\n   &amp;__body {\n-    max-width: 100%;\n     padding: $space-unit*1.5;\n+    max-width: 100%;\n     line-height: 1.5;\n     @include mq-sp {\n       margin-left: 52px;\n@@ -28,7 +37,7 @@\n       font-size: 12px;\n     }\n   }\n-  //Font Awesome\u3067\u30a2\u30a4\u30b3\u30f3\u3092\u8a2d\u5b9a\u3059\u308b\n+  // font-awesome\u3067\u30a2\u30a4\u30b3\u30f3\u3092\u8a2d\u5b9a\u3059\u308b\n   &amp;__icon {\n     margin-bottom: $space-unit;\n     padding: $space-unit/2;\ndiff --git a/app/assets/stylesheets/components/_imageSlide.scss b/app/assets/stylesheets/components/_imageSlide.scss\nindex 32cd903..2c2b18d 100644\n--- a/app/assets/stylesheets/components/_imageSlide.scss\n+++ b/app/assets/stylesheets/components/_imageSlide.scss\n@@ -1,23 +1,31 @@\n-//Carousel\n+@charset 'utf-8';\n+\n+// =====================\n+// ImageSlide\n+// ---------------------\n+// \u753b\u50cf\u30ab\u30eb\u30fc\u30bb\u30eb\n+// =====================\n+\n .ImageSlide {\n   position: relative;\n   display: flex;\n   flex-direction: column;\n   overflow: hidden;\n-  //\u753b\u50cf\u306e\u30e9\u30c3\u30d1\u30fc\n+  // \u753b\u50cf\u306e\u30e9\u30c3\u30d1\u30fc\n   &amp;__main {\n     display: flex;\n     flex-wrap: nowrap;\n   }\n-  //\u753b\u50cf\uff11\u3064\u5206\n+  // \u753b\u50cf1\u3064\u5206\n   &amp;__item {\n     flex: 0 0 80%;\n   }\n-  //\u672c\u4f53\u753b\u50cf\n+  // \u753b\u50cf\u672c\u4f53\uff1a\u9ad8\u3055\u306b\u5408\u308f\u305b\u3066\u30a2\u30b9\u6bd4\u3092\u4fdd\u3064\u6307\u5b9a\n   &amp;__image {\n     width: 100%;\n     height: auto;\n   }\n+  // \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u30fc\u9818\u57df\n   &amp;__sub {\n     position: relative;\n     top: -40px;\n@@ -27,27 +35,31 @@\n       top: -20px;\n     }\n   }\n+  // \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u30fc\u306e\u25cb\u3072\u3068\u3064\u3076\u3093\n   &amp;__dot {\n     display: block;\n     overflow: hidden;\n-    text-indent: 100%;\n-    white-space: nowrap;\n-    cursor: pointer;\n+    margin-right: 20px;\n     width: 20px;\n     height: 20px;\n     border: 1px solid $color-black;\n     border-radius: 10px;\n-    margin-right: 20px;\n+    text-indent: 100%;\n+    white-space: nowrap;\n+    cursor: pointer;\n     &amp;:last-child {\n       margin-right: 0;\n     }\n+    &amp;:hover {\n+      background: rgba($color-black, .7);\n+    }\n     &amp;.isActive {\n       background: $color-black;\n     }\n     @include mq-sp {\n+      margin-right: 10px;\n       width: 10px;\n       height: 10px;\n-      margin-right: 10px;\n     }\n   }\n }\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/_newsList.scss b/app/assets/stylesheets/components/_newsList.scss\nindex 737a67b..91ec144 100644\n--- a/app/assets/stylesheets/components/_newsList.scss\n+++ b/app/assets/stylesheets/components/_newsList.scss\n@@ -1,16 +1,28 @@\n+@charset 'utf-8';\n+\n+// =====================\n+// NewsList\n+// ---------------------\n+// \u304a\u77e5\u3089\u305b\u4e00\u89a7\n+// =====================\n+\n .NewsList {\n   display: table;\n-  border-spacing: 0px $space-unit/2;\n+  border-spacing: 0 $space-unit/2;\n   border-collapse: separate;\n   @include mq-sp {\n     font-size: 12px;\n   }\n-  &amp;__item {\n+\n+  &amp;__item\u3000{\n     display: table-row;\n   }\n   &amp;__head {\n     display: table-cell;\n     padding-right: $column-space;\n+    @include mq-sp {\n+      font-size: 12px;\n+    }\n   }\n   &amp;__body {\n     display: table-cell;\ndiff --git a/app/assets/stylesheets/components/_overlayPanel.scss b/app/assets/stylesheets/components/_overlayPanel.scss\nindex 91c312c..6e4a31b 100644\n--- a/app/assets/stylesheets/components/_overlayPanel.scss\n+++ b/app/assets/stylesheets/components/_overlayPanel.scss\n@@ -1,3 +1,11 @@\n+@charset 'utf-8';\n+\n+// =====================\n+// Overlay Panel\n+// ---------------------\n+// \u5199\u771f\u80cc\u666f\u306e\u4e0a\u306b\u30c6\u30ad\u30b9\u30c8\u3092\u8f09\u305b\u308b\u30d1\u30cd\u30eb\n+// =====================\n+\n .OverlayPanel {\n   $root: &amp;;\n   display: flex;\n@@ -6,11 +14,11 @@\n   align-items: center;\n   width: 100%;\n   padding: 10% 20%;\n-  background-color: rgba(0,0,0,0.2);\n+  background-color: rgba(0,0,0,.2);\n   color: $color-white;\n   &amp;:hover {\n-    background-color: rgba(0,0,0,0.4);\n     color: $color-white;\n+    background-color: rgba(0,0,0,.4);\n   }\n   &amp;__head {\n     margin: 0 10%;\ndiff --git a/app/assets/stylesheets/components/common/_footer.scss b/app/assets/stylesheets/components/common/_footer.scss\nindex 536a905..9cf04c1 100644\n--- a/app/assets/stylesheets/components/common/_footer.scss\n+++ b/app/assets/stylesheets/components/common/_footer.scss\n@@ -1,3 +1,11 @@\n+@charset 'utf-8';\n+\n+// =====================\n+// Footer\n+// ---------------------\n+// \u30b0\u30ed\u30fc\u30d0\u30eb\u30d5\u30c3\u30bf\u30fc\n+// =====================\n+\n .Footer {\n   display: flex;\n   justify-content: space-between;\n@@ -30,4 +38,4 @@\n       color: $color-white;\n     }\n   }\n-}\n\\ No newline at end of file\n+}\ndiff --git a/app/assets/stylesheets/components/common/_header.scss b/app/assets/stylesheets/components/common/_header.scss\nindex f3dacfb..2a68577 100644\n--- a/app/assets/stylesheets/components/common/_header.scss\n+++ b/app/assets/stylesheets/components/common/_header.scss\n@@ -1,3 +1,5 @@\n+@charset 'utf-8';\n+\n .Header {\n   display: flex;\n   justify-content: flex-start;\n@@ -8,9 +10,9 @@\n     text-align: center;\n   }\n   &amp;__body {\n-    flex: 3 1 auto\n+    flex: 3 1 auto;\n+    font-size: 16px;\n   }\n-  //\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u7528\u30cf\u30f3\u30d0\u30fc\u30ac\u30fc\u30dc\u30bf\u30f3\n   &amp;__button {\n     @include mq-pc {\n       display: none;\ndiff --git a/app/assets/stylesheets/components/common/_menu.scss b/app/assets/stylesheets/components/common/_menu.scss\nindex be59a6b..0880b2c 100644\n--- a/app/assets/stylesheets/components/common/_menu.scss\n+++ b/app/assets/stylesheets/components/common/_menu.scss\n@@ -1,3 +1,5 @@\n+@charset 'utf-8';\n+\n .Menu {\n   display: flex;\n   justify-content: space-around;\n@@ -10,11 +12,13 @@\n     padding: 10px 15px;\n     text-transform: uppercase;\n   }\n+  // \u30d5\u30c3\u30bf\u30fc\u306e\u30e1\u30cb\u30e5\u30fc\n   &amp;--sub {\n     flex-direction: column;\n   }\n }\n\n+\n .SpMenu {\n   @include mq-sp {\n     position: fixed;\n@@ -23,21 +27,25 @@\n     left: 0;\n     z-index: -1;\n     opacity: 0;\n-    transition: opacity 0s 0.3s ease;\n+    transition: opacity 0s .3s ease;\n     .isOpened &amp; {\n       opacity: 1;\n       transition: opacity 0s 0s ease;\n     }\n   }\n+  // \u672c\u6587\u306e\u30e9\u30c3\u30d1\u30fc\n   &amp;__wrapper {\n     left: 0;\n     width: 100%;\n+    transition: left .3s 0s ease;\n     &amp;.isOpened {\n       position: fixed;\n       left: $sp-menu-width;\n-      box-shadow: 0 1px 10px rgba(black, 0.3);\n+      z-index: 1;\n+      box-shadow: 0 1px 10px rgba(black, .3);\n     }\n   }\n+  // \u30e1\u30cb\u30e5\u30fc\u4ee5\u5916\u306e\u90e8\u5206\u3092\u30bf\u30c3\u30d7\u3067\u30e1\u30cb\u30e5\u30fc\u958b\u9589\u3059\u308b\u305f\u3081\u306e\u30aa\u30fc\u30d0\u30fc\u30ec\u30a4\n   &amp;__overlay {\n     position: relative;\n     display: none;\ndiff --git a/app/assets/stylesheets/components/common/_section.scss b/app/assets/stylesheets/components/common/_section.scss\nindex d8a3d1e..e89cfb5 100644\n--- a/app/assets/stylesheets/components/common/_section.scss\n+++ b/app/assets/stylesheets/components/common/_section.scss\n@@ -1,3 +1,11 @@\n+@charset 'utf-8';\n+\n+// =====================\n+// Section\n+// ---------------------\n+// \u30da\u30fc\u30b8\u306e\u7bc0\n+// =====================\n+\n .Section {\n   margin-bottom: $space-unit*2;\n   &amp;__item {\ndiff --git a/app/assets/stylesheets/components/common/_sns.scss b/app/assets/stylesheets/components/common/_sns.scss\nindex 678074e..5f0337f 100644\n--- a/app/assets/stylesheets/components/common/_sns.scss\n+++ b/app/assets/stylesheets/components/common/_sns.scss\n@@ -1,3 +1,11 @@\n+@charset 'utf-8';\n+\n+// =====================\n+// SNS\n+// ---------------------\n+// SNS\u306e\u30ea\u30b9\u30c8\n+// =====================\n+\n .SNS {\n   display: flex;\n   align-items: center;\n@@ -5,19 +13,19 @@\n   @include mq-sp {\n     font-size: 16px;\n   }\n+  &amp;__item {\n+    margin-right: 20px;\n+    &amp;:last-child {\n+      margin-right: 0;\n+    }\n+  }\n   &amp;__text {\n     position: absolute;\n     clip: rect(1px, 1px, 1px, 1px);\n     width: 1px;\n     height: 1px;\n-    padding: 0;\n-    border: 0;\n+    padding:0;\n+    border:0;\n     overflow: hidden;\n   }\n-  &amp;__item {\n-    margin-right: 20px;\n-    &amp;:last-child {\n-      margin-right: 0;\n-    }\n-  }\n-}\n\\ No newline at end of file\n+}\ndiff --git a/app/assets/stylesheets/components/parts/_labels.scss b/app/assets/stylesheets/components/parts/_labels.scss\nindex f277178..4ca79c0 100644\n--- a/app/assets/stylesheets/components/parts/_labels.scss\n+++ b/app/assets/stylesheets/components/parts/_labels.scss\n@@ -1,9 +1,10 @@\n+// \u7bc0\u306e\u898b\u51fa\u3057\n .sectionLabel {\n   display: flex;\n-  flex: 1 1 auto;\n   align-items: center;\n-  padding-top: 14px;\n-  padding-bottom: 14px;\n+  flex: 1 1 auto;\n+  padding-top: $space-unit;\n+  padding-bottom: $space-unit*2;\n   color: $color-main-text;\n   text-transform: uppercase;\n   font-size: 22px;\n@@ -11,11 +12,11 @@\n   @include menu-font;\n   &amp;::before,\n   &amp;::after {\n-    content: '';\n     display: block;\n     flex: 1 0 10%;\n     height: 0;\n     border-bottom: 1px solid $color-main-text;\n+    content: '';\n   }\n   &amp;::before {\n     margin-right: 22px;\n@@ -25,6 +26,7 @@\n   }\n }\n\n+// \u30ed\u30b4\n .logo {\n   display: inline-block;\n   padding: 10px 0;\n@@ -33,4 +35,25 @@\n   font-weight: lighter;\n   font-size: 26px;\n   @include menu-font;\n+}\n+\n+// \u8a18\u4e8b\u306e\u5927\u898b\u51fa\u3057\n+.articleLabelL {\n+  padding: 0 0 20px;\n+  font-weight: normal;\n+  font-size: 34px;\n+}\n+\n+// \u8a18\u4e8b\u306e\u4e2d\u898b\u51fa\u3057\n+.articleLabelM {\n+  padding: 40px 0 20px;\n+  font-weight: normal;\n+  font-size: 26px;\n+}\n+\n+// \u8a18\u4e8b\u306e\u5c0f\u898b\u51fa\u3057\n+.articleLabelS {\n+  padding: 40px 0 20px;\n+  font-weight: normal;\n+  font-size: 26px;\n }\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/parts/_layouts.scss b/app/assets/stylesheets/components/parts/_layouts.scss\nindex 942bff5..28f311a 100644\n--- a/app/assets/stylesheets/components/parts/_layouts.scss\n+++ b/app/assets/stylesheets/components/parts/_layouts.scss\n@@ -1,19 +1,59 @@\n-.l-column {\n+// =====================\n+// \u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u6307\u5b9a\u3059\u308b\u7279\u5225\u306a\u8981\u7d20\n+// =====================\n+\n+// 2\u30ab\u30e9\u30e0\u69cb\u6210\u306e\u30e9\u30c3\u30d1\u30fc\n+.l-content {\n+  display: flex;\n+  justify-content: space-between;\n   flex: 0 1 $base-content-width;\n+  flex-wrap: nowrap;\n+  margin: 0 auto;\n   max-width: $base-content-width;\n+  @include mq-sp {\n+    flex-direction: column;\n+  }\n+}\n+\n+// \u30e1\u30a4\u30f3\u30ab\u30e9\u30e0\n+.l-main {\n+  flex: 0 2 auto;\n+  margin: 0 $space-unit;\n+  max-width: 865px;\n+}\n+\n+// \u30b5\u30d6\u30ab\u30e9\u30e0\n+.l-sub {\n+  flex: 0 0 275px;\n+  margin: 0 $space-unit;\n+  margin-left: $column-space;\n+  @include mq-sp {\n+    flex: 1 1 100%;\n+    margin: $sp-space-unit;\n+  }\n+}\n+\n+// 1\u30ab\u30e9\u30e0\u3067\u30e1\u30a4\u30f3\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u5e45\u306b\u7d0d\u3081\u308b\n+.l-column {\n+  flex: 0 1 $base-content-width;\n   margin: 0 auto;\n   padding: 0 $space-unit;\n+  max-width: $base-content-width;\n   @include mq-sp {\n     padding: 0 $sp-space-unit*2;\n     width: auto;\n   }\n }\n+\n+// \u6a2a\u4e26\u3073\u30e9\u30c3\u30d1\u30fc\n .l-row {\n   display: flex;\n   justify-content: space-between;\n   flex-wrap: wrap;\n   margin: 0 auto;\n }\n+\n+// \u30e1\u30a4\u30f3\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u5e45\u306b\u5bfe\u3057\u30661/2\u306e\u5e45\u306b\u3059\u308b\n .l-halfColumn {\n   flex: 1 0 0px;\n   max-width: ($base-content-width - $column-space)/2;\n@@ -28,15 +68,8 @@\n     margin-right: 0;\n   }\n }\n-.l-halfTile {\n-  display: flex;\n-  flex: 1 1 50%;\n-  margin: 0;\n-  padding: 0;\n-  @include mq-sp {\n-    flex-basis: 100%;\n-  }\n-}\n+\n+// \u30e1\u30a4\u30f3\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u5e45\u306b\u5bfe\u3057\u30661/4\u306e\u5e45\u306b\u3059\u308b\n .l-quaterColumn {\n   flex: 1 0 0px;\n   max-width: ($base-content-width - $column-space*3)/4;\n@@ -50,16 +83,12 @@\n     margin: 0;\n   }\n }\n-.l-fitImg {\n-  max-width: 100%;\n-  max-height: 100%;\n-}\n+\n+// \u30e1\u30a4\u30f3\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u5e45\u306b\u5bfe\u3057\u30661/3\u306e\u5e45\u306b\u3059\u308b\n .l-tripartitionColumn {\n-  flex: 1\n-  0 0px;\n+  flex: 1 0 0px;\n   max-width: ($base-content-width - $column-space*(2/3))/3;\n   margin-right: $column-space*2/3;\n-  width: ($base-content-width - $column-space*6)/3;\n   @include mq-sp {\n     flex: 1 1 100%;\n     max-width: none;\n@@ -69,51 +98,20 @@\n     margin-right: 0;\n   }\n }\n-//\u8a18\u4e8b\u306e\u5927\u898b\u51fa\u3057\n-.articleLabelL {\n-  padding: 0 0 20px;\n-  font-weight: normal;\n-  font-size: 34px;\n-}\n\n-//\u8a18\u4e8b\u306e\u4e2d\u898b\u51fa\u3057\n-.articleLabelM {\n-  padding: 40px 0 20px;\n-  font-weight: normal;\n-  font-size: 26px;\n-}\n-\n-//\u8a18\u4e8b\u306e\u5c0f\u898b\u51fa\u3057\n-.articleLabelS {\n-  padding: 40px 0 20px;\n-  font-weight: normal;\n-  font-size: 26px;\n-}\n-\n-.l-content {\n+// 100%\u753b\u9762\u5e45\u306b\u5bfe\u3057\u30661/2\u306e\u5e45\u306b\u3059\u308b\n+.l-halfTile {\n   display: flex;\n-  justify-content: space-between;\n-  flex: 0 1 $base-content-width;\n-  flex-wrap: nowrap;\n-  margin: 0 auto;\n-  max-width: $base-content-width;\n+  flex: 1 1 50%;\n+  margin: 0;\n+  padding: 0;\n   @include mq-sp {\n-    flex-direction: column;\n+    flex-basis: 100%;\n   }\n }\n\n-.l-main {\n-  flex: 0 2 auto;\n-  margin: 0 $space-unit;\n-  max-width: 865px;\n-}\n-\n-.l-sub {\n-  flex: 0 0 275px;\n-  margin: 0 $space-unit;\n-  margin-left: $column-space;\n-  @include mq-sp {\n-    flex: 1 1 100%;\n-    margin: $sp-space-unit;\n-  }\n+// \u6a2a\u5e45\u306bfit\u3059\u308b\u753b\u50cf\n+.l-fitImg {\n+  max-width: 100%;\n+  max-height: 100%;\n }\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/pages/_article.scss b/app/assets/stylesheets/pages/_article.scss\nindex f8d93f1..7538487 100644\n--- a/app/assets/stylesheets/pages/_article.scss\n+++ b/app/assets/stylesheets/pages/_article.scss\n@@ -1,4 +1,10 @@\n-//\u8a18\u4e8b\u5168\u4f53\u306e\u69cb\u6210\n+@charset 'utf-8';\n+\n+// =====================\n+// \u8a18\u4e8b\u30da\u30fc\u30b8\u56fa\u6709\u306e\u30b9\u30bf\u30a4\u30eb\n+// =====================\n+\n+// \u8a18\u4e8b\u5168\u4f53\u306e\u69cb\u6210\n .Article {\n   &amp;__text {\n     margin-bottom: $space-unit*2;\n@@ -10,7 +16,7 @@\n   }\n }\n\n-//\u30ea\u30b9\u30c8\n+// \u30ea\u30b9\u30c8\n .textList {\n   margin-bottom: $space-unit*2;\n   margin-left: $space-unit*2;\n@@ -19,7 +25,7 @@\n   }\n }\n\n-//\u30b5\u30e0\u30cd\u30a4\u30eb\u4ed8\u304d\u306e\u30a2\u30a4\u30c6\u30e0\n+// \u30b5\u30e0\u30cd\u30a4\u30eb\u4ed8\u304d\u306e\u30a2\u30a4\u30c6\u30e0\n .ThumbnailItem {\n   display: flex;\n   align-items: center;\n@@ -29,4 +35,4 @@\n     width: 80px;\n     height: 80px;\n   }\n-}\n\\ No newline at end of file\n+}\ndiff --git a/app/assets/stylesheets/pages/_campaign.scss b/app/assets/stylesheets/pages/_campaign.scss\nindex dbc6b84..249f906 100644\n--- a/app/assets/stylesheets/pages/_campaign.scss\n+++ b/app/assets/stylesheets/pages/_campaign.scss\n@@ -1,8 +1,14 @@\n+@charset 'utf-8';\n+\n+// =====================\n+// \u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u30da\u30fc\u30b8\u56fa\u6709\u306e\u30b9\u30bf\u30a4\u30eb\n+// =====================\n+\n .Campaign {\n   &amp;__sweets {\n     display: block;\n     padding: 10% $space-unit;\n-    background-image: image_url('campaign/sweets.jpg'),linear-gradient(to right, #e4e8ea 0%,#e4e8ea 47%,#f6f8f7 80%,#f6f8f7 100%);\n+    background-image: image_url('campaign/sweets.jpg'), linear-gradient(to right,  #e4e8ea 0%,#e4e8ea  47%,#f6f8f7 80%,#f6f8f7 100%);\n     background-position: right bottom;\n     background-size: cover;\n     background-repeat: no-repeat;\n@@ -11,21 +17,24 @@\n       padding: $space-unit*2;\n       background-size: contain;\n     }\n+\n     &amp;__main {\n       display: flex;\n-      flex-direction: column;\n       align-items: center;\n+      flex-direction: column;\n       width: 66%;\n       @include mq-sp {\n         width: 100%;\n       }\n     }\n+\n     &amp;__head {\n       margin-bottom: $space-unit*2;\n       text-transform: uppercase;\n       font-weight: normal;\n       font-size: 22px;\n     }\n+\n     &amp;__body {\n       margin-bottom: $space-unit;\n       font-size: 14px;\n@@ -33,6 +42,7 @@\n         font-size: 12px;\n       }\n     }\n+\n     &amp;__button {\n       padding: 8px 16px;\n       border: 1px solid $color-link;\ndiff --git a/app/assets/stylesheets/pages/_index.scss b/app/assets/stylesheets/pages/_index.scss\nindex 3be23af..ba04b7b 100644\n--- a/app/assets/stylesheets/pages/_index.scss\n+++ b/app/assets/stylesheets/pages/_index.scss\n@@ -1,12 +1,19 @@\n+@charset 'utf-8';\n+\n+// =====================\n+// \u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u56fa\u6709\u306e\u30b9\u30bf\u30a4\u30eb\n+// =====================\n+\n .IndexPage {\n   &amp;__foodMenu,\n   &amp;__drinkMenu {\n-    background-repeat: no-repeat;\n+    display: flex;\n     background-position: center center;\n     background-size: cover;\n+    background-repeat: no-repeat;\n   }\n   &amp;__drinkMenu {\n-    background-image: image_url('top/menu_drink.jpg')\n+    background-image: image_url('top/menu_drink.jpg');\n   }\n   &amp;__foodMenu {\n     background-image: image_url('top/menu_food.jpg');\ndiff --git a/app/assets/stylesheets/utils/_arrangements.scss b/app/assets/stylesheets/utils/_arrangements.scss\nindex f0ff359..be3ef4b 100644\n--- a/app/assets/stylesheets/utils/_arrangements.scss\n+++ b/app/assets/stylesheets/utils/_arrangements.scss\n@@ -1,6 +1,13 @@\n+@charset 'utf-8';\n+\n+// ===========================\n+// Arrangement utils\n+// ===========================\n+\n .u-mt60px {\n   margin-top: 60px;\n }\n+\n .u-mb100px {\n   margin-bottom: 100px;\n }\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#b6b31f6","title":"\u30b3\u30df\u30c3\u30c8: b6b31f6","text":""},{"location":"journal/20170116/#_14","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Flex\u3092\u6d3b\u7528\u3057\u3066\u30b5\u30a4\u30c9\u30d0\u30fc\u306e\u3042\u308b\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u4f5c\u308b\n</code></pre>"},{"location":"journal/20170116/#_15","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/components/parts/_layouts.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>A app/assets/stylesheets/pages/_article.scss</li> </ul>"},{"location":"journal/20170116/#_16","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit b6b31f66d60c30ba6d53bdd4e3a4966e2a871060\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 17:09:55 2017 +0900\n\n    Flex\u3092\u6d3b\u7528\u3057\u3066\u30b5\u30a4\u30c9\u30d0\u30fc\u306e\u3042\u308b\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u4f5c\u308b\n\ndiff --git a/app/assets/stylesheets/components/parts/_layouts.scss b/app/assets/stylesheets/components/parts/_layouts.scss\nindex ac615b5..942bff5 100644\n--- a/app/assets/stylesheets/components/parts/_layouts.scss\n+++ b/app/assets/stylesheets/components/parts/_layouts.scss\n@@ -68,4 +68,52 @@\n   &amp;:last-child {\n     margin-right: 0;\n   }\n+}\n+//\u8a18\u4e8b\u306e\u5927\u898b\u51fa\u3057\n+.articleLabelL {\n+  padding: 0 0 20px;\n+  font-weight: normal;\n+  font-size: 34px;\n+}\n+\n+//\u8a18\u4e8b\u306e\u4e2d\u898b\u51fa\u3057\n+.articleLabelM {\n+  padding: 40px 0 20px;\n+  font-weight: normal;\n+  font-size: 26px;\n+}\n+\n+//\u8a18\u4e8b\u306e\u5c0f\u898b\u51fa\u3057\n+.articleLabelS {\n+  padding: 40px 0 20px;\n+  font-weight: normal;\n+  font-size: 26px;\n+}\n+\n+.l-content {\n+  display: flex;\n+  justify-content: space-between;\n+  flex: 0 1 $base-content-width;\n+  flex-wrap: nowrap;\n+  margin: 0 auto;\n+  max-width: $base-content-width;\n+  @include mq-sp {\n+    flex-direction: column;\n+  }\n+}\n+\n+.l-main {\n+  flex: 0 2 auto;\n+  margin: 0 $space-unit;\n+  max-width: 865px;\n+}\n+\n+.l-sub {\n+  flex: 0 0 275px;\n+  margin: 0 $space-unit;\n+  margin-left: $column-space;\n+  @include mq-sp {\n+    flex: 1 1 100%;\n+    margin: $sp-space-unit;\n+  }\n }\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex ec7aaf4..02d93af 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -71,6 +71,8 @@\n\n @import \"./pages/campaign\";\n\n+@import \"./pages/article\";\n+\n // ===========================\n // Utils\n // ===========================\ndiff --git a/app/assets/stylesheets/pages/_article.scss b/app/assets/stylesheets/pages/_article.scss\nnew file mode 100644\nindex 0000000..f8d93f1\n--- /dev/null\n+++ b/app/assets/stylesheets/pages/_article.scss\n@@ -0,0 +1,32 @@\n+//\u8a18\u4e8b\u5168\u4f53\u306e\u69cb\u6210\n+.Article {\n+  &amp;__text {\n+    margin-bottom: $space-unit*2;\n+  }\n+  &amp;__image {\n+    margin-bottom: $space-unit*2;\n+    width: 100%;\n+    height: auto;\n+  }\n+}\n+\n+//\u30ea\u30b9\u30c8\n+.textList {\n+  margin-bottom: $space-unit*2;\n+  margin-left: $space-unit*2;\n+  &amp;__item {\n+    list-style: disc;\n+  }\n+}\n+\n+//\u30b5\u30e0\u30cd\u30a4\u30eb\u4ed8\u304d\u306e\u30a2\u30a4\u30c6\u30e0\n+.ThumbnailItem {\n+  display: flex;\n+  align-items: center;\n+  padding-bottom: $space-unit;\n+  &amp;__thumb {\n+    margin-right: $space-unit;\n+    width: 80px;\n+    height: 80px;\n+  }\n+}\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#8b51aba","title":"\u30b3\u30df\u30c3\u30c8: 8b51aba","text":""},{"location":"journal/20170116/#_17","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Article\u30da\u30fc\u30b8\u3092\u4f5c\u6210\u3059\u308b\n</code></pre>"},{"location":"journal/20170116/#_18","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/images/article/article1.jpg</li> <li>A app/assets/images/article/article_entry1.jpg</li> <li>A app/assets/images/article/article_sub1.jpg</li> <li>A app/assets/images/article/article_sub2.jpg</li> <li>A app/assets/images/article/article_sub3.jpg</li> <li>A app/controllers/staff/article_controller.rb</li> <li>A app/views/staff/article/index.html.erb</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170116/#_19","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8b51aba6cf27acef6ee07091cbd81b30fcf22a2f\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 17:06:51 2017 +0900\n\n    Article\u30da\u30fc\u30b8\u3092\u4f5c\u6210\u3059\u308b\n\ndiff --git a/app/assets/images/article/article1.jpg b/app/assets/images/article/article1.jpg\nnew file mode 100755\nindex 0000000..303325a\nBinary files /dev/null and b/app/assets/images/article/article1.jpg differ\ndiff --git a/app/assets/images/article/article_entry1.jpg b/app/assets/images/article/article_entry1.jpg\nnew file mode 100755\nindex 0000000..9c9222d\nBinary files /dev/null and b/app/assets/images/article/article_entry1.jpg differ\ndiff --git a/app/assets/images/article/article_sub1.jpg b/app/assets/images/article/article_sub1.jpg\nnew file mode 100755\nindex 0000000..396be6d\nBinary files /dev/null and b/app/assets/images/article/article_sub1.jpg differ\ndiff --git a/app/assets/images/article/article_sub2.jpg b/app/assets/images/article/article_sub2.jpg\nnew file mode 100755\nindex 0000000..2ce9773\nBinary files /dev/null and b/app/assets/images/article/article_sub2.jpg differ\ndiff --git a/app/assets/images/article/article_sub3.jpg b/app/assets/images/article/article_sub3.jpg\nnew file mode 100755\nindex 0000000..09fb416\nBinary files /dev/null and b/app/assets/images/article/article_sub3.jpg differ\ndiff --git a/app/controllers/staff/article_controller.rb b/app/controllers/staff/article_controller.rb\nnew file mode 100644\nindex 0000000..ad2a69e\n--- /dev/null\n+++ b/app/controllers/staff/article_controller.rb\n@@ -0,0 +1,4 @@\n+class Staff::ArticleController &lt; ApplicationController\n+  def index\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/views/staff/article/index.html.erb b/app/views/staff/article/index.html.erb\nnew file mode 100644\nindex 0000000..0d5bf68\n--- /dev/null\n+++ b/app/views/staff/article/index.html.erb\n@@ -0,0 +1,64 @@\n+&lt;div class=\"l-content\"&gt;\n+  &lt;article class=\"Article  l-main\"&gt;\n+    &lt;section class=\"Section\"&gt;\n+      &lt;h1 class=\"articleLabelL\"&gt;\u30b3\u30fc\u30d2\u30fc\u30b9\u30af\u30fc\u30eb&lt;/h1&gt;\n+      &lt;h2 class=\"articleLabelM\"&gt;\u30b3\u30fc\u30d2\u30fc\u306e\u6a5f\u80fd&lt;/h2&gt;\n+      &lt;p class=\"Article__text\"&gt;\u30b3\u30fc\u30d2\u30fc\u306f\u767a\u898b\u5f53\u521d\u304b\u3089\u7720\u6c17\u9632\u6b62\u3084\u75b2\u52b4\u56de\u5fa9\u306a\u3069\u306e\u4f5c\u7528\u3092\u6301\u3064\u3053\u3068\u306b\u6ce8\u76ee\u3055\u308c\u3066\u304d\u305f\u85ac\u7528\u690d\u7269\u3067\u3059\u3002\u3057\u304b\u3057\u305d\u306e\u4e00\u65b9\u3001\u30b3\u30fc\u30d2\u30fc\u304c\u904e\u5ea6\u306e\u523a\u6fc0\u5264\u3084\u8208\u596e\u5264\u3068\u3057\u3066\u50cd\u304f\u53ef\u80fd\u6027\u3092\u6307\u6458\u3057\u3001\u656c\u9060\u3059\u308b\u4eba\u3082\u5b58\u5728\u3057\u3066\u3044\u307e\u3059\u3002\u8fd1\u5e74\u306b\u306a\u3063\u3066\u30b3\u30fc\u30d2\u30fc\u306e\u5236\u764c\u4f5c\u7528\u3084\u6297\u9178\u5316\u4f5c\u7528\u304c\u6ce8\u76ee\u3055\u308c\u59cb\u3081\u3066\u304d\u307e\u3057\u305f\u3002\u30b3\u30fc\u30d2\u30fc\u304c\u4eba\u4f53\u306b\u53ca\u307c\u3059\u4f5c\u7528\u306f\u533b\u5b66\u30fb\u85ac\u5b66\u7684\u306a\u95a2\u5fc3\u3092\u96c6\u3081\u3001\u3055\u307e\u3056\u307e\u306a\u77e5\u898b\u304c\u5f97\u3089\u308c\u3066\u3044\u307e\u3059\u3002&lt;br&gt;\u203b\u5f15\u7528\uff1awikipedia&lt;/p&gt;\n+\n+      &lt;h3 class=\"sectionLabel\"&gt;\u304a\u3044\u3057\u3044\u30b3\u30fc\u30d2\u30fc\u306e\u6df9\u308c\u65b9&lt;/h3&gt;\n+\n+      &lt;%= image_tag('article/article1.jpg',class:\"Article__image\",alt:\"\", width:\"865\", height:\"380\" ) %&gt;\n+      &lt;p class=\"Article__text\"&gt;\u3055\u3042\u3001\u304a\u3044\u3057\u3044\u30b3\u30fc\u30d2\u30fc\u3092\u3044\u308c\u307e\u3057\u3087\u3046\u3002\u3042\u306a\u305f\u306f\u3069\u3093\u306a\u30b3\u30fc\u30d2\u30fc\u304c\u304a\u597d\u307f\u3067\u3057\u3087\u3046\u304b\uff1f\u2028\u4eca\u5ea6\u306e\u4f11\u65e5\u306b\u306f\u3001\u65b0\u3057\u3044\u30b3\u30fc\u30d2\u30fc\u8c46\u3092\u8cb7\u3044\u306b\u51fa\u304b\u3051\u307e\u305b\u3093\u304b\uff1f&lt;/p&gt;\n+      &lt;p class=\"Article__text\"&gt;\u3054\u81ea\u5206\u3067\u6df9\u308c\u305f\u30b3\u30fc\u30d2\u30fc\u306f\u304a\u5e97\u3067\u98f2\u3080\u30b3\u30fc\u30d2\u30fc\u3068\u306f\u307e\u305f\u9055\u3063\u305f\u5473\u308f\u3044\u3092\u611f\u3058\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30bf\u30f3\u30c8\u30b3\u30fc\u30d2\u30fc\u3082\u304d\u3061\u3093\u3068\u3044\u308c\u308b\u3068\u4e0a\u8cea\u306a\u5473\u3068\u9999\u308a\u3092\u582a\u80fd\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u7f8e\u5473\u3057\u3044\u30b3\u30fc\u30d2\u30fc\u306e\u6df9\u308c\u65b9\u306e\u30dd\u30a4\u30f3\u30c8\u306f\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\u3002&lt;/p&gt;\n+      &lt;ol class=\"textList\"&gt;\n+        &lt;li class=\"textList__item\"&gt;\uff11. \u30b3\u30fc\u30d2\u30fc\u306f\u65b0\u9bae\u306a\u3082\u306e\u3092\u4f7f\u7528\u3002&lt;/li&gt;\n+        &lt;li class=\"textList__item\"&gt;\uff12. \u6c34\u306f\u6c72\u307f\u305f\u3066\u306e\u65b0\u3057\u3044\u3082\u306e\u3092\u4f7f\u3063\u3066\u6cb8\u3059\u3002&lt;/li&gt;\n+        &lt;li class=\"textList__item\"&gt;\uff13. \u62bd\u51fa\u5668\u5177\u3084\u30ab\u30c3\u30d7\u306f\u6e05\u6f54\u306a\u7269\u3092\u4f7f\u7528\u3057\u3001\u3042\u3089\u304b\u3058\u3081\u6e29\u3081\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002&lt;/li&gt;\n+        &lt;li class=\"textList__item\"&gt;\uff14. \u30b3\u30fc\u30d2\u30fc\u306f\u62bd\u51fa\u5668\u5177\u306b\u5408\u308f\u305b\u3066\u633d\u3044\u305f\u3082\u306e\u3092\u4f7f\u7528\u3002&lt;/li&gt;\n+        &lt;li class=\"textList__item\"&gt;\uff15. \u30b3\u30fc\u30d2\u30fc\u3068\u6c34\u306e\u91cf\u306f\u3001\u9069\u6b63\u306a\u5206\u91cf\u3092\u4f7f\u7528\u3057\u307e\u3059\uff08\u30d1\u30c3\u30b1\u30fc\u30b8\u306a\u3069\u306e\u89e3\u8aac\u3092\u53c2\u8003\u306b\uff09\u3002&lt;/li&gt;\n+        &lt;li class=\"textList__item\"&gt;\uff16. \u62bd\u51fa\u6642\u9593\u3084\u62bd\u51fa\u6e29\u5ea6\u3092\u5b88\u308a\u307e\u3057\u3087\u3046\u3002&lt;/li&gt;\n+      &lt;/ol&gt;\n+      &lt;p class=\"Article__text\"&gt;\u305d\u306e\u4ed6\u306b\u3082\u3001&lt;a href=\"#\"&gt;\u30da\u30fc\u30d1\u30fc\u30c9\u30ea\u30c3\u30d7\u5f0f&lt;/a&gt;\u3001&lt;a href=\"#\"&gt;\u30b5\u30a4\u30d5\u30a9\u30f3\u5f0f&lt;/a&gt;\u3001&lt;a href=\"#\"&gt;\u30cd\u30eb\u30fb\u30c9\u30ea\u30c3\u30d7\u5f0f&lt;/a&gt;\u3001&lt;a href=\"#\"&gt;\u30a8\u30b9\u30d7\u30ec\u30c3\u30bd\u5f0f&lt;/a&gt;\u306a\u3069\u69d8\u3005\u306a\u6df9\u308c\u65b9\u304c\u3042\u308a\u307e\u3059\u3002\u81ea\u5206\u597d\u307f\u306e\u5165\u308c\u65b9\u3092\u898b\u3064\u3051\u3066\u307f\u3066\u306f\u3044\u304b\u304c\u3067\u3057\u3087\u3046\u304b\u3002&lt;a href=\"http://coffee.ajca.or.jp/\"&gt;\u5168\u65e5\u672c\u30b3\u30fc\u30d2\u30fc\u5354\u4f1a&lt;/a&gt;\u3092\u53c2\u8003\u306b\u3057\u3066\u304a\u308a\u307e\u3059&lt;/p&gt;\n+    &lt;/section&gt;\n+  &lt;/article&gt;&lt;!--/.l-main--&gt;\n+\n+  &lt;div class=\"l-sub\"&gt;\n+    &lt;div class=\"Section\"&gt;\n+      &lt;div class=\"EntryPanel EntryPanel--vertical\"&gt;\n+        &lt;div class=\"EntryPanel__sub\"&gt;\n+          &lt;%= image_tag(\"article/article_entry1.jpg\", class:\"EntryPanel__thumb\", alt:\"\",  width:\"275\", height:\"200\") %&gt;\n+        &lt;/div&gt;\n+        &lt;div class=\"EntryPanel__main\"&gt;\n+          &lt;h3 class=\"EntryPanel__head\"&gt;\u30b5\u30d6\u30a8\u30f3\u30c8\u30ea\u30fc&lt;/h3&gt;\n+          &lt;div class=\"EntryPanel__body\"&gt;\n+            \u5927\u5207\u306a\u3042\u306e\u65b9\u306b\u3042\u308a\u304c\u3068\u3046\u3092\u5c4a\u3051\u305f\u3044\u3002\u5fc3\u3082\u4f53\u3082\u6e29\u307e\u308b\u7d20\u6575\u306a\u30ae\u30d5\u30c8\u3002\u30d7\u30ec\u30bc\u30f3\u30c8\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u5b9f\u65bd\u4e2d\uff01\n+          &lt;/div&gt;\n+          &lt;div class=\"EntryPanel__foot\"&gt;&lt;a href=\"#\" class=\"button\"&gt;READ MORE&lt;/a&gt;&lt;/div&gt;\n+        &lt;/div&gt;\n+      &lt;/div&gt;\n+    &lt;/div&gt;\n+\n+    &lt;h4 class=\"sectionLabel\"&gt;\u30b3\u30fc\u30d2\u30fc\u306e\u77e5\u8b58\u3092\u6df1\u3081\u3088\u3046&lt;/h4&gt;\n+    &lt;ul class=\"textList\"&gt;\n+      &lt;li class=\"textList__item\"&gt;&lt;a href=\"#\"&gt;\u30b3\u30fc\u30d2\u30fc\u306e\u6728&lt;/a&gt;&lt;/li&gt;\n+      &lt;li class=\"textList__item\"&gt;&lt;a href=\"#\"&gt;\u30b3\u30fc\u30d2\u30fc\u306e\u751f\u8c46&lt;/a&gt;&lt;/li&gt;\n+      &lt;li class=\"textList__item\"&gt;&lt;a href=\"#\"&gt;\u30b3\u30fc\u30d2\u30fc\u306e\u7119\u714e&lt;/a&gt;&lt;/li&gt;\n+    &lt;/ul&gt;\n+\n+    &lt;h4 class=\"sectionLabel\"&gt;\u5065\u5eb7\u30d6\u30ed\u30b0&lt;/h4&gt;\n+    &lt;a href=\"#\" class=\"ThumbnailItem\"&gt;\n+      &lt;%= image_tag(\"article/article_sub1.jpg\",class:\"ThumbnailItem__thumb\", alt:\"\",  width:\"80\", height:\"80\") %&gt;\n+      &lt;p class=\"Thumbnail__text\"&gt;\u30d5\u30eb\u30fc\u30c4\u3068\u30b3\u30fc\u30d2\u30fc&lt;/p&gt;\n+    &lt;/a&gt;\n+    &lt;a href=\"#\" class=\"ThumbnailItem\"&gt;\n+      &lt;%= image_tag(\"article/article_sub2.jpg\", class:\"ThumbnailItem__thumb\", alt:\"\",  width:\"80\", height:\"80\") %&gt;\n+      &lt;p class=\"Thumbnail__text\"&gt;\u30b3\u30fc\u30d2\u30fc\u3068\u7f8e\u5bb9&lt;/p&gt;\n+    &lt;/a&gt;\n+    &lt;a href=\"#\" class=\"ThumbnailItem\"&gt;\n+      &lt;%= image_tag(\"article/article_sub3.jpg\", class:\"ThumbnailItem__thumb\", alt:\"\", width:\"80\", height:\"80\") %&gt;\n+      &lt;p class=\"Thumbnail__text\"&gt;\u30ab\u30d5\u30a7\u30a4\u30f3\u306e\u52b9\u80fd&lt;/p&gt;\n+    &lt;/a&gt;\n+\n+\n+  &lt;/div&gt;&lt;!--/.l-sub--&gt;\n+&lt;/div&gt;\n\\ No newline at end of file\ndiff --git a/config/routes.rb b/config/routes.rb\nindex cd671b9..29cbde1 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -1,6 +1,7 @@\n Rails.application.routes.draw do\n   namespace :staff do\n     root 'top#index'\n+    get 'article/index'\n     get 'campaign/index'\n     get 'campaign_submit', to: 'campaign#submit'\n   end\n</code></pre>"},{"location":"journal/20170116/#_20","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170116/#18f175f","title":"\u30b3\u30df\u30c3\u30c8: 18f175f","text":""},{"location":"journal/20170116/#_21","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d5\u30a9\u30fc\u30e0\u3092\u4f5c\u6210\u3059\u308b\n</code></pre>"},{"location":"journal/20170116/#_22","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/stylesheets/components/_form.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/controllers/staff/campaign_controller.rb</li> <li>M app/views/staff/campaign/index.html.erb</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170116/#_23","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 18f175f437e35904e89bffb5c6c5de9c619ba8e7\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 17:01:08 2017 +0900\n\n    \u30d5\u30a9\u30fc\u30e0\u3092\u4f5c\u6210\u3059\u308b\n\ndiff --git a/app/assets/stylesheets/components/_form.scss b/app/assets/stylesheets/components/_form.scss\nnew file mode 100644\nindex 0000000..9fe83d1\n--- /dev/null\n+++ b/app/assets/stylesheets/components/_form.scss\n@@ -0,0 +1,15 @@\n+.Form {\n+  margin: auto;\n+  max-width: 400px;\n+  &amp;__input {\n+    display: block;\n+    margin-bottom: $space-unit*2;\n+    padding: 5px 10px;\n+    width: 100%;\n+    border: 1px solid $color-main-text;\n+  }\n+  &amp;__button {\n+    display: block;\n+    margin: auto;\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 0bc16a4..ec7aaf4 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -58,6 +58,9 @@\n // \u304a\u3057\u3089\u305b\u4e00\u89a7\n @import \"./components/newsList\";\n\n+// \u30d5\u30a9\u30fc\u30e0\n+@import \"./components/form\";\n+\n //font-awesome\n @import \"font-awesome\";\n\ndiff --git a/app/controllers/staff/campaign_controller.rb b/app/controllers/staff/campaign_controller.rb\nindex fc13aa9..8ed36b0 100644\n--- a/app/controllers/staff/campaign_controller.rb\n+++ b/app/controllers/staff/campaign_controller.rb\n@@ -1,4 +1,8 @@\n class Staff::CampaignController &lt; ApplicationController\n   def index\n   end\n+\n+  def submit\n+    redirect_to :staff_root\n+  end\n end\n\\ No newline at end of file\ndiff --git a/app/views/staff/campaign/index.html.erb b/app/views/staff/campaign/index.html.erb\nindex ecf30b4..414407f 100644\n--- a/app/views/staff/campaign/index.html.erb\n+++ b/app/views/staff/campaign/index.html.erb\n@@ -112,4 +112,16 @@\n       &lt;/div&gt;\n     &lt;/div&gt;\n   &lt;/div&gt;\n-&lt;/section&gt;\n\\ No newline at end of file\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column\"&gt;\n+  &lt;div class=\"Section__head\"&gt;\n+    &lt;h2 class=\"sectionLabel\"&gt;More Info&lt;/h2&gt;\n+  &lt;/div&gt;\n+  &lt;%= form_tag(staff_campaign_submit_path, :method =&gt; :get, class:'Form') do %&gt;\n+      &lt;%= text_field :campaign, :name, placeholder:'NAME',size:40,class: 'Form__input' %&gt;\n+      &lt;%= text_field :campaign, :mail, placeholder:'MAIL',size:40,class: 'Form__input' %&gt;\n+      &lt;%= button_tag('SUBSCRIBE',class:'button Form__button') %&gt;\n+  &lt;% end %&gt;\n+\n+&lt;/section&gt;\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 8c661b4..cd671b9 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -2,6 +2,7 @@ Rails.application.routes.draw do\n   namespace :staff do\n     root 'top#index'\n     get 'campaign/index'\n+    get 'campaign_submit', to: 'campaign#submit'\n   end\n\n   namespace :admin do\n</code></pre>"},{"location":"journal/20170116/#_24","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170116/#af1eda2","title":"\u30b3\u30df\u30c3\u30c8: af1eda2","text":""},{"location":"journal/20170116/#_25","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6a2a\u5e45\u3044\u3063\u3071\u3044\u306e\u753b\u50cf\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3068\u300c\u30a2\u30a4\u30b3\u30f3+\u30c6\u30ad\u30b9\u30c8\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u300d\n</code></pre>"},{"location":"journal/20170116/#_26","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/images/campaign/sweets.jpg</li> <li>M app/assets/stylesheets/main.scss</li> <li>A app/assets/stylesheets/pages/_campaign.scss</li> <li>M app/views/staff/campaign/index.html.erb</li> </ul>"},{"location":"journal/20170116/#_27","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit af1eda2612c167a8bb57a14e7669f6807d577b04\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 16:45:49 2017 +0900\n\n    \u6a2a\u5e45\u3044\u3063\u3071\u3044\u306e\u753b\u50cf\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3068\u300c\u30a2\u30a4\u30b3\u30f3+\u30c6\u30ad\u30b9\u30c8\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u300d\n\ndiff --git a/app/assets/images/campaign/sweets.jpg b/app/assets/images/campaign/sweets.jpg\nnew file mode 100755\nindex 0000000..c028649\nBinary files /dev/null and b/app/assets/images/campaign/sweets.jpg differ\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 4811499..0bc16a4 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -66,6 +66,8 @@\n // ===========================\n @import \"./pages/index\";\n\n+@import \"./pages/campaign\";\n+\n // ===========================\n // Utils\n // ===========================\ndiff --git a/app/assets/stylesheets/pages/_campaign.scss b/app/assets/stylesheets/pages/_campaign.scss\nnew file mode 100644\nindex 0000000..dbc6b84\n--- /dev/null\n+++ b/app/assets/stylesheets/pages/_campaign.scss\n@@ -0,0 +1,44 @@\n+.Campaign {\n+  &amp;__sweets {\n+    display: block;\n+    padding: 10% $space-unit;\n+    background-image: image_url('campaign/sweets.jpg'),linear-gradient(to right, #e4e8ea 0%,#e4e8ea 47%,#f6f8f7 80%,#f6f8f7 100%);\n+    background-position: right bottom;\n+    background-size: cover;\n+    background-repeat: no-repeat;\n+    color: $color-link;\n+    @include mq-sp {\n+      padding: $space-unit*2;\n+      background-size: contain;\n+    }\n+    &amp;__main {\n+      display: flex;\n+      flex-direction: column;\n+      align-items: center;\n+      width: 66%;\n+      @include mq-sp {\n+        width: 100%;\n+      }\n+    }\n+    &amp;__head {\n+      margin-bottom: $space-unit*2;\n+      text-transform: uppercase;\n+      font-weight: normal;\n+      font-size: 22px;\n+    }\n+    &amp;__body {\n+      margin-bottom: $space-unit;\n+      font-size: 14px;\n+      @include mq-sp {\n+        font-size: 12px;\n+      }\n+    }\n+    &amp;__button {\n+      padding: 8px 16px;\n+      border: 1px solid $color-link;\n+      color: $color-link;\n+      text-align: center;\n+      font-size: 16px;\n+    }\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/app/views/staff/campaign/index.html.erb b/app/views/staff/campaign/index.html.erb\nindex 4aba120..ecf30b4 100644\n--- a/app/views/staff/campaign/index.html.erb\n+++ b/app/views/staff/campaign/index.html.erb\n@@ -23,6 +23,7 @@\n   &lt;/div&gt;\n &lt;/div&gt;\n\n+\n &lt;section class=\"Section l-column\"&gt;\n   &lt;div class=\"Section__head\"&gt;\n     &lt;h2 class=\"sectionLabel\"&gt;CAMPAIGN&lt;/h2&gt;\n@@ -94,4 +95,21 @@\n       &lt;/a&gt;\n     &lt;/div&gt;\n   &lt;/div&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section\"&gt;\n+  &lt;div class=\"Section__item Campaign__sweets\"&gt;\n+    &lt;div class=\"Campaign__sweets__main\"&gt;\n+      &lt;div class=\"Campaign__sweets__main\"&gt;\n+        &lt;h2 class=\"Campaign__sweets__head\"&gt;Special Sweets&lt;/h2&gt;\n+        &lt;div class=\"Campaign__sweets__body\"&gt;\n+          &lt;p&gt;\u6bce\u65e5\u65e5\u66ff\u308f\u308a\u3067\u30b3\u30fc\u30d2\u30fc\u306b\u5408\u3046\u30b9\u30a3\u30fc\u30c4\u3092\u3054\u7528\u610f\u3057\u3066\u3044\u307e\u3059\u3002&lt;/p&gt;\n+          &lt;p&gt;\u30aa\u30fc\u30d7\u30f3\u4ee5\u6765\u4eba\u6c17No.1\u306e\u30b9\u30a3\u30fc\u30c4\u30e1\u30cb\u30e5\u30fcSPECIAL NUTS CHOCOLATE\u306f&lt;br&gt;\u30d1\u30ea\u306e\u8001\u8217\u3067\u4fee\u884c\u3092\u7a4d\u3093\u3060\u30c1\u30e7\u30b3\u30e9\u30c6\u30a3\u30a8\u304c\u63d0\u6848\u3059\u308b\u3068\u3063\u3066\u304a\u304d\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8\u3002&lt;/p&gt;\n+          &lt;p&gt;\u9999\u3070\u3057\u3044\u30d8\u30fc\u30bc\u30eb\u30ca\u30c3\u30c4\u306e\u304b\u304a\u308a\u306b\u7518\u9178\u3063\u3071\u3044\u30af\u30e9\u30f3\u30d9\u30ea\u30fc\u304c\u30b3\u30fc\u30d2\u30fc\u3068\u30d9\u30b9\u30c8\u30de\u30c3\u30c1\uff01&lt;/p&gt;\n+          &lt;p&gt;\u4ed6\u3067\u306f\u5473\u308f\u3048\u306a\u3044\u9b54\u6cd5\u306e\u304f\u3061\u3069\u3051\u3092\u305c\u3072\u3001\u304a\u305f\u3081\u3057\u304f\u3060\u3055\u3044\u3002&lt;/p&gt;\n+        &lt;/div&gt;\n+        &lt;a href=\"#\" class=\"Campaign__sweets__button\"&gt;OUR SWEETS&lt;/a&gt;\n+      &lt;/div&gt;\n+    &lt;/div&gt;\n+  &lt;/div&gt;\n &lt;/section&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#4ffd065","title":"\u30b3\u30df\u30c3\u30c8: 4ffd065","text":""},{"location":"journal/20170116/#_28","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>3\u3064\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u4e26\u3093\u3067\u3044\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u5236\u4f5c\n</code></pre>"},{"location":"journal/20170116/#_29","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/images/campaign/cp_entry1.jpg</li> <li>A app/assets/images/campaign/cp_entry2.jpg</li> <li>A app/assets/images/campaign/cp_entry3.jpg</li> <li>M app/assets/stylesheets/components/_entryPanel.scss</li> <li>M app/assets/stylesheets/components/parts/_layouts.scss</li> <li>M app/views/staff/campaign/index.html.erb</li> </ul>"},{"location":"journal/20170116/#_30","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 4ffd065c8282acb2077ee3491f114f8384258224\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 16:40:25 2017 +0900\n\n    3\u3064\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u4e26\u3093\u3067\u3044\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u5236\u4f5c\n\ndiff --git a/app/assets/images/campaign/cp_entry1.jpg b/app/assets/images/campaign/cp_entry1.jpg\nnew file mode 100755\nindex 0000000..8835759\nBinary files /dev/null and b/app/assets/images/campaign/cp_entry1.jpg differ\ndiff --git a/app/assets/images/campaign/cp_entry2.jpg b/app/assets/images/campaign/cp_entry2.jpg\nnew file mode 100755\nindex 0000000..edd29c2\nBinary files /dev/null and b/app/assets/images/campaign/cp_entry2.jpg differ\ndiff --git a/app/assets/images/campaign/cp_entry3.jpg b/app/assets/images/campaign/cp_entry3.jpg\nnew file mode 100755\nindex 0000000..25c0c77\nBinary files /dev/null and b/app/assets/images/campaign/cp_entry3.jpg differ\ndiff --git a/app/assets/stylesheets/components/_entryPanel.scss b/app/assets/stylesheets/components/_entryPanel.scss\nindex 50ee7d2..0ed450e 100644\n--- a/app/assets/stylesheets/components/_entryPanel.scss\n+++ b/app/assets/stylesheets/components/_entryPanel.scss\n@@ -32,4 +32,7 @@\n     margin-top: 10px;\n     text-align: right;\n   }\n+  &amp;--vertical {\n+    display: block;\n+  }\n }\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/parts/_layouts.scss b/app/assets/stylesheets/components/parts/_layouts.scss\nindex a461b90..ac615b5 100644\n--- a/app/assets/stylesheets/components/parts/_layouts.scss\n+++ b/app/assets/stylesheets/components/parts/_layouts.scss\n@@ -53,4 +53,19 @@\n .l-fitImg {\n   max-width: 100%;\n   max-height: 100%;\n+}\n+.l-tripartitionColumn {\n+  flex: 1\n+  0 0px;\n+  max-width: ($base-content-width - $column-space*(2/3))/3;\n+  margin-right: $column-space*2/3;\n+  width: ($base-content-width - $column-space*6)/3;\n+  @include mq-sp {\n+    flex: 1 1 100%;\n+    max-width: none;\n+    margin: 0;\n+  }\n+  &amp;:last-child {\n+    margin-right: 0;\n+  }\n }\n\\ No newline at end of file\ndiff --git a/app/views/staff/campaign/index.html.erb b/app/views/staff/campaign/index.html.erb\nindex cf9a00a..4aba120 100644\n--- a/app/views/staff/campaign/index.html.erb\n+++ b/app/views/staff/campaign/index.html.erb\n@@ -21,4 +21,77 @@\n     &lt;span class=\"ImageSlide__dot js-slide-point\"&gt;image2&lt;/span&gt;\n     &lt;span class=\"ImageSlide__dot js-slide-point\"&gt;image3&lt;/span&gt;\n   &lt;/div&gt;\n-&lt;/div&gt;\n\\ No newline at end of file\n+&lt;/div&gt;\n+\n+&lt;section class=\"Section l-column\"&gt;\n+  &lt;div class=\"Section__head\"&gt;\n+    &lt;h2 class=\"sectionLabel\"&gt;CAMPAIGN&lt;/h2&gt;\n+  &lt;/div&gt;\n+  &lt;div class=\"l-row\"&gt;\n+    &lt;section class=\"EntryPanel EntryPanel--vertical l-tripartitionColumn\"&gt;\n+      &lt;div class=\"EntryPanel__sub\"&gt;\n+        &lt;%= image_tag('campaign/cp_entry1.jpg',class:'EntryPanel__thumb',alt:'\u30d5\u30eb\u30fc\u30c4\u3068\u30b0\u30e9\u30ce\u30fc\u30e9') %&gt;\n+      &lt;/div&gt;\n+      &lt;div class=\"EntryPanel__main\"&gt;\n+        &lt;h3 class=\"EntryPanel__head\"&gt;1\u65e5\u306e\u306f\u3058\u307e\u308a\u306b&lt;/h3&gt;\n+        &lt;div class=\"EntryPanel__body\"&gt;\n+          \u5927\u5207\u306a\u3042\u306e\u65b9\u306b\u3042\u308a\u304c\u3068\u3046\u3092\u5c4a\u3051\u305f\u3044\u3002&lt;br&gt;\u5fc3\u3082\u4f53\u3082\u6e29\u307e\u308b\u7d20\u6575\u306a\u30ae\u30d5\u30c8\u3002&lt;br&gt;\u30d7\u30ec\u30bc\u30f3\u30c8\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u5b9f\u65bd\u4e2d\n+        &lt;/div&gt;\n+        &lt;div class=\"EntryPanel__foot\"&gt;&lt;a href=\"#\" class=\"button\"&gt;READ MORE&lt;/a&gt;&lt;/div&gt;\n+      &lt;/div&gt;\n+    &lt;/section&gt;\n+\n+    &lt;section class=\"EntryPanel EntryPanel--vertical l-tripartitionColumn\"&gt;\n+      &lt;div class=\"EntryPanel__sub\"&gt;\n+        &lt;%= image_tag('campaign/cp_entry2.jpg',class:'EntryPanel__thumb',alt:'\u81ea\u5bb6\u88fd\u30b0\u30e9\u30ce\u30fc\u30e9\u3068\u30ab\u30d5\u30a7\u30aa\u30ec') %&gt;\n+      &lt;/div&gt;\n+      &lt;div class=\"EntryPanel__main\"&gt;\n+        &lt;h3 class=\"EntryPanel__head\"&gt;\u81ea\u5bb6\u88fd\u30b0\u30e9\u30ce\u30fc\u30e9&lt;/h3&gt;\n+        &lt;div class=\"EntryPanel__body\"&gt;\n+          \u5927\u5207\u306a\u3042\u306e\u65b9\u306b\u3042\u308a\u304c\u3068\u3046\u3092\u5c4a\u3051\u305f\u3044\u3002&lt;br&gt;\u5fc3\u3082\u4f53\u3082\u6e29\u307e\u308b\u7d20\u6575\u306a\u30ae\u30d5\u30c8\u3002&lt;br&gt;\u30d7\u30ec\u30bc\u30f3\u30c8\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u5b9f\u65bd\u4e2d\n+        &lt;/div&gt;\n+        &lt;div class=\"EntryPanel__foot\"&gt;&lt;a href=\"#\" class=\"button\"&gt;READ MORE&lt;/a&gt;&lt;/div&gt;\n+      &lt;/div&gt;\n+    &lt;/section&gt;\n+\n+    &lt;section class=\"EntryPanel EntryPanel--vertical l-tripartitionColumn\"&gt;\n+      &lt;div class=\"EntryPanel__sub\"&gt;\n+        &lt;%= image_tag('campaign/cp_entry3.jpg',class:'EntryPanel__thumb',alt:'\u81ea\u5bb6\u88fd\u30ec\u30e2\u30cd\u30fc\u30c9') %&gt;\n+      &lt;/div&gt;\n+      &lt;div class=\"EntryPanel__main\"&gt;\n+        &lt;h3 class=\"EntryPanel__head\"&gt;\u30d5\u30eb\u30fc\u30c4\u306e\u6075\u3067\u3042\u305f\u305f\u307e\u308b&lt;/h3&gt;\n+        &lt;div class=\"EntryPanel__body\"&gt;\n+          \u5927\u5207\u306a\u3042\u306e\u65b9\u306b\u3042\u308a\u304c\u3068\u3046\u3092\u5c4a\u3051\u305f\u3044\u3002&lt;br&gt;\u5fc3\u3082\u4f53\u3082\u6e29\u307e\u308b\u7d20\u6575\u306a\u30ae\u30d5\u30c8\u3002&lt;br&gt;\u30d7\u30ec\u30bc\u30f3\u30c8\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u5b9f\u65bd\u4e2d\n+        &lt;/div&gt;\n+        &lt;div class=\"EntryPanel__foot\"&gt;&lt;a href=\"#\" class=\"button\"&gt;READ MORE&lt;/a&gt;&lt;/div&gt;\n+      &lt;/div&gt;\n+    &lt;/section&gt;\n+  &lt;/div&gt;\n+\n+  &lt;div class=\"Section__item l-column l-row\"&gt;\n+    &lt;div class=\"l-row\"&gt;\n+      &lt;a class=\"IconPanel l-tripartitionColumn\"&gt;\n+        &lt;%= fa_icon 'heart', class:'IconPanel__icon' %&gt;\n+        &lt;h3 class=\"IconPanel__head\"&gt;\u9b54\u6cd5\u306e\u304f\u3061\u3069\u3051&lt;/h3&gt;\n+        &lt;p class=\"IconPanel__body\"&gt;\n+          SPECIAL NUTS CHOCOLATE\u306f\u6700\u4e0a\u7d1a\u306e\u30ab\u30ab\u30aa\u8c46\u3092\u4f7f\u7528\u3057\u3066\u4f5c\u3063\u3066\u304a\u308a\u307e\u3059\u3002&lt;br&gt;\u88fd\u6cd5\u306b\u3042\u3063\u305f\u914d\u5408\u3067\u4f5c\u308a\u51fa\u3059SWEETS\u306f\u307e\u3055\u306b\u7d76\u54c1\u3002\u9b54\u6cd5\u306e\u53e3\u6eb6\u3051\u3092\u3054\u4f53\u9a13\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n+        &lt;/p&gt;\n+      &lt;/a&gt;\n+      &lt;a class=\"IconPanel l-tripartitionColumn\"&gt;\n+        &lt;%= fa_icon 'leaf', class:'IconPanel__icon' %&gt;\n+        &lt;h3 class=\"IconPanel__head\"&gt;\u9078\u3073\u629c\u304b\u308c\u305f\u7d20\u6750&lt;/h3&gt;\n+        &lt;p class=\"IconPanel__body\"&gt;\n+          \u7d20\u6750\u306f\u4e16\u754c\u5404\u5730\u304b\u3089\u9078\u3073\u306c\u304b\u308c\u305f\u7d20\u6750\u306e\u307f\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u3058\u3063\u304f\u308a\u5473\u308f\u3063\u3066\u3001\u7d20\u6750\u306e\u9055\u3044\u3092\u611f\u3058\u3066\u304f\u3060\u3055\u3044\u3002\n+        &lt;/p&gt;\n+      &lt;/a&gt;\n+      &lt;a class=\"IconPanel l-tripartitionColumn\"&gt;\n+        &lt;%= fa_icon 'smile-o', class:'IconPanel__icon' %&gt;\n+        &lt;h3 class=\"IconPanel__head\"&gt;\u30d7\u30ec\u30bc\u30f3\u30c8\u306b\u3082&lt;/h3&gt;\n+        &lt;p class=\"IconPanel__body\"&gt;\n+          SPECIAL SWEETS\u306f\u30c6\u30a4\u30af\u30a2\u30a6\u30c8\u3082\u53ef\u80fd\u3067\u3059\u3002&lt;br&gt;\n+          \u304a\u5bb6\u3067\u306e\u30c6\u30a3\u30fc\u30bf\u30a4\u30e0\u3084\u3001\u53cb\u9054\u3078\u306e\u30d7\u30ec\u30bc\u30f3\u30c8\u306b\u3082\u3074\u3063\u305f\u308a\u3067\u3059\u3002\u30aa\u30ea\u30b8\u30ca\u30eb\u30de\u30b0\u30ab\u30c3\u30d7\u3068\u30b3\u30fc\u30d2\u30fc\u3001SPECIAL SWEETS\u306e\u30bb\u30c3\u30c8\u3082\u3042\u308a\u307e\u3059\u3002\n+        &lt;/p&gt;\n+      &lt;/a&gt;\n+    &lt;/div&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#98df9c6","title":"\u30b3\u30df\u30c3\u30c8: 98df9c6","text":""},{"location":"journal/20170116/#_31","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u30da\u30fc\u30b8\u306eHTML\u3092\u78ba\u8a8d\u3059\u308b\n</code></pre>"},{"location":"journal/20170116/#_32","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/controllers/staff/campaign_controller.rb</li> <li>A app/views/staff/campaign/index.html.erb</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170116/#_33","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 98df9c608df436b72089cd3d8b9d41d5246aa3aa\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 16:35:15 2017 +0900\n\n    \u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u30da\u30fc\u30b8\u306eHTML\u3092\u78ba\u8a8d\u3059\u308b\n\ndiff --git a/app/controllers/staff/campaign_controller.rb b/app/controllers/staff/campaign_controller.rb\nnew file mode 100644\nindex 0000000..fc13aa9\n--- /dev/null\n+++ b/app/controllers/staff/campaign_controller.rb\n@@ -0,0 +1,4 @@\n+class Staff::CampaignController &lt; ApplicationController\n+  def index\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/views/staff/campaign/index.html.erb b/app/views/staff/campaign/index.html.erb\nnew file mode 100644\nindex 0000000..cf9a00a\n--- /dev/null\n+++ b/app/views/staff/campaign/index.html.erb\n@@ -0,0 +1,24 @@\n+&lt;div class=\"ImageSlide Section\"&gt;\n+  &lt;ul id=\"Slide\" class=\"ImageSlide__main\"&gt;\n+    &lt;li class=\"ImageSlide__item js-slide-item\"&gt;\n+      &lt;a href=\"#\"&gt;\n+        &lt;%= image_tag('top/slide1.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n+      &lt;/a&gt;\n+    &lt;/li&gt;\n+    &lt;li class=\"ImageSlide__item js-slide-item\"&gt;\n+      &lt;a href=\"#\"&gt;\n+        &lt;%= image_tag('top/slide2.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n+      &lt;/a&gt;\n+    &lt;/li&gt;\n+    &lt;li class=\"ImageSlide__item js-slide-item\"&gt;\n+      &lt;a href=\"#\"&gt;\n+        &lt;%= image_tag('top/slide3.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n+      &lt;/a&gt;\n+    &lt;/li&gt;\n+  &lt;/ul&gt;\n+  &lt;div class=\"ImageSlide__sub\"&gt;\n+    &lt;span class=\"ImageSlide__dot js-slide-point\"&gt;image1&lt;/span&gt;\n+    &lt;span class=\"ImageSlide__dot js-slide-point\"&gt;image2&lt;/span&gt;\n+    &lt;span class=\"ImageSlide__dot js-slide-point\"&gt;image3&lt;/span&gt;\n+  &lt;/div&gt;\n+&lt;/div&gt;\n\\ No newline at end of file\ndiff --git a/config/routes.rb b/config/routes.rb\nindex de42cfb..8c661b4 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -1,6 +1,7 @@\n Rails.application.routes.draw do\n   namespace :staff do\n     root 'top#index'\n+    get 'campaign/index'\n   end\n\n   namespace :admin do\n</code></pre>"},{"location":"journal/20170116/#_34","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170116/#d0d4b9e","title":"\u30b3\u30df\u30c3\u30c8: d0d4b9e","text":""},{"location":"journal/20170116/#_35","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>WebFont\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\n</code></pre>"},{"location":"journal/20170116/#_36","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M config/initializers/assets.rb</li> </ul>"},{"location":"journal/20170116/#_37","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit d0d4b9ee830612adc81ba967663c26fca473d9d5\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 16:25:07 2017 +0900\n\n    WebFont\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\n\ndiff --git a/config/initializers/assets.rb b/config/initializers/assets.rb\nindex 2256f19..ac8c972 100644\n--- a/config/initializers/assets.rb\n+++ b/config/initializers/assets.rb\n@@ -9,3 +9,4 @@ Rails.application.config.assets.version = '1.0'\n # Precompile additional assets.\n # application.js, application.css, and all non-JS/CSS in app/assets folder are already added.\n # Rails.application.config.assets.precompile += %w( staff.css )\n+Rails.application.config.assets.paths &lt;&lt; Rails.root.join(\"app\", \"assets\", \"fonts\")\n</code></pre>"},{"location":"journal/20170116/#59815f3","title":"\u30b3\u30df\u30c3\u30c8: 59815f3","text":""},{"location":"journal/20170116/#_38","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u5404\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u5bfe\u5fdc\n</code></pre>"},{"location":"journal/20170116/#_39","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/javascripts/main.js</li> <li>M app/assets/stylesheets/base/_mixins.scss</li> <li>M app/assets/stylesheets/base/_variables.scss</li> <li>M app/assets/stylesheets/components/_entryPanel.scss</li> <li>M app/assets/stylesheets/components/_iconPanel.scss</li> <li>M app/assets/stylesheets/components/_imageSlide.scss</li> <li>M app/assets/stylesheets/components/_newsList.scss</li> <li>M app/assets/stylesheets/components/_overlayPanel.scss</li> <li>M app/assets/stylesheets/components/common/_footer.scss</li> <li>M app/assets/stylesheets/components/common/_header.scss</li> <li>M app/assets/stylesheets/components/common/_menu.scss</li> <li>M app/assets/stylesheets/components/common/_sns.scss</li> <li>M app/assets/stylesheets/components/parts/_layouts.scss</li> <li>M app/views/layouts/staff.html.erb</li> <li>M app/views/shared/_header.html.erb</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170116/#_40","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 59815f3479daf962805d69913441ab2132666720\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 16:18:36 2017 +0900\n\n    \u5404\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u5bfe\u5fdc\n\ndiff --git a/app/assets/javascripts/main.js b/app/assets/javascripts/main.js\nindex e46d703..ffd10d2 100644\n--- a/app/assets/javascripts/main.js\n+++ b/app/assets/javascripts/main.js\n@@ -1,5 +1,27 @@\n /* main.js */\n\n+/* \u30e1\u30cb\u30e5\u30fc */\n+(function(){\n+    function toggle(targetDOM, _className, callback) {\n+        var className = ' '+_className;\n+        return function(e) {\n+            if(targetDOM.className.indexOf(_className)&gt;-1) {\n+                targetDOM.className = targetDOM.className.replace(className, '');\n+            } else {\n+                targetDOM.className += className;\n+            }\n+        }\n+    }\n+    var menuButton = document.getElementById('menu-button'),\n+        wrapper = document.getElementById('wrapper'),\n+        overlay = document.getElementById('overlay'),\n+        toggleMenu = toggle(wrapper, 'isOpened');\n+\n+    menuButton.addEventListener('click', toggleMenu, false);\n+    overlay.addEventListener('click', toggleMenu, false);\n+\n+}());\n+\n /* \u753b\u50cf\u30b9\u30e9\u30a4\u30c0\u30fc */\n // @param {string} id - \u30e9\u30c3\u30d1\u30fc\u8981\u7d20\u306eid\n // @param {object} options - itemClassName, pointClassName, extra\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\ndiff --git a/app/assets/stylesheets/base/_mixins.scss b/app/assets/stylesheets/base/_mixins.scss\nindex d213cb1..1eb54ff 100644\n--- a/app/assets/stylesheets/base/_mixins.scss\n+++ b/app/assets/stylesheets/base/_mixins.scss\n@@ -8,7 +8,7 @@\n   font-weight: 300;\n }\n //Media Queries\n-@mixin mq-sq($max: $sp-max-width) {\n+@mixin mq-sp($max: $sp-max-width) {\n   @media only screen and (max-width: #{$max}) {\n     @content\n   }\ndiff --git a/app/assets/stylesheets/base/_variables.scss b/app/assets/stylesheets/base/_variables.scss\nindex 81980e2..53d409c 100644\n--- a/app/assets/stylesheets/base/_variables.scss\n+++ b/app/assets/stylesheets/base/_variables.scss\n@@ -14,4 +14,6 @@ $color-white: #fff;\n $font-sub: 'Lato';\n //break points\n $sp-max-width: 640px;\n-$pc-min-width: 641px;\n\\ No newline at end of file\n+$pc-min-width: 641px;\n+\n+$sp-menu-width: 200px;\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/_entryPanel.scss b/app/assets/stylesheets/components/_entryPanel.scss\nindex b12b500..50ee7d2 100644\n--- a/app/assets/stylesheets/components/_entryPanel.scss\n+++ b/app/assets/stylesheets/components/_entryPanel.scss\n@@ -24,6 +24,9 @@\n   &amp;__body {\n     margin-top: 10px;\n     font-size: 14px;\n+    @include mq-sp {\n+      font-size: 12px;\n+    }\n   }\n   &amp;__foot {\n     margin-top: 10px;\ndiff --git a/app/assets/stylesheets/components/_iconPanel.scss b/app/assets/stylesheets/components/_iconPanel.scss\nindex db10519..d03298e 100644\n--- a/app/assets/stylesheets/components/_iconPanel.scss\n+++ b/app/assets/stylesheets/components/_iconPanel.scss\n@@ -2,14 +2,44 @@\n   display: flex;\n   flex-direction: column;\n   align-items: center;\n+  cursor: pointer;\n+  @include mq-sp {\n+    display: block;\n+    padding: $space-unit 0;\n+  }\n   &amp;__head {\n     padding: $space-unit;\n     font-size: 18px;\n     text-align: center;\n+    @include mq-sp {\n+      margin-left: 52px;\n+      padding: 0 0 15px;\n+      text-align: left;\n+      font-size: 16px;\n+    }\n   }\n   &amp;__body {\n     max-width: 100%;\n     padding: $space-unit*1.5;\n     line-height: 1.5;\n+    @include mq-sp {\n+      margin-left: 52px;\n+      padding: 0;\n+      font-size: 12px;\n+    }\n+  }\n+  //Font Awesome\u3067\u30a2\u30a4\u30b3\u30f3\u3092\u8a2d\u5b9a\u3059\u308b\n+  &amp;__icon {\n+    margin-bottom: $space-unit;\n+    padding: $space-unit/2;\n+    font-size: 26px;\n+    color: $color-link;\n+    @include mq-sp {\n+      float: left;\n+      margin-bottom: 0;\n+      padding-left: 0;\n+      width: 52px;\n+      text-align: center;\n+    }\n   }\n }\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/_imageSlide.scss b/app/assets/stylesheets/components/_imageSlide.scss\nindex af9c8ab..32cd903 100644\n--- a/app/assets/stylesheets/components/_imageSlide.scss\n+++ b/app/assets/stylesheets/components/_imageSlide.scss\n@@ -3,6 +3,7 @@\n   position: relative;\n   display: flex;\n   flex-direction: column;\n+  overflow: hidden;\n   //\u753b\u50cf\u306e\u30e9\u30c3\u30d1\u30fc\n   &amp;__main {\n     display: flex;\n@@ -22,6 +23,9 @@\n     top: -40px;\n     display: flex;\n     justify-content: center;\n+    @include mq-sp {\n+      top: -20px;\n+    }\n   }\n   &amp;__dot {\n     display: block;\n@@ -40,5 +44,10 @@\n     &amp;.isActive {\n       background: $color-black;\n     }\n+    @include mq-sp {\n+      width: 10px;\n+      height: 10px;\n+      margin-right: 10px;\n+    }\n   }\n }\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/_newsList.scss b/app/assets/stylesheets/components/_newsList.scss\nindex c02272b..737a67b 100644\n--- a/app/assets/stylesheets/components/_newsList.scss\n+++ b/app/assets/stylesheets/components/_newsList.scss\n@@ -1,6 +1,10 @@\n .NewsList {\n   display: table;\n   border-spacing: 0px $space-unit/2;\n+  border-collapse: separate;\n+  @include mq-sp {\n+    font-size: 12px;\n+  }\n   &amp;__item {\n     display: table-row;\n   }\ndiff --git a/app/assets/stylesheets/components/_overlayPanel.scss b/app/assets/stylesheets/components/_overlayPanel.scss\nindex 872d411..91c312c 100644\n--- a/app/assets/stylesheets/components/_overlayPanel.scss\n+++ b/app/assets/stylesheets/components/_overlayPanel.scss\n@@ -27,5 +27,8 @@\n   }\n   &amp;__body {\n     margin: 16px auto;\n+    @include mq-sp {\n+      display: none;\n+    }\n   }\n }\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/common/_footer.scss b/app/assets/stylesheets/components/common/_footer.scss\nindex 5fda619..536a905 100644\n--- a/app/assets/stylesheets/components/common/_footer.scss\n+++ b/app/assets/stylesheets/components/common/_footer.scss\n@@ -12,11 +12,17 @@\n   &amp;__head,\n   &amp;__body {\n     padding-right: $space-unit;\n+    @include mq-sp {\n+      margin-bottom: $sp-space-unit;\n+    }\n   }\n   &amp;__body,\n   &amp;__foot {\n     align-self: flex-start;\n     flex: 1 1 25%;\n+    @include mq-sp {\n+      flex-basis: 100%;\n+    }\n   }\n   a {\n     color: $color-link;\ndiff --git a/app/assets/stylesheets/components/common/_header.scss b/app/assets/stylesheets/components/common/_header.scss\nindex 23a2c65..f3dacfb 100644\n--- a/app/assets/stylesheets/components/common/_header.scss\n+++ b/app/assets/stylesheets/components/common/_header.scss\n@@ -10,4 +10,15 @@\n   &amp;__body {\n     flex: 3 1 auto\n   }\n+  //\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u7528\u30cf\u30f3\u30d0\u30fc\u30ac\u30fc\u30dc\u30bf\u30f3\n+  &amp;__button {\n+    @include mq-pc {\n+      display: none;\n+    }\n+    @include mq-sp {\n+      display: block;\n+      color: $color-main-text;\n+      font-size: 22px;\n+    }\n+  }\n }\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/common/_menu.scss b/app/assets/stylesheets/components/common/_menu.scss\nindex 040aa6f..be59a6b 100644\n--- a/app/assets/stylesheets/components/common/_menu.scss\n+++ b/app/assets/stylesheets/components/common/_menu.scss\n@@ -2,6 +2,9 @@\n   display: flex;\n   justify-content: space-around;\n   @include menu-font;\n+  @include mq-sp {\n+    flex-direction: column;\n+  }\n   &amp;__item {\n     display: block;\n     padding: 10px 15px;\n@@ -10,4 +13,42 @@\n   &amp;--sub {\n     flex-direction: column;\n   }\n+}\n+\n+.SpMenu {\n+  @include mq-sp {\n+    position: fixed;\n+    top: $sp-space-unit;\n+    right: 0;\n+    left: 0;\n+    z-index: -1;\n+    opacity: 0;\n+    transition: opacity 0s 0.3s ease;\n+    .isOpened &amp; {\n+      opacity: 1;\n+      transition: opacity 0s 0s ease;\n+    }\n+  }\n+  &amp;__wrapper {\n+    left: 0;\n+    width: 100%;\n+    &amp;.isOpened {\n+      position: fixed;\n+      left: $sp-menu-width;\n+      box-shadow: 0 1px 10px rgba(black, 0.3);\n+    }\n+  }\n+  &amp;__overlay {\n+    position: relative;\n+    display: none;\n+    .isOpened &amp; {\n+      position: fixed;\n+      top: 0;\n+      right: 0;\n+      bottom: 0;\n+      left: $sp-menu-width;\n+      z-index: 2;\n+      display: block;\n+    }\n+  }\n }\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/common/_sns.scss b/app/assets/stylesheets/components/common/_sns.scss\nindex 7eb3a1e..678074e 100644\n--- a/app/assets/stylesheets/components/common/_sns.scss\n+++ b/app/assets/stylesheets/components/common/_sns.scss\n@@ -2,6 +2,9 @@\n   display: flex;\n   align-items: center;\n   font-size: 22px;\n+  @include mq-sp {\n+    font-size: 16px;\n+  }\n   &amp;__text {\n     position: absolute;\n     clip: rect(1px, 1px, 1px, 1px);\ndiff --git a/app/assets/stylesheets/components/parts/_layouts.scss b/app/assets/stylesheets/components/parts/_layouts.scss\nindex 4b3b8d3..a461b90 100644\n--- a/app/assets/stylesheets/components/parts/_layouts.scss\n+++ b/app/assets/stylesheets/components/parts/_layouts.scss\n@@ -3,6 +3,10 @@\n   max-width: $base-content-width;\n   margin: 0 auto;\n   padding: 0 $space-unit;\n+  @include mq-sp {\n+    padding: 0 $sp-space-unit*2;\n+    width: auto;\n+  }\n }\n .l-row {\n   display: flex;\n@@ -17,12 +21,21 @@\n   &amp;:nth-child(even) {\n     margin-right: 0;\n   }\n+  @include mq-sp {\n+    display: block;\n+    flex: 1 1 100%;\n+    max-width: none;\n+    margin-right: 0;\n+  }\n }\n .l-halfTile {\n   display: flex;\n   flex: 1 1 50%;\n   margin: 0;\n   padding: 0;\n+  @include mq-sp {\n+    flex-basis: 100%;\n+  }\n }\n .l-quaterColumn {\n   flex: 1 0 0px;\n@@ -31,6 +44,11 @@\n   &amp;:nth-child(4n) {\n     margin-right: 0;\n   }\n+  @include mq-sp {\n+    flex: 1 1 100%;\n+    max-width: none;\n+    margin: 0;\n+  }\n }\n .l-fitImg {\n   max-width: 100%;\ndiff --git a/app/views/layouts/staff.html.erb b/app/views/layouts/staff.html.erb\nindex 8aa72f1..68b8185 100644\n--- a/app/views/layouts/staff.html.erb\n+++ b/app/views/layouts/staff.html.erb\n@@ -1,20 +1,24 @@\n &lt;!DOCTYPE html&gt;\n &lt;html&gt;\n-  &lt;head&gt;\n-    &lt;title&gt;&lt;%= document_title %&gt;&lt;/title&gt;\n-    &lt;%= csrf_meta_tags %&gt;\n-    &lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n-    &lt;%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %&gt;\n-  &lt;/head&gt;\n+&lt;head&gt;\n+  &lt;meta charset=\"utf-8\"&gt;\n+  &lt;meta name=\"description\" content=\"\"&gt;\n+  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n+  &lt;title&gt;&lt;%= document_title %&gt;&lt;/title&gt;\n+  &lt;%= csrf_meta_tags %&gt;\n+&lt;/head&gt;\n\n-  &lt;body&gt;\n-    &lt;div id=\"wrapper\"&gt;\n-      &lt;%= render 'shared/header' %&gt;\n-      &lt;%= yield %&gt;\n-      &lt;%= render 'shared/footer' %&gt;\n-    &lt;/div&gt;\n-    &lt;script&gt;\n-        imageSlide('Slide', 2);\n-    &lt;/script&gt;\n-  &lt;/body&gt;\n-&lt;/html&gt;\n+&lt;body&gt;\n+&lt;div id=\"wrapper\" class=\"SpMenu__wrapper\"&gt;\n+  &lt;div id=\"overlay\" class=\"SpMenu__overlay\"&gt;&lt;/div&gt;\n+  &lt;%= render 'shared/header' %&gt;\n+  &lt;%= yield %&gt;\n+  &lt;%= render 'shared/footer' %&gt;\n+&lt;/div&gt;\n+&lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n+&lt;%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %&gt;\n+&lt;script&gt;\n+    imageSlide('Slide', 2);\n+&lt;/script&gt;\n+&lt;/body&gt;\n+&lt;/html&gt;\n\\ No newline at end of file\ndiff --git a/app/views/shared/_header.html.erb b/app/views/shared/_header.html.erb\nindex 260d38f..898aaff 100644\n--- a/app/views/shared/_header.html.erb\n+++ b/app/views/shared/_header.html.erb\n@@ -1,8 +1,11 @@\n-&lt;header class=\"Header\"&gt;\n+&lt;header class=\"Header l-column\"&gt;\n+  &lt;div id=\"menu-button\" class=\"Header__button\"&gt;\n+    &lt;%= fa_icon 'bars' %&gt;\n+  &lt;/div&gt;\n   &lt;div class=\"Header__head\"&gt;\n     &lt;h1 class=\"logo\"&gt;BAUKIS KAI&lt;/h1&gt;\n   &lt;/div&gt;\n-  &lt;nav class=\"Header__body\"&gt;\n+  &lt;nav class=\"Header__body SpMenu\"&gt;\n     &lt;ul class=\"Menu\"&gt;\n       &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Services&lt;/a&gt;&lt;/li&gt;\n       &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Work&lt;/a&gt;&lt;/li&gt;\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex 864a6dd..1c180af 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -80,28 +80,28 @@\n   &lt;div class=\"Section__item l-column\"&gt;\n     &lt;div class=\"l-row\"&gt;\n       &lt;a class=\"IconPanel l-quaterColumn\"&gt;\n-        &lt;%= fa_icon 'tree' %&gt;\n+        &lt;%= fa_icon 'tree', class:'IconPanel__icon' %&gt;\n         &lt;h3 class=\"IconPanel__head\"&gt;\u3053\u3060\u308f\u308a\u306e\u7a7a\u9593&lt;/h3&gt;\n         &lt;p class=\"IconPanel__body\"&gt;\n           \u30e9\u30f3\u30c1\u304b\u3089\u30c7\u30a3\u30ca\u30fc\u307e\u3067\u3044\u3064\u307e\u3067\u3082\u30ea\u30e9\u30c3\u30af\u30b9\u3057\u3066\u4f7f\u3048\u308b\u304f\u3064\u308d\u304e\u7a7a\u9593\u3002\u6905\u5b50\u3084\u58c1\u3001\u7d30\u90e8\u306b\u307e\u3067\u3053\u3060\u308f\u3063\u3066\u3044\u307e\u3059\u3002\n         &lt;/p&gt;\n       &lt;/a&gt;\n       &lt;a class=\"IconPanel l-quaterColumn\"&gt;\n-        &lt;%= fa_icon 'coffee' %&gt;\n+        &lt;%= fa_icon 'coffee', class:'IconPanel__icon' %&gt;\n         &lt;h3 class=\"IconPanel__head\"&gt;\u8c46\u3078\u306e\u3053\u3060\u308f\u308a&lt;/h3&gt;\n         &lt;p class=\"IconPanel__body\"&gt;\n           \u539f\u7523\u5730\u3001\u8c46\u306e\u7a2e\u985e\u3001\u7119\u714e\u65b9\u6cd5\u306e\u3053\u3060\u308f\u308a\u3092\u7d39\u4ecb\u3059\u308b\n         &lt;/p&gt;\n       &lt;/a&gt;\n       &lt;a class=\"IconPanel l-quaterColumn\"&gt;\n-        &lt;%= fa_icon 'pencil' %&gt;\n+        &lt;%= fa_icon 'pencil', class:'IconPanel__icon' %&gt;\n         &lt;h3 class=\"IconPanel__head\"&gt;\u30b3\u30fc\u30d2\u30fc\u30b9\u30af\u30fc\u30eb&lt;/h3&gt;\n         &lt;p class=\"IconPanel__body\"&gt;\n           \u30b3\u30fc\u30d2\u30fc\u8c46\u306e\u57fa\u790e\u77e5\u8b58\u304b\u3089\u3001\u7f8e\u5473\u3057\u3044\u30b3\u30fc\u30d2\u30fc\u3092\u6df9\u308c\u308b\u30b3\u30c4\u3092\u304a\u6559\u3048\u3057\u307e\u3059\u3002\n         &lt;/p&gt;\n       &lt;/a&gt;\n       &lt;a class=\"IconPanel l-quaterColumn\"&gt;\n-        &lt;%= fa_icon 'laptop' %&gt;\n+        &lt;%= fa_icon 'laptop', class:'IconPanel__icon' %&gt;\n         &lt;h3 class=\"IconPanel__head\"&gt;BLOG&lt;/h3&gt;\n         &lt;p class=\"IconPanel__body\"&gt;\n           \u304a\u5e97\u306e\u6700\u65b0\u60c5\u5831\u3092\u3001\u3044\u3061\u65e9\u304f\u304a\u5c4a\u3051\u3002\n</code></pre>"},{"location":"journal/20170116/#933243c","title":"\u30b3\u30df\u30c3\u30c8: 933243c","text":""},{"location":"journal/20170116/#_41","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>mixin\u3092\u4f5c\u6210\u3059\u308b\n</code></pre>"},{"location":"journal/20170116/#_42","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/base/_mixins.scss</li> <li>M app/assets/stylesheets/base/_variables.scss</li> </ul>"},{"location":"journal/20170116/#_43","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 933243c8c5e0245ac20575676f5ed29e8d18b0b3\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 15:57:21 2017 +0900\n\n    mixin\u3092\u4f5c\u6210\u3059\u308b\n\ndiff --git a/app/assets/stylesheets/base/_mixins.scss b/app/assets/stylesheets/base/_mixins.scss\nindex 5cdc6c3..d213cb1 100644\n--- a/app/assets/stylesheets/base/_mixins.scss\n+++ b/app/assets/stylesheets/base/_mixins.scss\n@@ -6,4 +6,15 @@\n @mixin menu-font() {\n   font-family: $font-sub;\n   font-weight: 300;\n+}\n+//Media Queries\n+@mixin mq-sq($max: $sp-max-width) {\n+  @media only screen and (max-width: #{$max}) {\n+    @content\n+  }\n+}\n+@mixin mq-pc($min: $pc-min-width) {\n+  @media only screen and (min-width: #{$min}) {\n+    @content;\n+  }\n }\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/base/_variables.scss b/app/assets/stylesheets/base/_variables.scss\nindex 22eaf47..81980e2 100644\n--- a/app/assets/stylesheets/base/_variables.scss\n+++ b/app/assets/stylesheets/base/_variables.scss\n@@ -11,4 +11,7 @@ $column-space: $space-unit*2;\n $color-black: #252525;\n $color-main-text: #474747;\n $color-white: #fff;\n-$font-sub: 'Lato';\n\\ No newline at end of file\n+$font-sub: 'Lato';\n+//break points\n+$sp-max-width: 640px;\n+$pc-min-width: 641px;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#d73ca10","title":"\u30b3\u30df\u30c3\u30c8: d73ca10","text":""},{"location":"journal/20170116/#_44","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3class\u3092\u4f5c\u6210\u3059\u308b\n</code></pre>"},{"location":"journal/20170116/#_45","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/main.scss</li> <li>A app/assets/stylesheets/utils/_arrangements.scss</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170116/#_46","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit d73ca10837a8d43bc5919157439bc1904e9ca610\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 15:53:29 2017 +0900\n\n    \u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3class\u3092\u4f5c\u6210\u3059\u308b\n\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex b47a24b..4811499 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -60,10 +60,17 @@\n\n //font-awesome\n @import \"font-awesome\";\n+\n // ===========================\n // Pages\n // ===========================\n @import \"./pages/index\";\n\n+// ===========================\n+// Utils\n+// ===========================\n+// \u30b5\u30a4\u30ba\u3001\u4f59\u767d\u306a\u3069\u306e\u4fbf\u5229class\n+@import \"./utils/arrangements\";\n+\n //@import \"pages/staff/container\";\n //@import \"pages/staff/layout\";\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/utils/_arrangements.scss b/app/assets/stylesheets/utils/_arrangements.scss\nnew file mode 100644\nindex 0000000..f0ff359\n--- /dev/null\n+++ b/app/assets/stylesheets/utils/_arrangements.scss\n@@ -0,0 +1,6 @@\n+.u-mt60px {\n+  margin-top: 60px;\n+}\n+.u-mb100px {\n+  margin-bottom: 100px;\n+}\n\\ No newline at end of file\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex 4463fe4..864a6dd 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -139,7 +139,7 @@\n   &lt;/section&gt;\n &lt;/section&gt;\n\n-&lt;div class=\"l-column\"&gt;\n+&lt;div class=\"l-column u-mt60px u-mb100px\"&gt;\n   &lt;div class=\"l-row\"&gt;\n     &lt;a href=\"#\" class=\"l-halfColumn\"&gt;\n       &lt;%= image_tag('top/top_banner_1.jpg', class:'l-fitImg', alt:'Dummy banner') %&gt;\n</code></pre>"},{"location":"journal/20170116/#b12075e","title":"\u30b3\u30df\u30c3\u30c8: b12075e","text":""},{"location":"journal/20170116/#_47","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u7a81\u767a\u7684\u306a\u4fee\u6b63\u306b\u4e0a\u624b\u306b\u5bfe\u5fdc\u3059\u308b\u306b\u306f\uff1f\n</code></pre>"},{"location":"journal/20170116/#_48","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/images/top/top_banner_1.jpg</li> <li>A app/assets/images/top/top_banner_2.jpg</li> <li>M app/assets/stylesheets/components/parts/_layouts.scss</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170116/#_49","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit b12075eac8fdd78e590ff5aa99277f712ad2ebea\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 15:48:44 2017 +0900\n\n    \u7a81\u767a\u7684\u306a\u4fee\u6b63\u306b\u4e0a\u624b\u306b\u5bfe\u5fdc\u3059\u308b\u306b\u306f\uff1f\n\ndiff --git a/app/assets/images/top/top_banner_1.jpg b/app/assets/images/top/top_banner_1.jpg\nnew file mode 100755\nindex 0000000..28e0865\nBinary files /dev/null and b/app/assets/images/top/top_banner_1.jpg differ\ndiff --git a/app/assets/images/top/top_banner_2.jpg b/app/assets/images/top/top_banner_2.jpg\nnew file mode 100755\nindex 0000000..79b1757\nBinary files /dev/null and b/app/assets/images/top/top_banner_2.jpg differ\ndiff --git a/app/assets/stylesheets/components/parts/_layouts.scss b/app/assets/stylesheets/components/parts/_layouts.scss\nindex 2923fbd..4b3b8d3 100644\n--- a/app/assets/stylesheets/components/parts/_layouts.scss\n+++ b/app/assets/stylesheets/components/parts/_layouts.scss\n@@ -32,3 +32,7 @@\n     margin-right: 0;\n   }\n }\n+.l-fitImg {\n+  max-width: 100%;\n+  max-height: 100%;\n+}\n\\ No newline at end of file\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex 7e44e86..4463fe4 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -137,4 +137,15 @@\n       &lt;/li&gt;\n     &lt;/ol&gt;\n   &lt;/section&gt;\n-&lt;/section&gt;\n\\ No newline at end of file\n+&lt;/section&gt;\n+\n+&lt;div class=\"l-column\"&gt;\n+  &lt;div class=\"l-row\"&gt;\n+    &lt;a href=\"#\" class=\"l-halfColumn\"&gt;\n+      &lt;%= image_tag('top/top_banner_1.jpg', class:'l-fitImg', alt:'Dummy banner') %&gt;\n+    &lt;/a&gt;\n+    &lt;a href=\"#\" class=\"l-halfColumn\"&gt;\n+      &lt;%= image_tag('top/top_banner_2.jpg', class:'l-fitImg', alt:'Dummy banner') %&gt;\n+    &lt;/a&gt;\n+  &lt;/div&gt;\n+&lt;/div&gt;\n</code></pre>"},{"location":"journal/20170116/#129100f","title":"\u30b3\u30df\u30c3\u30c8: 129100f","text":""},{"location":"journal/20170116/#_50","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>WebFont\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\n</code></pre>"},{"location":"journal/20170116/#_51","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/config/manifest.js</li> <li>A app/assets/stylesheets/base/_mixins.scss</li> <li>M app/assets/stylesheets/base/_variables.scss</li> <li>M app/assets/stylesheets/components/_overlayPanel.scss</li> <li>M app/assets/stylesheets/components/common/_menu.scss</li> <li>M app/assets/stylesheets/components/parts/_labels.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/views/shared/_header.html.erb</li> </ul>"},{"location":"journal/20170116/#_52","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 129100f8beda930a0176a978115fbbb8e40a2e41\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 15:39:18 2017 +0900\n\n    WebFont\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\n\ndiff --git a/app/assets/config/manifest.js b/app/assets/config/manifest.js\nindex b16e53d..c372c47 100644\n--- a/app/assets/config/manifest.js\n+++ b/app/assets/config/manifest.js\n@@ -1,3 +1,4 @@\n //= link_tree ../images\n+//= link_tree ../fonts\n //= link_directory ../javascripts .js\n //= link_directory ../stylesheets .css\ndiff --git a/app/assets/stylesheets/base/_mixins.scss b/app/assets/stylesheets/base/_mixins.scss\nnew file mode 100644\nindex 0000000..5cdc6c3\n--- /dev/null\n+++ b/app/assets/stylesheets/base/_mixins.scss\n@@ -0,0 +1,9 @@\n+//fonts\n+@mixin title-font() {\n+  font-family: $font-sub;\n+  font-weight: 400;\n+}\n+@mixin menu-font() {\n+  font-family: $font-sub;\n+  font-weight: 300;\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/base/_variables.scss b/app/assets/stylesheets/base/_variables.scss\nindex eec22b2..22eaf47 100644\n--- a/app/assets/stylesheets/base/_variables.scss\n+++ b/app/assets/stylesheets/base/_variables.scss\n@@ -10,4 +10,5 @@ $sp-space-unit: 15px;\n $column-space: $space-unit*2;\n $color-black: #252525;\n $color-main-text: #474747;\n-$color-white: #fff;\n\\ No newline at end of file\n+$color-white: #fff;\n+$font-sub: 'Lato';\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/_overlayPanel.scss b/app/assets/stylesheets/components/_overlayPanel.scss\nindex 172bd96..872d411 100644\n--- a/app/assets/stylesheets/components/_overlayPanel.scss\n+++ b/app/assets/stylesheets/components/_overlayPanel.scss\n@@ -20,6 +20,7 @@\n     text-transform: uppercase;\n     letter-spacing: .1em;\n     font-size: 24px;\n+    @include title-font;\n     #{$root}:hover &amp; {\n       background-color: rgba(255,255,255,0.2);\n     }\ndiff --git a/app/assets/stylesheets/components/common/_menu.scss b/app/assets/stylesheets/components/common/_menu.scss\nindex c7fbe71..040aa6f 100644\n--- a/app/assets/stylesheets/components/common/_menu.scss\n+++ b/app/assets/stylesheets/components/common/_menu.scss\n@@ -1,6 +1,7 @@\n .Menu {\n   display: flex;\n   justify-content: space-around;\n+  @include menu-font;\n   &amp;__item {\n     display: block;\n     padding: 10px 15px;\ndiff --git a/app/assets/stylesheets/components/parts/_labels.scss b/app/assets/stylesheets/components/parts/_labels.scss\nindex 44f3c44..f277178 100644\n--- a/app/assets/stylesheets/components/parts/_labels.scss\n+++ b/app/assets/stylesheets/components/parts/_labels.scss\n@@ -8,7 +8,7 @@\n   text-transform: uppercase;\n   font-size: 22px;\n   line-height: 1;\n-\n+  @include menu-font;\n   &amp;::before,\n   &amp;::after {\n     content: '';\n@@ -23,4 +23,14 @@\n   &amp;::after {\n     margin-left: 22px;\n   }\n+}\n+\n+.logo {\n+  display: inline-block;\n+  padding: 10px 0;\n+  color: $color-main-text;\n+  text-transform: uppercase;\n+  font-weight: lighter;\n+  font-size: 26px;\n+  @include menu-font;\n }\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex a3a27c9..b47a24b 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -1,7 +1,12 @@\n // ===========================\n // Base\n // ===========================\n+@font-face {\n+  font-family: 'Lato';\n+  src: url('Lato/Lato-Regular.ttf') format('truetype');\n+}\n @import \"./base/variables\";\n+@import \"./base/mixins\";\n @import \"./base/reset\";\n\n // ===========================\ndiff --git a/app/views/shared/_header.html.erb b/app/views/shared/_header.html.erb\nindex 824585b..260d38f 100644\n--- a/app/views/shared/_header.html.erb\n+++ b/app/views/shared/_header.html.erb\n@@ -1,6 +1,6 @@\n &lt;header class=\"Header\"&gt;\n   &lt;div class=\"Header__head\"&gt;\n-    &lt;h1 class=\"loglo\"&gt;BAUKIS KAI&lt;/h1&gt;\n+    &lt;h1 class=\"logo\"&gt;BAUKIS KAI&lt;/h1&gt;\n   &lt;/div&gt;\n   &lt;nav class=\"Header__body\"&gt;\n     &lt;ul class=\"Menu\"&gt;\n</code></pre>"},{"location":"journal/20170116/#50fbe26","title":"\u30b3\u30df\u30c3\u30c8: 50fbe26","text":""},{"location":"journal/20170116/#_53","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>WebFont\u3092\u4f7f\u3046\u305f\u3081\u306e\u6e96\u5099\n</code></pre>"},{"location":"journal/20170116/#_54","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/fonts/Lato/Lato-Black.ttf</li> <li>A app/assets/fonts/Lato/Lato-BlackItalic.ttf</li> <li>A app/assets/fonts/Lato/Lato-Bold.ttf</li> <li>A app/assets/fonts/Lato/Lato-BoldItalic.ttf</li> <li>A app/assets/fonts/Lato/Lato-Hairline.ttf</li> <li>A app/assets/fonts/Lato/Lato-HairlineItalic.ttf</li> <li>A app/assets/fonts/Lato/Lato-Italic.ttf</li> <li>A app/assets/fonts/Lato/Lato-Light.ttf</li> <li>A app/assets/fonts/Lato/Lato-LightItalic.ttf</li> <li>A app/assets/fonts/Lato/Lato-Regular.ttf</li> </ul>"},{"location":"journal/20170116/#_55","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 50fbe2618b3fe36f114b427a33b17c9ce77ae1d2\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 15:32:17 2017 +0900\n\n    WebFont\u3092\u4f7f\u3046\u305f\u3081\u306e\u6e96\u5099\n\ndiff --git a/app/assets/fonts/Lato/Lato-Black.ttf b/app/assets/fonts/Lato/Lato-Black.ttf\nnew file mode 100755\nindex 0000000..6848db0\nBinary files /dev/null and b/app/assets/fonts/Lato/Lato-Black.ttf differ\ndiff --git a/app/assets/fonts/Lato/Lato-BlackItalic.ttf b/app/assets/fonts/Lato/Lato-BlackItalic.ttf\nnew file mode 100755\nindex 0000000..5decf12\nBinary files /dev/null and b/app/assets/fonts/Lato/Lato-BlackItalic.ttf differ\ndiff --git a/app/assets/fonts/Lato/Lato-Bold.ttf b/app/assets/fonts/Lato/Lato-Bold.ttf\nnew file mode 100755\nindex 0000000..7434369\nBinary files /dev/null and b/app/assets/fonts/Lato/Lato-Bold.ttf differ\ndiff --git a/app/assets/fonts/Lato/Lato-BoldItalic.ttf b/app/assets/fonts/Lato/Lato-BoldItalic.ttf\nnew file mode 100755\nindex 0000000..684aacf\nBinary files /dev/null and b/app/assets/fonts/Lato/Lato-BoldItalic.ttf differ\ndiff --git a/app/assets/fonts/Lato/Lato-Hairline.ttf b/app/assets/fonts/Lato/Lato-Hairline.ttf\nnew file mode 100755\nindex 0000000..288be29\nBinary files /dev/null and b/app/assets/fonts/Lato/Lato-Hairline.ttf differ\ndiff --git a/app/assets/fonts/Lato/Lato-HairlineItalic.ttf b/app/assets/fonts/Lato/Lato-HairlineItalic.ttf\nnew file mode 100755\nindex 0000000..c2bfd33\nBinary files /dev/null and b/app/assets/fonts/Lato/Lato-HairlineItalic.ttf differ\ndiff --git a/app/assets/fonts/Lato/Lato-Italic.ttf b/app/assets/fonts/Lato/Lato-Italic.ttf\nnew file mode 100755\nindex 0000000..3d3b7a2\nBinary files /dev/null and b/app/assets/fonts/Lato/Lato-Italic.ttf differ\ndiff --git a/app/assets/fonts/Lato/Lato-Light.ttf b/app/assets/fonts/Lato/Lato-Light.ttf\nnew file mode 100755\nindex 0000000..a958067\nBinary files /dev/null and b/app/assets/fonts/Lato/Lato-Light.ttf differ\ndiff --git a/app/assets/fonts/Lato/Lato-LightItalic.ttf b/app/assets/fonts/Lato/Lato-LightItalic.ttf\nnew file mode 100755\nindex 0000000..5e45ad9\nBinary files /dev/null and b/app/assets/fonts/Lato/Lato-LightItalic.ttf differ\ndiff --git a/app/assets/fonts/Lato/Lato-Regular.ttf b/app/assets/fonts/Lato/Lato-Regular.ttf\nnew file mode 100755\nindex 0000000..04ea8ef\nBinary files /dev/null and b/app/assets/fonts/Lato/Lato-Regular.ttf differ\n</code></pre>"},{"location":"journal/20170116/#d6085e3","title":"\u30b3\u30df\u30c3\u30c8: d6085e3","text":""},{"location":"journal/20170116/#_56","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d8\u30c3\u30c0\u30fc\u4fee\u6b63\n</code></pre>"},{"location":"journal/20170116/#_57","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/shared/_header.html.erb</li> </ul>"},{"location":"journal/20170116/#_58","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit d6085e32d93948e43fe2d6eacd04fd768ad06ad1\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 15:30:46 2017 +0900\n\n    \u30d8\u30c3\u30c0\u30fc\u4fee\u6b63\n\ndiff --git a/app/views/shared/_header.html.erb b/app/views/shared/_header.html.erb\nindex 96a2711..824585b 100644\n--- a/app/views/shared/_header.html.erb\n+++ b/app/views/shared/_header.html.erb\n@@ -1,14 +1,14 @@\n &lt;header class=\"Header\"&gt;\n   &lt;div class=\"Header__head\"&gt;\n     &lt;h1 class=\"loglo\"&gt;BAUKIS KAI&lt;/h1&gt;\n-    &lt;nav class=\"Header__body\"&gt;\n-      &lt;ul class=\"Menu\"&gt;\n-        &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Services&lt;/a&gt;&lt;/li&gt;\n-        &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Work&lt;/a&gt;&lt;/li&gt;\n-        &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;About&lt;/a&gt;&lt;/li&gt;\n-        &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Blog&lt;/a&gt;&lt;/li&gt;\n-        &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\n-      &lt;/ul&gt;\n-    &lt;/nav&gt;\n   &lt;/div&gt;\n-&lt;/header&gt;\n+  &lt;nav class=\"Header__body\"&gt;\n+    &lt;ul class=\"Menu\"&gt;\n+      &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Services&lt;/a&gt;&lt;/li&gt;\n+      &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Work&lt;/a&gt;&lt;/li&gt;\n+      &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;About&lt;/a&gt;&lt;/li&gt;\n+      &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Blog&lt;/a&gt;&lt;/li&gt;\n+      &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\n+    &lt;/ul&gt;\n+  &lt;/nav&gt;\n+&lt;/header&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#be1ebf1","title":"\u30b3\u30df\u30c3\u30c8: be1ebf1","text":""},{"location":"journal/20170116/#_59","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30a2\u30a4\u30b3\u30f3\u30d5\u30a9\u30f3\u30c8\u3092\u4f7f\u3046\n</code></pre>"},{"location":"journal/20170116/#_60","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/stylesheets/components/common/_sns.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/views/shared/_footer.html.erb</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170116/#_61","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit be1ebf1d47afd6ac07023677c7a2594ffb4a82e9\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 15:27:49 2017 +0900\n\n    \u30a2\u30a4\u30b3\u30f3\u30d5\u30a9\u30f3\u30c8\u3092\u4f7f\u3046\n\ndiff --git a/app/assets/stylesheets/components/common/_sns.scss b/app/assets/stylesheets/components/common/_sns.scss\nnew file mode 100644\nindex 0000000..7eb3a1e\n--- /dev/null\n+++ b/app/assets/stylesheets/components/common/_sns.scss\n@@ -0,0 +1,20 @@\n+.SNS {\n+  display: flex;\n+  align-items: center;\n+  font-size: 22px;\n+  &amp;__text {\n+    position: absolute;\n+    clip: rect(1px, 1px, 1px, 1px);\n+    width: 1px;\n+    height: 1px;\n+    padding: 0;\n+    border: 0;\n+    overflow: hidden;\n+  }\n+  &amp;__item {\n+    margin-right: 20px;\n+    &amp;:last-child {\n+      margin-right: 0;\n+    }\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex d6db270..a3a27c9 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -33,6 +33,9 @@\n // \u30bb\u30af\u30b7\u30e7\u30f3\u5206\u3051\n @import \"./components/common/section\";\n\n+// SNS\n+@import \"./components/common/sns\";\n+\n // Others\n //----------------------------\n // \u30d6\u30ed\u30b0\u629c\u7c8b\n@@ -50,6 +53,8 @@\n // \u304a\u3057\u3089\u305b\u4e00\u89a7\n @import \"./components/newsList\";\n\n+//font-awesome\n+@import \"font-awesome\";\n // ===========================\n // Pages\n // ===========================\ndiff --git a/app/views/shared/_footer.html.erb b/app/views/shared/_footer.html.erb\nindex 2d9f425..308c006 100644\n--- a/app/views/shared/_footer.html.erb\n+++ b/app/views/shared/_footer.html.erb\n@@ -15,14 +15,14 @@\n       &lt;p&gt;&lt;a href=\"#\"&gt;Legal Notice&lt;/a&gt;&lt;/p&gt;\n       &lt;p&gt;&lt;a href=\"#\"&gt;Privacy policy&lt;/a&gt;&lt;/p&gt;\n     &lt;/div&gt;\n-    &lt;ul class=\"Footer__foot\"&gt;\n-      &lt;li&gt;&lt;a href=\"#\"&gt;Facebook&lt;/a&gt;&lt;/li&gt;\n-      &lt;li&gt;&lt;a href=\"#\"&gt;Youtube&lt;/a&gt;&lt;/li&gt;\n-      &lt;li&gt;&lt;a href=\"#\"&gt;Twitter&lt;/a&gt;&lt;/li&gt;\n-      &lt;li&gt;&lt;a href=\"#\"&gt;LinkedIn&lt;/a&gt;&lt;/li&gt;\n-      &lt;li&gt;&lt;a href=\"#\"&gt;Flickr&lt;/a&gt;&lt;/li&gt;\n-      &lt;li&gt;&lt;a href=\"#\"&gt;Instagram&lt;/a&gt;&lt;/li&gt;\n-      &lt;li&gt;&lt;a href=\"#\"&gt;Yelp&lt;/a&gt;&lt;/li&gt;\n+    &lt;ul class=\"Footer__foot SNS\"&gt;\n+      &lt;li class=\"SNS__item\"&gt;&lt;a class=\"fa fa-facebook-official\" href=\"#\"&gt;&lt;span class=\"SNS__text\"&gt;Facebook&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n+      &lt;li class=\"SNS__item\"&gt;&lt;a class=\"fa fa-youtube-square\" href=\"#\"&gt;&lt;span class=\"SNS__text\"&gt;Youtube&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n+      &lt;li class=\"SNS__item\"&gt;&lt;a class=\"fa fa-twitter-square\" href=\"#\"&gt;&lt;span class=\"SNS__text\"&gt;Twitter&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n+      &lt;li class=\"SNS__item\"&gt;&lt;a class=\"fa fa-linkedin-square\" href=\"#\"&gt;&lt;span class=\"SNS__text\"&gt;LinkedIn&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n+      &lt;li class=\"SNS__item\"&gt;&lt;a class=\"fa fa-flickr\" href=\"#\"&gt;&lt;span class=\"SNS__text\"&gt;Flickr&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n+      &lt;li class=\"SNS__item\"&gt;&lt;a class=\"fa fa-instagram\" href=\"#\"&gt;&lt;span class=\"SNS__text\"&gt;Instagram&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n+      &lt;li class=\"SNS__item\"&gt;&lt;a class=\"fa fa-yelp\" href=\"#\"&gt;&lt;span class=\"SNS__text\"&gt;Yelp&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n     &lt;/ul&gt;\n   &lt;/div&gt;\n &lt;/footer&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex 32da682..7e44e86 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -1,6 +1,32 @@\n &lt;% @title = '\u8077\u54e1\u30c8\u30c3\u30d7\u30da\u30fc\u30b8' %&gt;\n &lt;h1&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n\n+\n+&lt;div class=\"ImageSlide Section\"&gt;\n+  &lt;ul id=\"Slide\" class=\"ImageSlide__main\"&gt;\n+    &lt;li class=\"ImageSlide__item js-slide-item\"&gt;\n+      &lt;a href=\"#\"&gt;\n+        &lt;%= image_tag('top/slide1.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n+      &lt;/a&gt;\n+    &lt;/li&gt;\n+    &lt;li class=\"ImageSlide__item js-slide-item\"&gt;\n+      &lt;a href=\"#\"&gt;\n+        &lt;%= image_tag('top/slide2.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n+      &lt;/a&gt;\n+    &lt;/li&gt;\n+    &lt;li class=\"ImageSlide__item js-slide-item\"&gt;\n+      &lt;a href=\"#\"&gt;\n+        &lt;%= image_tag('top/slide3.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n+      &lt;/a&gt;\n+    &lt;/li&gt;\n+  &lt;/ul&gt;\n+  &lt;div class=\"ImageSlide__sub\"&gt;\n+    &lt;span class=\"ImageSlide__dot js-slide-point\"&gt;image1&lt;/span&gt;\n+    &lt;span class=\"ImageSlide__dot js-slide-point\"&gt;image2&lt;/span&gt;\n+    &lt;span class=\"ImageSlide__dot js-slide-point\"&gt;image3&lt;/span&gt;\n+  &lt;/div&gt;\n+&lt;/div&gt;\n+\n &lt;section class=\"Section l-column\"&gt;\n   &lt;div class=\"l-row\"&gt;\n     &lt;div class=\"EntryPanel l-halfColumn\"&gt;\n@@ -54,24 +80,28 @@\n   &lt;div class=\"Section__item l-column\"&gt;\n     &lt;div class=\"l-row\"&gt;\n       &lt;a class=\"IconPanel l-quaterColumn\"&gt;\n+        &lt;%= fa_icon 'tree' %&gt;\n         &lt;h3 class=\"IconPanel__head\"&gt;\u3053\u3060\u308f\u308a\u306e\u7a7a\u9593&lt;/h3&gt;\n         &lt;p class=\"IconPanel__body\"&gt;\n           \u30e9\u30f3\u30c1\u304b\u3089\u30c7\u30a3\u30ca\u30fc\u307e\u3067\u3044\u3064\u307e\u3067\u3082\u30ea\u30e9\u30c3\u30af\u30b9\u3057\u3066\u4f7f\u3048\u308b\u304f\u3064\u308d\u304e\u7a7a\u9593\u3002\u6905\u5b50\u3084\u58c1\u3001\u7d30\u90e8\u306b\u307e\u3067\u3053\u3060\u308f\u3063\u3066\u3044\u307e\u3059\u3002\n         &lt;/p&gt;\n       &lt;/a&gt;\n       &lt;a class=\"IconPanel l-quaterColumn\"&gt;\n+        &lt;%= fa_icon 'coffee' %&gt;\n         &lt;h3 class=\"IconPanel__head\"&gt;\u8c46\u3078\u306e\u3053\u3060\u308f\u308a&lt;/h3&gt;\n         &lt;p class=\"IconPanel__body\"&gt;\n           \u539f\u7523\u5730\u3001\u8c46\u306e\u7a2e\u985e\u3001\u7119\u714e\u65b9\u6cd5\u306e\u3053\u3060\u308f\u308a\u3092\u7d39\u4ecb\u3059\u308b\n         &lt;/p&gt;\n       &lt;/a&gt;\n       &lt;a class=\"IconPanel l-quaterColumn\"&gt;\n+        &lt;%= fa_icon 'pencil' %&gt;\n         &lt;h3 class=\"IconPanel__head\"&gt;\u30b3\u30fc\u30d2\u30fc\u30b9\u30af\u30fc\u30eb&lt;/h3&gt;\n         &lt;p class=\"IconPanel__body\"&gt;\n           \u30b3\u30fc\u30d2\u30fc\u8c46\u306e\u57fa\u790e\u77e5\u8b58\u304b\u3089\u3001\u7f8e\u5473\u3057\u3044\u30b3\u30fc\u30d2\u30fc\u3092\u6df9\u308c\u308b\u30b3\u30c4\u3092\u304a\u6559\u3048\u3057\u307e\u3059\u3002\n         &lt;/p&gt;\n       &lt;/a&gt;\n       &lt;a class=\"IconPanel l-quaterColumn\"&gt;\n+        &lt;%= fa_icon 'laptop' %&gt;\n         &lt;h3 class=\"IconPanel__head\"&gt;BLOG&lt;/h3&gt;\n         &lt;p class=\"IconPanel__body\"&gt;\n           \u304a\u5e97\u306e\u6700\u65b0\u60c5\u5831\u3092\u3001\u3044\u3061\u65e9\u304f\u304a\u5c4a\u3051\u3002\n</code></pre>"},{"location":"journal/20170116/#4c3fcb8","title":"\u30b3\u30df\u30c3\u30c8: 4c3fcb8","text":""},{"location":"journal/20170116/#_62","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u3053\u308c\u307e\u3067\u4f5c\u6210\u3057\u305f\u3082\u306e\u306e\u304a\u3055\u3089\u3044\n</code></pre>"},{"location":"journal/20170116/#_63","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/main.scss</li> </ul>"},{"location":"journal/20170116/#_64","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 4c3fcb8fe55c9eece360d901c75252bdde37c4c7\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 15:13:00 2017 +0900\n\n    \u3053\u308c\u307e\u3067\u4f5c\u6210\u3057\u305f\u3082\u306e\u306e\u304a\u3055\u3089\u3044\n\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex daff4eb..d6db270 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -1,30 +1,59 @@\n+// ===========================\n+// Base\n+// ===========================\n @import \"./base/variables\";\n @import \"./base/reset\";\n+\n+// ===========================\n+// Components\n+// ===========================\n+\n+// Parts\n+//----------------------------\n+// \u30ec\u30a4\u30a2\u30a6\u30c8\n+@import \"./components/parts/layouts\";\n+\n+// \u30dc\u30bf\u30f3\n+@import \"./components/parts/buttons\";\n+\n+// \u30e9\u30d9\u30eb\u3001\u898b\u51fa\u3057\n+@import \"./components/parts/labels\";\n+\n+// \u30d5\u30c3\u30bf\u30fc\n+@import \"./components/common/footer\";\n+\n+// Common\n+//----------------------------\n+// \u30d8\u30c3\u30c0\u30fc\n @import \"./components/common/header\";\n\n // \u30e1\u30cb\u30e5\u30fc\n @import \"./components/common/menu\";\n+\n+// \u30bb\u30af\u30b7\u30e7\u30f3\u5206\u3051\n+@import \"./components/common/section\";\n+\n+// Others\n+//----------------------------\n // \u30d6\u30ed\u30b0\u629c\u7c8b\n @import \"./components/entryPanel\";\n-// \u30dc\u30bf\u30f3\n-@import \"./components/parts/buttons\";\n-// \u30ec\u30a4\u30a2\u30a6\u30c8\n-@import \"components/parts/layouts\";\n+\n // \u30ab\u30eb\u30fc\u30bb\u30eb\n-@import \"components/imageSlide\";\n-@import \"./components/common/section\";\n-// \u30e9\u30d9\u30eb\n-@import \"components/parts/labels\";\n-// \u30aa\u30fc\u30d0\u30fc\u30ec\u30a4\u30d1\u30cd\u30eb\n-@import \"components/overlayPanel\";\n-// Index\u30da\u30fc\u30b8\n-@import \"pages/index\";\n-// \u30a2\u30a4\u30b3\u30f3\u30d1\u30cd\u30eb\n-@import \"components/iconPanel\";\n+@import \"./components/imageSlide\";\n+\n+// \u5199\u771f\u80cc\u666f\u30d1\u30cd\u30eb\n+@import \"./components/overlayPanel\";\n+\n+// \u30a2\u30a4\u30b3\u30f3\u3064\u304d\u8aac\u660e\u30d1\u30cd\u30eb\n+@import \"./components/iconPanel\";\n+\n // \u304a\u3057\u3089\u305b\u4e00\u89a7\n @import \"./components/newsList\";\n-// \u30d5\u30c3\u30bf\u30fc\n-@import \"./components/common/footer\";\n+\n+// ===========================\n+// Pages\n+// ===========================\n+@import \"./pages/index\";\n\n //@import \"pages/staff/container\";\n //@import \"pages/staff/layout\";\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#5ee5aee","title":"\u30b3\u30df\u30c3\u30c8: 5ee5aee","text":""},{"location":"journal/20170116/#_65","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Menu\u3092\u4fee\u6b63\u3059\u308b\n</code></pre>"},{"location":"journal/20170116/#_66","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/components/common/_menu.scss</li> <li>M app/views/shared/_footer.html.erb</li> </ul>"},{"location":"journal/20170116/#_67","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 5ee5aeea9d04ac8e28a1c69dee67c72f3a376ed9\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 15:11:34 2017 +0900\n\n    Menu\u3092\u4fee\u6b63\u3059\u308b\n\ndiff --git a/app/assets/stylesheets/components/common/_menu.scss b/app/assets/stylesheets/components/common/_menu.scss\nindex bf85687..c7fbe71 100644\n--- a/app/assets/stylesheets/components/common/_menu.scss\n+++ b/app/assets/stylesheets/components/common/_menu.scss\n@@ -6,4 +6,7 @@\n     padding: 10px 15px;\n     text-transform: uppercase;\n   }\n+  &amp;--sub {\n+    flex-direction: column;\n+  }\n }\n\\ No newline at end of file\ndiff --git a/app/views/shared/_footer.html.erb b/app/views/shared/_footer.html.erb\nindex 8b38a75..2d9f425 100644\n--- a/app/views/shared/_footer.html.erb\n+++ b/app/views/shared/_footer.html.erb\n@@ -2,7 +2,7 @@\n   &lt;div class=\"l-row l-column\"&gt;\n     &lt;div class=\"Footer__head\"&gt;\n       &lt;a href=\"./\" class=\"logo\"&gt;BAUKIS KAI&lt;/a&gt;\n-      &lt;ul class=\"Menu\"&gt;\n+      &lt;ul class=\"Menu Menu--sub\"&gt;\n         &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;Services&lt;/a&gt;&lt;/li&gt;\n         &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;Work&lt;/a&gt;&lt;/li&gt;\n         &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;About us&lt;/a&gt;&lt;/li&gt;\n</code></pre>"},{"location":"journal/20170116/#6e7ef6f","title":"\u30b3\u30df\u30c3\u30c8: 6e7ef6f","text":""},{"location":"journal/20170116/#_68","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d5\u30c3\u30bf\u30fc\u4f5c\u6210\u3092\u59cb\u3081\u308b\n</code></pre>"},{"location":"journal/20170116/#_69","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/stylesheets/components/common/_footer.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/views/shared/_footer.html.erb</li> </ul>"},{"location":"journal/20170116/#_70","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 6e7ef6f93137a9a80993467436b3fa39a32b3693\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 15:06:38 2017 +0900\n\n    \u30d5\u30c3\u30bf\u30fc\u4f5c\u6210\u3092\u59cb\u3081\u308b\n\ndiff --git a/app/assets/stylesheets/components/common/_footer.scss b/app/assets/stylesheets/components/common/_footer.scss\nnew file mode 100644\nindex 0000000..5fda619\n--- /dev/null\n+++ b/app/assets/stylesheets/components/common/_footer.scss\n@@ -0,0 +1,27 @@\n+.Footer {\n+  display: flex;\n+  justify-content: space-between;\n+  align-items: flex-start;\n+  margin: $space-unit*2 auto 0;\n+  padding: $space-unit 0;\n+  background-color: $color-black;\n+  color: $color-link;\n+  &amp;__head {\n+    flex: 2 1 50%;\n+  }\n+  &amp;__head,\n+  &amp;__body {\n+    padding-right: $space-unit;\n+  }\n+  &amp;__body,\n+  &amp;__foot {\n+    align-self: flex-start;\n+    flex: 1 1 25%;\n+  }\n+  a {\n+    color: $color-link;\n+    &amp;:hover {\n+      color: $color-white;\n+    }\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex c9a0f84..daff4eb 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -23,6 +23,8 @@\n @import \"components/iconPanel\";\n // \u304a\u3057\u3089\u305b\u4e00\u89a7\n @import \"./components/newsList\";\n+// \u30d5\u30c3\u30bf\u30fc\n+@import \"./components/common/footer\";\n\n //@import \"pages/staff/container\";\n //@import \"pages/staff/layout\";\n\\ No newline at end of file\ndiff --git a/app/views/shared/_footer.html.erb b/app/views/shared/_footer.html.erb\nindex ad0aaa0..8b38a75 100644\n--- a/app/views/shared/_footer.html.erb\n+++ b/app/views/shared/_footer.html.erb\n@@ -1,3 +1,28 @@\n-&lt;footer&gt;\n-  &lt;p&gt;Powered by BAUKIS KAI &amp;copy; 2014 k2works&lt;/p&gt;\n-&lt;/footer&gt;\n+&lt;footer class=\"Footer\"&gt;\n+  &lt;div class=\"l-row l-column\"&gt;\n+    &lt;div class=\"Footer__head\"&gt;\n+      &lt;a href=\"./\" class=\"logo\"&gt;BAUKIS KAI&lt;/a&gt;\n+      &lt;ul class=\"Menu\"&gt;\n+        &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;Services&lt;/a&gt;&lt;/li&gt;\n+        &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;Work&lt;/a&gt;&lt;/li&gt;\n+        &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;About us&lt;/a&gt;&lt;/li&gt;\n+        &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;Blog&lt;/a&gt;&lt;/li&gt;\n+        &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\n+      &lt;/ul&gt;\n+    &lt;/div&gt;\n+    &lt;div class=\"Footer__body\"&gt;\n+      &lt;p&gt;Powered by BAUKIS KAI &amp;copy; 2014 k2works&lt;/p&gt;\n+      &lt;p&gt;&lt;a href=\"#\"&gt;Legal Notice&lt;/a&gt;&lt;/p&gt;\n+      &lt;p&gt;&lt;a href=\"#\"&gt;Privacy policy&lt;/a&gt;&lt;/p&gt;\n+    &lt;/div&gt;\n+    &lt;ul class=\"Footer__foot\"&gt;\n+      &lt;li&gt;&lt;a href=\"#\"&gt;Facebook&lt;/a&gt;&lt;/li&gt;\n+      &lt;li&gt;&lt;a href=\"#\"&gt;Youtube&lt;/a&gt;&lt;/li&gt;\n+      &lt;li&gt;&lt;a href=\"#\"&gt;Twitter&lt;/a&gt;&lt;/li&gt;\n+      &lt;li&gt;&lt;a href=\"#\"&gt;LinkedIn&lt;/a&gt;&lt;/li&gt;\n+      &lt;li&gt;&lt;a href=\"#\"&gt;Flickr&lt;/a&gt;&lt;/li&gt;\n+      &lt;li&gt;&lt;a href=\"#\"&gt;Instagram&lt;/a&gt;&lt;/li&gt;\n+      &lt;li&gt;&lt;a href=\"#\"&gt;Yelp&lt;/a&gt;&lt;/li&gt;\n+    &lt;/ul&gt;\n+  &lt;/div&gt;\n+&lt;/footer&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#21eaf57","title":"\u30b3\u30df\u30c3\u30c8: 21eaf57","text":""},{"location":"journal/20170116/#_71","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30cb\u30e5\u30fc\u30b9\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\n</code></pre>"},{"location":"journal/20170116/#_72","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/stylesheets/components/_newsList.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170116/#_73","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 21eaf57d9add5f4f82490b23f118ddd98a828f94\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 15:00:12 2017 +0900\n\n    \u30cb\u30e5\u30fc\u30b9\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\n\ndiff --git a/app/assets/stylesheets/components/_newsList.scss b/app/assets/stylesheets/components/_newsList.scss\nnew file mode 100644\nindex 0000000..c02272b\n--- /dev/null\n+++ b/app/assets/stylesheets/components/_newsList.scss\n@@ -0,0 +1,14 @@\n+.NewsList {\n+  display: table;\n+  border-spacing: 0px $space-unit/2;\n+  &amp;__item {\n+    display: table-row;\n+  }\n+  &amp;__head {\n+    display: table-cell;\n+    padding-right: $column-space;\n+  }\n+  &amp;__body {\n+    display: table-cell;\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 8828b6a..c9a0f84 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -21,6 +21,8 @@\n @import \"pages/index\";\n // \u30a2\u30a4\u30b3\u30f3\u30d1\u30cd\u30eb\n @import \"components/iconPanel\";\n+// \u304a\u3057\u3089\u305b\u4e00\u89a7\n+@import \"./components/newsList\";\n\n //@import \"pages/staff/container\";\n //@import \"pages/staff/layout\";\n\\ No newline at end of file\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex 65d1ae3..32da682 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -1,31 +1,6 @@\n &lt;% @title = '\u8077\u54e1\u30c8\u30c3\u30d7\u30da\u30fc\u30b8' %&gt;\n &lt;h1&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n\n-&lt;div class=\"ImageSlide Section\"&gt;\n-  &lt;ul id=\"Slide\" class=\"ImageSlide__main\"&gt;\n-    &lt;li class=\"ImageSlide__item js-slide-item\"&gt;\n-      &lt;a href=\"#\"&gt;\n-        &lt;%= image_tag('top/slide1.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n-      &lt;/a&gt;\n-    &lt;/li&gt;\n-    &lt;li class=\"ImageSlide__item js-slide-item\"&gt;\n-      &lt;a href=\"#\"&gt;\n-        &lt;%= image_tag('top/slide2.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n-      &lt;/a&gt;\n-    &lt;/li&gt;\n-    &lt;li class=\"ImageSlide__item js-slide-item\"&gt;\n-      &lt;a href=\"#\"&gt;\n-        &lt;%= image_tag('top/slide3.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n-      &lt;/a&gt;\n-    &lt;/li&gt;\n-  &lt;/ul&gt;\n-  &lt;div class=\"ImageSlide__sub\"&gt;\n-    &lt;span class=\"ImageSlide__dot js-slide-point\"&gt;image1&lt;/span&gt;\n-    &lt;span class=\"ImageSlide__dot js-slide-point\"&gt;image2&lt;/span&gt;\n-    &lt;span class=\"ImageSlide__dot js-slide-point\"&gt;image3&lt;/span&gt;\n-  &lt;/div&gt;\n-&lt;/div&gt;\n-\n &lt;section class=\"Section l-column\"&gt;\n   &lt;div class=\"l-row\"&gt;\n     &lt;div class=\"EntryPanel l-halfColumn\"&gt;\n@@ -56,8 +31,6 @@\n   &lt;/div&gt;\n &lt;/section&gt;\n\n-\n-\n &lt;section class=\"Section\"&gt;\n   &lt;h2 class=\"sectionLabel l-column\"&gt;Content&lt;/h2&gt;\n   &lt;div class=\"Section__item l-row\"&gt;\n@@ -106,4 +79,32 @@\n       &lt;/a&gt;\n     &lt;/div&gt;\n   &lt;/div&gt;\n+\n+  &lt;section class=\"Section l-column\"&gt;\n+    &lt;div class=\"Section__head\"&gt;\n+      &lt;h2 class=\"sectionLabel\"&gt;News&lt;/h2&gt;\n+    &lt;/div&gt;\n+    &lt;ol class=\"NewsList\"&gt;\n+      &lt;li class=\"NewsList__item\"&gt;\n+        &lt;time class=\"NewsList__head\" datatime=\"2016-10-12\"&gt;2016.10.12&lt;/time&gt;\n+        &lt;span class=\"NewsList__body\"&gt;\u300c\u304b\u307c\u3061\u3083\u30bf\u30eb\u30c8\u300d\u300c\u30d8\u30fc\u30bc\u30eb\u30ca\u30c3\u30c4\u30e9\u30c6\u300d\u300c\u30b9\u30c8\u30ed\u30d9\u30ea\u30fc\u30d6\u30e9\u30a6\u30cb\u30fc\u300d\u300c\u30cf\u30cb\u30fc\u30bd\u30a4\u30e9\u30c6\u300d\u300c\u305f\u3063\u3077\u308a\u30c1\u30fc\u30ba\u3068\u304d\u306e\u3053\u306e\u30d1\u30cb\u30fc\u30cb\u300d\u65b0\u767a\u58f2\u3002&lt;/span&gt;\n+      &lt;/li&gt;\n+      &lt;li class=\"NewsList__item\"&gt;\n+        &lt;time class=\"NewsList__head\" datatime=\"2016-09-01\"&gt;2016.09.01&lt;/time&gt;\n+        &lt;span class=\"NewsList__body\"&gt;\u55b6\u696d\u6642\u9593\u5909\u66f4\u306b\u95a2\u3059\u308b\u304a\u77e5\u3089\u305b&lt;/span&gt;\n+      &lt;/li&gt;\n+      &lt;li class=\"NewsList__item\"&gt;\n+        &lt;time class=\"NewsList__head\" datatime=\"2016-08-20\"&gt;2016.08.20&lt;/time&gt;\n+        &lt;span class=\"NewsList__body\"&gt;\u938c\u5009\u5e97\u30cb\u30e5\u30fc\u30aa\u30fc\u30d7\u30f3&lt;/span&gt;\n+      &lt;/li&gt;\n+      &lt;li class=\"NewsList__item\"&gt;\n+        &lt;time class=\"NewsList__head\" datatime=\"2016-08-10\"&gt;2016.08.10&lt;/time&gt;\n+        &lt;span class=\"NewsList__body\"&gt;\u590f\u5b63\u9650\u5b9a\u3002\u30de\u30f3\u30b4\u30fc\u30b9\u30e0\u30fc\u30b8\u30fc\u767a\u58f2&lt;/span&gt;\n+      &lt;/li&gt;\n+      &lt;li class=\"NewsList__item\"&gt;\n+        &lt;time class=\"NewsList__head\" datatime=\"2016-04-02\"&gt;2016.04.02&lt;/time&gt;\n+        &lt;span class=\"NewsList__body\"&gt;[\u671f\u9593\u9650\u5b9a]\u3055\u304f\u3089\u62b9\u8336\u30e9\u30c6\u8ca9\u58f2\u958b\u59cb&lt;/span&gt;\n+      &lt;/li&gt;\n+    &lt;/ol&gt;\n+  &lt;/section&gt;\n &lt;/section&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#759c15c","title":"\u30b3\u30df\u30c3\u30c8: 759c15c","text":""},{"location":"journal/20170116/#_74","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30a2\u30a4\u30b3\u30f3\u4ed8\u304d\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u30e1\u30cb\u30e5\u30fc\u3092\u4f5c\u6210\u3059\u308b\n</code></pre>"},{"location":"journal/20170116/#_75","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/stylesheets/components/_iconPanel.scss</li> <li>M app/assets/stylesheets/components/parts/_layouts.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170116/#_76","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 759c15caaa9b02f87684461bd80adbc4ffc2c29e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 14:55:55 2017 +0900\n\n    \u30a2\u30a4\u30b3\u30f3\u4ed8\u304d\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u30e1\u30cb\u30e5\u30fc\u3092\u4f5c\u6210\u3059\u308b\n\ndiff --git a/app/assets/stylesheets/components/_iconPanel.scss b/app/assets/stylesheets/components/_iconPanel.scss\nnew file mode 100644\nindex 0000000..db10519\n--- /dev/null\n+++ b/app/assets/stylesheets/components/_iconPanel.scss\n@@ -0,0 +1,15 @@\n+.IconPanel {\n+  display: flex;\n+  flex-direction: column;\n+  align-items: center;\n+  &amp;__head {\n+    padding: $space-unit;\n+    font-size: 18px;\n+    text-align: center;\n+  }\n+  &amp;__body {\n+    max-width: 100%;\n+    padding: $space-unit*1.5;\n+    line-height: 1.5;\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/parts/_layouts.scss b/app/assets/stylesheets/components/parts/_layouts.scss\nindex f5ad201..2923fbd 100644\n--- a/app/assets/stylesheets/components/parts/_layouts.scss\n+++ b/app/assets/stylesheets/components/parts/_layouts.scss\n@@ -24,3 +24,11 @@\n   margin: 0;\n   padding: 0;\n }\n+.l-quaterColumn {\n+  flex: 1 0 0px;\n+  max-width: ($base-content-width - $column-space*3)/4;\n+  margin-right: $column-space;\n+  &amp;:nth-child(4n) {\n+    margin-right: 0;\n+  }\n+}\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 24992b5..8828b6a 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -19,6 +19,8 @@\n @import \"components/overlayPanel\";\n // Index\u30da\u30fc\u30b8\n @import \"pages/index\";\n+// \u30a2\u30a4\u30b3\u30f3\u30d1\u30cd\u30eb\n+@import \"components/iconPanel\";\n\n //@import \"pages/staff/container\";\n //@import \"pages/staff/layout\";\n\\ No newline at end of file\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex b7e02ae..65d1ae3 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -57,9 +57,10 @@\n &lt;/section&gt;\n\n\n+\n &lt;section class=\"Section\"&gt;\n   &lt;h2 class=\"sectionLabel l-column\"&gt;Content&lt;/h2&gt;\n-  &lt;div class=\"l-row\"&gt;\n+  &lt;div class=\"Section__item l-row\"&gt;\n     &lt;div class=\"l-halfTile IndexPage__drinkMenu\"&gt;\n       &lt;a href=\"#\" class=\"OverlayPanel\"&gt;\n         &lt;h3 class=\"OverlayPanel__head\"&gt;Drink Menu&lt;/h3&gt;\n@@ -77,4 +78,32 @@\n       &lt;/a&gt;\n     &lt;/div&gt;\n   &lt;/div&gt;\n+  &lt;div class=\"Section__item l-column\"&gt;\n+    &lt;div class=\"l-row\"&gt;\n+      &lt;a class=\"IconPanel l-quaterColumn\"&gt;\n+        &lt;h3 class=\"IconPanel__head\"&gt;\u3053\u3060\u308f\u308a\u306e\u7a7a\u9593&lt;/h3&gt;\n+        &lt;p class=\"IconPanel__body\"&gt;\n+          \u30e9\u30f3\u30c1\u304b\u3089\u30c7\u30a3\u30ca\u30fc\u307e\u3067\u3044\u3064\u307e\u3067\u3082\u30ea\u30e9\u30c3\u30af\u30b9\u3057\u3066\u4f7f\u3048\u308b\u304f\u3064\u308d\u304e\u7a7a\u9593\u3002\u6905\u5b50\u3084\u58c1\u3001\u7d30\u90e8\u306b\u307e\u3067\u3053\u3060\u308f\u3063\u3066\u3044\u307e\u3059\u3002\n+        &lt;/p&gt;\n+      &lt;/a&gt;\n+      &lt;a class=\"IconPanel l-quaterColumn\"&gt;\n+        &lt;h3 class=\"IconPanel__head\"&gt;\u8c46\u3078\u306e\u3053\u3060\u308f\u308a&lt;/h3&gt;\n+        &lt;p class=\"IconPanel__body\"&gt;\n+          \u539f\u7523\u5730\u3001\u8c46\u306e\u7a2e\u985e\u3001\u7119\u714e\u65b9\u6cd5\u306e\u3053\u3060\u308f\u308a\u3092\u7d39\u4ecb\u3059\u308b\n+        &lt;/p&gt;\n+      &lt;/a&gt;\n+      &lt;a class=\"IconPanel l-quaterColumn\"&gt;\n+        &lt;h3 class=\"IconPanel__head\"&gt;\u30b3\u30fc\u30d2\u30fc\u30b9\u30af\u30fc\u30eb&lt;/h3&gt;\n+        &lt;p class=\"IconPanel__body\"&gt;\n+          \u30b3\u30fc\u30d2\u30fc\u8c46\u306e\u57fa\u790e\u77e5\u8b58\u304b\u3089\u3001\u7f8e\u5473\u3057\u3044\u30b3\u30fc\u30d2\u30fc\u3092\u6df9\u308c\u308b\u30b3\u30c4\u3092\u304a\u6559\u3048\u3057\u307e\u3059\u3002\n+        &lt;/p&gt;\n+      &lt;/a&gt;\n+      &lt;a class=\"IconPanel l-quaterColumn\"&gt;\n+        &lt;h3 class=\"IconPanel__head\"&gt;BLOG&lt;/h3&gt;\n+        &lt;p class=\"IconPanel__body\"&gt;\n+          \u304a\u5e97\u306e\u6700\u65b0\u60c5\u5831\u3092\u3001\u3044\u3061\u65e9\u304f\u304a\u5c4a\u3051\u3002\n+        &lt;/p&gt;\n+      &lt;/a&gt;\n+    &lt;/div&gt;\n+  &lt;/div&gt;\n &lt;/section&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#98fbd7e","title":"\u30b3\u30df\u30c3\u30c8: 98fbd7e","text":""},{"location":"journal/20170116/#_77","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u80cc\u666f\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b\n</code></pre>"},{"location":"journal/20170116/#_78","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/images/top/menu_drink.jpg</li> <li>A app/assets/images/top/menu_food.jpg</li> <li>M app/assets/stylesheets/main.scss</li> <li>A app/assets/stylesheets/pages/_index.scss</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170116/#_79","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 98fbd7ef76905c15c9b8e928056e5fa15865adab\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 14:48:22 2017 +0900\n\n    \u80cc\u666f\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b\n\ndiff --git a/app/assets/images/top/menu_drink.jpg b/app/assets/images/top/menu_drink.jpg\nnew file mode 100755\nindex 0000000..6cea785\nBinary files /dev/null and b/app/assets/images/top/menu_drink.jpg differ\ndiff --git a/app/assets/images/top/menu_food.jpg b/app/assets/images/top/menu_food.jpg\nnew file mode 100755\nindex 0000000..4c129c2\nBinary files /dev/null and b/app/assets/images/top/menu_food.jpg differ\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 96feba5..24992b5 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -17,6 +17,8 @@\n @import \"components/parts/labels\";\n // \u30aa\u30fc\u30d0\u30fc\u30ec\u30a4\u30d1\u30cd\u30eb\n @import \"components/overlayPanel\";\n+// Index\u30da\u30fc\u30b8\n+@import \"pages/index\";\n\n //@import \"pages/staff/container\";\n //@import \"pages/staff/layout\";\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/pages/_index.scss b/app/assets/stylesheets/pages/_index.scss\nnew file mode 100644\nindex 0000000..3be23af\n--- /dev/null\n+++ b/app/assets/stylesheets/pages/_index.scss\n@@ -0,0 +1,14 @@\n+.IndexPage {\n+  &amp;__foodMenu,\n+  &amp;__drinkMenu {\n+    background-repeat: no-repeat;\n+    background-position: center center;\n+    background-size: cover;\n+  }\n+  &amp;__drinkMenu {\n+    background-image: image_url('top/menu_drink.jpg')\n+  }\n+  &amp;__foodMenu {\n+    background-image: image_url('top/menu_food.jpg');\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex d967ca8..b7e02ae 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -60,7 +60,7 @@\n &lt;section class=\"Section\"&gt;\n   &lt;h2 class=\"sectionLabel l-column\"&gt;Content&lt;/h2&gt;\n   &lt;div class=\"l-row\"&gt;\n-    &lt;div class=\"l-halfTile\"&gt;\n+    &lt;div class=\"l-halfTile IndexPage__drinkMenu\"&gt;\n       &lt;a href=\"#\" class=\"OverlayPanel\"&gt;\n         &lt;h3 class=\"OverlayPanel__head\"&gt;Drink Menu&lt;/h3&gt;\n         &lt;p class=\"OverlayPanel__body\"&gt;\n@@ -68,7 +68,7 @@\n         &lt;/p&gt;\n       &lt;/a&gt;\n     &lt;/div&gt;\n-    &lt;div class=\"l-halfTile\"&gt;\n+    &lt;div class=\"l-halfTile IndexPage__foodMenu\"&gt;\n       &lt;a href=\"#\" class=\"OverlayPanel\"&gt;\n         &lt;h3 class=\"OverlayPanel__head\"&gt;Food Menu&lt;/h3&gt;\n         &lt;p class=\"OverlayPanel__body\"&gt;\n</code></pre>"},{"location":"journal/20170116/#1b94129","title":"\u30b3\u30df\u30c3\u30c8: 1b94129","text":""},{"location":"journal/20170116/#_80","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>OverlayPanel\u3092\u4f5c\u6210\u3059\u308b\n</code></pre>"},{"location":"journal/20170116/#_81","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/base/_variables.scss</li> <li>A app/assets/stylesheets/components/_overlayPanel.scss</li> <li>M app/assets/stylesheets/components/parts/_layouts.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170116/#_82","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 1b94129a04f1dd80ba26e4b76055ff9f95ce891b\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 14:43:08 2017 +0900\n\n    OverlayPanel\u3092\u4f5c\u6210\u3059\u308b\n\ndiff --git a/app/assets/stylesheets/base/_variables.scss b/app/assets/stylesheets/base/_variables.scss\nindex e79ce22..eec22b2 100644\n--- a/app/assets/stylesheets/base/_variables.scss\n+++ b/app/assets/stylesheets/base/_variables.scss\n@@ -9,4 +9,5 @@ $space-unit: 20px;\n $sp-space-unit: 15px;\n $column-space: $space-unit*2;\n $color-black: #252525;\n-$color-main-text: #474747;\n\\ No newline at end of file\n+$color-main-text: #474747;\n+$color-white: #fff;\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/_overlayPanel.scss b/app/assets/stylesheets/components/_overlayPanel.scss\nnew file mode 100644\nindex 0000000..172bd96\n--- /dev/null\n+++ b/app/assets/stylesheets/components/_overlayPanel.scss\n@@ -0,0 +1,30 @@\n+.OverlayPanel {\n+  $root: &amp;;\n+  display: flex;\n+  flex-direction: column;\n+  justify-content: center;\n+  align-items: center;\n+  width: 100%;\n+  padding: 10% 20%;\n+  background-color: rgba(0,0,0,0.2);\n+  color: $color-white;\n+  &amp;:hover {\n+    background-color: rgba(0,0,0,0.4);\n+    color: $color-white;\n+  }\n+  &amp;__head {\n+    margin: 0 10%;\n+    padding: 24px 36px;\n+    border: 2px solid $color-white;\n+    text-align: center;\n+    text-transform: uppercase;\n+    letter-spacing: .1em;\n+    font-size: 24px;\n+    #{$root}:hover &amp; {\n+      background-color: rgba(255,255,255,0.2);\n+    }\n+  }\n+  &amp;__body {\n+    margin: 16px auto;\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/parts/_layouts.scss b/app/assets/stylesheets/components/parts/_layouts.scss\nindex d1c444b..f5ad201 100644\n--- a/app/assets/stylesheets/components/parts/_layouts.scss\n+++ b/app/assets/stylesheets/components/parts/_layouts.scss\n@@ -18,3 +18,9 @@\n     margin-right: 0;\n   }\n }\n+.l-halfTile {\n+  display: flex;\n+  flex: 1 1 50%;\n+  margin: 0;\n+  padding: 0;\n+}\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 34e2ea5..96feba5 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -15,6 +15,8 @@\n @import \"./components/common/section\";\n // \u30e9\u30d9\u30eb\n @import \"components/parts/labels\";\n+// \u30aa\u30fc\u30d0\u30fc\u30ec\u30a4\u30d1\u30cd\u30eb\n+@import \"components/overlayPanel\";\n\n //@import \"pages/staff/container\";\n //@import \"pages/staff/layout\";\n\\ No newline at end of file\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex 293e7b6..d967ca8 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -56,6 +56,25 @@\n   &lt;/div&gt;\n &lt;/section&gt;\n\n+\n &lt;section class=\"Section\"&gt;\n   &lt;h2 class=\"sectionLabel l-column\"&gt;Content&lt;/h2&gt;\n+  &lt;div class=\"l-row\"&gt;\n+    &lt;div class=\"l-halfTile\"&gt;\n+      &lt;a href=\"#\" class=\"OverlayPanel\"&gt;\n+        &lt;h3 class=\"OverlayPanel__head\"&gt;Drink Menu&lt;/h3&gt;\n+        &lt;p class=\"OverlayPanel__body\"&gt;\n+          \u5b9a\u756a\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u3001\u5b63\u7bc0\u306b\u5408\u308f\u305b\u305f\u5546\u54c1\u307e\u3067\u54c1\u63c3\u3048\u8c4a\u5bcc\u306b\u53d6\u308a\u63c3\u3048\u3066\u304a\u308a\u307e\u3059\u3002\u3042\u306a\u305f\u306e\u304a\u6c17\u306b\u5165\u308a\u3092\u898b\u3064\u3051\u307e\u3057\u3087\u3046\u3002\n+        &lt;/p&gt;\n+      &lt;/a&gt;\n+    &lt;/div&gt;\n+    &lt;div class=\"l-halfTile\"&gt;\n+      &lt;a href=\"#\" class=\"OverlayPanel\"&gt;\n+        &lt;h3 class=\"OverlayPanel__head\"&gt;Food Menu&lt;/h3&gt;\n+        &lt;p class=\"OverlayPanel__body\"&gt;\n+          \u30b5\u30f3\u30c9\u30a4\u30c3\u30c1\u3001\u30b1\u30fc\u30ad\u3001\u30d1\u30b9\u30bf\u3001\u5f53\u5e97\u81ea\u6162\u306e\u30b3\u30fc\u30d2\u30fc\u3068\u4e00\u7dd2\u306b\u3069\u3046\u305e\u3002\n+        &lt;/p&gt;\n+      &lt;/a&gt;\n+    &lt;/div&gt;\n+  &lt;/div&gt;\n &lt;/section&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#b56a9cb","title":"\u30b3\u30df\u30c3\u30c8: b56a9cb","text":""},{"location":"journal/20170116/#_83","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30bf\u30a4\u30c8\u30eb\u90e8\u5206\u3092\u4f5c\u6210\u3059\u308b\n</code></pre>"},{"location":"journal/20170116/#_84","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/base/_variables.scss</li> <li>A app/assets/stylesheets/components/parts/_labels.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170116/#_85","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit b56a9cb19318dd9335aba2741b3b56c318a5d44e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 14:38:23 2017 +0900\n\n    \u30bf\u30a4\u30c8\u30eb\u90e8\u5206\u3092\u4f5c\u6210\u3059\u308b\n\ndiff --git a/app/assets/stylesheets/base/_variables.scss b/app/assets/stylesheets/base/_variables.scss\nindex 888f4e2..e79ce22 100644\n--- a/app/assets/stylesheets/base/_variables.scss\n+++ b/app/assets/stylesheets/base/_variables.scss\n@@ -8,4 +8,5 @@ $base-content-width: 1180px;\n $space-unit: 20px;\n $sp-space-unit: 15px;\n $column-space: $space-unit*2;\n-$color-black: #252525;\n\\ No newline at end of file\n+$color-black: #252525;\n+$color-main-text: #474747;\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/parts/_labels.scss b/app/assets/stylesheets/components/parts/_labels.scss\nnew file mode 100644\nindex 0000000..44f3c44\n--- /dev/null\n+++ b/app/assets/stylesheets/components/parts/_labels.scss\n@@ -0,0 +1,26 @@\n+.sectionLabel {\n+  display: flex;\n+  flex: 1 1 auto;\n+  align-items: center;\n+  padding-top: 14px;\n+  padding-bottom: 14px;\n+  color: $color-main-text;\n+  text-transform: uppercase;\n+  font-size: 22px;\n+  line-height: 1;\n+\n+  &amp;::before,\n+  &amp;::after {\n+    content: '';\n+    display: block;\n+    flex: 1 0 10%;\n+    height: 0;\n+    border-bottom: 1px solid $color-main-text;\n+  }\n+  &amp;::before {\n+    margin-right: 22px;\n+  }\n+  &amp;::after {\n+    margin-left: 22px;\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 4d7a3cf..34e2ea5 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -13,6 +13,8 @@\n // \u30ab\u30eb\u30fc\u30bb\u30eb\n @import \"components/imageSlide\";\n @import \"./components/common/section\";\n+// \u30e9\u30d9\u30eb\n+@import \"components/parts/labels\";\n\n //@import \"pages/staff/container\";\n //@import \"pages/staff/layout\";\n\\ No newline at end of file\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex 6850873..293e7b6 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -57,5 +57,5 @@\n &lt;/section&gt;\n\n &lt;section class=\"Section\"&gt;\n-\n+  &lt;h2 class=\"sectionLabel l-column\"&gt;Content&lt;/h2&gt;\n &lt;/section&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#a3554ad","title":"\u30b3\u30df\u30c3\u30c8: a3554ad","text":""},{"location":"journal/20170116/#_86","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b3\u30f3\u30c6\u30f3\u30c4\u90e8\u306e\u4f5c\u6210\u3092\u306f\u3058\u3081\u308b\n</code></pre>"},{"location":"journal/20170116/#_87","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170116/#_88","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit a3554ade743b557cd04810d669413609031ab8cb\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 14:34:22 2017 +0900\n\n    \u30b3\u30f3\u30c6\u30f3\u30c4\u90e8\u306e\u4f5c\u6210\u3092\u306f\u3058\u3081\u308b\n\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex dc1b8da..6850873 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -54,4 +54,8 @@\n       &lt;/div&gt;\n     &lt;/div&gt;\n   &lt;/div&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section\"&gt;\n+\n &lt;/section&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#8687332","title":"\u30b3\u30df\u30c3\u30c8: 8687332","text":""},{"location":"journal/20170116/#_89","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>JavaScript\u3092\u6709\u52b9\u5316\u3059\u308b\n</code></pre>"},{"location":"journal/20170116/#_90","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/javascripts/lib/flipsnap.js</li> <li>A app/assets/javascripts/lib/underscore.js</li> <li>A app/assets/stylesheets/components/common/_section.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170116/#_91","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 86873324b7c264ae4450b874da08ca72b0265fc2\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 14:32:40 2017 +0900\n\n    JavaScript\u3092\u6709\u52b9\u5316\u3059\u308b\n\ndiff --git a/app/assets/javascripts/lib/flipsnap.js b/app/assets/javascripts/lib/flipsnap.js\nnew file mode 100755\nindex 0000000..1df35e6\n--- /dev/null\n+++ b/app/assets/javascripts/lib/flipsnap.js\n@@ -0,0 +1,608 @@\n+/**\n+ * flipsnap.js\n+ *\n+ * @version  0.6.3\n+ * @url http://hokaccha.github.com/js-flipsnap/\n+ *\n+ * Copyright 2011 PixelGrid, Inc.\n+ * Licensed under the MIT License:\n+ * http://www.opensource.org/licenses/mit-license.php\n+ */\n+\n+(function(root, factory) {\n+  if (typeof define === 'function' &amp;&amp; define.amd) {\n+    define([], factory);\n+  } else if (typeof exports === 'object') {\n+    module.exports = factory();\n+  } else {\n+    root.Flipsnap = factory();\n+  }\n+})(this, function() {\n+\n+var div = document.createElement('div');\n+var prefix = ['webkit', 'moz', 'o', 'ms'];\n+var saveProp = {};\n+var support = Flipsnap.support = {};\n+var gestureStart = false;\n+\n+var DISTANCE_THRESHOLD = 5;\n+var ANGLE_THREHOLD = 55;\n+\n+support.transform3d = hasProp([\n+  'perspectiveProperty',\n+  'WebkitPerspective',\n+  'MozPerspective',\n+  'OPerspective',\n+  'msPerspective'\n+]);\n+\n+support.transform = hasProp([\n+  'transformProperty',\n+  'WebkitTransform',\n+  'MozTransform',\n+  'OTransform',\n+  'msTransform'\n+]);\n+\n+support.transition = hasProp([\n+  'transitionProperty',\n+  'WebkitTransitionProperty',\n+  'MozTransitionProperty',\n+  'OTransitionProperty',\n+  'msTransitionProperty'\n+]);\n+\n+support.addEventListener = 'addEventListener' in window;\n+support.mspointer = window.navigator.msPointerEnabled;\n+\n+support.cssAnimation = (support.transform3d || support.transform) &amp;&amp; support.transition;\n+\n+var eventTypes = ['touch', 'mouse'];\n+var events = {\n+  start: {\n+    touch: 'touchstart',\n+    mouse: 'mousedown'\n+  },\n+  move: {\n+    touch: 'touchmove',\n+    mouse: 'mousemove'\n+  },\n+  end: {\n+    touch: 'touchend',\n+    mouse: 'mouseup'\n+  }\n+};\n+\n+if (support.addEventListener) {\n+  document.addEventListener('gesturestart', function() {\n+    gestureStart = true;\n+  });\n+\n+  document.addEventListener('gestureend', function() {\n+    gestureStart = false;\n+  });\n+}\n+\n+function Flipsnap(element, opts) {\n+  return (this instanceof Flipsnap)\n+    ? this.init(element, opts)\n+    : new Flipsnap(element, opts);\n+}\n+\n+Flipsnap.prototype.init = function(element, opts) {\n+  var self = this;\n+\n+  // set element\n+  self.element = element;\n+  if (typeof element === 'string') {\n+    self.element = document.querySelector(element);\n+  }\n+\n+  if (!self.element) {\n+    throw new Error('element not found');\n+  }\n+\n+  if (support.mspointer) {\n+    self.element.style.msTouchAction = 'pan-y';\n+  }\n+\n+  // set opts\n+  opts = opts || {};\n+  self.distance = opts.distance;\n+  self.maxPoint = opts.maxPoint;\n+  self.disableTouch = (opts.disableTouch === undefined) ? false : opts.disableTouch;\n+  self.disable3d = (opts.disable3d === undefined) ? false : opts.disable3d;\n+  self.transitionDuration = (opts.transitionDuration === undefined) ? '350ms' : opts.transitionDuration + 'ms';\n+  self.threshold = opts.threshold || 0;\n+\n+  // set property\n+  self.currentPoint = 0;\n+  self.currentX = 0;\n+  self.animation = false;\n+  self.timerId = null;\n+  self.use3d = support.transform3d;\n+  if (self.disable3d === true) {\n+    self.use3d = false;\n+  }\n+\n+  // set default style\n+  if (support.cssAnimation) {\n+    self._setStyle({\n+      transitionProperty: getCSSVal('transform'),\n+      transitionTimingFunction: 'cubic-bezier(0,0,0.25,1)',\n+      transitionDuration: '0ms',\n+      transform: self._getTranslate(0)\n+    });\n+  }\n+  else {\n+    self._setStyle({\n+      position: 'relative',\n+      left: '0px'\n+    });\n+  }\n+\n+  // initilize\n+  self.refresh();\n+\n+  eventTypes.forEach(function(type) {\n+    self.element.addEventListener(events.start[type], self, false);\n+  });\n+\n+  return self;\n+};\n+\n+Flipsnap.prototype.handleEvent = function(event) {\n+  var self = this;\n+\n+  switch (event.type) {\n+    // start\n+    case events.start.touch: self._touchStart(event, 'touch'); break;\n+    case events.start.mouse: self._touchStart(event, 'mouse'); break;\n+\n+    // move\n+    case events.move.touch: self._touchMove(event, 'touch'); break;\n+    case events.move.mouse: self._touchMove(event, 'mouse'); break;\n+\n+    // end\n+    case events.end.touch: self._touchEnd(event, 'touch'); break;\n+    case events.end.mouse: self._touchEnd(event, 'mouse'); break;\n+\n+    // click\n+    case 'click': self._click(event); break;\n+  }\n+};\n+\n+Flipsnap.prototype.refresh = function() {\n+  var self = this;\n+\n+  // setting max point\n+  self._maxPoint = (self.maxPoint === undefined) ? (function() {\n+    var childNodes = self.element.childNodes,\n+      itemLength = -1,\n+      i = 0,\n+      len = childNodes.length,\n+      node;\n+    for(; i &lt; len; i++) {\n+      node = childNodes[i];\n+      if (node.nodeType === 1) {\n+        itemLength++;\n+      }\n+    }\n+\n+    return itemLength;\n+  })() : self.maxPoint;\n+\n+  // setting distance\n+  if (self.distance === undefined) {\n+    if (self._maxPoint &lt; 0) {\n+      self._distance = 0;\n+    }\n+    else {\n+      self._distance = self.element.scrollWidth / (self._maxPoint + 1);\n+    }\n+  }\n+  else {\n+    self._distance = self.distance;\n+  }\n+\n+  // setting maxX\n+  self._maxX = -self._distance * self._maxPoint;\n+\n+  self.moveToPoint();\n+};\n+\n+Flipsnap.prototype.hasNext = function() {\n+  var self = this;\n+\n+  return self.currentPoint &lt; self._maxPoint;\n+};\n+\n+Flipsnap.prototype.hasPrev = function() {\n+  var self = this;\n+\n+  return self.currentPoint &gt; 0;\n+};\n+\n+Flipsnap.prototype.toNext = function(transitionDuration) {\n+  var self = this;\n+\n+  if (!self.hasNext()) {\n+    return;\n+  }\n+\n+  self.moveToPoint(self.currentPoint + 1, transitionDuration);\n+};\n+\n+Flipsnap.prototype.toPrev = function(transitionDuration) {\n+  var self = this;\n+\n+  if (!self.hasPrev()) {\n+    return;\n+  }\n+\n+  self.moveToPoint(self.currentPoint - 1, transitionDuration);\n+};\n+\n+Flipsnap.prototype.moveToPoint = function(point, transitionDuration) {\n+  var self = this;\n+  \n+  transitionDuration = transitionDuration === undefined\n+    ? self.transitionDuration : transitionDuration + 'ms';\n+\n+  var beforePoint = self.currentPoint;\n+\n+  // not called from `refresh()`\n+  if (point === undefined) {\n+    point = self.currentPoint;\n+  }\n+\n+  if (point &lt; 0) {\n+    self.currentPoint = 0;\n+  }\n+  else if (point &gt; self._maxPoint) {\n+    self.currentPoint = self._maxPoint;\n+  }\n+  else {\n+    self.currentPoint = parseInt(point, 10);\n+  }\n+\n+  if (support.cssAnimation) {\n+    self._setStyle({ transitionDuration: transitionDuration });\n+  }\n+  else {\n+    self.animation = true;\n+  }\n+  self._setX(- self.currentPoint * self._distance, transitionDuration);\n+\n+  if (beforePoint !== self.currentPoint) { // is move?\n+    // `fsmoveend` is deprecated\n+    // `fspointmove` is recommend.\n+    self._triggerEvent('fsmoveend', true, false);\n+    self._triggerEvent('fspointmove', true, false);\n+  }\n+};\n+\n+Flipsnap.prototype._setX = function(x, transitionDuration) {\n+  var self = this;\n+\n+  self.currentX = x;\n+  if (support.cssAnimation) {\n+    self.element.style[ saveProp.transform ] = self._getTranslate(x);\n+  }\n+  else {\n+    if (self.animation) {\n+      self._animate(x, transitionDuration || self.transitionDuration);\n+    }\n+    else {\n+      self.element.style.left = x + 'px';\n+    }\n+  }\n+};\n+\n+Flipsnap.prototype._touchStart = function(event, type) {\n+  var self = this;\n+\n+  if (self.disableTouch || self.scrolling || gestureStart) {\n+    return;\n+  }\n+\n+  self.element.addEventListener(events.move[type], self, false);\n+  document.addEventListener(events.end[type], self, false);\n+\n+  var tagName = event.target.tagName;\n+  if (type === 'mouse' &amp;&amp; tagName !== 'SELECT' &amp;&amp; tagName !== 'INPUT' &amp;&amp; tagName !== 'TEXTAREA' &amp;&amp; tagName !== 'BUTTON') {\n+    event.preventDefault();\n+  }\n+\n+  if (support.cssAnimation) {\n+    self._setStyle({ transitionDuration: '0ms' });\n+  }\n+  else {\n+    self.animation = false;\n+  }\n+  self.scrolling = true;\n+  self.moveReady = false;\n+  self.startPageX = getPage(event, 'pageX');\n+  self.startPageY = getPage(event, 'pageY');\n+  self.basePageX = self.startPageX;\n+  self.directionX = 0;\n+  self.startTime = event.timeStamp;\n+  self._triggerEvent('fstouchstart', true, false);\n+};\n+\n+Flipsnap.prototype._touchMove = function(event, type) {\n+  var self = this;\n+\n+  if (!self.scrolling || gestureStart) {\n+    return;\n+  }\n+\n+  var pageX = getPage(event, 'pageX');\n+  var pageY = getPage(event, 'pageY');\n+  var distX;\n+  var newX;\n+\n+  if (self.moveReady) {\n+    event.preventDefault();\n+\n+    distX = pageX - self.basePageX;\n+    newX = self.currentX + distX;\n+    if (newX &gt;= 0 || newX &lt; self._maxX) {\n+      newX = Math.round(self.currentX + distX / 3);\n+    }\n+\n+    // When distX is 0, use one previous value.\n+    // For android firefox. When touchend fired, touchmove also\n+    // fired and distX is certainly set to 0. \n+    self.directionX =\n+      distX === 0 ? self.directionX :\n+      distX &gt; 0 ? -1 : 1;\n+\n+    // if they prevent us then stop it\n+    var isPrevent = !self._triggerEvent('fstouchmove', true, true, {\n+      delta: distX,\n+      direction: self.directionX\n+    });\n+\n+    if (isPrevent) {\n+      self._touchAfter({\n+        moved: false,\n+        originalPoint: self.currentPoint,\n+        newPoint: self.currentPoint,\n+        cancelled: true\n+      });\n+    } else {\n+      self._setX(newX);\n+    }\n+  }\n+  else {\n+    // https://github.com/hokaccha/js-flipsnap/pull/36\n+    var triangle = getTriangleSide(self.startPageX, self.startPageY, pageX, pageY);\n+    if (triangle.z &gt; DISTANCE_THRESHOLD) {\n+      if (getAngle(triangle) &gt; ANGLE_THREHOLD) {\n+        event.preventDefault();\n+        self.moveReady = true;\n+        self.element.addEventListener('click', self, true);\n+      }\n+      else {\n+        self.scrolling = false;\n+      }\n+    }\n+  }\n+\n+  self.basePageX = pageX;\n+};\n+\n+Flipsnap.prototype._touchEnd = function(event, type) {\n+  var self = this;\n+\n+  self.element.removeEventListener(events.move[type], self, false);\n+  document.removeEventListener(events.end[type], self, false);\n+\n+  if (!self.scrolling) {\n+    return;\n+  }\n+\n+  var newPoint = -self.currentX / self._distance;\n+  newPoint =\n+    (self.directionX &gt; 0) ? Math.ceil(newPoint) :\n+    (self.directionX &lt; 0) ? Math.floor(newPoint) :\n+    Math.round(newPoint);\n+\n+  if (newPoint &lt; 0) {\n+    newPoint = 0;\n+  }\n+  else if (newPoint &gt; self._maxPoint) {\n+    newPoint = self._maxPoint;\n+  }\n+\n+  if (Math.abs(self.startPageX - self.basePageX) &lt; self.threshold) {\n+    newPoint = self.currentPoint;\n+  }\n+\n+  self._touchAfter({\n+    moved: newPoint !== self.currentPoint,\n+    originalPoint: self.currentPoint,\n+    newPoint: newPoint,\n+    cancelled: false\n+  });\n+\n+  self.moveToPoint(newPoint);\n+};\n+\n+Flipsnap.prototype._click = function(event) {\n+  var self = this;\n+\n+  event.stopPropagation();\n+  event.preventDefault();\n+};\n+\n+Flipsnap.prototype._touchAfter = function(params) {\n+  var self = this;\n+\n+  self.scrolling = false;\n+  self.moveReady = false;\n+\n+  setTimeout(function() {\n+    self.element.removeEventListener('click', self, true);\n+  }, 200);\n+\n+  self._triggerEvent('fstouchend', true, false, params);\n+};\n+\n+Flipsnap.prototype._setStyle = function(styles) {\n+  var self = this;\n+  var style = self.element.style;\n+\n+  for (var prop in styles) {\n+    setStyle(style, prop, styles[prop]);\n+  }\n+};\n+\n+Flipsnap.prototype._animate = function(x, transitionDuration) {\n+  var self = this;\n+\n+  var elem = self.element;\n+  var begin = +new Date();\n+  var from = parseInt(elem.style.left, 10);\n+  var to = x;\n+  var duration = parseInt(transitionDuration, 10);\n+  var easing = function(time, duration) {\n+    return -(time /= duration) * (time - 2);\n+  };\n+\n+  if (self.timerId) {\n+    clearInterval(self.timerId);\n+  }\n+  self.timerId = setInterval(function() {\n+    var time = new Date() - begin;\n+    var pos, now;\n+    if (time &gt; duration) {\n+      clearInterval(self.timerId);\n+      self.timerId = null;\n+      now = to;\n+    }\n+    else {\n+      pos = easing(time, duration);\n+      now = pos * (to - from) + from;\n+    }\n+    elem.style.left = now + \"px\";\n+  }, 10);\n+};\n+\n+Flipsnap.prototype.destroy = function() {\n+  var self = this;\n+\n+  eventTypes.forEach(function(type) {\n+    self.element.removeEventListener(events.start[type], self, false);\n+  });\n+};\n+\n+Flipsnap.prototype._getTranslate = function(x) {\n+  var self = this;\n+\n+  return self.use3d\n+    ? 'translate3d(' + x + 'px, 0, 0)'\n+    : 'translate(' + x + 'px, 0)';\n+};\n+\n+Flipsnap.prototype._triggerEvent = function(type, bubbles, cancelable, data) {\n+  var self = this;\n+\n+  var ev = document.createEvent('Event');\n+  ev.initEvent(type, bubbles, cancelable);\n+\n+  if (data) {\n+    for (var d in data) {\n+      if (data.hasOwnProperty(d)) {\n+        ev[d] = data[d];\n+      }\n+    }\n+  }\n+\n+  return self.element.dispatchEvent(ev);\n+};\n+\n+function getPage(event, page) {\n+  return event.changedTouches ? event.changedTouches[0][page] : event[page];\n+}\n+\n+function hasProp(props) {\n+  return some(props, function(prop) {\n+    return div.style[ prop ] !== undefined;\n+  });\n+}\n+\n+function setStyle(style, prop, val) {\n+  var _saveProp = saveProp[ prop ];\n+  if (_saveProp) {\n+    style[ _saveProp ] = val;\n+  }\n+  else if (style[ prop ] !== undefined) {\n+    saveProp[ prop ] = prop;\n+    style[ prop ] = val;\n+  }\n+  else {\n+    some(prefix, function(_prefix) {\n+      var _prop = ucFirst(_prefix) + ucFirst(prop);\n+      if (style[ _prop ] !== undefined) {\n+        saveProp[ prop ] = _prop;\n+        style[ _prop ] = val;\n+        return true;\n+      }\n+    });\n+  }\n+}\n+\n+function getCSSVal(prop) {\n+  if (div.style[ prop ] !== undefined) {\n+    return prop;\n+  }\n+  else {\n+    var ret;\n+    some(prefix, function(_prefix) {\n+      var _prop = ucFirst(_prefix) + ucFirst(prop);\n+      if (div.style[ _prop ] !== undefined) {\n+        ret = '-' + _prefix + '-' + prop;\n+        return true;\n+      }\n+    });\n+    return ret;\n+  }\n+}\n+\n+function ucFirst(str) {\n+  return str.charAt(0).toUpperCase() + str.substr(1);\n+}\n+\n+function some(ary, callback) {\n+  for (var i = 0, len = ary.length; i &lt; len; i++) {\n+    if (callback(ary[i], i)) {\n+      return true;\n+    }\n+  }\n+  return false;\n+}\n+\n+function getTriangleSide(x1, y1, x2, y2) {\n+  var x = Math.abs(x1 - x2);\n+  var y = Math.abs(y1 - y2);\n+  var z = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n+\n+  return {\n+    x: x,\n+    y: y,\n+    z: z\n+  };\n+}\n+\n+function getAngle(triangle) {\n+  var cos = triangle.y / triangle.z;\n+  var radian = Math.acos(cos);\n+\n+  return 180 / (Math.PI / radian);\n+}\n+\n+return Flipsnap;\n+\n+});\ndiff --git a/app/assets/javascripts/lib/underscore.js b/app/assets/javascripts/lib/underscore.js\nnew file mode 100755\nindex 0000000..b29332f\n--- /dev/null\n+++ b/app/assets/javascripts/lib/underscore.js\n@@ -0,0 +1,1548 @@\n+//     Underscore.js 1.8.3\n+//     http://underscorejs.org\n+//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters &amp; Editors\n+//     Underscore may be freely distributed under the MIT license.\n+\n+(function() {\n+\n+  // Baseline setup\n+  // --------------\n+\n+  // Establish the root object, `window` in the browser, or `exports` on the server.\n+  var root = this;\n+\n+  // Save the previous value of the `_` variable.\n+  var previousUnderscore = root._;\n+\n+  // Save bytes in the minified (but not gzipped) version:\n+  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n+\n+  // Create quick reference variables for speed access to core prototypes.\n+  var\n+    push             = ArrayProto.push,\n+    slice            = ArrayProto.slice,\n+    toString         = ObjProto.toString,\n+    hasOwnProperty   = ObjProto.hasOwnProperty;\n+\n+  // All **ECMAScript 5** native function implementations that we hope to use\n+  // are declared here.\n+  var\n+    nativeIsArray      = Array.isArray,\n+    nativeKeys         = Object.keys,\n+    nativeBind         = FuncProto.bind,\n+    nativeCreate       = Object.create;\n+\n+  // Naked function reference for surrogate-prototype-swapping.\n+  var Ctor = function(){};\n+\n+  // Create a safe reference to the Underscore object for use below.\n+  var _ = function(obj) {\n+    if (obj instanceof _) return obj;\n+    if (!(this instanceof _)) return new _(obj);\n+    this._wrapped = obj;\n+  };\n+\n+  // Export the Underscore object for **Node.js**, with\n+  // backwards-compatibility for the old `require()` API. If we're in\n+  // the browser, add `_` as a global object.\n+  if (typeof exports !== 'undefined') {\n+    if (typeof module !== 'undefined' &amp;&amp; module.exports) {\n+      exports = module.exports = _;\n+    }\n+    exports._ = _;\n+  } else {\n+    root._ = _;\n+  }\n+\n+  // Current version.\n+  _.VERSION = '1.8.3';\n+\n+  // Internal function that returns an efficient (for current engines) version\n+  // of the passed-in callback, to be repeatedly applied in other Underscore\n+  // functions.\n+  var optimizeCb = function(func, context, argCount) {\n+    if (context === void 0) return func;\n+    switch (argCount == null ? 3 : argCount) {\n+      case 1: return function(value) {\n+        return func.call(context, value);\n+      };\n+      case 2: return function(value, other) {\n+        return func.call(context, value, other);\n+      };\n+      case 3: return function(value, index, collection) {\n+        return func.call(context, value, index, collection);\n+      };\n+      case 4: return function(accumulator, value, index, collection) {\n+        return func.call(context, accumulator, value, index, collection);\n+      };\n+    }\n+    return function() {\n+      return func.apply(context, arguments);\n+    };\n+  };\n+\n+  // A mostly-internal function to generate callbacks that can be applied\n+  // to each element in a collection, returning the desired result \u2014 either\n+  // identity, an arbitrary callback, a property matcher, or a property accessor.\n+  var cb = function(value, context, argCount) {\n+    if (value == null) return _.identity;\n+    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n+    if (_.isObject(value)) return _.matcher(value);\n+    return _.property(value);\n+  };\n+  _.iteratee = function(value, context) {\n+    return cb(value, context, Infinity);\n+  };\n+\n+  // An internal function for creating assigner functions.\n+  var createAssigner = function(keysFunc, undefinedOnly) {\n+    return function(obj) {\n+      var length = arguments.length;\n+      if (length &lt; 2 || obj == null) return obj;\n+      for (var index = 1; index &lt; length; index++) {\n+        var source = arguments[index],\n+            keys = keysFunc(source),\n+            l = keys.length;\n+        for (var i = 0; i &lt; l; i++) {\n+          var key = keys[i];\n+          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];\n+        }\n+      }\n+      return obj;\n+    };\n+  };\n+\n+  // An internal function for creating a new object that inherits from another.\n+  var baseCreate = function(prototype) {\n+    if (!_.isObject(prototype)) return {};\n+    if (nativeCreate) return nativeCreate(prototype);\n+    Ctor.prototype = prototype;\n+    var result = new Ctor;\n+    Ctor.prototype = null;\n+    return result;\n+  };\n+\n+  var property = function(key) {\n+    return function(obj) {\n+      return obj == null ? void 0 : obj[key];\n+    };\n+  };\n+\n+  // Helper for collection methods to determine whether a collection\n+  // should be iterated as an array or as an object\n+  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n+  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n+  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n+  var getLength = property('length');\n+  var isArrayLike = function(collection) {\n+    var length = getLength(collection);\n+    return typeof length == 'number' &amp;&amp; length &gt;= 0 &amp;&amp; length &lt;= MAX_ARRAY_INDEX;\n+  };\n+\n+  // Collection Functions\n+  // --------------------\n+\n+  // The cornerstone, an `each` implementation, aka `forEach`.\n+  // Handles raw objects in addition to array-likes. Treats all\n+  // sparse array-likes as if they were dense.\n+  _.each = _.forEach = function(obj, iteratee, context) {\n+    iteratee = optimizeCb(iteratee, context);\n+    var i, length;\n+    if (isArrayLike(obj)) {\n+      for (i = 0, length = obj.length; i &lt; length; i++) {\n+        iteratee(obj[i], i, obj);\n+      }\n+    } else {\n+      var keys = _.keys(obj);\n+      for (i = 0, length = keys.length; i &lt; length; i++) {\n+        iteratee(obj[keys[i]], keys[i], obj);\n+      }\n+    }\n+    return obj;\n+  };\n+\n+  // Return the results of applying the iteratee to each element.\n+  _.map = _.collect = function(obj, iteratee, context) {\n+    iteratee = cb(iteratee, context);\n+    var keys = !isArrayLike(obj) &amp;&amp; _.keys(obj),\n+        length = (keys || obj).length,\n+        results = Array(length);\n+    for (var index = 0; index &lt; length; index++) {\n+      var currentKey = keys ? keys[index] : index;\n+      results[index] = iteratee(obj[currentKey], currentKey, obj);\n+    }\n+    return results;\n+  };\n+\n+  // Create a reducing function iterating left or right.\n+  function createReduce(dir) {\n+    // Optimized iterator function as using arguments.length\n+    // in the main function will deoptimize the, see #1991.\n+    function iterator(obj, iteratee, memo, keys, index, length) {\n+      for (; index &gt;= 0 &amp;&amp; index &lt; length; index += dir) {\n+        var currentKey = keys ? keys[index] : index;\n+        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n+      }\n+      return memo;\n+    }\n+\n+    return function(obj, iteratee, memo, context) {\n+      iteratee = optimizeCb(iteratee, context, 4);\n+      var keys = !isArrayLike(obj) &amp;&amp; _.keys(obj),\n+          length = (keys || obj).length,\n+          index = dir &gt; 0 ? 0 : length - 1;\n+      // Determine the initial value if none is provided.\n+      if (arguments.length &lt; 3) {\n+        memo = obj[keys ? keys[index] : index];\n+        index += dir;\n+      }\n+      return iterator(obj, iteratee, memo, keys, index, length);\n+    };\n+  }\n+\n+  // **Reduce** builds up a single result from a list of values, aka `inject`,\n+  // or `foldl`.\n+  _.reduce = _.foldl = _.inject = createReduce(1);\n+\n+  // The right-associative version of reduce, also known as `foldr`.\n+  _.reduceRight = _.foldr = createReduce(-1);\n+\n+  // Return the first value which passes a truth test. Aliased as `detect`.\n+  _.find = _.detect = function(obj, predicate, context) {\n+    var key;\n+    if (isArrayLike(obj)) {\n+      key = _.findIndex(obj, predicate, context);\n+    } else {\n+      key = _.findKey(obj, predicate, context);\n+    }\n+    if (key !== void 0 &amp;&amp; key !== -1) return obj[key];\n+  };\n+\n+  // Return all the elements that pass a truth test.\n+  // Aliased as `select`.\n+  _.filter = _.select = function(obj, predicate, context) {\n+    var results = [];\n+    predicate = cb(predicate, context);\n+    _.each(obj, function(value, index, list) {\n+      if (predicate(value, index, list)) results.push(value);\n+    });\n+    return results;\n+  };\n+\n+  // Return all the elements for which a truth test fails.\n+  _.reject = function(obj, predicate, context) {\n+    return _.filter(obj, _.negate(cb(predicate)), context);\n+  };\n+\n+  // Determine whether all of the elements match a truth test.\n+  // Aliased as `all`.\n+  _.every = _.all = function(obj, predicate, context) {\n+    predicate = cb(predicate, context);\n+    var keys = !isArrayLike(obj) &amp;&amp; _.keys(obj),\n+        length = (keys || obj).length;\n+    for (var index = 0; index &lt; length; index++) {\n+      var currentKey = keys ? keys[index] : index;\n+      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n+    }\n+    return true;\n+  };\n+\n+  // Determine if at least one element in the object matches a truth test.\n+  // Aliased as `any`.\n+  _.some = _.any = function(obj, predicate, context) {\n+    predicate = cb(predicate, context);\n+    var keys = !isArrayLike(obj) &amp;&amp; _.keys(obj),\n+        length = (keys || obj).length;\n+    for (var index = 0; index &lt; length; index++) {\n+      var currentKey = keys ? keys[index] : index;\n+      if (predicate(obj[currentKey], currentKey, obj)) return true;\n+    }\n+    return false;\n+  };\n+\n+  // Determine if the array or object contains a given item (using `===`).\n+  // Aliased as `includes` and `include`.\n+  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n+    if (!isArrayLike(obj)) obj = _.values(obj);\n+    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n+    return _.indexOf(obj, item, fromIndex) &gt;= 0;\n+  };\n+\n+  // Invoke a method (with arguments) on every item in a collection.\n+  _.invoke = function(obj, method) {\n+    var args = slice.call(arguments, 2);\n+    var isFunc = _.isFunction(method);\n+    return _.map(obj, function(value) {\n+      var func = isFunc ? method : value[method];\n+      return func == null ? func : func.apply(value, args);\n+    });\n+  };\n+\n+  // Convenience version of a common use case of `map`: fetching a property.\n+  _.pluck = function(obj, key) {\n+    return _.map(obj, _.property(key));\n+  };\n+\n+  // Convenience version of a common use case of `filter`: selecting only objects\n+  // containing specific `key:value` pairs.\n+  _.where = function(obj, attrs) {\n+    return _.filter(obj, _.matcher(attrs));\n+  };\n+\n+  // Convenience version of a common use case of `find`: getting the first object\n+  // containing specific `key:value` pairs.\n+  _.findWhere = function(obj, attrs) {\n+    return _.find(obj, _.matcher(attrs));\n+  };\n+\n+  // Return the maximum element (or element-based computation).\n+  _.max = function(obj, iteratee, context) {\n+    var result = -Infinity, lastComputed = -Infinity,\n+        value, computed;\n+    if (iteratee == null &amp;&amp; obj != null) {\n+      obj = isArrayLike(obj) ? obj : _.values(obj);\n+      for (var i = 0, length = obj.length; i &lt; length; i++) {\n+        value = obj[i];\n+        if (value &gt; result) {\n+          result = value;\n+        }\n+      }\n+    } else {\n+      iteratee = cb(iteratee, context);\n+      _.each(obj, function(value, index, list) {\n+        computed = iteratee(value, index, list);\n+        if (computed &gt; lastComputed || computed === -Infinity &amp;&amp; result === -Infinity) {\n+          result = value;\n+          lastComputed = computed;\n+        }\n+      });\n+    }\n+    return result;\n+  };\n+\n+  // Return the minimum element (or element-based computation).\n+  _.min = function(obj, iteratee, context) {\n+    var result = Infinity, lastComputed = Infinity,\n+        value, computed;\n+    if (iteratee == null &amp;&amp; obj != null) {\n+      obj = isArrayLike(obj) ? obj : _.values(obj);\n+      for (var i = 0, length = obj.length; i &lt; length; i++) {\n+        value = obj[i];\n+        if (value &lt; result) {\n+          result = value;\n+        }\n+      }\n+    } else {\n+      iteratee = cb(iteratee, context);\n+      _.each(obj, function(value, index, list) {\n+        computed = iteratee(value, index, list);\n+        if (computed &lt; lastComputed || computed === Infinity &amp;&amp; result === Infinity) {\n+          result = value;\n+          lastComputed = computed;\n+        }\n+      });\n+    }\n+    return result;\n+  };\n+\n+  // Shuffle a collection, using the modern version of the\n+  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher\u2013Yates_shuffle).\n+  _.shuffle = function(obj) {\n+    var set = isArrayLike(obj) ? obj : _.values(obj);\n+    var length = set.length;\n+    var shuffled = Array(length);\n+    for (var index = 0, rand; index &lt; length; index++) {\n+      rand = _.random(0, index);\n+      if (rand !== index) shuffled[index] = shuffled[rand];\n+      shuffled[rand] = set[index];\n+    }\n+    return shuffled;\n+  };\n+\n+  // Sample **n** random values from a collection.\n+  // If **n** is not specified, returns a single random element.\n+  // The internal `guard` argument allows it to work with `map`.\n+  _.sample = function(obj, n, guard) {\n+    if (n == null || guard) {\n+      if (!isArrayLike(obj)) obj = _.values(obj);\n+      return obj[_.random(obj.length - 1)];\n+    }\n+    return _.shuffle(obj).slice(0, Math.max(0, n));\n+  };\n+\n+  // Sort the object's values by a criterion produced by an iteratee.\n+  _.sortBy = function(obj, iteratee, context) {\n+    iteratee = cb(iteratee, context);\n+    return _.pluck(_.map(obj, function(value, index, list) {\n+      return {\n+        value: value,\n+        index: index,\n+        criteria: iteratee(value, index, list)\n+      };\n+    }).sort(function(left, right) {\n+      var a = left.criteria;\n+      var b = right.criteria;\n+      if (a !== b) {\n+        if (a &gt; b || a === void 0) return 1;\n+        if (a &lt; b || b === void 0) return -1;\n+      }\n+      return left.index - right.index;\n+    }), 'value');\n+  };\n+\n+  // An internal function used for aggregate \"group by\" operations.\n+  var group = function(behavior) {\n+    return function(obj, iteratee, context) {\n+      var result = {};\n+      iteratee = cb(iteratee, context);\n+      _.each(obj, function(value, index) {\n+        var key = iteratee(value, index, obj);\n+        behavior(result, value, key);\n+      });\n+      return result;\n+    };\n+  };\n+\n+  // Groups the object's values by a criterion. Pass either a string attribute\n+  // to group by, or a function that returns the criterion.\n+  _.groupBy = group(function(result, value, key) {\n+    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n+  });\n+\n+  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n+  // when you know that your index values will be unique.\n+  _.indexBy = group(function(result, value, key) {\n+    result[key] = value;\n+  });\n+\n+  // Counts instances of an object that group by a certain criterion. Pass\n+  // either a string attribute to count by, or a function that returns the\n+  // criterion.\n+  _.countBy = group(function(result, value, key) {\n+    if (_.has(result, key)) result[key]++; else result[key] = 1;\n+  });\n+\n+  // Safely create a real, live array from anything iterable.\n+  _.toArray = function(obj) {\n+    if (!obj) return [];\n+    if (_.isArray(obj)) return slice.call(obj);\n+    if (isArrayLike(obj)) return _.map(obj, _.identity);\n+    return _.values(obj);\n+  };\n+\n+  // Return the number of elements in an object.\n+  _.size = function(obj) {\n+    if (obj == null) return 0;\n+    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n+  };\n+\n+  // Split a collection into two arrays: one whose elements all satisfy the given\n+  // predicate, and one whose elements all do not satisfy the predicate.\n+  _.partition = function(obj, predicate, context) {\n+    predicate = cb(predicate, context);\n+    var pass = [], fail = [];\n+    _.each(obj, function(value, key, obj) {\n+      (predicate(value, key, obj) ? pass : fail).push(value);\n+    });\n+    return [pass, fail];\n+  };\n+\n+  // Array Functions\n+  // ---------------\n+\n+  // Get the first element of an array. Passing **n** will return the first N\n+  // values in the array. Aliased as `head` and `take`. The **guard** check\n+  // allows it to work with `_.map`.\n+  _.first = _.head = _.take = function(array, n, guard) {\n+    if (array == null) return void 0;\n+    if (n == null || guard) return array[0];\n+    return _.initial(array, array.length - n);\n+  };\n+\n+  // Returns everything but the last entry of the array. Especially useful on\n+  // the arguments object. Passing **n** will return all the values in\n+  // the array, excluding the last N.\n+  _.initial = function(array, n, guard) {\n+    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n+  };\n+\n+  // Get the last element of an array. Passing **n** will return the last N\n+  // values in the array.\n+  _.last = function(array, n, guard) {\n+    if (array == null) return void 0;\n+    if (n == null || guard) return array[array.length - 1];\n+    return _.rest(array, Math.max(0, array.length - n));\n+  };\n+\n+  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n+  // Especially useful on the arguments object. Passing an **n** will return\n+  // the rest N values in the array.\n+  _.rest = _.tail = _.drop = function(array, n, guard) {\n+    return slice.call(array, n == null || guard ? 1 : n);\n+  };\n+\n+  // Trim out all falsy values from an array.\n+  _.compact = function(array) {\n+    return _.filter(array, _.identity);\n+  };\n+\n+  // Internal implementation of a recursive `flatten` function.\n+  var flatten = function(input, shallow, strict, startIndex) {\n+    var output = [], idx = 0;\n+    for (var i = startIndex || 0, length = getLength(input); i &lt; length; i++) {\n+      var value = input[i];\n+      if (isArrayLike(value) &amp;&amp; (_.isArray(value) || _.isArguments(value))) {\n+        //flatten current level of array or arguments object\n+        if (!shallow) value = flatten(value, shallow, strict);\n+        var j = 0, len = value.length;\n+        output.length += len;\n+        while (j &lt; len) {\n+          output[idx++] = value[j++];\n+        }\n+      } else if (!strict) {\n+        output[idx++] = value;\n+      }\n+    }\n+    return output;\n+  };\n+\n+  // Flatten out an array, either recursively (by default), or just one level.\n+  _.flatten = function(array, shallow) {\n+    return flatten(array, shallow, false);\n+  };\n+\n+  // Return a version of the array that does not contain the specified value(s).\n+  _.without = function(array) {\n+    return _.difference(array, slice.call(arguments, 1));\n+  };\n+\n+  // Produce a duplicate-free version of the array. If the array has already\n+  // been sorted, you have the option of using a faster algorithm.\n+  // Aliased as `unique`.\n+  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n+    if (!_.isBoolean(isSorted)) {\n+      context = iteratee;\n+      iteratee = isSorted;\n+      isSorted = false;\n+    }\n+    if (iteratee != null) iteratee = cb(iteratee, context);\n+    var result = [];\n+    var seen = [];\n+    for (var i = 0, length = getLength(array); i &lt; length; i++) {\n+      var value = array[i],\n+          computed = iteratee ? iteratee(value, i, array) : value;\n+      if (isSorted) {\n+        if (!i || seen !== computed) result.push(value);\n+        seen = computed;\n+      } else if (iteratee) {\n+        if (!_.contains(seen, computed)) {\n+          seen.push(computed);\n+          result.push(value);\n+        }\n+      } else if (!_.contains(result, value)) {\n+        result.push(value);\n+      }\n+    }\n+    return result;\n+  };\n+\n+  // Produce an array that contains the union: each distinct element from all of\n+  // the passed-in arrays.\n+  _.union = function() {\n+    return _.uniq(flatten(arguments, true, true));\n+  };\n+\n+  // Produce an array that contains every item shared between all the\n+  // passed-in arrays.\n+  _.intersection = function(array) {\n+    var result = [];\n+    var argsLength = arguments.length;\n+    for (var i = 0, length = getLength(array); i &lt; length; i++) {\n+      var item = array[i];\n+      if (_.contains(result, item)) continue;\n+      for (var j = 1; j &lt; argsLength; j++) {\n+        if (!_.contains(arguments[j], item)) break;\n+      }\n+      if (j === argsLength) result.push(item);\n+    }\n+    return result;\n+  };\n+\n+  // Take the difference between one array and a number of other arrays.\n+  // Only the elements present in just the first array will remain.\n+  _.difference = function(array) {\n+    var rest = flatten(arguments, true, true, 1);\n+    return _.filter(array, function(value){\n+      return !_.contains(rest, value);\n+    });\n+  };\n+\n+  // Zip together multiple lists into a single array -- elements that share\n+  // an index go together.\n+  _.zip = function() {\n+    return _.unzip(arguments);\n+  };\n+\n+  // Complement of _.zip. Unzip accepts an array of arrays and groups\n+  // each array's elements on shared indices\n+  _.unzip = function(array) {\n+    var length = array &amp;&amp; _.max(array, getLength).length || 0;\n+    var result = Array(length);\n+\n+    for (var index = 0; index &lt; length; index++) {\n+      result[index] = _.pluck(array, index);\n+    }\n+    return result;\n+  };\n+\n+  // Converts lists into objects. Pass either a single array of `[key, value]`\n+  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n+  // the corresponding values.\n+  _.object = function(list, values) {\n+    var result = {};\n+    for (var i = 0, length = getLength(list); i &lt; length; i++) {\n+      if (values) {\n+        result[list[i]] = values[i];\n+      } else {\n+        result[list[i][0]] = list[i][1];\n+      }\n+    }\n+    return result;\n+  };\n+\n+  // Generator function to create the findIndex and findLastIndex functions\n+  function createPredicateIndexFinder(dir) {\n+    return function(array, predicate, context) {\n+      predicate = cb(predicate, context);\n+      var length = getLength(array);\n+      var index = dir &gt; 0 ? 0 : length - 1;\n+      for (; index &gt;= 0 &amp;&amp; index &lt; length; index += dir) {\n+        if (predicate(array[index], index, array)) return index;\n+      }\n+      return -1;\n+    };\n+  }\n+\n+  // Returns the first index on an array-like that passes a predicate test\n+  _.findIndex = createPredicateIndexFinder(1);\n+  _.findLastIndex = createPredicateIndexFinder(-1);\n+\n+  // Use a comparator function to figure out the smallest index at which\n+  // an object should be inserted so as to maintain order. Uses binary search.\n+  _.sortedIndex = function(array, obj, iteratee, context) {\n+    iteratee = cb(iteratee, context, 1);\n+    var value = iteratee(obj);\n+    var low = 0, high = getLength(array);\n+    while (low &lt; high) {\n+      var mid = Math.floor((low + high) / 2);\n+      if (iteratee(array[mid]) &lt; value) low = mid + 1; else high = mid;\n+    }\n+    return low;\n+  };\n+\n+  // Generator function to create the indexOf and lastIndexOf functions\n+  function createIndexFinder(dir, predicateFind, sortedIndex) {\n+    return function(array, item, idx) {\n+      var i = 0, length = getLength(array);\n+      if (typeof idx == 'number') {\n+        if (dir &gt; 0) {\n+            i = idx &gt;= 0 ? idx : Math.max(idx + length, i);\n+        } else {\n+            length = idx &gt;= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n+        }\n+      } else if (sortedIndex &amp;&amp; idx &amp;&amp; length) {\n+        idx = sortedIndex(array, item);\n+        return array[idx] === item ? idx : -1;\n+      }\n+      if (item !== item) {\n+        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n+        return idx &gt;= 0 ? idx + i : -1;\n+      }\n+      for (idx = dir &gt; 0 ? i : length - 1; idx &gt;= 0 &amp;&amp; idx &lt; length; idx += dir) {\n+        if (array[idx] === item) return idx;\n+      }\n+      return -1;\n+    };\n+  }\n+\n+  // Return the position of the first occurrence of an item in an array,\n+  // or -1 if the item is not included in the array.\n+  // If the array is large and already in sort order, pass `true`\n+  // for **isSorted** to use binary search.\n+  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n+  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n+\n+  // Generate an integer Array containing an arithmetic progression. A port of\n+  // the native Python `range()` function. See\n+  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n+  _.range = function(start, stop, step) {\n+    if (stop == null) {\n+      stop = start || 0;\n+      start = 0;\n+    }\n+    step = step || 1;\n+\n+    var length = Math.max(Math.ceil((stop - start) / step), 0);\n+    var range = Array(length);\n+\n+    for (var idx = 0; idx &lt; length; idx++, start += step) {\n+      range[idx] = start;\n+    }\n+\n+    return range;\n+  };\n+\n+  // Function (ahem) Functions\n+  // ------------------\n+\n+  // Determines whether to execute a function as a constructor\n+  // or a normal function with the provided arguments\n+  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n+    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n+    var self = baseCreate(sourceFunc.prototype);\n+    var result = sourceFunc.apply(self, args);\n+    if (_.isObject(result)) return result;\n+    return self;\n+  };\n+\n+  // Create a function bound to a given object (assigning `this`, and arguments,\n+  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n+  // available.\n+  _.bind = function(func, context) {\n+    if (nativeBind &amp;&amp; func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n+    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n+    var args = slice.call(arguments, 2);\n+    var bound = function() {\n+      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\n+    };\n+    return bound;\n+  };\n+\n+  // Partially apply a function by creating a version that has had some of its\n+  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n+  // as a placeholder, allowing any combination of arguments to be pre-filled.\n+  _.partial = function(func) {\n+    var boundArgs = slice.call(arguments, 1);\n+    var bound = function() {\n+      var position = 0, length = boundArgs.length;\n+      var args = Array(length);\n+      for (var i = 0; i &lt; length; i++) {\n+        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\n+      }\n+      while (position &lt; arguments.length) args.push(arguments[position++]);\n+      return executeBound(func, bound, this, this, args);\n+    };\n+    return bound;\n+  };\n+\n+  // Bind a number of an object's methods to that object. Remaining arguments\n+  // are the method names to be bound. Useful for ensuring that all callbacks\n+  // defined on an object belong to it.\n+  _.bindAll = function(obj) {\n+    var i, length = arguments.length, key;\n+    if (length &lt;= 1) throw new Error('bindAll must be passed function names');\n+    for (i = 1; i &lt; length; i++) {\n+      key = arguments[i];\n+      obj[key] = _.bind(obj[key], obj);\n+    }\n+    return obj;\n+  };\n+\n+  // Memoize an expensive function by storing its results.\n+  _.memoize = function(func, hasher) {\n+    var memoize = function(key) {\n+      var cache = memoize.cache;\n+      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n+      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n+      return cache[address];\n+    };\n+    memoize.cache = {};\n+    return memoize;\n+  };\n+\n+  // Delays a function for the given number of milliseconds, and then calls\n+  // it with the arguments supplied.\n+  _.delay = function(func, wait) {\n+    var args = slice.call(arguments, 2);\n+    return setTimeout(function(){\n+      return func.apply(null, args);\n+    }, wait);\n+  };\n+\n+  // Defers a function, scheduling it to run after the current call stack has\n+  // cleared.\n+  _.defer = _.partial(_.delay, _, 1);\n+\n+  // Returns a function, that, when invoked, will only be triggered at most once\n+  // during a given window of time. Normally, the throttled function will run\n+  // as much as it can, without ever going more than once per `wait` duration;\n+  // but if you'd like to disable the execution on the leading edge, pass\n+  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n+  _.throttle = function(func, wait, options) {\n+    var context, args, result;\n+    var timeout = null;\n+    var previous = 0;\n+    if (!options) options = {};\n+    var later = function() {\n+      previous = options.leading === false ? 0 : _.now();\n+      timeout = null;\n+      result = func.apply(context, args);\n+      if (!timeout) context = args = null;\n+    };\n+    return function() {\n+      var now = _.now();\n+      if (!previous &amp;&amp; options.leading === false) previous = now;\n+      var remaining = wait - (now - previous);\n+      context = this;\n+      args = arguments;\n+      if (remaining &lt;= 0 || remaining &gt; wait) {\n+        if (timeout) {\n+          clearTimeout(timeout);\n+          timeout = null;\n+        }\n+        previous = now;\n+        result = func.apply(context, args);\n+        if (!timeout) context = args = null;\n+      } else if (!timeout &amp;&amp; options.trailing !== false) {\n+        timeout = setTimeout(later, remaining);\n+      }\n+      return result;\n+    };\n+  };\n+\n+  // Returns a function, that, as long as it continues to be invoked, will not\n+  // be triggered. The function will be called after it stops being called for\n+  // N milliseconds. If `immediate` is passed, trigger the function on the\n+  // leading edge, instead of the trailing.\n+  _.debounce = function(func, wait, immediate) {\n+    var timeout, args, context, timestamp, result;\n+\n+    var later = function() {\n+      var last = _.now() - timestamp;\n+\n+      if (last &lt; wait &amp;&amp; last &gt;= 0) {\n+        timeout = setTimeout(later, wait - last);\n+      } else {\n+        timeout = null;\n+        if (!immediate) {\n+          result = func.apply(context, args);\n+          if (!timeout) context = args = null;\n+        }\n+      }\n+    };\n+\n+    return function() {\n+      context = this;\n+      args = arguments;\n+      timestamp = _.now();\n+      var callNow = immediate &amp;&amp; !timeout;\n+      if (!timeout) timeout = setTimeout(later, wait);\n+      if (callNow) {\n+        result = func.apply(context, args);\n+        context = args = null;\n+      }\n+\n+      return result;\n+    };\n+  };\n+\n+  // Returns the first function passed as an argument to the second,\n+  // allowing you to adjust arguments, run code before and after, and\n+  // conditionally execute the original function.\n+  _.wrap = function(func, wrapper) {\n+    return _.partial(wrapper, func);\n+  };\n+\n+  // Returns a negated version of the passed-in predicate.\n+  _.negate = function(predicate) {\n+    return function() {\n+      return !predicate.apply(this, arguments);\n+    };\n+  };\n+\n+  // Returns a function that is the composition of a list of functions, each\n+  // consuming the return value of the function that follows.\n+  _.compose = function() {\n+    var args = arguments;\n+    var start = args.length - 1;\n+    return function() {\n+      var i = start;\n+      var result = args[start].apply(this, arguments);\n+      while (i--) result = args[i].call(this, result);\n+      return result;\n+    };\n+  };\n+\n+  // Returns a function that will only be executed on and after the Nth call.\n+  _.after = function(times, func) {\n+    return function() {\n+      if (--times &lt; 1) {\n+        return func.apply(this, arguments);\n+      }\n+    };\n+  };\n+\n+  // Returns a function that will only be executed up to (but not including) the Nth call.\n+  _.before = function(times, func) {\n+    var memo;\n+    return function() {\n+      if (--times &gt; 0) {\n+        memo = func.apply(this, arguments);\n+      }\n+      if (times &lt;= 1) func = null;\n+      return memo;\n+    };\n+  };\n+\n+  // Returns a function that will be executed at most one time, no matter how\n+  // often you call it. Useful for lazy initialization.\n+  _.once = _.partial(_.before, 2);\n+\n+  // Object Functions\n+  // ----------------\n+\n+  // Keys in IE &lt; 9 that won't be iterated by `for key in ...` and thus missed.\n+  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n+  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n+                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n+\n+  function collectNonEnumProps(obj, keys) {\n+    var nonEnumIdx = nonEnumerableProps.length;\n+    var constructor = obj.constructor;\n+    var proto = (_.isFunction(constructor) &amp;&amp; constructor.prototype) || ObjProto;\n+\n+    // Constructor is a special case.\n+    var prop = 'constructor';\n+    if (_.has(obj, prop) &amp;&amp; !_.contains(keys, prop)) keys.push(prop);\n+\n+    while (nonEnumIdx--) {\n+      prop = nonEnumerableProps[nonEnumIdx];\n+      if (prop in obj &amp;&amp; obj[prop] !== proto[prop] &amp;&amp; !_.contains(keys, prop)) {\n+        keys.push(prop);\n+      }\n+    }\n+  }\n+\n+  // Retrieve the names of an object's own properties.\n+  // Delegates to **ECMAScript 5**'s native `Object.keys`\n+  _.keys = function(obj) {\n+    if (!_.isObject(obj)) return [];\n+    if (nativeKeys) return nativeKeys(obj);\n+    var keys = [];\n+    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n+    // Ahem, IE &lt; 9.\n+    if (hasEnumBug) collectNonEnumProps(obj, keys);\n+    return keys;\n+  };\n+\n+  // Retrieve all the property names of an object.\n+  _.allKeys = function(obj) {\n+    if (!_.isObject(obj)) return [];\n+    var keys = [];\n+    for (var key in obj) keys.push(key);\n+    // Ahem, IE &lt; 9.\n+    if (hasEnumBug) collectNonEnumProps(obj, keys);\n+    return keys;\n+  };\n+\n+  // Retrieve the values of an object's properties.\n+  _.values = function(obj) {\n+    var keys = _.keys(obj);\n+    var length = keys.length;\n+    var values = Array(length);\n+    for (var i = 0; i &lt; length; i++) {\n+      values[i] = obj[keys[i]];\n+    }\n+    return values;\n+  };\n+\n+  // Returns the results of applying the iteratee to each element of the object\n+  // In contrast to _.map it returns an object\n+  _.mapObject = function(obj, iteratee, context) {\n+    iteratee = cb(iteratee, context);\n+    var keys =  _.keys(obj),\n+          length = keys.length,\n+          results = {},\n+          currentKey;\n+      for (var index = 0; index &lt; length; index++) {\n+        currentKey = keys[index];\n+        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n+      }\n+      return results;\n+  };\n+\n+  // Convert an object into a list of `[key, value]` pairs.\n+  _.pairs = function(obj) {\n+    var keys = _.keys(obj);\n+    var length = keys.length;\n+    var pairs = Array(length);\n+    for (var i = 0; i &lt; length; i++) {\n+      pairs[i] = [keys[i], obj[keys[i]]];\n+    }\n+    return pairs;\n+  };\n+\n+  // Invert the keys and values of an object. The values must be serializable.\n+  _.invert = function(obj) {\n+    var result = {};\n+    var keys = _.keys(obj);\n+    for (var i = 0, length = keys.length; i &lt; length; i++) {\n+      result[obj[keys[i]]] = keys[i];\n+    }\n+    return result;\n+  };\n+\n+  // Return a sorted list of the function names available on the object.\n+  // Aliased as `methods`\n+  _.functions = _.methods = function(obj) {\n+    var names = [];\n+    for (var key in obj) {\n+      if (_.isFunction(obj[key])) names.push(key);\n+    }\n+    return names.sort();\n+  };\n+\n+  // Extend a given object with all the properties in passed-in object(s).\n+  _.extend = createAssigner(_.allKeys);\n+\n+  // Assigns a given object with all the own properties in the passed-in object(s)\n+  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n+  _.extendOwn = _.assign = createAssigner(_.keys);\n+\n+  // Returns the first key on an object that passes a predicate test\n+  _.findKey = function(obj, predicate, context) {\n+    predicate = cb(predicate, context);\n+    var keys = _.keys(obj), key;\n+    for (var i = 0, length = keys.length; i &lt; length; i++) {\n+      key = keys[i];\n+      if (predicate(obj[key], key, obj)) return key;\n+    }\n+  };\n+\n+  // Return a copy of the object only containing the whitelisted properties.\n+  _.pick = function(object, oiteratee, context) {\n+    var result = {}, obj = object, iteratee, keys;\n+    if (obj == null) return result;\n+    if (_.isFunction(oiteratee)) {\n+      keys = _.allKeys(obj);\n+      iteratee = optimizeCb(oiteratee, context);\n+    } else {\n+      keys = flatten(arguments, false, false, 1);\n+      iteratee = function(value, key, obj) { return key in obj; };\n+      obj = Object(obj);\n+    }\n+    for (var i = 0, length = keys.length; i &lt; length; i++) {\n+      var key = keys[i];\n+      var value = obj[key];\n+      if (iteratee(value, key, obj)) result[key] = value;\n+    }\n+    return result;\n+  };\n+\n+   // Return a copy of the object without the blacklisted properties.\n+  _.omit = function(obj, iteratee, context) {\n+    if (_.isFunction(iteratee)) {\n+      iteratee = _.negate(iteratee);\n+    } else {\n+      var keys = _.map(flatten(arguments, false, false, 1), String);\n+      iteratee = function(value, key) {\n+        return !_.contains(keys, key);\n+      };\n+    }\n+    return _.pick(obj, iteratee, context);\n+  };\n+\n+  // Fill in a given object with default properties.\n+  _.defaults = createAssigner(_.allKeys, true);\n+\n+  // Creates an object that inherits from the given prototype object.\n+  // If additional properties are provided then they will be added to the\n+  // created object.\n+  _.create = function(prototype, props) {\n+    var result = baseCreate(prototype);\n+    if (props) _.extendOwn(result, props);\n+    return result;\n+  };\n+\n+  // Create a (shallow-cloned) duplicate of an object.\n+  _.clone = function(obj) {\n+    if (!_.isObject(obj)) return obj;\n+    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n+  };\n+\n+  // Invokes interceptor with the obj, and then returns obj.\n+  // The primary purpose of this method is to \"tap into\" a method chain, in\n+  // order to perform operations on intermediate results within the chain.\n+  _.tap = function(obj, interceptor) {\n+    interceptor(obj);\n+    return obj;\n+  };\n+\n+  // Returns whether an object has a given set of `key:value` pairs.\n+  _.isMatch = function(object, attrs) {\n+    var keys = _.keys(attrs), length = keys.length;\n+    if (object == null) return !length;\n+    var obj = Object(object);\n+    for (var i = 0; i &lt; length; i++) {\n+      var key = keys[i];\n+      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n+    }\n+    return true;\n+  };\n+\n+\n+  // Internal recursive comparison function for `isEqual`.\n+  var eq = function(a, b, aStack, bStack) {\n+    // Identical objects are equal. `0 === -0`, but they aren't identical.\n+    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n+    if (a === b) return a !== 0 || 1 / a === 1 / b;\n+    // A strict comparison is necessary because `null == undefined`.\n+    if (a == null || b == null) return a === b;\n+    // Unwrap any wrapped objects.\n+    if (a instanceof _) a = a._wrapped;\n+    if (b instanceof _) b = b._wrapped;\n+    // Compare `[[Class]]` names.\n+    var className = toString.call(a);\n+    if (className !== toString.call(b)) return false;\n+    switch (className) {\n+      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n+      case '[object RegExp]':\n+      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n+      case '[object String]':\n+        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n+        // equivalent to `new String(\"5\")`.\n+        return '' + a === '' + b;\n+      case '[object Number]':\n+        // `NaN`s are equivalent, but non-reflexive.\n+        // Object(NaN) is equivalent to NaN\n+        if (+a !== +a) return +b !== +b;\n+        // An `egal` comparison is performed for other numeric values.\n+        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n+      case '[object Date]':\n+      case '[object Boolean]':\n+        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n+        // millisecond representations. Note that invalid dates with millisecond representations\n+        // of `NaN` are not equivalent.\n+        return +a === +b;\n+    }\n+\n+    var areArrays = className === '[object Array]';\n+    if (!areArrays) {\n+      if (typeof a != 'object' || typeof b != 'object') return false;\n+\n+      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n+      // from different frames are.\n+      var aCtor = a.constructor, bCtor = b.constructor;\n+      if (aCtor !== bCtor &amp;&amp; !(_.isFunction(aCtor) &amp;&amp; aCtor instanceof aCtor &amp;&amp;\n+                               _.isFunction(bCtor) &amp;&amp; bCtor instanceof bCtor)\n+                          &amp;&amp; ('constructor' in a &amp;&amp; 'constructor' in b)) {\n+        return false;\n+      }\n+    }\n+    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n+    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n+\n+    // Initializing stack of traversed objects.\n+    // It's done here since we only need them for objects and arrays comparison.\n+    aStack = aStack || [];\n+    bStack = bStack || [];\n+    var length = aStack.length;\n+    while (length--) {\n+      // Linear search. Performance is inversely proportional to the number of\n+      // unique nested structures.\n+      if (aStack[length] === a) return bStack[length] === b;\n+    }\n+\n+    // Add the first object to the stack of traversed objects.\n+    aStack.push(a);\n+    bStack.push(b);\n+\n+    // Recursively compare objects and arrays.\n+    if (areArrays) {\n+      // Compare array lengths to determine if a deep comparison is necessary.\n+      length = a.length;\n+      if (length !== b.length) return false;\n+      // Deep compare the contents, ignoring non-numeric properties.\n+      while (length--) {\n+        if (!eq(a[length], b[length], aStack, bStack)) return false;\n+      }\n+    } else {\n+      // Deep compare objects.\n+      var keys = _.keys(a), key;\n+      length = keys.length;\n+      // Ensure that both objects contain the same number of properties before comparing deep equality.\n+      if (_.keys(b).length !== length) return false;\n+      while (length--) {\n+        // Deep compare each member\n+        key = keys[length];\n+        if (!(_.has(b, key) &amp;&amp; eq(a[key], b[key], aStack, bStack))) return false;\n+      }\n+    }\n+    // Remove the first object from the stack of traversed objects.\n+    aStack.pop();\n+    bStack.pop();\n+    return true;\n+  };\n+\n+  // Perform a deep comparison to check if two objects are equal.\n+  _.isEqual = function(a, b) {\n+    return eq(a, b);\n+  };\n+\n+  // Is a given array, string, or object empty?\n+  // An \"empty\" object has no enumerable own-properties.\n+  _.isEmpty = function(obj) {\n+    if (obj == null) return true;\n+    if (isArrayLike(obj) &amp;&amp; (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n+    return _.keys(obj).length === 0;\n+  };\n+\n+  // Is a given value a DOM element?\n+  _.isElement = function(obj) {\n+    return !!(obj &amp;&amp; obj.nodeType === 1);\n+  };\n+\n+  // Is a given value an array?\n+  // Delegates to ECMA5's native Array.isArray\n+  _.isArray = nativeIsArray || function(obj) {\n+    return toString.call(obj) === '[object Array]';\n+  };\n+\n+  // Is a given variable an object?\n+  _.isObject = function(obj) {\n+    var type = typeof obj;\n+    return type === 'function' || type === 'object' &amp;&amp; !!obj;\n+  };\n+\n+  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\n+  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {\n+    _['is' + name] = function(obj) {\n+      return toString.call(obj) === '[object ' + name + ']';\n+    };\n+  });\n+\n+  // Define a fallback version of the method in browsers (ahem, IE &lt; 9), where\n+  // there isn't any inspectable \"Arguments\" type.\n+  if (!_.isArguments(arguments)) {\n+    _.isArguments = function(obj) {\n+      return _.has(obj, 'callee');\n+    };\n+  }\n+\n+  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n+  // IE 11 (#1621), and in Safari 8 (#1929).\n+  if (typeof /./ != 'function' &amp;&amp; typeof Int8Array != 'object') {\n+    _.isFunction = function(obj) {\n+      return typeof obj == 'function' || false;\n+    };\n+  }\n+\n+  // Is a given object a finite number?\n+  _.isFinite = function(obj) {\n+    return isFinite(obj) &amp;&amp; !isNaN(parseFloat(obj));\n+  };\n+\n+  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n+  _.isNaN = function(obj) {\n+    return _.isNumber(obj) &amp;&amp; obj !== +obj;\n+  };\n+\n+  // Is a given value a boolean?\n+  _.isBoolean = function(obj) {\n+    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n+  };\n+\n+  // Is a given value equal to null?\n+  _.isNull = function(obj) {\n+    return obj === null;\n+  };\n+\n+  // Is a given variable undefined?\n+  _.isUndefined = function(obj) {\n+    return obj === void 0;\n+  };\n+\n+  // Shortcut function for checking if an object has a given property directly\n+  // on itself (in other words, not on a prototype).\n+  _.has = function(obj, key) {\n+    return obj != null &amp;&amp; hasOwnProperty.call(obj, key);\n+  };\n+\n+  // Utility Functions\n+  // -----------------\n+\n+  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n+  // previous owner. Returns a reference to the Underscore object.\n+  _.noConflict = function() {\n+    root._ = previousUnderscore;\n+    return this;\n+  };\n+\n+  // Keep the identity function around for default iteratees.\n+  _.identity = function(value) {\n+    return value;\n+  };\n+\n+  // Predicate-generating functions. Often useful outside of Underscore.\n+  _.constant = function(value) {\n+    return function() {\n+      return value;\n+    };\n+  };\n+\n+  _.noop = function(){};\n+\n+  _.property = property;\n+\n+  // Generates a function for a given object that returns a given property.\n+  _.propertyOf = function(obj) {\n+    return obj == null ? function(){} : function(key) {\n+      return obj[key];\n+    };\n+  };\n+\n+  // Returns a predicate for checking whether an object has a given set of\n+  // `key:value` pairs.\n+  _.matcher = _.matches = function(attrs) {\n+    attrs = _.extendOwn({}, attrs);\n+    return function(obj) {\n+      return _.isMatch(obj, attrs);\n+    };\n+  };\n+\n+  // Run a function **n** times.\n+  _.times = function(n, iteratee, context) {\n+    var accum = Array(Math.max(0, n));\n+    iteratee = optimizeCb(iteratee, context, 1);\n+    for (var i = 0; i &lt; n; i++) accum[i] = iteratee(i);\n+    return accum;\n+  };\n+\n+  // Return a random integer between min and max (inclusive).\n+  _.random = function(min, max) {\n+    if (max == null) {\n+      max = min;\n+      min = 0;\n+    }\n+    return min + Math.floor(Math.random() * (max - min + 1));\n+  };\n+\n+  // A (possibly faster) way to get the current timestamp as an integer.\n+  _.now = Date.now || function() {\n+    return new Date().getTime();\n+  };\n+\n+   // List of HTML entities for escaping.\n+  var escapeMap = {\n+    '&amp;': '&amp;amp;',\n+    '&lt;': '&amp;lt;',\n+    '&gt;': '&amp;gt;',\n+    '\"': '&amp;quot;',\n+    \"'\": '&amp;#x27;',\n+    '`': '&amp;#x60;'\n+  };\n+  var unescapeMap = _.invert(escapeMap);\n+\n+  // Functions for escaping and unescaping strings to/from HTML interpolation.\n+  var createEscaper = function(map) {\n+    var escaper = function(match) {\n+      return map[match];\n+    };\n+    // Regexes for identifying a key that needs to be escaped\n+    var source = '(?:' + _.keys(map).join('|') + ')';\n+    var testRegexp = RegExp(source);\n+    var replaceRegexp = RegExp(source, 'g');\n+    return function(string) {\n+      string = string == null ? '' : '' + string;\n+      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n+    };\n+  };\n+  _.escape = createEscaper(escapeMap);\n+  _.unescape = createEscaper(unescapeMap);\n+\n+  // If the value of the named `property` is a function then invoke it with the\n+  // `object` as context; otherwise, return it.\n+  _.result = function(object, property, fallback) {\n+    var value = object == null ? void 0 : object[property];\n+    if (value === void 0) {\n+      value = fallback;\n+    }\n+    return _.isFunction(value) ? value.call(object) : value;\n+  };\n+\n+  // Generate a unique integer id (unique within the entire client session).\n+  // Useful for temporary DOM ids.\n+  var idCounter = 0;\n+  _.uniqueId = function(prefix) {\n+    var id = ++idCounter + '';\n+    return prefix ? prefix + id : id;\n+  };\n+\n+  // By default, Underscore uses ERB-style template delimiters, change the\n+  // following template settings to use alternative delimiters.\n+  _.templateSettings = {\n+    evaluate    : /&lt;%([\\s\\S]+?)%&gt;/g,\n+    interpolate : /&lt;%=([\\s\\S]+?)%&gt;/g,\n+    escape      : /&lt;%-([\\s\\S]+?)%&gt;/g\n+  };\n+\n+  // When customizing `templateSettings`, if you don't want to define an\n+  // interpolation, evaluation or escaping regex, we need one that is\n+  // guaranteed not to match.\n+  var noMatch = /(.)^/;\n+\n+  // Certain characters need to be escaped so that they can be put into a\n+  // string literal.\n+  var escapes = {\n+    \"'\":      \"'\",\n+    '\\\\':     '\\\\',\n+    '\\r':     'r',\n+    '\\n':     'n',\n+    '\\u2028': 'u2028',\n+    '\\u2029': 'u2029'\n+  };\n+\n+  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n+\n+  var escapeChar = function(match) {\n+    return '\\\\' + escapes[match];\n+  };\n+\n+  // JavaScript micro-templating, similar to John Resig's implementation.\n+  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n+  // and correctly escapes quotes within interpolated code.\n+  // NB: `oldSettings` only exists for backwards compatibility.\n+  _.template = function(text, settings, oldSettings) {\n+    if (!settings &amp;&amp; oldSettings) settings = oldSettings;\n+    settings = _.defaults({}, settings, _.templateSettings);\n+\n+    // Combine delimiters into one regular expression via alternation.\n+    var matcher = RegExp([\n+      (settings.escape || noMatch).source,\n+      (settings.interpolate || noMatch).source,\n+      (settings.evaluate || noMatch).source\n+    ].join('|') + '|$', 'g');\n+\n+    // Compile the template source, escaping string literals appropriately.\n+    var index = 0;\n+    var source = \"__p+='\";\n+    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n+      source += text.slice(index, offset).replace(escaper, escapeChar);\n+      index = offset + match.length;\n+\n+      if (escape) {\n+        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n+      } else if (interpolate) {\n+        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n+      } else if (evaluate) {\n+        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n+      }\n+\n+      // Adobe VMs need the match returned to produce the correct offest.\n+      return match;\n+    });\n+    source += \"';\\n\";\n+\n+    // If a variable is not specified, place data values in local scope.\n+    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n+\n+    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n+      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n+      source + 'return __p;\\n';\n+\n+    try {\n+      var render = new Function(settings.variable || 'obj', '_', source);\n+    } catch (e) {\n+      e.source = source;\n+      throw e;\n+    }\n+\n+    var template = function(data) {\n+      return render.call(this, data, _);\n+    };\n+\n+    // Provide the compiled source as a convenience for precompilation.\n+    var argument = settings.variable || 'obj';\n+    template.source = 'function(' + argument + '){\\n' + source + '}';\n+\n+    return template;\n+  };\n+\n+  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n+  _.chain = function(obj) {\n+    var instance = _(obj);\n+    instance._chain = true;\n+    return instance;\n+  };\n+\n+  // OOP\n+  // ---------------\n+  // If Underscore is called as a function, it returns a wrapped object that\n+  // can be used OO-style. This wrapper holds altered versions of all the\n+  // underscore functions. Wrapped objects may be chained.\n+\n+  // Helper function to continue chaining intermediate results.\n+  var result = function(instance, obj) {\n+    return instance._chain ? _(obj).chain() : obj;\n+  };\n+\n+  // Add your own custom functions to the Underscore object.\n+  _.mixin = function(obj) {\n+    _.each(_.functions(obj), function(name) {\n+      var func = _[name] = obj[name];\n+      _.prototype[name] = function() {\n+        var args = [this._wrapped];\n+        push.apply(args, arguments);\n+        return result(this, func.apply(_, args));\n+      };\n+    });\n+  };\n+\n+  // Add all of the Underscore functions to the wrapper object.\n+  _.mixin(_);\n+\n+  // Add all mutator Array functions to the wrapper.\n+  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n+    var method = ArrayProto[name];\n+    _.prototype[name] = function() {\n+      var obj = this._wrapped;\n+      method.apply(obj, arguments);\n+      if ((name === 'shift' || name === 'splice') &amp;&amp; obj.length === 0) delete obj[0];\n+      return result(this, obj);\n+    };\n+  });\n+\n+  // Add all accessor Array functions to the wrapper.\n+  _.each(['concat', 'join', 'slice'], function(name) {\n+    var method = ArrayProto[name];\n+    _.prototype[name] = function() {\n+      return result(this, method.apply(this._wrapped, arguments));\n+    };\n+  });\n+\n+  // Extracts the result from a wrapped and chained object.\n+  _.prototype.value = function() {\n+    return this._wrapped;\n+  };\n+\n+  // Provide unwrapping proxy for some methods used in engine operations\n+  // such as arithmetic and JSON stringification.\n+  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n+\n+  _.prototype.toString = function() {\n+    return '' + this._wrapped;\n+  };\n+\n+  // AMD registration happens at the end for compatibility with AMD loaders\n+  // that may not enforce next-turn semantics on modules. Even though general\n+  // practice for AMD registration is to be anonymous, underscore registers\n+  // as a named module because, like jQuery, it is a base library that is\n+  // popular enough to be bundled in a third party lib, but not be part of\n+  // an AMD load request. Those cases could generate an error when an\n+  // anonymous define() is called outside of a loader request.\n+  if (typeof define === 'function' &amp;&amp; define.amd) {\n+    define('underscore', [], function() {\n+      return _;\n+    });\n+  }\n+}.call(this));\ndiff --git a/app/assets/stylesheets/components/common/_section.scss b/app/assets/stylesheets/components/common/_section.scss\nnew file mode 100644\nindex 0000000..d8a3d1e\n--- /dev/null\n+++ b/app/assets/stylesheets/components/common/_section.scss\n@@ -0,0 +1,9 @@\n+.Section {\n+  margin-bottom: $space-unit*2;\n+  &amp;__item {\n+    margin-bottom: $space-unit*2;\n+    &amp;:last-child {\n+      margin-bottom: 0;\n+    }\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 128740f..4d7a3cf 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -12,6 +12,7 @@\n @import \"components/parts/layouts\";\n // \u30ab\u30eb\u30fc\u30bb\u30eb\n @import \"components/imageSlide\";\n+@import \"./components/common/section\";\n\n //@import \"pages/staff/container\";\n //@import \"pages/staff/layout\";\n\\ No newline at end of file\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex 8d5a22b..dc1b8da 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -1,32 +1,32 @@\n &lt;% @title = '\u8077\u54e1\u30c8\u30c3\u30d7\u30da\u30fc\u30b8' %&gt;\n &lt;h1&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n\n-&lt;div class=\"ImageSlide\"&gt;\n+&lt;div class=\"ImageSlide Section\"&gt;\n   &lt;ul id=\"Slide\" class=\"ImageSlide__main\"&gt;\n-    &lt;li class=\"ImageSlide__item\"&gt;\n+    &lt;li class=\"ImageSlide__item js-slide-item\"&gt;\n       &lt;a href=\"#\"&gt;\n         &lt;%= image_tag('top/slide1.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n       &lt;/a&gt;\n     &lt;/li&gt;\n-    &lt;li class=\"ImageSlide__item\"&gt;\n+    &lt;li class=\"ImageSlide__item js-slide-item\"&gt;\n       &lt;a href=\"#\"&gt;\n         &lt;%= image_tag('top/slide2.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n       &lt;/a&gt;\n     &lt;/li&gt;\n-    &lt;li class=\"ImageSlide__item\"&gt;\n+    &lt;li class=\"ImageSlide__item js-slide-item\"&gt;\n       &lt;a href=\"#\"&gt;\n         &lt;%= image_tag('top/slide3.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n       &lt;/a&gt;\n     &lt;/li&gt;\n   &lt;/ul&gt;\n   &lt;div class=\"ImageSlide__sub\"&gt;\n-    &lt;span class=\"ImageSlide__dot\"&gt;image1&lt;/span&gt;\n-    &lt;span class=\"ImageSlide__dot isActive\"&gt;image2&lt;/span&gt;\n-    &lt;span class=\"ImageSlide__dot\"&gt;image3&lt;/span&gt;\n+    &lt;span class=\"ImageSlide__dot js-slide-point\"&gt;image1&lt;/span&gt;\n+    &lt;span class=\"ImageSlide__dot js-slide-point\"&gt;image2&lt;/span&gt;\n+    &lt;span class=\"ImageSlide__dot js-slide-point\"&gt;image3&lt;/span&gt;\n   &lt;/div&gt;\n &lt;/div&gt;\n\n-&lt;section class=\"l-column\"&gt;\n+&lt;section class=\"Section l-column\"&gt;\n   &lt;div class=\"l-row\"&gt;\n     &lt;div class=\"EntryPanel l-halfColumn\"&gt;\n       &lt;div class=\"EntryPanel__sub\"&gt;\n@@ -54,4 +54,4 @@\n       &lt;/div&gt;\n     &lt;/div&gt;\n   &lt;/div&gt;\n-&lt;/section&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#81e3f1a","title":"\u30b3\u30df\u30c3\u30c8: 81e3f1a","text":""},{"location":"journal/20170116/#_92","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u306e\u5236\u4f5c\n</code></pre>"},{"location":"journal/20170116/#_93","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/base/_variables.scss</li> <li>M app/assets/stylesheets/components/_imageSlide.scss</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170116/#_94","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 81e3f1a8d370d5e5b4df944429bcae66f2bc2a7b\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 14:27:23 2017 +0900\n\n    \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u306e\u5236\u4f5c\n\ndiff --git a/app/assets/stylesheets/base/_variables.scss b/app/assets/stylesheets/base/_variables.scss\nindex f8f9290..888f4e2 100644\n--- a/app/assets/stylesheets/base/_variables.scss\n+++ b/app/assets/stylesheets/base/_variables.scss\n@@ -7,4 +7,5 @@ $color-reverse-fill: #252525;\n $base-content-width: 1180px;\n $space-unit: 20px;\n $sp-space-unit: 15px;\n-$column-space: $space-unit*2;\n\\ No newline at end of file\n+$column-space: $space-unit*2;\n+$color-black: #252525;\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/_imageSlide.scss b/app/assets/stylesheets/components/_imageSlide.scss\nindex 3c9588e..af9c8ab 100644\n--- a/app/assets/stylesheets/components/_imageSlide.scss\n+++ b/app/assets/stylesheets/components/_imageSlide.scss\n@@ -17,4 +17,28 @@\n     width: 100%;\n     height: auto;\n   }\n+  &amp;__sub {\n+    position: relative;\n+    top: -40px;\n+    display: flex;\n+    justify-content: center;\n+  }\n+  &amp;__dot {\n+    display: block;\n+    overflow: hidden;\n+    text-indent: 100%;\n+    white-space: nowrap;\n+    cursor: pointer;\n+    width: 20px;\n+    height: 20px;\n+    border: 1px solid $color-black;\n+    border-radius: 10px;\n+    margin-right: 20px;\n+    &amp;:last-child {\n+      margin-right: 0;\n+    }\n+    &amp;.isActive {\n+      background: $color-black;\n+    }\n+  }\n }\n\\ No newline at end of file\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex 2aee186..8d5a22b 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -20,6 +20,9 @@\n     &lt;/li&gt;\n   &lt;/ul&gt;\n   &lt;div class=\"ImageSlide__sub\"&gt;\n+    &lt;span class=\"ImageSlide__dot\"&gt;image1&lt;/span&gt;\n+    &lt;span class=\"ImageSlide__dot isActive\"&gt;image2&lt;/span&gt;\n+    &lt;span class=\"ImageSlide__dot\"&gt;image3&lt;/span&gt;\n   &lt;/div&gt;\n &lt;/div&gt;\n\n@@ -51,4 +54,4 @@\n       &lt;/div&gt;\n     &lt;/div&gt;\n   &lt;/div&gt;\n-&lt;/section&gt;\n\\ No newline at end of file\n+&lt;/section&gt;\n</code></pre>"},{"location":"journal/20170116/#dbd829a","title":"\u30b3\u30df\u30c3\u30c8: dbd829a","text":""},{"location":"journal/20170116/#_95","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ab\u30eb\u30fc\u30bb\u30eb\u3092\u7d44\u307f\u8fbc\u3080\u306b\u306f\n</code></pre>"},{"location":"journal/20170116/#_96","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/images/top/slide1.jpg</li> <li>A app/assets/images/top/slide2.jpg</li> <li>A app/assets/images/top/slide3.jpg</li> <li>A app/assets/javascripts/main.js</li> <li>A app/assets/stylesheets/components/_imageSlide.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/views/layouts/staff.html.erb</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170116/#_97","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit dbd829a55b8854dfd17c76835d407e166dd0f9b9\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 14:23:12 2017 +0900\n\n    \u30ab\u30eb\u30fc\u30bb\u30eb\u3092\u7d44\u307f\u8fbc\u3080\u306b\u306f\n\ndiff --git a/app/assets/images/top/slide1.jpg b/app/assets/images/top/slide1.jpg\nnew file mode 100755\nindex 0000000..ab7356d\nBinary files /dev/null and b/app/assets/images/top/slide1.jpg differ\ndiff --git a/app/assets/images/top/slide2.jpg b/app/assets/images/top/slide2.jpg\nnew file mode 100755\nindex 0000000..7d12d34\nBinary files /dev/null and b/app/assets/images/top/slide2.jpg differ\ndiff --git a/app/assets/images/top/slide3.jpg b/app/assets/images/top/slide3.jpg\nnew file mode 100755\nindex 0000000..bc70fe9\nBinary files /dev/null and b/app/assets/images/top/slide3.jpg differ\ndiff --git a/app/assets/javascripts/main.js b/app/assets/javascripts/main.js\nnew file mode 100644\nindex 0000000..e46d703\n--- /dev/null\n+++ b/app/assets/javascripts/main.js\n@@ -0,0 +1,140 @@\n+/* main.js */\n+\n+/* \u753b\u50cf\u30b9\u30e9\u30a4\u30c0\u30fc */\n+// @param {string} id - \u30e9\u30c3\u30d1\u30fc\u8981\u7d20\u306eid\n+// @param {object} options - itemClassName, pointClassName, extra\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\n+function imageSlide (id, options) {\n+  var resizeTimer = null,\n+    extra = options.extra || 2,\n+    wrapper = document.getElementById(id),\n+    items =  document.getElementsByClassName(options.itemClassName||'js-slide-item'),\n+    points = document.getElementsByClassName(options.pointClassName||'js-slide-point'),\n+    duration = options.duration || 350,\n+    maxPoint = items.length+(extra),\n+    flipsnap = null;\n+\n+  if(!wrapper || !items || !points) return;\n+\n+  // \u8981\u7d20\u304c2\u3064\u4ee5\u4e0b\u306e\u5834\u5408\u3001\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u30fc\u3092\u6d88\u3057\u3066\u51e6\u7406\u3092\u505c\u6b62\n+  if(items.length &lt; 2) {\n+    items[0].style.margin = '0 auto';\n+    Array.prototype.slice.call(points).map(function(point, i) {\n+      point.style.display = 'none';\n+    });\n+    return;\n+  } else {\n+    // \u30c0\u30df\u30fc\u3092\u4f5c\u6210\n+    var dummies =createDummy(items, extra);\n+    wrapper.innerHTML='';\n+    wrapper.appendChild(dummies);\n+\n+    init();\n+\n+    // \u30ea\u30b5\u30a4\u30ba\u3055\u308c\u305f\u3089\u8a08\u7b97\u3057\u76f4\u3057\n+    window.addEventListener('resize', init, false);\n+  }\n+\n+\n+  // \u30bb\u30f3\u30bf\u30ea\u30f3\u30b0\u3057\u3066\u3001\u518d\u8a08\u7b97\n+  function init () {\n+    if(!resizeTimer) {\n+      resizeTimer = setTimeout(function(){\n+        // \u30bf\u30a4\u30de\u30fc\u3092\u623b\u3059\n+        resizeTimer = null;\n+\n+        // \u30bb\u30f3\u30bf\u30ea\u30f3\u30b0\u3059\u308b\n+        wrapper.style.position = 'relative';\n+        wrapper.style.left = (window.innerWidth - items[0].clientWidth)/2+'px';\n+\n+        // \u30dd\u30a4\u30f3\u30bf\u3092\u30bb\u30c3\u30c8\n+        activePoint(0);\n+\n+        // \u30ab\u30eb\u30fc\u30bb\u30eb\u3092\u8d77\u52d5\n+        flipsnap = Flipsnap(wrapper, {\n+          distance: items[0].clientWidth,\n+          maxPoint: maxPoint,\n+          duration: duration\n+        });\n+        // \u5b9f\u969b\u306f1-3\u306e\u7bc4\u56f2\u3067\u52d5\u304b\u3059\u305f\u3081\u3001\u521d\u671f\u4f4d\u7f6e\u3092\u79fb\u52d5\n+        flipsnap.moveToPoint(extra,0);\n+\n+        // \u30b9\u30e9\u30a4\u30c9\u304c\u52d5\u3044\u305f\u3089\u6b21\u3092\u8a08\u7b97\u3059\u308b\n+        flipsnap.element.addEventListener('fspointmove', move );\n+\n+        // \u30dd\u30a4\u30f3\u30bf\u3067\u52d5\u304b\u305b\u308b\u3088\u3046\u306b\u3059\u308b\n+        Array.prototype.slice.call(points).forEach(function(point, i){\n+          point.addEventListener('click', function(e){\n+            console.log(i+extra);\n+            flipsnap.moveToPoint(i+extra);\n+          }, false)\n+        })\n+      }, 66);\n+    }\n+  }\n+\n+\n+  // \u6319\u52d5\u3092\u7ba1\u7406\u3059\u308b\n+  function move (evt) {\n+    // \u53f3\u7aef1\u3064\u624b\u524d\u3092\u52d5\u304b\u3057\u305f\u3089\u6700\u521d\u306b\u623b\u308b\n+    if(flipsnap.currentPoint &gt; flipsnap.maxPoint - 1) {\n+      backTo(true);\n+\n+      // \u5de6\u7aef1\u3064\u624b\u524d\u3092\u52d5\u304b\u3057\u305f\u3089\u6700\u5f8c\u306b\u623b\u308b\n+    } else if (flipsnap.currentPoint &lt; extra) {\n+      backTo();\n+\n+      // \u901a\u5e38\u306e\u79fb\u52d5\u3067\u306f\u30dd\u30a4\u30f3\u30bf\u3060\u3051\u3092\u79fb\u52d5\n+    } else {\n+      activePoint(flipsnap.currentPoint-extra);\n+    }\n+  }\n+\n+  // \u7aef\u306e\u8981\u7d20\u306b\u6765\u305f\u3089\u3053\u3063\u305d\u308a\u623b\u3059\n+  function backTo (isStart) {\n+    var temp, ind;\n+    if(isStart) {\n+      temp=flipsnap.maxPoint; ind=extra;\n+    } else {\n+      temp=1; ind=flipsnap.maxPoint-1;\n+    }\n+    //\u4e00\u65e6\u30a4\u30d9\u30f3\u30c8\u3092\u524a\u9664\u3057\u3066\u304a\u304f\n+    flipsnap.element.removeEventListener('fspointmove', move);\n+\n+    // \u30c0\u30df\u30fc\u8981\u7d20\u306b\u666e\u901a\u306b\u52d5\u304b\u3059\n+    flipsnap.moveToPoint(temp);\n+\n+    // \u30c0\u30df\u30fc\u8981\u7d20\u306e\u79fb\u52d5\u304c\u5b8c\u4e86\u3057\u304a\u308f\u3063\u3066\u304b\u3089\u3001\u3053\u3063\u305d\u308a\u4f4d\u7f6e\u3092\u672c\u6765\u306e\u8981\u7d20\u306b\u623b\u3059\n+    timer = setTimeout(function(){\n+      flipsnap.moveToPoint(ind, 0);\n+      // \u30dd\u30a4\u30f3\u30bf\u3082\u79fb\u52d5\u3059\u308b\n+      activePoint(ind-extra);\n+      flipsnap.element.addEventListener('fspointmove', move);\n+      clearTimeout(timer);\n+    }, duration+3);\n+  }\n+\n+  // \u30c0\u30df\u30fc\u4f5c\u6210\n+  function createDummy (elms, extra) {\n+    var res = document.createDocumentFragment(),\n+      len = elms.length,\n+      arr=[];\n+\n+    _.range(len+(extra*2)).forEach(function(x, i){\n+      var ind = (i%len+1)%len;\n+      res.appendChild( elms[ind].cloneNode(true) );\n+    });\n+    return res;\n+  }\n+\n+  // \u30dd\u30a4\u30f3\u30bf\u3092\u52d5\u304b\u3059\n+  function activePoint (ind) {\n+    Array.prototype.slice.call(points).forEach(function(point, i){\n+      if(i === ind &amp;&amp; !point.className.match('isActive')) {\n+        point.className += ' isActive';\n+      } else if(i !== ind &amp;&amp; point.className.match('isActive')) {\n+        point.className = point.className.replace(' isActive', '');\n+      }\n+    })\n+  }\n+\n+}\ndiff --git a/app/assets/stylesheets/components/_imageSlide.scss b/app/assets/stylesheets/components/_imageSlide.scss\nnew file mode 100644\nindex 0000000..3c9588e\n--- /dev/null\n+++ b/app/assets/stylesheets/components/_imageSlide.scss\n@@ -0,0 +1,20 @@\n+//Carousel\n+.ImageSlide {\n+  position: relative;\n+  display: flex;\n+  flex-direction: column;\n+  //\u753b\u50cf\u306e\u30e9\u30c3\u30d1\u30fc\n+  &amp;__main {\n+    display: flex;\n+    flex-wrap: nowrap;\n+  }\n+  //\u753b\u50cf\uff11\u3064\u5206\n+  &amp;__item {\n+    flex: 0 0 80%;\n+  }\n+  //\u672c\u4f53\u753b\u50cf\n+  &amp;__image {\n+    width: 100%;\n+    height: auto;\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 662cb0b..128740f 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -10,6 +10,8 @@\n @import \"./components/parts/buttons\";\n // \u30ec\u30a4\u30a2\u30a6\u30c8\n @import \"components/parts/layouts\";\n+// \u30ab\u30eb\u30fc\u30bb\u30eb\n+@import \"components/imageSlide\";\n\n //@import \"pages/staff/container\";\n //@import \"pages/staff/layout\";\n\\ No newline at end of file\ndiff --git a/app/views/layouts/staff.html.erb b/app/views/layouts/staff.html.erb\nindex 831bb5c..8aa72f1 100644\n--- a/app/views/layouts/staff.html.erb\n+++ b/app/views/layouts/staff.html.erb\n@@ -13,5 +13,8 @@\n       &lt;%= yield %&gt;\n       &lt;%= render 'shared/footer' %&gt;\n     &lt;/div&gt;\n+    &lt;script&gt;\n+        imageSlide('Slide', 2);\n+    &lt;/script&gt;\n   &lt;/body&gt;\n &lt;/html&gt;\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex 549cdcf..2aee186 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -1,5 +1,28 @@\n &lt;% @title = '\u8077\u54e1\u30c8\u30c3\u30d7\u30da\u30fc\u30b8' %&gt;\n &lt;h1&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+\n+&lt;div class=\"ImageSlide\"&gt;\n+  &lt;ul id=\"Slide\" class=\"ImageSlide__main\"&gt;\n+    &lt;li class=\"ImageSlide__item\"&gt;\n+      &lt;a href=\"#\"&gt;\n+        &lt;%= image_tag('top/slide1.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n+      &lt;/a&gt;\n+    &lt;/li&gt;\n+    &lt;li class=\"ImageSlide__item\"&gt;\n+      &lt;a href=\"#\"&gt;\n+        &lt;%= image_tag('top/slide2.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n+      &lt;/a&gt;\n+    &lt;/li&gt;\n+    &lt;li class=\"ImageSlide__item\"&gt;\n+      &lt;a href=\"#\"&gt;\n+        &lt;%= image_tag('top/slide3.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n+      &lt;/a&gt;\n+    &lt;/li&gt;\n+  &lt;/ul&gt;\n+  &lt;div class=\"ImageSlide__sub\"&gt;\n+  &lt;/div&gt;\n+&lt;/div&gt;\n+\n &lt;section class=\"l-column\"&gt;\n   &lt;div class=\"l-row\"&gt;\n     &lt;div class=\"EntryPanel l-halfColumn\"&gt;\n</code></pre>"},{"location":"journal/20170116/#886948a","title":"\u30b3\u30df\u30c3\u30c8: 886948a","text":""},{"location":"journal/20170116/#_98","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u5168\u4f53\u7684\u306a\u5e45\u3092\u6c7a\u3081\u308b\n</code></pre>"},{"location":"journal/20170116/#_99","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/base/_variables.scss</li> <li>M app/assets/stylesheets/components/parts/_layouts.scss</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170116/#_100","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 886948adc8e3de32f8d28b628b471d4662372b51\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 14:16:03 2017 +0900\n\n    \u5168\u4f53\u7684\u306a\u5e45\u3092\u6c7a\u3081\u308b\n\ndiff --git a/app/assets/stylesheets/base/_variables.scss b/app/assets/stylesheets/base/_variables.scss\nindex 8461326..f8f9290 100644\n--- a/app/assets/stylesheets/base/_variables.scss\n+++ b/app/assets/stylesheets/base/_variables.scss\n@@ -2,4 +2,9 @@ $color-base: #fbf7fe;\n $color-main-text: #474747;\n $color-link: #878378;\n $color-reverse-line: #fff;\n-$color-reverse-fill: #252525;\n\\ No newline at end of file\n+$color-reverse-fill: #252525;\n+//sizes\n+$base-content-width: 1180px;\n+$space-unit: 20px;\n+$sp-space-unit: 15px;\n+$column-space: $space-unit*2;\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/parts/_layouts.scss b/app/assets/stylesheets/components/parts/_layouts.scss\nindex e69de29..d1c444b 100644\n--- a/app/assets/stylesheets/components/parts/_layouts.scss\n+++ b/app/assets/stylesheets/components/parts/_layouts.scss\n@@ -0,0 +1,20 @@\n+.l-column {\n+  flex: 0 1 $base-content-width;\n+  max-width: $base-content-width;\n+  margin: 0 auto;\n+  padding: 0 $space-unit;\n+}\n+.l-row {\n+  display: flex;\n+  justify-content: space-between;\n+  flex-wrap: wrap;\n+  margin: 0 auto;\n+}\n+.l-halfColumn {\n+  flex: 1 0 0px;\n+  max-width: ($base-content-width - $column-space)/2;\n+  margin-right: $column-space;\n+  &amp;:nth-child(even) {\n+    margin-right: 0;\n+  }\n+}\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex b3bac9e..549cdcf 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -1,29 +1,31 @@\n &lt;% @title = '\u8077\u54e1\u30c8\u30c3\u30d7\u30da\u30fc\u30b8' %&gt;\n &lt;h1&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n-&lt;section&gt;\n-  &lt;div class=\"EntryPanel\"&gt;\n-    &lt;div class=\"EntryPanel__sub\"&gt;\n-      &lt;%= image_tag('top/entry1.jpg',class: 'EntryPanel__thumb' , width: '275' , height: '250') %&gt;\n-    &lt;/div&gt;\n-    &lt;div id=\"EntryPanel__main\"&gt;\n-      &lt;h3 class=\"EntryPanel__head\"&gt;\u51ac\u306e\u30b3\u30fc\u30d2\u30fc\u30ae\u30d5\u30c8&lt;/h3&gt;\n-      &lt;div class=\"EntryPanel__body\"&gt;\n-        \u5927\u5207\u306a\u3042\u306e\u65b9\u306b\u3042\u308a\u304c\u3068\u3046\u3092\u5c4a\u3051\u305f\u3044\u3002\u5fc3\u3082\u4f53\u3082\u6e29\u307e\u308b\u7d20\u6575\u306a\u30ae\u30d5\u30c8\u3002\u30d7\u30ec\u30bc\u30f3\u30c8\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u5b9f\u65bd\u4e2d\uff01\n+&lt;section class=\"l-column\"&gt;\n+  &lt;div class=\"l-row\"&gt;\n+    &lt;div class=\"EntryPanel l-halfColumn\"&gt;\n+      &lt;div class=\"EntryPanel__sub\"&gt;\n+        &lt;%= image_tag('top/entry1.jpg',class: 'EntryPanel__thumb' , width: '275' , height: '250') %&gt;\n+      &lt;/div&gt;\n+      &lt;div id=\"EntryPanel__main\"&gt;\n+        &lt;h3 class=\"EntryPanel__head\"&gt;\u51ac\u306e\u30b3\u30fc\u30d2\u30fc\u30ae\u30d5\u30c8&lt;/h3&gt;\n+        &lt;div class=\"EntryPanel__body\"&gt;\n+          \u5927\u5207\u306a\u3042\u306e\u65b9\u306b\u3042\u308a\u304c\u3068\u3046\u3092\u5c4a\u3051\u305f\u3044\u3002\u5fc3\u3082\u4f53\u3082\u6e29\u307e\u308b\u7d20\u6575\u306a\u30ae\u30d5\u30c8\u3002\u30d7\u30ec\u30bc\u30f3\u30c8\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u5b9f\u65bd\u4e2d\uff01\n+        &lt;/div&gt;\n+        &lt;div class=\"EntryPanel__foot\"&gt;&lt;a href=\"#\" class=\"button\"&gt;READ MORE&lt;/a&gt;&lt;/div&gt;\n       &lt;/div&gt;\n-      &lt;div class=\"EntryPanel__foot\"&gt;&lt;a href=\"#\" class=\"button\"&gt;READ MORE&lt;/a&gt;&lt;/div&gt;\n     &lt;/div&gt;\n-  &lt;/div&gt;\n\n-  &lt;div class=\"EntryPanel\"&gt;\n-    &lt;div class=\"EntryPanel__sub\"&gt;\n-      &lt;%= image_tag('top/entry2.jpg',class: 'EntryPanel__thumb' , width: '275' , height: '250') %&gt;\n-    &lt;/div&gt;\n-    &lt;div id=\"EntryPanel__main\"&gt;\n-      &lt;h3 class=\"EntryPanel__head\"&gt;\u3042\u306e\u4eba\u6c17\u5e97\u30b3\u30e9\u30dc\u30e1\u30cb\u30e5\u30fc&lt;/h3&gt;\n-      &lt;div class=\"EntryPanel__body\"&gt;\n-        \u4eca\u8a71\u984c\u306e\u4eba\u6c17\u5e97\u3001Macaron'n Things\u306e\u30d1\u30f3\u30b1\u30fc\u30ad\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc\u5546\u54c1\u306e\u30bb\u30c3\u30c8\u30e1\u30cb\u30e5\u30fc\u3092\u8ca9\u58f2\u4e2d\u3002\n+    &lt;div class=\"EntryPanel l-halfColumn\"&gt;\n+      &lt;div class=\"EntryPanel__sub\"&gt;\n+        &lt;%= image_tag('top/entry2.jpg',class: 'EntryPanel__thumb' , width: '275' , height: '250') %&gt;\n+      &lt;/div&gt;\n+      &lt;div id=\"EntryPanel__main\"&gt;\n+        &lt;h3 class=\"EntryPanel__head\"&gt;\u3042\u306e\u4eba\u6c17\u5e97\u30b3\u30e9\u30dc\u30e1\u30cb\u30e5\u30fc&lt;/h3&gt;\n+        &lt;div class=\"EntryPanel__body\"&gt;\n+          \u4eca\u8a71\u984c\u306e\u4eba\u6c17\u5e97\u3001Macaron'n Things\u306e\u30d1\u30f3\u30b1\u30fc\u30ad\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc\u5546\u54c1\u306e\u30bb\u30c3\u30c8\u30e1\u30cb\u30e5\u30fc\u3092\u8ca9\u58f2\u4e2d\u3002\n+        &lt;/div&gt;\n+        &lt;div class=\"EntryPanel__foot\"&gt;&lt;a href=\"#\" class=\"button\"&gt;READ MORE&lt;/a&gt;&lt;/div&gt;\n       &lt;/div&gt;\n-      &lt;div class=\"EntryPanel__foot\"&gt;&lt;a href=\"#\" class=\"button\"&gt;READ MORE&lt;/a&gt;&lt;/div&gt;\n     &lt;/div&gt;\n   &lt;/div&gt;\n &lt;/section&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#8c7c06f","title":"\u30b3\u30df\u30c3\u30c8: 8c7c06f","text":""},{"location":"journal/20170116/#_101","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u6574\u3048\u308bCSS\u3092\u4f5c\u308b\n</code></pre>"},{"location":"journal/20170116/#_102","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/stylesheets/components/parts/_layouts.scss</li> <li>M app/assets/stylesheets/main.scss</li> </ul>"},{"location":"journal/20170116/#_103","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8c7c06fba73401512ae359c57410bd7b6aff3d5e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 14:12:21 2017 +0900\n\n    \u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u6574\u3048\u308bCSS\u3092\u4f5c\u308b\n\ndiff --git a/app/assets/stylesheets/components/parts/_layouts.scss b/app/assets/stylesheets/components/parts/_layouts.scss\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 69f4d38..662cb0b 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -8,6 +8,8 @@\n @import \"./components/entryPanel\";\n // \u30dc\u30bf\u30f3\n @import \"./components/parts/buttons\";\n+// \u30ec\u30a4\u30a2\u30a6\u30c8\n+@import \"components/parts/layouts\";\n\n //@import \"pages/staff/container\";\n //@import \"pages/staff/layout\";\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#c394e25","title":"\u30b3\u30df\u30c3\u30c8: c394e25","text":""},{"location":"journal/20170116/#_104","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b\n</code></pre>"},{"location":"journal/20170116/#_105","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/base/_variables.scss</li> <li>M app/assets/stylesheets/base/lib/_sanitize.scss</li> <li>M app/assets/stylesheets/components/_entryPanel.scss</li> <li>A app/assets/stylesheets/components/parts/_buttons.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170116/#_106","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c394e254472f3d32fa30ea43c544c7ef779695f6\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 14:06:57 2017 +0900\n\n    \u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b\n\ndiff --git a/app/assets/stylesheets/base/_variables.scss b/app/assets/stylesheets/base/_variables.scss\nindex 402b1a0..8461326 100644\n--- a/app/assets/stylesheets/base/_variables.scss\n+++ b/app/assets/stylesheets/base/_variables.scss\n@@ -1,3 +1,5 @@\n $color-base: #fbf7fe;\n $color-main-text: #474747;\n-$color-link: #878378;\n\\ No newline at end of file\n+$color-link: #878378;\n+$color-reverse-line: #fff;\n+$color-reverse-fill: #252525;\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/base/lib/_sanitize.scss b/app/assets/stylesheets/base/lib/_sanitize.scss\nindex 72be512..740be11 100644\n--- a/app/assets/stylesheets/base/lib/_sanitize.scss\n+++ b/app/assets/stylesheets/base/lib/_sanitize.scss\n@@ -1,526 +1,294 @@\n-/*! sanitize.css v4.0.0 | CC0 License | github.com/10up/sanitize.css */\n+@charset 'utf-8';\n\n-/* Display definitions\n-   ========================================================================== */\n+/*! sanitize.css v3.2.0 | CC0 1.0 Public Domain | github.com/10up/sanitize.css */\n\n-/**\n- * Add the correct display in IE 9-.\n- * 1. Add the correct display in Edge, IE, and Firefox.\n- * 2. Add the correct display in IE.\n- */\n-\n-article,\n-aside,\n-details, /* 1 */\n-figcaption,\n-figure,\n-footer,\n-header,\n-main, /* 2 */\n-menu,\n-nav,\n-section,\n-summary { /* 1 */\n-   display: block;\n-}\n-\n-/**\n- * Add the correct display in IE 9-.\n- */\n-\n-audio,\n-canvas,\n-progress,\n-video {\n-   display: inline-block;\n-}\n-\n-/**\n- * Add the correct display in iOS 4-7.\n+/*\n+ * Normalization\n  */\n\n audio:not([controls]) {\n-   display: none;\n-   height: 0;\n+  display: none; /* Chrome 44-, iOS 8+, Safari 9+ */\n }\n\n-/**\n- * Add the correct display in IE 10-.\n- * 1. Add the correct display in IE.\n- */\n-\n-template, /* 1 */\n-[hidden] {\n-   display: none;\n-}\n-\n-/* Elements of HTML (https://www.w3.org/TR/html5/semantics.html)\n-   ========================================================================== */\n-\n-/**\n- * 1. Remove repeating backgrounds in all browsers (opinionated).\n- * 2. Add box sizing inheritence in all browsers (opinionated).\n- */\n-\n-*,\n-::before,\n-::after {\n-   background-repeat: no-repeat; /* 1 */\n-   box-sizing: inherit; /* 2 */\n+button {\n+  -webkit-appearance: button; /* iOS 8+ */\n+  overflow: visible; /* Internet Explorer 11- */\n }\n\n-/**\n- * 1. Add text decoration inheritance in all browsers (opinionated).\n- * 2. Add vertical alignment inheritence in all browsers (opinionated).\n- */\n-\n-::before,\n-::after {\n-   text-decoration: inherit; /* 1 */\n-   vertical-align: inherit; /* 2 */\n+details {\n+  display: block; /* Edge 12+, Firefox 40+, Internet Explorer 11-, Windows Phone 8.1+ */\n }\n\n-/**\n- * 1. Add border box sizing in all browsers (opinionated).\n- * 2. Add the default cursor in all browsers (opinionated).\n- * 3. Add a flattened line height in all browsers (opinionated).\n- * 4. Prevent font size adjustments after orientation changes in IE and iOS.\n- */\n-\n html {\n-   box-sizing: border-box; /* 1 */\n-   cursor: default; /* 2 */\n-   font-family: sans-serif; /* 3 */\n-   line-height: 1.5; /* 3 */\n-   -ms-text-size-adjust: 100%; /* 4 */\n-   -webkit-text-size-adjust: 100%; /* 5 */\n+  -ms-overflow-style: -ms-autohiding-scrollbar; /* Edge 12+, Internet Explorer 11- */\n+  overflow-y: scroll; /* All browsers without overlaying scrollbars */\n+  -webkit-text-size-adjust: 100%; /* iOS 8+ */\n }\n\n-/* Sections (https://www.w3.org/TR/html5/sections.html)\n-   ========================================================================== */\n-\n-/**\n- * Remove the margin in all browsers (opinionated).\n- */\n-\n-body {\n-   margin: 0;\n+input {\n+  -webkit-border-radius: 0 /* iOS 8+ */\n }\n\n-/**\n- * Correct the font sizes and margins on `h1` elements within\n- * `section` and `article` contexts in Chrome, Firefox, and Safari.\n- */\n-\n-h1 {\n-   font-size: 2em;\n-   margin: .67em 0;\n+input[type=\"button\"],\n+input[type=\"reset\"],\n+input[type=\"submit\"] {\n+  -webkit-appearance: button;/* iOS 8+ */\n }\n\n-/* Grouping content (https://www.w3.org/TR/html5/grouping-content.html)\n-   ========================================================================== */\n-\n-/**\n- * 1. Correct font sizing inheritance and scaling in all browsers.\n- * 2. Correct the odd `em` font sizing in all browsers.\n- */\n-\n-code,\n-kbd,\n-pre,\n-samp {\n-   font-family: monospace, monospace; /* 1 */\n-   font-size: 1em; /* 2 */\n+input[type=\"number\"] {\n+  width: auto;/* Firefox 36+ */\n }\n\n-/**\n- * 1. Correct the height in Firefox.\n- * 2. Add visible overflow in Edge and IE.\n- */\n-\n-hr {\n-   height: 0; /* 1 */\n-   overflow: visible; /* 2 */\n+input[type=\"search\"] {\n+  -webkit-appearance: textfield;/* Chrome 45+, Safari 9+ */\n }\n\n-/**\n- * Remove the list style on navigation lists in all browsers (opinionated).\n- */\n-\n-nav ol,\n-nav ul {\n-   list-style: none;\n+input[type=\"search\"]::-webkit-search-cancel-button,\n+input[type=\"search\"]::-webkit-search-decoration {\n+  -webkit-appearance: none;/* Chrome 45+, Safari 9+ */\n }\n\n-/* Text-level semantics\n-   ========================================================================== */\n-\n-/**\n- * 1. Add a bordered underline effect in all browsers.\n- * 2. Remove text decoration in Firefox 40+.\n- */\n-\n-abbr[title] {\n-   border-bottom: 1px dotted; /* 1 */\n-   text-decoration: none; /* 2 */\n+main {\n+  display: block; /* Android 4.3-, Internet Explorer 11-, Windows Phone 8.1+ */\n }\n\n-/**\n- * Prevent the duplicate application of `bolder` by the next rule in Safari 6.\n- */\n-\n-b,\n-strong {\n-   font-weight: inherit;\n+pre {\n+  overflow: auto; /* Internet Explorer 11- */\n }\n\n-/**\n- * Add the correct font weight in Chrome, Edge, and Safari.\n- */\n-\n-b,\n-strong {\n-   font-weight: bolder;\n+progress {\n+  display: inline-block; /* Internet Explorer 11-, Windows Phone 8.1+ */\n }\n\n-/**\n- * Add the correct font style in Android 4.3-.\n- */\n-\n-dfn {\n-   font-style: italic;\n+small {\n+  font-size: 75%; /* All browsers */\n }\n\n-/**\n- * Add the correct colors in IE 9-.\n- */\n-\n-mark {\n-   background-color: #ffff00;\n-   color: #000000;\n+summary {\n+  display: block; /* Firefox 40+, Internet Explorer 11-, Windows Phone 8.1+ */\n }\n\n-/**\n- * Add the correct vertical alignment in Chrome, Firefox, and Opera.\n- */\n-\n-progress {\n-   vertical-align: baseline;\n+svg:not(:root) {\n+  overflow: hidden; /* Internet Explorer 11- */\n }\n\n-/**\n- * Correct the font size in all browsers.\n- */\n-\n-small {\n-   font-size: 83.3333%;\n+template {\n+  display: none; /* Android 4.3-, Internet Explorer 11-, iOS 7-, Safari 7-, Windows Phone 8.1+ */\n }\n\n-/**\n- * Change the positioning on superscript and subscript elements\n- * in all browsers (opinionated).\n- * 1. Correct the font size in all browsers.\n- */\n-\n-sub,\n-sup {\n-   font-size: 83.3333%; /* 1 */\n-   line-height: 0;\n-   position: relative;\n-   vertical-align: baseline;\n-}\n-\n-sub {\n-   bottom: -.25em;\n+textarea {\n+  overflow: auto; /* Edge 12+, Internet Explorer 11- */\n }\n\n-sup {\n-   top: -.5em;\n+[hidden] {\n+  display: none; /* Internet Explorer 10- */\n }\n\n /*\n- * Remove the text shadow on text selections (opinionated).\n- * 1. Restore the coloring undone by defining the text shadow (opinionated).\n+ * Universal inheritance\n  */\n\n-::-moz-selection {\n-   background-color: #b3d4fc; /* 1 */\n-   color: #000000; /* 1 */\n-   text-shadow: none;\n+*,\n+:before,\n+:after {\n+  box-sizing: inherit;\n }\n\n-::selection {\n-   background-color: #b3d4fc; /* 1 */\n-   color: #000000; /* 1 */\n-   text-shadow: none;\n+* {\n+  font-size: inherit;\n+  line-height: inherit;\n }\n\n-/* Embedded content (https://www.w3.org/TR/html5/embedded-content-0.html)\n-   ========================================================================== */\n-\n-/*\n- * Change the alignment on media elements in all browers (opinionated).\n- */\n-\n-audio,\n-canvas,\n-iframe,\n-img,\n-svg,\n-video {\n-   vertical-align: middle;\n+:before,\n+:after {\n+  text-decoration: inherit;\n+  vertical-align: inherit;\n }\n\n-/**\n- * Remove the border on images inside links in IE 10-.\n- */\n\n-img {\n-   border-style: none;\n-}\n\n-/**\n- * Change the fill color to match the text color in all browsers (opinionated).\n+/*\n+ * Opinionated defaults\n  */\n\n-svg {\n-   fill: currentColor;\n+/* specify the border style and width of all elements */\n+\n+*,\n+:before,\n+:after {\n+  border-style: solid;\n+  border-width: 0;\n }\n\n-/**\n- * Hide the overflow in IE.\n- */\n+/* specify the core styles of all elements */\n\n-svg:not(:root) {\n-   overflow: hidden;\n+* {\n+  background-repeat: no-repeat;\n+  margin: 0;\n+  padding: 0;\n }\n\n-/* Links (https://www.w3.org/TR/html5/links.html#links)\n-   ========================================================================== */\n-\n-/**\n- * 1. Remove the gray background on active links in IE 10.\n- * 2. Remove the gaps in underlines in iOS 8+ and Safari 8+.\n- */\n+/* specify the root styles of the document */\n\n-a {\n-   background-color: transparent; /* 1 */\n-   -webkit-text-decoration-skip: objects; /* 2 */\n+:root {\n+  background-color: #ffffff;\n+  box-sizing: border-box;\n+  color: #000000;\n+  cursor: default;\n+  font: 100%/1.5 sans-serif;\n }\n\n-/**\n- * Remove the outline when hovering in all browsers (opinionated.\n- */\n+/* specify the text decoration of anchors */\n\n-:hover {\n-   outline-width: 0;\n+a {\n+  text-decoration: none;\n }\n\n-/* Tabular data (https://www.w3.org/TR/html5/tabular-data.html)\n-   ========================================================================== */\n+/* specify the alignment of media elements */\n\n-/*\n- * Remove border spacing in all browsers (opinionated).\n- */\n-\n-table {\n-   border-collapse: collapse;\n-   border-spacing: 0;\n+audio,\n+canvas,\n+iframe,\n+img,\n+svg,\n+video {\n+  vertical-align: middle;\n }\n\n-/* transform-style:  (https://www.w3.org/TR/html5/forms.html)\n-   ========================================================================== */\n-\n-/**\n- * 1. Remove the default styling in all browsers (opinionated).\n- * 3. Remove the margin in Firefox and Safari.\n- */\n+/* specify the background color of form elements */\n\n button,\n input,\n select,\n textarea {\n-   background-color: transparent; /* 1 */\n-   border-style: none; /* 1 */\n-   color: inherit; /* 1 */\n-   font-size: 1em; /* 1 */\n-   margin: 0; /* 3 */\n+  background-color: transparent;\n }\n\n-/**\n- * Correct the overflow in IE.\n- * 1. Correct the overflow in Edge.\n- */\n-\n-button,\n-input { /* 1 */\n-   overflow: visible;\n-}\n-\n-/**\n- * Remove the inheritance in Edge, Firefox, and IE.\n- * 1. Remove the inheritance in Firefox.\n- */\n+/* specify the inherited color and font of form elements */\n\n button,\n-select { /* 1 */\n-   text-transform: none;\n+input,\n+select,\n+textarea {\n+  color: inherit;\n+  font-family: inherit;\n+  font-style: inherit;\n+  font-weight: inherit;\n }\n\n-/**\n- * 1. Prevent the WebKit bug where (2) destroys native `audio` and `video`\n- *    controls in Android 4.\n- * 2. Correct the inability to style clickable types in iOS and Safari.\n- */\n+/* specify the minimum height of form elements */\n\n button,\n-html [type=\"button\"], /* 1 */\n+[type=\"button\"],\n+[type=\"date\"],\n+[type=\"datetime\"],\n+[type=\"datetime-local\"],\n+[type=\"email\"],\n+[type=\"month\"],\n+[type=\"number\"],\n+[type=\"password\"],\n [type=\"reset\"],\n-[type=\"submit\"] {\n-   -webkit-appearance: button; /* 2 */\n+[type=\"search\"],\n+[type=\"submit\"],\n+[type=\"tel\"],\n+[type=\"text\"],\n+[type=\"time\"],\n+[type=\"url\"],\n+[type=\"week\"],\n+select,\n+textarea {\n+  min-height: 1.5em;\n }\n\n-/**\n- * Remove the inner border and padding in Firefox.\n- */\n+/* specify the font family of code elements */\n\n-::-moz-focus-inner {\n-   border-style: none;\n-   padding: 0;\n+code,\n+kbd,\n+pre,\n+samp {\n+  font-family: monospace, monospace;\n }\n\n-/**\n- * Correct the focus styles unset by the previous rule.\n- */\n+/* specify the list style of nav lists */\n\n-:-moz-focusring {\n-   outline: 1px dotted ButtonText;\n+nav ol,\n+nav ul {\n+  list-style: none;\n }\n\n-/**\n- * Correct the border, margin, and padding in all browsers.\n- */\n+/* specify the standard appearance of selects */\n\n-fieldset {\n-   border: 1px solid #c0c0c0;\n-   margin: 0 2px;\n-   padding: .35em .625em .75em;\n+select {\n+  -moz-appearance: none;    /* Firefox 40+ */\n+  -webkit-appearance: none /* Chrome 45+ */\n }\n\n-/**\n- * 1. Correct the text wrapping in Edge and IE.\n- * 2. Remove the padding so developers are not caught out when they zero out\n- *    `fieldset` elements in all browsers.\n- */\n-\n-legend {\n-   display: table; /* 1 */\n-   max-width: 100%; /* 1 */\n-   padding: 0; /* 2 */\n-   white-space: normal; /* 1 */\n+select::-ms-expand {\n+  display: none;/* Edge 12+, Internet Explorer 11- */\n }\n\n-/**\n- * 1. Remove the vertical scrollbar in IE.\n- * 2. Change the resize direction on textareas in all browsers (opinionated).\n- */\n-\n-textarea {\n-   overflow: auto; /* 1 */\n-   resize: vertical; /* 2 */\n+select::-ms-value {\n+  color: currentColor;/* Edge 12+, Internet Explorer 11- */\n }\n\n-/**\n- * Remove the padding in IE 10-.\n- */\n+/* specify the border styling of tables */\n\n-[type=\"checkbox\"],\n-[type=\"radio\"] {\n-   padding: 0;\n+table {\n+  border-collapse: collapse;\n+  border-spacing: 0;\n }\n\n-/**\n- * Correct the cursor style on increment and decrement buttons in Chrome.\n- */\n+/* specify the resizability of textareas */\n\n-::-webkit-inner-spin-button,\n-::-webkit-outer-spin-button {\n-   height: auto;\n+textarea {\n+  resize: vertical;\n }\n\n-/**\n- * 1. Correct the odd appearance in Chrome and Safari.\n- * 2. Correct the outline style in Safari.\n- */\n+/* specify the background color, font color, and drop shadow of text selections */\n\n-[type=\"search\"] {\n-   -webkit-appearance: textfield; /* 1 */\n-   outline-offset: -2px; /* 2 */\n+::-moz-selection {\n+  background-color: #b3d4fc; /* required when declaring ::selection */\n+  color: #ffffff;\n+  text-shadow: none;\n }\n\n-/**\n- * Remove the inner padding and cancel buttons in Chrome and Safari for OS X.\n- */\n-\n-::-webkit-search-cancel-button,\n-::-webkit-search-decoration {\n-   -webkit-appearance: none;\n+::selection {\n+  background-color: #b3d4fc; /* required when declaring ::selection */\n+  color: #ffffff;\n+  text-shadow: none;\n }\n\n-/**\n- * Correct the text style on placeholders in Chrome, Edge, and Safari.\n- */\n+/* specify the progress cursor of updating elements */\n\n-::-webkit-input-placeholder {\n-   color: inherit;\n-   opacity: .54;\n+[aria-busy=\"true\"] {\n+  cursor: progress;\n }\n\n-/**\n- * 1. Correct the inability to style clickable types in iOS and Safari.\n- * 2. Change font properties to `inherit` in Safari.\n- */\n+/* specify the pointer cursor of trigger elements */\n\n-::-webkit-file-upload-button {\n-   -webkit-appearance: button; /* 1 */\n-   font: inherit; /* 2 */\n+[aria-controls] {\n+  cursor: pointer;\n }\n\n-/* WAI-ARIA (https://www.w3.org/TR/html5/dom.html#wai-aria)\n-   ========================================================================== */\n+/* specify the unstyled cursor of disabled, not-editable, or otherwise inoperable elements */\n\n-/**\n- * Change the cursor on busy elements (opinionated).\n- */\n-\n-[aria-busy=\"true\"] {\n-   cursor: progress;\n+[aria-disabled] {\n+  cursor: default;\n }\n\n-/*\n- * Change the cursor on control elements (opinionated).\n- */\n+/* specify the style of visually hidden yet accessible elements */\n\n-[aria-controls] {\n-   cursor: pointer;\n+[hidden][aria-hidden=\"false\"] {\n+  clip: rect(0 0 0 0);\n+  display: inherit;\n+  position: absolute\n }\n\n-/*\n- * Change the cursor on disabled, not-editable, or otherwise\n- * inoperable elements (opinionated).\n- */\n-\n-[aria-disabled] {\n-   cursor: default;\n+[hidden][aria-hidden=\"false\"]:focus {\n+  clip: auto;\n }\n\n-/* User interaction (https://www.w3.org/TR/html5/editing.html)\n-   ========================================================================== */\n-\n-/*\n- * Remove the tapping delay on clickable elements (opinionated).\n- * 1. Remove the tapping delay in IE 10.\n- */\n+/* remove delay from tapping on clickable elements */\n\n a,\n area,\n@@ -530,20 +298,8 @@ label,\n select,\n textarea,\n [tabindex] {\n-   -ms-touch-action: manipulation; /* 1 */\n-   touch-action: manipulation;\n-}\n-\n-/*\n- * Change the display on visually hidden accessible elements (opinionated).\n- */\n-\n-[hidden][aria-hidden=\"false\"] {\n-   clip: rect(0, 0, 0, 0);\n-   display: inherit;\n-   position: absolute;\n+  -ms-touch-action: manipulation;\n+  touch-action: manipulation;\n }\n\n-[hidden][aria-hidden=\"false\"]:focus {\n-   clip: auto;\n-}\n\\ No newline at end of file\n+/*# sourceMappingURL=sanitize.css.map */\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/_entryPanel.scss b/app/assets/stylesheets/components/_entryPanel.scss\nindex 420c9b7..b12b500 100644\n--- a/app/assets/stylesheets/components/_entryPanel.scss\n+++ b/app/assets/stylesheets/components/_entryPanel.scss\n@@ -9,6 +9,14 @@\n     flex-direction: column;\n     padding: 20px 0;\n   }\n+  &amp;__sub {\n+    flex: 1 1 45%;\n+    margin-right: 20px;\n+  }\n+  &amp;__thumb {\n+    width: 100%;\n+    height: auto;\n+  }\n   &amp;__head {\n     font-weight: bold;\n     font-size: 16px;\ndiff --git a/app/assets/stylesheets/components/parts/_buttons.scss b/app/assets/stylesheets/components/parts/_buttons.scss\nnew file mode 100644\nindex 0000000..e0f6ef3\n--- /dev/null\n+++ b/app/assets/stylesheets/components/parts/_buttons.scss\n@@ -0,0 +1,9 @@\n+.button {\n+  display: inline-block;\n+  padding: 7px 12px;\n+  color: $color-reverse-line;\n+  background: $color-reverse-fill;\n+  font-weight: normal;\n+  font-size: 14px;\n+  line-height: 1;\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 0876055..69f4d38 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -6,6 +6,8 @@\n @import \"./components/common/menu\";\n // \u30d6\u30ed\u30b0\u629c\u7c8b\n @import \"./components/entryPanel\";\n+// \u30dc\u30bf\u30f3\n+@import \"./components/parts/buttons\";\n\n //@import \"pages/staff/container\";\n //@import \"pages/staff/layout\";\n\\ No newline at end of file\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex 2833ce7..b3bac9e 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -10,7 +10,7 @@\n       &lt;div class=\"EntryPanel__body\"&gt;\n         \u5927\u5207\u306a\u3042\u306e\u65b9\u306b\u3042\u308a\u304c\u3068\u3046\u3092\u5c4a\u3051\u305f\u3044\u3002\u5fc3\u3082\u4f53\u3082\u6e29\u307e\u308b\u7d20\u6575\u306a\u30ae\u30d5\u30c8\u3002\u30d7\u30ec\u30bc\u30f3\u30c8\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u5b9f\u65bd\u4e2d\uff01\n       &lt;/div&gt;\n-      &lt;div class=\"EntryPanel__foot\"&gt;&lt;a href=\"#\"&gt;&lt;/a&gt;READ MORE&lt;/div&gt;\n+      &lt;div class=\"EntryPanel__foot\"&gt;&lt;a href=\"#\" class=\"button\"&gt;READ MORE&lt;/a&gt;&lt;/div&gt;\n     &lt;/div&gt;\n   &lt;/div&gt;\n\n@@ -23,7 +23,7 @@\n       &lt;div class=\"EntryPanel__body\"&gt;\n         \u4eca\u8a71\u984c\u306e\u4eba\u6c17\u5e97\u3001Macaron'n Things\u306e\u30d1\u30f3\u30b1\u30fc\u30ad\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc\u5546\u54c1\u306e\u30bb\u30c3\u30c8\u30e1\u30cb\u30e5\u30fc\u3092\u8ca9\u58f2\u4e2d\u3002\n       &lt;/div&gt;\n-      &lt;div class=\"EntryPanel__foot\"&gt;&lt;a href=\"#\"&gt;&lt;/a&gt;READ MORE&lt;/div&gt;\n+      &lt;div class=\"EntryPanel__foot\"&gt;&lt;a href=\"#\" class=\"button\"&gt;READ MORE&lt;/a&gt;&lt;/div&gt;\n     &lt;/div&gt;\n   &lt;/div&gt;\n &lt;/section&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#538afa7","title":"\u30b3\u30df\u30c3\u30c8: 538afa7","text":""},{"location":"journal/20170116/#_107","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u300c\u753b\u50cf+\u8a18\u4e8b\u300d\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u308b\n</code></pre>"},{"location":"journal/20170116/#_108","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/stylesheets/components/_entryPanel.scss</li> <li>M app/assets/stylesheets/main.scss</li> </ul>"},{"location":"journal/20170116/#_109","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 538afa7fb2eb042fc3a6ba29286b9277005108b3\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 14:00:43 2017 +0900\n\n    \u300c\u753b\u50cf+\u8a18\u4e8b\u300d\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u308b\n\ndiff --git a/app/assets/stylesheets/components/_entryPanel.scss b/app/assets/stylesheets/components/_entryPanel.scss\nnew file mode 100644\nindex 0000000..420c9b7\n--- /dev/null\n+++ b/app/assets/stylesheets/components/_entryPanel.scss\n@@ -0,0 +1,24 @@\n+.EntryPanel {\n+  display: flex;\n+  align-items: center;\n+  &amp;__main {\n+    display: flex;\n+    justify-content: space-between;\n+    align-self: stretch;\n+    flex: 1 1 50%;\n+    flex-direction: column;\n+    padding: 20px 0;\n+  }\n+  &amp;__head {\n+    font-weight: bold;\n+    font-size: 16px;\n+  }\n+  &amp;__body {\n+    margin-top: 10px;\n+    font-size: 14px;\n+  }\n+  &amp;__foot {\n+    margin-top: 10px;\n+    text-align: right;\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 8d700ee..0876055 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -4,6 +4,8 @@\n\n // \u30e1\u30cb\u30e5\u30fc\n @import \"./components/common/menu\";\n+// \u30d6\u30ed\u30b0\u629c\u7c8b\n+@import \"./components/entryPanel\";\n\n //@import \"pages/staff/container\";\n //@import \"pages/staff/layout\";\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#5daec1f","title":"\u30b3\u30df\u30c3\u30c8: 5daec1f","text":""},{"location":"journal/20170116/#_110","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Flex\u3092\u5229\u7528\u3057\u305f\u30d8\u30c3\u30c0\u30fc\u306eCSS\n</code></pre>"},{"location":"journal/20170116/#_111","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/components/common/_header.scss</li> <li>A app/assets/stylesheets/components/common/_menu.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/views/shared/_header.html.erb</li> </ul>"},{"location":"journal/20170116/#_112","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 5daec1f3e5e2588b5ddda36358f12339364c50c7\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 13:58:11 2017 +0900\n\n    Flex\u3092\u5229\u7528\u3057\u305f\u30d8\u30c3\u30c0\u30fc\u306eCSS\n\ndiff --git a/app/assets/stylesheets/components/common/_header.scss b/app/assets/stylesheets/components/common/_header.scss\nindex e40881a..23a2c65 100644\n--- a/app/assets/stylesheets/components/common/_header.scss\n+++ b/app/assets/stylesheets/components/common/_header.scss\n@@ -1,3 +1,13 @@\n-.header {\n-  color: #000;\n+.Header {\n+  display: flex;\n+  justify-content: flex-start;\n+  align-items: center;\n+  height: 98px;\n+  &amp;__head {\n+    flex: 1 1 auto;\n+    text-align: center;\n+  }\n+  &amp;__body {\n+    flex: 3 1 auto\n+  }\n }\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/common/_menu.scss b/app/assets/stylesheets/components/common/_menu.scss\nnew file mode 100644\nindex 0000000..bf85687\n--- /dev/null\n+++ b/app/assets/stylesheets/components/common/_menu.scss\n@@ -0,0 +1,9 @@\n+.Menu {\n+  display: flex;\n+  justify-content: space-around;\n+  &amp;__item {\n+    display: block;\n+    padding: 10px 15px;\n+    text-transform: uppercase;\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 0b2fbae..8d700ee 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -1,5 +1,9 @@\n @import \"./base/variables\";\n @import \"./base/reset\";\n @import \"./components/common/header\";\n+\n+// \u30e1\u30cb\u30e5\u30fc\n+@import \"./components/common/menu\";\n+\n //@import \"pages/staff/container\";\n //@import \"pages/staff/layout\";\n\\ No newline at end of file\ndiff --git a/app/views/shared/_header.html.erb b/app/views/shared/_header.html.erb\nindex 3b87b24..96a2711 100644\n--- a/app/views/shared/_header.html.erb\n+++ b/app/views/shared/_header.html.erb\n@@ -1,6 +1,6 @@\n &lt;header class=\"Header\"&gt;\n   &lt;div class=\"Header__head\"&gt;\n-    &lt;span class=\"logo-mark\"&gt;BAUKIS KAI&lt;/span&gt;\n+    &lt;h1 class=\"loglo\"&gt;BAUKIS KAI&lt;/h1&gt;\n     &lt;nav class=\"Header__body\"&gt;\n       &lt;ul class=\"Menu\"&gt;\n         &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Services&lt;/a&gt;&lt;/li&gt;\n</code></pre>"},{"location":"journal/20170116/#585579e","title":"\u30b3\u30df\u30c3\u30c8: 585579e","text":""},{"location":"journal/20170116/#_113","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>HTML\u3092\u30de\u30fc\u30af\u30a2\u30c3\u30d7\n</code></pre>"},{"location":"journal/20170116/#_114","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/images/top/entry1.jpg</li> <li>A app/assets/images/top/entry2.jpg</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170116/#_115","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 585579e20e11e5d04cc8ed3b515eb00c4ae12f38\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 13:46:45 2017 +0900\n\n    HTML\u3092\u30de\u30fc\u30af\u30a2\u30c3\u30d7\n\ndiff --git a/app/assets/images/top/entry1.jpg b/app/assets/images/top/entry1.jpg\nnew file mode 100755\nindex 0000000..2143d76\nBinary files /dev/null and b/app/assets/images/top/entry1.jpg differ\ndiff --git a/app/assets/images/top/entry2.jpg b/app/assets/images/top/entry2.jpg\nnew file mode 100755\nindex 0000000..f90fab5\nBinary files /dev/null and b/app/assets/images/top/entry2.jpg differ\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex e4d87bc..2833ce7 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -1,2 +1,29 @@\n &lt;% @title = '\u8077\u54e1\u30c8\u30c3\u30d7\u30da\u30fc\u30b8' %&gt;\n-&lt;h1&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n\\ No newline at end of file\n+&lt;h1&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;section&gt;\n+  &lt;div class=\"EntryPanel\"&gt;\n+    &lt;div class=\"EntryPanel__sub\"&gt;\n+      &lt;%= image_tag('top/entry1.jpg',class: 'EntryPanel__thumb' , width: '275' , height: '250') %&gt;\n+    &lt;/div&gt;\n+    &lt;div id=\"EntryPanel__main\"&gt;\n+      &lt;h3 class=\"EntryPanel__head\"&gt;\u51ac\u306e\u30b3\u30fc\u30d2\u30fc\u30ae\u30d5\u30c8&lt;/h3&gt;\n+      &lt;div class=\"EntryPanel__body\"&gt;\n+        \u5927\u5207\u306a\u3042\u306e\u65b9\u306b\u3042\u308a\u304c\u3068\u3046\u3092\u5c4a\u3051\u305f\u3044\u3002\u5fc3\u3082\u4f53\u3082\u6e29\u307e\u308b\u7d20\u6575\u306a\u30ae\u30d5\u30c8\u3002\u30d7\u30ec\u30bc\u30f3\u30c8\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u5b9f\u65bd\u4e2d\uff01\n+      &lt;/div&gt;\n+      &lt;div class=\"EntryPanel__foot\"&gt;&lt;a href=\"#\"&gt;&lt;/a&gt;READ MORE&lt;/div&gt;\n+    &lt;/div&gt;\n+  &lt;/div&gt;\n+\n+  &lt;div class=\"EntryPanel\"&gt;\n+    &lt;div class=\"EntryPanel__sub\"&gt;\n+      &lt;%= image_tag('top/entry2.jpg',class: 'EntryPanel__thumb' , width: '275' , height: '250') %&gt;\n+    &lt;/div&gt;\n+    &lt;div id=\"EntryPanel__main\"&gt;\n+      &lt;h3 class=\"EntryPanel__head\"&gt;\u3042\u306e\u4eba\u6c17\u5e97\u30b3\u30e9\u30dc\u30e1\u30cb\u30e5\u30fc&lt;/h3&gt;\n+      &lt;div class=\"EntryPanel__body\"&gt;\n+        \u4eca\u8a71\u984c\u306e\u4eba\u6c17\u5e97\u3001Macaron'n Things\u306e\u30d1\u30f3\u30b1\u30fc\u30ad\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc\u5546\u54c1\u306e\u30bb\u30c3\u30c8\u30e1\u30cb\u30e5\u30fc\u3092\u8ca9\u58f2\u4e2d\u3002\n+      &lt;/div&gt;\n+      &lt;div class=\"EntryPanel__foot\"&gt;&lt;a href=\"#\"&gt;&lt;/a&gt;READ MORE&lt;/div&gt;\n+    &lt;/div&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#8eaee14","title":"\u30b3\u30df\u30c3\u30c8: 8eaee14","text":""},{"location":"journal/20170116/#_116","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u610f\u8b58\u3057\u3066\u30de\u30fc\u30af\u30a2\u30c3\u30d7\u3057\u3088\u3046\n</code></pre>"},{"location":"journal/20170116/#_117","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/main.scss</li> <li>M app/views/layouts/staff.html.erb</li> <li>M app/views/shared/_header.html.erb</li> </ul>"},{"location":"journal/20170116/#_118","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8eaee14a3ece5e8e9f05cba2b30ffc9029f916b0\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 13:44:43 2017 +0900\n\n    \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u610f\u8b58\u3057\u3066\u30de\u30fc\u30af\u30a2\u30c3\u30d7\u3057\u3088\u3046\n\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 7824e30..0b2fbae 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -1,5 +1,5 @@\n @import \"./base/variables\";\n @import \"./base/reset\";\n @import \"./components/common/header\";\n-@import \"pages/staff/container\";\n-@import \"pages/staff/layout\";\n\\ No newline at end of file\n+//@import \"pages/staff/container\";\n+//@import \"pages/staff/layout\";\n\\ No newline at end of file\ndiff --git a/app/views/layouts/staff.html.erb b/app/views/layouts/staff.html.erb\nindex 7bfc486..831bb5c 100644\n--- a/app/views/layouts/staff.html.erb\n+++ b/app/views/layouts/staff.html.erb\n@@ -8,11 +8,9 @@\n   &lt;/head&gt;\n\n   &lt;body&gt;\n-    &lt;div class=\"wrapper\"&gt;\n+    &lt;div id=\"wrapper\"&gt;\n       &lt;%= render 'shared/header' %&gt;\n-      &lt;div class=\"container\"&gt;\n-        &lt;%= yield %&gt;\n-      &lt;/div&gt;\n+      &lt;%= yield %&gt;\n       &lt;%= render 'shared/footer' %&gt;\n     &lt;/div&gt;\n   &lt;/body&gt;\ndiff --git a/app/views/shared/_header.html.erb b/app/views/shared/_header.html.erb\nindex e774ae8..3b87b24 100644\n--- a/app/views/shared/_header.html.erb\n+++ b/app/views/shared/_header.html.erb\n@@ -1,3 +1,14 @@\n-&lt;header&gt;\n-  &lt;span class=\"logo-mark\"&gt;BAUKIS KAI&lt;/span&gt;\n+&lt;header class=\"Header\"&gt;\n+  &lt;div class=\"Header__head\"&gt;\n+    &lt;span class=\"logo-mark\"&gt;BAUKIS KAI&lt;/span&gt;\n+    &lt;nav class=\"Header__body\"&gt;\n+      &lt;ul class=\"Menu\"&gt;\n+        &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Services&lt;/a&gt;&lt;/li&gt;\n+        &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Work&lt;/a&gt;&lt;/li&gt;\n+        &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;About&lt;/a&gt;&lt;/li&gt;\n+        &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Blog&lt;/a&gt;&lt;/li&gt;\n+        &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\n+      &lt;/ul&gt;\n+    &lt;/nav&gt;\n+  &lt;/div&gt;\n &lt;/header&gt;\n</code></pre>"},{"location":"journal/20170116/#f295644","title":"\u30b3\u30df\u30c3\u30c8: f295644","text":""},{"location":"journal/20170116/#_119","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u80cc\u666f\u8272\u3092\u8a2d\u5b9a\u3059\u308b\n</code></pre>"},{"location":"journal/20170116/#_120","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/base/_reset.scss</li> <li>A app/assets/stylesheets/base/_variables.scss</li> <li>M app/assets/stylesheets/main.scss</li> </ul>"},{"location":"journal/20170116/#_121","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit f295644ccf60c474533379275d409ff6b252ee2d\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 13:23:52 2017 +0900\n\n    \u80cc\u666f\u8272\u3092\u8a2d\u5b9a\u3059\u308b\n\ndiff --git a/app/assets/stylesheets/base/_reset.scss b/app/assets/stylesheets/base/_reset.scss\nindex 98bca6a..cd2af85 100644\n--- a/app/assets/stylesheets/base/_reset.scss\n+++ b/app/assets/stylesheets/base/_reset.scss\n@@ -1 +1,22 @@\n-@import \"./lib/sanitize\";\n\\ No newline at end of file\n+@import \"./lib/sanitize\";\n+\n+:root, html, body {\n+  background-color: $color-base;\n+  color: $color-main-text;\n+  width: 100%;\n+}\n+* {\n+  box-sizing: border-box;\n+}\n+\n+li {\n+  list-style-type: none;\n+}\n+\n+a {\n+  color: $color-main-text;\n+}\n+a:hover {\n+  text-decoration: none;\n+  color: $color-link;\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/base/_variables.scss b/app/assets/stylesheets/base/_variables.scss\nnew file mode 100644\nindex 0000000..402b1a0\n--- /dev/null\n+++ b/app/assets/stylesheets/base/_variables.scss\n@@ -0,0 +1,3 @@\n+$color-base: #fbf7fe;\n+$color-main-text: #474747;\n+$color-link: #878378;\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex a1c11e9..7824e30 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -1,3 +1,4 @@\n+@import \"./base/variables\";\n @import \"./base/reset\";\n @import \"./components/common/header\";\n @import \"pages/staff/container\";\n</code></pre>"},{"location":"journal/20170116/#fd71512","title":"\u30b3\u30df\u30c3\u30c8: fd71512","text":""},{"location":"journal/20170116/#_122","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ea\u30bb\u30c3\u30c8CSS\u3092\u5c0e\u5165\u3059\u308b\n</code></pre>"},{"location":"journal/20170116/#_123","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/stylesheets/base/_reset.scss</li> <li>A app/assets/stylesheets/base/lib/_sanitize.scss</li> <li>M app/assets/stylesheets/main.scss</li> </ul>"},{"location":"journal/20170116/#_124","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit fd7151224c6a97d5875f6b7c28966d63d3fa3b1d\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 13:21:17 2017 +0900\n\n    \u30ea\u30bb\u30c3\u30c8CSS\u3092\u5c0e\u5165\u3059\u308b\n\ndiff --git a/app/assets/stylesheets/base/_reset.scss b/app/assets/stylesheets/base/_reset.scss\nnew file mode 100644\nindex 0000000..98bca6a\n--- /dev/null\n+++ b/app/assets/stylesheets/base/_reset.scss\n@@ -0,0 +1 @@\n+@import \"./lib/sanitize\";\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/base/lib/_sanitize.scss b/app/assets/stylesheets/base/lib/_sanitize.scss\nnew file mode 100644\nindex 0000000..72be512\n--- /dev/null\n+++ b/app/assets/stylesheets/base/lib/_sanitize.scss\n@@ -0,0 +1,549 @@\n+/*! sanitize.css v4.0.0 | CC0 License | github.com/10up/sanitize.css */\n+\n+/* Display definitions\n+   ========================================================================== */\n+\n+/**\n+ * Add the correct display in IE 9-.\n+ * 1. Add the correct display in Edge, IE, and Firefox.\n+ * 2. Add the correct display in IE.\n+ */\n+\n+article,\n+aside,\n+details, /* 1 */\n+figcaption,\n+figure,\n+footer,\n+header,\n+main, /* 2 */\n+menu,\n+nav,\n+section,\n+summary { /* 1 */\n+   display: block;\n+}\n+\n+/**\n+ * Add the correct display in IE 9-.\n+ */\n+\n+audio,\n+canvas,\n+progress,\n+video {\n+   display: inline-block;\n+}\n+\n+/**\n+ * Add the correct display in iOS 4-7.\n+ */\n+\n+audio:not([controls]) {\n+   display: none;\n+   height: 0;\n+}\n+\n+/**\n+ * Add the correct display in IE 10-.\n+ * 1. Add the correct display in IE.\n+ */\n+\n+template, /* 1 */\n+[hidden] {\n+   display: none;\n+}\n+\n+/* Elements of HTML (https://www.w3.org/TR/html5/semantics.html)\n+   ========================================================================== */\n+\n+/**\n+ * 1. Remove repeating backgrounds in all browsers (opinionated).\n+ * 2. Add box sizing inheritence in all browsers (opinionated).\n+ */\n+\n+*,\n+::before,\n+::after {\n+   background-repeat: no-repeat; /* 1 */\n+   box-sizing: inherit; /* 2 */\n+}\n+\n+/**\n+ * 1. Add text decoration inheritance in all browsers (opinionated).\n+ * 2. Add vertical alignment inheritence in all browsers (opinionated).\n+ */\n+\n+::before,\n+::after {\n+   text-decoration: inherit; /* 1 */\n+   vertical-align: inherit; /* 2 */\n+}\n+\n+/**\n+ * 1. Add border box sizing in all browsers (opinionated).\n+ * 2. Add the default cursor in all browsers (opinionated).\n+ * 3. Add a flattened line height in all browsers (opinionated).\n+ * 4. Prevent font size adjustments after orientation changes in IE and iOS.\n+ */\n+\n+html {\n+   box-sizing: border-box; /* 1 */\n+   cursor: default; /* 2 */\n+   font-family: sans-serif; /* 3 */\n+   line-height: 1.5; /* 3 */\n+   -ms-text-size-adjust: 100%; /* 4 */\n+   -webkit-text-size-adjust: 100%; /* 5 */\n+}\n+\n+/* Sections (https://www.w3.org/TR/html5/sections.html)\n+   ========================================================================== */\n+\n+/**\n+ * Remove the margin in all browsers (opinionated).\n+ */\n+\n+body {\n+   margin: 0;\n+}\n+\n+/**\n+ * Correct the font sizes and margins on `h1` elements within\n+ * `section` and `article` contexts in Chrome, Firefox, and Safari.\n+ */\n+\n+h1 {\n+   font-size: 2em;\n+   margin: .67em 0;\n+}\n+\n+/* Grouping content (https://www.w3.org/TR/html5/grouping-content.html)\n+   ========================================================================== */\n+\n+/**\n+ * 1. Correct font sizing inheritance and scaling in all browsers.\n+ * 2. Correct the odd `em` font sizing in all browsers.\n+ */\n+\n+code,\n+kbd,\n+pre,\n+samp {\n+   font-family: monospace, monospace; /* 1 */\n+   font-size: 1em; /* 2 */\n+}\n+\n+/**\n+ * 1. Correct the height in Firefox.\n+ * 2. Add visible overflow in Edge and IE.\n+ */\n+\n+hr {\n+   height: 0; /* 1 */\n+   overflow: visible; /* 2 */\n+}\n+\n+/**\n+ * Remove the list style on navigation lists in all browsers (opinionated).\n+ */\n+\n+nav ol,\n+nav ul {\n+   list-style: none;\n+}\n+\n+/* Text-level semantics\n+   ========================================================================== */\n+\n+/**\n+ * 1. Add a bordered underline effect in all browsers.\n+ * 2. Remove text decoration in Firefox 40+.\n+ */\n+\n+abbr[title] {\n+   border-bottom: 1px dotted; /* 1 */\n+   text-decoration: none; /* 2 */\n+}\n+\n+/**\n+ * Prevent the duplicate application of `bolder` by the next rule in Safari 6.\n+ */\n+\n+b,\n+strong {\n+   font-weight: inherit;\n+}\n+\n+/**\n+ * Add the correct font weight in Chrome, Edge, and Safari.\n+ */\n+\n+b,\n+strong {\n+   font-weight: bolder;\n+}\n+\n+/**\n+ * Add the correct font style in Android 4.3-.\n+ */\n+\n+dfn {\n+   font-style: italic;\n+}\n+\n+/**\n+ * Add the correct colors in IE 9-.\n+ */\n+\n+mark {\n+   background-color: #ffff00;\n+   color: #000000;\n+}\n+\n+/**\n+ * Add the correct vertical alignment in Chrome, Firefox, and Opera.\n+ */\n+\n+progress {\n+   vertical-align: baseline;\n+}\n+\n+/**\n+ * Correct the font size in all browsers.\n+ */\n+\n+small {\n+   font-size: 83.3333%;\n+}\n+\n+/**\n+ * Change the positioning on superscript and subscript elements\n+ * in all browsers (opinionated).\n+ * 1. Correct the font size in all browsers.\n+ */\n+\n+sub,\n+sup {\n+   font-size: 83.3333%; /* 1 */\n+   line-height: 0;\n+   position: relative;\n+   vertical-align: baseline;\n+}\n+\n+sub {\n+   bottom: -.25em;\n+}\n+\n+sup {\n+   top: -.5em;\n+}\n+\n+/*\n+ * Remove the text shadow on text selections (opinionated).\n+ * 1. Restore the coloring undone by defining the text shadow (opinionated).\n+ */\n+\n+::-moz-selection {\n+   background-color: #b3d4fc; /* 1 */\n+   color: #000000; /* 1 */\n+   text-shadow: none;\n+}\n+\n+::selection {\n+   background-color: #b3d4fc; /* 1 */\n+   color: #000000; /* 1 */\n+   text-shadow: none;\n+}\n+\n+/* Embedded content (https://www.w3.org/TR/html5/embedded-content-0.html)\n+   ========================================================================== */\n+\n+/*\n+ * Change the alignment on media elements in all browers (opinionated).\n+ */\n+\n+audio,\n+canvas,\n+iframe,\n+img,\n+svg,\n+video {\n+   vertical-align: middle;\n+}\n+\n+/**\n+ * Remove the border on images inside links in IE 10-.\n+ */\n+\n+img {\n+   border-style: none;\n+}\n+\n+/**\n+ * Change the fill color to match the text color in all browsers (opinionated).\n+ */\n+\n+svg {\n+   fill: currentColor;\n+}\n+\n+/**\n+ * Hide the overflow in IE.\n+ */\n+\n+svg:not(:root) {\n+   overflow: hidden;\n+}\n+\n+/* Links (https://www.w3.org/TR/html5/links.html#links)\n+   ========================================================================== */\n+\n+/**\n+ * 1. Remove the gray background on active links in IE 10.\n+ * 2. Remove the gaps in underlines in iOS 8+ and Safari 8+.\n+ */\n+\n+a {\n+   background-color: transparent; /* 1 */\n+   -webkit-text-decoration-skip: objects; /* 2 */\n+}\n+\n+/**\n+ * Remove the outline when hovering in all browsers (opinionated.\n+ */\n+\n+:hover {\n+   outline-width: 0;\n+}\n+\n+/* Tabular data (https://www.w3.org/TR/html5/tabular-data.html)\n+   ========================================================================== */\n+\n+/*\n+ * Remove border spacing in all browsers (opinionated).\n+ */\n+\n+table {\n+   border-collapse: collapse;\n+   border-spacing: 0;\n+}\n+\n+/* transform-style:  (https://www.w3.org/TR/html5/forms.html)\n+   ========================================================================== */\n+\n+/**\n+ * 1. Remove the default styling in all browsers (opinionated).\n+ * 3. Remove the margin in Firefox and Safari.\n+ */\n+\n+button,\n+input,\n+select,\n+textarea {\n+   background-color: transparent; /* 1 */\n+   border-style: none; /* 1 */\n+   color: inherit; /* 1 */\n+   font-size: 1em; /* 1 */\n+   margin: 0; /* 3 */\n+}\n+\n+/**\n+ * Correct the overflow in IE.\n+ * 1. Correct the overflow in Edge.\n+ */\n+\n+button,\n+input { /* 1 */\n+   overflow: visible;\n+}\n+\n+/**\n+ * Remove the inheritance in Edge, Firefox, and IE.\n+ * 1. Remove the inheritance in Firefox.\n+ */\n+\n+button,\n+select { /* 1 */\n+   text-transform: none;\n+}\n+\n+/**\n+ * 1. Prevent the WebKit bug where (2) destroys native `audio` and `video`\n+ *    controls in Android 4.\n+ * 2. Correct the inability to style clickable types in iOS and Safari.\n+ */\n+\n+button,\n+html [type=\"button\"], /* 1 */\n+[type=\"reset\"],\n+[type=\"submit\"] {\n+   -webkit-appearance: button; /* 2 */\n+}\n+\n+/**\n+ * Remove the inner border and padding in Firefox.\n+ */\n+\n+::-moz-focus-inner {\n+   border-style: none;\n+   padding: 0;\n+}\n+\n+/**\n+ * Correct the focus styles unset by the previous rule.\n+ */\n+\n+:-moz-focusring {\n+   outline: 1px dotted ButtonText;\n+}\n+\n+/**\n+ * Correct the border, margin, and padding in all browsers.\n+ */\n+\n+fieldset {\n+   border: 1px solid #c0c0c0;\n+   margin: 0 2px;\n+   padding: .35em .625em .75em;\n+}\n+\n+/**\n+ * 1. Correct the text wrapping in Edge and IE.\n+ * 2. Remove the padding so developers are not caught out when they zero out\n+ *    `fieldset` elements in all browsers.\n+ */\n+\n+legend {\n+   display: table; /* 1 */\n+   max-width: 100%; /* 1 */\n+   padding: 0; /* 2 */\n+   white-space: normal; /* 1 */\n+}\n+\n+/**\n+ * 1. Remove the vertical scrollbar in IE.\n+ * 2. Change the resize direction on textareas in all browsers (opinionated).\n+ */\n+\n+textarea {\n+   overflow: auto; /* 1 */\n+   resize: vertical; /* 2 */\n+}\n+\n+/**\n+ * Remove the padding in IE 10-.\n+ */\n+\n+[type=\"checkbox\"],\n+[type=\"radio\"] {\n+   padding: 0;\n+}\n+\n+/**\n+ * Correct the cursor style on increment and decrement buttons in Chrome.\n+ */\n+\n+::-webkit-inner-spin-button,\n+::-webkit-outer-spin-button {\n+   height: auto;\n+}\n+\n+/**\n+ * 1. Correct the odd appearance in Chrome and Safari.\n+ * 2. Correct the outline style in Safari.\n+ */\n+\n+[type=\"search\"] {\n+   -webkit-appearance: textfield; /* 1 */\n+   outline-offset: -2px; /* 2 */\n+}\n+\n+/**\n+ * Remove the inner padding and cancel buttons in Chrome and Safari for OS X.\n+ */\n+\n+::-webkit-search-cancel-button,\n+::-webkit-search-decoration {\n+   -webkit-appearance: none;\n+}\n+\n+/**\n+ * Correct the text style on placeholders in Chrome, Edge, and Safari.\n+ */\n+\n+::-webkit-input-placeholder {\n+   color: inherit;\n+   opacity: .54;\n+}\n+\n+/**\n+ * 1. Correct the inability to style clickable types in iOS and Safari.\n+ * 2. Change font properties to `inherit` in Safari.\n+ */\n+\n+::-webkit-file-upload-button {\n+   -webkit-appearance: button; /* 1 */\n+   font: inherit; /* 2 */\n+}\n+\n+/* WAI-ARIA (https://www.w3.org/TR/html5/dom.html#wai-aria)\n+   ========================================================================== */\n+\n+/**\n+ * Change the cursor on busy elements (opinionated).\n+ */\n+\n+[aria-busy=\"true\"] {\n+   cursor: progress;\n+}\n+\n+/*\n+ * Change the cursor on control elements (opinionated).\n+ */\n+\n+[aria-controls] {\n+   cursor: pointer;\n+}\n+\n+/*\n+ * Change the cursor on disabled, not-editable, or otherwise\n+ * inoperable elements (opinionated).\n+ */\n+\n+[aria-disabled] {\n+   cursor: default;\n+}\n+\n+/* User interaction (https://www.w3.org/TR/html5/editing.html)\n+   ========================================================================== */\n+\n+/*\n+ * Remove the tapping delay on clickable elements (opinionated).\n+ * 1. Remove the tapping delay in IE 10.\n+ */\n+\n+a,\n+area,\n+button,\n+input,\n+label,\n+select,\n+textarea,\n+[tabindex] {\n+   -ms-touch-action: manipulation; /* 1 */\n+   touch-action: manipulation;\n+}\n+\n+/*\n+ * Change the display on visually hidden accessible elements (opinionated).\n+ */\n+\n+[hidden][aria-hidden=\"false\"] {\n+   clip: rect(0, 0, 0, 0);\n+   display: inherit;\n+   position: absolute;\n+}\n+\n+[hidden][aria-hidden=\"false\"]:focus {\n+   clip: auto;\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 346f46a..a1c11e9 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -1,3 +1,4 @@\n+@import \"./base/reset\";\n @import \"./components/common/header\";\n @import \"pages/staff/container\";\n @import \"pages/staff/layout\";\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#fc4143f","title":"\u30b3\u30df\u30c3\u30c8: fc4143f","text":""},{"location":"journal/20170116/#_125","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u5206\u5272\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3080\u300cimport\u6a5f\u80fd\u300d\n</code></pre>"},{"location":"journal/20170116/#_126","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/stylesheets/components/common/_header.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>D app/assets/stylesheets/staff.css</li> <li>M app/views/layouts/staff.html.erb</li> <li>M config/initializers/assets.rb</li> </ul>"},{"location":"journal/20170116/#_127","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit fc4143f345c70218f9dde55fd7eabc0cc2996da9\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 13:16:44 2017 +0900\n\n    \u5206\u5272\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3080\u300cimport\u6a5f\u80fd\u300d\n\ndiff --git a/app/assets/stylesheets/components/common/_header.scss b/app/assets/stylesheets/components/common/_header.scss\nnew file mode 100644\nindex 0000000..e40881a\n--- /dev/null\n+++ b/app/assets/stylesheets/components/common/_header.scss\n@@ -0,0 +1,3 @@\n+.header {\n+  color: #000;\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex e69de29..346f46a 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -0,0 +1,3 @@\n+@import \"./components/common/header\";\n+@import \"pages/staff/container\";\n+@import \"pages/staff/layout\";\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/staff/_colors.css.scss b/app/assets/stylesheets/pages/staff/_colors.css.scss\nsimilarity index 100%\nrename from app/assets/stylesheets/staff/_colors.css.scss\nrename to app/assets/stylesheets/pages/staff/_colors.css.scss\ndiff --git a/app/assets/stylesheets/staff/_dimensions.css.scss b/app/assets/stylesheets/pages/staff/_dimensions.css.scss\nsimilarity index 100%\nrename from app/assets/stylesheets/staff/_dimensions.css.scss\nrename to app/assets/stylesheets/pages/staff/_dimensions.css.scss\ndiff --git a/app/assets/stylesheets/staff/container.css.scss b/app/assets/stylesheets/pages/staff/container.css.scss\nsimilarity index 100%\nrename from app/assets/stylesheets/staff/container.css.scss\nrename to app/assets/stylesheets/pages/staff/container.css.scss\ndiff --git a/app/assets/stylesheets/staff/layout.css.scss b/app/assets/stylesheets/pages/staff/layout.css.scss\nsimilarity index 100%\nrename from app/assets/stylesheets/staff/layout.css.scss\nrename to app/assets/stylesheets/pages/staff/layout.css.scss\ndiff --git a/app/assets/stylesheets/staff.css b/app/assets/stylesheets/staff.css\ndeleted file mode 100644\nindex d043395..0000000\n--- a/app/assets/stylesheets/staff.css\n+++ /dev/null\n@@ -1,3 +0,0 @@\n-/*\n- *= require_tree ./staff\n- */\ndiff --git a/app/views/layouts/staff.html.erb b/app/views/layouts/staff.html.erb\nindex 3994f4a..7bfc486 100644\n--- a/app/views/layouts/staff.html.erb\n+++ b/app/views/layouts/staff.html.erb\n@@ -3,7 +3,7 @@\n   &lt;head&gt;\n     &lt;title&gt;&lt;%= document_title %&gt;&lt;/title&gt;\n     &lt;%= csrf_meta_tags %&gt;\n-    &lt;%= stylesheet_link_tag    'staff', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n+    &lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n     &lt;%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %&gt;\n   &lt;/head&gt;\n\ndiff --git a/config/initializers/assets.rb b/config/initializers/assets.rb\nindex 9bc9783..2256f19 100644\n--- a/config/initializers/assets.rb\n+++ b/config/initializers/assets.rb\n@@ -8,4 +8,4 @@ Rails.application.config.assets.version = '1.0'\n\n # Precompile additional assets.\n # application.js, application.css, and all non-JS/CSS in app/assets folder are already added.\n-Rails.application.config.assets.precompile += %w( staff.css )\n+# Rails.application.config.assets.precompile += %w( staff.css )\n</code></pre>"},{"location":"journal/20170116/#8d0fb9a","title":"\u30b3\u30df\u30c3\u30c8: 8d0fb9a","text":""},{"location":"journal/20170116/#_128","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d5\u30a9\u30eb\u30c0\u3092\u6574\u7406\u3059\u308b\n</code></pre>"},{"location":"journal/20170116/#_129","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/assets/stylesheets/application.scss</li> <li>A app/assets/stylesheets/base/.keep</li> <li>A app/assets/stylesheets/base/lib/.keep</li> <li>A app/assets/stylesheets/components/common/.keep</li> <li>A app/assets/stylesheets/components/parts/.keep</li> <li>A app/assets/stylesheets/main.scss</li> <li>A app/assets/stylesheets/pages/.keep</li> <li>A app/assets/stylesheets/utils/.keep</li> </ul>"},{"location":"journal/20170116/#_130","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8d0fb9a3f0ae84f607869cc85005adcf3ff1d7ca\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 13:05:11 2017 +0900\n\n    \u30d5\u30a9\u30eb\u30c0\u3092\u6574\u7406\u3059\u308b\n\ndiff --git a/app/assets/stylesheets/application.scss b/app/assets/stylesheets/application.scss\nnew file mode 100644\nindex 0000000..a93cc06\n--- /dev/null\n+++ b/app/assets/stylesheets/application.scss\n@@ -0,0 +1 @@\n+@import \"main\";\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/base/.keep b/app/assets/stylesheets/base/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/app/assets/stylesheets/base/lib/.keep b/app/assets/stylesheets/base/lib/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/app/assets/stylesheets/components/common/.keep b/app/assets/stylesheets/components/common/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/app/assets/stylesheets/components/parts/.keep b/app/assets/stylesheets/components/parts/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/app/assets/stylesheets/pages/.keep b/app/assets/stylesheets/pages/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/app/assets/stylesheets/utils/.keep b/app/assets/stylesheets/utils/.keep\nnew file mode 100644\nindex 0000000..e69de29\n</code></pre>"},{"location":"journal/20170116/#e97df61","title":"\u30b3\u30df\u30c3\u30c8: e97df61","text":""},{"location":"journal/20170116/#_131","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>HTML/CSS\u30c7\u30b6\u30a4\u30f3\n</code></pre>"},{"location":"journal/20170116/#_132","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170116/#_133","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit e97df614b838ad5b0ecc4656c39d432eed80fac7\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 13:02:30 2017 +0900\n\n    HTML/CSS\u30c7\u30b6\u30a4\u30f3\n\ndiff --git a/README.md b/README.md\nindex 9ba7022..843e4b6 100644\n--- a/README.md\n+++ b/README.md\n@@ -100,6 +100,214 @@ git push heroku master\n + \u5bf8\u6cd5\u3092\u5909\u6570\u3067\u8868\u73fe\u3059\u308b\n + \u30a2\u30bb\u30c3\u30c8\u306e\u30d7\u30ea\u30b3\u30f3\u30d1\u30a4\u30eb\n\n+## \u3088\u3044CSS\u3092\u66f8\u304f\u305f\u3081\u306eHTML\u30de\u30fc\u30af\u30a2\u30c3\u30d7-CSS\u8a2d\u8a08-\n+### \u30c7\u30b6\u30a4\u30f3\u30ab\u30f3\u30d7\u3092\u78ba\u8a8d\u3057\u3001CSS\u8a2d\u8a08\u3092\u7406\u89e3\u3057\u3088\u3046\n+#### \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\n++ \u30d8\u30c3\u30c0\u30fc\n++ \u30ab\u30eb\u30fc\u30bb\u30eb\n++ \u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u4ed8\u304d\u30b3\u30f3\u30c6\u30f3\u30c4\n++ \u30aa\u30fc\u30d0\u30fc\u30ec\u30a4\u30d1\u30cd\u30eb\n++ \u30a2\u30a4\u30b3\u30f3\u4ed8\u304d\u30b3\u30f3\u30c6\u30f3\u30c4\n++ \u30cb\u30e5\u30fc\u30b9\u30ea\u30b9\u30c8\n++ \u30d5\u30c3\u30bf\u30fc\n+\n+#### CSS\u8a2d\u8a08\n++ BEM\n++ [OOCSS](http://oocss.org/)\n++ [MCSS](http://operatino.github.io/MCSS/ja/)\n++ [SMACSS](https://smacss.com/)\n+\n+#### BEM\n+ + [BEM](https://en.bem.info/)\n+ + [MindBEMding](http://csswizardry.com/2013/01/mindbemding-getting-your-head-round-bem-syntax/)\n+ \n+#### class\u306e\u547d\u540d\u898f\u5247\u306b\u3064\u3044\u3066\n++ Block\u306e\u6700\u521d\u306e\u6587\u5b57\u306f\u5927\u6587\u5b57\u3067\u66f8\u304f\u3053\u3068\n++ Element\u306e\u6700\u521d\u306e\u6587\u5b57\u306f\u5c0f\u6587\u5b57\u3067\u66f8\u304f\n++ Block\u3068Element\u306f\u300c__\u300d\u3067\u3064\u306a\u3050\n++ Modifier\u3092\u3064\u3051\u308b\u5834\u5408\u306f\u300c--\u300d\u3067\u3064\u306a\u3050\n+\n+#### \u307e\u3068\u3081\n+ 1. \u6700\u521d\u306f\u300c\u898b\u305f\u76ee\u300d\u304b\u3089\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u5272\u308a\u51fa\u3059\n+ 1. \u5927\u6587\u5b57\u3084\u5c0f\u6587\u5b57\u306a\u3069\u3092\u3046\u307e\u304f\u4f7f\u3044\u5206\u3051\u308b\n+ 1. \u9577\u3044class\u540d\u306f\u30a8\u30c7\u30a3\u30bf\u306e\u4fdd\u7ba1\u6a5f\u80fd\u3092\u4f7f\u3048\u3070\u6016\u304f\u306a\u3044\n+\n+### \u30b5\u30a4\u30c8\u5236\u4f5c\u306e\u4e0b\u6e96\u5099\u3092\u3057\u3088\u3046\n+\n+#### index\u30da\u30fc\u30b8\u4f5c\u6210\n+\n+#### \u30d5\u30a9\u30eb\u30c0\u3092\u6574\u7406\u3059\u308b\n+\n+#### \u5206\u5272\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3080\u300cimport\u6a5f\u80fd\u300d\n+\n+#### \u30ea\u30bb\u30c3\u30c8CSS\u3092\u5c0e\u5165\u3059\u308b\n+\n+#### \u80cc\u666f\u8272\u3092\u8a2d\u5b9a\u3059\u308b\n+\n+#### \u307e\u3068\u3081\n++ \u3069\u3093\u306a\u30b5\u30a4\u30c8\u3092\u4f5c\u308b\u5834\u5408\u3067\u3082\u3001\u307e\u305a\u30ea\u30bb\u30c3\u30c8CSS\u3092\u5c0e\u5165\u3059\u308b\n++ \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3054\u3068\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u3051\u3066\u3001\u4e00\u89a7\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\n++ \u5909\u6570\u306f\u3001\u5909\u6570\u3060\u3051\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3068\u7ba1\u7406\u304c\u697d\u306b\u306a\u3063\u3066\u52b9\u7387\u7684\n+\n+### Header\u3092\u4f5c\u6210\u3057\u3088\u3046\n+\n+#### \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u610f\u8b58\u3057\u3066\u30de\u30fc\u30af\u30a2\u30c3\u30d7\u3057\u3088\u3046\n+\n+#### HTML\u3092\u30de\u30fc\u30af\u30a2\u30c3\u30d7\n+\n+#### \u307e\u3068\u3081\n++ \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u3001\u307e\u305a\u306fBlock\u3068\u3057\u3066\u4f5c\u3063\u3066\u307f\u308b\n++ \u8907\u96d1\u306a\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306fBlock\u306e\u4e2d\u306bBlock\u3092\u4f5c\u3063\u3066\u307f\u308b\n++ Element\u306f\u6c4e\u7528\u7684\u306a\u547d\u540d\u3092\u306a\u308b\u3079\u304f\u4f7f\u3044\u3001\u3069\u3053\u306eBlock\u306b\u5c5e\u3059\u308b\u306e\u304b\u3092\u308f\u304b\u308a\u3084\u3059\u304f\u3059\u308b\n+\n+## Sass\u3092\u4f7f\u3063\u305f\u30b5\u30a4\u30c8\u5236\u4f5c \u305d\u306e\uff11\uff08\u30d8\u30c3\u30c0\u30fc\u306a\u3069\uff09\n+\n+### \u30d8\u30c3\u30c0\u30fc\u306e\u30b9\u30bf\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3088\u3046\n+\n+#### Flex\u3092\u5229\u7528\u3057\u305f\u30d8\u30c3\u30c0\u30fc\u306eCSS  \n+\n+#### \u300c\u753b\u50cf+\u8a18\u4e8b\u300d\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u308b\n+\n+#### \u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b\n+\n+#### \u307e\u3068\u3081\n++ \u30ec\u30a4\u30a2\u30a6\u30c8\u306f\u6975\u529bFlex\u3092\u4f7f\u3063\u3066\u66f8\u304f\n++ Flex\u306e\u30b7\u30e7\u30fc\u30c8\u30cf\u30f3\u30c9\u306e\u66f8\u304d\u65b9\u306b\u6163\u308c\u308b\n++ \u305d\u308c\u4ee5\u4e0a\u7d30\u304b\u304f\u3067\u304d\u306a\u3044\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306fparts\u3068\u3057\u3066\u4f5c\u308b\n+\n+### \u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u4f5c\u6210\u3057\u3088\u3046  \n+  \n+#### \u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u6574\u3048\u308bCSS\u3092\u4f5c\u308b\n+\n+#### \u5168\u4f53\u7684\u306a\u5e45\u3092\u6c7a\u3081\u308b\n+#### \u307e\u3068\u3081\n++ \u30ec\u30a4\u30a2\u30a6\u30c8\u306b\u3064\u3044\u3066\u306fCSS\u304b\u3089\u308f\u304b\u308b\u3088\u3046\u306b\u300cl-\u300d\u3092\u4ed8\u3051\u308b\n++ \u30ec\u30a4\u30a2\u30a6\u30c8\u306f\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u306f\u306a\u3044\u306e\u3067parts\u30d5\u30a9\u30eb\u30c0\u306b\u4f5c\u6210\u3059\u308b\n++ Sass\u306e\u56db\u5247\u6f14\u7b97\u3092\u4e0a\u624b\u306b\u4f7f\u3063\u3066\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u6574\u3048\u308b\n+\n+## Sass\u3092\u4f7f\u3063\u305f\u30b5\u30a4\u30c8\u5236\u4f5c \u305d\u306e\uff12\uff08\u30e1\u30a4\u30f3\u30b3\u30f3\u30c6\u30f3\u30c4\u3084\u30d5\u30c3\u30bf\u30fc\u306a\u3069\uff09\n+\n+### \u30e1\u30a4\u30f3\u30a4\u30e1\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u3088\u3046\n+#### \u30ab\u30eb\u30fc\u30bb\u30eb\u3092\u7d44\u307f\u8fbc\u3080\u306b\u306f\n+\n+#### \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u306e\u5236\u4f5c \n+\n+#### JavaScript\u3092\u6709\u52b9\u5316\u3059\u308b\n+\n+#### \u307e\u3068\u3081\n++ JavaScript\u3092\u8aad\u307f\u8fbc\u3080\u4f4d\u7f6e\u306f\u3001body\u30bf\u30b0\u306e\u7d42\u4e86\u30bf\u30b0\u306e\u4f4d\u7f6e\n++ JavaScript\u3068\u9023\u643a\u3057\u3066\u3044\u308b\u3068\u3053\u308d\u306f\u300cjs-\u300d\u3068\u3044\u3046\u63a5\u982d\u8a9e\u3092\u3064\u3051\u308b\n++ \u72b6\u614b\u306b\u3064\u3044\u3066\u306eCSS\u306f\u300cisXXX\u300d\u3068\u3044\u3046\u547d\u540d\u898f\u5247\u3092\u4f7f\u3046\n+\n+### \u30b3\u30f3\u30c6\u30f3\u30c4\u90e8\u5206\u3092\u4f5c\u6210\u3057\u3088\u3046\n+\n+#### \u30b3\u30f3\u30c6\u30f3\u30c4\u90e8\u306e\u4f5c\u6210\u3092\u306f\u3058\u3081\u308b\n+\n+#### \u30bf\u30a4\u30c8\u30eb\u90e8\u5206\u3092\u4f5c\u6210\u3059\u308b\n+\n+#### OverlayPanel\u3092\u4f5c\u6210\u3059\u308b\n+\n+#### \u80cc\u666f\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b\n+\n+#### \u30a2\u30a4\u30b3\u30f3\u4ed8\u304d\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u30e1\u30cb\u30e5\u30fc\u3092\u4f5c\u6210\u3059\u308b\n+\n+#### \u30cb\u30e5\u30fc\u30b9\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\n+\n+#### \u307e\u3068\u3081\n++ \u7591\u4f3c\u8981\u7d20\u3092\u4f7f\u3063\u3066\u3001\u304b\u3057\u3053\u304fclass\u306e\u6307\u5b9a\u3092\u3059\u308b\n++ \u30da\u30fc\u30b8\u5c02\u7528\u306e\u8981\u7d20\u306f\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3068\u306f\u5225\u7ba1\u7406\u306b\u3059\u308b\n++ \u5909\u6570\u3092\u30bb\u30ec\u30af\u30bf\u3067\u4f7f\u3048\u308b\u300c\u30a4\u30f3\u30bf\u30fc\u30dd\u30ec\u30fc\u30b7\u30e7\u30f3\u300d\n+\n+### \u30d5\u30c3\u30bf\u30fc\u3092\u4f5c\u6210\u3057\u3088\u3046\n+\n+#### \u30d5\u30c3\u30bf\u30fc\u4f5c\u6210\u3092\u59cb\u3081\u308b\n+\n+#### Menu\u3092\u4fee\u6b63\u3059\u308b\n+\n+### \u30d5\u30a9\u30eb\u30c0\u3092\u6574\u7406\u3057\u3088\u3046\n+\n+#### \u3053\u308c\u307e\u3067\u4f5c\u6210\u3057\u305f\u3082\u306e\u306e\u304a\u3055\u3089\u3044\n+\n++ base\u30d5\u30a9\u30eb\u30c0                            \n++ components\u30d5\u30a9\u30eb\u30c0\n++ common\u30d5\u30a9\u30eb\u30c0\n++ page\u30d5\u30a9\u30eb\u30c0\n+\n+#### \u307e\u3068\u3081\n++ \u305f\u3060\u4f5c\u308b\u306e\u3067\u306f\u306a\u304f\u3001\u3069\u306e\u30d5\u30a9\u30eb\u30c0\u306b\u5c5e\u3059\u308b\u306e\u304b\u3092\u610f\u8b58\u3057\u306a\u304c\u3089\u4f5c\u308b\n++ main.css\u306b\u30b3\u30e1\u30f3\u30c8\u3092\u6b8b\u3057\u3001\u3069\u3046\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u304b\u304c\u3072\u3068\u76ee\u3067\u308f\u304b\u308b\u3088\u3046\u306b\u3059\u308b\n+\n+## \u30d7\u30ed\u3089\u3057\u304f\u300c\u9b45\u305b\u308b\u300d\u30c6\u30af\u30cb\u30c3\u30af-\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u306e\u7dcf\u4ed5\u4e0a\u3052-\n+\n+### \u30a2\u30a4\u30b3\u30f3\u30d5\u30a9\u30f3\u30c8\u3092\u6d3b\u7528\u3057\u3088\u3046\n+\n+#### \u30a2\u30a4\u30b3\u30f3\u30d5\u30a9\u30f3\u30c8\u3092\u4f7f\u3046\n+\n+#### \u307e\u3068\u3081\n++ \u30a2\u30a4\u30b3\u30f3\u30d5\u30a9\u30f3\u30c8\u3068\u753b\u50cf\u306e\u9055\u3044\u3092\u7406\u89e3\u3059\u308b\n++ \u30a2\u30a4\u30b3\u30f3\u30d5\u30a9\u30f3\u30c8\u306f\u89e3\u50cf\u5ea6\u306b\u5de6\u53f3\u3055\u308c\u306a\u3044\n++ FontAwesome\u306f\u4fbf\u5229\u306a\u306e\u3067\u3001\u4f7f\u3044\u65b9\u3092\u30de\u30b9\u30bf\u30fc\u3059\u308b\n+\n+### WebFont\u3092\u5229\u7528\u3057\u3088\u3046\n+\n+#### WebFont\u3092\u4f7f\u3046\u305f\u3081\u306e\u6e96\u5099\n+\n+#### WebFont\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\n+\n+#### \u307e\u3068\u3081\n++ WebFont\u306f\u30d5\u30a9\u30f3\u30c8\u306e\u8868\u73fe\u5e45\u304c\u5927\u5e45\u306b\u4e0a\u304c\u308b\n++ WebFont\u3092mixin\u3068\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u3001\u4f7f\u3044\u3084\u3059\u306a\u308b\n++ WebFont\u3092\u4f7f\u3044\u3059\u304e\u308b\u3068\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u4e0b\u304c\u308b\u306e\u3067\u6ce8\u610f\u3059\u308b\n+\n+### \u7a81\u767a\u7684\u306a\u4fee\u6b63\u306b\u4e0a\u624b\u306b\u5bfe\u5fdc\u3057\u3088\u3046\n+\n+#### \u7a81\u767a\u7684\u306a\u4fee\u6b63\u306b\u4e0a\u624b\u306b\u5bfe\u5fdc\u3059\u308b\u306b\u306f\uff1f\n+\n+#### \u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3class\u3092\u4f5c\u6210\u3059\u308b\n+\n+#### \u307e\u3068\u3081\n++ \u6c4e\u7528\u7684\u306aclass\u3068\u308f\u304b\u308b\u3088\u3046\u306b\u300cu-\u300d\u306e\u63a5\u982d\u8f9e\u3092\u3064\u3051\u308b\n++ \u6c4e\u7528\u7684\u306aclass\u3092\u4f7f\u3063\u3066\u3046\u307e\u304f\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u6574\u3048\u308b\n++ \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u4fee\u6b63\u4ee5\u5916\u306e\u8996\u70b9\u3092\u6301\u3064\n+\n+### Web\u30da\u30fc\u30b8\u3092\u30ec\u30b9\u30dd\u30f3\u30b7\u30d6\u5316\u3057\u3088\u3046\n+\n+#### mixin\u3092\u4f5c\u6210\u3059\u308b\n+\n+#### \u5404\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u5bfe\u5fdc\n+\n+#### \u307e\u3068\u3081\n++ Media Queries\u306f\u30ec\u30b9\u30dd\u30f3\u30b7\u30d6\u306e\u57fa\u672c\u306a\u306e\u3067\u5fc5\u305a\u899a\u3048\u308b\n++ @content\u3092\u3046\u307e\u304f\u5229\u7528\u3057\u3066\u3001\u52b9\u7387\u3088\u304f\u30ec\u30b9\u30dd\u30f3\u30b7\u30d6\u30b5\u30a4\u30c8\u3092\u4f5c\u6210\u3059\u308b\n++ \u30ec\u30b9\u30dd\u30f3\u30b7\u30d6\u306b\u3064\u3044\u3066\u306eCSS\u306fmixin\u306b\u3057\u3066\u518d\u5229\u7528\u53ef\u80fd\u306b\u3059\u308b\n+\n+## \u30d1\u30fc\u30c4\u306e\u7d44\u307f\u5408\u308f\u305b\u306b\u3088\u308b\u300c\u9ad8\u901f\u300dWeb\u30da\u30fc\u30b8\u5236\u4f5c\n+\n+### \u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u30da\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u3088\u3046\n+\n+#### \u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u30da\u30fc\u30b8\u306eHTML\u3092\u78ba\u8a8d\u3059\u308b\n+\n+#### 3\u3064\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u4e26\u3093\u3067\u3044\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u5236\u4f5c\n+\n+#### \u6a2a\u5e45\u3044\u3063\u3071\u3044\u306e\u753b\u50cf\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3068\u300c\u30a2\u30a4\u30b3\u30f3+\u30c6\u30ad\u30b9\u30c8\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u300d\n+\n+#### \u30d5\u30a9\u30fc\u30e0\u3092\u4f5c\u6210\u3059\u308b\n+\n+#### \u307e\u3068\u3081\n++ \u65b0\u305f\u306b\u4f5c\u308b\u306e\u3067\u306f\u306a\u304f\u3001\u3059\u3067\u306b\u4f3c\u305f\u3082\u306e\u3092\u4f5c\u3063\u3066\u3044\u306a\u3044\u304b\u3068\u3044\u3046\u8996\u70b9\u3092\u6301\u3064\n++ \u65e2\u5b58\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u65b0\u305f\u306a\u30da\u30fc\u30b8\u3092\u4f5c\u6210\u3059\u308b\n++ Modifier\u3092\u4f7f\u3063\u3066\u30c7\u30b6\u30a4\u30f3\u3092\u8abf\u6574\u3059\u308b\n+\n+### \u30b5\u30a4\u30c9\u30d0\u30fc\u306e\u3042\u308b\u753b\u9762\u3092\u4f5c\u308d\u3046\n+\n+#### Article\u30da\u30fc\u30b8\u3092\u4f5c\u6210\u3059\u308b\n+\n+#### Flex\u3092\u6d3b\u7528\u3057\u3066\u30b5\u30a4\u30c9\u30d0\u30fc\u306e\u3042\u308b\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u4f5c\u308b\n+\n+#### \u307e\u3068\u3081\n++ Flex\u3092\u4f7f\u3048\u3070\u3001\u9762\u5012\u306a\u30b5\u30a4\u30c9\u30d0\u30fc\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3082\u7c21\u5358\u306b\n++ \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30d9\u30fc\u30b9\u3067\u4f5c\u308b\u3068\u3001\u30da\u30fc\u30b8\u56fa\u6709\u306eCSS\u3092\u5c11\u3057\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u307b\u307c\uff11\u30da\u30fc\u30b8\u4f5c\u308c\u308b\n+\n ### \u30a8\u30e9\u30fc\u30da\u30fc\u30b8\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n@@ -119,3 +327,5 @@ git push heroku master\n\n # \u53c2\u7167 #\n + [\u5b9f\u8df5Ruby on Rails 4 \u73fe\u5834\u306e\u30d7\u30ed\u304b\u3089\u5b66\u3076\u672c\u683cWeb\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0](https://www.amazon.co.jp/%E5%AE%9F%E8%B7%B5Ruby-Rails-4-%E7%8F%BE%E5%A0%B4%E3%81%AE%E3%83%97%E3%83%AD%E3%81%8B%E3%82%89%E5%AD%A6%E3%81%B6%E6%9C%AC%E6%A0%BCWeb%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-%E9%BB%92%E7%94%B0/dp/4844335928)\n++ [\u73fe\u5834\u306e\u30d7\u30ed\u304c\u672c\u6c17\u3067\u6559\u3048\u308b HTML/CSS\u30c7\u30b6\u30a4\u30f3\u8b1b\u7fa9](https://www.amazon.co.jp/dp/B01K3SZGR0/ref=dp-kindle-redirect?_encoding=UTF8&amp;btkr=1)\n++ [\u73fe\u5834\u306e\u30d7\u30ed\u304c\u672c\u6c17\u3067\u6559\u3048\u308b HTML/CSS\u30c7\u30b6\u30a4\u30f3\u8b1b\u7fa9 \u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf](https://github.com/basara669/html_css_book)\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170116/#20591d1","title":"\u30b3\u30df\u30c3\u30c8: 20591d1","text":""},{"location":"journal/20170116/#_134","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Guard LiveReload\u8ffd\u52a0\n</code></pre>"},{"location":"journal/20170116/#_135","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>A Guardfile</li> <li>M baukis-kai.iml</li> <li>M config/environments/development.rb</li> </ul>"},{"location":"journal/20170116/#_136","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 20591d16a691cc0164e37bc77f39adf8fa894f7f\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 12:52:36 2017 +0900\n\n    Guard LiveReload\u8ffd\u52a0\n\ndiff --git a/Gemfile b/Gemfile\nindex a71748d..94f25f0 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -61,6 +61,8 @@ group :development do\n   gem 'i18n_generators'\n   gem 'yard'\n   gem 'rails-erd'\n+  gem 'guard-livereload', '~&gt; 2.5', require: false\n+  gem 'rack-livereload'\n end\n\n group :test do\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex 3746378..0bcaa5d 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -82,8 +82,12 @@ GEM\n     debase-ruby_core_source (0.9.6)\n     debug_inspector (0.0.2)\n     diff-lcs (1.2.5)\n+    em-websocket (0.5.1)\n+      eventmachine (&gt;= 0.12.9)\n+      http_parser.rb (~&gt; 0.6.0)\n     enum_help (0.0.16)\n     erubis (2.7.0)\n+    eventmachine (1.2.1)\n     execjs (2.7.0)\n     factory_girl (4.8.0)\n       activesupport (&gt;= 3.0.0)\n@@ -95,8 +99,25 @@ GEM\n     ffi (1.9.14)\n     font-awesome-rails (4.7.0.1)\n       railties (&gt;= 3.2, &lt; 5.1)\n+    formatador (0.2.5)\n     globalid (0.3.7)\n       activesupport (&gt;= 4.1.0)\n+    guard (2.14.0)\n+      formatador (&gt;= 0.2.4)\n+      listen (&gt;= 2.7, &lt; 4.0)\n+      lumberjack (~&gt; 1.0)\n+      nenv (~&gt; 0.1)\n+      notiffany (~&gt; 0.0)\n+      pry (&gt;= 0.9.12)\n+      shellany (~&gt; 0.0)\n+      thor (&gt;= 0.18.1)\n+    guard-compat (1.2.1)\n+    guard-livereload (2.5.2)\n+      em-websocket (~&gt; 0.5)\n+      guard (~&gt; 2.8)\n+      guard-compat (~&gt; 1.0)\n+      multi_json (~&gt; 1.8)\n+    http_parser.rb (0.6.0)\n     i18n (0.7.0)\n     i18n_generators (2.1.1)\n       rails (&gt;= 3.0.0)\n@@ -115,6 +136,7 @@ GEM\n       rb-inotify (~&gt; 0.9, &gt;= 0.9.7)\n     loofah (2.0.3)\n       nokogiri (&gt;= 1.5.9)\n+    lumberjack (1.0.11)\n     mail (2.6.4)\n       mime-types (&gt;= 1.16, &lt; 4)\n     method_source (0.8.2)\n@@ -127,15 +149,25 @@ GEM\n     minitest (5.10.1)\n     multi_json (1.12.1)\n     mysql2 (0.4.5)\n+    nenv (0.3.0)\n     nio4r (1.2.1)\n     nokogiri (1.7.0.1)\n       mini_portile2 (~&gt; 2.1.0)\n+    notiffany (0.1.1)\n+      nenv (~&gt; 0.1)\n+      shellany (~&gt; 0.0)\n     pg (0.19.0)\n+    pry (0.10.4)\n+      coderay (~&gt; 1.1.0)\n+      method_source (~&gt; 0.8.1)\n+      slop (~&gt; 3.4)\n     public_suffix (2.0.5)\n     puma (3.6.2)\n     rack (2.0.1)\n     rack-dev-mark (0.7.5)\n       rack (&gt;= 1.1)\n+    rack-livereload (0.3.16)\n+      rack\n     rack-test (0.6.3)\n       rack (&gt;= 1.0)\n     rails (5.0.1)\n@@ -205,8 +237,10 @@ GEM\n       childprocess (~&gt; 0.5)\n       rubyzip (~&gt; 1.0)\n       websocket (~&gt; 1.0)\n+    shellany (0.0.1)\n     shoulda-matchers (2.6.2)\n       activesupport (&gt;= 3.0.0)\n+    slop (3.6.0)\n     spring (2.0.0)\n       activesupport (&gt;= 4.2)\n     spring-commands-rspec (1.0.4)\n@@ -263,6 +297,7 @@ DEPENDENCIES\n   factory_girl_rails\n   faker (~&gt; 1.4.3)\n   font-awesome-rails\n+  guard-livereload (~&gt; 2.5)\n   i18n_generators\n   jbuilder (~&gt; 2.5)\n   jquery-rails\n@@ -273,6 +308,7 @@ DEPENDENCIES\n   pg (~&gt; 0.18)\n   puma (~&gt; 3.0)\n   rack-dev-mark\n+  rack-livereload\n   rails (~&gt; 5.0.1)\n   rails-erd\n   rails_12factor\ndiff --git a/Guardfile b/Guardfile\nnew file mode 100644\nindex 0000000..9198014\n--- /dev/null\n+++ b/Guardfile\n@@ -0,0 +1,55 @@\n+# A sample Guardfile\n+# More info at https://github.com/guard/guard#readme\n+\n+## Uncomment and set this to only include directories you want to watch\n+# directories %w(app lib config test spec features) \\\n+#  .select{|d| Dir.exists?(d) ? d : UI.warning(\"Directory #{d} does not exist\")}\n+\n+## Note: if you are using the `directories` clause above and you are not\n+## watching the project directory ('.'), then you will want to move\n+## the Guardfile to a watched dir and symlink it back, e.g.\n+#\n+#  $ mkdir config\n+#  $ mv Guardfile config/\n+#  $ ln -s config/Guardfile .\n+#\n+# and, you'll have to watch \"config/Guardfile\" instead of \"Guardfile\"\n+\n+guard 'livereload' do\n+  extensions = {\n+    css: :css,\n+    scss: :css,\n+    sass: :css,\n+    js: :js,\n+    coffee: :js,\n+    html: :html,\n+    png: :png,\n+    gif: :gif,\n+    jpg: :jpg,\n+    jpeg: :jpeg,\n+    # less: :less, # uncomment if you want LESS stylesheets done in browser\n+  }\n+\n+  rails_view_exts = %w(erb haml slim)\n+\n+  # file types LiveReload may optimize refresh for\n+  compiled_exts = extensions.values.uniq\n+  watch(%r{public/.+\\.(#{compiled_exts * '|'})})\n+\n+  extensions.each do |ext, type|\n+    watch(%r{\n+          (?:app|vendor)\n+          (?:/assets/\\w+/(?&lt;path&gt;[^.]+) # path+base without extension\n+           (?&lt;ext&gt;\\.#{ext})) # matching extension (must be first encountered)\n+          (?:\\.\\w+|$) # other extensions\n+          }x) do |m|\n+      path = m[1]\n+      \"/assets/#{path}.#{type}\"\n+    end\n+  end\n+\n+  # file needing a full reload of the page anyway\n+  watch(%r{app/views/.+\\.(#{rails_view_exts * '|'})$})\n+  watch(%r{app/helpers/.+\\.rb})\n+  watch(%r{config/locales/.+\\.yml})\n+end\ndiff --git a/baukis-kai.iml b/baukis-kai.iml\nindex 1808fb8..bb892a7 100644\n--- a/baukis-kai.iml\n+++ b/baukis-kai.iml\n@@ -20,113 +20,127 @@\n       &lt;excludeFolder url=\"file://$MODULE_DIR$/tmp\" /&gt;\n       &lt;excludeFolder url=\"file://$MODULE_DIR$/vendor/bundle\" /&gt;\n     &lt;/content&gt;\n-    &lt;orderEntry type=\"jdk\" jdkName=\"Remote:ruby-2.4.0-p0\" jdkType=\"RUBY_SDK\" /&gt;\n+    &lt;orderEntry type=\"jdk\" jdkName=\"rbenv: 2.4.0\" jdkType=\"RUBY_SDK\" /&gt;\n     &lt;orderEntry type=\"sourceFolder\" forTests=\"false\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actioncable (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionmailer (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionpack (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionview (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activejob (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activemodel (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activerecord (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activesupport (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"addressable (v2.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"annotate (v2.6.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"arel (v7.1.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"better_errors (v2.1.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"binding_of_caller (v0.7.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"builder (v3.2.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bundler (v1.13.7, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"byebug (v9.0.6, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara (v2.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-screenshot (v1.0.14, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-webkit (v1.11.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"childprocess (v0.5.9, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"choice (v0.2.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coderay (v1.1.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-rails (v4.2.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script (v2.4.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script-source (v1.12.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"concurrent-ruby (v1.0.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"database_cleaner (v1.3.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase (v0.2.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase-ruby_core_source (v0.9.6, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debug_inspector (v0.0.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"diff-lcs (v1.2.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"enum_help (v0.0.16, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"erubis (v2.7.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"execjs (v2.7.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl (v4.8.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl_rails (v4.8.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"faker (v1.4.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ffi (v1.9.14, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"font-awesome-rails (v4.7.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"globalid (v0.3.7, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n (v0.7.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n_generators (v2.1.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jbuilder (v2.6.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jquery-rails (v4.2.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"launchy (v2.4.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"listen (v3.0.8, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"loofah (v2.0.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mail (v2.6.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"method_source (v0.8.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"migration_comments (v0.4.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types (v3.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types-data (v3.2016.0521, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mini_portile2 (v2.1.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"minitest (v5.10.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"multi_json (v1.12.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mysql2 (v0.4.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nio4r (v1.2.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nokogiri (v1.7.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"pg (v0.19.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"public_suffix (v2.0.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"puma (v3.6.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack (v2.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-dev-mark (v0.7.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-test (v0.6.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-dom-testing (v2.0.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-erd (v1.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-html-sanitizer (v1.0.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_12factor (v0.0.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_serve_static_assets (v0.0.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_stdout_logging (v0.0.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"railties (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rake (v12.0.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-fsevent (v0.9.8, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-inotify (v0.9.7, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-core (v3.5.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-expectations (v3.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-mocks (v3.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-rails (v3.5.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-support (v3.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ruby-graphviz (v1.2.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rubyzip (v1.2.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass (v3.4.23, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass-rails (v5.0.6, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"selenium-webdriver (v3.0.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"shoulda-matchers (v2.6.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring (v2.0.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-commands-rspec (v1.0.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-watcher-listen (v2.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets (v3.7.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets-rails (v3.2.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sqlite3 (v1.3.12, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thor (v0.19.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thread_safe (v0.3.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tilt (v2.0.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks-source (v5.0.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tzinfo (v1.2.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"uglifier (v3.0.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"web-console (v3.4.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket (v1.2.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-driver (v0.6.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-extensions (v0.1.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"xpath (v2.0.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"yard (v0.9.7, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actioncable (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionmailer (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionpack (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionview (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activejob (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activemodel (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activerecord (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activesupport (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"addressable (v2.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"annotate (v2.6.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"arel (v7.1.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"better_errors (v2.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"binding_of_caller (v0.7.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"builder (v3.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bundler (v1.13.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"byebug (v9.0.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara (v2.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-screenshot (v1.0.14, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-webkit (v1.11.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"childprocess (v0.5.9, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"choice (v0.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coderay (v1.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-rails (v4.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script (v2.4.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script-source (v1.12.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"concurrent-ruby (v1.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"database_cleaner (v1.3.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase (v0.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase-ruby_core_source (v0.9.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debug_inspector (v0.0.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"diff-lcs (v1.2.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"em-websocket (v0.5.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"enum_help (v0.0.16, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"erubis (v2.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"eventmachine (v1.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"execjs (v2.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl (v4.8.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl_rails (v4.8.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"faker (v1.4.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ffi (v1.9.14, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"font-awesome-rails (v4.7.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"formatador (v0.2.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"globalid (v0.3.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard (v2.14.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard-compat (v1.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard-livereload (v2.5.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"http_parser.rb (v0.6.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n (v0.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n_generators (v2.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jbuilder (v2.6.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jquery-rails (v4.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"launchy (v2.4.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"listen (v3.0.8, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"loofah (v2.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"lumberjack (v1.0.11, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mail (v2.6.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"method_source (v0.8.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"migration_comments (v0.4.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types (v3.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types-data (v3.2016.0521, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mini_portile2 (v2.1.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"minitest (v5.10.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"multi_json (v1.12.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mysql2 (v0.4.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nenv (v0.3.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nio4r (v1.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nokogiri (v1.7.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"notiffany (v0.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"pg (v0.19.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"pry (v0.10.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"public_suffix (v2.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"puma (v3.6.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack (v2.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-dev-mark (v0.7.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-livereload (v0.3.16, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-test (v0.6.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-dom-testing (v2.0.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-erd (v1.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-html-sanitizer (v1.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_12factor (v0.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_serve_static_assets (v0.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_stdout_logging (v0.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"railties (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rake (v12.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-fsevent (v0.9.8, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-inotify (v0.9.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-core (v3.5.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-expectations (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-mocks (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-rails (v3.5.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-support (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ruby-graphviz (v1.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rubyzip (v1.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass (v3.4.23, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass-rails (v5.0.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"selenium-webdriver (v3.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"shellany (v0.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"shoulda-matchers (v2.6.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"slop (v3.6.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring (v2.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-commands-rspec (v1.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-watcher-listen (v2.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets (v3.7.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets-rails (v3.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sqlite3 (v1.3.12, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thor (v0.19.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thread_safe (v0.3.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tilt (v2.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks-source (v5.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tzinfo (v1.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"uglifier (v3.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"web-console (v3.4.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket (v1.2.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-driver (v0.6.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-extensions (v0.1.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"xpath (v2.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"yard (v0.9.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n   &lt;/component&gt;\n   &lt;component name=\"RModuleSettingsStorage\"&gt;\n     &lt;LOAD_PATH number=\"0\" /&gt;\ndiff --git a/config/environments/development.rb b/config/environments/development.rb\nindex ae94b97..4b808ab 100644\n--- a/config/environments/development.rb\n+++ b/config/environments/development.rb\n@@ -57,4 +57,6 @@ Rails.application.configure do\n       admin: { host: '0.0.0.0', path: 'admin' },\n       customer: { host: '0.0.0.0', path: 'mypage' }\n   }\n+\n+  config.middleware.insert_after ActionDispatch::Static, Rack::LiveReload\n end\n</code></pre>"},{"location":"journal/20170116/#58a6730","title":"\u30b3\u30df\u30c3\u30c8: 58a6730","text":""},{"location":"journal/20170116/#_137","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\n</code></pre>"},{"location":"journal/20170116/#_138","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170116/#_139","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 58a6730092a44ba28a4f5acce57a176ddc791b8d\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 16 12:00:01 2017 +0900\n\n    \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\n\ndiff --git a/README.md b/README.md\nindex 4cc0dcd..9ba7022 100644\n--- a/README.md\n+++ b/README.md\n@@ -1,6 +1,6 @@\n Baukis \u6539\n ===================\n-[![CircleCI Build Status](https://circleci.com/gh/circleci/circleci-docs.svg?style=shield)](https://circleci.com/gh/k2works/baukis-kai) [![GitHub license](https://img.shields.io/badge/license-MIT-blue.svg)](https://raw.githubusercontent.com/k2works/baukis-kai/master/MIT-LICENSE.txt)\n+[![CircleCI Build Status](https://circleci.com/gh/circleci/circleci-docs.svg?style=shield)](https://circleci.com/gh/k2works/baukis-kai) [![Code Climate](https://codeclimate.com/github/k2works/baukis-kai/badges/gpa.svg)](https://codeclimate.com/github/k2works/baukis-kai) [![GitHub license](https://img.shields.io/badge/license-MIT-blue.svg)](https://raw.githubusercontent.com/k2works/baukis-kai/master/MIT-LICENSE.txt)\n\n # \u76ee\u7684 #\n [\u5b9f\u8df5Ruby on Rails 4 \u73fe\u5834\u306e\u30d7\u30ed\u304b\u3089\u5b66\u3076\u672c\u683cWeb\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0](https://www.amazon.co.jp/%E5%AE%9F%E8%B7%B5Ruby-Rails-4-%E7%8F%BE%E5%A0%B4%E3%81%AE%E3%83%97%E3%83%AD%E3%81%8B%E3%82%89%E5%AD%A6%E3%81%B6%E6%9C%AC%E6%A0%BCWeb%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-%E9%BB%92%E7%94%B0/dp/4844335928)\u3092Rails5\u3067\u306e\u5b9f\u88c5\u53ca\u3073\u30d5\u30ed\u30f3\u30c8\u90e8\u5206\u306b\u30e2\u30c0\u30f3CSS\u8a2d\u8a08(BEM)\u3092\u7d44\u307f\u8fbc\u3080\n</code></pre>"},{"location":"journal/20170117/","title":"\u4f5c\u696d\u5c65\u6b74 2017-01-17","text":""},{"location":"journal/20170117/#_1","title":"\u6982\u8981","text":"<p>2017-01-17\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u6a5f\u80fd\u306e\u5b9f\u88c5\u306b\u95a2\u3059\u308b\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002\u4e3b\u306b\u4f8b\u5916\u51e6\u7406\u306e\u5b9f\u88c5\u3068\u30a8\u30e9\u30fc\u30da\u30fc\u30b8\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170117/#_2","title":"\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u69cb\u6210\u56f3","text":""},{"location":"journal/20170117/#_3","title":"\u4f5c\u696d\u5185\u5bb9","text":""},{"location":"journal/20170117/#_4","title":"\u4f8b\u5916\u51e6\u7406\u306e\u5b9f\u88c5","text":"<p>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5168\u4f53\u3067\u306e\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u3092\u6539\u5584\u3059\u308b\u305f\u3081\u3001ApplicationController\u306b\u4f8b\u5916\u51e6\u7406\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u4e88\u671f\u3057\u306a\u3044\u4f8b\u5916\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u3067\u3082\u3001\u30e6\u30fc\u30b6\u30fc\u306b\u9069\u5207\u306a\u30a8\u30e9\u30fc\u30da\u30fc\u30b8\u3092\u8868\u793a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"journal/20170117/#_5","title":"\u5909\u66f4\u70b9\u306e\u6982\u8981","text":"<ol> <li>ApplicationController\u306b\u4f8b\u5916\u51e6\u7406\u3092\u8ffd\u52a0</li> <li><code>rescue_from Exception</code> \u3067\u5168\u3066\u306e\u4f8b\u5916\u3092\u6355\u6349</li> <li> <p><code>rescue500</code> \u30e1\u30bd\u30c3\u30c9\u3067500\u30a8\u30e9\u30fc\u30da\u30fc\u30b8\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0</p> </li> <li> <p>\u30a8\u30e9\u30fc\u30da\u30fc\u30b8\u306e\u6e96\u5099</p> </li> <li>500 Internal Server Error \u30da\u30fc\u30b8\u306e\u8a2d\u5b9a</li> </ol>"},{"location":"journal/20170117/#_6","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li><code>rescue_from</code> \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u4f8b\u5916\u3092\u6355\u6349</li> <li>\u4f8b\u5916\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u30d3\u30e5\u30fc\u306b\u6e21\u3057\u3066\u8a73\u7d30\u60c5\u5831\u3092\u8868\u793a\uff08\u958b\u767a\u74b0\u5883\u306e\u307f\uff09</li> <li>HTTP\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9500\u3092\u9069\u5207\u306b\u8a2d\u5b9a</li> </ul>"},{"location":"journal/20170117/#c0bcc9c","title":"\u30b3\u30df\u30c3\u30c8: c0bcc9c","text":""},{"location":"journal/20170117/#_7","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u4f8b\u5916\u306e\u6355\u6349 #2\n</code></pre>"},{"location":"journal/20170117/#_8","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/application_controller.rb</li> </ul>"},{"location":"journal/20170117/#_9","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c0bcc9caf9ce5fa6941b003b42f6dca9cd97205a\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 17 19:21:39 2017 +0900\n\n    \u4f8b\u5916\u306e\u6355\u6349 #2\n\ndiff --git a/README.md b/README.md\nindex efa11f8..6931138 100644\n--- a/README.md\n+++ b/README.md\n@@ -316,6 +316,7 @@ git push heroku master\n\n #### 500 Internal Server Error\n + \u6e96\u5099\u4f5c\u696d\n++ \u4f8b\u5916\u306e\u6355\u6349\n\n #### 403 Forbidden\n #### 404 Not Found\ndiff --git a/app/controllers/application_controller.rb b/app/controllers/application_controller.rb\nindex 1b2c7e6..3ab4c91 100644\n--- a/app/controllers/application_controller.rb\n+++ b/app/controllers/application_controller.rb\n@@ -3,6 +3,8 @@ class ApplicationController &lt; ActionController::Base\n\n   layout :set_layout\n\n+  rescue_from Exception, with: :rescue500\n+\n   private\n   def set_layout\n     if params[:controller].match(%r{\\A(staff|admin|customer)/})\n@@ -11,4 +13,9 @@ class ApplicationController &lt; ActionController::Base\n       'customer'\n     end\n   end\n+\n+  def rescue500(e)\n+    @exception = e\n+    render 'errors/internal_server_error', status: 500\n+  end\n end\n</code></pre>"},{"location":"journal/20170117/#5cf831a","title":"\u30b3\u30df\u30c3\u30c8: 5cf831a","text":""},{"location":"journal/20170117/#_10","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6e96\u5099\u4f5c\u696d #2\n</code></pre>"},{"location":"journal/20170117/#_11","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .gitignore</li> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>M README.md</li> <li>M app/controllers/admin/top_controller.rb</li> <li>M baukis-kai.iml</li> <li>M config/environments/production.rb</li> </ul>"},{"location":"journal/20170117/#_12","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 5cf831a689b5a03be156d99450cbaf6c9cd35646\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 17 19:15:21 2017 +0900\n\n    \u6e96\u5099\u4f5c\u696d #2\n\ndiff --git a/.gitignore b/.gitignore\nindex 5ddd4e2..05ce7cf 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -106,3 +106,4 @@ bower.json\n # Ignore Byebug command history file.\n .byebug_history\n\n+public/assets/\n\\ No newline at end of file\ndiff --git a/Gemfile b/Gemfile\nindex 1f609ad..b46c6fa 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -84,4 +84,5 @@ gem 'rails_12factor', group: :production\n gem 'rack-dev-mark'\n gem 'enum_help'\n gem 'bootstrap-sass', '~&gt; 3.3.6'\n-gem 'bootstrap_form'\n\\ No newline at end of file\n+gem 'bootstrap_form'\n+gem 'dotenv-rails'\n\\ No newline at end of file\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex f06af1b..f553bc1 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -88,6 +88,10 @@ GEM\n     debase-ruby_core_source (0.9.6)\n     debug_inspector (0.0.2)\n     diff-lcs (1.2.5)\n+    dotenv (2.1.2)\n+    dotenv-rails (2.1.2)\n+      dotenv (= 2.1.2)\n+      railties (&gt;= 3.2, &lt; 5.1)\n     em-websocket (0.5.1)\n       eventmachine (&gt;= 0.12.9)\n       http_parser.rb (~&gt; 0.6.0)\n@@ -301,6 +305,7 @@ DEPENDENCIES\n   coffee-rails (~&gt; 4.2)\n   database_cleaner (~&gt; 1.3.0)\n   debase\n+  dotenv-rails\n   enum_help\n   factory_girl_rails\n   faker (~&gt; 1.4.3)\ndiff --git a/README.md b/README.md\nindex 7dee61a..efa11f8 100644\n--- a/README.md\n+++ b/README.md\n@@ -310,7 +310,13 @@ git push heroku master\n\n ### \u30a8\u30e9\u30fc\u30da\u30fc\u30b8\n #### \u4f8b\u5916\u51e6\u7406\u306e\u57fa\u790e\u77e5\u8b58\n++ \u4f8b\u5916\u3068\u306f\n++ raise\u30e1\u30bd\u30c3\u30c9\u3068\u4f8b\u5916\u6a5f\u69cb\u6587\n++ \u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9rescue_from\n+\n #### 500 Internal Server Error\n++ \u6e96\u5099\u4f5c\u696d\n+\n #### 403 Forbidden\n #### 404 Not Found\n #### ActiveSupport::Concern\ndiff --git a/app/controllers/admin/top_controller.rb b/app/controllers/admin/top_controller.rb\nindex d9a88b5..532994c 100644\n--- a/app/controllers/admin/top_controller.rb\n+++ b/app/controllers/admin/top_controller.rb\n@@ -1,5 +1,6 @@\n class Admin::TopController &lt; ApplicationController\n   def index\n+    raise\n     render action: 'index'\n   end\n end\ndiff --git a/baukis-kai.iml b/baukis-kai.iml\nindex ea1f98f..ec2b1a1 100644\n--- a/baukis-kai.iml\n+++ b/baukis-kai.iml\n@@ -56,6 +56,8 @@\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase-ruby_core_source (v0.9.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debug_inspector (v0.0.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"diff-lcs (v1.2.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"dotenv (v2.1.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"dotenv-rails (v2.1.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"em-websocket (v0.5.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"enum_help (v0.0.16, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"erubis (v2.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\ndiff --git a/config/environments/production.rb b/config/environments/production.rb\nindex a736dfc..3af0b22 100644\n--- a/config/environments/production.rb\n+++ b/config/environments/production.rb\n@@ -2,7 +2,7 @@ Rails.application.configure do\n   # Settings specified here will take precedence over those in config/application.rb.\n\n   # Code is not reloaded between requests.\n-  config.cache_classes = true\n+  config.cache_classes = false\n\n   # Eager load code on boot. This eager loads most of Rails and\n   # your application in memory, allowing both threaded web servers\n</code></pre>"},{"location":"journal/20170117/#_13","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170117/#645df51","title":"\u30b3\u30df\u30c3\u30c8: 645df51","text":""},{"location":"journal/20170117/#_14","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30a8\u30e9\u30fc\u30da\u30fc\u30b8 #2\n</code></pre>"},{"location":"journal/20170117/#_15","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170117/#_16","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 645df51dbaa13cea50a7f7d213df7457b1dc769f\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 17 18:54:37 2017 +0900\n\n    \u30a8\u30e9\u30fc\u30da\u30fc\u30b8 #2\n\ndiff --git a/README.md b/README.md\nindex e23f947..7dee61a 100644\n--- a/README.md\n+++ b/README.md\n@@ -309,6 +309,12 @@ git push heroku master\n + \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30d9\u30fc\u30b9\u3067\u4f5c\u308b\u3068\u3001\u30da\u30fc\u30b8\u56fa\u6709\u306eCSS\u3092\u5c11\u3057\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u307b\u307c\uff11\u30da\u30fc\u30b8\u4f5c\u308c\u308b\n\n ### \u30a8\u30e9\u30fc\u30da\u30fc\u30b8\n+#### \u4f8b\u5916\u51e6\u7406\u306e\u57fa\u790e\u77e5\u8b58\n+#### 500 Internal Server Error\n+#### 403 Forbidden\n+#### 404 Not Found\n+#### ActiveSupport::Concern\n+\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n</code></pre>"},{"location":"journal/20170117/#6fe8464","title":"\u30b3\u30df\u30c3\u30c8: 6fe8464","text":""},{"location":"journal/20170117/#_17","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u7ba1\u7406\u8005\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u4f5c\u6210 #1\n</code></pre>"},{"location":"journal/20170117/#_18","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/base/_variables.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>A app/assets/stylesheets/pages/_admin.scss</li> <li>M app/assets/stylesheets/pages/_staff.scss</li> <li>M app/views/admin/top/index.html.erb</li> <li>M app/views/layouts/admin.html.erb</li> <li>M app/views/shared/admin/_footer.html.erb</li> <li>M app/views/shared/admin/_header.html.erb</li> <li>M app/views/shared/staff/_header.html.erb</li> </ul>"},{"location":"journal/20170117/#_19","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 6fe84642460f439f1152b71fcff77b0d8519e831\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 17 18:22:33 2017 +0900\n\n    \u7ba1\u7406\u8005\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u4f5c\u6210 #1\n\ndiff --git a/app/assets/stylesheets/base/_variables.scss b/app/assets/stylesheets/base/_variables.scss\nindex 72eca03..13563ca 100644\n--- a/app/assets/stylesheets/base/_variables.scss\n+++ b/app/assets/stylesheets/base/_variables.scss\n@@ -42,6 +42,18 @@ $very_light_gray: #fafafa;\n $dark_cyan: #448888;\n $very_dark_cyan: darken($dark_cyan, 25%);\n\n+/* \u30de\u30bc\u30f3\u30bf\u7cfb */\n+\n+$dark_magenta: #884488;\n+$very_dark_magenta: darken($dark_magenta, 25%);\n+\n+/* \u8d64\u7cfb */\n+$red: #cc0000;\n+$pink: #ffcccc;\n+\n+/* \u7dd1\u7cfb */\n+$green: #00cc00;\n+\n /* \u30de\u30fc\u30b8\u30f3\u3001\u30d1\u30c7\u30a3\u30f3\u30b0 */\n\n $narrow: 2px;\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex aa747a9..898bc2b 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -77,6 +77,9 @@\n // Staff\n @import \"pages/staff\";\n\n+// Administrator\n+@import \"pages/admin\";\n+\n // ===========================\n // Utils\n // ===========================\ndiff --git a/app/assets/stylesheets/pages/_admin.scss b/app/assets/stylesheets/pages/_admin.scss\nnew file mode 100644\nindex 0000000..1cc4ad7\n--- /dev/null\n+++ b/app/assets/stylesheets/pages/_admin.scss\n@@ -0,0 +1,58 @@\n+@charset 'utf-8';\n+\n+// =====================\n+// \u7ba1\u7406\u8005\u30da\u30fc\u30b8\u56fa\u6709\u306e\u30b9\u30bf\u30a4\u30eb\n+// =====================\n+\n+\n+html, body {\n+  margin: 0;\n+  padding: 0;\n+  height: 100%;\n+}\n+\n+.Admin {\n+  &amp;__wrapper {\n+    position: relative;\n+    box-sizing: border-box;\n+    min-height: 100%;\n+    margin: 0 auto;\n+    padding-bottom: ($wide + $moderate) * 2 + $standard_line_height;\n+    background-color: $gray;\n+  }\n+\n+  &amp;__title {\n+    margin: 0;\n+    padding: $moderate * 1.5 $moderate;\n+    font-size: $large;\n+    font-weight: normal;\n+    background-color: $very_dark_magenta;\n+    color: $light_gray;\n+  }\n+\n+  &amp;__header {\n+    padding: $moderate;\n+    background-color: $very_dark_magenta;\n+    color: $very_light_gray;\n+    span.logo-mark {\n+      font-weight: bold;\n+    }\n+  }\n+\n+  &amp;__footer {\n+    bottom: 0;\n+    position: absolute;\n+    width: 100%;\n+    background-color: $dark_gray;\n+    color: $very_light_gray;\n+    p {\n+      text-align: center;\n+      padding: $moderate;\n+      margin: 0;\n+    }\n+  }\n+}\n+\n+.logo--admin {\n+  color: $color-white;\n+}\ndiff --git a/app/assets/stylesheets/pages/_staff.scss b/app/assets/stylesheets/pages/_staff.scss\nindex 6f42c51..d28a135 100644\n--- a/app/assets/stylesheets/pages/_staff.scss\n+++ b/app/assets/stylesheets/pages/_staff.scss\n@@ -53,6 +53,6 @@ html, body {\n   }\n }\n\n-div.wrapper {\n-\n+.logo--staff {\n+  color: $color-white;\n }\n\\ No newline at end of file\ndiff --git a/app/views/admin/top/index.html.erb b/app/views/admin/top/index.html.erb\nindex 4a793fe..81d36bc 100644\n--- a/app/views/admin/top/index.html.erb\n+++ b/app/views/admin/top/index.html.erb\n@@ -1,2 +1,16 @@\n &lt;% @title = '\u7ba1\u7406\u8005\u30c8\u30c3\u30d7\u30da\u30fc\u30b8' %&gt;\n-&lt;h1&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n\\ No newline at end of file\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Admin__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column\"&gt;\n+  &lt;div class=\"Section__head\"&gt;\n+    &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n+  &lt;/div&gt;\n+  &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-1-17\"&gt;2016.10.12&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u958b\u767a\u3092\u958b\u59cb\u3057\u307e\u3057\u305f&lt;/span&gt;\n+    &lt;/li&gt;\n+  &lt;/ol&gt;\n+&lt;/section&gt;\ndiff --git a/app/views/layouts/admin.html.erb b/app/views/layouts/admin.html.erb\nindex e37a09c..b1f43ad 100644\n--- a/app/views/layouts/admin.html.erb\n+++ b/app/views/layouts/admin.html.erb\n@@ -9,7 +9,7 @@\n &lt;/head&gt;\n\n &lt;body&gt;\n-&lt;div id=\"wrapper\" class=\"SpMenu__wrapper\"&gt;\n+&lt;div id=\"wrapper\" class=\"SpMenu__wrapper Admin__wrapper\"&gt;\n   &lt;div id=\"overlay\" class=\"SpMenu__overlay\"&gt;&lt;/div&gt;\n   &lt;%= render 'shared/admin/header' %&gt;\n   &lt;%= yield %&gt;\ndiff --git a/app/views/shared/admin/_footer.html.erb b/app/views/shared/admin/_footer.html.erb\nindex 53fdd69..e3c34d8 100644\n--- a/app/views/shared/admin/_footer.html.erb\n+++ b/app/views/shared/admin/_footer.html.erb\n@@ -1,4 +1,4 @@\n-&lt;footer class=\"Footer\"&gt;\n+&lt;footer class=\"Footer Admin__footer\"&gt;\n   &lt;div class=\"l-row l-column\"&gt;\n     &lt;div class=\"Footer__head\"&gt;\n       &lt;%= link_to('BAUKIS KAI', staff_root_url, class:'logo') %&gt;\n@@ -8,8 +8,6 @@\n     &lt;/div&gt;\n     &lt;div class=\"Footer__body\"&gt;\n       &lt;p&gt;Powered by BAUKIS KAI &amp;copy; 2014 k2works&lt;/p&gt;\n-      &lt;p&gt;&lt;a href=\"#\"&gt;Legal Notice&lt;/a&gt;&lt;/p&gt;\n-      &lt;p&gt;&lt;a href=\"#\"&gt;Privacy policy&lt;/a&gt;&lt;/p&gt;\n     &lt;/div&gt;\n   &lt;/div&gt;\n &lt;/footer&gt;\n\\ No newline at end of file\ndiff --git a/app/views/shared/admin/_header.html.erb b/app/views/shared/admin/_header.html.erb\nindex 7e96b16..83fa2a1 100644\n--- a/app/views/shared/admin/_header.html.erb\n+++ b/app/views/shared/admin/_header.html.erb\n@@ -1,9 +1,9 @@\n-&lt;header class=\"Header l-column\"&gt;\n+&lt;header class=\"Header Admin__header\"&gt;\n   &lt;div id=\"menu-button\" class=\"Header__button\"&gt;\n     &lt;%= fa_icon 'bars' %&gt;\n   &lt;/div&gt;\n   &lt;div class=\"Header__head\"&gt;\n-    &lt;h1 class=\"logo\"&gt;&lt;%= link_to('BAUKIS KAI', staff_root_url, class:'logo') %&gt;&lt;/h1&gt;\n+    &lt;h1 class=\"logo\"&gt;&lt;%= link_to('BAUKIS KAI', admin_root_url, class:'logo logo--admin') %&gt;&lt;/h1&gt;\n   &lt;/div&gt;\n   &lt;nav class=\"Header__body SpMenu\"&gt;\n     &lt;ul class=\"Menu\"&gt;\ndiff --git a/app/views/shared/staff/_header.html.erb b/app/views/shared/staff/_header.html.erb\nindex 6dd942a..861f549 100644\n--- a/app/views/shared/staff/_header.html.erb\n+++ b/app/views/shared/staff/_header.html.erb\n@@ -3,7 +3,7 @@\n     &lt;%= fa_icon 'bars' %&gt;\n   &lt;/div&gt;\n   &lt;div class=\"Header__head\"&gt;\n-    &lt;h1 class=\"logo\"&gt;&lt;%= link_to('BAUKIS KAI', staff_root_url, class:'logo') %&gt;&lt;/h1&gt;\n+    &lt;h1 class=\"logo\"&gt;&lt;%= link_to('BAUKIS KAI', staff_root_url, class:'logo logo--staff') %&gt;&lt;/h1&gt;\n   &lt;/div&gt;\n   &lt;nav class=\"Header__body SpMenu\"&gt;\n     &lt;ul class=\"Menu\"&gt;\n</code></pre>"},{"location":"journal/20170117/#d196c1d","title":"\u30b3\u30df\u30c3\u30c8: d196c1d","text":""},{"location":"journal/20170117/#_20","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8077\u54e1\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u4f5c\u6210 #1\n</code></pre>"},{"location":"journal/20170117/#_21","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/base/_variables.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>A app/assets/stylesheets/pages/_staff.scss</li> <li>D app/assets/stylesheets/pages/staff/_colors.css.scss</li> <li>D app/assets/stylesheets/pages/staff/_dimensions.css.scss</li> <li>D app/assets/stylesheets/pages/staff/container.css.scss</li> <li>D app/assets/stylesheets/pages/staff/layout.css.scss</li> <li>M app/views/layouts/staff.html.erb</li> <li>M app/views/shared/staff/_footer.html.erb</li> <li>M app/views/shared/staff/_header.html.erb</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170117/#_22","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit d196c1dba8aecae450d7452e8775b3cdbb6a1d13\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 17 17:57:34 2017 +0900\n\n    \u8077\u54e1\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u4f5c\u6210 #1\n\ndiff --git a/app/assets/stylesheets/base/_variables.scss b/app/assets/stylesheets/base/_variables.scss\nindex e3a5b8a..72eca03 100644\n--- a/app/assets/stylesheets/base/_variables.scss\n+++ b/app/assets/stylesheets/base/_variables.scss\n@@ -27,4 +27,36 @@ $font-sub: 'Lato';\n // break points\n $sp-max-width: 640px;\n $pc-min-width: 641px;\n-$sp-menu-width: 200px;\n\\ No newline at end of file\n+$sp-menu-width: 200px;\n+\n+//Staff\n+/* \u30b0\u30ec\u30fc\u7cfb */\n+\n+$dark_gray: #666666;\n+$gray: #cccccc;\n+$light_gray: #eeeeee;\n+$very_light_gray: #fafafa;\n+\n+/* \u30b7\u30a2\u30f3\u7cfb */\n+\n+$dark_cyan: #448888;\n+$very_dark_cyan: darken($dark_cyan, 25%);\n+\n+/* \u30de\u30fc\u30b8\u30f3\u3001\u30d1\u30c7\u30a3\u30f3\u30b0 */\n+\n+$narrow: 2px;\n+$moderate: 6px;\n+$wide: 10px;\n+$very_wide: 20px;\n+\n+/* \u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba */\n+\n+$tiny: 8px;\n+$small: 10px;\n+$normal: 12px;\n+$large: 16px;\n+$huge: 20px;\n+\n+/* \u884c\u306e\u9ad8\u3055 */\n+\n+$standard_line_height: 16px;\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 36b286c..aa747a9 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -69,17 +69,16 @@\n // ===========================\n // Pages\n // ===========================\n+// Customer\n @import \"pages/customer/index\";\n-\n @import \"pages/customer/campaign\";\n-\n @import \"pages/customer/article\";\n\n+// Staff\n+@import \"pages/staff\";\n+\n // ===========================\n // Utils\n // ===========================\n // \u30b5\u30a4\u30ba\u3001\u4f59\u767d\u306a\u3069\u306e\u4fbf\u5229class\n-@import \"./utils/arrangements\";\n-\n-//@import \"pages/staff/container\";\n-//@import \"pages/staff/layout\";\n\\ No newline at end of file\n+@import \"./utils/arrangements\";\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/pages/_staff.scss b/app/assets/stylesheets/pages/_staff.scss\nnew file mode 100644\nindex 0000000..6f42c51\n--- /dev/null\n+++ b/app/assets/stylesheets/pages/_staff.scss\n@@ -0,0 +1,58 @@\n+@charset 'utf-8';\n+\n+// =====================\n+// \u8077\u54e1\u30da\u30fc\u30b8\u56fa\u6709\u306e\u30b9\u30bf\u30a4\u30eb\n+// =====================\n+\n+\n+html, body {\n+  margin: 0;\n+  padding: 0;\n+  height: 100%;\n+}\n+\n+.Staff {\n+  &amp;__wrapper {\n+    position: relative;\n+    box-sizing: border-box;\n+    min-height: 100%;\n+    margin: 0 auto;\n+    padding-bottom: ($wide + $moderate) * 2 + $standard_line_height;\n+    background-color: $gray;\n+  }\n+\n+  &amp;__title {\n+    margin: 0;\n+    padding: $moderate * 1.5 $moderate;\n+    font-size: $large;\n+    font-weight: normal;\n+    background-color: $very_dark_cyan;\n+    color: $light_gray;\n+  }\n+\n+  &amp;__header {\n+    padding: $moderate;\n+    background-color: $dark_cyan;\n+    color: $very_light_gray;\n+    span.logo-mark {\n+      font-weight: bold;\n+    }\n+  }\n+\n+  &amp;__footer {\n+    bottom: 0;\n+    position: absolute;\n+    width: 100%;\n+    background-color: $dark_gray;\n+    color: $very_light_gray;\n+    p {\n+      text-align: center;\n+      padding: $moderate;\n+      margin: 0;\n+    }\n+  }\n+}\n+\n+div.wrapper {\n+\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/pages/staff/_colors.css.scss b/app/assets/stylesheets/pages/staff/_colors.css.scss\ndeleted file mode 100644\nindex 11d6a3d..0000000\n--- a/app/assets/stylesheets/pages/staff/_colors.css.scss\n+++ /dev/null\n@@ -1,11 +0,0 @@\n-/* \u30b0\u30ec\u30fc\u7cfb */\n-\n-$dark_gray: #666666;\n-$gray: #cccccc;\n-$light_gray: #eeeeee;\n-$very_light_gray: #fafafa;\n-\n-/* \u30b7\u30a2\u30f3\u7cfb */\n-\n-$dark_cyan: #448888;\n-$very_dark_cyan: darken($dark_cyan, 25%);\ndiff --git a/app/assets/stylesheets/pages/staff/_dimensions.css.scss b/app/assets/stylesheets/pages/staff/_dimensions.css.scss\ndeleted file mode 100644\nindex 8d4d2dd..0000000\n--- a/app/assets/stylesheets/pages/staff/_dimensions.css.scss\n+++ /dev/null\n@@ -1,18 +0,0 @@\n-/* \u30de\u30fc\u30b8\u30f3\u3001\u30d1\u30c7\u30a3\u30f3\u30b0 */\n-\n-$narrow: 2px;\n-$moderate: 6px;\n-$wide: 10px;\n-$very_wide: 20px;\n-\n-/* \u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba */\n-\n-$tiny: 8px;\n-$small: 10px;\n-$normal: 12px;\n-$large: 16px;\n-$huge: 20px;\n-\n-/* \u884c\u306e\u9ad8\u3055 */\n-\n-$standard_line_height: 16px;\ndiff --git a/app/assets/stylesheets/pages/staff/container.css.scss b/app/assets/stylesheets/pages/staff/container.css.scss\ndeleted file mode 100644\nindex 901cb2a..0000000\n--- a/app/assets/stylesheets/pages/staff/container.css.scss\n+++ /dev/null\n@@ -1,15 +0,0 @@\n-@import \"colors\";\n-@import \"dimensions\";\n-\n-div.wrapper {\n-  div.container {\n-    h1 {\n-      margin: 0;\n-      padding: $moderate * 1.5 $moderate;\n-      font-size: $large;\n-      font-weight: normal;\n-      background-color: $very_dark_cyan;\n-      color: $light_gray;\n-    }\n-  }\n-}\ndiff --git a/app/assets/stylesheets/pages/staff/layout.css.scss b/app/assets/stylesheets/pages/staff/layout.css.scss\ndeleted file mode 100644\nindex 3682fa0..0000000\n--- a/app/assets/stylesheets/pages/staff/layout.css.scss\n+++ /dev/null\n@@ -1,36 +0,0 @@\n-@import \"colors\";\n-@import \"dimensions\";\n-\n-html, body {\n-  margin: 0;\n-  padding: 0;\n-  height: 100%;\n-}\n-div.wrapper {\n-  position: relative;\n-  box-sizing: border-box;\n-  min-height: 100%;\n-  margin: 0 auto;\n-  padding-bottom: ($wide + $moderate) * 2 + $standard_line_height;\n-  background-color: $gray;\n-}\n-header {\n-  padding: $moderate;\n-  background-color: $dark_cyan;\n-  color: $very_light_gray;\n-  span.logo-mark {\n-    font-weight: bold;\n-  }\n-}\n-footer {\n-  bottom: 0;\n-  position: absolute;\n-  width: 100%;\n-  background-color: $dark_gray;\n-  color: $very_light_gray;\n-  p {\n-    text-align: center;\n-    padding: $moderate;\n-    margin: 0;\n-  }\n-}\ndiff --git a/app/views/layouts/staff.html.erb b/app/views/layouts/staff.html.erb\nindex fd979b6..0b928de 100644\n--- a/app/views/layouts/staff.html.erb\n+++ b/app/views/layouts/staff.html.erb\n@@ -9,7 +9,7 @@\n &lt;/head&gt;\n\n &lt;body&gt;\n-&lt;div id=\"wrapper\" class=\"SpMenu__wrapper\"&gt;\n+&lt;div id=\"wrapper\" class=\"SpMenu__wrapper Staff__wrapper\"&gt;\n   &lt;div id=\"overlay\" class=\"SpMenu__overlay\"&gt;&lt;/div&gt;\n   &lt;%= render 'shared/staff/header' %&gt;\n   &lt;%= yield %&gt;\ndiff --git a/app/views/shared/staff/_footer.html.erb b/app/views/shared/staff/_footer.html.erb\nindex 53fdd69..042f4c7 100644\n--- a/app/views/shared/staff/_footer.html.erb\n+++ b/app/views/shared/staff/_footer.html.erb\n@@ -1,4 +1,4 @@\n-&lt;footer class=\"Footer\"&gt;\n+&lt;footer class=\"Footer Staff__footer\"&gt;\n   &lt;div class=\"l-row l-column\"&gt;\n     &lt;div class=\"Footer__head\"&gt;\n       &lt;%= link_to('BAUKIS KAI', staff_root_url, class:'logo') %&gt;\n@@ -8,8 +8,6 @@\n     &lt;/div&gt;\n     &lt;div class=\"Footer__body\"&gt;\n       &lt;p&gt;Powered by BAUKIS KAI &amp;copy; 2014 k2works&lt;/p&gt;\n-      &lt;p&gt;&lt;a href=\"#\"&gt;Legal Notice&lt;/a&gt;&lt;/p&gt;\n-      &lt;p&gt;&lt;a href=\"#\"&gt;Privacy policy&lt;/a&gt;&lt;/p&gt;\n     &lt;/div&gt;\n   &lt;/div&gt;\n &lt;/footer&gt;\n\\ No newline at end of file\ndiff --git a/app/views/shared/staff/_header.html.erb b/app/views/shared/staff/_header.html.erb\nindex 7e96b16..6dd942a 100644\n--- a/app/views/shared/staff/_header.html.erb\n+++ b/app/views/shared/staff/_header.html.erb\n@@ -1,4 +1,4 @@\n-&lt;header class=\"Header l-column\"&gt;\n+&lt;header class=\"Header Staff__header\"&gt;\n   &lt;div id=\"menu-button\" class=\"Header__button\"&gt;\n     &lt;%= fa_icon 'bars' %&gt;\n   &lt;/div&gt;\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex e4d87bc..ed1fd86 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -1,2 +1,16 @@\n &lt;% @title = '\u8077\u54e1\u30c8\u30c3\u30d7\u30da\u30fc\u30b8' %&gt;\n-&lt;h1&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n\\ No newline at end of file\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column\"&gt;\n+  &lt;div class=\"Section__head\"&gt;\n+    &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n+  &lt;/div&gt;\n+  &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-1-17\"&gt;2016.10.12&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u958b\u767a\u3092\u958b\u59cb\u3057\u307e\u3057\u305f&lt;/span&gt;\n+    &lt;/li&gt;\n+  &lt;/ol&gt;\n+&lt;/section&gt;\n</code></pre>"},{"location":"journal/20170117/#2dff57d","title":"\u30b3\u30df\u30c3\u30c8: 2dff57d","text":""},{"location":"journal/20170117/#_23","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8077\u54e1\u30fb\u7ba1\u7406\u8005\u30fb\u9867\u5ba2\u30da\u30fc\u30b8\u5206\u5272 #1\n</code></pre>"},{"location":"journal/20170117/#_24","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/main.scss</li> <li>A app/controllers/customer/article_controller.rb</li> <li>A app/controllers/customer/campaign_controller.rb</li> <li>D app/controllers/staff/article_controller.rb</li> <li>D app/controllers/staff/campaign_controller.rb</li> <li>M app/views/customer/top/index.html.erb</li> <li>A app/views/layouts/admin.html.erb</li> <li>A app/views/layouts/customer.html.erb</li> <li>M app/views/layouts/staff.html.erb</li> <li>A app/views/shared/admin/_footer.html.erb</li> <li>A app/views/shared/admin/_header.html.erb</li> <li>A app/views/shared/staff/_footer.html.erb</li> <li>A app/views/shared/staff/_header.html.erb</li> <li>M app/views/staff/top/index.html.erb</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170117/#_25","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 2dff57d2769d76d38c126900b993c63736079883\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 17 17:28:24 2017 +0900\n\n    \u8077\u54e1\u30fb\u7ba1\u7406\u8005\u30fb\u9867\u5ba2\u30da\u30fc\u30b8\u5206\u5272 #1\n\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 8e0ff1d..36b286c 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -69,11 +69,11 @@\n // ===========================\n // Pages\n // ===========================\n-@import \"./pages/index\";\n+@import \"pages/customer/index\";\n\n-@import \"./pages/campaign\";\n+@import \"pages/customer/campaign\";\n\n-@import \"./pages/article\";\n+@import \"pages/customer/article\";\n\n // ===========================\n // Utils\ndiff --git a/app/assets/stylesheets/pages/_article.scss b/app/assets/stylesheets/pages/customer/_article.scss\nsimilarity index 100%\nrename from app/assets/stylesheets/pages/_article.scss\nrename to app/assets/stylesheets/pages/customer/_article.scss\ndiff --git a/app/assets/stylesheets/pages/_campaign.scss b/app/assets/stylesheets/pages/customer/_campaign.scss\nsimilarity index 100%\nrename from app/assets/stylesheets/pages/_campaign.scss\nrename to app/assets/stylesheets/pages/customer/_campaign.scss\ndiff --git a/app/assets/stylesheets/pages/_index.scss b/app/assets/stylesheets/pages/customer/_index.scss\nsimilarity index 100%\nrename from app/assets/stylesheets/pages/_index.scss\nrename to app/assets/stylesheets/pages/customer/_index.scss\ndiff --git a/app/controllers/customer/article_controller.rb b/app/controllers/customer/article_controller.rb\nnew file mode 100644\nindex 0000000..3631c55\n--- /dev/null\n+++ b/app/controllers/customer/article_controller.rb\n@@ -0,0 +1,4 @@\n+class Customer::ArticleController &lt; ApplicationController\n+  def index\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/controllers/customer/campaign_controller.rb b/app/controllers/customer/campaign_controller.rb\nnew file mode 100644\nindex 0000000..897f1f3\n--- /dev/null\n+++ b/app/controllers/customer/campaign_controller.rb\n@@ -0,0 +1,8 @@\n+class Customer::CampaignController &lt; ApplicationController\n+  def index\n+  end\n+\n+  def submit\n+    redirect_to :customer_root\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/controllers/staff/article_controller.rb b/app/controllers/staff/article_controller.rb\ndeleted file mode 100644\nindex ad2a69e..0000000\n--- a/app/controllers/staff/article_controller.rb\n+++ /dev/null\n@@ -1,4 +0,0 @@\n-class Staff::ArticleController &lt; ApplicationController\n-  def index\n-  end\n-end\n\\ No newline at end of file\ndiff --git a/app/controllers/staff/campaign_controller.rb b/app/controllers/staff/campaign_controller.rb\ndeleted file mode 100644\nindex 8ed36b0..0000000\n--- a/app/controllers/staff/campaign_controller.rb\n+++ /dev/null\n@@ -1,8 +0,0 @@\n-class Staff::CampaignController &lt; ApplicationController\n-  def index\n-  end\n-\n-  def submit\n-    redirect_to :staff_root\n-  end\n-end\n\\ No newline at end of file\ndiff --git a/app/views/staff/article/index.html.erb b/app/views/customer/article/index.html.erb\nsimilarity index 100%\nrename from app/views/staff/article/index.html.erb\nrename to app/views/customer/article/index.html.erb\ndiff --git a/app/views/staff/campaign/index.html.erb b/app/views/customer/campaign/index.html.erb\nsimilarity index 98%\nrename from app/views/staff/campaign/index.html.erb\nrename to app/views/customer/campaign/index.html.erb\nindex 414407f..a6488ee 100644\n--- a/app/views/staff/campaign/index.html.erb\n+++ b/app/views/customer/campaign/index.html.erb\n@@ -118,7 +118,7 @@\n   &lt;div class=\"Section__head\"&gt;\n     &lt;h2 class=\"sectionLabel\"&gt;More Info&lt;/h2&gt;\n   &lt;/div&gt;\n-  &lt;%= form_tag(staff_campaign_submit_path, :method =&gt; :get, class:'Form') do %&gt;\n+  &lt;%= form_tag(customer_campaign_submit_path, :method =&gt; :get, class:'Form') do %&gt;\n       &lt;%= text_field :campaign, :name, placeholder:'NAME',size:40,class: 'Form__input' %&gt;\n       &lt;%= text_field :campaign, :mail, placeholder:'MAIL',size:40,class: 'Form__input' %&gt;\n       &lt;%= button_tag('SUBSCRIBE',class:'button Form__button') %&gt;\ndiff --git a/app/views/customer/top/index.html.erb b/app/views/customer/top/index.html.erb\nindex a57dbd7..ceabb2a 100644\n--- a/app/views/customer/top/index.html.erb\n+++ b/app/views/customer/top/index.html.erb\n@@ -1,2 +1,147 @@\n-&lt;% @title = '\u9867\u5ba2\u30c8\u30c3\u30d7\u30da\u30fc\u30b8' %&gt;\n-&lt;h1&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n\\ No newline at end of file\n+&lt;div class=\"ImageSlide Section\"&gt;\n+  &lt;ul id=\"Slide\" class=\"ImageSlide__main\"&gt;\n+    &lt;li class=\"ImageSlide__item js-slide-item\"&gt;\n+      &lt;a href=\"#\"&gt;\n+        &lt;%= image_tag('top/slide1.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n+      &lt;/a&gt;\n+    &lt;/li&gt;\n+    &lt;li class=\"ImageSlide__item js-slide-item\"&gt;\n+      &lt;a href=\"#\"&gt;\n+        &lt;%= image_tag('top/slide2.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n+      &lt;/a&gt;\n+    &lt;/li&gt;\n+    &lt;li class=\"ImageSlide__item js-slide-item\"&gt;\n+      &lt;a href=\"#\"&gt;\n+        &lt;%= image_tag('top/slide3.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n+      &lt;/a&gt;\n+    &lt;/li&gt;\n+  &lt;/ul&gt;\n+  &lt;div class=\"ImageSlide__sub\"&gt;\n+    &lt;span class=\"ImageSlide__dot js-slide-point\"&gt;image1&lt;/span&gt;\n+    &lt;span class=\"ImageSlide__dot js-slide-point\"&gt;image2&lt;/span&gt;\n+    &lt;span class=\"ImageSlide__dot js-slide-point\"&gt;image3&lt;/span&gt;\n+  &lt;/div&gt;\n+&lt;/div&gt;\n+\n+&lt;section class=\"Section l-column\"&gt;\n+  &lt;div class=\"l-row\"&gt;\n+    &lt;div class=\"EntryPanel l-halfColumn\"&gt;\n+      &lt;div class=\"EntryPanel__sub\"&gt;\n+        &lt;%= image_tag('top/entry1.jpg',class: 'EntryPanel__thumb' , width: '275' , height: '250') %&gt;\n+      &lt;/div&gt;\n+      &lt;div id=\"EntryPanel__main\"&gt;\n+        &lt;h3 class=\"EntryPanel__head\"&gt;\u51ac\u306e\u30b3\u30fc\u30d2\u30fc\u30ae\u30d5\u30c8&lt;/h3&gt;\n+        &lt;div class=\"EntryPanel__body\"&gt;\n+          \u5927\u5207\u306a\u3042\u306e\u65b9\u306b\u3042\u308a\u304c\u3068\u3046\u3092\u5c4a\u3051\u305f\u3044\u3002\u5fc3\u3082\u4f53\u3082\u6e29\u307e\u308b\u7d20\u6575\u306a\u30ae\u30d5\u30c8\u3002\u30d7\u30ec\u30bc\u30f3\u30c8\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u5b9f\u65bd\u4e2d\uff01\n+        &lt;/div&gt;\n+        &lt;div class=\"EntryPanel__foot\"&gt;&lt;%= link_to('READ MORE',customer_campaign_index_url,class:\"button\") %&gt;&lt;/div&gt;\n+      &lt;/div&gt;\n+    &lt;/div&gt;\n+\n+    &lt;div class=\"EntryPanel l-halfColumn\"&gt;\n+      &lt;div class=\"EntryPanel__sub\"&gt;\n+        &lt;%= image_tag('top/entry2.jpg',class: 'EntryPanel__thumb' , width: '275' , height: '250') %&gt;\n+      &lt;/div&gt;\n+      &lt;div id=\"EntryPanel__main\"&gt;\n+        &lt;h3 class=\"EntryPanel__head\"&gt;\u3042\u306e\u4eba\u6c17\u5e97\u30b3\u30e9\u30dc\u30e1\u30cb\u30e5\u30fc&lt;/h3&gt;\n+        &lt;div class=\"EntryPanel__body\"&gt;\n+          \u4eca\u8a71\u984c\u306e\u4eba\u6c17\u5e97\u3001Macaron'n Things\u306e\u30d1\u30f3\u30b1\u30fc\u30ad\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc\u5546\u54c1\u306e\u30bb\u30c3\u30c8\u30e1\u30cb\u30e5\u30fc\u3092\u8ca9\u58f2\u4e2d\u3002\n+        &lt;/div&gt;\n+        &lt;div class=\"EntryPanel__foot\"&gt;&lt;%= link_to('READ MORE',customer_campaign_index_url,class:\"button\") %&gt;&lt;/div&gt;\n+      &lt;/div&gt;\n+    &lt;/div&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section\"&gt;\n+  &lt;h2 class=\"sectionLabel l-column\"&gt;Content&lt;/h2&gt;\n+  &lt;div class=\"Section__item l-row\"&gt;\n+    &lt;div class=\"l-halfTile IndexPage__drinkMenu\"&gt;\n+      &lt;a href=\"#\" class=\"OverlayPanel\"&gt;\n+        &lt;h3 class=\"OverlayPanel__head\"&gt;Drink Menu&lt;/h3&gt;\n+        &lt;p class=\"OverlayPanel__body\"&gt;\n+          \u5b9a\u756a\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u3001\u5b63\u7bc0\u306b\u5408\u308f\u305b\u305f\u5546\u54c1\u307e\u3067\u54c1\u63c3\u3048\u8c4a\u5bcc\u306b\u53d6\u308a\u63c3\u3048\u3066\u304a\u308a\u307e\u3059\u3002\u3042\u306a\u305f\u306e\u304a\u6c17\u306b\u5165\u308a\u3092\u898b\u3064\u3051\u307e\u3057\u3087\u3046\u3002\n+        &lt;/p&gt;\n+      &lt;/a&gt;\n+    &lt;/div&gt;\n+    &lt;div class=\"l-halfTile IndexPage__foodMenu\"&gt;\n+      &lt;a href=\"#\" class=\"OverlayPanel\"&gt;\n+        &lt;h3 class=\"OverlayPanel__head\"&gt;Food Menu&lt;/h3&gt;\n+        &lt;p class=\"OverlayPanel__body\"&gt;\n+          \u30b5\u30f3\u30c9\u30a4\u30c3\u30c1\u3001\u30b1\u30fc\u30ad\u3001\u30d1\u30b9\u30bf\u3001\u5f53\u5e97\u81ea\u6162\u306e\u30b3\u30fc\u30d2\u30fc\u3068\u4e00\u7dd2\u306b\u3069\u3046\u305e\u3002\n+        &lt;/p&gt;\n+      &lt;/a&gt;\n+    &lt;/div&gt;\n+  &lt;/div&gt;\n+  &lt;div class=\"Section__item l-column\"&gt;\n+    &lt;div class=\"l-row\"&gt;\n+      &lt;a class=\"IconPanel l-quaterColumn\"&gt;\n+        &lt;%= fa_icon 'tree', class:'IconPanel__icon' %&gt;\n+        &lt;h3 class=\"IconPanel__head\"&gt;\u3053\u3060\u308f\u308a\u306e\u7a7a\u9593&lt;/h3&gt;\n+        &lt;p class=\"IconPanel__body\"&gt;\n+          \u30e9\u30f3\u30c1\u304b\u3089\u30c7\u30a3\u30ca\u30fc\u307e\u3067\u3044\u3064\u307e\u3067\u3082\u30ea\u30e9\u30c3\u30af\u30b9\u3057\u3066\u4f7f\u3048\u308b\u304f\u3064\u308d\u304e\u7a7a\u9593\u3002\u6905\u5b50\u3084\u58c1\u3001\u7d30\u90e8\u306b\u307e\u3067\u3053\u3060\u308f\u3063\u3066\u3044\u307e\u3059\u3002\n+        &lt;/p&gt;\n+      &lt;/a&gt;\n+      &lt;a class=\"IconPanel l-quaterColumn\"&gt;\n+        &lt;%= fa_icon 'coffee', class:'IconPanel__icon' %&gt;\n+        &lt;h3 class=\"IconPanel__head\"&gt;\u8c46\u3078\u306e\u3053\u3060\u308f\u308a&lt;/h3&gt;\n+        &lt;p class=\"IconPanel__body\"&gt;\n+          \u539f\u7523\u5730\u3001\u8c46\u306e\u7a2e\u985e\u3001\u7119\u714e\u65b9\u6cd5\u306e\u3053\u3060\u308f\u308a\u3092\u7d39\u4ecb\u3059\u308b\n+        &lt;/p&gt;\n+      &lt;/a&gt;\n+      &lt;a class=\"IconPanel l-quaterColumn\"&gt;\n+        &lt;%= fa_icon 'pencil', class:'IconPanel__icon' %&gt;\n+        &lt;h3 class=\"IconPanel__head\"&gt;\u30b3\u30fc\u30d2\u30fc\u30b9\u30af\u30fc\u30eb&lt;/h3&gt;\n+        &lt;p class=\"IconPanel__body\"&gt;\n+          \u30b3\u30fc\u30d2\u30fc\u8c46\u306e\u57fa\u790e\u77e5\u8b58\u304b\u3089\u3001\u7f8e\u5473\u3057\u3044\u30b3\u30fc\u30d2\u30fc\u3092\u6df9\u308c\u308b\u30b3\u30c4\u3092\u304a\u6559\u3048\u3057\u307e\u3059\u3002\n+        &lt;/p&gt;\n+      &lt;/a&gt;\n+      &lt;a class=\"IconPanel l-quaterColumn\"&gt;\n+        &lt;%= fa_icon 'laptop', class:'IconPanel__icon' %&gt;\n+        &lt;h3 class=\"IconPanel__head\"&gt;BLOG&lt;/h3&gt;\n+        &lt;p class=\"IconPanel__body\"&gt;\n+          \u304a\u5e97\u306e\u6700\u65b0\u60c5\u5831\u3092\u3001\u3044\u3061\u65e9\u304f\u304a\u5c4a\u3051\u3002\n+        &lt;/p&gt;\n+      &lt;/a&gt;\n+    &lt;/div&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column\"&gt;\n+  &lt;div class=\"Section__head\"&gt;\n+    &lt;h2 class=\"sectionLabel\"&gt;News&lt;/h2&gt;\n+  &lt;/div&gt;\n+  &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2016-10-12\"&gt;2016.10.12&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u300c\u304b\u307c\u3061\u3083\u30bf\u30eb\u30c8\u300d\u300c\u30d8\u30fc\u30bc\u30eb\u30ca\u30c3\u30c4\u30e9\u30c6\u300d\u300c\u30b9\u30c8\u30ed\u30d9\u30ea\u30fc\u30d6\u30e9\u30a6\u30cb\u30fc\u300d\u300c\u30cf\u30cb\u30fc\u30bd\u30a4\u30e9\u30c6\u300d\u300c\u305f\u3063\u3077\u308a\u30c1\u30fc\u30ba\u3068\u304d\u306e\u3053\u306e\u30d1\u30cb\u30fc\u30cb\u300d\u65b0\u767a\u58f2\u3002&lt;/span&gt;\n+    &lt;/li&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2016-09-01\"&gt;2016.09.01&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u55b6\u696d\u6642\u9593\u5909\u66f4\u306b\u95a2\u3059\u308b\u304a\u77e5\u3089\u305b&lt;/span&gt;\n+    &lt;/li&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2016-08-20\"&gt;2016.08.20&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u938c\u5009\u5e97\u30cb\u30e5\u30fc\u30aa\u30fc\u30d7\u30f3&lt;/span&gt;\n+    &lt;/li&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2016-08-10\"&gt;2016.08.10&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u590f\u5b63\u9650\u5b9a\u3002\u30de\u30f3\u30b4\u30fc\u30b9\u30e0\u30fc\u30b8\u30fc\u767a\u58f2&lt;/span&gt;\n+    &lt;/li&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2016-04-02\"&gt;2016.04.02&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;[\u671f\u9593\u9650\u5b9a]\u3055\u304f\u3089\u62b9\u8336\u30e9\u30c6\u8ca9\u58f2\u958b\u59cb&lt;/span&gt;\n+    &lt;/li&gt;\n+  &lt;/ol&gt;\n+&lt;/section&gt;\n+\n+&lt;div class=\"l-column u-mt60px u-mb100px\"&gt;\n+  &lt;div class=\"l-row\"&gt;\n+    &lt;a href=\"#\" class=\"l-halfColumn\"&gt;\n+      &lt;%= image_tag('top/top_banner_1.jpg', class:'l-fitImg', alt:'Dummy banner') %&gt;\n+    &lt;/a&gt;\n+    &lt;a href=\"#\" class=\"l-halfColumn\"&gt;\n+      &lt;%= image_tag('top/top_banner_2.jpg', class:'l-fitImg', alt:'Dummy banner') %&gt;\n+    &lt;/a&gt;\n+  &lt;/div&gt;\n+&lt;/div&gt;\n\\ No newline at end of file\ndiff --git a/app/views/layouts/admin.html.erb b/app/views/layouts/admin.html.erb\nnew file mode 100644\nindex 0000000..e37a09c\n--- /dev/null\n+++ b/app/views/layouts/admin.html.erb\n@@ -0,0 +1,24 @@\n+&lt;!DOCTYPE html&gt;\n+&lt;html&gt;\n+&lt;head&gt;\n+  &lt;meta charset=\"utf-8\"&gt;\n+  &lt;meta name=\"description\" content=\"\"&gt;\n+  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n+  &lt;title&gt;&lt;%= document_title %&gt;&lt;/title&gt;\n+  &lt;%= csrf_meta_tags %&gt;\n+&lt;/head&gt;\n+\n+&lt;body&gt;\n+&lt;div id=\"wrapper\" class=\"SpMenu__wrapper\"&gt;\n+  &lt;div id=\"overlay\" class=\"SpMenu__overlay\"&gt;&lt;/div&gt;\n+  &lt;%= render 'shared/admin/header' %&gt;\n+  &lt;%= yield %&gt;\n+  &lt;%= render 'shared/admin/footer' %&gt;\n+&lt;/div&gt;\n+&lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n+&lt;%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %&gt;\n+&lt;script&gt;\n+    imageSlide('Slide', 2);\n+&lt;/script&gt;\n+&lt;/body&gt;\n+&lt;/html&gt;\n\\ No newline at end of file\ndiff --git a/app/views/layouts/customer.html.erb b/app/views/layouts/customer.html.erb\nnew file mode 100644\nindex 0000000..76834c5\n--- /dev/null\n+++ b/app/views/layouts/customer.html.erb\n@@ -0,0 +1,24 @@\n+&lt;!DOCTYPE html&gt;\n+&lt;html&gt;\n+&lt;head&gt;\n+  &lt;meta charset=\"utf-8\"&gt;\n+  &lt;meta name=\"description\" content=\"\"&gt;\n+  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n+  &lt;title&gt;&lt;%= document_title %&gt;&lt;/title&gt;\n+  &lt;%= csrf_meta_tags %&gt;\n+&lt;/head&gt;\n+\n+&lt;body&gt;\n+&lt;div id=\"wrapper\" class=\"SpMenu__wrapper\"&gt;\n+  &lt;div id=\"overlay\" class=\"SpMenu__overlay\"&gt;&lt;/div&gt;\n+  &lt;%= render 'shared/customer/header' %&gt;\n+  &lt;%= yield %&gt;\n+  &lt;%= render 'shared/customer/footer' %&gt;\n+&lt;/div&gt;\n+&lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n+&lt;%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %&gt;\n+&lt;script&gt;\n+    imageSlide('Slide', 2);\n+&lt;/script&gt;\n+&lt;/body&gt;\n+&lt;/html&gt;\n\\ No newline at end of file\ndiff --git a/app/views/layouts/staff.html.erb b/app/views/layouts/staff.html.erb\nindex 68b8185..fd979b6 100644\n--- a/app/views/layouts/staff.html.erb\n+++ b/app/views/layouts/staff.html.erb\n@@ -11,9 +11,9 @@\n &lt;body&gt;\n &lt;div id=\"wrapper\" class=\"SpMenu__wrapper\"&gt;\n   &lt;div id=\"overlay\" class=\"SpMenu__overlay\"&gt;&lt;/div&gt;\n-  &lt;%= render 'shared/header' %&gt;\n+  &lt;%= render 'shared/staff/header' %&gt;\n   &lt;%= yield %&gt;\n-  &lt;%= render 'shared/footer' %&gt;\n+  &lt;%= render 'shared/staff/footer' %&gt;\n &lt;/div&gt;\n &lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n &lt;%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %&gt;\ndiff --git a/app/views/shared/admin/_footer.html.erb b/app/views/shared/admin/_footer.html.erb\nnew file mode 100644\nindex 0000000..53fdd69\n--- /dev/null\n+++ b/app/views/shared/admin/_footer.html.erb\n@@ -0,0 +1,15 @@\n+&lt;footer class=\"Footer\"&gt;\n+  &lt;div class=\"l-row l-column\"&gt;\n+    &lt;div class=\"Footer__head\"&gt;\n+      &lt;%= link_to('BAUKIS KAI', staff_root_url, class:'logo') %&gt;\n+      &lt;ul class=\"Menu Menu--sub\"&gt;\n+        &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;&lt;/a&gt;&lt;/li&gt;\n+      &lt;/ul&gt;\n+    &lt;/div&gt;\n+    &lt;div class=\"Footer__body\"&gt;\n+      &lt;p&gt;Powered by BAUKIS KAI &amp;copy; 2014 k2works&lt;/p&gt;\n+      &lt;p&gt;&lt;a href=\"#\"&gt;Legal Notice&lt;/a&gt;&lt;/p&gt;\n+      &lt;p&gt;&lt;a href=\"#\"&gt;Privacy policy&lt;/a&gt;&lt;/p&gt;\n+    &lt;/div&gt;\n+  &lt;/div&gt;\n+&lt;/footer&gt;\n\\ No newline at end of file\ndiff --git a/app/views/shared/admin/_header.html.erb b/app/views/shared/admin/_header.html.erb\nnew file mode 100644\nindex 0000000..7e96b16\n--- /dev/null\n+++ b/app/views/shared/admin/_header.html.erb\n@@ -0,0 +1,13 @@\n+&lt;header class=\"Header l-column\"&gt;\n+  &lt;div id=\"menu-button\" class=\"Header__button\"&gt;\n+    &lt;%= fa_icon 'bars' %&gt;\n+  &lt;/div&gt;\n+  &lt;div class=\"Header__head\"&gt;\n+    &lt;h1 class=\"logo\"&gt;&lt;%= link_to('BAUKIS KAI', staff_root_url, class:'logo') %&gt;&lt;/h1&gt;\n+  &lt;/div&gt;\n+  &lt;nav class=\"Header__body SpMenu\"&gt;\n+    &lt;ul class=\"Menu\"&gt;\n+      &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;&lt;/a&gt;&lt;/li&gt;\n+    &lt;/ul&gt;\n+  &lt;/nav&gt;\n+&lt;/header&gt;\n\\ No newline at end of file\ndiff --git a/app/views/shared/_footer.html.erb b/app/views/shared/customer/_footer.html.erb\nsimilarity index 94%\nrename from app/views/shared/_footer.html.erb\nrename to app/views/shared/customer/_footer.html.erb\nindex 8aa429a..46d3707 100644\n--- a/app/views/shared/_footer.html.erb\n+++ b/app/views/shared/customer/_footer.html.erb\n@@ -6,7 +6,7 @@\n         &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;Services&lt;/a&gt;&lt;/li&gt;\n         &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;Work&lt;/a&gt;&lt;/li&gt;\n         &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;About us&lt;/a&gt;&lt;/li&gt;\n-        &lt;li&gt;&lt;%= link_to('Blog', staff_article_index_url,class:\"Menu__item\") %&gt;&lt;/li&gt;\n+        &lt;li&gt;&lt;%= link_to('Blog', customer_article_index_url,class:\"Menu__item\") %&gt;&lt;/li&gt;\n         &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\n       &lt;/ul&gt;\n     &lt;/div&gt;\ndiff --git a/app/views/shared/_header.html.erb b/app/views/shared/customer/_header.html.erb\nsimilarity index 73%\nrename from app/views/shared/_header.html.erb\nrename to app/views/shared/customer/_header.html.erb\nindex cb460e5..ae88d5d 100644\n--- a/app/views/shared/_header.html.erb\n+++ b/app/views/shared/customer/_header.html.erb\n@@ -3,14 +3,14 @@\n     &lt;%= fa_icon 'bars' %&gt;\n   &lt;/div&gt;\n   &lt;div class=\"Header__head\"&gt;\n-    &lt;h1 class=\"logo\"&gt;&lt;%= link_to('BAUKIS KAI', staff_root_url, class:'logo') %&gt;&lt;/h1&gt;\n+    &lt;h1 class=\"logo\"&gt;&lt;%= link_to('BAUKIS KAI', customer_root_url, class:'logo') %&gt;&lt;/h1&gt;\n   &lt;/div&gt;\n   &lt;nav class=\"Header__body SpMenu\"&gt;\n     &lt;ul class=\"Menu\"&gt;\n       &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Services&lt;/a&gt;&lt;/li&gt;\n       &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Work&lt;/a&gt;&lt;/li&gt;\n       &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;About&lt;/a&gt;&lt;/li&gt;\n-      &lt;li class=\"Menu__item\"&gt;&lt;%= link_to('Blog', staff_article_index_url) %&gt;&lt;/li&gt;\n+      &lt;li class=\"Menu__item\"&gt;&lt;%= link_to('Blog', customer_article_index_url) %&gt;&lt;/li&gt;\n       &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\n     &lt;/ul&gt;\n   &lt;/nav&gt;\ndiff --git a/app/views/shared/staff/_footer.html.erb b/app/views/shared/staff/_footer.html.erb\nnew file mode 100644\nindex 0000000..53fdd69\n--- /dev/null\n+++ b/app/views/shared/staff/_footer.html.erb\n@@ -0,0 +1,15 @@\n+&lt;footer class=\"Footer\"&gt;\n+  &lt;div class=\"l-row l-column\"&gt;\n+    &lt;div class=\"Footer__head\"&gt;\n+      &lt;%= link_to('BAUKIS KAI', staff_root_url, class:'logo') %&gt;\n+      &lt;ul class=\"Menu Menu--sub\"&gt;\n+        &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;&lt;/a&gt;&lt;/li&gt;\n+      &lt;/ul&gt;\n+    &lt;/div&gt;\n+    &lt;div class=\"Footer__body\"&gt;\n+      &lt;p&gt;Powered by BAUKIS KAI &amp;copy; 2014 k2works&lt;/p&gt;\n+      &lt;p&gt;&lt;a href=\"#\"&gt;Legal Notice&lt;/a&gt;&lt;/p&gt;\n+      &lt;p&gt;&lt;a href=\"#\"&gt;Privacy policy&lt;/a&gt;&lt;/p&gt;\n+    &lt;/div&gt;\n+  &lt;/div&gt;\n+&lt;/footer&gt;\n\\ No newline at end of file\ndiff --git a/app/views/shared/staff/_header.html.erb b/app/views/shared/staff/_header.html.erb\nnew file mode 100644\nindex 0000000..7e96b16\n--- /dev/null\n+++ b/app/views/shared/staff/_header.html.erb\n@@ -0,0 +1,13 @@\n+&lt;header class=\"Header l-column\"&gt;\n+  &lt;div id=\"menu-button\" class=\"Header__button\"&gt;\n+    &lt;%= fa_icon 'bars' %&gt;\n+  &lt;/div&gt;\n+  &lt;div class=\"Header__head\"&gt;\n+    &lt;h1 class=\"logo\"&gt;&lt;%= link_to('BAUKIS KAI', staff_root_url, class:'logo') %&gt;&lt;/h1&gt;\n+  &lt;/div&gt;\n+  &lt;nav class=\"Header__body SpMenu\"&gt;\n+    &lt;ul class=\"Menu\"&gt;\n+      &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;&lt;/a&gt;&lt;/li&gt;\n+    &lt;/ul&gt;\n+  &lt;/nav&gt;\n+&lt;/header&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex 1dba71a..e4d87bc 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -1,150 +1,2 @@\n &lt;% @title = '\u8077\u54e1\u30c8\u30c3\u30d7\u30da\u30fc\u30b8' %&gt;\n-&lt;h1&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n-\n-&lt;div class=\"ImageSlide Section\"&gt;\n-  &lt;ul id=\"Slide\" class=\"ImageSlide__main\"&gt;\n-    &lt;li class=\"ImageSlide__item js-slide-item\"&gt;\n-      &lt;a href=\"#\"&gt;\n-        &lt;%= image_tag('top/slide1.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n-      &lt;/a&gt;\n-    &lt;/li&gt;\n-    &lt;li class=\"ImageSlide__item js-slide-item\"&gt;\n-      &lt;a href=\"#\"&gt;\n-        &lt;%= image_tag('top/slide2.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n-      &lt;/a&gt;\n-    &lt;/li&gt;\n-    &lt;li class=\"ImageSlide__item js-slide-item\"&gt;\n-      &lt;a href=\"#\"&gt;\n-        &lt;%= image_tag('top/slide3.jpg', class: 'ImageSlide__image', alt:'about our tea', width:'1180', height:'490') %&gt;\n-      &lt;/a&gt;\n-    &lt;/li&gt;\n-  &lt;/ul&gt;\n-  &lt;div class=\"ImageSlide__sub\"&gt;\n-    &lt;span class=\"ImageSlide__dot js-slide-point\"&gt;image1&lt;/span&gt;\n-    &lt;span class=\"ImageSlide__dot js-slide-point\"&gt;image2&lt;/span&gt;\n-    &lt;span class=\"ImageSlide__dot js-slide-point\"&gt;image3&lt;/span&gt;\n-  &lt;/div&gt;\n-&lt;/div&gt;\n-\n-&lt;section class=\"Section l-column\"&gt;\n-  &lt;div class=\"l-row\"&gt;\n-    &lt;div class=\"EntryPanel l-halfColumn\"&gt;\n-      &lt;div class=\"EntryPanel__sub\"&gt;\n-        &lt;%= image_tag('top/entry1.jpg',class: 'EntryPanel__thumb' , width: '275' , height: '250') %&gt;\n-      &lt;/div&gt;\n-      &lt;div id=\"EntryPanel__main\"&gt;\n-        &lt;h3 class=\"EntryPanel__head\"&gt;\u51ac\u306e\u30b3\u30fc\u30d2\u30fc\u30ae\u30d5\u30c8&lt;/h3&gt;\n-        &lt;div class=\"EntryPanel__body\"&gt;\n-          \u5927\u5207\u306a\u3042\u306e\u65b9\u306b\u3042\u308a\u304c\u3068\u3046\u3092\u5c4a\u3051\u305f\u3044\u3002\u5fc3\u3082\u4f53\u3082\u6e29\u307e\u308b\u7d20\u6575\u306a\u30ae\u30d5\u30c8\u3002\u30d7\u30ec\u30bc\u30f3\u30c8\u30ad\u30e3\u30f3\u30da\u30fc\u30f3\u5b9f\u65bd\u4e2d\uff01\n-        &lt;/div&gt;\n-        &lt;div class=\"EntryPanel__foot\"&gt;&lt;%= link_to('READ MORE',staff_campaign_index_url,class:\"button\") %&gt;&lt;/div&gt;\n-      &lt;/div&gt;\n-    &lt;/div&gt;\n-\n-    &lt;div class=\"EntryPanel l-halfColumn\"&gt;\n-      &lt;div class=\"EntryPanel__sub\"&gt;\n-        &lt;%= image_tag('top/entry2.jpg',class: 'EntryPanel__thumb' , width: '275' , height: '250') %&gt;\n-      &lt;/div&gt;\n-      &lt;div id=\"EntryPanel__main\"&gt;\n-        &lt;h3 class=\"EntryPanel__head\"&gt;\u3042\u306e\u4eba\u6c17\u5e97\u30b3\u30e9\u30dc\u30e1\u30cb\u30e5\u30fc&lt;/h3&gt;\n-        &lt;div class=\"EntryPanel__body\"&gt;\n-          \u4eca\u8a71\u984c\u306e\u4eba\u6c17\u5e97\u3001Macaron'n Things\u306e\u30d1\u30f3\u30b1\u30fc\u30ad\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc\u5546\u54c1\u306e\u30bb\u30c3\u30c8\u30e1\u30cb\u30e5\u30fc\u3092\u8ca9\u58f2\u4e2d\u3002\n-        &lt;/div&gt;\n-        &lt;div class=\"EntryPanel__foot\"&gt;&lt;%= link_to('READ MORE',staff_campaign_index_url,class:\"button\") %&gt;&lt;/div&gt;\n-      &lt;/div&gt;\n-    &lt;/div&gt;\n-  &lt;/div&gt;\n-&lt;/section&gt;\n-\n-&lt;section class=\"Section\"&gt;\n-  &lt;h2 class=\"sectionLabel l-column\"&gt;Content&lt;/h2&gt;\n-  &lt;div class=\"Section__item l-row\"&gt;\n-    &lt;div class=\"l-halfTile IndexPage__drinkMenu\"&gt;\n-      &lt;a href=\"#\" class=\"OverlayPanel\"&gt;\n-        &lt;h3 class=\"OverlayPanel__head\"&gt;Drink Menu&lt;/h3&gt;\n-        &lt;p class=\"OverlayPanel__body\"&gt;\n-          \u5b9a\u756a\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u3001\u5b63\u7bc0\u306b\u5408\u308f\u305b\u305f\u5546\u54c1\u307e\u3067\u54c1\u63c3\u3048\u8c4a\u5bcc\u306b\u53d6\u308a\u63c3\u3048\u3066\u304a\u308a\u307e\u3059\u3002\u3042\u306a\u305f\u306e\u304a\u6c17\u306b\u5165\u308a\u3092\u898b\u3064\u3051\u307e\u3057\u3087\u3046\u3002\n-        &lt;/p&gt;\n-      &lt;/a&gt;\n-    &lt;/div&gt;\n-    &lt;div class=\"l-halfTile IndexPage__foodMenu\"&gt;\n-      &lt;a href=\"#\" class=\"OverlayPanel\"&gt;\n-        &lt;h3 class=\"OverlayPanel__head\"&gt;Food Menu&lt;/h3&gt;\n-        &lt;p class=\"OverlayPanel__body\"&gt;\n-          \u30b5\u30f3\u30c9\u30a4\u30c3\u30c1\u3001\u30b1\u30fc\u30ad\u3001\u30d1\u30b9\u30bf\u3001\u5f53\u5e97\u81ea\u6162\u306e\u30b3\u30fc\u30d2\u30fc\u3068\u4e00\u7dd2\u306b\u3069\u3046\u305e\u3002\n-        &lt;/p&gt;\n-      &lt;/a&gt;\n-    &lt;/div&gt;\n-  &lt;/div&gt;\n-  &lt;div class=\"Section__item l-column\"&gt;\n-    &lt;div class=\"l-row\"&gt;\n-      &lt;a class=\"IconPanel l-quaterColumn\"&gt;\n-        &lt;%= fa_icon 'tree', class:'IconPanel__icon' %&gt;\n-        &lt;h3 class=\"IconPanel__head\"&gt;\u3053\u3060\u308f\u308a\u306e\u7a7a\u9593&lt;/h3&gt;\n-        &lt;p class=\"IconPanel__body\"&gt;\n-          \u30e9\u30f3\u30c1\u304b\u3089\u30c7\u30a3\u30ca\u30fc\u307e\u3067\u3044\u3064\u307e\u3067\u3082\u30ea\u30e9\u30c3\u30af\u30b9\u3057\u3066\u4f7f\u3048\u308b\u304f\u3064\u308d\u304e\u7a7a\u9593\u3002\u6905\u5b50\u3084\u58c1\u3001\u7d30\u90e8\u306b\u307e\u3067\u3053\u3060\u308f\u3063\u3066\u3044\u307e\u3059\u3002\n-        &lt;/p&gt;\n-      &lt;/a&gt;\n-      &lt;a class=\"IconPanel l-quaterColumn\"&gt;\n-        &lt;%= fa_icon 'coffee', class:'IconPanel__icon' %&gt;\n-        &lt;h3 class=\"IconPanel__head\"&gt;\u8c46\u3078\u306e\u3053\u3060\u308f\u308a&lt;/h3&gt;\n-        &lt;p class=\"IconPanel__body\"&gt;\n-          \u539f\u7523\u5730\u3001\u8c46\u306e\u7a2e\u985e\u3001\u7119\u714e\u65b9\u6cd5\u306e\u3053\u3060\u308f\u308a\u3092\u7d39\u4ecb\u3059\u308b\n-        &lt;/p&gt;\n-      &lt;/a&gt;\n-      &lt;a class=\"IconPanel l-quaterColumn\"&gt;\n-        &lt;%= fa_icon 'pencil', class:'IconPanel__icon' %&gt;\n-        &lt;h3 class=\"IconPanel__head\"&gt;\u30b3\u30fc\u30d2\u30fc\u30b9\u30af\u30fc\u30eb&lt;/h3&gt;\n-        &lt;p class=\"IconPanel__body\"&gt;\n-          \u30b3\u30fc\u30d2\u30fc\u8c46\u306e\u57fa\u790e\u77e5\u8b58\u304b\u3089\u3001\u7f8e\u5473\u3057\u3044\u30b3\u30fc\u30d2\u30fc\u3092\u6df9\u308c\u308b\u30b3\u30c4\u3092\u304a\u6559\u3048\u3057\u307e\u3059\u3002\n-        &lt;/p&gt;\n-      &lt;/a&gt;\n-      &lt;a class=\"IconPanel l-quaterColumn\"&gt;\n-        &lt;%= fa_icon 'laptop', class:'IconPanel__icon' %&gt;\n-        &lt;h3 class=\"IconPanel__head\"&gt;BLOG&lt;/h3&gt;\n-        &lt;p class=\"IconPanel__body\"&gt;\n-          \u304a\u5e97\u306e\u6700\u65b0\u60c5\u5831\u3092\u3001\u3044\u3061\u65e9\u304f\u304a\u5c4a\u3051\u3002\n-        &lt;/p&gt;\n-      &lt;/a&gt;\n-    &lt;/div&gt;\n-  &lt;/div&gt;\n-&lt;/section&gt;\n-\n-&lt;section class=\"Section l-column\"&gt;\n-  &lt;div class=\"Section__head\"&gt;\n-    &lt;h2 class=\"sectionLabel\"&gt;News&lt;/h2&gt;\n-  &lt;/div&gt;\n-  &lt;ol class=\"NewsList\"&gt;\n-    &lt;li class=\"NewsList__item\"&gt;\n-      &lt;time class=\"NewsList__head\" datatime=\"2016-10-12\"&gt;2016.10.12&lt;/time&gt;\n-      &lt;span class=\"NewsList__body\"&gt;\u300c\u304b\u307c\u3061\u3083\u30bf\u30eb\u30c8\u300d\u300c\u30d8\u30fc\u30bc\u30eb\u30ca\u30c3\u30c4\u30e9\u30c6\u300d\u300c\u30b9\u30c8\u30ed\u30d9\u30ea\u30fc\u30d6\u30e9\u30a6\u30cb\u30fc\u300d\u300c\u30cf\u30cb\u30fc\u30bd\u30a4\u30e9\u30c6\u300d\u300c\u305f\u3063\u3077\u308a\u30c1\u30fc\u30ba\u3068\u304d\u306e\u3053\u306e\u30d1\u30cb\u30fc\u30cb\u300d\u65b0\u767a\u58f2\u3002&lt;/span&gt;\n-    &lt;/li&gt;\n-    &lt;li class=\"NewsList__item\"&gt;\n-      &lt;time class=\"NewsList__head\" datatime=\"2016-09-01\"&gt;2016.09.01&lt;/time&gt;\n-      &lt;span class=\"NewsList__body\"&gt;\u55b6\u696d\u6642\u9593\u5909\u66f4\u306b\u95a2\u3059\u308b\u304a\u77e5\u3089\u305b&lt;/span&gt;\n-    &lt;/li&gt;\n-    &lt;li class=\"NewsList__item\"&gt;\n-      &lt;time class=\"NewsList__head\" datatime=\"2016-08-20\"&gt;2016.08.20&lt;/time&gt;\n-      &lt;span class=\"NewsList__body\"&gt;\u938c\u5009\u5e97\u30cb\u30e5\u30fc\u30aa\u30fc\u30d7\u30f3&lt;/span&gt;\n-    &lt;/li&gt;\n-    &lt;li class=\"NewsList__item\"&gt;\n-      &lt;time class=\"NewsList__head\" datatime=\"2016-08-10\"&gt;2016.08.10&lt;/time&gt;\n-      &lt;span class=\"NewsList__body\"&gt;\u590f\u5b63\u9650\u5b9a\u3002\u30de\u30f3\u30b4\u30fc\u30b9\u30e0\u30fc\u30b8\u30fc\u767a\u58f2&lt;/span&gt;\n-    &lt;/li&gt;\n-    &lt;li class=\"NewsList__item\"&gt;\n-      &lt;time class=\"NewsList__head\" datatime=\"2016-04-02\"&gt;2016.04.02&lt;/time&gt;\n-      &lt;span class=\"NewsList__body\"&gt;[\u671f\u9593\u9650\u5b9a]\u3055\u304f\u3089\u62b9\u8336\u30e9\u30c6\u8ca9\u58f2\u958b\u59cb&lt;/span&gt;\n-    &lt;/li&gt;\n-  &lt;/ol&gt;\n-&lt;/section&gt;\n-\n-&lt;div class=\"l-column u-mt60px u-mb100px\"&gt;\n-  &lt;div class=\"l-row\"&gt;\n-    &lt;a href=\"#\" class=\"l-halfColumn\"&gt;\n-      &lt;%= image_tag('top/top_banner_1.jpg', class:'l-fitImg', alt:'Dummy banner') %&gt;\n-    &lt;/a&gt;\n-    &lt;a href=\"#\" class=\"l-halfColumn\"&gt;\n-      &lt;%= image_tag('top/top_banner_2.jpg', class:'l-fitImg', alt:'Dummy banner') %&gt;\n-    &lt;/a&gt;\n-  &lt;/div&gt;\n-&lt;/div&gt;\n\\ No newline at end of file\n+&lt;h1&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n\\ No newline at end of file\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 29cbde1..504e1e9 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -1,9 +1,6 @@\n Rails.application.routes.draw do\n   namespace :staff do\n     root 'top#index'\n-    get 'article/index'\n-    get 'campaign/index'\n-    get 'campaign_submit', to: 'campaign#submit'\n   end\n\n   namespace :admin do\n@@ -12,5 +9,8 @@ Rails.application.routes.draw do\n\n   namespace :customer do\n     root 'top#index'\n+    get 'article/index'\n+    get 'campaign/index'\n+    get 'campaign_submit', to: 'campaign#submit'\n   end\n end\n</code></pre>"},{"location":"journal/20170117/#_26","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170118/","title":"\u4f5c\u696d\u5c65\u6b74 2017-01-18","text":""},{"location":"journal/20170118/#_1","title":"\u6982\u8981","text":"<p>2017-01-18\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\u6a5f\u80fd\u306e\u5b9f\u88c5\u306b\u95a2\u3059\u308b\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002\u4e3b\u306b\u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u6a5f\u80fd\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3068\u30ea\u30f3\u30af\u306e\u8a2d\u7f6e\u3092\u884c\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170118/#_2","title":"\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\u6a5f\u80fd\u306e\u69cb\u6210\u56f3","text":""},{"location":"journal/20170118/#_3","title":"\u4f5c\u696d\u5185\u5bb9","text":""},{"location":"journal/20170118/#_4","title":"\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\u6a5f\u80fd\u306e\u5b9f\u88c5","text":"<p>\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\u6a5f\u80fd\u3092\u5b9f\u88c5\u3059\u308b\u305f\u3081\u3001\u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u6a5f\u80fd\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3068\u30ea\u30f3\u30af\u306e\u8a2d\u7f6e\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u8077\u54e1\u304c\u30b7\u30b9\u30c6\u30e0\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u30a2\u30af\u30bb\u30b9\u5236\u9650\u306e\u3042\u308b\u6a5f\u80fd\u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"journal/20170118/#_5","title":"\u5909\u66f4\u70b9\u306e\u6982\u8981","text":"<ol> <li>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u8a2d\u5b9a</li> <li>\u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u7528\u306e\u30eb\u30fc\u30c8\u3092\u8ffd\u52a0</li> <li> <p>RESTful\u306a\u30ea\u30bd\u30fc\u30b9\u8a2d\u8a08\u306b\u57fa\u3065\u3044\u305f\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0</p> </li> <li> <p>\u30d8\u30c3\u30c0\u30fc\u3078\u306e\u30ea\u30f3\u30af\u8a2d\u7f6e</p> </li> <li>\u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u30ea\u30f3\u30af\u3092\u30d8\u30c3\u30c0\u30fc\u306b\u8ffd\u52a0</li> <li> <p>\u73fe\u5728\u306e\u30ed\u30b0\u30a4\u30f3\u72b6\u614b\u306b\u5fdc\u3058\u3066\u8868\u793a\u3092\u5207\u308a\u66ff\u3048</p> </li> <li> <p>\u30bb\u30c3\u30b7\u30e7\u30f3\u7ba1\u7406</p> </li> <li><code>current_staff_member</code>\u30e1\u30bd\u30c3\u30c9\u306e\u5b9f\u88c5</li> <li>\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u305f\u30e6\u30fc\u30b6\u30fc\u72b6\u614b\u306e\u7ba1\u7406</li> </ol>"},{"location":"journal/20170118/#_6","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li><code>current_staff_member</code>\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u72b6\u614b\u3092\u78ba\u8a8d</li> <li>\u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u30ea\u30f3\u30af\u306e\u6761\u4ef6\u5206\u5c90\u8868\u793a</li> <li>CSS\u30b9\u30bf\u30a4\u30eb\u306e\u8abf\u6574\u306b\u3088\u308b\u30d8\u30c3\u30c0\u30fc\u30c7\u30b6\u30a4\u30f3\u306e\u6539\u5584</li> </ul>"},{"location":"journal/20170118/#04ebccc","title":"\u30b3\u30df\u30c3\u30c8: 04ebccc","text":""},{"location":"journal/20170118/#_7","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ea\u30f3\u30af\u306e\u8a2d\u7f6e #3\n</code></pre>"},{"location":"journal/20170118/#_8","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/stylesheets/pages/_staff.scss</li> <li>M app/views/shared/staff/_header.html.erb</li> </ul>"},{"location":"journal/20170118/#_9","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 04ebccc1bbd9416ee79f01140afcc4d5593d20cd\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 18 19:08:47 2017 +0900\n\n    \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e #3\n\ndiff --git a/README.md b/README.md\nindex 4e8f3cb..50acaf7 100644\n--- a/README.md\n+++ b/README.md\n@@ -347,6 +347,7 @@ git push heroku master\n + \u30bb\u30c3\u30b7\u30e7\u30f3\u3068\u306f\n + current_staff_member\u30e1\u30bd\u30c3\u30c9\u306e\u5b9a\u7fa9\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u6c7a\u5b9a\n++ \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e\n\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\ndiff --git a/app/assets/stylesheets/pages/_staff.scss b/app/assets/stylesheets/pages/_staff.scss\nindex d28a135..63ec54c 100644\n--- a/app/assets/stylesheets/pages/_staff.scss\n+++ b/app/assets/stylesheets/pages/_staff.scss\n@@ -11,6 +11,19 @@ html, body {\n   height: 100%;\n }\n\n+.Header__head {\n+  text-align: left;\n+}\n+\n+.logo--staff {\n+  color: $color-white;\n+}\n+\n+.login--staff {\n+  float: right;\n+  color: $very_light_gray;\n+}\n+\n .Staff {\n   &amp;__wrapper {\n     position: relative;\n@@ -33,6 +46,7 @@ html, body {\n   &amp;__header {\n     padding: $moderate;\n     background-color: $dark_cyan;\n+    text-align: left;\n     color: $very_light_gray;\n     span.logo-mark {\n       font-weight: bold;\n@@ -51,8 +65,4 @@ html, body {\n       margin: 0;\n     }\n   }\n-}\n-\n-.logo--staff {\n-  color: $color-white;\n }\n\\ No newline at end of file\ndiff --git a/app/views/shared/staff/_header.html.erb b/app/views/shared/staff/_header.html.erb\nindex 861f549..e28bfeb 100644\n--- a/app/views/shared/staff/_header.html.erb\n+++ b/app/views/shared/staff/_header.html.erb\n@@ -10,4 +10,10 @@\n       &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;&lt;/a&gt;&lt;/li&gt;\n     &lt;/ul&gt;\n   &lt;/nav&gt;\n+  &lt;%= if current_staff_member\n+        link_to '\u30ed\u30b0\u30a2\u30a6\u30c8', :staff_session, method:delete, class: 'login--staff'\n+      else\n+        link_to '\u30ed\u30b0\u30a4\u30f3', :staff_login, class: 'login--staff'\n+      end\n+    %&gt;\n &lt;/header&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170118/#21428ac","title":"\u30b3\u30df\u30c3\u30c8: 21428ac","text":""},{"location":"journal/20170118/#_10","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u6c7a\u5b9a #3\n</code></pre>"},{"location":"journal/20170118/#_11","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170118/#_12","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 21428ac4c63d3ee3c35dcec6cf04ee6b5058c44b\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 18 18:52:58 2017 +0900\n\n    \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u6c7a\u5b9a #3\n\ndiff --git a/README.md b/README.md\nindex 7f19c0c..4e8f3cb 100644\n--- a/README.md\n+++ b/README.md\n@@ -346,6 +346,7 @@ git push heroku master\n #### \u30bb\u30c3\u30b7\u30e7\u30f3\n + \u30bb\u30c3\u30b7\u30e7\u30f3\u3068\u306f\n + current_staff_member\u30e1\u30bd\u30c3\u30c9\u306e\u5b9a\u7fa9\n++ \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u6c7a\u5b9a\n\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\ndiff --git a/config/routes.rb b/config/routes.rb\nindex e26d28b..17026a1 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -1,8 +1,28 @@\n+# == Route Map\n+#\n+#                   Prefix Verb   URI Pattern                         Controller#Action\n+#     errors_routing_error GET    /errors/routing_error(.:format)     errors#routing_error\n+#               staff_root GET    /staff(.:format)                    staff/top#index\n+#              staff_login GET    /staff/login(.:format)              staff/sessions#new\n+#            staff_session POST   /staff/session(.:format)            staff/sessions#create\n+#                          DELETE /staff/session(.:format)            staff/sessions#destroy\n+#               admin_root GET    /admin(.:format)                    admin/top#index\n+#            customer_root GET    /customer(.:format)                 customer/top#index\n+#   customer_article_index GET    /customer/article/index(.:format)   customer/article#index\n+#  customer_campaign_index GET    /customer/campaign/index(.:format)  customer/campaign#index\n+# customer_campaign_submit GET    /customer/campaign_submit(.:format) customer/campaign#submit\n+#                     root GET    /                                   errors#routing_error\n+#                          GET    /*anything(.:format)                errors#routing_error\n+#\n+\n Rails.application.routes.draw do\n   get 'errors/routing_error'\n\n   namespace :staff do\n-    root 'top#index'\n+    root   'top#index'\n+    get    'login'   =&gt; 'sessions#new', as: :login\n+    post   'session' =&gt; 'sessions#create', as: :session\n+    delete 'session' =&gt; 'sessions#destroy'\n   end\n\n   namespace :admin do\n</code></pre>"},{"location":"journal/20170118/#c673afe","title":"\u30b3\u30df\u30c3\u30c8: c673afe","text":""},{"location":"journal/20170118/#_13","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>current_staff_member\u30e1\u30bd\u30c3\u30c9\u306e\u5b9a\u7fa9 #3\n</code></pre>"},{"location":"journal/20170118/#_14","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/controllers/staff/base.rb</li> <li>M app/controllers/staff/top_controller.rb</li> </ul>"},{"location":"journal/20170118/#_15","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c673afe22c1a10f3f6bd12ee9fe9666b10c9b479\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 18 18:48:46 2017 +0900\n\n    current_staff_member\u30e1\u30bd\u30c3\u30c9\u306e\u5b9a\u7fa9 #3\n\ndiff --git a/README.md b/README.md\nindex f703916..7f19c0c 100644\n--- a/README.md\n+++ b/README.md\n@@ -345,6 +345,7 @@ git push heroku master\n\n #### \u30bb\u30c3\u30b7\u30e7\u30f3\n + \u30bb\u30c3\u30b7\u30e7\u30f3\u3068\u306f\n++ current_staff_member\u30e1\u30bd\u30c3\u30c9\u306e\u5b9a\u7fa9\n\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\ndiff --git a/app/controllers/staff/base.rb b/app/controllers/staff/base.rb\nnew file mode 100644\nindex 0000000..ecfda96\n--- /dev/null\n+++ b/app/controllers/staff/base.rb\n@@ -0,0 +1,11 @@\n+class Staff::Base &lt; ApplicationController\n+  private\n+  def current_staff_member\n+    if session[:staff_member_id]\n+      @current_staff_member ||=\n+          StaffMember.find_by(id: session[:staff_member_id])\n+    end\n+  end\n+\n+  helper_method :current_staff_member\n+end\n\\ No newline at end of file\ndiff --git a/app/controllers/staff/top_controller.rb b/app/controllers/staff/top_controller.rb\nindex 290f42f..6645b22 100644\n--- a/app/controllers/staff/top_controller.rb\n+++ b/app/controllers/staff/top_controller.rb\n@@ -1,4 +1,4 @@\n-class Staff::TopController &lt; ApplicationController\n+class Staff::TopController &lt; Staff::Base\n   def index\n     render action: 'index'\n   end\n</code></pre>"},{"location":"journal/20170118/#_16","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170118/#7585fb2","title":"\u30b3\u30df\u30c3\u30c8: 7585fb2","text":""},{"location":"journal/20170118/#_17","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30bb\u30c3\u30b7\u30e7\u30f3\u3068\u306f #3\n</code></pre>"},{"location":"journal/20170118/#_18","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170118/#_19","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 7585fb21a6edc2ab1610e6f53476eb67ec0d1fe3\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 18 18:43:17 2017 +0900\n\n    \u30bb\u30c3\u30b7\u30e7\u30f3\u3068\u306f #3\n\ndiff --git a/README.md b/README.md\nindex de625b1..f703916 100644\n--- a/README.md\n+++ b/README.md\n@@ -344,6 +344,7 @@ git push heroku master\n + \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u6295\u5165\n\n #### \u30bb\u30c3\u30b7\u30e7\u30f3\n++ \u30bb\u30c3\u30b7\u30e7\u30f3\u3068\u306f\n\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n</code></pre>"},{"location":"journal/20170118/#0d08431","title":"\u30b3\u30df\u30c3\u30c8: 0d08431","text":""},{"location":"journal/20170118/#_20","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u6295\u5165 #3\n</code></pre>"},{"location":"journal/20170118/#_21","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A db/seed/development/staff_members.rb</li> <li>M db/seeds.rb</li> </ul>"},{"location":"journal/20170118/#_22","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 0d084315300d9334ffd55d2e87fe570f89690630\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 18 18:39:32 2017 +0900\n\n    \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u6295\u5165 #3\n\ndiff --git a/README.md b/README.md\nindex f6896d0..de625b1 100644\n--- a/README.md\n+++ b/README.md\n@@ -341,6 +341,7 @@ git push heroku master\n + \u30e2\u30c7\u30eb\u306e\u57fa\u790e\u77e5\u8b58\n + \u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n + \u30cf\u30c3\u30b7\u30e5\u95a2\u6570\n++ \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u6295\u5165\n\n #### \u30bb\u30c3\u30b7\u30e7\u30f3\n\ndiff --git a/db/seed/development/staff_members.rb b/db/seed/development/staff_members.rb\nnew file mode 100644\nindex 0000000..7156a40\n--- /dev/null\n+++ b/db/seed/development/staff_members.rb\n@@ -0,0 +1,9 @@\n+StaffMember.create(\n+               email: 'taro@example.com',\n+               family_name: '\u5c71\u7530',\n+               given_name: '\u592a\u90ce',\n+               family_name_kana: '\u30e4\u30de\u30c0',\n+               given_name_kana: '\u30bf\u30ed\u30a6',\n+               password: 'password',\n+               start_date: Date.today\n+)\n\\ No newline at end of file\ndiff --git a/db/seeds.rb b/db/seeds.rb\nindex 1beea2a..3549c1d 100644\n--- a/db/seeds.rb\n+++ b/db/seeds.rb\n@@ -1,7 +1,16 @@\n # This file should contain all the record creation needed to seed the database with its default values.\n-# The data can then be loaded with the rails db:seed command (or created alongside the database with db:setup).\n+# The data can then be loaded with the rails db:seed command (or created alongsidtse the database with db:setup).\n #\n # Examples:\n #\n+\n #   movies = Movie.create([{ name: 'Star Wars' }, { name: 'Lord of the Rings' }])\n #   Character.create(name: 'Luke', movie: movies.first)\n+table_names = %w(staff_members)\n+table_names.each do |table_name|\n+  path = Rails.root.join('db','seed',Rails.env, \"#{table_name}.rb\")\n+  if File.exist?(path)\n+    puts \"Creating #{table_name}....\"\n+    require(path)\n+  end\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170118/#aab3d61","title":"\u30b3\u30df\u30c3\u30c8: aab3d61","text":""},{"location":"journal/20170118/#_23","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30cf\u30c3\u30b7\u30e5\u95a2\u6570 #3\n</code></pre>"},{"location":"journal/20170118/#_24","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .idea/.rakeTasks</li> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>M README.md</li> <li>M app/models/staff_member.rb</li> <li>M baukis-kai.iml</li> <li>M spec/models/staff_member_spec.rb</li> </ul>"},{"location":"journal/20170118/#_25","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit aab3d61d1eff766cfa50cc2a5e76901392dc4e5e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 18 18:09:49 2017 +0900\n\n    \u30cf\u30c3\u30b7\u30e5\u95a2\u6570 #3\n\ndiff --git a/.idea/.rakeTasks b/.idea/.rakeTasks\nindex ef72890..9cf55a4 100644\n--- a/.idea/.rakeTasks\n+++ b/.idea/.rakeTasks\n@@ -4,4 +4,4 @@ You are allowed to:\n 1. Remove rake task\n 2. Add existing rake tasks\n To add existing rake tasks automatically delete this file and reload the project.\n---&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rake\"&gt;&lt;RakeTask description=\"List versions of all Rails frameworks and the environment\" fullCmd=\"about\" taksId=\"about\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"app\"&gt;&lt;RakeTask description=\"Applies the template supplied by LOCATION=(/path/to/template) or URL\" fullCmd=\"app:template\" taksId=\"template\" /&gt;&lt;RakeTask description=\"Update configs and some other initially generated files (or use just update:configs or update:bin)\" fullCmd=\"app:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:configs\" taksId=\"configs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:upgrade_guide_info\" taksId=\"upgrade_guide_info\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"assets\"&gt;&lt;RakeTask description=\"Remove old compiled assets\" fullCmd=\"assets:clean[keep]\" taksId=\"clean[keep]\" /&gt;&lt;RakeTask description=\"Remove compiled assets\" fullCmd=\"assets:clobber\" taksId=\"clobber\" /&gt;&lt;RakeTask description=\"Load asset compile environment\" fullCmd=\"assets:environment\" taksId=\"environment\" /&gt;&lt;RakeTask description=\"Compile all the assets named in config.assets.precompile\" fullCmd=\"assets:precompile\" taksId=\"precompile\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"assets:clean\" taksId=\"clean\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache_digests\"&gt;&lt;RakeTask description=\"Lookup first-level dependencies for TEMPLATE (like messages/show or comments/_comment.html)\" fullCmd=\"cache_digests:dependencies\" taksId=\"dependencies\" /&gt;&lt;RakeTask description=\"Lookup nested dependencies for TEMPLATE (like messages/show or comments/_comment.html)\" fullCmd=\"cache_digests:nested_dependencies\" taksId=\"nested_dependencies\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"db\"&gt;&lt;RakeTask description=\"Creates the database from DATABASE_URL or config/database.yml for the current RAILS_ENV (use db:create:all to create all databases in the config). Without RAILS_ENV or when RAILS_ENV is development, it defaults to creating the development and test databases\" fullCmd=\"db:create\" taksId=\"create\" /&gt;&lt;RakeTask description=\"Drops the database from DATABASE_URL or config/database.yml for the current RAILS_ENV (use db:drop:all to drop all databases in the config). Without RAILS_ENV or when RAILS_ENV is development, it defaults to dropping the development and test databases\" fullCmd=\"db:drop\" taksId=\"drop\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"environment\"&gt;&lt;RakeTask description=\"Set the environment value for the database\" fullCmd=\"db:environment:set\" taksId=\"set\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"fixtures\"&gt;&lt;RakeTask description=\"Loads fixtures into the current environment's database\" fullCmd=\"db:fixtures:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:fixtures:identify\" taksId=\"identify\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Migrate the database (options: VERSION=x, VERBOSE=false, SCOPE=blog)\" fullCmd=\"db:migrate\" taksId=\"migrate\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"migrate\"&gt;&lt;RakeTask description=\"Display status of migrations\" fullCmd=\"db:migrate:status\" taksId=\"status\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:down\" taksId=\"down\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:redo\" taksId=\"redo\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:reset\" taksId=\"reset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:up\" taksId=\"up\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Rolls the schema back to the previous version (specify steps w/ STEP=n)\" fullCmd=\"db:rollback\" taksId=\"rollback\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"schema\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"Clears a db/schema_cache.dump file\" fullCmd=\"db:schema:cache:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"Creates a db/schema_cache.dump file\" fullCmd=\"db:schema:cache:dump\" taksId=\"dump\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Creates a db/schema.rb file that is portable against any DB supported by Active Record\" fullCmd=\"db:schema:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"Loads a schema.rb file into the database\" fullCmd=\"db:schema:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:schema:load_if_ruby\" taksId=\"load_if_ruby\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Loads the seed data from db/seeds.rb\" fullCmd=\"db:seed\" taksId=\"seed\" /&gt;&lt;RakeTask description=\"Creates the database, loads the schema, and initializes with the seed data (use db:reset to also drop the database first)\" fullCmd=\"db:setup\" taksId=\"setup\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"structure\"&gt;&lt;RakeTask description=\"Dumps the database structure to db/structure.sql\" fullCmd=\"db:structure:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"Recreates the databases from the structure.sql file\" fullCmd=\"db:structure:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:structure:load_if_sql\" taksId=\"load_if_sql\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Retrieves the current schema version number\" fullCmd=\"db:version\" taksId=\"version\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:_dump\" taksId=\"_dump\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:abort_if_pending_migrations\" taksId=\"abort_if_pending_migrations\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:charset\" taksId=\"charset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:check_protected_environments\" taksId=\"check_protected_environments\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:collation\" taksId=\"collation\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"create\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:create:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"drop\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:_unsafe\" taksId=\"_unsafe\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:forward\" taksId=\"forward\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:load_config\" taksId=\"load_config\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge\" taksId=\"purge\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"purge\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:reset\" taksId=\"reset\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone\" taksId=\"clone\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_schema\" taksId=\"clone_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_structure\" taksId=\"clone_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:deprecated\" taksId=\"deprecated\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_schema\" taksId=\"load_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_structure\" taksId=\"load_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:purge\" taksId=\"purge\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"dev\"&gt;&lt;RakeTask description=\"Toggle development mode caching on/off\" fullCmd=\"dev:cache\" taksId=\"cache\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Generate an Entity-Relationship Diagram based on your models\" fullCmd=\"erd\" taksId=\"erd\" /&gt;&lt;RakeTask description=\"Print out all defined initializers in the order they are invoked by Rails\" fullCmd=\"initializers\" taksId=\"initializers\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"log\"&gt;&lt;RakeTask description=\"Truncates all/specified *.log files in log/ to zero bytes (specify which logs with LOGS=test,development)\" fullCmd=\"log:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Prints out your Rack middleware stack\" fullCmd=\"middleware\" taksId=\"middleware\" /&gt;&lt;RakeTask description=\"Enumerate all annotations (use notes:optimize, :fixme, :todo for focus)\" fullCmd=\"notes\" taksId=\"notes\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"notes\"&gt;&lt;RakeTask description=\"Enumerate a custom annotation, specify with ANNOTATION=CUSTOM\" fullCmd=\"notes:custom\" taksId=\"custom\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:fixme\" taksId=\"fixme\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:optimize\" taksId=\"optimize\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:todo\" taksId=\"todo\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Restart app by touching tmp/restart.txt\" fullCmd=\"restart\" taksId=\"restart\" /&gt;&lt;RakeTask description=\"Print out all defined routes in match order, with names\" fullCmd=\"routes\" taksId=\"routes\" /&gt;&lt;RakeTask description=\"Generate a cryptographically secure secret key (this is typically used to generate a secret for cookie sessions)\" fullCmd=\"secret\" taksId=\"secret\" /&gt;&lt;RakeTask description=\"Run all specs in spec directory (excluding plugin specs)\" fullCmd=\"spec\" taksId=\"spec\" /&gt;&lt;RakeTask description=\"Report code statistics (KLOCs, etc) from the application or engine\" fullCmd=\"stats\" taksId=\"stats\" /&gt;&lt;RakeTask description=\"Runs all tests in test folder\" fullCmd=\"test\" taksId=\"test\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"Run tests quickly, but also reset db\" fullCmd=\"test:db\" taksId=\"db\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:controllers\" taksId=\"controllers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:functionals\" taksId=\"functionals\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:generators\" taksId=\"generators\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:helpers\" taksId=\"helpers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:integration\" taksId=\"integration\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:jobs\" taksId=\"jobs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:mailers\" taksId=\"mailers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:models\" taksId=\"models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:run\" taksId=\"run\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:units\" taksId=\"units\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"time\"&gt;&lt;RakeTask description=\"List all time zones, list by two-letter country code (`rails time:zones[US]`), or list by UTC offset (`rails time:zones[-8]`)\" fullCmd=\"time:zones[country_or_offset]\" taksId=\"zones[country_or_offset]\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones\" taksId=\"zones\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"zones\"&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:all\" taksId=\"all\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:local\" taksId=\"local\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:us\" taksId=\"us\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"tmp\"&gt;&lt;RakeTask description=\"Clear cache and socket files from tmp/ (narrow w/ tmp:cache:clear, tmp:sockets:clear)\" fullCmd=\"tmp:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"Creates tmp directories for cache, sockets, and pids\" fullCmd=\"tmp:create\" taksId=\"create\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:cache:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"pids\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:pids:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"sockets\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:sockets:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"default\" taksId=\"default\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"environment\" taksId=\"environment\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"erd\"&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:generate\" taksId=\"generate\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:load_models\" taksId=\"load_models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:options\" taksId=\"options\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rails\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:template\" taksId=\"template\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:configs\" taksId=\"configs\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"railties\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"install\"&gt;&lt;RakeTask description=\"\" fullCmd=\"railties:install:migrations\" taksId=\"migrations\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"spec\"&gt;&lt;RakeTask description=\"\" fullCmd=\"spec:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"spec:statsetup\" taksId=\"statsetup\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp\" taksId=\"tmp\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache\" taksId=\"tmp/cache\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache/assets\" taksId=\"tmp/cache/assets\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/pids\" taksId=\"tmp/pids\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/sockets\" taksId=\"tmp/sockets\" /&gt;&lt;/RakeGroup&gt;&lt;/Settings&gt;\n+--&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rake\"&gt;&lt;RakeTask description=\"List versions of all Rails frameworks and the environment\" fullCmd=\"about\" taksId=\"about\" /&gt;&lt;RakeTask description=\"Add schema information (as comments) to model and fixture files\" fullCmd=\"annotate_models\" taksId=\"annotate_models\" /&gt;&lt;RakeTask description=\"Adds the route map to routes.rb\" fullCmd=\"annotate_routes\" taksId=\"annotate_routes\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"app\"&gt;&lt;RakeTask description=\"Applies the template supplied by LOCATION=(/path/to/template) or URL\" fullCmd=\"app:template\" taksId=\"template\" /&gt;&lt;RakeTask description=\"Update configs and some other initially generated files (or use just update:configs or update:bin)\" fullCmd=\"app:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:configs\" taksId=\"configs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:upgrade_guide_info\" taksId=\"upgrade_guide_info\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"assets\"&gt;&lt;RakeTask description=\"Remove old compiled assets\" fullCmd=\"assets:clean[keep]\" taksId=\"clean[keep]\" /&gt;&lt;RakeTask description=\"Remove compiled assets\" fullCmd=\"assets:clobber\" taksId=\"clobber\" /&gt;&lt;RakeTask description=\"Load asset compile environment\" fullCmd=\"assets:environment\" taksId=\"environment\" /&gt;&lt;RakeTask description=\"Compile all the assets named in config.assets.precompile\" fullCmd=\"assets:precompile\" taksId=\"precompile\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"assets:clean\" taksId=\"clean\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache_digests\"&gt;&lt;RakeTask description=\"Lookup first-level dependencies for TEMPLATE (like messages/show or comments/_comment.html)\" fullCmd=\"cache_digests:dependencies\" taksId=\"dependencies\" /&gt;&lt;RakeTask description=\"Lookup nested dependencies for TEMPLATE (like messages/show or comments/_comment.html)\" fullCmd=\"cache_digests:nested_dependencies\" taksId=\"nested_dependencies\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"db\"&gt;&lt;RakeTask description=\"Creates the database from DATABASE_URL or config/database.yml for the current RAILS_ENV (use db:create:all to create all databases in the config). Without RAILS_ENV or when RAILS_ENV is development, it defaults to creating the development and test databases\" fullCmd=\"db:create\" taksId=\"create\" /&gt;&lt;RakeTask description=\"Drops the database from DATABASE_URL or config/database.yml for the current RAILS_ENV (use db:drop:all to drop all databases in the config). Without RAILS_ENV or when RAILS_ENV is development, it defaults to dropping the development and test databases\" fullCmd=\"db:drop\" taksId=\"drop\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"environment\"&gt;&lt;RakeTask description=\"Set the environment value for the database\" fullCmd=\"db:environment:set\" taksId=\"set\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"fixtures\"&gt;&lt;RakeTask description=\"Loads fixtures into the current environment's database\" fullCmd=\"db:fixtures:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:fixtures:identify\" taksId=\"identify\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Migrate the database (options: VERSION=x, VERBOSE=false, SCOPE=blog)\" fullCmd=\"db:migrate\" taksId=\"migrate\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"migrate\"&gt;&lt;RakeTask description=\"Display status of migrations\" fullCmd=\"db:migrate:status\" taksId=\"status\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:change\" taksId=\"change\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:down\" taksId=\"down\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:redo\" taksId=\"redo\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:reset\" taksId=\"reset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:up\" taksId=\"up\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Rolls the schema back to the previous version (specify steps w/ STEP=n)\" fullCmd=\"db:rollback\" taksId=\"rollback\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"schema\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"Clears a db/schema_cache.dump file\" fullCmd=\"db:schema:cache:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"Creates a db/schema_cache.dump file\" fullCmd=\"db:schema:cache:dump\" taksId=\"dump\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Creates a db/schema.rb file that is portable against any DB supported by Active Record\" fullCmd=\"db:schema:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"Loads a schema.rb file into the database\" fullCmd=\"db:schema:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:schema:load_if_ruby\" taksId=\"load_if_ruby\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Loads the seed data from db/seeds.rb\" fullCmd=\"db:seed\" taksId=\"seed\" /&gt;&lt;RakeTask description=\"Creates the database, loads the schema, and initializes with the seed data (use db:reset to also drop the database first)\" fullCmd=\"db:setup\" taksId=\"setup\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"structure\"&gt;&lt;RakeTask description=\"Dumps the database structure to db/structure.sql\" fullCmd=\"db:structure:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"Recreates the databases from the structure.sql file\" fullCmd=\"db:structure:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:structure:load_if_sql\" taksId=\"load_if_sql\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Retrieves the current schema version number\" fullCmd=\"db:version\" taksId=\"version\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:_dump\" taksId=\"_dump\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:abort_if_pending_migrations\" taksId=\"abort_if_pending_migrations\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:charset\" taksId=\"charset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:check_protected_environments\" taksId=\"check_protected_environments\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:collation\" taksId=\"collation\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"create\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:create:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"drop\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:_unsafe\" taksId=\"_unsafe\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:forward\" taksId=\"forward\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:load_config\" taksId=\"load_config\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge\" taksId=\"purge\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"purge\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:reset\" taksId=\"reset\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone\" taksId=\"clone\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_schema\" taksId=\"clone_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_structure\" taksId=\"clone_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:deprecated\" taksId=\"deprecated\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_schema\" taksId=\"load_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_structure\" taksId=\"load_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:purge\" taksId=\"purge\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"dev\"&gt;&lt;RakeTask description=\"Toggle development mode caching on/off\" fullCmd=\"dev:cache\" taksId=\"cache\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Generate an Entity-Relationship Diagram based on your models\" fullCmd=\"erd\" taksId=\"erd\" /&gt;&lt;RakeTask description=\"Print out all defined initializers in the order they are invoked by Rails\" fullCmd=\"initializers\" taksId=\"initializers\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"log\"&gt;&lt;RakeTask description=\"Truncates all/specified *.log files in log/ to zero bytes (specify which logs with LOGS=test,development)\" fullCmd=\"log:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Prints out your Rack middleware stack\" fullCmd=\"middleware\" taksId=\"middleware\" /&gt;&lt;RakeTask description=\"Enumerate all annotations (use notes:optimize, :fixme, :todo for focus)\" fullCmd=\"notes\" taksId=\"notes\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"notes\"&gt;&lt;RakeTask description=\"Enumerate a custom annotation, specify with ANNOTATION=CUSTOM\" fullCmd=\"notes:custom\" taksId=\"custom\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:fixme\" taksId=\"fixme\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:optimize\" taksId=\"optimize\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:todo\" taksId=\"todo\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Remove schema information from model and fixture files\" fullCmd=\"remove_annotation\" taksId=\"remove_annotation\" /&gt;&lt;RakeTask description=\"Removes the route map from routes.rb\" fullCmd=\"remove_routes\" taksId=\"remove_routes\" /&gt;&lt;RakeTask description=\"Restart app by touching tmp/restart.txt\" fullCmd=\"restart\" taksId=\"restart\" /&gt;&lt;RakeTask description=\"Print out all defined routes in match order, with names\" fullCmd=\"routes\" taksId=\"routes\" /&gt;&lt;RakeTask description=\"Generate a cryptographically secure secret key (this is typically used to generate a secret for cookie sessions)\" fullCmd=\"secret\" taksId=\"secret\" /&gt;&lt;RakeTask description=\"Run all specs in spec directory (excluding plugin specs)\" fullCmd=\"spec\" taksId=\"spec\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"spec\"&gt;&lt;RakeTask description=\"Run the code examples in spec/models\" fullCmd=\"spec:models\" taksId=\"models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"spec:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"spec:statsetup\" taksId=\"statsetup\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Report code statistics (KLOCs, etc) from the application or engine\" fullCmd=\"stats\" taksId=\"stats\" /&gt;&lt;RakeTask description=\"Runs all tests in test folder\" fullCmd=\"test\" taksId=\"test\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"Run tests quickly, but also reset db\" fullCmd=\"test:db\" taksId=\"db\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:controllers\" taksId=\"controllers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:functionals\" taksId=\"functionals\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:generators\" taksId=\"generators\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:helpers\" taksId=\"helpers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:integration\" taksId=\"integration\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:jobs\" taksId=\"jobs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:mailers\" taksId=\"mailers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:models\" taksId=\"models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:run\" taksId=\"run\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:units\" taksId=\"units\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"time\"&gt;&lt;RakeTask description=\"List all time zones, list by two-letter country code (`rails time:zones[US]`), or list by UTC offset (`rails time:zones[-8]`)\" fullCmd=\"time:zones[country_or_offset]\" taksId=\"zones[country_or_offset]\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones\" taksId=\"zones\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"zones\"&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:all\" taksId=\"all\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:local\" taksId=\"local\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:us\" taksId=\"us\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"tmp\"&gt;&lt;RakeTask description=\"Clear cache and socket files from tmp/ (narrow w/ tmp:cache:clear, tmp:sockets:clear)\" fullCmd=\"tmp:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"Creates tmp directories for cache, sockets, and pids\" fullCmd=\"tmp:create\" taksId=\"create\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:cache:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"pids\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:pids:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"sockets\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:sockets:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"default\" taksId=\"default\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"environment\" taksId=\"environment\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"erd\"&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:generate\" taksId=\"generate\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:load_models\" taksId=\"load_models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:options\" taksId=\"options\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rails\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:template\" taksId=\"template\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:configs\" taksId=\"configs\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"railties\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"install\"&gt;&lt;RakeTask description=\"\" fullCmd=\"railties:install:migrations\" taksId=\"migrations\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"set_annotation_options\" taksId=\"set_annotation_options\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp\" taksId=\"tmp\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache\" taksId=\"tmp/cache\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache/assets\" taksId=\"tmp/cache/assets\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/pids\" taksId=\"tmp/pids\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/sockets\" taksId=\"tmp/sockets\" /&gt;&lt;/RakeGroup&gt;&lt;/Settings&gt;\ndiff --git a/Gemfile b/Gemfile\nindex b46c6fa..0ef0810 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -31,7 +31,7 @@ gem 'jbuilder', '~&gt; 2.5'\n # Use Redis adapter to run Action Cable in production\n # gem 'redis', '~&gt; 3.0'\n # Use ActiveModel has_secure_password\n-# gem 'bcrypt', '~&gt; 3.1.7'\n+gem 'bcrypt', '~&gt; 3.1.7'\n\n # Use Capistrano for deployment\n # gem 'capistrano-rails', group: :development\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex f553bc1..46d4a3a 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -46,6 +46,7 @@ GEM\n     arel (7.1.4)\n     autoprefixer-rails (6.6.1)\n       execjs\n+    bcrypt (3.1.11)\n     better_errors (2.1.1)\n       coderay (&gt;= 1.0.0)\n       erubis (&gt;= 2.6.6)\n@@ -294,6 +295,7 @@ PLATFORMS\n\n DEPENDENCIES\n   annotate\n+  bcrypt (~&gt; 3.1.7)\n   better_errors\n   binding_of_caller\n   bootstrap-sass (~&gt; 3.3.6)\ndiff --git a/README.md b/README.md\nindex dadbfa0..f6896d0 100644\n--- a/README.md\n+++ b/README.md\n@@ -340,6 +340,7 @@ git push heroku master\n #### \u30e2\u30c7\u30eb\n + \u30e2\u30c7\u30eb\u306e\u57fa\u790e\u77e5\u8b58\n + \u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n++ \u30cf\u30c3\u30b7\u30e5\u95a2\u6570\n\n #### \u30bb\u30c3\u30b7\u30e7\u30f3\n\ndiff --git a/app/models/staff_member.rb b/app/models/staff_member.rb\nindex 0910503..85c873d 100644\n--- a/app/models/staff_member.rb\n+++ b/app/models/staff_member.rb\n@@ -26,4 +26,12 @@ class StaffMember &lt; ApplicationRecord\n   before_validation do\n     self.email_for_index = email.downcase if email\n   end\n+\n+  def password=(raw_password)\n+    if raw_password.kind_of?(String)\n+      self.hashed_password = BCrypt::Password.create(raw_password)\n+    elsif raw_password.nil?\n+      self.hashed_password = nil\n+    end\n+  end\n end\ndiff --git a/baukis-kai.iml b/baukis-kai.iml\nindex ec2b1a1..7d95f8d 100644\n--- a/baukis-kai.iml\n+++ b/baukis-kai.iml\n@@ -34,6 +34,7 @@\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"annotate (v2.6.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"arel (v7.1.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"autoprefixer-rails (v6.6.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bcrypt (v3.1.11, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"better_errors (v2.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"binding_of_caller (v0.7.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bootstrap-sass (v3.3.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\ndiff --git a/spec/models/staff_member_spec.rb b/spec/models/staff_member_spec.rb\nindex c26bb75..21f5c12 100644\n--- a/spec/models/staff_member_spec.rb\n+++ b/spec/models/staff_member_spec.rb\n@@ -25,5 +25,20 @@\n require 'rails_helper'\n\n RSpec.describe StaffMember, type: :model do\n-  pending \"add some examples to (or delete) #{__FILE__}\"\n+  describe '#password=' do\n+    # \u6587\u5b57\u5217\u3092\u4e0e\u3048\u308b\u3068\u3001hashed_password\u306f\u9577\u305560\u306e\u6587\u5b57\u5217\u306b\u306a\u308b\n+    it 'is a string of length 60 of hashed_password when giving a string' do\n+      member = StaffMember.new\n+      member.password = 'baukis'\n+      expect(member.hashed_password).to be_kind_of(String)\n+      expect(member.hashed_password.size).to eq(60)\n+    end\n+\n+    # nil\u3092\u4e0e\u3048\u308b\u3068\u3001hashed_password\u306fnil\u306b\u306a\u308b\n+    it 'is nil of hashed_password when giving a nil' do\n+      member = StaffMember.new(hashed_password: 'x')\n+      member.password = nil\n+      expect(member.hashed_password).to be_nil\n+    end\n+  end\n end\n</code></pre>"},{"location":"journal/20170118/#_26","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170118/#52549cb","title":"\u30b3\u30df\u30c3\u30c8: 52549cb","text":""},{"location":"journal/20170118/#_27","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9 #3\n</code></pre>"},{"location":"journal/20170118/#_28","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/staff_member.rb</li> </ul>"},{"location":"journal/20170118/#_29","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 52549cb5eb0147c6e810dfc610d52783104ae440\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 18 17:54:16 2017 +0900\n\n    \u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9 #3\n\ndiff --git a/README.md b/README.md\nindex 5e1ff05..dadbfa0 100644\n--- a/README.md\n+++ b/README.md\n@@ -339,6 +339,7 @@ git push heroku master\n\n #### \u30e2\u30c7\u30eb\n + \u30e2\u30c7\u30eb\u306e\u57fa\u790e\u77e5\u8b58\n++ \u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n\n #### \u30bb\u30c3\u30b7\u30e7\u30f3\n\ndiff --git a/app/models/staff_member.rb b/app/models/staff_member.rb\nindex 409a66f..0910503 100644\n--- a/app/models/staff_member.rb\n+++ b/app/models/staff_member.rb\n@@ -23,4 +23,7 @@\n #\n\n class StaffMember &lt; ApplicationRecord\n+  before_validation do\n+    self.email_for_index = email.downcase if email\n+  end\n end\n</code></pre>"},{"location":"journal/20170118/#_30","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170118/#fd92fd0","title":"\u30b3\u30df\u30c3\u30c8: fd92fd0","text":""},{"location":"journal/20170118/#_31","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30e2\u30c7\u30eb\u306e\u57fa\u790e\u77e5\u8b58 #3\n</code></pre>"},{"location":"journal/20170118/#_32","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170118/#_33","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit fd92fd0b51adbd11e91b6021bfa29f52e6862fea\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 18 17:52:48 2017 +0900\n\n    \u30e2\u30c7\u30eb\u306e\u57fa\u790e\u77e5\u8b58 #3\n\ndiff --git a/README.md b/README.md\nindex 55fe13c..5e1ff05 100644\n--- a/README.md\n+++ b/README.md\n@@ -338,6 +338,8 @@ git push heroku master\n + \u4e3b\u30ad\u30fc\n\n #### \u30e2\u30c7\u30eb\n++ \u30e2\u30c7\u30eb\u306e\u57fa\u790e\u77e5\u8b58\n+\n #### \u30bb\u30c3\u30b7\u30e7\u30f3\n\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n</code></pre>"},{"location":"journal/20170118/#0dabe2d","title":"\u30b3\u30df\u30c3\u30c8: 0dabe2d","text":""},{"location":"journal/20170118/#_34","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u4e3b\u30ad\u30fc #3\n</code></pre>"},{"location":"journal/20170118/#_35","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170118/#_36","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 0dabe2d4317c496dd69f48ff2c1d4a9a14008177\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 18 17:52:17 2017 +0900\n\n    \u4e3b\u30ad\u30fc #3\n\ndiff --git a/README.md b/README.md\nindex 0ee43f1..55fe13c 100644\n--- a/README.md\n+++ b/README.md\n@@ -335,6 +335,7 @@ git push heroku master\n + \u5404\u7a2e\u30b9\u30b1\u30eb\u30c8\u30f3\u306e\u4f5c\u6210\n + \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30b9\u30af\u30ea\u30d7\u30c8\n + \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\n++ \u4e3b\u30ad\u30fc\n\n #### \u30e2\u30c7\u30eb\n #### \u30bb\u30c3\u30b7\u30e7\u30f3\n</code></pre>"},{"location":"journal/20170118/#a232b59","title":"\u30b3\u30df\u30c3\u30c8: a232b59","text":""},{"location":"journal/20170118/#_37","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c #3\n</code></pre>"},{"location":"journal/20170118/#_38","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/staff_member.rb</li> <li>M config/database.yml</li> <li>M db/schema.rb</li> <li>A lib/tasks/auto_annotate_models.rake</li> <li>M spec/factories/staff_members.rb</li> <li>M spec/models/staff_member_spec.rb</li> </ul>"},{"location":"journal/20170118/#_39","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit a232b591351e18862d4f6cff91d0b3581e610dd0\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 18 17:08:47 2017 +0900\n\n    \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c #3\n\ndiff --git a/README.md b/README.md\nindex 3696688..0ee43f1 100644\n--- a/README.md\n+++ b/README.md\n@@ -334,6 +334,7 @@ git push heroku master\n #### \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\n + \u5404\u7a2e\u30b9\u30b1\u30eb\u30c8\u30f3\u306e\u4f5c\u6210\n + \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30b9\u30af\u30ea\u30d7\u30c8\n++ \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\n\n #### \u30e2\u30c7\u30eb\n #### \u30bb\u30c3\u30b7\u30e7\u30f3\n@@ -358,4 +359,6 @@ git push heroku master\n + [\u73fe\u5834\u306e\u30d7\u30ed\u304c\u672c\u6c17\u3067\u6559\u3048\u308b HTML/CSS\u30c7\u30b6\u30a4\u30f3\u8b1b\u7fa9](https://www.amazon.co.jp/dp/B01K3SZGR0/ref=dp-kindle-redirect?_encoding=UTF8&amp;btkr=1)\n + [\u73fe\u5834\u306e\u30d7\u30ed\u304c\u672c\u6c17\u3067\u6559\u3048\u308b HTML/CSS\u30c7\u30b6\u30a4\u30f3\u8b1b\u7fa9 \u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf](https://github.com/basara669/html_css_book)\n + [Bootstrap for Sass](https://github.com/twbs/bootstrap-sass)\n-+ [Rails Bootstrap Forms](https://github.com/bootstrap-ruby/rails-bootstrap-forms)\n\\ No newline at end of file\n++ [Rails Bootstrap Forms](https://github.com/bootstrap-ruby/rails-bootstrap-forms)\n++ [Annotate (aka AnnotateModels)](https://github.com/ctran/annotate_models)\n++ [MigrationComments](https://github.com/pinnymz/migration_comments)\n\\ No newline at end of file\ndiff --git a/app/models/staff_member.rb b/app/models/staff_member.rb\nindex 415eafe..409a66f 100644\n--- a/app/models/staff_member.rb\n+++ b/app/models/staff_member.rb\n@@ -1,2 +1,26 @@\n+# == Schema Information\n+#\n+# Table name: staff_members # \u8077\u54e1\n+#\n+#  id               :integer          not null, primary key\n+#  email            :string(255)      not null               # \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+#  email_for_index  :string(255)      not null               # \u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+#  family_name      :string(255)      not null               # \u59d3\n+#  given_name       :string(255)      not null               # \u540d\n+#  family_name_kana :string(255)      not null               # \u59d3\uff08\u30ab\u30ca\uff09\n+#  given_name_kana  :string(255)      not null               # \u540d\uff08\u30ab\u30ca\uff09\n+#  hashed_password  :string(255)                             # \u30d1\u30b9\u30ef\u30fc\u30c9\n+#  start_date       :date             not null               # \u958b\u59cb\u65e5\n+#  end_date         :date                                    # \u7d42\u4e86\u65e5\n+#  suspended        :boolean          default(\"0\"), not null # \u505c\u6b62\u30d5\u30e9\u30b0\n+#  created_at       :datetime         not null\n+#  updated_at       :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_staff_members_on_email_for_index                       (email_for_index) UNIQUE\n+#  index_staff_members_on_family_name_kana_and_given_name_kana  (family_name_kana,given_name_kana)\n+#\n+\n class StaffMember &lt; ApplicationRecord\n end\ndiff --git a/config/database.yml b/config/database.yml\nindex b097f5f..0c508ef 100644\n--- a/config/database.yml\n+++ b/config/database.yml\n@@ -55,9 +55,6 @@ production:\n   # For details on connection pooling, see rails configuration guide\n   # http://guides.rubyonrails.org/configuring.html#database-pooling\n   pool: &lt;%= ENV.fetch(\"RAILS_MAX_THREADS\") { 5 } %&gt;\n-  database: baukis-kai_production\n-  username: postgres\n-  password: password\n-  host: 127.0.0.1\n+  url: postgres://postgres:password@127.0.0.1/baukis-kai_production\n   port: 5432\n\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 52ab025..8209b42 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -10,6 +10,23 @@\n #\n # It's strongly recommended that you check this file into your version control system.\n\n-ActiveRecord::Schema.define(version: 0) do\n+ActiveRecord::Schema.define(version: 20170118073759) do\n+\n+  create_table \"staff_members\", force: :cascade do |t|\n+    t.string   \"email\",                            null: false\n+    t.string   \"email_for_index\",                  null: false\n+    t.string   \"family_name\",                      null: false\n+    t.string   \"given_name\",                       null: false\n+    t.string   \"family_name_kana\",                 null: false\n+    t.string   \"given_name_kana\",                  null: false\n+    t.string   \"hashed_password\"\n+    t.date     \"start_date\",                       null: false\n+    t.date     \"end_date\"\n+    t.boolean  \"suspended\",        default: false, null: false\n+    t.datetime \"created_at\",                       null: false\n+    t.datetime \"updated_at\",                       null: false\n+    t.index [\"email_for_index\"], name: \"index_staff_members_on_email_for_index\", unique: true\n+    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\"\n+  end\n\n end\ndiff --git a/lib/tasks/auto_annotate_models.rake b/lib/tasks/auto_annotate_models.rake\nnew file mode 100644\nindex 0000000..f85503d\n--- /dev/null\n+++ b/lib/tasks/auto_annotate_models.rake\n@@ -0,0 +1,34 @@\n+# NOTE: only doing this in development as some production environments (Heroku)\n+# NOTE: are sensitive to local FS writes, and besides -- it's just not proper\n+# NOTE: to have a dev-mode tool do its thing in production.\n+if Rails.env.development?\n+  task :set_annotation_options do\n+    # You can override any of these by setting an environment variable of the\n+    # same name.\n+    Annotate.set_defaults({\n+      'position_in_routes'   =&gt; \"before\",\n+      'position_in_class'    =&gt; \"before\",\n+      'position_in_test'     =&gt; \"before\",\n+      'position_in_fixture'  =&gt; \"before\",\n+      'position_in_factory'  =&gt; \"before\",\n+      'show_indexes'         =&gt; \"true\",\n+      'simple_indexes'       =&gt; \"false\",\n+      'model_dir'            =&gt; \"app/models\",\n+      'include_version'      =&gt; \"false\",\n+      'require'              =&gt; \"\",\n+      'exclude_tests'        =&gt; \"false\",\n+      'exclude_fixtures'     =&gt; \"false\",\n+      'exclude_factories'    =&gt; \"false\",\n+      'ignore_model_sub_dir' =&gt; \"false\",\n+      'skip_on_db_migrate'   =&gt; \"false\",\n+      'format_bare'          =&gt; \"true\",\n+      'format_rdoc'          =&gt; \"false\",\n+      'format_markdown'      =&gt; \"false\",\n+      'sort'                 =&gt; \"false\",\n+      'force'                =&gt; \"false\",\n+      'trace'                =&gt; \"false\",\n+    })\n+  end\n+\n+  Annotate.load_tasks\n+end\ndiff --git a/spec/factories/staff_members.rb b/spec/factories/staff_members.rb\nindex 4abdb4a..19592b2 100644\n--- a/spec/factories/staff_members.rb\n+++ b/spec/factories/staff_members.rb\n@@ -1,3 +1,27 @@\n+# == Schema Information\n+#\n+# Table name: staff_members # \u8077\u54e1\n+#\n+#  id               :integer          not null, primary key\n+#  email            :string(255)      not null               # \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+#  email_for_index  :string(255)      not null               # \u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+#  family_name      :string(255)      not null               # \u59d3\n+#  given_name       :string(255)      not null               # \u540d\n+#  family_name_kana :string(255)      not null               # \u59d3\uff08\u30ab\u30ca\uff09\n+#  given_name_kana  :string(255)      not null               # \u540d\uff08\u30ab\u30ca\uff09\n+#  hashed_password  :string(255)                             # \u30d1\u30b9\u30ef\u30fc\u30c9\n+#  start_date       :date             not null               # \u958b\u59cb\u65e5\n+#  end_date         :date                                    # \u7d42\u4e86\u65e5\n+#  suspended        :boolean          default(\"0\"), not null # \u505c\u6b62\u30d5\u30e9\u30b0\n+#  created_at       :datetime         not null\n+#  updated_at       :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_staff_members_on_email_for_index                       (email_for_index) UNIQUE\n+#  index_staff_members_on_family_name_kana_and_given_name_kana  (family_name_kana,given_name_kana)\n+#\n+\n FactoryGirl.define do\n   factory :staff_member do\n\ndiff --git a/spec/models/staff_member_spec.rb b/spec/models/staff_member_spec.rb\nindex 290b09e..c26bb75 100644\n--- a/spec/models/staff_member_spec.rb\n+++ b/spec/models/staff_member_spec.rb\n@@ -1,3 +1,27 @@\n+# == Schema Information\n+#\n+# Table name: staff_members # \u8077\u54e1\n+#\n+#  id               :integer          not null, primary key\n+#  email            :string(255)      not null               # \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+#  email_for_index  :string(255)      not null               # \u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+#  family_name      :string(255)      not null               # \u59d3\n+#  given_name       :string(255)      not null               # \u540d\n+#  family_name_kana :string(255)      not null               # \u59d3\uff08\u30ab\u30ca\uff09\n+#  given_name_kana  :string(255)      not null               # \u540d\uff08\u30ab\u30ca\uff09\n+#  hashed_password  :string(255)                             # \u30d1\u30b9\u30ef\u30fc\u30c9\n+#  start_date       :date             not null               # \u958b\u59cb\u65e5\n+#  end_date         :date                                    # \u7d42\u4e86\u65e5\n+#  suspended        :boolean          default(\"0\"), not null # \u505c\u6b62\u30d5\u30e9\u30b0\n+#  created_at       :datetime         not null\n+#  updated_at       :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_staff_members_on_email_for_index                       (email_for_index) UNIQUE\n+#  index_staff_members_on_family_name_kana_and_given_name_kana  (family_name_kana,given_name_kana)\n+#\n+\n require 'rails_helper'\n\n RSpec.describe StaffMember, type: :model do\n</code></pre>"},{"location":"journal/20170118/#_40","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170118/#09f91e4","title":"\u30b3\u30df\u30c3\u30c8: 09f91e4","text":""},{"location":"journal/20170118/#_41","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30b9\u30af\u30ea\u30d7\u30c8 #3\n</code></pre>"},{"location":"journal/20170118/#_42","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M db/migrate/20170118073759_create_staff_members.rb</li> </ul>"},{"location":"journal/20170118/#_43","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 09f91e435704ba9f57f994556cf6dc8233a8cd98\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 18 16:48:05 2017 +0900\n\n    \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30b9\u30af\u30ea\u30d7\u30c8 #3\n\ndiff --git a/README.md b/README.md\nindex 0fe544d..3696688 100644\n--- a/README.md\n+++ b/README.md\n@@ -333,6 +333,7 @@ git push heroku master\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c(1)\n #### \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\n + \u5404\u7a2e\u30b9\u30b1\u30eb\u30c8\u30f3\u306e\u4f5c\u6210\n++ \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30b9\u30af\u30ea\u30d7\u30c8\n\n #### \u30e2\u30c7\u30eb\n #### \u30bb\u30c3\u30b7\u30e7\u30f3\ndiff --git a/db/migrate/20170118073759_create_staff_members.rb b/db/migrate/20170118073759_create_staff_members.rb\nindex 26746d1..29f3bbc 100644\n--- a/db/migrate/20170118073759_create_staff_members.rb\n+++ b/db/migrate/20170118073759_create_staff_members.rb\n@@ -1,8 +1,22 @@\n class CreateStaffMembers &lt; ActiveRecord::Migration[5.0]\n   def change\n-    create_table :staff_members do |t|\n+    create_table :staff_members, comment: '\u8077\u54e1' do |t|\n+      t.string :email, null: false, comment: '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9'\n+      t.string :email_for_index, null: false, comment: '\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9'\n+      t.string :family_name, null: false, comment: '\u59d3'\n+      t.string :given_name, null: false, comment: '\u540d'\n+      t.string :family_name_kana, null: false, comment: '\u59d3\uff08\u30ab\u30ca\uff09'\n+      t.string :given_name_kana, null: false, comment: '\u540d\uff08\u30ab\u30ca\uff09'\n+      t.string :hashed_password, comment: '\u30d1\u30b9\u30ef\u30fc\u30c9'\n+      t.date :start_date, null: false, comment: '\u958b\u59cb\u65e5'\n+      t.date :end_date, comment: '\u7d42\u4e86\u65e5'\n+      t.boolean :suspended, null: false, default: false, comment: '\u505c\u6b62\u30d5\u30e9\u30b0'\n+\n\n       t.timestamps\n     end\n+\n+    add_index :staff_members, :email_for_index, unique: true\n+    add_index :staff_members, [ :family_name_kana, :given_name_kana ]\n   end\n end\n</code></pre>"},{"location":"journal/20170118/#9f0a984","title":"\u30b3\u30df\u30c3\u30c8: 9f0a984","text":""},{"location":"journal/20170118/#_44","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u5404\u7a2e\u30b9\u30b1\u30eb\u30c8\u30f3\u306e\u4f5c\u6210 #3\n</code></pre>"},{"location":"journal/20170118/#_45","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/models/staff_member.rb</li> <li>A db/migrate/20170118073759_create_staff_members.rb</li> <li>A spec/factories/staff_members.rb</li> <li>A spec/models/staff_member_spec.rb</li> </ul>"},{"location":"journal/20170118/#_46","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 9f0a9847168e60ed65fbd11d14662a90632b382c\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 18 16:39:06 2017 +0900\n\n    \u5404\u7a2e\u30b9\u30b1\u30eb\u30c8\u30f3\u306e\u4f5c\u6210 #3\n\ndiff --git a/README.md b/README.md\nindex f24bf6f..0fe544d 100644\n--- a/README.md\n+++ b/README.md\n@@ -332,6 +332,8 @@ git push heroku master\n\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c(1)\n #### \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\n++ \u5404\u7a2e\u30b9\u30b1\u30eb\u30c8\u30f3\u306e\u4f5c\u6210\n+\n #### \u30e2\u30c7\u30eb\n #### \u30bb\u30c3\u30b7\u30e7\u30f3\n\ndiff --git a/app/models/staff_member.rb b/app/models/staff_member.rb\nnew file mode 100644\nindex 0000000..415eafe\n--- /dev/null\n+++ b/app/models/staff_member.rb\n@@ -0,0 +1,2 @@\n+class StaffMember &lt; ApplicationRecord\n+end\ndiff --git a/db/migrate/20170118073759_create_staff_members.rb b/db/migrate/20170118073759_create_staff_members.rb\nnew file mode 100644\nindex 0000000..26746d1\n--- /dev/null\n+++ b/db/migrate/20170118073759_create_staff_members.rb\n@@ -0,0 +1,8 @@\n+class CreateStaffMembers &lt; ActiveRecord::Migration[5.0]\n+  def change\n+    create_table :staff_members do |t|\n+\n+      t.timestamps\n+    end\n+  end\n+end\ndiff --git a/spec/factories/staff_members.rb b/spec/factories/staff_members.rb\nnew file mode 100644\nindex 0000000..4abdb4a\n--- /dev/null\n+++ b/spec/factories/staff_members.rb\n@@ -0,0 +1,5 @@\n+FactoryGirl.define do\n+  factory :staff_member do\n+    \n+  end\n+end\ndiff --git a/spec/models/staff_member_spec.rb b/spec/models/staff_member_spec.rb\nnew file mode 100644\nindex 0000000..290b09e\n--- /dev/null\n+++ b/spec/models/staff_member_spec.rb\n@@ -0,0 +1,5 @@\n+require 'rails_helper'\n+\n+RSpec.describe StaffMember, type: :model do\n+  pending \"add some examples to (or delete) #{__FILE__}\"\n+end\n</code></pre>"},{"location":"journal/20170118/#_47","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170118/#00c37bc","title":"\u30b3\u30df\u30c3\u30c8: 00c37bc","text":""},{"location":"journal/20170118/#_48","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c(1) #3\n</code></pre>"},{"location":"journal/20170118/#_49","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170118/#_50","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 00c37bca856b8de006aca4940a37830a9733abe6\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 18 16:36:40 2017 +0900\n\n    \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c(1) #3\n\ndiff --git a/README.md b/README.md\nindex a67d67c..f24bf6f 100644\n--- a/README.md\n+++ b/README.md\n@@ -330,7 +330,11 @@ git push heroku master\n\n #### ActiveSupport::Concern\n\n-### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n+### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c(1)\n+#### \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\n+#### \u30e2\u30c7\u30eb\n+#### \u30bb\u30c3\u30b7\u30e7\u30f3\n+\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n ### \u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664\n</code></pre>"},{"location":"journal/20170118/#7025e6b","title":"\u30b3\u30df\u30c3\u30c8: 7025e6b","text":""},{"location":"journal/20170118/#_51","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30a8\u30e9\u30fc\u30da\u30fc\u30b8 #2\n</code></pre>"},{"location":"journal/20170118/#_52","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170118/#_53","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 7025e6b724d0784ad10f0a980ad9716593a86211\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 18 13:45:10 2017 +0900\n\n    \u30a8\u30e9\u30fc\u30da\u30fc\u30b8 #2\n\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex ed1fd86..feba999 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -9,7 +9,11 @@\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n-      &lt;time class=\"NewsList__head\" datatime=\"2017-1-17\"&gt;2016.10.12&lt;/time&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-1-18\"&gt;2017.1.18&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u30a8\u30e9\u30fc\u30da\u30fc\u30b8\u3092\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-1-17\"&gt;2017.1.17&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u958b\u767a\u3092\u958b\u59cb\u3057\u307e\u3057\u305f&lt;/span&gt;\n     &lt;/li&gt;\n   &lt;/ol&gt;\n</code></pre>"},{"location":"journal/20170118/#768229d","title":"\u30b3\u30df\u30c3\u30c8: 768229d","text":""},{"location":"journal/20170118/#_54","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>ActiveSupport::Concern #2\n</code></pre>"},{"location":"journal/20170118/#_55","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/controllers/application_controller.rb</li> <li>A app/controllers/concerns/error_handlers.rb</li> <li>M config/environments/production.rb</li> </ul>"},{"location":"journal/20170118/#_56","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 768229df8ef676c58cbe95fba7f1e208a0f97e64\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 18 13:40:43 2017 +0900\n\n    ActiveSupport::Concern #2\n\ndiff --git a/app/controllers/application_controller.rb b/app/controllers/application_controller.rb\nindex fb3280b..fb5507f 100644\n--- a/app/controllers/application_controller.rb\n+++ b/app/controllers/application_controller.rb\n@@ -6,11 +6,7 @@ class ApplicationController &lt; ActionController::Base\n   class Forbidden &lt; ActionController::ActionControllerError; end\n   class IpAddressRejected &lt; ActionController::ActionControllerError; end\n\n-  rescue_from Exception, with: :rescue500\n-  rescue_from Forbidden, with: :rescue403\n-  rescue_from IpAddressRejected, with: :rescue403\n-  rescue_from ActionController::RoutingError, with: :rescue404\n-  rescue_from ActiveRecord::RecordNotFound, with: :rescue404\n+  include ErrorHandlers if Rails.env.production?\n\n   private\n   def set_layout\n@@ -21,18 +17,4 @@ class ApplicationController &lt; ActionController::Base\n     end\n   end\n\n-  def rescue404(e)\n-    @exception = e\n-    render 'errors/not_found', status: 404\n-  end\n-\n-  def rescue403(e)\n-    @exception = e\n-    render 'errors/forbidden', status: 403\n-  end\n-\n-  def rescue500(e)\n-    @exception = e\n-    render 'errors/internal_server_error', status: 500\n-  end\n end\ndiff --git a/app/controllers/concerns/error_handlers.rb b/app/controllers/concerns/error_handlers.rb\nnew file mode 100644\nindex 0000000..b13f356\n--- /dev/null\n+++ b/app/controllers/concerns/error_handlers.rb\n@@ -0,0 +1,28 @@\n+module ErrorHandlers\n+  extend ActiveSupport::Concern\n+\n+  included do\n+    rescue_from Exception, with: :rescue500\n+    rescue_from ApplicationController::Forbidden, with: :rescue403\n+    rescue_from ApplicationController::IpAddressRejected, with: :rescue403\n+    rescue_from ActionController::RoutingError, with: :rescue404\n+    rescue_from ActiveRecord::RecordNotFound, with: :rescue404\n+  end\n+\n+  private\n+  def rescue404(e)\n+    @exception = e\n+    render 'errors/not_found', status: 404\n+  end\n+\n+  def rescue403(e)\n+    @exception = e\n+    render 'errors/forbidden', status: 403\n+  end\n+\n+  def rescue500(e)\n+    @exception = e\n+    render 'errors/internal_server_error', status: 500\n+  end\n+\n+end\n\\ No newline at end of file\ndiff --git a/config/environments/production.rb b/config/environments/production.rb\nindex 3af0b22..a736dfc 100644\n--- a/config/environments/production.rb\n+++ b/config/environments/production.rb\n@@ -2,7 +2,7 @@ Rails.application.configure do\n   # Settings specified here will take precedence over those in config/application.rb.\n\n   # Code is not reloaded between requests.\n-  config.cache_classes = false\n+  config.cache_classes = true\n\n   # Eager load code on boot. This eager loads most of Rails and\n   # your application in memory, allowing both threaded web servers\n</code></pre>"},{"location":"journal/20170118/#_57","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170118/#021bd97","title":"\u30b3\u30df\u30c3\u30c8: 021bd97","text":""},{"location":"journal/20170118/#_58","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u4f8b\u5916ActiveRecord::RecordNotFound\u306e\u51e6\u7406 #2\n</code></pre>"},{"location":"journal/20170118/#_59","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/application_controller.rb</li> </ul>"},{"location":"journal/20170118/#_60","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 021bd973d108e4a426988940eb8a9090c1e3f2d0\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 18 13:32:46 2017 +0900\n\n    \u4f8b\u5916ActiveRecord::RecordNotFound\u306e\u51e6\u7406 #2\n\ndiff --git a/README.md b/README.md\nindex a7ad3fd..a67d67c 100644\n--- a/README.md\n+++ b/README.md\n@@ -326,6 +326,7 @@ git push heroku master\n\n #### 404 Not Found\n + \u4f8b\u5916ActionController::RoutingError\u306e\u51e6\u7406\n++ \u4f8b\u5916ActiveRecord::RecordNotFound\u306e\u51e6\u7406\n\n #### ActiveSupport::Concern\n\ndiff --git a/app/controllers/application_controller.rb b/app/controllers/application_controller.rb\nindex 5ed5818..fb3280b 100644\n--- a/app/controllers/application_controller.rb\n+++ b/app/controllers/application_controller.rb\n@@ -10,6 +10,7 @@ class ApplicationController &lt; ActionController::Base\n   rescue_from Forbidden, with: :rescue403\n   rescue_from IpAddressRejected, with: :rescue403\n   rescue_from ActionController::RoutingError, with: :rescue404\n+  rescue_from ActiveRecord::RecordNotFound, with: :rescue404\n\n   private\n   def set_layout\n</code></pre>"},{"location":"journal/20170118/#_61","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170118/#cf24b78","title":"\u30b3\u30df\u30c3\u30c8: cf24b78","text":""},{"location":"journal/20170118/#_62","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u4f8b\u5916ActionController::RoutingError\u306e\u51e6\u7406 #2\n</code></pre>"},{"location":"journal/20170118/#_63","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/stylesheets/components/common/_errors.scss</li> <li>M app/controllers/admin/top_controller.rb</li> <li>M app/controllers/application_controller.rb</li> <li>M app/controllers/customer/top_controller.rb</li> <li>A app/controllers/errors_controller.rb</li> <li>A app/views/errors/not_found.html.erb</li> <li>A app/views/errors/routing_error.html.erb</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170118/#_64","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit cf24b785c6a49ce82810aa8273c9933672a06b39\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 18 13:27:21 2017 +0900\n\n    \u4f8b\u5916ActionController::RoutingError\u306e\u51e6\u7406 #2\n\ndiff --git a/README.md b/README.md\nindex 5d5c58a..a7ad3fd 100644\n--- a/README.md\n+++ b/README.md\n@@ -325,6 +325,8 @@ git push heroku master\n + \u52d5\u4f5c\u306e\u78ba\u8a8d\n\n #### 404 Not Found\n++ \u4f8b\u5916ActionController::RoutingError\u306e\u51e6\u7406\n+\n #### ActiveSupport::Concern\n\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\ndiff --git a/app/assets/stylesheets/components/common/_errors.scss b/app/assets/stylesheets/components/common/_errors.scss\nindex 1f3979c..47e7ec3 100644\n--- a/app/assets/stylesheets/components/common/_errors.scss\n+++ b/app/assets/stylesheets/components/common/_errors.scss\n@@ -16,5 +16,5 @@\n     background-color: $very_light_gray;\n     text-align: center;\n   }\n-  &amp;__test--url { font-family: monospace; }\n+  &amp;__url { font-family: monospace; }\n }\n\\ No newline at end of file\ndiff --git a/app/controllers/admin/top_controller.rb b/app/controllers/admin/top_controller.rb\nindex 121ab66..d9a88b5 100644\n--- a/app/controllers/admin/top_controller.rb\n+++ b/app/controllers/admin/top_controller.rb\n@@ -1,6 +1,5 @@\n class Admin::TopController &lt; ApplicationController\n   def index\n-    raise IpAddressRejected\n     render action: 'index'\n   end\n end\ndiff --git a/app/controllers/application_controller.rb b/app/controllers/application_controller.rb\nindex 17ad04c..5ed5818 100644\n--- a/app/controllers/application_controller.rb\n+++ b/app/controllers/application_controller.rb\n@@ -9,6 +9,7 @@ class ApplicationController &lt; ActionController::Base\n   rescue_from Exception, with: :rescue500\n   rescue_from Forbidden, with: :rescue403\n   rescue_from IpAddressRejected, with: :rescue403\n+  rescue_from ActionController::RoutingError, with: :rescue404\n\n   private\n   def set_layout\n@@ -19,6 +20,11 @@ class ApplicationController &lt; ActionController::Base\n     end\n   end\n\n+  def rescue404(e)\n+    @exception = e\n+    render 'errors/not_found', status: 404\n+  end\n+\n   def rescue403(e)\n     @exception = e\n     render 'errors/forbidden', status: 403\ndiff --git a/app/controllers/customer/top_controller.rb b/app/controllers/customer/top_controller.rb\nindex 592a8b3..9fc6012 100644\n--- a/app/controllers/customer/top_controller.rb\n+++ b/app/controllers/customer/top_controller.rb\n@@ -1,6 +1,5 @@\n class Customer::TopController &lt; ApplicationController\n   def index\n-    raise Forbidden\n     render action: 'index'\n   end\n end\ndiff --git a/app/controllers/errors_controller.rb b/app/controllers/errors_controller.rb\nnew file mode 100644\nindex 0000000..a7396fc\n--- /dev/null\n+++ b/app/controllers/errors_controller.rb\n@@ -0,0 +1,5 @@\n+class ErrorsController &lt; ApplicationController\n+  def routing_error\n+    raise ActionController::RoutingError,\"No route matches #{request.path.inspect}\"\n+  end\n+end\ndiff --git a/app/views/errors/not_found.html.erb b/app/views/errors/not_found.html.erb\nnew file mode 100644\nindex 0000000..98f882c\n--- /dev/null\n+++ b/app/views/errors/not_found.html.erb\n@@ -0,0 +1,5 @@\n+&lt;div class=\"Error__box\"&gt;\n+  &lt;h1&gt;404 Not Found&lt;/h1&gt;\n+  &lt;p&gt;\u6307\u5b9a\u3055\u308c\u305f\u30da\u30fc\u30b8\u306f\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002&lt;/p&gt;\n+  &lt;p class=\"Error__url\"&gt;&lt;%= request.url %&gt;&lt;/p&gt;\n+&lt;/div&gt;\n\\ No newline at end of file\ndiff --git a/app/views/errors/routing_error.html.erb b/app/views/errors/routing_error.html.erb\nnew file mode 100644\nindex 0000000..4dd3ea0\n--- /dev/null\n+++ b/app/views/errors/routing_error.html.erb\n@@ -0,0 +1,2 @@\n+&lt;h1&gt;Errors#routing_error&lt;/h1&gt;\n+&lt;p&gt;Find me in app/views/errors/routing_error.html.erb&lt;/p&gt;\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 504e1e9..e26d28b 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -1,4 +1,6 @@\n Rails.application.routes.draw do\n+  get 'errors/routing_error'\n+\n   namespace :staff do\n     root 'top#index'\n   end\n@@ -13,4 +15,7 @@ Rails.application.routes.draw do\n     get 'campaign/index'\n     get 'campaign_submit', to: 'campaign#submit'\n   end\n+\n+  root 'errors#routing_error'\n+  get '*anything' =&gt; 'errors#routing_error'\n end\n</code></pre>"},{"location":"journal/20170118/#_65","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170118/#1b3255f","title":"\u30b3\u30df\u30c3\u30c8: 1b3255f","text":""},{"location":"journal/20170118/#_66","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u52d5\u4f5c\u306e\u78ba\u8a8d #2\n</code></pre>"},{"location":"journal/20170118/#_67","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/admin/top_controller.rb</li> <li>M app/controllers/customer/top_controller.rb</li> </ul>"},{"location":"journal/20170118/#_68","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 1b3255f6222f85167bc170e49e745227e91665cb\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 18 13:16:09 2017 +0900\n\n    \u52d5\u4f5c\u306e\u78ba\u8a8d #2\n\ndiff --git a/README.md b/README.md\nindex 413988e..5d5c58a 100644\n--- a/README.md\n+++ b/README.md\n@@ -322,6 +322,7 @@ git push heroku master\n #### 403 Forbidden\n + \u4f8b\u5916\u306e\u6355\u6349\n + ERB\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4f5c\u6210\n++ \u52d5\u4f5c\u306e\u78ba\u8a8d\n\n #### 404 Not Found\n #### ActiveSupport::Concern\ndiff --git a/app/controllers/admin/top_controller.rb b/app/controllers/admin/top_controller.rb\nindex d9a88b5..121ab66 100644\n--- a/app/controllers/admin/top_controller.rb\n+++ b/app/controllers/admin/top_controller.rb\n@@ -1,5 +1,6 @@\n class Admin::TopController &lt; ApplicationController\n   def index\n+    raise IpAddressRejected\n     render action: 'index'\n   end\n end\ndiff --git a/app/controllers/customer/top_controller.rb b/app/controllers/customer/top_controller.rb\nindex 9fc6012..592a8b3 100644\n--- a/app/controllers/customer/top_controller.rb\n+++ b/app/controllers/customer/top_controller.rb\n@@ -1,5 +1,6 @@\n class Customer::TopController &lt; ApplicationController\n   def index\n+    raise Forbidden\n     render action: 'index'\n   end\n end\n</code></pre>"},{"location":"journal/20170118/#_69","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170118/#f440eab","title":"\u30b3\u30df\u30c3\u30c8: f440eab","text":""},{"location":"journal/20170118/#_70","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>ERB\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4f5c\u6210 #2\n</code></pre>"},{"location":"journal/20170118/#_71","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/application_controller.rb</li> <li>A app/views/errors/forbidden.html.erb</li> </ul>"},{"location":"journal/20170118/#_72","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit f440eabb52e0d4d5d35f1788eab76e8d9aa9705e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 18 13:14:21 2017 +0900\n\n    ERB\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4f5c\u6210 #2\n\ndiff --git a/README.md b/README.md\nindex 4ca0c75..413988e 100644\n--- a/README.md\n+++ b/README.md\n@@ -320,6 +320,9 @@ git push heroku master\n + \u30d3\u30b8\u30e5\u30a2\u30eb\u30c7\u30b6\u30a4\u30f3\n\n #### 403 Forbidden\n++ \u4f8b\u5916\u306e\u6355\u6349\n++ ERB\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4f5c\u6210\n+\n #### 404 Not Found\n #### ActiveSupport::Concern\n\ndiff --git a/app/controllers/application_controller.rb b/app/controllers/application_controller.rb\nindex 3ab4c91..17ad04c 100644\n--- a/app/controllers/application_controller.rb\n+++ b/app/controllers/application_controller.rb\n@@ -3,7 +3,12 @@ class ApplicationController &lt; ActionController::Base\n\n   layout :set_layout\n\n+  class Forbidden &lt; ActionController::ActionControllerError; end\n+  class IpAddressRejected &lt; ActionController::ActionControllerError; end\n+\n   rescue_from Exception, with: :rescue500\n+  rescue_from Forbidden, with: :rescue403\n+  rescue_from IpAddressRejected, with: :rescue403\n\n   private\n   def set_layout\n@@ -14,6 +19,11 @@ class ApplicationController &lt; ActionController::Base\n     end\n   end\n\n+  def rescue403(e)\n+    @exception = e\n+    render 'errors/forbidden', status: 403\n+  end\n+\n   def rescue500(e)\n     @exception = e\n     render 'errors/internal_server_error', status: 500\ndiff --git a/app/views/errors/forbidden.html.erb b/app/views/errors/forbidden.html.erb\nnew file mode 100644\nindex 0000000..2d58bdf\n--- /dev/null\n+++ b/app/views/errors/forbidden.html.erb\n@@ -0,0 +1,13 @@\n+&lt;div class=\"Error__box\"&gt;\n+  &lt;h1&gt;403 Forbidden&lt;/h1&gt;\n+  &lt;p&gt;\n+    &lt;%=\n+      case @exception\n+      when ApplicationController::IpAddressRejected\n+        \"\u3042\u306a\u305f\u306eIP\u30a2\u30c9\u30ec\u30b9(#{request.ip})\u304b\u3089\u306f\u5229\u7528\u3067\u304d\u307e\u305b\u3093\u3002\"\n+      else\n+        '\u6307\u5b9a\u3055\u308c\u305f\u30da\u30fc\u30b8\u3092\u95b2\u89a7\u3059\u308b\u6a29\u9650\u304c\u3042\u308a\u307e\u305b\u3093\u3002'\n+      end\n+      %&gt;\n+  &lt;/p&gt;\n+&lt;/div&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170118/#_73","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170118/#7c47a5a","title":"\u30b3\u30df\u30c3\u30c8: 7c47a5a","text":""},{"location":"journal/20170118/#_74","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d3\u30b8\u30e5\u30a2\u30eb\u30c7\u30b6\u30a4\u30f3 #2\n</code></pre>"},{"location":"journal/20170118/#_75","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/assets/stylesheets/components/common/_errors.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/controllers/admin/top_controller.rb</li> <li>A app/views/errors/internal_server_error.html.erb</li> </ul>"},{"location":"journal/20170118/#_76","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 7c47a5a780720f8aa113ee6edf084a599e012c10\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jan 18 13:00:55 2017 +0900\n\n    \u30d3\u30b8\u30e5\u30a2\u30eb\u30c7\u30b6\u30a4\u30f3 #2\n\ndiff --git a/README.md b/README.md\nindex 6931138..4ca0c75 100644\n--- a/README.md\n+++ b/README.md\n@@ -317,6 +317,7 @@ git push heroku master\n #### 500 Internal Server Error\n + \u6e96\u5099\u4f5c\u696d\n + \u4f8b\u5916\u306e\u6355\u6349\n++ \u30d3\u30b8\u30e5\u30a2\u30eb\u30c7\u30b6\u30a4\u30f3\n\n #### 403 Forbidden\n #### 404 Not Found\ndiff --git a/app/assets/stylesheets/components/common/_errors.scss b/app/assets/stylesheets/components/common/_errors.scss\nnew file mode 100644\nindex 0000000..1f3979c\n--- /dev/null\n+++ b/app/assets/stylesheets/components/common/_errors.scss\n@@ -0,0 +1,20 @@\n+@charset 'utf-8';\n+\n+// =====================\n+// Error\n+// ---------------------\n+// \u30a8\u30e9\u30fc\n+// =====================\n+\n+.Error {\n+  &amp;__box {\n+    width: 600px;\n+    margin: 20px auto;\n+    padding: 20px;\n+    border-radius: 10px;\n+    border: solid 4px $dark_gray;\n+    background-color: $very_light_gray;\n+    text-align: center;\n+  }\n+  &amp;__test--url { font-family: monospace; }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 898bc2b..0d4f3b2 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -41,6 +41,9 @@\n // SNS\n @import \"./components/common/sns\";\n\n+// \u30a8\u30e9\u30fc\n+@import \"./components/common/errors\";\n+\n // Others\n //----------------------------\n // \u30d6\u30ed\u30b0\u629c\u7c8b\ndiff --git a/app/controllers/admin/top_controller.rb b/app/controllers/admin/top_controller.rb\nindex 532994c..d9a88b5 100644\n--- a/app/controllers/admin/top_controller.rb\n+++ b/app/controllers/admin/top_controller.rb\n@@ -1,6 +1,5 @@\n class Admin::TopController &lt; ApplicationController\n   def index\n-    raise\n     render action: 'index'\n   end\n end\ndiff --git a/app/views/errors/internal_server_error.html.erb b/app/views/errors/internal_server_error.html.erb\nnew file mode 100644\nindex 0000000..07fa14d\n--- /dev/null\n+++ b/app/views/errors/internal_server_error.html.erb\n@@ -0,0 +1,4 @@\n+&lt;div class=\"Error__box\"&gt;\n+  &lt;h1&gt;500 Internal Server Error&lt;/h1&gt;\n+  &lt;p&gt;\u7533\u3057\u8a33\u3054\u3056\u3044\u307e\u305b\u3093\u3002\u30b7\u30b9\u30c6\u30e0\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002&lt;/p&gt;\n+&lt;/div&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170118/#_77","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170120/","title":"\u4f5c\u696d\u5c65\u6b74 2017-01-20","text":""},{"location":"journal/20170120/#_1","title":"\u6982\u8981","text":"<p>2017-01-20\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\u6a5f\u80fd\u306e\u62e1\u5f35\u306b\u95a2\u3059\u308b\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002\u4e3b\u306b\u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u6a5f\u80fd\u306e\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30c3\u30bb\u30fc\u30b8\u8868\u793a\u3068\u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5b9f\u88c5\u3092\u884c\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170120/#_2","title":"\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\u6a5f\u80fd\u306e\u62e1\u5f35\u69cb\u6210\u56f3","text":""},{"location":"journal/20170120/#_3","title":"\u4f5c\u696d\u5185\u5bb9","text":""},{"location":"journal/20170120/#_4","title":"\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\u6a5f\u80fd\u306e\u62e1\u5f35","text":"<p>\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\u6a5f\u80fd\u3092\u62e1\u5f35\u3059\u308b\u305f\u3081\u3001\u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u5f8c\u306e\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30c3\u30bb\u30fc\u30b8\u8868\u793a\u6a5f\u80fd\u3068\u8a8d\u8a3c\u51e6\u7406\u3092\u884c\u3046\u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u306b\u5bfe\u3057\u3066\u64cd\u4f5c\u7d50\u679c\u306e\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u3092\u63d0\u4f9b\u3057\u3001\u8a8d\u8a3c\u30ed\u30b8\u30c3\u30af\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304b\u3089\u5206\u96e2\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170120/#_5","title":"\u5909\u66f4\u70b9\u306e\u6982\u8981","text":"<ol> <li>\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u5b9f\u88c5</li> <li>\u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u5f8c\u306e\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30c3\u30bb\u30fc\u30b8\u8868\u793a</li> <li> <p>\u6210\u529f\u30fb\u5931\u6557\u6642\u306e\u7570\u306a\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u30b9\u30bf\u30a4\u30eb</p> </li> <li> <p>\u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5c0e\u5165</p> </li> <li><code>Staff::Authenticator</code>\u30af\u30e9\u30b9\u306e\u5b9f\u88c5</li> <li> <p>\u8a8d\u8a3c\u30ed\u30b8\u30c3\u30af\u306e\u5206\u96e2\u3068\u518d\u5229\u7528\u6027\u306e\u5411\u4e0a</p> </li> <li> <p>\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5b9f\u88c5</p> </li> <li><code>Staff::LoginForm</code>\u30af\u30e9\u30b9\u306e\u4f5c\u6210</li> <li>\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306e\u5165\u529b\u5024\u51e6\u7406</li> </ol>"},{"location":"journal/20170120/#_6","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li>\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30c3\u30bb\u30fc\u30b8\u7528\u306eCSS\u30b9\u30bf\u30a4\u30eb\u5b9a\u7fa9</li> <li>\u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u3088\u308b\u8a8d\u8a3c\u51e6\u7406\u306e\u30ab\u30d7\u30bb\u30eb\u5316</li> <li>RSpec\u3092\u4f7f\u7528\u3057\u305f\u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30c6\u30b9\u30c8\u5b9f\u88c5</li> </ul>"},{"location":"journal/20170120/#ad31b26","title":"\u30b3\u30df\u30c3\u30c8: ad31b26","text":""},{"location":"journal/20170120/#_7","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8868\u793a #4\n</code></pre>"},{"location":"journal/20170120/#_8","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/assets/stylesheets/components/parts/_flash.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/views/shared/staff/_header.html.erb</li> </ul>"},{"location":"journal/20170120/#_9","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit ad31b2625ad6ce51979c2e7382e09af118d225dd\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 20 21:51:27 2017 +0900\n\n    \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8868\u793a #4\n\ndiff --git a/README.md b/README.md\nindex d66b2e0..6605555 100644\n--- a/README.md\n+++ b/README.md\n@@ -376,6 +376,7 @@ git push heroku master\n\n #### \u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u5f8c\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u8868\u793a\n + \u30d5\u30e9\u30c3\u30b7\u30e5\u3078\u306e\u66f8\u304d\u8fbc\u307f\n++ \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8868\u793a\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/assets/stylesheets/components/parts/_flash.scss b/app/assets/stylesheets/components/parts/_flash.scss\nnew file mode 100644\nindex 0000000..ab416bb\n--- /dev/null\n+++ b/app/assets/stylesheets/components/parts/_flash.scss\n@@ -0,0 +1,16 @@\n+//\u30e1\u30c3\u30bb\u30fc\u30b8\n+\n+.Flash {\n+  display: inline-block;\n+  padding: $narrow $moderate;\n+  margin: 0 $wide;\n+  font-size: $tiny;\n+  color: $very_light_gray;\n+\n+  &amp;__notice {\n+    background-color: $green;\n+  }\n+  &amp;__alert {\n+    background-color: $red;\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex bdbad80..c3e124a 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -27,6 +27,9 @@\n // \u30d5\u30c3\u30bf\u30fc\n @import \"./components/common/footer\";\n\n+// \u30e1\u30c3\u30bb\u30fc\u30b8\n+@import \"./components/parts/flash\";\n+\n // Common\n //----------------------------\n // \u30d8\u30c3\u30c0\u30fc\ndiff --git a/app/views/shared/staff/_header.html.erb b/app/views/shared/staff/_header.html.erb\nindex f1cd59f..02c5c15 100644\n--- a/app/views/shared/staff/_header.html.erb\n+++ b/app/views/shared/staff/_header.html.erb\n@@ -4,6 +4,12 @@\n   &lt;/div&gt;\n   &lt;div class=\"Header__head\"&gt;\n     &lt;h1 class=\"logo\"&gt;&lt;%= link_to('BAUKIS KAI', staff_root_url, class:'logo logo--staff') %&gt;&lt;/h1&gt;\n+\n+    &lt;div class=\"Flash\"&gt;\n+      &lt;%= content_tag(:span, flash.notice, class: 'Flash__notice') if flash.notice %&gt;\n+      &lt;%= content_tag(:span, flash.alert, class: 'Flash__alert') if flash.alert %&gt;\n+    &lt;/div&gt;\n+\n   &lt;/div&gt;\n   &lt;nav class=\"Header__body SpMenu\"&gt;\n     &lt;ul class=\"Menu\"&gt;\n</code></pre>"},{"location":"journal/20170120/#fc4b706","title":"\u30b3\u30df\u30c3\u30c8: fc4b706","text":""},{"location":"journal/20170120/#_10","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d5\u30e9\u30c3\u30b7\u30e5\u3078\u306e\u66f8\u304d\u8fbc\u307f #4\n</code></pre>"},{"location":"journal/20170120/#_11","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/sessions_controller.rb</li> </ul>"},{"location":"journal/20170120/#_12","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit fc4b7069c025f5f3fcae644225feb541f428eafd\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 20 21:14:47 2017 +0900\n\n    \u30d5\u30e9\u30c3\u30b7\u30e5\u3078\u306e\u66f8\u304d\u8fbc\u307f #4\n\ndiff --git a/README.md b/README.md\nindex 5c75cea..d66b2e0 100644\n--- a/README.md\n+++ b/README.md\n@@ -375,6 +375,8 @@ git push heroku master\n + \u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306espec\u30d5\u30a1\u30a4\u30eb\n\n #### \u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u5f8c\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u8868\u793a\n++ \u30d5\u30e9\u30c3\u30b7\u30e5\u3078\u306e\u66f8\u304d\u8fbc\u307f\n+\n #### \u6f14\u7fd2\u554f\u984c\n\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\ndiff --git a/app/controllers/staff/sessions_controller.rb b/app/controllers/staff/sessions_controller.rb\nindex 0d35540..db17793 100644\n--- a/app/controllers/staff/sessions_controller.rb\n+++ b/app/controllers/staff/sessions_controller.rb\n@@ -15,14 +15,17 @@ class Staff::SessionsController &lt; Staff::Base\n     end\n     if Staff::Authenticator.new(staff_member).authenticate(@form.password)\n       session[:staff_member_id] = staff_member.id\n+      flash.notice = '\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u305f\u3002'\n       redirect_to :staff_root\n     else\n+      flash.now.alert = '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u307e\u305f\u306f\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002'\n       render action: 'new'\n     end\n   end\n\n   def destroy\n     session.delete(:staff_member_id)\n+    flash.notice = '\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u307e\u3057\u305f\u3002'\n     redirect_to :staff_root\n   end\n</code></pre>"},{"location":"journal/20170120/#_13","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170120/#5372d70","title":"\u30b3\u30df\u30c3\u30c8: 5372d70","text":""},{"location":"journal/20170120/#_14","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306espec\u30d5\u30a1\u30a4\u30eb #4\n</code></pre>"},{"location":"journal/20170120/#_15","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M spec/factories/staff_members.rb</li> <li>A spec/services/staff/authenticator_spec.rb</li> </ul>"},{"location":"journal/20170120/#_16","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 5372d708650bbdb5e5c786d9d2e6a1ff095130ce\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 20 21:10:51 2017 +0900\n\n    \u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306espec\u30d5\u30a1\u30a4\u30eb #4\n\ndiff --git a/README.md b/README.md\nindex f56f71e..5c75cea 100644\n--- a/README.md\n+++ b/README.md\n@@ -372,6 +372,7 @@ git push heroku master\n\n #### \u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n + Staff::Authenticator\u30af\u30e9\u30b9\n++ \u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306espec\u30d5\u30a1\u30a4\u30eb\n\n #### \u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u5f8c\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u8868\u793a\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/spec/factories/staff_members.rb b/spec/factories/staff_members.rb\nindex 19592b2..ce6d3bb 100644\n--- a/spec/factories/staff_members.rb\n+++ b/spec/factories/staff_members.rb\n@@ -24,6 +24,14 @@\n\n FactoryGirl.define do\n   factory :staff_member do\n-    \n+    sequence(:email) { |n| \"meber#{n}@example.com\" }\n+    family_name '\u5c71\u7530'\n+    given_name '\u592a\u90ce'\n+    family_name_kana '\u30e4\u30de\u30c0'\n+    given_name_kana '\u30bf\u30ed\u30a6'\n+    password 'pw'\n+    start_date { Date.yesterday }\n+    end_date nil\n+    suspended false\n   end\n end\ndiff --git a/spec/services/staff/authenticator_spec.rb b/spec/services/staff/authenticator_spec.rb\nnew file mode 100644\nindex 0000000..248260b\n--- /dev/null\n+++ b/spec/services/staff/authenticator_spec.rb\n@@ -0,0 +1,41 @@\n+require 'rails_helper'\n+\n+describe Staff::Authenticator do\n+  describe '#authenticate' do\n+    # \u6b63\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3089true\u3092\u8fd4\u3059\n+    it 'should return true given valid password' do\n+      m = build(:staff_member)\n+      expect(Staff::Authenticator.new(m).authenticate('pw')).to be_truthy\n+    end\n+\n+    # \u8aa4\u3063\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3089false\u3092\u8fd4\u3059\n+    it 'should return false given invalid password' do\n+      m = build(:staff_member)\n+      expect(Staff::Authenticator.new(m).authenticate('xy')).to be_falsey\n+    end\n+\n+    # \u30d1\u30b9\u30ef\u30fc\u30c9\u672a\u8a2d\u5b9a\u306a\u3089false\u3092\u8fd4\u3059\n+    it 'should return false given nil password' do\n+      m = build(:staff_member)\n+      expect(Staff::Authenticator.new(m).authenticate(nil)).to be_falsey\n+    end\n+\n+    # \u505c\u6b62\u30d5\u30e9\u30b0\u304c\u7acb\u3063\u3066\u3044\u308c\u3070false\u3092\u8fd4\u3059\n+    it 'should return false given suspended true' do\n+      m = build(:staff_member, suspended: true)\n+      expect(Staff::Authenticator.new(m).authenticate('pw')).to be_falsey\n+    end\n+\n+    # \u958b\u59cb\u524d\u306a\u3089false\u3092\u8fd4\u3059\n+    it 'should return true given before start date' do\n+      m = build(:staff_member, start_date: Date.tomorrow)\n+      expect(Staff::Authenticator.new(m).authenticate('pw')).to be_falsey\n+    end\n+\n+    # \u7d42\u4e86\u5f8c\u306a\u3089false\u3092\u8fd4\u3059\n+    it 'should return false given after end date' do\n+      m = build(:staff_member, end_date: Date.today)\n+      expect(Staff::Authenticator.new(m).authenticate('pw')).to be_falsey\n+    end\n+  end\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170120/#_17","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170120/#35cc44c","title":"\u30b3\u30df\u30c3\u30c8: 35cc44c","text":""},{"location":"journal/20170120/#_18","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Staff::Authenticator\u30af\u30e9\u30b9 #4\n</code></pre>"},{"location":"journal/20170120/#_19","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/sessions_controller.rb</li> <li>A app/services/staff/authenticator.rb</li> </ul>"},{"location":"journal/20170120/#_20","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 35cc44c6e9780cef83783714dbf3e8be2fb18d57\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 20 20:49:11 2017 +0900\n\n    Staff::Authenticator\u30af\u30e9\u30b9 #4\n\ndiff --git a/README.md b/README.md\nindex 2550255..f56f71e 100644\n--- a/README.md\n+++ b/README.md\n@@ -371,6 +371,8 @@ git push heroku master\n + \u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u306e\u4f5c\u6210\n\n #### \u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n++ Staff::Authenticator\u30af\u30e9\u30b9\n+\n #### \u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u5f8c\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u8868\u793a\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/controllers/staff/sessions_controller.rb b/app/controllers/staff/sessions_controller.rb\nindex 3280280..0d35540 100644\n--- a/app/controllers/staff/sessions_controller.rb\n+++ b/app/controllers/staff/sessions_controller.rb\n@@ -13,7 +13,7 @@ class Staff::SessionsController &lt; Staff::Base\n     if @form.email.present?\n       staff_member = StaffMember.find_by(email_for_index: @form.email.downcase)\n     end\n-    if staff_member\n+    if Staff::Authenticator.new(staff_member).authenticate(@form.password)\n       session[:staff_member_id] = staff_member.id\n       redirect_to :staff_root\n     else\ndiff --git a/app/services/staff/authenticator.rb b/app/services/staff/authenticator.rb\nnew file mode 100644\nindex 0000000..27cbe22\n--- /dev/null\n+++ b/app/services/staff/authenticator.rb\n@@ -0,0 +1,14 @@\n+class Staff::Authenticator\n+  def initialize(staff_member)\n+    @staff_member = staff_member\n+  end\n+\n+  def authenticate(raw_password)\n+    @staff_member &amp;&amp;\n+        !@staff_member.suspended? &amp;&amp;\n+        @staff_member.hashed_password? &amp;&amp;\n+        @staff_member.start_date &lt;= Date.today &amp;&amp;\n+        (@staff_member.end_date.nil? || @staff_member.end_date &gt; Date.today) &amp;&amp;\n+        BCrypt::Password.new(@staff_member.hashed_password) == raw_password\n+  end\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170120/#_21","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170120/#9166c9d","title":"\u30b3\u30df\u30c3\u30c8: 9166c9d","text":""},{"location":"journal/20170120/#_22","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u306e\u4f5c\u6210 #4\n</code></pre>"},{"location":"journal/20170120/#_23","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/stylesheets/main.scss</li> <li>A app/assets/stylesheets/pages/_login.scss</li> <li>M app/views/staff/sessions/new.html.erb</li> </ul>"},{"location":"journal/20170120/#_24","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 9166c9d0a716f9109c574e1435827734bbcf7165\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 20 20:37:47 2017 +0900\n\n    \u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u306e\u4f5c\u6210 #4\n\ndiff --git a/README.md b/README.md\nindex 04a324c..2550255 100644\n--- a/README.md\n+++ b/README.md\n@@ -368,6 +368,7 @@ git push heroku master\n + \u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306e\u4f5c\u6210\n + params\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n + \u30ed\u30b0\u30a2\u30a6\u30c8\u6a5f\u80fd\u306e\u5b9f\u88c5\n++ \u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\u306e\u4f5c\u6210\n\n #### \u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n #### \u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u5f8c\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u8868\u793a\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 0d4f3b2..bdbad80 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -83,6 +83,9 @@\n // Administrator\n @import \"pages/admin\";\n\n+// Login\n+@import \"pages/login\";\n+\n // ===========================\n // Utils\n // ===========================\ndiff --git a/app/assets/stylesheets/pages/_login.scss b/app/assets/stylesheets/pages/_login.scss\nnew file mode 100644\nindex 0000000..dea90df\n--- /dev/null\n+++ b/app/assets/stylesheets/pages/_login.scss\n@@ -0,0 +1,26 @@\n+@charset 'utf-8';\n+\n+// =====================\n+// \u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8\u56fa\u6709\u306e\u30b9\u30bf\u30a4\u30eb\n+// =====================\n+\n+.Login {\n+  width: 400px;\n+  margin: $wide * 2 auto;\n+  padding: $wide * 2;\n+  border-radius: $wide;\n+  border: solid 4px $dark_cyan;\n+  background-color: $very_light_gray;\n+\n+  &amp;__head {\n+    background-color: transparent;\n+    color: $very_dark_cyan;\n+    font-size: $huge;\n+    font-weight: bold;\n+  }\n+\n+  &amp;__body {\n+  }\n+\n+}\n+\ndiff --git a/app/views/staff/sessions/new.html.erb b/app/views/staff/sessions/new.html.erb\nindex a38f2de..866f5ee 100644\n--- a/app/views/staff/sessions/new.html.erb\n+++ b/app/views/staff/sessions/new.html.erb\n@@ -1,22 +1,21 @@\n &lt;% @title = '\u30ed\u30b0\u30a4\u30f3' %&gt;\n-&lt;section class=\"Section\"&gt;\n-  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n-&lt;/section&gt;\n-\n &lt;section class=\"Section l-column\"&gt;\n-  &lt;div class=\"Form__login\"&gt;\n-    &lt;%= bootstrap_form_for @form, url: :staff_session do |f| %&gt;\n-        &lt;div&gt;\n-          &lt;%= f.label :email, '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9' %&gt;\n-          &lt;%= f.text_field :email %&gt;\n-        &lt;/div&gt;\n-        &lt;div&gt;\n-          &lt;%= f.label :password, '\u30d1\u30b9\u30ef\u30fc\u30c9' %&gt;\n-          &lt;%= f.password_field :password %&gt;\n-        &lt;/div&gt;\n-        &lt;div&gt;\n-          &lt;%= f.submit '\u30ed\u30b0\u30a4\u30f3' %&gt;\n-        &lt;/div&gt;\n-    &lt;% end %&gt;\n+  &lt;div class=\"Login\"&gt;\n+    &lt;h1 class=\"Login__head\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+    &lt;div class=\"Login__body\"&gt;\n+      &lt;%= bootstrap_form_for @form, url: :staff_session do |f| %&gt;\n+          &lt;div&gt;\n+            &lt;%= f.label :email, '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9' %&gt;\n+            &lt;%= f.text_field :email %&gt;\n+          &lt;/div&gt;\n+          &lt;div&gt;\n+            &lt;%= f.label :password, '\u30d1\u30b9\u30ef\u30fc\u30c9' %&gt;\n+            &lt;%= f.password_field :password %&gt;\n+          &lt;/div&gt;\n+          &lt;div&gt;\n+            &lt;%= f.submit '\u30ed\u30b0\u30a4\u30f3' %&gt;\n+          &lt;/div&gt;\n+      &lt;% end %&gt;\n+    &lt;/div&gt;\n   &lt;/div&gt;\n &lt;/section&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170120/#b555a0a","title":"\u30b3\u30df\u30c3\u30c8: b555a0a","text":""},{"location":"journal/20170120/#_25","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ed\u30b0\u30a2\u30a6\u30c8\u6a5f\u80fd\u306e\u5b9f\u88c5 #4\n</code></pre>"},{"location":"journal/20170120/#_26","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/sessions_controller.rb</li> </ul>"},{"location":"journal/20170120/#_27","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit b555a0ae10eb2edf1b825dc01313949614113e62\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 20 20:09:53 2017 +0900\n\n    \u30ed\u30b0\u30a2\u30a6\u30c8\u6a5f\u80fd\u306e\u5b9f\u88c5 #4\n\ndiff --git a/README.md b/README.md\nindex d7f863f..04a324c 100644\n--- a/README.md\n+++ b/README.md\n@@ -367,6 +367,7 @@ git push heroku master\n + \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u306f\n + \u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306e\u4f5c\u6210\n + params\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n++ \u30ed\u30b0\u30a2\u30a6\u30c8\u6a5f\u80fd\u306e\u5b9f\u88c5\n\n #### \u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n #### \u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u5f8c\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u8868\u793a\ndiff --git a/app/controllers/staff/sessions_controller.rb b/app/controllers/staff/sessions_controller.rb\nindex 42c01e6..3280280 100644\n--- a/app/controllers/staff/sessions_controller.rb\n+++ b/app/controllers/staff/sessions_controller.rb\n@@ -21,6 +21,11 @@ class Staff::SessionsController &lt; Staff::Base\n     end\n   end\n\n+  def destroy\n+    session.delete(:staff_member_id)\n+    redirect_to :staff_root\n+  end\n+\n   private\n   def post_params\n     params.require(:staff_login_form).permit(\n</code></pre>"},{"location":"journal/20170120/#_28","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170120/#839a362","title":"\u30b3\u30df\u30c3\u30c8: 839a362","text":""},{"location":"journal/20170120/#_29","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>params\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 #4\n</code></pre>"},{"location":"journal/20170120/#_30","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/sessions_controller.rb</li> <li>M app/views/shared/staff/_header.html.erb</li> </ul>"},{"location":"journal/20170120/#_31","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 839a3626de835012d1cfa40311484c01831a5155\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 20 20:00:50 2017 +0900\n\n    params\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 #4\n\ndiff --git a/README.md b/README.md\nindex c6ae8d6..d7f863f 100644\n--- a/README.md\n+++ b/README.md\n@@ -366,6 +366,7 @@ git push heroku master\n + \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n + \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u306f\n + \u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306e\u4f5c\u6210\n++ params\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n\n #### \u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n #### \u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u5f8c\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u8868\u793a\ndiff --git a/app/controllers/staff/sessions_controller.rb b/app/controllers/staff/sessions_controller.rb\nindex 8768286..42c01e6 100644\n--- a/app/controllers/staff/sessions_controller.rb\n+++ b/app/controllers/staff/sessions_controller.rb\n@@ -7,4 +7,26 @@ class Staff::SessionsController &lt; Staff::Base\n       render action: 'new'\n     end\n   end\n+\n+  def create\n+    @form = Staff::LoginForm.new(post_params)\n+    if @form.email.present?\n+      staff_member = StaffMember.find_by(email_for_index: @form.email.downcase)\n+    end\n+    if staff_member\n+      session[:staff_member_id] = staff_member.id\n+      redirect_to :staff_root\n+    else\n+      render action: 'new'\n+    end\n+  end\n+\n+  private\n+  def post_params\n+    params.require(:staff_login_form).permit(\n+                   :email,\n+                   :password\n+    )\n+  end\n+\n end\ndiff --git a/app/views/shared/staff/_header.html.erb b/app/views/shared/staff/_header.html.erb\nindex e28bfeb..f1cd59f 100644\n--- a/app/views/shared/staff/_header.html.erb\n+++ b/app/views/shared/staff/_header.html.erb\n@@ -11,7 +11,7 @@\n     &lt;/ul&gt;\n   &lt;/nav&gt;\n   &lt;%= if current_staff_member\n-        link_to '\u30ed\u30b0\u30a2\u30a6\u30c8', :staff_session, method:delete, class: 'login--staff'\n+        link_to '\u30ed\u30b0\u30a2\u30a6\u30c8', :staff_session, method: :delete, class: 'login--staff'\n       else\n         link_to '\u30ed\u30b0\u30a4\u30f3', :staff_login, class: 'login--staff'\n       end\n</code></pre>"},{"location":"journal/20170120/#_32","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170120/#c33fd6a","title":"\u30b3\u30df\u30c3\u30c8: c33fd6a","text":""},{"location":"journal/20170120/#_33","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306e\u4f5c\u6210 #4\n</code></pre>"},{"location":"journal/20170120/#_34","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/controllers/staff/sessions_controller.rb</li> <li>A app/views/staff/sessions/new.html.erb</li> <li>A config/locales/ja.yml</li> </ul>"},{"location":"journal/20170120/#_35","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c33fd6a8e628395789896a3c6ec6396f2ac08306\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 20 19:38:57 2017 +0900\n\n    \u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306e\u4f5c\u6210 #4\n\ndiff --git a/README.md b/README.md\nindex 60c2f16..c6ae8d6 100644\n--- a/README.md\n+++ b/README.md\n@@ -365,6 +365,7 @@ git push heroku master\n + \u30d5\u30a9\u30fc\u30e0\u306e\u57fa\u790e\u77e5\u8b58\n + \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n + \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u306f\n++ \u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306e\u4f5c\u6210\n\n #### \u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n #### \u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u5f8c\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u8868\u793a\ndiff --git a/app/controllers/staff/sessions_controller.rb b/app/controllers/staff/sessions_controller.rb\nnew file mode 100644\nindex 0000000..8768286\n--- /dev/null\n+++ b/app/controllers/staff/sessions_controller.rb\n@@ -0,0 +1,10 @@\n+class Staff::SessionsController &lt; Staff::Base\n+  def new\n+    if current_staff_member\n+      redirect_to :staff_root\n+    else\n+      @form = Staff::LoginForm.new\n+      render action: 'new'\n+    end\n+  end\n+end\ndiff --git a/app/views/staff/sessions/new.html.erb b/app/views/staff/sessions/new.html.erb\nnew file mode 100644\nindex 0000000..a38f2de\n--- /dev/null\n+++ b/app/views/staff/sessions/new.html.erb\n@@ -0,0 +1,22 @@\n+&lt;% @title = '\u30ed\u30b0\u30a4\u30f3' %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column\"&gt;\n+  &lt;div class=\"Form__login\"&gt;\n+    &lt;%= bootstrap_form_for @form, url: :staff_session do |f| %&gt;\n+        &lt;div&gt;\n+          &lt;%= f.label :email, '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9' %&gt;\n+          &lt;%= f.text_field :email %&gt;\n+        &lt;/div&gt;\n+        &lt;div&gt;\n+          &lt;%= f.label :password, '\u30d1\u30b9\u30ef\u30fc\u30c9' %&gt;\n+          &lt;%= f.password_field :password %&gt;\n+        &lt;/div&gt;\n+        &lt;div&gt;\n+          &lt;%= f.submit '\u30ed\u30b0\u30a4\u30f3' %&gt;\n+        &lt;/div&gt;\n+    &lt;% end %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/ja.yml b/config/locales/ja.yml\nnew file mode 100644\nindex 0000000..9ad8ae1\n--- /dev/null\n+++ b/config/locales/ja.yml\n@@ -0,0 +1,2 @@\n+ja:\n+  hello: \"Hello world\"\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170120/#_36","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170120/#6b4cb99","title":"\u30b3\u30df\u30c3\u30c8: 6b4cb99","text":""},{"location":"journal/20170120/#_37","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u306f #4\n</code></pre>"},{"location":"journal/20170120/#_38","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/forms/staff/login_form.rb</li> </ul>"},{"location":"journal/20170120/#_39","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 6b4cb99432d6262b7848e0bc7c490ca586a05147\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 20 19:07:15 2017 +0900\n\n    \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u306f #4\n\ndiff --git a/README.md b/README.md\nindex 2566d0c..60c2f16 100644\n--- a/README.md\n+++ b/README.md\n@@ -362,6 +362,10 @@ git push heroku master\n\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c(2)\n #### \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n++ \u30d5\u30a9\u30fc\u30e0\u306e\u57fa\u790e\u77e5\u8b58\n++ \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n++ \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u306f\n+\n #### \u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n #### \u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u5f8c\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u8868\u793a\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/forms/staff/login_form.rb b/app/forms/staff/login_form.rb\nnew file mode 100644\nindex 0000000..b6bbb7c\n--- /dev/null\n+++ b/app/forms/staff/login_form.rb\n@@ -0,0 +1,5 @@\n+class Staff::LoginForm\n+  include ActiveModel::Model\n+\n+  attr_accessor :email, :password\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170120/#97f2e61","title":"\u30b3\u30df\u30c3\u30c8: 97f2e61","text":""},{"location":"journal/20170120/#_40","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c(2) #4\n</code></pre>"},{"location":"journal/20170120/#_41","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170120/#_42","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 97f2e61f50b550b3d239b33f1b90ac04d3e6e9ed\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 20 19:03:46 2017 +0900\n\n    \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c(2) #4\n\ndiff --git a/README.md b/README.md\nindex 8fcd2ec..2566d0c 100644\n--- a/README.md\n+++ b/README.md\n@@ -360,7 +360,12 @@ git push heroku master\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8ffd\u52a0\n + \u30ea\u30f3\u30af\u306e\u8ffd\u52a0\n\n-### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n+### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c(2)\n+#### \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n+#### \u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n+#### \u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u5f8c\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u8868\u793a\n+#### \u6f14\u7fd2\u554f\u984c\n+\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n ### \u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664\n ### String Parameters\n</code></pre>"},{"location":"journal/20170120/#fd7aa50","title":"\u30b3\u30df\u30c3\u30c8: fd7aa50","text":""},{"location":"journal/20170120/#_43","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ea\u30f3\u30af\u306e\u8ffd\u52a0 #3\n</code></pre>"},{"location":"journal/20170120/#_44","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/stylesheets/pages/_admin.scss</li> <li>M app/views/shared/admin/_header.html.erb</li> </ul>"},{"location":"journal/20170120/#_45","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit fd7aa5050a04162cc7f5bf9309ba2ad9fee7d80a\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 20 10:08:27 2017 +0900\n\n    \u30ea\u30f3\u30af\u306e\u8ffd\u52a0 #3\n\ndiff --git a/README.md b/README.md\nindex 9efbd39..8fcd2ec 100644\n--- a/README.md\n+++ b/README.md\n@@ -358,6 +358,7 @@ git push heroku master\n + \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u4f5c\u6210\n + \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30d9\u30fc\u30b9\u30af\u30e9\u30b9\u4f5c\u6210\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8ffd\u52a0\n++ \u30ea\u30f3\u30af\u306e\u8ffd\u52a0\n\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\ndiff --git a/app/assets/stylesheets/pages/_admin.scss b/app/assets/stylesheets/pages/_admin.scss\nindex 1cc4ad7..a44b621 100644\n--- a/app/assets/stylesheets/pages/_admin.scss\n+++ b/app/assets/stylesheets/pages/_admin.scss\n@@ -11,6 +11,19 @@ html, body {\n   height: 100%;\n }\n\n+.Header__head {\n+  text-align: left;\n+}\n+\n+.logo--admin {\n+  color: $color-white;\n+}\n+\n+.login--admin {\n+  float: right;\n+  color: $very_light_gray;\n+}\n+\n .Admin {\n   &amp;__wrapper {\n     position: relative;\ndiff --git a/app/views/shared/admin/_header.html.erb b/app/views/shared/admin/_header.html.erb\nindex 83fa2a1..40dbea6 100644\n--- a/app/views/shared/admin/_header.html.erb\n+++ b/app/views/shared/admin/_header.html.erb\n@@ -10,4 +10,10 @@\n       &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;&lt;/a&gt;&lt;/li&gt;\n     &lt;/ul&gt;\n   &lt;/nav&gt;\n+  &lt;%= if current_administrator\n+        link_to '\u30ed\u30b0\u30a2\u30a6\u30c8', :staff_session, method:delete, class: 'login--staff'\n+      else\n+        link_to '\u30ed\u30b0\u30a4\u30f3', :staff_login, class: 'login--staff'\n+      end\n+  %&gt;\n &lt;/header&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170120/#cec5e4c","title":"\u30b3\u30df\u30c3\u30c8: cec5e4c","text":""},{"location":"journal/20170120/#_46","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8ffd\u52a0 #3\n</code></pre>"},{"location":"journal/20170120/#_47","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170120/#_48","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit cec5e4c644bec74df2ae9ddfed6c92c9aa29a2b5\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 20 09:59:01 2017 +0900\n\n    \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8ffd\u52a0 #3\n\ndiff --git a/README.md b/README.md\nindex f244fc3..9efbd39 100644\n--- a/README.md\n+++ b/README.md\n@@ -357,6 +357,7 @@ git push heroku master\n + \u30d1\u30b9\u30ef\u30fc\u30c9\u30e1\u30bd\u30c3\u30c9\u4f5c\u6210\n + \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u4f5c\u6210\n + \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30d9\u30fc\u30b9\u30af\u30e9\u30b9\u4f5c\u6210\n++ \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8ffd\u52a0\n\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 17026a1..59a0d54 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -7,6 +7,9 @@\n #            staff_session POST   /staff/session(.:format)            staff/sessions#create\n #                          DELETE /staff/session(.:format)            staff/sessions#destroy\n #               admin_root GET    /admin(.:format)                    admin/top#index\n+#              admin_login GET    /admin/login(.:format)              admin/sessions#new\n+#            admin_session POST   /admin/session(.:format)            admin/sessions#create\n+#                          DELETE /admin/session(.:format)            admin/sessions#destroy\n #            customer_root GET    /customer(.:format)                 customer/top#index\n #   customer_article_index GET    /customer/article/index(.:format)   customer/article#index\n #  customer_campaign_index GET    /customer/campaign/index(.:format)  customer/campaign#index\n@@ -27,6 +30,9 @@ Rails.application.routes.draw do\n\n   namespace :admin do\n     root 'top#index'\n+    get    'login'   =&gt; 'sessions#new', as: :login\n+    post   'session' =&gt; 'sessions#create', as: :session\n+    delete 'session' =&gt; 'sessions#destroy'\n   end\n\n   namespace :customer do\n</code></pre>"},{"location":"journal/20170120/#c4d8027","title":"\u30b3\u30df\u30c3\u30c8: c4d8027","text":""},{"location":"journal/20170120/#_49","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30d9\u30fc\u30b9\u30af\u30e9\u30b9\u4f5c\u6210 #3\n</code></pre>"},{"location":"journal/20170120/#_50","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/controllers/admin/base.rb</li> <li>M app/controllers/admin/top_controller.rb</li> </ul>"},{"location":"journal/20170120/#_51","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c4d80274c6d3606f5f4b2f4432db83cf94b06728\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 20 09:50:04 2017 +0900\n\n    \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30d9\u30fc\u30b9\u30af\u30e9\u30b9\u4f5c\u6210 #3\n\ndiff --git a/README.md b/README.md\nindex f03ecee..f244fc3 100644\n--- a/README.md\n+++ b/README.md\n@@ -356,6 +356,7 @@ git push heroku master\n + \u30d1\u30b9\u30ef\u30fc\u30c9\u30e1\u30bd\u30c3\u30c9\u30c6\u30b9\u30c8\u4f5c\u6210\n + \u30d1\u30b9\u30ef\u30fc\u30c9\u30e1\u30bd\u30c3\u30c9\u4f5c\u6210\n + \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u4f5c\u6210\n++ \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30d9\u30fc\u30b9\u30af\u30e9\u30b9\u4f5c\u6210\n\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\ndiff --git a/app/controllers/admin/base.rb b/app/controllers/admin/base.rb\nnew file mode 100644\nindex 0000000..8e245f0\n--- /dev/null\n+++ b/app/controllers/admin/base.rb\n@@ -0,0 +1,11 @@\n+class Admin::Base &lt; ApplicationController\n+  private\n+  def current_administrator\n+    if session[:administrator_id]\n+      @current_administrator ||=\n+          Administrator.find_by(id: session[:administrator_id_id])\n+    end\n+  end\n+\n+  helper_method :current_administrator\n+end\n\\ No newline at end of file\ndiff --git a/app/controllers/admin/top_controller.rb b/app/controllers/admin/top_controller.rb\nindex d9a88b5..e90d00d 100644\n--- a/app/controllers/admin/top_controller.rb\n+++ b/app/controllers/admin/top_controller.rb\n@@ -1,4 +1,4 @@\n-class Admin::TopController &lt; ApplicationController\n+class Admin::TopController &lt; Admin::Base\n   def index\n     render action: 'index'\n   end\n</code></pre>"},{"location":"journal/20170120/#_52","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170120/#5064a51","title":"\u30b3\u30df\u30c3\u30c8: 5064a51","text":""},{"location":"journal/20170120/#_53","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u4f5c\u6210 #3\n</code></pre>"},{"location":"journal/20170120/#_54","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A db/seed/development/administrators.rb</li> <li>M db/seeds.rb</li> </ul>"},{"location":"journal/20170120/#_55","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 5064a51c7b5d76ab5e41b9926f2cf1dc9b0c93ea\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 20 09:41:46 2017 +0900\n\n    \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u4f5c\u6210 #3\n\ndiff --git a/README.md b/README.md\nindex ef7270f..f03ecee 100644\n--- a/README.md\n+++ b/README.md\n@@ -355,6 +355,7 @@ git push heroku master\n + \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u8ffd\u52a0\n + \u30d1\u30b9\u30ef\u30fc\u30c9\u30e1\u30bd\u30c3\u30c9\u30c6\u30b9\u30c8\u4f5c\u6210\n + \u30d1\u30b9\u30ef\u30fc\u30c9\u30e1\u30bd\u30c3\u30c9\u4f5c\u6210\n++ \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u4f5c\u6210\n\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\ndiff --git a/db/seed/development/administrators.rb b/db/seed/development/administrators.rb\nnew file mode 100644\nindex 0000000..61dc988\n--- /dev/null\n+++ b/db/seed/development/administrators.rb\n@@ -0,0 +1,4 @@\n+Administrator.create(\n+               email: 'hanako@example.com',\n+               password: 'foobar'\n+)\n\\ No newline at end of file\ndiff --git a/db/seeds.rb b/db/seeds.rb\nindex 3549c1d..aa5909a 100644\n--- a/db/seeds.rb\n+++ b/db/seeds.rb\n@@ -6,7 +6,7 @@\n\n #   movies = Movie.create([{ name: 'Star Wars' }, { name: 'Lord of the Rings' }])\n #   Character.create(name: 'Luke', movie: movies.first)\n-table_names = %w(staff_members)\n+table_names = %w(staff_members administrators)\n table_names.each do |table_name|\n   path = Rails.root.join('db','seed',Rails.env, \"#{table_name}.rb\")\n   if File.exist?(path)\n</code></pre>"},{"location":"journal/20170120/#5f01188","title":"\u30b3\u30df\u30c3\u30c8: 5f01188","text":""},{"location":"journal/20170120/#_56","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d1\u30b9\u30ef\u30fc\u30c9\u30e1\u30bd\u30c3\u30c9\u4f5c\u6210 #3\n</code></pre>"},{"location":"journal/20170120/#_57","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/administrator.rb</li> </ul>"},{"location":"journal/20170120/#_58","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 5f01188197b6d1b681bb5518f9aab553e07b82bf\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 20 09:36:25 2017 +0900\n\n    \u30d1\u30b9\u30ef\u30fc\u30c9\u30e1\u30bd\u30c3\u30c9\u4f5c\u6210 #3\n\ndiff --git a/README.md b/README.md\nindex e5b3977..ef7270f 100644\n--- a/README.md\n+++ b/README.md\n@@ -354,6 +354,7 @@ git push heroku master\n + \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\n + \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u8ffd\u52a0\n + \u30d1\u30b9\u30ef\u30fc\u30c9\u30e1\u30bd\u30c3\u30c9\u30c6\u30b9\u30c8\u4f5c\u6210\n++ \u30d1\u30b9\u30ef\u30fc\u30c9\u30e1\u30bd\u30c3\u30c9\u4f5c\u6210\n\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\ndiff --git a/app/models/administrator.rb b/app/models/administrator.rb\nindex 913908c..6ddd486 100644\n--- a/app/models/administrator.rb\n+++ b/app/models/administrator.rb\n@@ -20,4 +20,11 @@ class Administrator &lt; ApplicationRecord\n     self.email_for_index = email.downcase if email\n   end\n\n+  def password=(raw_password)\n+    if raw_password.kind_of?(String)\n+      self.hashed_password = BCrypt::Password.create(raw_password)\n+    elsif raw_password.nil?\n+      self.hashed_password = nil\n+    end\n+  end\n end\n</code></pre>"},{"location":"journal/20170120/#_59","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170120/#4f2eab5","title":"\u30b3\u30df\u30c3\u30c8: 4f2eab5","text":""},{"location":"journal/20170120/#_60","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d1\u30b9\u30ef\u30fc\u30c9\u30e1\u30bd\u30c3\u30c9\u30c6\u30b9\u30c8\u4f5c\u6210 #3\n</code></pre>"},{"location":"journal/20170120/#_61","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M spec/models/administrator_spec.rb</li> </ul>"},{"location":"journal/20170120/#_62","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 4f2eab547c0841d7e59a0cfb0f0b4281eaa0af8d\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 20 09:32:31 2017 +0900\n\n    \u30d1\u30b9\u30ef\u30fc\u30c9\u30e1\u30bd\u30c3\u30c9\u30c6\u30b9\u30c8\u4f5c\u6210 #3\n\ndiff --git a/README.md b/README.md\nindex 1fdb467..e5b3977 100644\n--- a/README.md\n+++ b/README.md\n@@ -353,6 +353,7 @@ git push heroku master\n + \u7ba1\u7406\u8005\u30e2\u30c7\u30eb\u4f5c\u6210\n + \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\n + \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u8ffd\u52a0\n++ \u30d1\u30b9\u30ef\u30fc\u30c9\u30e1\u30bd\u30c3\u30c9\u30c6\u30b9\u30c8\u4f5c\u6210\n\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\ndiff --git a/spec/models/administrator_spec.rb b/spec/models/administrator_spec.rb\nindex 8287e77..a03f296 100644\n--- a/spec/models/administrator_spec.rb\n+++ b/spec/models/administrator_spec.rb\n@@ -18,5 +18,20 @@\n require 'rails_helper'\n\n RSpec.describe Administrator, type: :model do\n-  pending \"add some examples to (or delete) #{__FILE__}\"\n+  describe '#password=' do\n+    # \u6587\u5b57\u5217\u3092\u4e0e\u3048\u308b\u3068\u3001hashed_password\u306f\u9577\u305560\u306e\u6587\u5b57\u5217\u306b\u306a\u308b\n+    it 'is a string of length 60 of hashed_password when giving a string' do\n+      admin = Administrator.new\n+      admin.password = 'baukis'\n+      expect(admin.hashed_password).to be_kind_of(String)\n+      expect(admin.hashed_password.size).to eq(60)\n+    end\n+\n+    # nil\u3092\u4e0e\u3048\u308b\u3068\u3001hashed_password\u306fnil\u306b\u306a\u308b\n+    it 'is nil of hashed_password when giving a nil' do\n+      admin = Administrator.new(hashed_password: 'x')\n+      admin.password = nil\n+      expect(admin.hashed_password).to be_nil\n+    end\n+  end\n end\n</code></pre>"},{"location":"journal/20170120/#_63","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170120/#8ecfc1f","title":"\u30b3\u30df\u30c3\u30c8: 8ecfc1f","text":""},{"location":"journal/20170120/#_64","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u8ffd\u52a0 #3\n</code></pre>"},{"location":"journal/20170120/#_65","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/administrator.rb</li> </ul>"},{"location":"journal/20170120/#_66","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8ecfc1f77882af95f528522ee1e66a3c86cb2104\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 20 09:27:15 2017 +0900\n\n    \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u8ffd\u52a0 #3\n\ndiff --git a/README.md b/README.md\nindex 386b877..1fdb467 100644\n--- a/README.md\n+++ b/README.md\n@@ -352,6 +352,7 @@ git push heroku master\n #### \u6f14\u7fd2\u554f\u984c\n + \u7ba1\u7406\u8005\u30e2\u30c7\u30eb\u4f5c\u6210\n + \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\n++ \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u8ffd\u52a0\n\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\ndiff --git a/app/models/administrator.rb b/app/models/administrator.rb\nindex 7eea65d..913908c 100644\n--- a/app/models/administrator.rb\n+++ b/app/models/administrator.rb\n@@ -16,4 +16,8 @@\n #\n\n class Administrator &lt; ApplicationRecord\n+  before_validation do\n+    self.email_for_index = email.downcase if email\n+  end\n+\n end\n</code></pre>"},{"location":"journal/20170120/#_67","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170120/#dca861b","title":"\u30b3\u30df\u30c3\u30c8: dca861b","text":""},{"location":"journal/20170120/#_68","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3 #3\n</code></pre>"},{"location":"journal/20170120/#_69","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/administrator.rb</li> <li>M db/migrate/20170120000741_create_administrators.rb</li> <li>M db/schema.rb</li> <li>M spec/factories/administrators.rb</li> <li>M spec/models/administrator_spec.rb</li> </ul>"},{"location":"journal/20170120/#_70","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit dca861b3cdacaf5380757e4a3b346a785e0687c4\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 20 09:23:23 2017 +0900\n\n    \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3 #3\n\ndiff --git a/README.md b/README.md\nindex 6d59274..386b877 100644\n--- a/README.md\n+++ b/README.md\n@@ -351,6 +351,7 @@ git push heroku master\n\n #### \u6f14\u7fd2\u554f\u984c\n + \u7ba1\u7406\u8005\u30e2\u30c7\u30eb\u4f5c\u6210\n++ \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\n\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\ndiff --git a/app/models/administrator.rb b/app/models/administrator.rb\nindex c01d07e..7eea65d 100644\n--- a/app/models/administrator.rb\n+++ b/app/models/administrator.rb\n@@ -1,2 +1,19 @@\n+# == Schema Information\n+#\n+# Table name: administrators # \u7ba1\u7406\u8005\n+#\n+#  id              :integer          not null, primary key\n+#  email           :string(255)      not null               # \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+#  email_for_index :string(255)      not null               # \u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+#  hashed_password :string(255)                             # \u30d1\u30b9\u30ef\u30fc\u30c9\n+#  suspended       :boolean          default(\"0\"), not null # \u505c\u6b62\u30d5\u30e9\u30b0\n+#  created_at      :datetime         not null\n+#  updated_at      :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_administrators_on_email_for_index  (email_for_index) UNIQUE\n+#\n+\n class Administrator &lt; ApplicationRecord\n end\ndiff --git a/db/migrate/20170120000741_create_administrators.rb b/db/migrate/20170120000741_create_administrators.rb\nindex 29819ba..68a7747 100644\n--- a/db/migrate/20170120000741_create_administrators.rb\n+++ b/db/migrate/20170120000741_create_administrators.rb\n@@ -1,8 +1,15 @@\n class CreateAdministrators &lt; ActiveRecord::Migration[5.0]\n   def change\n-    create_table :administrators do |t|\n+    create_table :administrators, comment: '\u7ba1\u7406\u8005' do |t|\n+      t.string :email, null: false, comment: '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9'\n+      t.string :email_for_index, null: false, comment: '\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9'\n+      t.string :hashed_password, comment: '\u30d1\u30b9\u30ef\u30fc\u30c9'\n+      t.boolean :suspended, null: false, default: false, comment: '\u505c\u6b62\u30d5\u30e9\u30b0'\n+\n\n       t.timestamps\n     end\n+\n+    add_index :administrators, :email_for_index, unique: true\n   end\n end\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 8209b42..b5f43b8 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -10,7 +10,17 @@\n #\n # It's strongly recommended that you check this file into your version control system.\n\n-ActiveRecord::Schema.define(version: 20170118073759) do\n+ActiveRecord::Schema.define(version: 20170120000741) do\n+\n+  create_table \"administrators\", force: :cascade do |t|\n+    t.string   \"email\",                           null: false\n+    t.string   \"email_for_index\",                 null: false\n+    t.string   \"hashed_password\"\n+    t.boolean  \"suspended\",       default: false, null: false\n+    t.datetime \"created_at\",                      null: false\n+    t.datetime \"updated_at\",                      null: false\n+    t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true\n+  end\n\n   create_table \"staff_members\", force: :cascade do |t|\n     t.string   \"email\",                            null: false\ndiff --git a/spec/factories/administrators.rb b/spec/factories/administrators.rb\nindex c27d055..ee37bdc 100644\n--- a/spec/factories/administrators.rb\n+++ b/spec/factories/administrators.rb\n@@ -1,3 +1,20 @@\n+# == Schema Information\n+#\n+# Table name: administrators # \u7ba1\u7406\u8005\n+#\n+#  id              :integer          not null, primary key\n+#  email           :string(255)      not null               # \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+#  email_for_index :string(255)      not null               # \u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+#  hashed_password :string(255)                             # \u30d1\u30b9\u30ef\u30fc\u30c9\n+#  suspended       :boolean          default(\"0\"), not null # \u505c\u6b62\u30d5\u30e9\u30b0\n+#  created_at      :datetime         not null\n+#  updated_at      :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_administrators_on_email_for_index  (email_for_index) UNIQUE\n+#\n+\n FactoryGirl.define do\n   factory :administrator do\n\ndiff --git a/spec/models/administrator_spec.rb b/spec/models/administrator_spec.rb\nindex da3b2ad..8287e77 100644\n--- a/spec/models/administrator_spec.rb\n+++ b/spec/models/administrator_spec.rb\n@@ -1,3 +1,20 @@\n+# == Schema Information\n+#\n+# Table name: administrators # \u7ba1\u7406\u8005\n+#\n+#  id              :integer          not null, primary key\n+#  email           :string(255)      not null               # \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+#  email_for_index :string(255)      not null               # \u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+#  hashed_password :string(255)                             # \u30d1\u30b9\u30ef\u30fc\u30c9\n+#  suspended       :boolean          default(\"0\"), not null # \u505c\u6b62\u30d5\u30e9\u30b0\n+#  created_at      :datetime         not null\n+#  updated_at      :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_administrators_on_email_for_index  (email_for_index) UNIQUE\n+#\n+\n require 'rails_helper'\n\n RSpec.describe Administrator, type: :model do\n</code></pre>"},{"location":"journal/20170120/#_71","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170120/#5641609","title":"\u30b3\u30df\u30c3\u30c8: 5641609","text":""},{"location":"journal/20170120/#_72","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u7ba1\u7406\u8005\u30e2\u30c7\u30eb\u4f5c\u6210 #3\n</code></pre>"},{"location":"journal/20170120/#_73","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/models/administrator.rb</li> <li>A db/migrate/20170120000741_create_administrators.rb</li> <li>A spec/factories/administrators.rb</li> <li>A spec/models/administrator_spec.rb</li> </ul>"},{"location":"journal/20170120/#_74","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 564160942dce737616788ba548aed908ff838a5b\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 20 09:10:05 2017 +0900\n\n    \u7ba1\u7406\u8005\u30e2\u30c7\u30eb\u4f5c\u6210 #3\n\ndiff --git a/README.md b/README.md\nindex 50acaf7..6d59274 100644\n--- a/README.md\n+++ b/README.md\n@@ -349,6 +349,9 @@ git push heroku master\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u6c7a\u5b9a\n + \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e\n\n+#### \u6f14\u7fd2\u554f\u984c\n++ \u7ba1\u7406\u8005\u30e2\u30c7\u30eb\u4f5c\u6210\n+\n ### \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n ### \u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664\ndiff --git a/app/models/administrator.rb b/app/models/administrator.rb\nnew file mode 100644\nindex 0000000..c01d07e\n--- /dev/null\n+++ b/app/models/administrator.rb\n@@ -0,0 +1,2 @@\n+class Administrator &lt; ApplicationRecord\n+end\ndiff --git a/db/migrate/20170120000741_create_administrators.rb b/db/migrate/20170120000741_create_administrators.rb\nnew file mode 100644\nindex 0000000..29819ba\n--- /dev/null\n+++ b/db/migrate/20170120000741_create_administrators.rb\n@@ -0,0 +1,8 @@\n+class CreateAdministrators &lt; ActiveRecord::Migration[5.0]\n+  def change\n+    create_table :administrators do |t|\n+\n+      t.timestamps\n+    end\n+  end\n+end\ndiff --git a/spec/factories/administrators.rb b/spec/factories/administrators.rb\nnew file mode 100644\nindex 0000000..c27d055\n--- /dev/null\n+++ b/spec/factories/administrators.rb\n@@ -0,0 +1,5 @@\n+FactoryGirl.define do\n+  factory :administrator do\n+    \n+  end\n+end\ndiff --git a/spec/models/administrator_spec.rb b/spec/models/administrator_spec.rb\nnew file mode 100644\nindex 0000000..da3b2ad\n--- /dev/null\n+++ b/spec/models/administrator_spec.rb\n@@ -0,0 +1,5 @@\n+require 'rails_helper'\n+\n+RSpec.describe Administrator, type: :model do\n+  pending \"add some examples to (or delete) #{__FILE__}\"\n+end\n</code></pre>"},{"location":"journal/20170120/#_75","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170121/","title":"\u4f5c\u696d\u5c65\u6b74 2017-01-21","text":""},{"location":"journal/20170121/#_1","title":"\u6982\u8981","text":"<p>2017-01-21\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u56fd\u969b\u5316\uff08i18n\uff09\u6a5f\u80fd\u306e\u5b9f\u88c5\u306b\u95a2\u3059\u308b\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002\u4e3b\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u591a\u8a00\u8a9e\u5bfe\u5fdc\u3068\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\u6a5f\u80fd\u306e\u66f4\u65b0\u3092\u884c\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170121/#i18n","title":"\u56fd\u969b\u5316\uff08i18n\uff09\u6a5f\u80fd\u306e\u69cb\u6210\u56f3","text":""},{"location":"journal/20170121/#_2","title":"\u4f5c\u696d\u5185\u5bb9","text":""},{"location":"journal/20170121/#i18n_1","title":"\u56fd\u969b\u5316\uff08i18n\uff09\u6a5f\u80fd\u306e\u5b9f\u88c5","text":"<p>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u56fd\u969b\u5316\uff08i18n\uff09\u6a5f\u80fd\u3092\u5b9f\u88c5\u3059\u308b\u305f\u3081\u3001\u30ed\u30b1\u30fc\u30eb\u30d5\u30a1\u30a4\u30eb\u306e\u8a2d\u5b9a\u3068\u7ffb\u8a33\u30ea\u30bd\u30fc\u30b9\u306e\u8ffd\u52a0\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5168\u4f53\u3067\u4e00\u8cab\u3057\u305f\u8a00\u8a9e\u8868\u793a\u304c\u53ef\u80fd\u306b\u306a\u308a\u3001\u5c06\u6765\u7684\u306a\u591a\u8a00\u8a9e\u5bfe\u5fdc\u306e\u57fa\u76e4\u304c\u6574\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170121/#_3","title":"\u5909\u66f4\u70b9\u306e\u6982\u8981","text":"<ol> <li>i18n\u8a2d\u5b9a\u306e\u8ffd\u52a0</li> <li>i18n_generators Gem\u306e\u8ffd\u52a0</li> <li>\u30ed\u30b1\u30fc\u30eb\u30d5\u30a1\u30a4\u30eb\u306e\u69cb\u9020\u5316</li> <li> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u30ed\u30b1\u30fc\u30eb\u306e\u8a2d\u5b9a</p> </li> <li> <p>\u7ffb\u8a33\u30ea\u30bd\u30fc\u30b9\u306e\u8ffd\u52a0</p> </li> <li>\u30e2\u30c7\u30eb\u95a2\u9023\u306e\u7ffb\u8a33\uff08\u5c5e\u6027\u540d\u3001\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306a\u3069\uff09</li> <li>\u30d3\u30e5\u30fc\u95a2\u9023\u306e\u7ffb\u8a33\uff08\u30e9\u30d9\u30eb\u3001\u30dc\u30bf\u30f3\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306a\u3069\uff09</li> <li> <p>\u5171\u901a\u90e8\u5206\u306e\u7ffb\u8a33</p> </li> <li> <p>\u30d3\u30e5\u30fc\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u66f4\u65b0</p> </li> <li>\u9759\u7684\u30c6\u30ad\u30b9\u30c8\u3092\u7ffb\u8a33\u30ad\u30fc\u306b\u7f6e\u304d\u63db\u3048</li> <li>\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306e\u56fd\u969b\u5316\u5bfe\u5fdc</li> <li>\u30d8\u30c3\u30c0\u30fc\u90e8\u5206\u306e\u56fd\u969b\u5316\u5bfe\u5fdc</li> </ol>"},{"location":"journal/20170121/#_4","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li>YAML\u30d5\u30a1\u30a4\u30eb\u306b\u3088\u308b\u968e\u5c64\u7684\u306a\u7ffb\u8a33\u30ea\u30bd\u30fc\u30b9\u7ba1\u7406</li> <li><code>t</code>\u30d8\u30eb\u30d1\u30fc\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3057\u305f\u7ffb\u8a33\u306e\u9069\u7528</li> <li>\u30e2\u30c7\u30eb\u540d\u3084\u5c5e\u6027\u540d\u306e\u81ea\u52d5\u7ffb\u8a33\u6a5f\u80fd\u306e\u6d3b\u7528</li> </ul>"},{"location":"journal/20170121/#4275589","title":"\u30b3\u30df\u30c3\u30c8: 4275589","text":""},{"location":"journal/20170121/#_5","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\u6a5f\u80fd\n</code></pre>"},{"location":"journal/20170121/#_6","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/admin/top/index.html.erb</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170121/#_7","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 4275589d1068bb49ceca3fc15a153a66363f5e52\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 21 19:04:21 2017 +0900\n\n    \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\u6a5f\u80fd\n\ndiff --git a/app/views/admin/top/index.html.erb b/app/views/admin/top/index.html.erb\nindex 81d36bc..fa3f9a8 100644\n--- a/app/views/admin/top/index.html.erb\n+++ b/app/views/admin/top/index.html.erb\n@@ -9,7 +9,11 @@\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n-      &lt;time class=\"NewsList__head\" datatime=\"2017-1-17\"&gt;2016.10.12&lt;/time&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-1-21\"&gt;2017.1.21&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-1-17\"&gt;2017.1.17&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u958b\u767a\u3092\u958b\u59cb\u3057\u307e\u3057\u305f&lt;/span&gt;\n     &lt;/li&gt;\n   &lt;/ol&gt;\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex feba999..f510527 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-1-21\"&gt;2017.1.21&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-1-18\"&gt;2017.1.18&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u30a8\u30e9\u30fc\u30da\u30fc\u30b8\u3092\u8ffd\u52a0&lt;/span&gt;\n</code></pre>"},{"location":"journal/20170121/#2291956","title":"\u30b3\u30df\u30c3\u30c8: 2291956","text":""},{"location":"journal/20170121/#_8","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>i18n\u306e\u8a2d\u5b9a\u3068\u9069\u7528\n</code></pre>"},{"location":"journal/20170121/#_9","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .idea/.rakeTasks</li> <li>M Gemfile</li> <li>M README.md</li> <li>M app/views/admin/sessions/new.html.erb</li> <li>M app/views/admin/shared/_header.html.erb</li> <li>M app/views/staff/sessions/new.html.erb</li> <li>M app/views/staff/shared/_header.html.erb</li> <li>M config/locales/ja.yml</li> <li>A config/locales/models/models.yml</li> <li>A config/locales/views/views.yml</li> </ul>"},{"location":"journal/20170121/#_10","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 2291956c5041add7e315ce47059d9a61f4c16b85\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 21 19:02:37 2017 +0900\n\n    i18n\u306e\u8a2d\u5b9a\u3068\u9069\u7528\n\ndiff --git a/.idea/.rakeTasks b/.idea/.rakeTasks\nindex 9cf55a4..5b28e63 100644\n--- a/.idea/.rakeTasks\n+++ b/.idea/.rakeTasks\n@@ -4,4 +4,4 @@ You are allowed to:\n 1. Remove rake task\n 2. Add existing rake tasks\n To add existing rake tasks automatically delete this file and reload the project.\n---&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rake\"&gt;&lt;RakeTask description=\"List versions of all Rails frameworks and the environment\" fullCmd=\"about\" taksId=\"about\" /&gt;&lt;RakeTask description=\"Add schema information (as comments) to model and fixture files\" fullCmd=\"annotate_models\" taksId=\"annotate_models\" /&gt;&lt;RakeTask description=\"Adds the route map to routes.rb\" fullCmd=\"annotate_routes\" taksId=\"annotate_routes\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"app\"&gt;&lt;RakeTask description=\"Applies the template supplied by LOCATION=(/path/to/template) or URL\" fullCmd=\"app:template\" taksId=\"template\" /&gt;&lt;RakeTask description=\"Update configs and some other initially generated files (or use just update:configs or update:bin)\" fullCmd=\"app:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:configs\" taksId=\"configs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:upgrade_guide_info\" taksId=\"upgrade_guide_info\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"assets\"&gt;&lt;RakeTask description=\"Remove old compiled assets\" fullCmd=\"assets:clean[keep]\" taksId=\"clean[keep]\" /&gt;&lt;RakeTask description=\"Remove compiled assets\" fullCmd=\"assets:clobber\" taksId=\"clobber\" /&gt;&lt;RakeTask description=\"Load asset compile environment\" fullCmd=\"assets:environment\" taksId=\"environment\" /&gt;&lt;RakeTask description=\"Compile all the assets named in config.assets.precompile\" fullCmd=\"assets:precompile\" taksId=\"precompile\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"assets:clean\" taksId=\"clean\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache_digests\"&gt;&lt;RakeTask description=\"Lookup first-level dependencies for TEMPLATE (like messages/show or comments/_comment.html)\" fullCmd=\"cache_digests:dependencies\" taksId=\"dependencies\" /&gt;&lt;RakeTask description=\"Lookup nested dependencies for TEMPLATE (like messages/show or comments/_comment.html)\" fullCmd=\"cache_digests:nested_dependencies\" taksId=\"nested_dependencies\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"db\"&gt;&lt;RakeTask description=\"Creates the database from DATABASE_URL or config/database.yml for the current RAILS_ENV (use db:create:all to create all databases in the config). Without RAILS_ENV or when RAILS_ENV is development, it defaults to creating the development and test databases\" fullCmd=\"db:create\" taksId=\"create\" /&gt;&lt;RakeTask description=\"Drops the database from DATABASE_URL or config/database.yml for the current RAILS_ENV (use db:drop:all to drop all databases in the config). Without RAILS_ENV or when RAILS_ENV is development, it defaults to dropping the development and test databases\" fullCmd=\"db:drop\" taksId=\"drop\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"environment\"&gt;&lt;RakeTask description=\"Set the environment value for the database\" fullCmd=\"db:environment:set\" taksId=\"set\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"fixtures\"&gt;&lt;RakeTask description=\"Loads fixtures into the current environment's database\" fullCmd=\"db:fixtures:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:fixtures:identify\" taksId=\"identify\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Migrate the database (options: VERSION=x, VERBOSE=false, SCOPE=blog)\" fullCmd=\"db:migrate\" taksId=\"migrate\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"migrate\"&gt;&lt;RakeTask description=\"Display status of migrations\" fullCmd=\"db:migrate:status\" taksId=\"status\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:change\" taksId=\"change\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:down\" taksId=\"down\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:redo\" taksId=\"redo\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:reset\" taksId=\"reset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:up\" taksId=\"up\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Rolls the schema back to the previous version (specify steps w/ STEP=n)\" fullCmd=\"db:rollback\" taksId=\"rollback\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"schema\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"Clears a db/schema_cache.dump file\" fullCmd=\"db:schema:cache:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"Creates a db/schema_cache.dump file\" fullCmd=\"db:schema:cache:dump\" taksId=\"dump\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Creates a db/schema.rb file that is portable against any DB supported by Active Record\" fullCmd=\"db:schema:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"Loads a schema.rb file into the database\" fullCmd=\"db:schema:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:schema:load_if_ruby\" taksId=\"load_if_ruby\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Loads the seed data from db/seeds.rb\" fullCmd=\"db:seed\" taksId=\"seed\" /&gt;&lt;RakeTask description=\"Creates the database, loads the schema, and initializes with the seed data (use db:reset to also drop the database first)\" fullCmd=\"db:setup\" taksId=\"setup\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"structure\"&gt;&lt;RakeTask description=\"Dumps the database structure to db/structure.sql\" fullCmd=\"db:structure:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"Recreates the databases from the structure.sql file\" fullCmd=\"db:structure:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:structure:load_if_sql\" taksId=\"load_if_sql\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Retrieves the current schema version number\" fullCmd=\"db:version\" taksId=\"version\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:_dump\" taksId=\"_dump\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:abort_if_pending_migrations\" taksId=\"abort_if_pending_migrations\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:charset\" taksId=\"charset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:check_protected_environments\" taksId=\"check_protected_environments\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:collation\" taksId=\"collation\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"create\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:create:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"drop\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:_unsafe\" taksId=\"_unsafe\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:forward\" taksId=\"forward\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:load_config\" taksId=\"load_config\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge\" taksId=\"purge\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"purge\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:reset\" taksId=\"reset\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone\" taksId=\"clone\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_schema\" taksId=\"clone_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_structure\" taksId=\"clone_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:deprecated\" taksId=\"deprecated\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_schema\" taksId=\"load_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_structure\" taksId=\"load_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:purge\" taksId=\"purge\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"dev\"&gt;&lt;RakeTask description=\"Toggle development mode caching on/off\" fullCmd=\"dev:cache\" taksId=\"cache\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Generate an Entity-Relationship Diagram based on your models\" fullCmd=\"erd\" taksId=\"erd\" /&gt;&lt;RakeTask description=\"Print out all defined initializers in the order they are invoked by Rails\" fullCmd=\"initializers\" taksId=\"initializers\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"log\"&gt;&lt;RakeTask description=\"Truncates all/specified *.log files in log/ to zero bytes (specify which logs with LOGS=test,development)\" fullCmd=\"log:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Prints out your Rack middleware stack\" fullCmd=\"middleware\" taksId=\"middleware\" /&gt;&lt;RakeTask description=\"Enumerate all annotations (use notes:optimize, :fixme, :todo for focus)\" fullCmd=\"notes\" taksId=\"notes\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"notes\"&gt;&lt;RakeTask description=\"Enumerate a custom annotation, specify with ANNOTATION=CUSTOM\" fullCmd=\"notes:custom\" taksId=\"custom\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:fixme\" taksId=\"fixme\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:optimize\" taksId=\"optimize\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:todo\" taksId=\"todo\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Remove schema information from model and fixture files\" fullCmd=\"remove_annotation\" taksId=\"remove_annotation\" /&gt;&lt;RakeTask description=\"Removes the route map from routes.rb\" fullCmd=\"remove_routes\" taksId=\"remove_routes\" /&gt;&lt;RakeTask description=\"Restart app by touching tmp/restart.txt\" fullCmd=\"restart\" taksId=\"restart\" /&gt;&lt;RakeTask description=\"Print out all defined routes in match order, with names\" fullCmd=\"routes\" taksId=\"routes\" /&gt;&lt;RakeTask description=\"Generate a cryptographically secure secret key (this is typically used to generate a secret for cookie sessions)\" fullCmd=\"secret\" taksId=\"secret\" /&gt;&lt;RakeTask description=\"Run all specs in spec directory (excluding plugin specs)\" fullCmd=\"spec\" taksId=\"spec\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"spec\"&gt;&lt;RakeTask description=\"Run the code examples in spec/models\" fullCmd=\"spec:models\" taksId=\"models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"spec:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"spec:statsetup\" taksId=\"statsetup\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Report code statistics (KLOCs, etc) from the application or engine\" fullCmd=\"stats\" taksId=\"stats\" /&gt;&lt;RakeTask description=\"Runs all tests in test folder\" fullCmd=\"test\" taksId=\"test\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"Run tests quickly, but also reset db\" fullCmd=\"test:db\" taksId=\"db\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:controllers\" taksId=\"controllers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:functionals\" taksId=\"functionals\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:generators\" taksId=\"generators\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:helpers\" taksId=\"helpers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:integration\" taksId=\"integration\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:jobs\" taksId=\"jobs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:mailers\" taksId=\"mailers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:models\" taksId=\"models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:run\" taksId=\"run\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:units\" taksId=\"units\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"time\"&gt;&lt;RakeTask description=\"List all time zones, list by two-letter country code (`rails time:zones[US]`), or list by UTC offset (`rails time:zones[-8]`)\" fullCmd=\"time:zones[country_or_offset]\" taksId=\"zones[country_or_offset]\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones\" taksId=\"zones\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"zones\"&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:all\" taksId=\"all\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:local\" taksId=\"local\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:us\" taksId=\"us\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"tmp\"&gt;&lt;RakeTask description=\"Clear cache and socket files from tmp/ (narrow w/ tmp:cache:clear, tmp:sockets:clear)\" fullCmd=\"tmp:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"Creates tmp directories for cache, sockets, and pids\" fullCmd=\"tmp:create\" taksId=\"create\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:cache:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"pids\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:pids:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"sockets\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:sockets:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"default\" taksId=\"default\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"environment\" taksId=\"environment\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"erd\"&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:generate\" taksId=\"generate\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:load_models\" taksId=\"load_models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:options\" taksId=\"options\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rails\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:template\" taksId=\"template\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:configs\" taksId=\"configs\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"railties\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"install\"&gt;&lt;RakeTask description=\"\" fullCmd=\"railties:install:migrations\" taksId=\"migrations\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"set_annotation_options\" taksId=\"set_annotation_options\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp\" taksId=\"tmp\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache\" taksId=\"tmp/cache\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache/assets\" taksId=\"tmp/cache/assets\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/pids\" taksId=\"tmp/pids\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/sockets\" taksId=\"tmp/sockets\" /&gt;&lt;/RakeGroup&gt;&lt;/Settings&gt;\n+--&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rake\"&gt;&lt;RakeTask description=\"List versions of all Rails frameworks and the environment\" fullCmd=\"about\" taksId=\"about\" /&gt;&lt;RakeTask description=\"Add schema information (as comments) to model and fixture files\" fullCmd=\"annotate_models\" taksId=\"annotate_models\" /&gt;&lt;RakeTask description=\"Adds the route map to routes.rb\" fullCmd=\"annotate_routes\" taksId=\"annotate_routes\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"app\"&gt;&lt;RakeTask description=\"Applies the template supplied by LOCATION=(/path/to/template) or URL\" fullCmd=\"app:template\" taksId=\"template\" /&gt;&lt;RakeTask description=\"Update configs and some other initially generated files (or use just update:configs or update:bin)\" fullCmd=\"app:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:configs\" taksId=\"configs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:upgrade_guide_info\" taksId=\"upgrade_guide_info\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"assets\"&gt;&lt;RakeTask description=\"Remove old compiled assets\" fullCmd=\"assets:clean[keep]\" taksId=\"clean[keep]\" /&gt;&lt;RakeTask description=\"Remove compiled assets\" fullCmd=\"assets:clobber\" taksId=\"clobber\" /&gt;&lt;RakeTask description=\"Load asset compile environment\" fullCmd=\"assets:environment\" taksId=\"environment\" /&gt;&lt;RakeTask description=\"Compile all the assets named in config.assets.precompile\" fullCmd=\"assets:precompile\" taksId=\"precompile\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"assets:clean\" taksId=\"clean\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache_digests\"&gt;&lt;RakeTask description=\"Lookup first-level dependencies for TEMPLATE (like messages/show or comments/_comment.html)\" fullCmd=\"cache_digests:dependencies\" taksId=\"dependencies\" /&gt;&lt;RakeTask description=\"Lookup nested dependencies for TEMPLATE (like messages/show or comments/_comment.html)\" fullCmd=\"cache_digests:nested_dependencies\" taksId=\"nested_dependencies\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"db\"&gt;&lt;RakeTask description=\"Creates the database from DATABASE_URL or config/database.yml for the current RAILS_ENV (use db:create:all to create all databases in the config). Without RAILS_ENV or when RAILS_ENV is development, it defaults to creating the development and test databases\" fullCmd=\"db:create\" taksId=\"create\" /&gt;&lt;RakeTask description=\"Drops the database from DATABASE_URL or config/database.yml for the current RAILS_ENV (use db:drop:all to drop all databases in the config). Without RAILS_ENV or when RAILS_ENV is development, it defaults to dropping the development and test databases\" fullCmd=\"db:drop\" taksId=\"drop\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"environment\"&gt;&lt;RakeTask description=\"Set the environment value for the database\" fullCmd=\"db:environment:set\" taksId=\"set\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"fixtures\"&gt;&lt;RakeTask description=\"Loads fixtures into the current environment's database\" fullCmd=\"db:fixtures:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:fixtures:identify\" taksId=\"identify\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Migrate the database (options: VERSION=x, VERBOSE=false, SCOPE=blog)\" fullCmd=\"db:migrate\" taksId=\"migrate\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"migrate\"&gt;&lt;RakeTask description=\"Display status of migrations\" fullCmd=\"db:migrate:status\" taksId=\"status\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:change\" taksId=\"change\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:down\" taksId=\"down\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:redo\" taksId=\"redo\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:reset\" taksId=\"reset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:up\" taksId=\"up\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Rolls the schema back to the previous version (specify steps w/ STEP=n)\" fullCmd=\"db:rollback\" taksId=\"rollback\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"schema\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"Clears a db/schema_cache.dump file\" fullCmd=\"db:schema:cache:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"Creates a db/schema_cache.dump file\" fullCmd=\"db:schema:cache:dump\" taksId=\"dump\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Creates a db/schema.rb file that is portable against any DB supported by Active Record\" fullCmd=\"db:schema:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"Loads a schema.rb file into the database\" fullCmd=\"db:schema:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:schema:load_if_ruby\" taksId=\"load_if_ruby\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Loads the seed data from db/seeds.rb\" fullCmd=\"db:seed\" taksId=\"seed\" /&gt;&lt;RakeTask description=\"Creates the database, loads the schema, and initializes with the seed data (use db:reset to also drop the database first)\" fullCmd=\"db:setup\" taksId=\"setup\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"structure\"&gt;&lt;RakeTask description=\"Dumps the database structure to db/structure.sql\" fullCmd=\"db:structure:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"Recreates the databases from the structure.sql file\" fullCmd=\"db:structure:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:structure:load_if_sql\" taksId=\"load_if_sql\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Retrieves the current schema version number\" fullCmd=\"db:version\" taksId=\"version\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:_dump\" taksId=\"_dump\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:abort_if_pending_migrations\" taksId=\"abort_if_pending_migrations\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:charset\" taksId=\"charset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:check_protected_environments\" taksId=\"check_protected_environments\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:collation\" taksId=\"collation\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"create\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:create:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"drop\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:_unsafe\" taksId=\"_unsafe\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:forward\" taksId=\"forward\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:load_config\" taksId=\"load_config\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge\" taksId=\"purge\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"purge\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:reset\" taksId=\"reset\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone\" taksId=\"clone\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_schema\" taksId=\"clone_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_structure\" taksId=\"clone_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:deprecated\" taksId=\"deprecated\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_schema\" taksId=\"load_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_structure\" taksId=\"load_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:purge\" taksId=\"purge\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"dev\"&gt;&lt;RakeTask description=\"Toggle development mode caching on/off\" fullCmd=\"dev:cache\" taksId=\"cache\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Generate an Entity-Relationship Diagram based on your models\" fullCmd=\"erd\" taksId=\"erd\" /&gt;&lt;RakeTask description=\"Print out all defined initializers in the order they are invoked by Rails\" fullCmd=\"initializers\" taksId=\"initializers\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"log\"&gt;&lt;RakeTask description=\"Truncates all/specified *.log files in log/ to zero bytes (specify which logs with LOGS=test,development)\" fullCmd=\"log:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Prints out your Rack middleware stack\" fullCmd=\"middleware\" taksId=\"middleware\" /&gt;&lt;RakeTask description=\"Enumerate all annotations (use notes:optimize, :fixme, :todo for focus)\" fullCmd=\"notes\" taksId=\"notes\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"notes\"&gt;&lt;RakeTask description=\"Enumerate a custom annotation, specify with ANNOTATION=CUSTOM\" fullCmd=\"notes:custom\" taksId=\"custom\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:fixme\" taksId=\"fixme\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:optimize\" taksId=\"optimize\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:todo\" taksId=\"todo\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Remove schema information from model and fixture files\" fullCmd=\"remove_annotation\" taksId=\"remove_annotation\" /&gt;&lt;RakeTask description=\"Removes the route map from routes.rb\" fullCmd=\"remove_routes\" taksId=\"remove_routes\" /&gt;&lt;RakeTask description=\"Restart app by touching tmp/restart.txt\" fullCmd=\"restart\" taksId=\"restart\" /&gt;&lt;RakeTask description=\"Print out all defined routes in match order, with names\" fullCmd=\"routes\" taksId=\"routes\" /&gt;&lt;RakeTask description=\"Generate a cryptographically secure secret key (this is typically used to generate a secret for cookie sessions)\" fullCmd=\"secret\" taksId=\"secret\" /&gt;&lt;RakeTask description=\"Run all specs in spec directory (excluding plugin specs)\" fullCmd=\"spec\" taksId=\"spec\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"spec\"&gt;&lt;RakeTask description=\"Run the code examples in spec/models\" fullCmd=\"spec:models\" taksId=\"models\" /&gt;&lt;RakeTask description=\"Run the code examples in spec/services\" fullCmd=\"spec:services\" taksId=\"services\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"spec:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"spec:statsetup\" taksId=\"statsetup\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Report code statistics (KLOCs, etc) from the application or engine\" fullCmd=\"stats\" taksId=\"stats\" /&gt;&lt;RakeTask description=\"Runs all tests in test folder\" fullCmd=\"test\" taksId=\"test\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"Run tests quickly, but also reset db\" fullCmd=\"test:db\" taksId=\"db\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:controllers\" taksId=\"controllers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:functionals\" taksId=\"functionals\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:generators\" taksId=\"generators\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:helpers\" taksId=\"helpers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:integration\" taksId=\"integration\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:jobs\" taksId=\"jobs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:mailers\" taksId=\"mailers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:models\" taksId=\"models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:run\" taksId=\"run\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:units\" taksId=\"units\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"time\"&gt;&lt;RakeTask description=\"List all time zones, list by two-letter country code (`rails time:zones[US]`), or list by UTC offset (`rails time:zones[-8]`)\" fullCmd=\"time:zones[country_or_offset]\" taksId=\"zones[country_or_offset]\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones\" taksId=\"zones\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"zones\"&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:all\" taksId=\"all\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:local\" taksId=\"local\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:us\" taksId=\"us\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"tmp\"&gt;&lt;RakeTask description=\"Clear cache and socket files from tmp/ (narrow w/ tmp:cache:clear, tmp:sockets:clear)\" fullCmd=\"tmp:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"Creates tmp directories for cache, sockets, and pids\" fullCmd=\"tmp:create\" taksId=\"create\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:cache:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"pids\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:pids:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"sockets\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:sockets:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"default\" taksId=\"default\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"environment\" taksId=\"environment\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"erd\"&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:generate\" taksId=\"generate\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:load_models\" taksId=\"load_models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:options\" taksId=\"options\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rails\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:template\" taksId=\"template\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:configs\" taksId=\"configs\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"railties\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"install\"&gt;&lt;RakeTask description=\"\" fullCmd=\"railties:install:migrations\" taksId=\"migrations\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"set_annotation_options\" taksId=\"set_annotation_options\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp\" taksId=\"tmp\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache\" taksId=\"tmp/cache\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache/assets\" taksId=\"tmp/cache/assets\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/pids\" taksId=\"tmp/pids\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/sockets\" taksId=\"tmp/sockets\" /&gt;&lt;/RakeGroup&gt;&lt;/Settings&gt;\ndiff --git a/Gemfile b/Gemfile\nindex 0ef0810..3ac01ff 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -63,6 +63,7 @@ group :development do\n   gem 'rails-erd'\n   gem 'guard-livereload', '~&gt; 2.5', require: false\n   gem 'rack-livereload'\n+  gem 'i18n_generators'\n end\n\n group :test do\ndiff --git a/README.md b/README.md\nindex 6140be5..d8e0b6e 100644\n--- a/README.md\n+++ b/README.md\n@@ -386,6 +386,9 @@ git push heroku master\n + \u7ba1\u7406\u8005\u8a8d\u8a3c\u30b5\u30fc\u30d3\u30b9\u8ffd\u52a0\n + \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8868\u793a\n\n+#### \u6539\n++ i18n\u306e\u8a2d\u5b9a\u3068\u9069\u7528\n+\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n ### \u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664\n ### String Parameters\n@@ -407,4 +410,5 @@ git push heroku master\n + [Bootstrap for Sass](https://github.com/twbs/bootstrap-sass)\n + [Rails Bootstrap Forms](https://github.com/bootstrap-ruby/rails-bootstrap-forms)\n + [Annotate (aka AnnotateModels)](https://github.com/ctran/annotate_models)\n-+ [MigrationComments](https://github.com/pinnymz/migration_comments)\n\\ No newline at end of file\n++ [MigrationComments](https://github.com/pinnymz/migration_comments)\n++ [i18n_generators](https://github.com/amatsuda/i18n_generators)\n\\ No newline at end of file\ndiff --git a/app/views/admin/sessions/new.html.erb b/app/views/admin/sessions/new.html.erb\nindex 18e4d98..a33ec06 100644\n--- a/app/views/admin/sessions/new.html.erb\n+++ b/app/views/admin/sessions/new.html.erb\n@@ -5,15 +5,13 @@\n     &lt;div class=\"Login__body\"&gt;\n       &lt;%= bootstrap_form_for @form, url: :admin_session do |f| %&gt;\n           &lt;div&gt;\n-            &lt;%= f.label :email, '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9' %&gt;\n             &lt;%= f.text_field :email %&gt;\n           &lt;/div&gt;\n           &lt;div&gt;\n-            &lt;%= f.label :password, '\u30d1\u30b9\u30ef\u30fc\u30c9' %&gt;\n             &lt;%= f.password_field :password %&gt;\n           &lt;/div&gt;\n           &lt;div&gt;\n-            &lt;%= f.submit '\u30ed\u30b0\u30a4\u30f3' %&gt;\n+            &lt;%= f.submit t '.submit' %&gt;\n           &lt;/div&gt;\n       &lt;% end %&gt;\n     &lt;/div&gt;\ndiff --git a/app/views/admin/shared/_header.html.erb b/app/views/admin/shared/_header.html.erb\nindex 13a99f6..388e5cc 100644\n--- a/app/views/admin/shared/_header.html.erb\n+++ b/app/views/admin/shared/_header.html.erb\n@@ -17,9 +17,9 @@\n     &lt;/ul&gt;\n   &lt;/nav&gt;\n   &lt;%= if current_administrator\n-        link_to '\u30ed\u30b0\u30a2\u30a6\u30c8', :admin_session, method: :delete, class: 'btn btn-default'\n+        link_to t('admin.shared.header.login'), :admin_session, method: :delete, class: 'btn btn-default'\n       else\n-        link_to '\u30ed\u30b0\u30a4\u30f3', :admin_login, class: 'btn btn-default'\n+        link_to t('admin.shared.header.logout'), :admin_login, class: 'btn btn-default'\n       end\n   %&gt;\n &lt;/header&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/sessions/new.html.erb b/app/views/staff/sessions/new.html.erb\nindex dbd71b3..8479cef 100644\n--- a/app/views/staff/sessions/new.html.erb\n+++ b/app/views/staff/sessions/new.html.erb\n@@ -5,15 +5,13 @@\n     &lt;div class=\"Login__body\"&gt;\n       &lt;%= bootstrap_form_for @form, url: :staff_session do |f| %&gt;\n           &lt;div&gt;\n-            &lt;%= f.label :email, '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9' %&gt;\n             &lt;%= f.text_field :email %&gt;\n           &lt;/div&gt;\n           &lt;div&gt;\n-            &lt;%= f.label :password, '\u30d1\u30b9\u30ef\u30fc\u30c9' %&gt;\n             &lt;%= f.password_field :password %&gt;\n           &lt;/div&gt;\n           &lt;div&gt;\n-            &lt;%= f.submit '\u30ed\u30b0\u30a4\u30f3' %&gt;\n+            &lt;%= f.submit t '.submit' %&gt;\n           &lt;/div&gt;\n       &lt;% end %&gt;\n     &lt;/div&gt;\ndiff --git a/app/views/staff/shared/_header.html.erb b/app/views/staff/shared/_header.html.erb\nindex 7a1ace8..830cc01 100644\n--- a/app/views/staff/shared/_header.html.erb\n+++ b/app/views/staff/shared/_header.html.erb\n@@ -17,9 +17,9 @@\n     &lt;/ul&gt;\n   &lt;/nav&gt;\n   &lt;%= if current_staff_member\n-        link_to '\u30ed\u30b0\u30a2\u30a6\u30c8', :staff_session, method: :delete, class: 'btn btn-default'\n+        link_to t('staff.shared.header.login'), :staff_session, method: :delete, class: 'btn btn-default'\n       else\n-        link_to '\u30ed\u30b0\u30a4\u30f3', :staff_login, class: 'btn btn-default'\n+        link_to t('staff.shared.header.logout'), :staff_login, class: 'btn btn-default'\n       end\n     %&gt;\n &lt;/header&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/ja.yml b/config/locales/ja.yml\nindex 9ad8ae1..4a718e7 100644\n--- a/config/locales/ja.yml\n+++ b/config/locales/ja.yml\n@@ -1,2 +1,202 @@\n+---\n ja:\n-  hello: \"Hello world\"\n\\ No newline at end of file\n+  activerecord:\n+    errors:\n+      messages:\n+        record_invalid: \"\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306b\u5931\u6557\u3057\u307e\u3057\u305f: %{errors}\"\n+        restrict_dependent_destroy:\n+          has_one: \"%{record}\u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u306e\u3067\u524a\u9664\u3067\u304d\u307e\u305b\u3093\"\n+          has_many: \"%{record}\u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u306e\u3067\u524a\u9664\u3067\u304d\u307e\u305b\u3093\"\n+  date:\n+    abbr_day_names:\n+    - \u65e5\n+    - \u6708\n+    - \u706b\n+    - \u6c34\n+    - \u6728\n+    - \u91d1\n+    - \u571f\n+    abbr_month_names:\n+    -\n+    - 1\u6708\n+    - 2\u6708\n+    - 3\u6708\n+    - 4\u6708\n+    - 5\u6708\n+    - 6\u6708\n+    - 7\u6708\n+    - 8\u6708\n+    - 9\u6708\n+    - 10\u6708\n+    - 11\u6708\n+    - 12\u6708\n+    day_names:\n+    - \u65e5\u66dc\u65e5\n+    - \u6708\u66dc\u65e5\n+    - \u706b\u66dc\u65e5\n+    - \u6c34\u66dc\u65e5\n+    - \u6728\u66dc\u65e5\n+    - \u91d1\u66dc\u65e5\n+    - \u571f\u66dc\u65e5\n+    formats:\n+      default: \"%Y/%m/%d\"\n+      long: \"%Y\u5e74%m\u6708%d\u65e5(%a)\"\n+      short: \"%m/%d\"\n+    month_names:\n+    -\n+    - 1\u6708\n+    - 2\u6708\n+    - 3\u6708\n+    - 4\u6708\n+    - 5\u6708\n+    - 6\u6708\n+    - 7\u6708\n+    - 8\u6708\n+    - 9\u6708\n+    - 10\u6708\n+    - 11\u6708\n+    - 12\u6708\n+    order:\n+    - :year\n+    - :month\n+    - :day\n+  datetime:\n+    distance_in_words:\n+      about_x_hours:\n+        one: \u7d041\u6642\u9593\n+        other: \u7d04%{count}\u6642\u9593\n+      about_x_months:\n+        one: \u7d041\u30f6\u6708\n+        other: \u7d04%{count}\u30f6\u6708\n+      about_x_years:\n+        one: \u7d041\u5e74\n+        other: \u7d04%{count}\u5e74\n+      almost_x_years:\n+        one: 1\u5e74\u5f31\n+        other: \"%{count}\u5e74\u5f31\"\n+      half_a_minute: 30\u79d2\u524d\u5f8c\n+      less_than_x_minutes:\n+        one: 1\u5206\u4ee5\u5185\n+        other: \"%{count}\u5206\u672a\u6e80\"\n+      less_than_x_seconds:\n+        one: 1\u79d2\u4ee5\u5185\n+        other: \"%{count}\u79d2\u672a\u6e80\"\n+      over_x_years:\n+        one: 1\u5e74\u4ee5\u4e0a\n+        other: \"%{count}\u5e74\u4ee5\u4e0a\"\n+      x_days:\n+        one: 1\u65e5\n+        other: \"%{count}\u65e5\"\n+      x_minutes:\n+        one: 1\u5206\n+        other: \"%{count}\u5206\"\n+      x_months:\n+        one: 1\u30f6\u6708\n+        other: \"%{count}\u30f6\u6708\"\n+      x_seconds:\n+        one: 1\u79d2\n+        other: \"%{count}\u79d2\"\n+    prompts:\n+      day: \u65e5\n+      hour: \u6642\n+      minute: \u5206\n+      month: \u6708\n+      second: \u79d2\n+      year: \u5e74\n+  errors:\n+    format: \"%{attribute}%{message}\"\n+    messages:\n+      accepted: \u3092\u53d7\u8afe\u3057\u3066\u304f\u3060\u3055\u3044\n+      blank: \u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\n+      present: \u306f\u5165\u529b\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\n+      confirmation: \u3068%{attribute}\u306e\u5165\u529b\u304c\u4e00\u81f4\u3057\u307e\u305b\u3093\n+      empty: \u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\n+      equal_to: \u306f%{count}\u306b\u3057\u3066\u304f\u3060\u3055\u3044\n+      even: \u306f\u5076\u6570\u306b\u3057\u3066\u304f\u3060\u3055\u3044\n+      exclusion: \u306f\u4e88\u7d04\u3055\u308c\u3066\u3044\u307e\u3059\n+      greater_than: \u306f%{count}\u3088\u308a\u5927\u304d\u3044\u5024\u306b\u3057\u3066\u304f\u3060\u3055\u3044\n+      greater_than_or_equal_to: \u306f%{count}\u4ee5\u4e0a\u306e\u5024\u306b\u3057\u3066\u304f\u3060\u3055\u3044\n+      inclusion: \u306f\u4e00\u89a7\u306b\u3042\u308a\u307e\u305b\u3093\n+      invalid: \u306f\u4e0d\u6b63\u306a\u5024\u3067\u3059\n+      less_than: \u306f%{count}\u3088\u308a\u5c0f\u3055\u3044\u5024\u306b\u3057\u3066\u304f\u3060\u3055\u3044\n+      less_than_or_equal_to: \u306f%{count}\u4ee5\u4e0b\u306e\u5024\u306b\u3057\u3066\u304f\u3060\u3055\u3044\n+      model_invalid: \"\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306b\u5931\u6557\u3057\u307e\u3057\u305f: %{errors}\"\n+      not_a_number: \u306f\u6570\u5024\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\n+      not_an_integer: \u306f\u6574\u6570\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\n+      odd: \u306f\u5947\u6570\u306b\u3057\u3066\u304f\u3060\u3055\u3044\n+      required: \u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\n+      taken: \u306f\u3059\u3067\u306b\u5b58\u5728\u3057\u307e\u3059\n+      too_long: \u306f%{count}\u6587\u5b57\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\n+      too_short: \u306f%{count}\u6587\u5b57\u4ee5\u4e0a\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\n+      wrong_length: \u306f%{count}\u6587\u5b57\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\n+      other_than: \u306f%{count}\u4ee5\u5916\u306e\u5024\u306b\u3057\u3066\u304f\u3060\u3055\u3044\n+    template:\n+      body: \u6b21\u306e\u9805\u76ee\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\n+      header:\n+        one: \"%{model}\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\"\n+        other: \"%{model}\u306b%{count}\u500b\u306e\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\"\n+  helpers:\n+    select:\n+      prompt: \u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\n+    submit:\n+      create: \u767b\u9332\u3059\u308b\n+      submit: \u4fdd\u5b58\u3059\u308b\n+      update: \u66f4\u65b0\u3059\u308b\n+  number:\n+    currency:\n+      format:\n+        delimiter: \",\"\n+        format: \"%n%u\"\n+        precision: 0\n+        separator: \".\"\n+        significant: false\n+        strip_insignificant_zeros: false\n+        unit: \u5186\n+    format:\n+      delimiter: \",\"\n+      precision: 3\n+      separator: \".\"\n+      significant: false\n+      strip_insignificant_zeros: false\n+    human:\n+      decimal_units:\n+        format: \"%n %u\"\n+        units:\n+          billion: \u5341\u5104\n+          million: \u767e\u4e07\n+          quadrillion: \u5343\u5146\n+          thousand: \u5343\n+          trillion: \u5146\n+          unit: ''\n+      format:\n+        delimiter: ''\n+        precision: 3\n+        significant: true\n+        strip_insignificant_zeros: true\n+      storage_units:\n+        format: \"%n%u\"\n+        units:\n+          byte: \u30d0\u30a4\u30c8\n+          gb: GB\n+          kb: KB\n+          mb: MB\n+          tb: TB\n+    percentage:\n+      format:\n+        delimiter: ''\n+        format: \"%n%\"\n+    precision:\n+      format:\n+        delimiter: ''\n+  support:\n+    array:\n+      last_word_connector: \u3068\n+      two_words_connector: \u3068\n+      words_connector: \u3068\n+  time:\n+    am: \u5348\u524d\n+    formats:\n+      default: \"%Y/%m/%d %H:%M:%S\"\n+      long: \"%Y\u5e74%m\u6708%d\u65e5(%a) %H\u6642%M\u5206%S\u79d2 %z\"\n+      short: \"%y/%m/%d %H:%M\"\n+    pm: \u5348\u5f8c\ndiff --git a/config/locales/models/models.yml b/config/locales/models/models.yml\nnew file mode 100644\nindex 0000000..6138e72\n--- /dev/null\n+++ b/config/locales/models/models.yml\n@@ -0,0 +1,39 @@\n+ja:\n+  activerecord:\n+    models:\n+      administrator: \u7ba1\u7406\u8005\n+      staff_member: \u8077\u54e1\n+\n+    attributes:\n+      administrator:\n+        email: \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+        email_for_index: \u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+        hashed_password: \u30d1\u30b9\u30ef\u30fc\u30c9\n+        suspended: \u505c\u6b62\u30d5\u30e9\u30b0\n+\n+      staff_member:\n+        email: \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+        email_for_index: \u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+        end_date: \u7d42\u4e86\u65e5\n+        family_name: \u59d3\n+        family_name_kana: \u59d3\uff08\u30ab\u30ca\uff09\n+        given_name: \u540d\n+        given_name_kana: \u540d\uff08\u30ab\u30ca\uff09\n+        hashed_password: \u30d1\u30b9\u30ef\u30fc\u30c9\n+        start_date: \u958b\u59cb\u65e5\n+        suspended: \u505c\u6b62\u30d5\u30e9\u30b0\n+\n+  activemodel:\n+    models:\n+      staff/login_form: \u8077\u54e1\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\n+      admin/login_form: \u7ba1\u7406\u8005\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\n+\n+    attributes:\n+      staff/login_form:\n+        email: \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+        password: \u30d1\u30b9\u30ef\u30fc\u30c9\n+\n+    attributes:\n+      admin/login_form:\n+        email: \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+        password: \u30d1\u30b9\u30ef\u30fc\u30c9\ndiff --git a/config/locales/views/views.yml b/config/locales/views/views.yml\nnew file mode 100644\nindex 0000000..aecaea0\n--- /dev/null\n+++ b/config/locales/views/views.yml\n@@ -0,0 +1,17 @@\n+ja:\n+  staff:\n+    shared:\n+      header:\n+        login: '\u30ed\u30b0\u30a4\u30f3'\n+        logout: '\u30ed\u30b0\u30a2\u30a6\u30c8'\n+    sessions:\n+      new:\n+        submit: '\u30ed\u30b0\u30a4\u30f3'\n+  admin:\n+    shared:\n+      header:\n+        login: '\u30ed\u30b0\u30a4\u30f3'\n+        logout: '\u30ed\u30b0\u30a2\u30a6\u30c8'\n+    sessions:\n+      new:\n+        submit: '\u30ed\u30b0\u30a4\u30f3'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170121/#186c722","title":"\u30b3\u30df\u30c3\u30c8: 186c722","text":""},{"location":"journal/20170121/#_11","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\uff08\u30c7\u30b6\u30a4\u30f3\u4fee\u6b63\uff09\n</code></pre>"},{"location":"journal/20170121/#_12","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/pages/_admin.scss</li> <li>M app/assets/stylesheets/pages/_staff.scss</li> <li>M app/views/admin/shared/_header.html.erb</li> <li>M app/views/staff/shared/_header.html.erb</li> </ul>"},{"location":"journal/20170121/#_13","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 186c7226233950babbb9ef7a4802d11aba77a44f\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 21 18:12:57 2017 +0900\n\n    \u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\uff08\u30c7\u30b6\u30a4\u30f3\u4fee\u6b63\uff09\n\ndiff --git a/app/assets/stylesheets/pages/_admin.scss b/app/assets/stylesheets/pages/_admin.scss\nindex a44b621..8937028 100644\n--- a/app/assets/stylesheets/pages/_admin.scss\n+++ b/app/assets/stylesheets/pages/_admin.scss\n@@ -15,15 +15,6 @@ html, body {\n   text-align: left;\n }\n\n-.logo--admin {\n-  color: $color-white;\n-}\n-\n-.login--admin {\n-  float: right;\n-  color: $very_light_gray;\n-}\n-\n .Admin {\n   &amp;__wrapper {\n     position: relative;\ndiff --git a/app/assets/stylesheets/pages/_staff.scss b/app/assets/stylesheets/pages/_staff.scss\nindex 63ec54c..2252acd 100644\n--- a/app/assets/stylesheets/pages/_staff.scss\n+++ b/app/assets/stylesheets/pages/_staff.scss\n@@ -15,15 +15,6 @@ html, body {\n   text-align: left;\n }\n\n-.logo--staff {\n-  color: $color-white;\n-}\n-\n-.login--staff {\n-  float: right;\n-  color: $very_light_gray;\n-}\n-\n .Staff {\n   &amp;__wrapper {\n     position: relative;\ndiff --git a/app/views/admin/shared/_header.html.erb b/app/views/admin/shared/_header.html.erb\nindex 9453da7..13a99f6 100644\n--- a/app/views/admin/shared/_header.html.erb\n+++ b/app/views/admin/shared/_header.html.erb\n@@ -17,9 +17,9 @@\n     &lt;/ul&gt;\n   &lt;/nav&gt;\n   &lt;%= if current_administrator\n-        link_to '\u30ed\u30b0\u30a2\u30a6\u30c8', :admin_session, method: :delete, class: 'login--admin'\n+        link_to '\u30ed\u30b0\u30a2\u30a6\u30c8', :admin_session, method: :delete, class: 'btn btn-default'\n       else\n-        link_to '\u30ed\u30b0\u30a4\u30f3', :admin_login, class: 'login--admin'\n+        link_to '\u30ed\u30b0\u30a4\u30f3', :admin_login, class: 'btn btn-default'\n       end\n   %&gt;\n &lt;/header&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/shared/_header.html.erb b/app/views/staff/shared/_header.html.erb\nindex 02c5c15..7a1ace8 100644\n--- a/app/views/staff/shared/_header.html.erb\n+++ b/app/views/staff/shared/_header.html.erb\n@@ -17,9 +17,9 @@\n     &lt;/ul&gt;\n   &lt;/nav&gt;\n   &lt;%= if current_staff_member\n-        link_to '\u30ed\u30b0\u30a2\u30a6\u30c8', :staff_session, method: :delete, class: 'login--staff'\n+        link_to '\u30ed\u30b0\u30a2\u30a6\u30c8', :staff_session, method: :delete, class: 'btn btn-default'\n       else\n-        link_to '\u30ed\u30b0\u30a4\u30f3', :staff_login, class: 'login--staff'\n+        link_to '\u30ed\u30b0\u30a4\u30f3', :staff_login, class: 'btn btn-default'\n       end\n     %&gt;\n &lt;/header&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170121/#ff92954","title":"\u30b3\u30df\u30c3\u30c8: ff92954","text":""},{"location":"journal/20170121/#_14","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\uff08\u914d\u7f6e\u5909\u66f4\uff09\n</code></pre>"},{"location":"journal/20170121/#_15","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/layouts/admin.html.erb</li> <li>M app/views/layouts/customer.html.erb</li> <li>M app/views/layouts/staff.html.erb</li> </ul>"},{"location":"journal/20170121/#_16","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit ff92954c4c85f3b43510d602995aa51b53f2b504\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 21 18:08:44 2017 +0900\n\n    \u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\uff08\u914d\u7f6e\u5909\u66f4\uff09\n\ndiff --git a/app/views/shared/admin/_footer.html.erb b/app/views/admin/shared/_footer.html.erb\nsimilarity index 100%\nrename from app/views/shared/admin/_footer.html.erb\nrename to app/views/admin/shared/_footer.html.erb\ndiff --git a/app/views/shared/admin/_header.html.erb b/app/views/admin/shared/_header.html.erb\nsimilarity index 100%\nrename from app/views/shared/admin/_header.html.erb\nrename to app/views/admin/shared/_header.html.erb\ndiff --git a/app/views/shared/customer/_footer.html.erb b/app/views/customer/shared/_footer.html.erb\nsimilarity index 100%\nrename from app/views/shared/customer/_footer.html.erb\nrename to app/views/customer/shared/_footer.html.erb\ndiff --git a/app/views/shared/customer/_header.html.erb b/app/views/customer/shared/_header.html.erb\nsimilarity index 100%\nrename from app/views/shared/customer/_header.html.erb\nrename to app/views/customer/shared/_header.html.erb\ndiff --git a/app/views/layouts/admin.html.erb b/app/views/layouts/admin.html.erb\nindex b1f43ad..9ca8f85 100644\n--- a/app/views/layouts/admin.html.erb\n+++ b/app/views/layouts/admin.html.erb\n@@ -11,9 +11,9 @@\n &lt;body&gt;\n &lt;div id=\"wrapper\" class=\"SpMenu__wrapper Admin__wrapper\"&gt;\n   &lt;div id=\"overlay\" class=\"SpMenu__overlay\"&gt;&lt;/div&gt;\n-  &lt;%= render 'shared/admin/header' %&gt;\n+  &lt;%= render 'admin/shared/header' %&gt;\n   &lt;%= yield %&gt;\n-  &lt;%= render 'shared/admin/footer' %&gt;\n+  &lt;%= render 'admin/shared/footer' %&gt;\n &lt;/div&gt;\n &lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n &lt;%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %&gt;\ndiff --git a/app/views/layouts/customer.html.erb b/app/views/layouts/customer.html.erb\nindex 76834c5..a1a4f25 100644\n--- a/app/views/layouts/customer.html.erb\n+++ b/app/views/layouts/customer.html.erb\n@@ -11,9 +11,9 @@\n &lt;body&gt;\n &lt;div id=\"wrapper\" class=\"SpMenu__wrapper\"&gt;\n   &lt;div id=\"overlay\" class=\"SpMenu__overlay\"&gt;&lt;/div&gt;\n-  &lt;%= render 'shared/customer/header' %&gt;\n+  &lt;%= render 'customer/shared/header' %&gt;\n   &lt;%= yield %&gt;\n-  &lt;%= render 'shared/customer/footer' %&gt;\n+  &lt;%= render 'customer/shared/footer' %&gt;\n &lt;/div&gt;\n &lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n &lt;%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %&gt;\ndiff --git a/app/views/layouts/staff.html.erb b/app/views/layouts/staff.html.erb\nindex 0b928de..39f318f 100644\n--- a/app/views/layouts/staff.html.erb\n+++ b/app/views/layouts/staff.html.erb\n@@ -11,9 +11,9 @@\n &lt;body&gt;\n &lt;div id=\"wrapper\" class=\"SpMenu__wrapper Staff__wrapper\"&gt;\n   &lt;div id=\"overlay\" class=\"SpMenu__overlay\"&gt;&lt;/div&gt;\n-  &lt;%= render 'shared/staff/header' %&gt;\n+  &lt;%= render 'staff/shared/header' %&gt;\n   &lt;%= yield %&gt;\n-  &lt;%= render 'shared/staff/footer' %&gt;\n+  &lt;%= render 'staff/shared/footer' %&gt;\n &lt;/div&gt;\n &lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n &lt;%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %&gt;\ndiff --git a/app/views/shared/staff/_footer.html.erb b/app/views/staff/shared/_footer.html.erb\nsimilarity index 100%\nrename from app/views/shared/staff/_footer.html.erb\nrename to app/views/staff/shared/_footer.html.erb\ndiff --git a/app/views/shared/staff/_header.html.erb b/app/views/staff/shared/_header.html.erb\nsimilarity index 100%\nrename from app/views/shared/staff/_header.html.erb\nrename to app/views/staff/shared/_header.html.erb\n</code></pre>"},{"location":"journal/20170121/#b302929","title":"\u30b3\u30df\u30c3\u30c8: b302929","text":""},{"location":"journal/20170121/#_17","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8868\u793a #4\n</code></pre>"},{"location":"journal/20170121/#_18","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/views/shared/admin/_header.html.erb</li> </ul>"},{"location":"journal/20170121/#_19","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit b302929522d9d1b47b4672c0a135e3c7fafce72e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 21 18:03:01 2017 +0900\n\n    \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8868\u793a #4\n\ndiff --git a/README.md b/README.md\nindex 4fdd7c8..6140be5 100644\n--- a/README.md\n+++ b/README.md\n@@ -384,6 +384,7 @@ git push heroku master\n + \u7ba1\u7406\u8005\u30ed\u30b0\u30a2\u30a6\u30c8\u6a5f\u80fd\u8ffd\u52a0\n + \u7ba1\u7406\u8005\u8a8d\u8a3c\u30b5\u30fc\u30d3\u30b9\u30c6\u30b9\u30c8\u8ffd\u52a0\n + \u7ba1\u7406\u8005\u8a8d\u8a3c\u30b5\u30fc\u30d3\u30b9\u8ffd\u52a0\n++ \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8868\u793a\n\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n ### \u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664\ndiff --git a/app/views/shared/admin/_header.html.erb b/app/views/shared/admin/_header.html.erb\nindex edc6444..9453da7 100644\n--- a/app/views/shared/admin/_header.html.erb\n+++ b/app/views/shared/admin/_header.html.erb\n@@ -4,6 +4,12 @@\n   &lt;/div&gt;\n   &lt;div class=\"Header__head\"&gt;\n     &lt;h1 class=\"logo\"&gt;&lt;%= link_to('BAUKIS KAI', admin_root_url, class:'logo logo--admin') %&gt;&lt;/h1&gt;\n+\n+    &lt;div class=\"Flash\"&gt;\n+      &lt;%= content_tag(:span, flash.notice, class: 'Flash__notice') if flash.notice %&gt;\n+      &lt;%= content_tag(:span, flash.alert, class: 'Flash__alert') if flash.alert %&gt;\n+    &lt;/div&gt;\n+\n   &lt;/div&gt;\n   &lt;nav class=\"Header__body SpMenu\"&gt;\n     &lt;ul class=\"Menu\"&gt;\n</code></pre>"},{"location":"journal/20170121/#e3f75ee","title":"\u30b3\u30df\u30c3\u30c8: e3f75ee","text":""},{"location":"journal/20170121/#_20","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u7ba1\u7406\u8005\u8a8d\u8a3c\u30b5\u30fc\u30d3\u30b9\u8ffd\u52a0 #4\n</code></pre>"},{"location":"journal/20170121/#_21","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/services/admin/authenticator.rb</li> </ul>"},{"location":"journal/20170121/#_22","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit e3f75eea7b187eef9102c543275e8682b48446e3\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 21 17:58:42 2017 +0900\n\n    \u7ba1\u7406\u8005\u8a8d\u8a3c\u30b5\u30fc\u30d3\u30b9\u8ffd\u52a0 #4\n\ndiff --git a/README.md b/README.md\nindex 14ef5d0..4fdd7c8 100644\n--- a/README.md\n+++ b/README.md\n@@ -382,7 +382,8 @@ git push heroku master\n + \u7ba1\u7406\u8005\u7528\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u4f5c\u6210\n + \u7ba1\u7406\u8005\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u8ffd\u52a0\n + \u7ba1\u7406\u8005\u30ed\u30b0\u30a2\u30a6\u30c8\u6a5f\u80fd\u8ffd\u52a0\n-+ \u8a8d\u8a3c\u30b5\u30fc\u30d3\u30b9\u30c6\u30b9\u30c8\u8ffd\u52a0\n++ \u7ba1\u7406\u8005\u8a8d\u8a3c\u30b5\u30fc\u30d3\u30b9\u30c6\u30b9\u30c8\u8ffd\u52a0\n++ \u7ba1\u7406\u8005\u8a8d\u8a3c\u30b5\u30fc\u30d3\u30b9\u8ffd\u52a0\n\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n ### \u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664\ndiff --git a/app/services/admin/authenticator.rb b/app/services/admin/authenticator.rb\nindex fa59fed..42a7868 100644\n--- a/app/services/admin/authenticator.rb\n+++ b/app/services/admin/authenticator.rb\n@@ -1,2 +1,11 @@\n class Admin::Authenticator\n+  def initialize(administrator)\n+    @administrator = administrator\n+  end\n+\n+  def authenticate(raw_password)\n+    @administrator &amp;&amp;\n+        @administrator.hashed_password &amp;&amp;\n+        BCrypt::Password.new(@administrator.hashed_password) == raw_password\n+  end\n end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170121/#_23","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170121/#9e94c00","title":"\u30b3\u30df\u30c3\u30c8: 9e94c00","text":""},{"location":"journal/20170121/#_24","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8a8d\u8a3c\u30b5\u30fc\u30d3\u30b9\u30c6\u30b9\u30c8\u8ffd\u52a0 #4\n</code></pre>"},{"location":"journal/20170121/#_25","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/services/admin/authenticator.rb</li> <li>M spec/factories/administrators.rb</li> <li>A spec/services/admin/authenticator_spec.rb</li> </ul>"},{"location":"journal/20170121/#_26","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 9e94c00d50f1662d23ed2a36501eebee31bfd2ae\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 21 17:57:07 2017 +0900\n\n    \u8a8d\u8a3c\u30b5\u30fc\u30d3\u30b9\u30c6\u30b9\u30c8\u8ffd\u52a0 #4\n\ndiff --git a/README.md b/README.md\nindex 162925f..14ef5d0 100644\n--- a/README.md\n+++ b/README.md\n@@ -382,6 +382,7 @@ git push heroku master\n + \u7ba1\u7406\u8005\u7528\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u4f5c\u6210\n + \u7ba1\u7406\u8005\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u8ffd\u52a0\n + \u7ba1\u7406\u8005\u30ed\u30b0\u30a2\u30a6\u30c8\u6a5f\u80fd\u8ffd\u52a0\n++ \u8a8d\u8a3c\u30b5\u30fc\u30d3\u30b9\u30c6\u30b9\u30c8\u8ffd\u52a0\n\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n ### \u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664\ndiff --git a/app/services/admin/authenticator.rb b/app/services/admin/authenticator.rb\nnew file mode 100644\nindex 0000000..fa59fed\n--- /dev/null\n+++ b/app/services/admin/authenticator.rb\n@@ -0,0 +1,2 @@\n+class Admin::Authenticator\n+end\n\\ No newline at end of file\ndiff --git a/spec/factories/administrators.rb b/spec/factories/administrators.rb\nindex ee37bdc..336095c 100644\n--- a/spec/factories/administrators.rb\n+++ b/spec/factories/administrators.rb\n@@ -17,6 +17,8 @@\n\n FactoryGirl.define do\n   factory :administrator do\n-    \n+    sequence(:email) { |n| \"admin#{n}@example.com\" }\n+    password 'pw'\n+    suspended false\n   end\n end\ndiff --git a/spec/services/admin/authenticator_spec.rb b/spec/services/admin/authenticator_spec.rb\nnew file mode 100644\nindex 0000000..74e40ab\n--- /dev/null\n+++ b/spec/services/admin/authenticator_spec.rb\n@@ -0,0 +1,30 @@\n+require 'rails_helper'\n+\n+describe Admin::Authenticator do\n+  describe '#authenticate' do\n+    # \u6b63\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3089true\u3092\u8fd4\u3059\n+    it 'should return true given valid password' do\n+      m = build(:administrator)\n+      expect(Admin::Authenticator.new(m).authenticate('pw')).to be_truthy\n+    end\n+\n+    # \u8aa4\u3063\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3089false\u3092\u8fd4\u3059\n+    it 'should return false given invalid password' do\n+      m = build(:administrator)\n+      expect(Admin::Authenticator.new(m).authenticate('xy')).to be_falsey\n+    end\n+\n+    # \u30d1\u30b9\u30ef\u30fc\u30c9\u672a\u8a2d\u5b9a\u306a\u3089false\u3092\u8fd4\u3059\n+    it 'should return false given nil password' do\n+      m = build(:administrator)\n+      expect(Admin::Authenticator.new(m).authenticate(nil)).to be_falsey\n+    end\n+    \n+    # \u505c\u6b62\u30d5\u30e9\u30b0\u304c\u7acb\u3063\u3066\u3044\u3066\u3082true\u3092\u8fd4\u3059\n+    it 'should return true given stop flag' do\n+      m = build(:administrator, suspended: true)\n+      expect(Admin::Authenticator.new(m).authenticate('pw')).to be_truthy\n+    end\n+    \n+  end\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170121/#_27","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170121/#ef6cb20","title":"\u30b3\u30df\u30c3\u30c8: ef6cb20","text":""},{"location":"journal/20170121/#_28","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u7ba1\u7406\u8005\u30ed\u30b0\u30a2\u30a6\u30c8\u6a5f\u80fd\u8ffd\u52a0 #4\n</code></pre>"},{"location":"journal/20170121/#_29","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/admin/base.rb</li> <li>M app/controllers/admin/sessions_controller.rb</li> <li>M app/views/shared/admin/_header.html.erb</li> </ul>"},{"location":"journal/20170121/#_30","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit ef6cb2018c0b0a5cd66a85c7b7133d760105806f\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 21 17:54:12 2017 +0900\n\n    \u7ba1\u7406\u8005\u30ed\u30b0\u30a2\u30a6\u30c8\u6a5f\u80fd\u8ffd\u52a0 #4\n\ndiff --git a/README.md b/README.md\nindex 35273aa..162925f 100644\n--- a/README.md\n+++ b/README.md\n@@ -381,6 +381,7 @@ git push heroku master\n #### \u6f14\u7fd2\u554f\u984c\n + \u7ba1\u7406\u8005\u7528\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u4f5c\u6210\n + \u7ba1\u7406\u8005\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u8ffd\u52a0\n++ \u7ba1\u7406\u8005\u30ed\u30b0\u30a2\u30a6\u30c8\u6a5f\u80fd\u8ffd\u52a0\n\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n ### \u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664\ndiff --git a/app/controllers/admin/base.rb b/app/controllers/admin/base.rb\nindex 8e245f0..93ca28f 100644\n--- a/app/controllers/admin/base.rb\n+++ b/app/controllers/admin/base.rb\n@@ -3,7 +3,7 @@ class Admin::Base &lt; ApplicationController\n   def current_administrator\n     if session[:administrator_id]\n       @current_administrator ||=\n-          Administrator.find_by(id: session[:administrator_id_id])\n+          Administrator.find_by(id: session[:administrator_id])\n     end\n   end\n\ndiff --git a/app/controllers/admin/sessions_controller.rb b/app/controllers/admin/sessions_controller.rb\nindex 41f5740..dd15b5a 100644\n--- a/app/controllers/admin/sessions_controller.rb\n+++ b/app/controllers/admin/sessions_controller.rb\n@@ -19,7 +19,6 @@ class Admin::SessionsController &lt; Admin::Base\n         render action: 'new'\n       else\n         session[:administrator_id] = administrator.id\n-        session[:last_access_time] = Time.current\n         flash.notice = '\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u305f\u3002'\n         redirect_to :admin_root\n       end\n@@ -29,6 +28,12 @@ class Admin::SessionsController &lt; Admin::Base\n     end\n   end\n\n+  def destroy\n+    session.delete(:administrator_id)\n+    flash.notice = '\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u307e\u3057\u305f\u3002'\n+    redirect_to :admin_root\n+  end\n+\n   private\n   def post_params\n     params.require(:admin_login_form).permit(\ndiff --git a/app/views/shared/admin/_header.html.erb b/app/views/shared/admin/_header.html.erb\nindex a68e8a3..edc6444 100644\n--- a/app/views/shared/admin/_header.html.erb\n+++ b/app/views/shared/admin/_header.html.erb\n@@ -11,7 +11,7 @@\n     &lt;/ul&gt;\n   &lt;/nav&gt;\n   &lt;%= if current_administrator\n-        link_to '\u30ed\u30b0\u30a2\u30a6\u30c8', :admin_session, method:delete, class: 'login--admin'\n+        link_to '\u30ed\u30b0\u30a2\u30a6\u30c8', :admin_session, method: :delete, class: 'login--admin'\n       else\n         link_to '\u30ed\u30b0\u30a4\u30f3', :admin_login, class: 'login--admin'\n       end\n</code></pre>"},{"location":"journal/20170121/#_31","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170121/#8774e52","title":"\u30b3\u30df\u30c3\u30c8: 8774e52","text":""},{"location":"journal/20170121/#_32","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u7ba1\u7406\u8005\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u8ffd\u52a0 #4\n</code></pre>"},{"location":"journal/20170121/#_33","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/stylesheets/pages/_login.scss</li> <li>A app/controllers/admin/sessions_controller.rb</li> <li>A app/views/admin/sessions/new.html.erb</li> <li>M app/views/shared/admin/_header.html.erb</li> <li>M app/views/staff/sessions/new.html.erb</li> </ul>"},{"location":"journal/20170121/#_34","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8774e52d36945661511db6bf578e58e9455179d1\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 21 17:48:31 2017 +0900\n\n    \u7ba1\u7406\u8005\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u8ffd\u52a0 #4\n\ndiff --git a/README.md b/README.md\nindex 5af6f92..35273aa 100644\n--- a/README.md\n+++ b/README.md\n@@ -379,7 +379,8 @@ git push heroku master\n + \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8868\u793a\n\n #### \u6f14\u7fd2\u554f\u984c\n-+\u3000\u7ba1\u7406\u8005\u7528\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u4f5c\u6210\n++ \u7ba1\u7406\u8005\u7528\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u4f5c\u6210\n++ \u7ba1\u7406\u8005\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u8ffd\u52a0\n\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n ### \u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664\ndiff --git a/app/assets/stylesheets/pages/_login.scss b/app/assets/stylesheets/pages/_login.scss\nindex dea90df..c635be9 100644\n--- a/app/assets/stylesheets/pages/_login.scss\n+++ b/app/assets/stylesheets/pages/_login.scss\n@@ -9,7 +9,14 @@\n   margin: $wide * 2 auto;\n   padding: $wide * 2;\n   border-radius: $wide;\n-  border: solid 4px $dark_cyan;\n+\n+  &amp;--staff {\n+    border: solid 4px $dark_cyan;\n+  }\n+  &amp;--admin {\n+    border: solid 4px $dark_magenta;\n+  }\n+\n   background-color: $very_light_gray;\n\n   &amp;__head {\ndiff --git a/app/controllers/admin/sessions_controller.rb b/app/controllers/admin/sessions_controller.rb\nnew file mode 100644\nindex 0000000..41f5740\n--- /dev/null\n+++ b/app/controllers/admin/sessions_controller.rb\n@@ -0,0 +1,40 @@\n+class Admin::SessionsController &lt; Admin::Base\n+  def new\n+    if current_administrator\n+      redirect_to :admin_root\n+    else\n+      @form = Admin::LoginForm.new\n+      render action: 'new'\n+    end\n+  end\n+\n+  def create\n+    @form = Admin::LoginForm.new(post_params)\n+    if @form.email.present?\n+      administrator = Administrator.find_by(email_for_index: @form.email.downcase)\n+    end\n+    if administrator\n+      if administrator.suspended?\n+        flash.now.alert = '\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u505c\u6b62\u3055\u308c\u3066\u3044\u307e\u3059\u3002'\n+        render action: 'new'\n+      else\n+        session[:administrator_id] = administrator.id\n+        session[:last_access_time] = Time.current\n+        flash.notice = '\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u305f\u3002'\n+        redirect_to :admin_root\n+      end\n+    else\n+      flash.now.alert = '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u307e\u305f\u306f\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002'\n+      render action: 'new'\n+    end\n+  end\n+\n+  private\n+  def post_params\n+    params.require(:admin_login_form).permit(\n+        :email,\n+        :password\n+    )\n+  end\n+  \n+end\ndiff --git a/app/views/admin/sessions/new.html.erb b/app/views/admin/sessions/new.html.erb\nnew file mode 100644\nindex 0000000..18e4d98\n--- /dev/null\n+++ b/app/views/admin/sessions/new.html.erb\n@@ -0,0 +1,21 @@\n+&lt;% @title = '\u30ed\u30b0\u30a4\u30f3' %&gt;\n+&lt;section class=\"Section l-column\"&gt;\n+  &lt;div class=\"Login Login--admin\"&gt;\n+    &lt;h1 class=\"Login__head\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+    &lt;div class=\"Login__body\"&gt;\n+      &lt;%= bootstrap_form_for @form, url: :admin_session do |f| %&gt;\n+          &lt;div&gt;\n+            &lt;%= f.label :email, '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9' %&gt;\n+            &lt;%= f.text_field :email %&gt;\n+          &lt;/div&gt;\n+          &lt;div&gt;\n+            &lt;%= f.label :password, '\u30d1\u30b9\u30ef\u30fc\u30c9' %&gt;\n+            &lt;%= f.password_field :password %&gt;\n+          &lt;/div&gt;\n+          &lt;div&gt;\n+            &lt;%= f.submit '\u30ed\u30b0\u30a4\u30f3' %&gt;\n+          &lt;/div&gt;\n+      &lt;% end %&gt;\n+    &lt;/div&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/app/views/shared/admin/_header.html.erb b/app/views/shared/admin/_header.html.erb\nindex 40dbea6..a68e8a3 100644\n--- a/app/views/shared/admin/_header.html.erb\n+++ b/app/views/shared/admin/_header.html.erb\n@@ -11,9 +11,9 @@\n     &lt;/ul&gt;\n   &lt;/nav&gt;\n   &lt;%= if current_administrator\n-        link_to '\u30ed\u30b0\u30a2\u30a6\u30c8', :staff_session, method:delete, class: 'login--staff'\n+        link_to '\u30ed\u30b0\u30a2\u30a6\u30c8', :admin_session, method:delete, class: 'login--admin'\n       else\n-        link_to '\u30ed\u30b0\u30a4\u30f3', :staff_login, class: 'login--staff'\n+        link_to '\u30ed\u30b0\u30a4\u30f3', :admin_login, class: 'login--admin'\n       end\n   %&gt;\n &lt;/header&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/sessions/new.html.erb b/app/views/staff/sessions/new.html.erb\nindex 866f5ee..dbd71b3 100644\n--- a/app/views/staff/sessions/new.html.erb\n+++ b/app/views/staff/sessions/new.html.erb\n@@ -1,6 +1,6 @@\n &lt;% @title = '\u30ed\u30b0\u30a4\u30f3' %&gt;\n &lt;section class=\"Section l-column\"&gt;\n-  &lt;div class=\"Login\"&gt;\n+  &lt;div class=\"Login Login--staff\"&gt;\n     &lt;h1 class=\"Login__head\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n     &lt;div class=\"Login__body\"&gt;\n       &lt;%= bootstrap_form_for @form, url: :staff_session do |f| %&gt;\n</code></pre>"},{"location":"journal/20170121/#_35","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170121/#fb466e7","title":"\u30b3\u30df\u30c3\u30c8: fb466e7","text":""},{"location":"journal/20170121/#_36","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u7ba1\u7406\u8005\u7528\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u4f5c\u6210 #4\n</code></pre>"},{"location":"journal/20170121/#_37","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/forms/admin/login_form.rb</li> </ul>"},{"location":"journal/20170121/#_38","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit fb466e7ae94eaeb980e71cc22df50c319b6c2334\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 21 17:34:12 2017 +0900\n\n    \u7ba1\u7406\u8005\u7528\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u4f5c\u6210 #4\n\ndiff --git a/README.md b/README.md\nindex 6605555..5af6f92 100644\n--- a/README.md\n+++ b/README.md\n@@ -379,6 +379,7 @@ git push heroku master\n + \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8868\u793a\n\n #### \u6f14\u7fd2\u554f\u984c\n++\u3000\u7ba1\u7406\u8005\u7528\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u4f5c\u6210\n\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n ### \u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664\ndiff --git a/app/forms/admin/login_form.rb b/app/forms/admin/login_form.rb\nnew file mode 100644\nindex 0000000..ab1b60f\n--- /dev/null\n+++ b/app/forms/admin/login_form.rb\n@@ -0,0 +1,5 @@\n+class Admin::LoginForm\n+  include ActiveModel::Model\n+\n+  attr_accessor :email, :password\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170123/","title":"\u4f5c\u696d\u5c65\u6b74 2017-01-23","text":""},{"location":"journal/20170123/#_1","title":"\u6982\u8981","text":"<p>2017-01-23\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u6539\u5584\u3068\u30c7\u30d7\u30ed\u30a4\u74b0\u5883\u306e\u8a2d\u5b9a\u306b\u95a2\u3059\u308b\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002\u4e3b\u306b\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306e\u30ec\u30b9\u30dd\u30f3\u30b7\u30d6\u5bfe\u5fdc\u3068Heroku\u30c7\u30d7\u30ed\u30a4\u306e\u305f\u3081\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170123/#_2","title":"\u30c7\u30d7\u30ed\u30a4\u3068\u30ec\u30b9\u30dd\u30f3\u30b7\u30d6\u5bfe\u5fdc\u306e\u69cb\u6210\u56f3","text":""},{"location":"journal/20170123/#_3","title":"\u4f5c\u696d\u5185\u5bb9","text":""},{"location":"journal/20170123/#_4","title":"\u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u6539\u5584\u3068\u30c7\u30d7\u30ed\u30a4\u74b0\u5883\u306e\u8a2d\u5b9a","text":"<p>\u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u6539\u5584\u3068\u30c7\u30d7\u30ed\u30a4\u74b0\u5883\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u3092\u30e2\u30d0\u30a4\u30eb\u30c7\u30d0\u30a4\u30b9\u3067\u3082\u4f7f\u3044\u3084\u3059\u304f\u3059\u308b\u305f\u3081\u306e\u30ec\u30b9\u30dd\u30f3\u30b7\u30d6\u5bfe\u5fdc\u3068\u3001Heroku\u3078\u306e\u30c7\u30d7\u30ed\u30a4\u306b\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u5b9a\u3092\u5b9f\u65bd\u3057\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170123/#_5","title":"\u5909\u66f4\u70b9\u306e\u6982\u8981","text":"<ol> <li>\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306e\u30ec\u30b9\u30dd\u30f3\u30b7\u30d6\u5bfe\u5fdc</li> <li>\u30e2\u30d0\u30a4\u30eb\u8868\u793a\u6642\u306e\u5e45\u3092\u81ea\u52d5\u8abf\u6574\u3059\u308b\u30e1\u30c7\u30a3\u30a2\u30af\u30a8\u30ea\u306e\u8ffd\u52a0</li> <li> <p>\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u5411\u3051\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u6700\u9069\u5316</p> </li> <li> <p>\u56fd\u969b\u5316\u5bfe\u5fdc\u306e\u4e0d\u5177\u5408\u4fee\u6b63</p> </li> <li>\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u8868\u793a\u554f\u984c\u3092\u89e3\u6c7a</li> <li> <p>YAML\u30d5\u30a1\u30a4\u30eb\u306e\u69cb\u9020\u4fee\u6b63</p> </li> <li> <p>Heroku\u30c7\u30d7\u30ed\u30a4\u306e\u305f\u3081\u306e\u8a2d\u5b9a</p> </li> <li>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u8a2d\u5b9a\u306e\u74b0\u5883\u5909\u6570\u5bfe\u5fdc</li> <li>\u672c\u756a\u74b0\u5883\u7528\u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u306e\u8ffd\u52a0</li> </ol>"},{"location":"journal/20170123/#_6","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li>\u30e1\u30c7\u30a3\u30a2\u30af\u30a8\u30ea\u3092\u4f7f\u7528\u3057\u305f\u30ec\u30b9\u30dd\u30f3\u30b7\u30d6\u30c7\u30b6\u30a4\u30f3\u306e\u5b9f\u88c5</li> <li>YAML\u30d5\u30a1\u30a4\u30eb\u306e\u69cb\u9020\u4fee\u6b63\u306b\u3088\u308bi18n\u4e0d\u5177\u5408\u306e\u89e3\u6c7a</li> <li>\u74b0\u5883\u5909\u6570\u3092\u6d3b\u7528\u3057\u305f\u672c\u756a\u74b0\u5883\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u8a2d\u5b9a</li> </ul>"},{"location":"journal/20170123/#12ae098","title":"\u30b3\u30df\u30c3\u30c8: 12ae098","text":""},{"location":"journal/20170123/#_7","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u30ec\u30b9\u30dd\u30f3\u30b7\u30d6\u5bfe\u5fdc\n</code></pre>"},{"location":"journal/20170123/#_8","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/pages/_login.scss</li> </ul>"},{"location":"journal/20170123/#_9","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 12ae098d658dc1e4a1e2e1e41c7c80798207f89f\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 23 19:10:59 2017 +0900\n\n    \u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u30ec\u30b9\u30dd\u30f3\u30b7\u30d6\u5bfe\u5fdc\n\ndiff --git a/app/assets/stylesheets/pages/_login.scss b/app/assets/stylesheets/pages/_login.scss\nindex c635be9..72fc3e8 100644\n--- a/app/assets/stylesheets/pages/_login.scss\n+++ b/app/assets/stylesheets/pages/_login.scss\n@@ -6,6 +6,9 @@\n\n .Login {\n   width: 400px;\n+  @include mq-sp {\n+    width: auto;\n+  }\n   margin: $wide * 2 auto;\n   padding: $wide * 2;\n   border-radius: $wide;\n</code></pre>"},{"location":"journal/20170123/#86e2719","title":"\u30b3\u30df\u30c3\u30c8: 86e2719","text":""},{"location":"journal/20170123/#_10","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u30e1\u30c3\u30bb\u30fc\u30b8\u8868\u793a\u4e0d\u5177\u5408\u4fee\u6b63\n</code></pre>"},{"location":"journal/20170123/#_11","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M config/locales/models/models.yml</li> </ul>"},{"location":"journal/20170123/#_12","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 86e2719efb52413f5720b845ce52d13159a4a993\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 23 19:00:14 2017 +0900\n\n    \u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u30e1\u30c3\u30bb\u30fc\u30b8\u8868\u793a\u4e0d\u5177\u5408\u4fee\u6b63\n\ndiff --git a/config/locales/models/models.yml b/config/locales/models/models.yml\nindex 6138e72..15cb668 100644\n--- a/config/locales/models/models.yml\n+++ b/config/locales/models/models.yml\n@@ -32,8 +32,6 @@ ja:\n       staff/login_form:\n         email: \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n         password: \u30d1\u30b9\u30ef\u30fc\u30c9\n-\n-    attributes:\n       admin/login_form:\n         email: \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n         password: \u30d1\u30b9\u30ef\u30fc\u30c9\n</code></pre>"},{"location":"journal/20170123/#d6120a2","title":"\u30b3\u30df\u30c3\u30c8: d6120a2","text":""},{"location":"journal/20170123/#_13","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Heroku\u30c7\u30d7\u30ed\u30a4\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u5bfe\u5fdc\n</code></pre>"},{"location":"journal/20170123/#_14","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M config/database.yml</li> <li>A db/seed/production/administrators.rb</li> <li>A db/seed/production/staff_members.rb</li> </ul>"},{"location":"journal/20170123/#_15","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit d6120a2456a8be7f0a89533924756372a222a1e7\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 23 18:53:48 2017 +0900\n\n    Heroku\u30c7\u30d7\u30ed\u30a4\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u5bfe\u5fdc\n\ndiff --git a/config/database.yml b/config/database.yml\nindex 0c508ef..0c4a245 100644\n--- a/config/database.yml\n+++ b/config/database.yml\n@@ -55,6 +55,6 @@ production:\n   # For details on connection pooling, see rails configuration guide\n   # http://guides.rubyonrails.org/configuring.html#database-pooling\n   pool: &lt;%= ENV.fetch(\"RAILS_MAX_THREADS\") { 5 } %&gt;\n-  url: postgres://postgres:password@127.0.0.1/baukis-kai_production\n-  port: 5432\n+  url: &lt;%= ENV['DATABASE_URL'] %&gt;\n+  port: &lt;%= ENV['PORT'] %&gt;\n\ndiff --git a/db/seed/production/administrators.rb b/db/seed/production/administrators.rb\nnew file mode 100644\nindex 0000000..61dc988\n--- /dev/null\n+++ b/db/seed/production/administrators.rb\n@@ -0,0 +1,4 @@\n+Administrator.create(\n+               email: 'hanako@example.com',\n+               password: 'foobar'\n+)\n\\ No newline at end of file\ndiff --git a/db/seed/production/staff_members.rb b/db/seed/production/staff_members.rb\nnew file mode 100644\nindex 0000000..7156a40\n--- /dev/null\n+++ b/db/seed/production/staff_members.rb\n@@ -0,0 +1,9 @@\n+StaffMember.create(\n+               email: 'taro@example.com',\n+               family_name: '\u5c71\u7530',\n+               given_name: '\u592a\u90ce',\n+               family_name_kana: '\u30e4\u30de\u30c0',\n+               given_name_kana: '\u30bf\u30ed\u30a6',\n+               password: 'password',\n+               start_date: Date.today\n+)\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170123/#adbeb4c","title":"\u30b3\u30df\u30c3\u30c8: adbeb4c","text":""},{"location":"journal/20170123/#_16","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ed\u30b0\u30a4\u30f3\u30dc\u30bf\u30f3\u8868\u793a\u4e0d\u5177\u5408\u4fee\u6b63\n</code></pre>"},{"location":"journal/20170123/#_17","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/admin/shared/_header.html.erb</li> <li>M app/views/staff/shared/_header.html.erb</li> </ul>"},{"location":"journal/20170123/#_18","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit adbeb4c95aaafc6e3a5ca6ff42e0fae5f8931d79\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 23 18:53:15 2017 +0900\n\n    \u30ed\u30b0\u30a4\u30f3\u30dc\u30bf\u30f3\u8868\u793a\u4e0d\u5177\u5408\u4fee\u6b63\n\ndiff --git a/app/views/admin/shared/_header.html.erb b/app/views/admin/shared/_header.html.erb\nindex 388e5cc..299226e 100644\n--- a/app/views/admin/shared/_header.html.erb\n+++ b/app/views/admin/shared/_header.html.erb\n@@ -17,9 +17,9 @@\n     &lt;/ul&gt;\n   &lt;/nav&gt;\n   &lt;%= if current_administrator\n-        link_to t('admin.shared.header.login'), :admin_session, method: :delete, class: 'btn btn-default'\n+        link_to t('admin.shared.header.logout'), :admin_session, method: :delete, class: 'btn btn-default'\n       else\n-        link_to t('admin.shared.header.logout'), :admin_login, class: 'btn btn-default'\n+        link_to t('admin.shared.header.login'), :admin_login, class: 'btn btn-default'\n       end\n   %&gt;\n &lt;/header&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/shared/_header.html.erb b/app/views/staff/shared/_header.html.erb\nindex 830cc01..96aa3d6 100644\n--- a/app/views/staff/shared/_header.html.erb\n+++ b/app/views/staff/shared/_header.html.erb\n@@ -17,9 +17,9 @@\n     &lt;/ul&gt;\n   &lt;/nav&gt;\n   &lt;%= if current_staff_member\n-        link_to t('staff.shared.header.login'), :staff_session, method: :delete, class: 'btn btn-default'\n+        link_to t('staff.shared.header.logout'), :staff_session, method: :delete, class: 'btn btn-default'\n       else\n-        link_to t('staff.shared.header.logout'), :staff_login, class: 'btn btn-default'\n+        link_to t('staff.shared.header.login'), :staff_login, class: 'btn btn-default'\n       end\n     %&gt;\n &lt;/header&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170124/","title":"\u4f5c\u696d\u5c65\u6b74 2017-01-24","text":""},{"location":"journal/20170124/#_1","title":"\u6982\u8981","text":"<p>2017-01-24\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u6a5f\u80fd\u306e\u5b9f\u88c5\u306b\u95a2\u3059\u308b\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002\u4e3b\u306b\u30db\u30b9\u30c8\u540d\u306b\u3088\u308b\u5236\u7d04\u3068\u30d1\u30b9\u8a2d\u5b9a\u3001\u9867\u5ba2\u5411\u3051\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u8ffd\u52a0\u3092\u884c\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170124/#_2","title":"\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u69cb\u6210\u56f3","text":""},{"location":"journal/20170124/#_3","title":"\u4f5c\u696d\u5185\u5bb9","text":""},{"location":"journal/20170124/#_4","title":"\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u6a5f\u80fd\u306e\u5b9f\u88c5","text":"<p>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u6a5f\u80fd\u3092\u5b9f\u88c5\u3059\u308b\u305f\u3081\u3001\u30db\u30b9\u30c8\u540d\u306b\u3088\u308b\u5236\u7d04\u3068\u30d1\u30b9\u8a2d\u5b9a\u3001\u9867\u5ba2\u5411\u3051\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u8ffd\u52a0\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u540c\u4e00\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5185\u3067\u8077\u54e1\u3001\u7ba1\u7406\u8005\u3001\u9867\u5ba2\u5411\u3051\u306e\u7570\u306a\u308b\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u63d0\u4f9b\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170124/#_5","title":"\u5909\u66f4\u70b9\u306e\u6982\u8981","text":"<ol> <li>\u30db\u30b9\u30c8\u540d\u306b\u3088\u308b\u5236\u7d04\u306e\u5b9f\u88c5</li> <li>\u74b0\u5883\u3054\u3068\u306e\u30db\u30b9\u30c8\u540d\u8a2d\u5b9a</li> <li> <p>\u8077\u54e1\u30fb\u7ba1\u7406\u8005\u30fb\u9867\u5ba2\u5411\u3051\u306e\u7570\u306a\u308b\u30db\u30b9\u30c8\u540d\u3068\u30d1\u30b9\u8a2d\u5b9a</p> </li> <li> <p>\u9867\u5ba2\u5411\u3051\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u8ffd\u52a0</p> </li> <li>\u9867\u5ba2\u7528\u306e\u30eb\u30fc\u30c8\u30d1\u30b9\u306e\u8a2d\u5b9a</li> <li> <p>\u9867\u5ba2\u5411\u3051\u6a5f\u80fd\u3078\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8a2d\u5b9a</p> </li> <li> <p>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30c6\u30b9\u30c8\u306e\u8ffd\u52a0</p> </li> <li>\u5404\u7a2e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u52d5\u4f5c\u78ba\u8a8d\u30c6\u30b9\u30c8</li> <li>\u5236\u7d04\u6a5f\u80fd\u306e\u30c6\u30b9\u30c8</li> </ol>"},{"location":"journal/20170124/#_6","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li><code>constraints</code>\u3092\u4f7f\u7528\u3057\u305f\u30db\u30b9\u30c8\u540d\u306b\u3088\u308b\u5236\u7d04\u306e\u5b9f\u88c5</li> <li>\u74b0\u5883\u5909\u6570\u3092\u6d3b\u7528\u3057\u305f\u672c\u756a\u74b0\u5883\u306eURL\u8a2d\u5b9a</li> <li>RSpec\u3092\u4f7f\u7528\u3057\u305f\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30c6\u30b9\u30c8\u306e\u5b9f\u88c5</li> </ul>"},{"location":"journal/20170124/#5403c7a","title":"\u30b3\u30df\u30c3\u30c8: 5403c7a","text":""},{"location":"journal/20170124/#_7","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u672c\u756a\u74b0\u5883URL\u8a2d\u5b9a\u4fee\u6b63\n</code></pre>"},{"location":"journal/20170124/#_8","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M config/environments/production.rb</li> </ul>"},{"location":"journal/20170124/#_9","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 5403c7a926bbd38f5ec1131b2d871c12b2ea3a83\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 24 19:16:44 2017 +0900\n\n    \u672c\u756a\u74b0\u5883URL\u8a2d\u5b9a\u4fee\u6b63\n\ndiff --git a/config/environments/production.rb b/config/environments/production.rb\nindex a736dfc..383c65c 100644\n--- a/config/environments/production.rb\n+++ b/config/environments/production.rb\n@@ -85,8 +85,8 @@ Rails.application.configure do\n   config.active_record.dump_schema_after_migration = false\n\n   config.baukis_kai = {\n-      staff: { host: ENV[\"PRD_URL\"] , path: '' },\n+      staff: { host: ENV[\"PRD_URL\"] , path: 'staff' },\n       admin: { host: ENV[\"PRD_URL\"], path: 'admin' },\n-      customer: { host: ENV[\"PRD_URL\"], path: 'mypage' }\n+      customer: { host: ENV[\"PRD_URL\"], path: '' }\n   }\n end\n</code></pre>"},{"location":"journal/20170124/#a883770","title":"\u30b3\u30df\u30c3\u30c8: a883770","text":""},{"location":"journal/20170124/#_10","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u9867\u5ba2\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8ffd\u52a0 #5\n</code></pre>"},{"location":"journal/20170124/#_11","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170124/#_12","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit a88377093a29f4534d398d5a8b1bc8752d4da5d4\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 24 19:08:37 2017 +0900\n\n    \u9867\u5ba2\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8ffd\u52a0 #5\n\ndiff --git a/README.md b/README.md\nindex 9044bc9..d55146e 100644\n--- a/README.md\n+++ b/README.md\n@@ -413,6 +413,7 @@ git push heroku master\n\n #### \u6f14\u7fd2\u554f\u984c\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30c6\u30b9\u30c8\u8ffd\u52a0\n++ \u9867\u5ba2\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8ffd\u52a0\n\n ### \u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664\n ### String Parameters\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 832d9a0..40f135b 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -51,11 +51,13 @@ Rails.application.routes.draw do\n     end\n   end\n\n-  namespace :customer, path: '' do\n-    root 'top#index'\n-    get 'article/index'\n-    get 'campaign/index'\n-    get 'campaign_submit', to: 'campaign#submit'\n+  constraints host: config[:customer][:host] do\n+    namespace :customer, path: config[:customer][:path] do\n+      root 'top#index'\n+      get 'article/index'\n+      get 'campaign/index'\n+      get 'campaign_submit', to: 'campaign#submit'\n+    end\n   end\n\n   root 'errors#routing_error'\n</code></pre>"},{"location":"journal/20170124/#6f6c80d","title":"\u30b3\u30df\u30c3\u30c8: 6f6c80d","text":""},{"location":"journal/20170124/#_13","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30c6\u30b9\u30c8\u8ffd\u52a0 #5\n</code></pre>"},{"location":"journal/20170124/#_14","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> <li>M spec/routing/hostname_constraints_spec.rb</li> </ul>"},{"location":"journal/20170124/#_15","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 6f6c80d10230b50c50809d5f52dfc75e1d834dfe\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 24 19:07:32 2017 +0900\n\n    \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30c6\u30b9\u30c8\u8ffd\u52a0 #5\n\ndiff --git a/README.md b/README.md\nindex d1777b6..9044bc9 100644\n--- a/README.md\n+++ b/README.md\n@@ -412,6 +412,7 @@ git push heroku master\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u30c6\u30b9\u30c8\n\n #### \u6f14\u7fd2\u554f\u984c\n++ \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30c6\u30b9\u30c8\u8ffd\u52a0\n\n ### \u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664\n ### String Parameters\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 9964be8..832d9a0 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -19,10 +19,10 @@\n #      admin_staff_members GET    /admin/staff(.:format)        admin/staff_members#index {:host=&gt;\"0.0.0.0\"}\n #                          POST   /admin/staff(.:format)        admin/staff_members#create {:host=&gt;\"0.0.0.0\"}\n #   new_admin_staff_member GET    /admin/staff/new(.:format)    admin/staff_members#new {:host=&gt;\"0.0.0.0\"}\n-#            customer_root GET    /                             customer/top#index\n-#   customer_article_index GET    /article/index(.:format)      customer/article#index\n-#  customer_campaign_index GET    /campaign/index(.:format)     customer/campaign#index\n-# customer_campaign_submit GET    /campaign_submit(.:format)    customer/campaign#submit\n+#            customer_root GET    /                             customer/top#index {:host=&gt;\"0.0.0.0\"}\n+#   customer_article_index GET    /article/index(.:format)      customer/article#index {:host=&gt;\"0.0.0.0\"}\n+#  customer_campaign_index GET    /campaign/index(.:format)     customer/campaign#index {:host=&gt;\"0.0.0.0\"}\n+# customer_campaign_submit GET    /campaign_submit(.:format)    customer/campaign#submit {:host=&gt;\"0.0.0.0\"}\n #                     root GET    /                             errors#routing_error\n #                          GET    /*anything(.:format)          errors#routing_error\n #\ndiff --git a/spec/routing/hostname_constraints_spec.rb b/spec/routing/hostname_constraints_spec.rb\nindex ea44667..cad8334 100644\n--- a/spec/routing/hostname_constraints_spec.rb\n+++ b/spec/routing/hostname_constraints_spec.rb\n@@ -20,6 +20,15 @@ describe 'Routes' do\n                                      )\n   end\n\n+  # \u9867\u5ba2\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\n+  it 'should route customer top page' do\n+    expect(get: 'http://baukis-kai.example.com').to route_to(\n+                                                              host: 'baukis-kai.example.com',\n+                                                              controller: 'customer/top',\n+                                                              action: 'index'\n+                                                          )\n+  end\n+\n   # \u30db\u30b9\u30c8\u540d\u304c\u5bfe\u8c61\u5916\u306a\u3089errors/not_found\u3078\n   it 'should route errors/not_found giving exempt host' do\n     expect(get: 'http://foo.example.com').to route_to(\n</code></pre>"},{"location":"journal/20170124/#20e671b","title":"\u30b3\u30df\u30c3\u30c8: 20e671b","text":""},{"location":"journal/20170124/#_16","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u30c6\u30b9\u30c8 #5\n</code></pre>"},{"location":"journal/20170124/#_17","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/environments/test.rb</li> <li>A spec/routing/hostname_constraints_spec.rb</li> </ul>"},{"location":"journal/20170124/#_18","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 20e671b3717463e3dcc84d783295822d28e49309\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 24 19:03:28 2017 +0900\n\n    \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u30c6\u30b9\u30c8 #5\n\ndiff --git a/README.md b/README.md\nindex 2cb0fbe..d1777b6 100644\n--- a/README.md\n+++ b/README.md\n@@ -409,6 +409,7 @@ git push heroku master\n #### \u5236\u7d04\n + Rails.application.config\n + \u30db\u30b9\u30c8\u540d\u306b\u3088\u308b\u5236\u7d04\n++ \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u30c6\u30b9\u30c8\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/config/environments/test.rb b/config/environments/test.rb\nindex 30587ef..27275c7 100644\n--- a/config/environments/test.rb\n+++ b/config/environments/test.rb\n@@ -39,4 +39,10 @@ Rails.application.configure do\n\n   # Raises error for missing translations\n   # config.action_view.raise_on_missing_translations = true\n+\n+  config.baukis_kai = {\n+      staff: { host: 'baukis-kai.example.com', path: 'staff' },\n+      admin: { host: 'baukis-kai.example.com', path: 'admin' },\n+      customer: { host: 'baukis-kai.example.com', path: '' }\n+  }\n end\ndiff --git a/spec/routing/hostname_constraints_spec.rb b/spec/routing/hostname_constraints_spec.rb\nnew file mode 100644\nindex 0000000..ea44667\n--- /dev/null\n+++ b/spec/routing/hostname_constraints_spec.rb\n@@ -0,0 +1,39 @@\n+require 'rails_helper'\n+\n+#\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n+describe 'Routes' do\n+  # \u8077\u54e1\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\n+  it 'should route staff top page' do\n+    expect(get: 'http://baukis-kai.example.com/staff').to route_to(\n+                                         host: 'baukis-kai.example.com',\n+                                         controller: 'staff/top',\n+                                         action: 'index'\n+                                     )\n+  end\n+\n+  # \u7ba1\u7406\u8005\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\n+  it 'should route administrator login form' do\n+    expect(get: 'http://baukis-kai.example.com/admin/login').to route_to(\n+                                         host: 'baukis-kai.example.com',\n+                                         controller: 'admin/sessions',\n+                                         action: 'new'\n+                                     )\n+  end\n+\n+  # \u30db\u30b9\u30c8\u540d\u304c\u5bfe\u8c61\u5916\u306a\u3089errors/not_found\u3078\n+  it 'should route errors/not_found giving exempt host' do\n+    expect(get: 'http://foo.example.com').to route_to(\n+                                                controller: 'errors',\n+                                                action: 'routing_error'\n+                                            )\n+  end\n+\n+  # \u5b58\u5728\u3057\u306a\u3044\u30d1\u30b9\u306a\u3089errors/not_found\u3078\n+  it 'should route errors/not_found giving a path that does not exist' do\n+    expect(get: 'http://baukis-kai.example.com/xyz').to route_to(\n+                                             controller: 'errors',\n+                                             action: 'routing_error',\n+                                             anything: 'xyz'\n+                                         )\n+  end\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170124/#8ed9a47","title":"\u30b3\u30df\u30c3\u30c8: 8ed9a47","text":""},{"location":"journal/20170124/#_19","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30db\u30b9\u30c8\u540d\u306b\u3088\u308b\u5236\u7d04 #5\n</code></pre>"},{"location":"journal/20170124/#_20","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170124/#_21","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8ed9a47b66cf2fb16d01ea3da120f50d0aa79ce1\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 24 18:35:58 2017 +0900\n\n    \u30db\u30b9\u30c8\u540d\u306b\u3088\u308b\u5236\u7d04 #5\n\ndiff --git a/README.md b/README.md\nindex fb26e50..2cb0fbe 100644\n--- a/README.md\n+++ b/README.md\n@@ -408,6 +408,7 @@ git push heroku master\n\n #### \u5236\u7d04\n + Rails.application.config\n++ \u30db\u30b9\u30c8\u540d\u306b\u3088\u308b\u5236\u7d04\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 1218c0c..9964be8 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -1,51 +1,54 @@\n # == Route Map\n #\n-#                   Prefix Verb   URI Pattern                     Controller#Action\n-#     errors_routing_error GET    /errors/routing_error(.:format) errors#routing_error\n-#               staff_root GET    /staff(.:format)                staff/top#index\n-#              staff_login GET    /staff/login(.:format)          staff/sessions#new\n-#            staff_session POST   /staff/session(.:format)        staff/sessions#create\n-#                          DELETE /staff/session(.:format)        staff/sessions#destroy\n-#        new_staff_account GET    /staff/account/new(.:format)    staff/accounts#new\n-#       edit_staff_account GET    /staff/account/edit(.:format)   staff/accounts#edit\n-#            staff_account GET    /staff/account(.:format)        staff/accounts#show\n-#                          PATCH  /staff/account(.:format)        staff/accounts#update\n-#                          PUT    /staff/account(.:format)        staff/accounts#update\n-#                          DELETE /staff/account(.:format)        staff/accounts#destroy\n-#                          POST   /staff/account(.:format)        staff/accounts#create\n-#               admin_root GET    /admin(.:format)                admin/top#index\n-#              admin_login GET    /admin/login(.:format)          admin/sessions#new\n-#            admin_session POST   /admin/session(.:format)        admin/sessions#create\n-#                          DELETE /admin/session(.:format)        admin/sessions#destroy\n-#      admin_staff_members GET    /admin/staff(.:format)          admin/staff_members#index\n-#                          POST   /admin/staff(.:format)          admin/staff_members#create\n-#   new_admin_staff_member GET    /admin/staff/new(.:format)      admin/staff_members#new\n-#            customer_root GET    /                               customer/top#index\n-#   customer_article_index GET    /article/index(.:format)        customer/article#index\n-#  customer_campaign_index GET    /campaign/index(.:format)       customer/campaign#index\n-# customer_campaign_submit GET    /campaign_submit(.:format)      customer/campaign#submit\n-#                     root GET    /                               errors#routing_error\n-#                          GET    /*anything(.:format)            errors#routing_error\n+#                   Prefix Verb   URI Pattern                   Controller#Action\n+#               staff_root GET    /staff(.:format)              staff/top#index {:host=&gt;\"0.0.0.0\"}\n+#              staff_login GET    /staff/login(.:format)        staff/sessions#new {:host=&gt;\"0.0.0.0\"}\n+#            staff_session DELETE /staff/session(.:format)      staff/sessions#destroy {:host=&gt;\"0.0.0.0\"}\n+#                          POST   /staff/session(.:format)      staff/sessions#create {:host=&gt;\"0.0.0.0\"}\n+#        new_staff_account GET    /staff/account/new(.:format)  staff/accounts#new {:host=&gt;\"0.0.0.0\", :execpt=&gt;[:new, :create, :destroy]}\n+#       edit_staff_account GET    /staff/account/edit(.:format) staff/accounts#edit {:host=&gt;\"0.0.0.0\", :execpt=&gt;[:new, :create, :destroy]}\n+#            staff_account GET    /staff/account(.:format)      staff/accounts#show {:host=&gt;\"0.0.0.0\", :execpt=&gt;[:new, :create, :destroy]}\n+#                          PATCH  /staff/account(.:format)      staff/accounts#update {:host=&gt;\"0.0.0.0\", :execpt=&gt;[:new, :create, :destroy]}\n+#                          PUT    /staff/account(.:format)      staff/accounts#update {:host=&gt;\"0.0.0.0\", :execpt=&gt;[:new, :create, :destroy]}\n+#                          DELETE /staff/account(.:format)      staff/accounts#destroy {:host=&gt;\"0.0.0.0\", :execpt=&gt;[:new, :create, :destroy]}\n+#                          POST   /staff/account(.:format)      staff/accounts#create {:host=&gt;\"0.0.0.0\", :execpt=&gt;[:new, :create, :destroy]}\n+#               admin_root GET    /admin(.:format)              admin/top#index {:host=&gt;\"0.0.0.0\"}\n+#              admin_login GET    /admin/login(.:format)        admin/sessions#new {:host=&gt;\"0.0.0.0\"}\n+#            admin_session DELETE /admin/session(.:format)      admin/sessions#destroy {:host=&gt;\"0.0.0.0\"}\n+#                          POST   /admin/session(.:format)      admin/sessions#create {:host=&gt;\"0.0.0.0\"}\n+#      admin_staff_members GET    /admin/staff(.:format)        admin/staff_members#index {:host=&gt;\"0.0.0.0\"}\n+#                          POST   /admin/staff(.:format)        admin/staff_members#create {:host=&gt;\"0.0.0.0\"}\n+#   new_admin_staff_member GET    /admin/staff/new(.:format)    admin/staff_members#new {:host=&gt;\"0.0.0.0\"}\n+#            customer_root GET    /                             customer/top#index\n+#   customer_article_index GET    /article/index(.:format)      customer/article#index\n+#  customer_campaign_index GET    /campaign/index(.:format)     customer/campaign#index\n+# customer_campaign_submit GET    /campaign_submit(.:format)    customer/campaign#submit\n+#                     root GET    /                             errors#routing_error\n+#                          GET    /*anything(.:format)          errors#routing_error\n #\n\n Rails.application.routes.draw do\n-  get 'errors/routing_error'\n+  config = Rails.application.config.baukis_kai\n\n   concern :session_path do\n     get    'login'   =&gt; 'sessions#new', as: :login\n     resource :session, only: [:create, :destroy]\n   end\n\n-  namespace :staff do\n-    root   'top#index'\n-    concerns :session_path\n-    resource :account, execpt: [:new, :create, :destroy]\n+  constraints host: config[:staff][:host] do\n+    namespace :staff, path: config[:staff][:path] do\n+      root   'top#index'\n+      concerns :session_path\n+      resource :account, execpt: [:new, :create, :destroy]\n+    end\n   end\n\n-  namespace :admin do\n-    root 'top#index'\n-    concerns :session_path\n-    resources :staff_members, only: [:index, :new, :create], path: 'staff'\n+  constraints host: config[:admin][:host] do\n+    namespace :admin, path: config[:admin][:path]  do\n+      root 'top#index'\n+      concerns :session_path\n+      resources :staff_members, only: [:index, :new, :create], path: 'staff'\n+    end\n   end\n\n   namespace :customer, path: '' do\n</code></pre>"},{"location":"journal/20170124/#fbe55af","title":"\u30b3\u30df\u30c3\u30c8: fbe55af","text":""},{"location":"journal/20170124/#_22","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Rails.application.config #5\n</code></pre>"},{"location":"journal/20170124/#_23","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/environments/development.rb</li> </ul>"},{"location":"journal/20170124/#_24","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit fbe55afc237a27516bdafeebc6843f601086433d\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 24 18:26:16 2017 +0900\n\n    Rails.application.config #5\n\ndiff --git a/README.md b/README.md\nindex 00db3d2..fb26e50 100644\n--- a/README.md\n+++ b/README.md\n@@ -407,6 +407,8 @@ git push heroku master\n + resource\u30e1\u30bd\u30c3\u30c9\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\n\n #### \u5236\u7d04\n++ Rails.application.config\n+\n #### \u6f14\u7fd2\u554f\u984c\n\n ### \u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664\ndiff --git a/config/environments/development.rb b/config/environments/development.rb\nindex 4b808ab..c6f4df0 100644\n--- a/config/environments/development.rb\n+++ b/config/environments/development.rb\n@@ -53,9 +53,9 @@ Rails.application.configure do\n   config.file_watcher = ActiveSupport::EventedFileUpdateChecker\n\n   config.baukis_kai = {\n-      staff: { host: '0.0.0.0', path: '' },\n+      staff: { host: '0.0.0.0', path: 'staff' },\n       admin: { host: '0.0.0.0', path: 'admin' },\n-      customer: { host: '0.0.0.0', path: 'mypage' }\n+      customer: { host: '0.0.0.0', path: '' }\n   }\n\n   config.middleware.insert_after ActionDispatch::Static, Rack::LiveReload\n</code></pre>"},{"location":"journal/20170124/#2fec845","title":"\u30b3\u30df\u30c3\u30c8: 2fec845","text":""},{"location":"journal/20170124/#_25","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>resource\u30e1\u30bd\u30c3\u30c9\u306e\u30aa\u30d7\u30b7\u30e7\u30f3 #5\n</code></pre>"},{"location":"journal/20170124/#_26","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170124/#_27","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 2fec845703ea2ecabbc9183ab17b54d1ff6e1efb\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 24 18:20:50 2017 +0900\n\n    resource\u30e1\u30bd\u30c3\u30c9\u306e\u30aa\u30d7\u30b7\u30e7\u30f3 #5\n\ndiff --git a/README.md b/README.md\nindex b6694f4..00db3d2 100644\n--- a/README.md\n+++ b/README.md\n@@ -404,6 +404,7 @@ git push heroku master\n #### \u5358\u6570\u30ea\u30bd\u30fc\u30b9\n + \u5358\u6570\u30ea\u30bd\u30fc\u30b9\u306e\uff16\u3064\u306e\u57fa\u672c\u30a2\u30af\u30b7\u30e7\u30f3\n + resource\u30e1\u30bd\u30c3\u30c9\n++ resource\u30e1\u30bd\u30c3\u30c9\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\n\n #### \u5236\u7d04\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 3f94d16..1218c0c 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -33,14 +33,13 @@ Rails.application.routes.draw do\n\n   concern :session_path do\n     get    'login'   =&gt; 'sessions#new', as: :login\n-    post   'session' =&gt; 'sessions#create', as: :session\n-    delete 'session' =&gt; 'sessions#destroy'\n+    resource :session, only: [:create, :destroy]\n   end\n\n   namespace :staff do\n     root   'top#index'\n     concerns :session_path\n-    resource :account\n+    resource :account, execpt: [:new, :create, :destroy]\n   end\n\n   namespace :admin do\n</code></pre>"},{"location":"journal/20170124/#d9d913e","title":"\u30b3\u30df\u30c3\u30c8: d9d913e","text":""},{"location":"journal/20170124/#_28","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>resource\u30e1\u30bd\u30c3\u30c9 #5\n</code></pre>"},{"location":"journal/20170124/#_29","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170124/#_30","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit d9d913e2b243a996cdcf62ce364b9a40a0cdb3bc\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 24 18:17:30 2017 +0900\n\n    resource\u30e1\u30bd\u30c3\u30c9 #5\n\ndiff --git a/README.md b/README.md\nindex 7b39947..b6694f4 100644\n--- a/README.md\n+++ b/README.md\n@@ -402,6 +402,9 @@ git push heroku master\n + resources\u30e1\u30bd\u30c3\u30c9\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\n\n #### \u5358\u6570\u30ea\u30bd\u30fc\u30b9\n++ \u5358\u6570\u30ea\u30bd\u30fc\u30b9\u306e\uff16\u3064\u306e\u57fa\u672c\u30a2\u30af\u30b7\u30e7\u30f3\n++ resource\u30e1\u30bd\u30c3\u30c9\n+\n #### \u5236\u7d04\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/config/routes.rb b/config/routes.rb\nindex f9f3ff6..3f94d16 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -6,6 +6,13 @@\n #              staff_login GET    /staff/login(.:format)          staff/sessions#new\n #            staff_session POST   /staff/session(.:format)        staff/sessions#create\n #                          DELETE /staff/session(.:format)        staff/sessions#destroy\n+#        new_staff_account GET    /staff/account/new(.:format)    staff/accounts#new\n+#       edit_staff_account GET    /staff/account/edit(.:format)   staff/accounts#edit\n+#            staff_account GET    /staff/account(.:format)        staff/accounts#show\n+#                          PATCH  /staff/account(.:format)        staff/accounts#update\n+#                          PUT    /staff/account(.:format)        staff/accounts#update\n+#                          DELETE /staff/account(.:format)        staff/accounts#destroy\n+#                          POST   /staff/account(.:format)        staff/accounts#create\n #               admin_root GET    /admin(.:format)                admin/top#index\n #              admin_login GET    /admin/login(.:format)          admin/sessions#new\n #            admin_session POST   /admin/session(.:format)        admin/sessions#create\n@@ -33,6 +40,7 @@ Rails.application.routes.draw do\n   namespace :staff do\n     root   'top#index'\n     concerns :session_path\n+    resource :account\n   end\n\n   namespace :admin do\n</code></pre>"},{"location":"journal/20170124/#4807b7a","title":"\u30b3\u30df\u30c3\u30c8: 4807b7a","text":""},{"location":"journal/20170124/#_31","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>resources\u30e1\u30bd\u30c3\u30c9\u306e\u30aa\u30d7\u30b7\u30e7\u30f3 #5\n</code></pre>"},{"location":"journal/20170124/#_32","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170124/#_33","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 4807b7aa5d45e56fb807f76f496bd2c24d8478db\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 24 18:13:30 2017 +0900\n\n    resources\u30e1\u30bd\u30c3\u30c9\u306e\u30aa\u30d7\u30b7\u30e7\u30f3 #5\n\ndiff --git a/README.md b/README.md\nindex fcd1b36..7b39947 100644\n--- a/README.md\n+++ b/README.md\n@@ -399,6 +399,7 @@ git push heroku master\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u5206\u985e\n + resources\u30e1\u30bd\u30c3\u30c9\n + \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e\n++ resources\u30e1\u30bd\u30c3\u30c9\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\n\n #### \u5358\u6570\u30ea\u30bd\u30fc\u30b9\n #### \u5236\u7d04\ndiff --git a/config/routes.rb b/config/routes.rb\nindex e6e2bde..f9f3ff6 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -1,29 +1,24 @@\n # == Route Map\n #\n-#                   Prefix Verb   URI Pattern                             Controller#Action\n-#     errors_routing_error GET    /errors/routing_error(.:format)         errors#routing_error\n-#               staff_root GET    /staff(.:format)                        staff/top#index\n-#              staff_login GET    /staff/login(.:format)                  staff/sessions#new\n-#            staff_session POST   /staff/session(.:format)                staff/sessions#create\n-#                          DELETE /staff/session(.:format)                staff/sessions#destroy\n-#               admin_root GET    /admin(.:format)                        admin/top#index\n-#              admin_login GET    /admin/login(.:format)                  admin/sessions#new\n-#            admin_session POST   /admin/session(.:format)                admin/sessions#create\n-#                          DELETE /admin/session(.:format)                admin/sessions#destroy\n-#      admin_staff_members GET    /admin/staff_members(.:format)          admin/staff_members#index\n-#                          POST   /admin/staff_members(.:format)          admin/staff_members#create\n-#   new_admin_staff_member GET    /admin/staff_members/new(.:format)      admin/staff_members#new\n-#  edit_admin_staff_member GET    /admin/staff_members/:id/edit(.:format) admin/staff_members#edit\n-#       admin_staff_member GET    /admin/staff_members/:id(.:format)      admin/staff_members#show\n-#                          PATCH  /admin/staff_members/:id(.:format)      admin/staff_members#update\n-#                          PUT    /admin/staff_members/:id(.:format)      admin/staff_members#update\n-#                          DELETE /admin/staff_members/:id(.:format)      admin/staff_members#destroy\n-#            customer_root GET    /                                       customer/top#index\n-#   customer_article_index GET    /article/index(.:format)                customer/article#index\n-#  customer_campaign_index GET    /campaign/index(.:format)               customer/campaign#index\n-# customer_campaign_submit GET    /campaign_submit(.:format)              customer/campaign#submit\n-#                     root GET    /                                       errors#routing_error\n-#                          GET    /*anything(.:format)                    errors#routing_error\n+#                   Prefix Verb   URI Pattern                     Controller#Action\n+#     errors_routing_error GET    /errors/routing_error(.:format) errors#routing_error\n+#               staff_root GET    /staff(.:format)                staff/top#index\n+#              staff_login GET    /staff/login(.:format)          staff/sessions#new\n+#            staff_session POST   /staff/session(.:format)        staff/sessions#create\n+#                          DELETE /staff/session(.:format)        staff/sessions#destroy\n+#               admin_root GET    /admin(.:format)                admin/top#index\n+#              admin_login GET    /admin/login(.:format)          admin/sessions#new\n+#            admin_session POST   /admin/session(.:format)        admin/sessions#create\n+#                          DELETE /admin/session(.:format)        admin/sessions#destroy\n+#      admin_staff_members GET    /admin/staff(.:format)          admin/staff_members#index\n+#                          POST   /admin/staff(.:format)          admin/staff_members#create\n+#   new_admin_staff_member GET    /admin/staff/new(.:format)      admin/staff_members#new\n+#            customer_root GET    /                               customer/top#index\n+#   customer_article_index GET    /article/index(.:format)        customer/article#index\n+#  customer_campaign_index GET    /campaign/index(.:format)       customer/campaign#index\n+# customer_campaign_submit GET    /campaign_submit(.:format)      customer/campaign#submit\n+#                     root GET    /                               errors#routing_error\n+#                          GET    /*anything(.:format)            errors#routing_error\n #\n\n Rails.application.routes.draw do\n@@ -43,7 +38,7 @@ Rails.application.routes.draw do\n   namespace :admin do\n     root 'top#index'\n     concerns :session_path\n-    resources :staff_members\n+    resources :staff_members, only: [:index, :new, :create], path: 'staff'\n   end\n\n   namespace :customer, path: '' do\n</code></pre>"},{"location":"journal/20170124/#9cd9364","title":"\u30b3\u30df\u30c3\u30c8: 9cd9364","text":""},{"location":"journal/20170124/#_34","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ea\u30f3\u30af\u306e\u8a2d\u7f6e #5\n</code></pre>"},{"location":"journal/20170124/#_35","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/assets/stylesheets/pages/_dashboard.scss</li> <li>M app/controllers/admin/top_controller.rb</li> <li>A app/views/admin/top/dashboard.html.erb</li> <li>M config/locales/views/views.yml</li> </ul>"},{"location":"journal/20170124/#_36","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 9cd9364b9878332bbdd6f49586a7eff9d181759c\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 24 18:09:43 2017 +0900\n\n    \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e #5\n\ndiff --git a/README.md b/README.md\nindex 92952df..fcd1b36 100644\n--- a/README.md\n+++ b/README.md\n@@ -398,7 +398,7 @@ git push heroku master\n + \uff17\u3064\u306e\u57fa\u672c\u30a2\u30af\u30b7\u30e7\u30f3\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u5206\u985e\n + resources\u30e1\u30bd\u30c3\u30c9\n-\n++ \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e\n\n #### \u5358\u6570\u30ea\u30bd\u30fc\u30b9\n #### \u5236\u7d04\ndiff --git a/app/assets/stylesheets/pages/_dashboard.scss b/app/assets/stylesheets/pages/_dashboard.scss\nnew file mode 100644\nindex 0000000..49e912f\n--- /dev/null\n+++ b/app/assets/stylesheets/pages/_dashboard.scss\n@@ -0,0 +1,10 @@\n+@charset 'utf-8';\n+\n+// =====================\n+// \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u30da\u30fc\u30b8\u56fa\u6709\u306e\u30b9\u30bf\u30a4\u30eb\n+// =====================\n+\n+.DashBoard {\n+  &amp;__menu {\n+  }\n+}\ndiff --git a/app/controllers/admin/top_controller.rb b/app/controllers/admin/top_controller.rb\nindex e90d00d..82acd05 100644\n--- a/app/controllers/admin/top_controller.rb\n+++ b/app/controllers/admin/top_controller.rb\n@@ -1,5 +1,9 @@\n class Admin::TopController &lt; Admin::Base\n   def index\n-    render action: 'index'\n+    if current_administrator\n+      render action: 'dashboard'\n+    else\n+      render action: 'index'\n+    end\n   end\n end\ndiff --git a/app/views/admin/top/dashboard.html.erb b/app/views/admin/top/dashboard.html.erb\nnew file mode 100644\nindex 0000000..c0f7ba2\n--- /dev/null\n+++ b/app/views/admin/top/dashboard.html.erb\n@@ -0,0 +1,10 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Admin__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column DashBoard\"&gt;\n+  &lt;ul class=\"DashBoard__menu\"&gt;\n+    &lt;li&gt;&lt;%= link_to t('.admin_staff_members'), :admin_staff_members, class: 'btn btn-default' %&gt;&lt;/li&gt;\n+  &lt;/ul&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/views/views.yml b/config/locales/views/views.yml\nindex aecaea0..e5a5b6e 100644\n--- a/config/locales/views/views.yml\n+++ b/config/locales/views/views.yml\n@@ -14,4 +14,8 @@ ja:\n         logout: '\u30ed\u30b0\u30a2\u30a6\u30c8'\n     sessions:\n       new:\n-        submit: '\u30ed\u30b0\u30a4\u30f3'\n\\ No newline at end of file\n+        submit: '\u30ed\u30b0\u30a4\u30f3'\n+    top:\n+      dashboard:\n+        title: '\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9'\n+        admin_staff_members: '\u8077\u54e1\u7ba1\u7406'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170124/#_37","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170124/#ed140e6","title":"\u30b3\u30df\u30c3\u30c8: ed140e6","text":""},{"location":"journal/20170124/#_38","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>resources\u30e1\u30bd\u30c3\u30c9 #5\n</code></pre>"},{"location":"journal/20170124/#_39","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170124/#_40","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit ed140e6c37ed75888dbb3e9716426136f0b23abf\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 24 17:46:40 2017 +0900\n\n    resources\u30e1\u30bd\u30c3\u30c9 #5\n\ndiff --git a/README.md b/README.md\nindex 73bb55e..92952df 100644\n--- a/README.md\n+++ b/README.md\n@@ -395,6 +395,11 @@ git push heroku master\n + \u540d\u524d\u7a7a\u9593\n\n #### \u30ea\u30bd\u30fc\u30b9\u30d9\u30fc\u30b9\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n++ \uff17\u3064\u306e\u57fa\u672c\u30a2\u30af\u30b7\u30e7\u30f3\n++ \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u5206\u985e\n++ resources\u30e1\u30bd\u30c3\u30c9\n+\n+\n #### \u5358\u6570\u30ea\u30bd\u30fc\u30b9\n #### \u5236\u7d04\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 34803eb..e6e2bde 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -1,21 +1,29 @@\n # == Route Map\n #\n-#                   Prefix Verb   URI Pattern                     Controller#Action\n-#     errors_routing_error GET    /errors/routing_error(.:format) errors#routing_error\n-#               staff_root GET    /staff(.:format)                staff/top#index\n-#              staff_login GET    /staff/login(.:format)          staff/sessions#new\n-#            staff_session POST   /staff/session(.:format)        staff/sessions#create\n-#                          DELETE /staff/session(.:format)        staff/sessions#destroy\n-#               admin_root GET    /admin(.:format)                admin/top#index\n-#              admin_login GET    /admin/login(.:format)          admin/sessions#new\n-#            admin_session POST   /admin/session(.:format)        admin/sessions#create\n-#                          DELETE /admin/session(.:format)        admin/sessions#destroy\n-#            customer_root GET    /                               customer/top#index\n-#   customer_article_index GET    /article/index(.:format)        customer/article#index\n-#  customer_campaign_index GET    /campaign/index(.:format)       customer/campaign#index\n-# customer_campaign_submit GET    /campaign_submit(.:format)      customer/campaign#submit\n-#                     root GET    /                               errors#routing_error\n-#                          GET    /*anything(.:format)            errors#routing_error\n+#                   Prefix Verb   URI Pattern                             Controller#Action\n+#     errors_routing_error GET    /errors/routing_error(.:format)         errors#routing_error\n+#               staff_root GET    /staff(.:format)                        staff/top#index\n+#              staff_login GET    /staff/login(.:format)                  staff/sessions#new\n+#            staff_session POST   /staff/session(.:format)                staff/sessions#create\n+#                          DELETE /staff/session(.:format)                staff/sessions#destroy\n+#               admin_root GET    /admin(.:format)                        admin/top#index\n+#              admin_login GET    /admin/login(.:format)                  admin/sessions#new\n+#            admin_session POST   /admin/session(.:format)                admin/sessions#create\n+#                          DELETE /admin/session(.:format)                admin/sessions#destroy\n+#      admin_staff_members GET    /admin/staff_members(.:format)          admin/staff_members#index\n+#                          POST   /admin/staff_members(.:format)          admin/staff_members#create\n+#   new_admin_staff_member GET    /admin/staff_members/new(.:format)      admin/staff_members#new\n+#  edit_admin_staff_member GET    /admin/staff_members/:id/edit(.:format) admin/staff_members#edit\n+#       admin_staff_member GET    /admin/staff_members/:id(.:format)      admin/staff_members#show\n+#                          PATCH  /admin/staff_members/:id(.:format)      admin/staff_members#update\n+#                          PUT    /admin/staff_members/:id(.:format)      admin/staff_members#update\n+#                          DELETE /admin/staff_members/:id(.:format)      admin/staff_members#destroy\n+#            customer_root GET    /                                       customer/top#index\n+#   customer_article_index GET    /article/index(.:format)                customer/article#index\n+#  customer_campaign_index GET    /campaign/index(.:format)               customer/campaign#index\n+# customer_campaign_submit GET    /campaign_submit(.:format)              customer/campaign#submit\n+#                     root GET    /                                       errors#routing_error\n+#                          GET    /*anything(.:format)                    errors#routing_error\n #\n\n Rails.application.routes.draw do\n@@ -35,6 +43,7 @@ Rails.application.routes.draw do\n   namespace :admin do\n     root 'top#index'\n     concerns :session_path\n+    resources :staff_members\n   end\n\n   namespace :customer, path: '' do\n</code></pre>"},{"location":"journal/20170124/#302bd71","title":"\u30b3\u30df\u30c3\u30c8: 302bd71","text":""},{"location":"journal/20170124/#_41","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u540d\u524d\u7a7a\u9593 #5\n</code></pre>"},{"location":"journal/20170124/#_42","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .idea/.generators</li> <li>M README.md</li> <li>M baukis-kai.iml</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170124/#_43","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 302bd71c58baf7f92e45fb401c9db2230fd51e96\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 24 17:39:00 2017 +0900\n\n    \u540d\u524d\u7a7a\u9593 #5\n\ndiff --git a/.idea/.generators b/.idea/.generators\nindex 1618976..8e11556 100644\n--- a/.idea/.generators\n+++ b/.idea/.generators\n@@ -5,4 +5,4 @@ You are allowed to:\n 2. Remove generators\n 3. Add installed generators\n To add new installed generators automatically delete this file and reload the project.\n---&gt;&lt;GeneratorsGroup&gt;&lt;Generator name=\"active_record:migration\" /&gt;&lt;Generator name=\"active_record:model\" /&gt;&lt;Generator name=\"active_record:observer\" /&gt;&lt;Generator name=\"active_record:session_migration\" /&gt;&lt;Generator name=\"controller\" /&gt;&lt;Generator name=\"erb:controller\" /&gt;&lt;Generator name=\"erb:mailer\" /&gt;&lt;Generator name=\"erb:scaffold\" /&gt;&lt;Generator name=\"generator\" /&gt;&lt;Generator name=\"helper\" /&gt;&lt;Generator name=\"integration_test\" /&gt;&lt;Generator name=\"mailer\" /&gt;&lt;Generator name=\"metal\" /&gt;&lt;Generator name=\"migration\" /&gt;&lt;Generator name=\"model\" /&gt;&lt;Generator name=\"model_subclass\" /&gt;&lt;Generator name=\"observer\" /&gt;&lt;Generator name=\"performance_test\" /&gt;&lt;Generator name=\"plugin\" /&gt;&lt;Generator name=\"resource\" /&gt;&lt;Generator name=\"scaffold\" /&gt;&lt;Generator name=\"scaffold_controller\" /&gt;&lt;Generator name=\"session_migration\" /&gt;&lt;Generator name=\"stylesheets\" /&gt;&lt;Generator name=\"test_unit:controller\" /&gt;&lt;Generator name=\"test_unit:helper\" /&gt;&lt;Generator name=\"test_unit:integration\" /&gt;&lt;Generator name=\"test_unit:mailer\" /&gt;&lt;Generator name=\"test_unit:model\" /&gt;&lt;Generator name=\"test_unit:observer\" /&gt;&lt;Generator name=\"test_unit:performance\" /&gt;&lt;Generator name=\"test_unit:plugin\" /&gt;&lt;Generator name=\"test_unit:scaffold\" /&gt;&lt;/GeneratorsGroup&gt;&lt;/Settings&gt;\n+--&gt;&lt;GeneratorsGroup&gt;&lt;Generator name=\"annotate:install\" /&gt;&lt;Generator name=\"assets\" /&gt;&lt;Generator name=\"channel\" /&gt;&lt;Generator name=\"coffee:assets\" /&gt;&lt;Generator name=\"controller\" /&gt;&lt;Generator name=\"erd:install\" /&gt;&lt;Generator name=\"factory_girl:model\" /&gt;&lt;Generator name=\"generator\" /&gt;&lt;Generator name=\"helper\" /&gt;&lt;Generator name=\"i18n\" /&gt;&lt;Generator name=\"i18n_locale\" /&gt;&lt;Generator name=\"i18n_translation\" /&gt;&lt;Generator name=\"integration_test\" /&gt;&lt;Generator name=\"jbuilder\" /&gt;&lt;Generator name=\"job\" /&gt;&lt;Generator name=\"js:assets\" /&gt;&lt;Generator name=\"mailer\" /&gt;&lt;Generator name=\"migration\" /&gt;&lt;Generator name=\"model\" /&gt;&lt;Generator name=\"rack:dev-mark:install\" /&gt;&lt;Generator name=\"resource\" /&gt;&lt;Generator name=\"rspec:controller\" /&gt;&lt;Generator name=\"rspec:feature\" /&gt;&lt;Generator name=\"rspec:helper\" /&gt;&lt;Generator name=\"rspec:install\" /&gt;&lt;Generator name=\"rspec:integration\" /&gt;&lt;Generator name=\"rspec:job\" /&gt;&lt;Generator name=\"rspec:mailer\" /&gt;&lt;Generator name=\"rspec:model\" /&gt;&lt;Generator name=\"rspec:observer\" /&gt;&lt;Generator name=\"rspec:request\" /&gt;&lt;Generator name=\"rspec:scaffold\" /&gt;&lt;Generator name=\"rspec:view\" /&gt;&lt;Generator name=\"scaffold\" /&gt;&lt;Generator name=\"scaffold_controller\" /&gt;&lt;Generator name=\"task\" /&gt;&lt;Generator name=\"test_unit:controller\" /&gt;&lt;Generator name=\"test_unit:generator\" /&gt;&lt;Generator name=\"test_unit:helper\" /&gt;&lt;Generator name=\"test_unit:integration\" /&gt;&lt;Generator name=\"test_unit:job\" /&gt;&lt;Generator name=\"test_unit:mailer\" /&gt;&lt;Generator name=\"test_unit:model\" /&gt;&lt;Generator name=\"test_unit:plugin\" /&gt;&lt;Generator name=\"test_unit:scaffold\" /&gt;&lt;/GeneratorsGroup&gt;&lt;/Settings&gt;\ndiff --git a/README.md b/README.md\nindex 356cf15..73bb55e 100644\n--- a/README.md\n+++ b/README.md\n@@ -391,6 +391,9 @@ git push heroku master\n\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n #### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u57fa\u790e\u77e5\u8b58\n++ \u30a2\u30af\u30b7\u30e7\u30f3\u5358\u4f4d\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n++ \u540d\u524d\u7a7a\u9593\n+\n #### \u30ea\u30bd\u30fc\u30b9\u30d9\u30fc\u30b9\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n #### \u5358\u6570\u30ea\u30bd\u30fc\u30b9\n #### \u5236\u7d04\ndiff --git a/baukis-kai.iml b/baukis-kai.iml\nindex 9a38e68..7d95f8d 100644\n--- a/baukis-kai.iml\n+++ b/baukis-kai.iml\n@@ -20,127 +20,133 @@\n       &lt;excludeFolder url=\"file://$MODULE_DIR$/tmp\" /&gt;\n       &lt;excludeFolder url=\"file://$MODULE_DIR$/vendor/bundle\" /&gt;\n     &lt;/content&gt;\n-    &lt;orderEntry type=\"jdk\" jdkName=\"Remote:ruby-2.4.0-p0\" jdkType=\"RUBY_SDK\" /&gt;\n+    &lt;orderEntry type=\"jdk\" jdkName=\"rbenv: 2.4.0\" jdkType=\"RUBY_SDK\" /&gt;\n     &lt;orderEntry type=\"sourceFolder\" forTests=\"false\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actioncable (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionmailer (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionpack (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionview (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activejob (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activemodel (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activerecord (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activesupport (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"addressable (v2.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"annotate (v2.6.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"arel (v7.1.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"better_errors (v2.1.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"binding_of_caller (v0.7.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"builder (v3.2.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bundler (v1.13.7, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"byebug (v9.0.6, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara (v2.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-screenshot (v1.0.14, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-webkit (v1.11.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"childprocess (v0.5.9, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"choice (v0.2.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coderay (v1.1.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-rails (v4.2.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script (v2.4.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script-source (v1.12.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"concurrent-ruby (v1.0.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"database_cleaner (v1.3.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase (v0.2.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase-ruby_core_source (v0.9.6, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debug_inspector (v0.0.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"diff-lcs (v1.2.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"em-websocket (v0.5.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"enum_help (v0.0.16, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"erubis (v2.7.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"eventmachine (v1.2.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"execjs (v2.7.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl (v4.8.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl_rails (v4.8.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"faker (v1.4.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ffi (v1.9.14, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"font-awesome-rails (v4.7.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"formatador (v0.2.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"globalid (v0.3.7, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard (v2.14.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard-compat (v1.2.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard-livereload (v2.5.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"http_parser.rb (v0.6.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n (v0.7.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n_generators (v2.1.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jbuilder (v2.6.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jquery-rails (v4.2.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"launchy (v2.4.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"listen (v3.0.8, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"loofah (v2.0.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"lumberjack (v1.0.11, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mail (v2.6.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"method_source (v0.8.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"migration_comments (v0.4.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types (v3.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types-data (v3.2016.0521, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mini_portile2 (v2.1.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"minitest (v5.10.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"multi_json (v1.12.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mysql2 (v0.4.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nenv (v0.3.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nio4r (v1.2.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nokogiri (v1.7.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"notiffany (v0.1.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"pg (v0.19.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"pry (v0.10.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"public_suffix (v2.0.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"puma (v3.6.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack (v2.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-dev-mark (v0.7.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-livereload (v0.3.16, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-test (v0.6.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-dom-testing (v2.0.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-erd (v1.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-html-sanitizer (v1.0.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_12factor (v0.0.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_serve_static_assets (v0.0.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_stdout_logging (v0.0.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"railties (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rake (v12.0.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-fsevent (v0.9.8, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-inotify (v0.9.7, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-core (v3.5.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-expectations (v3.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-mocks (v3.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-rails (v3.5.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-support (v3.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ruby-graphviz (v1.2.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rubyzip (v1.2.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass (v3.4.23, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass-rails (v5.0.6, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"selenium-webdriver (v3.0.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"shellany (v0.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"shoulda-matchers (v2.6.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"slop (v3.6.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring (v2.0.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-commands-rspec (v1.0.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-watcher-listen (v2.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets (v3.7.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets-rails (v3.2.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sqlite3 (v1.3.12, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thor (v0.19.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thread_safe (v0.3.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tilt (v2.0.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks-source (v5.0.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tzinfo (v1.2.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"uglifier (v3.0.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"web-console (v3.4.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket (v1.2.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-driver (v0.6.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-extensions (v0.1.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"xpath (v2.0.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"yard (v0.9.7, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actioncable (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionmailer (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionpack (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionview (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activejob (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activemodel (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activerecord (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activesupport (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"addressable (v2.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"annotate (v2.6.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"arel (v7.1.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"autoprefixer-rails (v6.6.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bcrypt (v3.1.11, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"better_errors (v2.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"binding_of_caller (v0.7.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bootstrap-sass (v3.3.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bootstrap_form (v2.5.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"builder (v3.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bundler (v1.13.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"byebug (v9.0.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara (v2.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-screenshot (v1.0.14, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-webkit (v1.11.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"childprocess (v0.5.9, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"choice (v0.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coderay (v1.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-rails (v4.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script (v2.4.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script-source (v1.12.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"concurrent-ruby (v1.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"database_cleaner (v1.3.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase (v0.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase-ruby_core_source (v0.9.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debug_inspector (v0.0.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"diff-lcs (v1.2.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"dotenv (v2.1.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"dotenv-rails (v2.1.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"em-websocket (v0.5.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"enum_help (v0.0.16, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"erubis (v2.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"eventmachine (v1.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"execjs (v2.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl (v4.8.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl_rails (v4.8.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"faker (v1.4.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ffi (v1.9.14, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"font-awesome-rails (v4.7.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"formatador (v0.2.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"globalid (v0.3.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard (v2.14.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard-compat (v1.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard-livereload (v2.5.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"http_parser.rb (v0.6.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n (v0.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n_generators (v2.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jbuilder (v2.6.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jquery-rails (v4.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"launchy (v2.4.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"listen (v3.0.8, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"loofah (v2.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"lumberjack (v1.0.11, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mail (v2.6.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"method_source (v0.8.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"migration_comments (v0.4.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types (v3.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types-data (v3.2016.0521, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mini_portile2 (v2.1.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"minitest (v5.10.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"multi_json (v1.12.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mysql2 (v0.4.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nenv (v0.3.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nio4r (v1.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nokogiri (v1.7.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"notiffany (v0.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"pg (v0.19.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"pry (v0.10.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"public_suffix (v2.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"puma (v3.6.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack (v2.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-dev-mark (v0.7.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-livereload (v0.3.16, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-test (v0.6.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-dom-testing (v2.0.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-erd (v1.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-html-sanitizer (v1.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_12factor (v0.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_serve_static_assets (v0.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_stdout_logging (v0.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"railties (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rake (v12.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-fsevent (v0.9.8, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-inotify (v0.9.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-core (v3.5.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-expectations (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-mocks (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-rails (v3.5.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-support (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ruby-graphviz (v1.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rubyzip (v1.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass (v3.4.23, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass-rails (v5.0.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"selenium-webdriver (v3.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"shellany (v0.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"shoulda-matchers (v2.6.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"slop (v3.6.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring (v2.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-commands-rspec (v1.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-watcher-listen (v2.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets (v3.7.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets-rails (v3.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sqlite3 (v1.3.12, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thor (v0.19.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thread_safe (v0.3.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tilt (v2.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks-source (v5.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tzinfo (v1.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"uglifier (v3.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"web-console (v3.4.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket (v1.2.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-driver (v0.6.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-extensions (v0.1.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"xpath (v2.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"yard (v0.9.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n   &lt;/component&gt;\n   &lt;component name=\"RModuleSettingsStorage\"&gt;\n     &lt;LOAD_PATH number=\"0\" /&gt;\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 59a0d54..34803eb 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -1,41 +1,43 @@\n # == Route Map\n #\n-#                   Prefix Verb   URI Pattern                         Controller#Action\n-#     errors_routing_error GET    /errors/routing_error(.:format)     errors#routing_error\n-#               staff_root GET    /staff(.:format)                    staff/top#index\n-#              staff_login GET    /staff/login(.:format)              staff/sessions#new\n-#            staff_session POST   /staff/session(.:format)            staff/sessions#create\n-#                          DELETE /staff/session(.:format)            staff/sessions#destroy\n-#               admin_root GET    /admin(.:format)                    admin/top#index\n-#              admin_login GET    /admin/login(.:format)              admin/sessions#new\n-#            admin_session POST   /admin/session(.:format)            admin/sessions#create\n-#                          DELETE /admin/session(.:format)            admin/sessions#destroy\n-#            customer_root GET    /customer(.:format)                 customer/top#index\n-#   customer_article_index GET    /customer/article/index(.:format)   customer/article#index\n-#  customer_campaign_index GET    /customer/campaign/index(.:format)  customer/campaign#index\n-# customer_campaign_submit GET    /customer/campaign_submit(.:format) customer/campaign#submit\n-#                     root GET    /                                   errors#routing_error\n-#                          GET    /*anything(.:format)                errors#routing_error\n+#                   Prefix Verb   URI Pattern                     Controller#Action\n+#     errors_routing_error GET    /errors/routing_error(.:format) errors#routing_error\n+#               staff_root GET    /staff(.:format)                staff/top#index\n+#              staff_login GET    /staff/login(.:format)          staff/sessions#new\n+#            staff_session POST   /staff/session(.:format)        staff/sessions#create\n+#                          DELETE /staff/session(.:format)        staff/sessions#destroy\n+#               admin_root GET    /admin(.:format)                admin/top#index\n+#              admin_login GET    /admin/login(.:format)          admin/sessions#new\n+#            admin_session POST   /admin/session(.:format)        admin/sessions#create\n+#                          DELETE /admin/session(.:format)        admin/sessions#destroy\n+#            customer_root GET    /                               customer/top#index\n+#   customer_article_index GET    /article/index(.:format)        customer/article#index\n+#  customer_campaign_index GET    /campaign/index(.:format)       customer/campaign#index\n+# customer_campaign_submit GET    /campaign_submit(.:format)      customer/campaign#submit\n+#                     root GET    /                               errors#routing_error\n+#                          GET    /*anything(.:format)            errors#routing_error\n #\n\n Rails.application.routes.draw do\n   get 'errors/routing_error'\n\n-  namespace :staff do\n-    root   'top#index'\n+  concern :session_path do\n     get    'login'   =&gt; 'sessions#new', as: :login\n     post   'session' =&gt; 'sessions#create', as: :session\n     delete 'session' =&gt; 'sessions#destroy'\n   end\n\n+  namespace :staff do\n+    root   'top#index'\n+    concerns :session_path\n+  end\n+\n   namespace :admin do\n     root 'top#index'\n-    get    'login'   =&gt; 'sessions#new', as: :login\n-    post   'session' =&gt; 'sessions#create', as: :session\n-    delete 'session' =&gt; 'sessions#destroy'\n+    concerns :session_path\n   end\n\n-  namespace :customer do\n+  namespace :customer, path: '' do\n     root 'top#index'\n     get 'article/index'\n     get 'campaign/index'\n</code></pre>"},{"location":"journal/20170124/#346c5cd","title":"\u30b3\u30df\u30c3\u30c8: 346c5cd","text":""},{"location":"journal/20170124/#_44","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #5\n</code></pre>"},{"location":"journal/20170124/#_45","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .idea/.generators</li> <li>M README.md</li> <li>M baukis-kai.iml</li> </ul>"},{"location":"journal/20170124/#_46","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 346c5cddd818d2b5c7f66ff9f7dde733a353d6dc\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 24 17:18:40 2017 +0900\n\n    \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #5\n\ndiff --git a/.idea/.generators b/.idea/.generators\nindex 8e11556..1618976 100644\n--- a/.idea/.generators\n+++ b/.idea/.generators\n@@ -5,4 +5,4 @@ You are allowed to:\n 2. Remove generators\n 3. Add installed generators\n To add new installed generators automatically delete this file and reload the project.\n---&gt;&lt;GeneratorsGroup&gt;&lt;Generator name=\"annotate:install\" /&gt;&lt;Generator name=\"assets\" /&gt;&lt;Generator name=\"channel\" /&gt;&lt;Generator name=\"coffee:assets\" /&gt;&lt;Generator name=\"controller\" /&gt;&lt;Generator name=\"erd:install\" /&gt;&lt;Generator name=\"factory_girl:model\" /&gt;&lt;Generator name=\"generator\" /&gt;&lt;Generator name=\"helper\" /&gt;&lt;Generator name=\"i18n\" /&gt;&lt;Generator name=\"i18n_locale\" /&gt;&lt;Generator name=\"i18n_translation\" /&gt;&lt;Generator name=\"integration_test\" /&gt;&lt;Generator name=\"jbuilder\" /&gt;&lt;Generator name=\"job\" /&gt;&lt;Generator name=\"js:assets\" /&gt;&lt;Generator name=\"mailer\" /&gt;&lt;Generator name=\"migration\" /&gt;&lt;Generator name=\"model\" /&gt;&lt;Generator name=\"rack:dev-mark:install\" /&gt;&lt;Generator name=\"resource\" /&gt;&lt;Generator name=\"rspec:controller\" /&gt;&lt;Generator name=\"rspec:feature\" /&gt;&lt;Generator name=\"rspec:helper\" /&gt;&lt;Generator name=\"rspec:install\" /&gt;&lt;Generator name=\"rspec:integration\" /&gt;&lt;Generator name=\"rspec:job\" /&gt;&lt;Generator name=\"rspec:mailer\" /&gt;&lt;Generator name=\"rspec:model\" /&gt;&lt;Generator name=\"rspec:observer\" /&gt;&lt;Generator name=\"rspec:request\" /&gt;&lt;Generator name=\"rspec:scaffold\" /&gt;&lt;Generator name=\"rspec:view\" /&gt;&lt;Generator name=\"scaffold\" /&gt;&lt;Generator name=\"scaffold_controller\" /&gt;&lt;Generator name=\"task\" /&gt;&lt;Generator name=\"test_unit:controller\" /&gt;&lt;Generator name=\"test_unit:generator\" /&gt;&lt;Generator name=\"test_unit:helper\" /&gt;&lt;Generator name=\"test_unit:integration\" /&gt;&lt;Generator name=\"test_unit:job\" /&gt;&lt;Generator name=\"test_unit:mailer\" /&gt;&lt;Generator name=\"test_unit:model\" /&gt;&lt;Generator name=\"test_unit:plugin\" /&gt;&lt;Generator name=\"test_unit:scaffold\" /&gt;&lt;/GeneratorsGroup&gt;&lt;/Settings&gt;\n+--&gt;&lt;GeneratorsGroup&gt;&lt;Generator name=\"active_record:migration\" /&gt;&lt;Generator name=\"active_record:model\" /&gt;&lt;Generator name=\"active_record:observer\" /&gt;&lt;Generator name=\"active_record:session_migration\" /&gt;&lt;Generator name=\"controller\" /&gt;&lt;Generator name=\"erb:controller\" /&gt;&lt;Generator name=\"erb:mailer\" /&gt;&lt;Generator name=\"erb:scaffold\" /&gt;&lt;Generator name=\"generator\" /&gt;&lt;Generator name=\"helper\" /&gt;&lt;Generator name=\"integration_test\" /&gt;&lt;Generator name=\"mailer\" /&gt;&lt;Generator name=\"metal\" /&gt;&lt;Generator name=\"migration\" /&gt;&lt;Generator name=\"model\" /&gt;&lt;Generator name=\"model_subclass\" /&gt;&lt;Generator name=\"observer\" /&gt;&lt;Generator name=\"performance_test\" /&gt;&lt;Generator name=\"plugin\" /&gt;&lt;Generator name=\"resource\" /&gt;&lt;Generator name=\"scaffold\" /&gt;&lt;Generator name=\"scaffold_controller\" /&gt;&lt;Generator name=\"session_migration\" /&gt;&lt;Generator name=\"stylesheets\" /&gt;&lt;Generator name=\"test_unit:controller\" /&gt;&lt;Generator name=\"test_unit:helper\" /&gt;&lt;Generator name=\"test_unit:integration\" /&gt;&lt;Generator name=\"test_unit:mailer\" /&gt;&lt;Generator name=\"test_unit:model\" /&gt;&lt;Generator name=\"test_unit:observer\" /&gt;&lt;Generator name=\"test_unit:performance\" /&gt;&lt;Generator name=\"test_unit:plugin\" /&gt;&lt;Generator name=\"test_unit:scaffold\" /&gt;&lt;/GeneratorsGroup&gt;&lt;/Settings&gt;\ndiff --git a/README.md b/README.md\nindex d8e0b6e..356cf15 100644\n--- a/README.md\n+++ b/README.md\n@@ -390,6 +390,12 @@ git push heroku master\n + i18n\u306e\u8a2d\u5b9a\u3068\u9069\u7528\n\n ### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n+#### \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u57fa\u790e\u77e5\u8b58\n+#### \u30ea\u30bd\u30fc\u30b9\u30d9\u30fc\u30b9\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n+#### \u5358\u6570\u30ea\u30bd\u30fc\u30b9\n+#### \u5236\u7d04\n+#### \u6f14\u7fd2\u554f\u984c\n+\n ### \u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664\n ### String Parameters\n ### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\ndiff --git a/baukis-kai.iml b/baukis-kai.iml\nindex 7d95f8d..9a38e68 100644\n--- a/baukis-kai.iml\n+++ b/baukis-kai.iml\n@@ -20,133 +20,127 @@\n       &lt;excludeFolder url=\"file://$MODULE_DIR$/tmp\" /&gt;\n       &lt;excludeFolder url=\"file://$MODULE_DIR$/vendor/bundle\" /&gt;\n     &lt;/content&gt;\n-    &lt;orderEntry type=\"jdk\" jdkName=\"rbenv: 2.4.0\" jdkType=\"RUBY_SDK\" /&gt;\n+    &lt;orderEntry type=\"jdk\" jdkName=\"Remote:ruby-2.4.0-p0\" jdkType=\"RUBY_SDK\" /&gt;\n     &lt;orderEntry type=\"sourceFolder\" forTests=\"false\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actioncable (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionmailer (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionpack (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionview (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activejob (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activemodel (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activerecord (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activesupport (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"addressable (v2.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"annotate (v2.6.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"arel (v7.1.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"autoprefixer-rails (v6.6.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bcrypt (v3.1.11, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"better_errors (v2.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"binding_of_caller (v0.7.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bootstrap-sass (v3.3.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bootstrap_form (v2.5.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"builder (v3.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bundler (v1.13.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"byebug (v9.0.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara (v2.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-screenshot (v1.0.14, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-webkit (v1.11.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"childprocess (v0.5.9, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"choice (v0.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coderay (v1.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-rails (v4.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script (v2.4.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script-source (v1.12.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"concurrent-ruby (v1.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"database_cleaner (v1.3.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase (v0.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase-ruby_core_source (v0.9.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debug_inspector (v0.0.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"diff-lcs (v1.2.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"dotenv (v2.1.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"dotenv-rails (v2.1.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"em-websocket (v0.5.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"enum_help (v0.0.16, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"erubis (v2.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"eventmachine (v1.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"execjs (v2.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl (v4.8.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl_rails (v4.8.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"faker (v1.4.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ffi (v1.9.14, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"font-awesome-rails (v4.7.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"formatador (v0.2.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"globalid (v0.3.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard (v2.14.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard-compat (v1.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard-livereload (v2.5.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"http_parser.rb (v0.6.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n (v0.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n_generators (v2.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jbuilder (v2.6.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jquery-rails (v4.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"launchy (v2.4.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"listen (v3.0.8, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"loofah (v2.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"lumberjack (v1.0.11, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mail (v2.6.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"method_source (v0.8.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"migration_comments (v0.4.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types (v3.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types-data (v3.2016.0521, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mini_portile2 (v2.1.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"minitest (v5.10.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"multi_json (v1.12.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mysql2 (v0.4.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nenv (v0.3.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nio4r (v1.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nokogiri (v1.7.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"notiffany (v0.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"pg (v0.19.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"pry (v0.10.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"public_suffix (v2.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"puma (v3.6.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack (v2.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-dev-mark (v0.7.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-livereload (v0.3.16, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-test (v0.6.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-dom-testing (v2.0.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-erd (v1.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-html-sanitizer (v1.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_12factor (v0.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_serve_static_assets (v0.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_stdout_logging (v0.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"railties (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rake (v12.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-fsevent (v0.9.8, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-inotify (v0.9.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-core (v3.5.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-expectations (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-mocks (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-rails (v3.5.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-support (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ruby-graphviz (v1.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rubyzip (v1.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass (v3.4.23, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass-rails (v5.0.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"selenium-webdriver (v3.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"shellany (v0.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"shoulda-matchers (v2.6.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"slop (v3.6.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring (v2.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-commands-rspec (v1.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-watcher-listen (v2.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets (v3.7.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets-rails (v3.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sqlite3 (v1.3.12, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thor (v0.19.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thread_safe (v0.3.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tilt (v2.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks-source (v5.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tzinfo (v1.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"uglifier (v3.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"web-console (v3.4.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket (v1.2.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-driver (v0.6.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-extensions (v0.1.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"xpath (v2.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"yard (v0.9.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actioncable (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionmailer (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionpack (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionview (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activejob (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activemodel (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activerecord (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activesupport (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"addressable (v2.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"annotate (v2.6.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"arel (v7.1.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"better_errors (v2.1.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"binding_of_caller (v0.7.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"builder (v3.2.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bundler (v1.13.7, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"byebug (v9.0.6, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara (v2.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-screenshot (v1.0.14, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-webkit (v1.11.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"childprocess (v0.5.9, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"choice (v0.2.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coderay (v1.1.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-rails (v4.2.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script (v2.4.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script-source (v1.12.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"concurrent-ruby (v1.0.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"database_cleaner (v1.3.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase (v0.2.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase-ruby_core_source (v0.9.6, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debug_inspector (v0.0.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"diff-lcs (v1.2.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"em-websocket (v0.5.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"enum_help (v0.0.16, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"erubis (v2.7.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"eventmachine (v1.2.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"execjs (v2.7.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl (v4.8.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl_rails (v4.8.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"faker (v1.4.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ffi (v1.9.14, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"font-awesome-rails (v4.7.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"formatador (v0.2.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"globalid (v0.3.7, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard (v2.14.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard-compat (v1.2.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard-livereload (v2.5.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"http_parser.rb (v0.6.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n (v0.7.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n_generators (v2.1.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jbuilder (v2.6.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jquery-rails (v4.2.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"launchy (v2.4.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"listen (v3.0.8, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"loofah (v2.0.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"lumberjack (v1.0.11, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mail (v2.6.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"method_source (v0.8.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"migration_comments (v0.4.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types (v3.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types-data (v3.2016.0521, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mini_portile2 (v2.1.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"minitest (v5.10.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"multi_json (v1.12.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mysql2 (v0.4.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nenv (v0.3.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nio4r (v1.2.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nokogiri (v1.7.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"notiffany (v0.1.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"pg (v0.19.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"pry (v0.10.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"public_suffix (v2.0.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"puma (v3.6.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack (v2.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-dev-mark (v0.7.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-livereload (v0.3.16, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-test (v0.6.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-dom-testing (v2.0.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-erd (v1.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-html-sanitizer (v1.0.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_12factor (v0.0.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_serve_static_assets (v0.0.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_stdout_logging (v0.0.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"railties (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rake (v12.0.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-fsevent (v0.9.8, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-inotify (v0.9.7, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-core (v3.5.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-expectations (v3.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-mocks (v3.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-rails (v3.5.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-support (v3.5.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ruby-graphviz (v1.2.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rubyzip (v1.2.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass (v3.4.23, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass-rails (v5.0.6, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"selenium-webdriver (v3.0.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"shellany (v0.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"shoulda-matchers (v2.6.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"slop (v3.6.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring (v2.0.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-commands-rspec (v1.0.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-watcher-listen (v2.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets (v3.7.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets-rails (v3.2.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sqlite3 (v1.3.12, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thor (v0.19.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thread_safe (v0.3.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tilt (v2.0.5, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks (v5.0.1, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks-source (v5.0.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tzinfo (v1.2.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"uglifier (v3.0.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"web-console (v3.4.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket (v1.2.3, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-driver (v0.6.4, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-extensions (v0.1.2, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"xpath (v2.0.0, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"yard (v0.9.7, Remote:ruby-2.4.0-p0) [gem]\" level=\"application\" /&gt;\n   &lt;/component&gt;\n   &lt;component name=\"RModuleSettingsStorage\"&gt;\n     &lt;LOAD_PATH number=\"0\" /&gt;\n</code></pre>"},{"location":"journal/20170126/","title":"\u4f5c\u696d\u5c65\u6b74 2017-01-26","text":""},{"location":"journal/20170126/#_1","title":"\u6982\u8981","text":"<p>2017-01-26\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u65e5\u306f\u4e3b\u306b\u7ba1\u7406\u8005\u306b\u3088\u308b\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\u306e\u6e96\u5099\u4f5c\u696d\u3092\u884c\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170126/#_2","title":"\u95a2\u9023\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9","text":"<ul> <li>A-003: \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210 - \u7ba1\u7406\u8005\u304c\u65b0\u898f\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b</li> <li>A-004: \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6 - \u7ba1\u7406\u8005\u304c\u65e2\u5b58\u306e\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u7de8\u96c6\u3059\u308b</li> </ul>"},{"location":"journal/20170126/#_3","title":"\u30b7\u30b9\u30c6\u30e0\u69cb\u6210\u4e0a\u306e\u4f4d\u7f6e\u3065\u3051","text":"<p>\u3053\u306e\u5b9f\u88c5\u306f\u7ba1\u7406\u8005\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u4e00\u90e8\u3067\u3042\u308a\u3001\u30b7\u30b9\u30c6\u30e0\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u304a\u3051\u308b\u4ee5\u4e0b\u306e\u90e8\u5206\u306b\u95a2\u9023\u3057\u3066\u3044\u307e\u3059\uff1a</p> <p></p>"},{"location":"journal/20170126/#2b5e45b","title":"\u30b3\u30df\u30c3\u30c8: 2b5e45b","text":""},{"location":"journal/20170126/#_4","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6e96\u5099\u4f5c\u696d #6\n</code></pre>"},{"location":"journal/20170126/#_5","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M Vagrantfile</li> <li>A app/controllers/admin/staff_members_controller.rb</li> <li>M db/seed/development/staff_members.rb</li> </ul>"},{"location":"journal/20170126/#_6","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 2b5e45b7d74df238ca0a5249d1bda69ff96c2a75\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Jan 26 20:31:28 2017 +0900\n\n    \u6e96\u5099\u4f5c\u696d #6\n\ndiff --git a/README.md b/README.md\nindex 13c60e6..02f72a7 100644\n--- a/README.md\n+++ b/README.md\n@@ -417,6 +417,8 @@ git push heroku master\n\n ### \u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664\n #### \u7ba1\u7406\u8005\u306b\u3088\u308b\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\uff08\u524d\u7de8\uff09\n++ \u6e96\u5099\u4f5c\u696d\n+\n #### \u7ba1\u7406\u8005\u306b\u3088\u308b\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\uff08\u5f8c\u7de8\uff09\n\n ### String Parameters\ndiff --git a/Vagrantfile b/Vagrantfile\nindex 70088df..b27838b 100644\n--- a/Vagrantfile\n+++ b/Vagrantfile\n@@ -11,6 +11,7 @@ Vagrant.configure(\"2\") do |config|\n   config.vm.network :forwarded_port, guest:5432, host:5432, id:\"postgresql\"\n   config.vm.network :forwarded_port, guest:6379, host:6379, id:\"redis\"\n   config.vm.network :forwarded_port, guest:27017, host:27017, id:\"mongodb\"\n+  config.vm.network :forwarded_port, guest:8080, host:8080, id:\"jenkins\"\n   config.vm.network :private_network, ip:\"127.0.0.1\"\n\n   config.vm.synced_folder \".\", \"/vagrant\", mount_options: ['dmode=777','fmode=777']\ndiff --git a/app/controllers/admin/staff_members_controller.rb b/app/controllers/admin/staff_members_controller.rb\nnew file mode 100644\nindex 0000000..a9b32b3\n--- /dev/null\n+++ b/app/controllers/admin/staff_members_controller.rb\n@@ -0,0 +1,2 @@\n+class Admin::StaffMembersController &lt; ApplicationController\n+end\ndiff --git a/db/seed/development/staff_members.rb b/db/seed/development/staff_members.rb\nindex 7156a40..1be8731 100644\n--- a/db/seed/development/staff_members.rb\n+++ b/db/seed/development/staff_members.rb\n@@ -6,4 +6,36 @@ StaffMember.create(\n                given_name_kana: '\u30bf\u30ed\u30a6',\n                password: 'password',\n                start_date: Date.today\n-)\n\\ No newline at end of file\n+)\n+\n+family_name = %w{\n+  \u4f50\u85e4:\u30b5\u30c8\u30a6:sato\n+  \u9234\u6728:\u30b9\u30ba\u30ad:suzuki\n+  \u9ad8\u6a4b:\u30bf\u30ab\u30cf\u30b7:takahashi\n+  \u7530\u4e2d:\u30bf\u30ca\u30ab:tanaka\n+}\n+\n+given_name = %w{\n+  \u4e8c\u90ce:\u30b8\u30ed\u30a6:jiro\n+  \u4e09\u90ce:\u30b5\u30d6\u30ed\u30a6:saburo\n+  \u677e\u5b50:\u30de\u30c4\u30b3:matsuko\n+  \u7af9\u5b50:\u30bf\u30b1\u30b3:takeko\n+  \u6885\u5b50:\u30a6\u30e1\u30b3:umeko\n+}\n+\n+20.times do |n|\n+  fn = family_name[n % 4].split(':')\n+  gn = given_name[n % 5].split(':')\n+\n+  StaffMember.create!(\n+                 email: \"#{fn[2]}.#{gn[2]}@example.com\",\n+                 family_name: fn[0],\n+                 given_name: gn[0],\n+                 family_name_kana: fn[1],\n+                 given_name_kana: gn[1],\n+                 password: 'password',\n+                 start_date: (100 - n).days.ago.to_date,\n+                 end_date: n == 0 ? Date.today : nil,\n+                 suspended: n == 1\n+  )\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170126/#_7","title":"\u69cb\u9020\u5909\u66f4","text":"<p>\u3053\u306e\u30b3\u30df\u30c3\u30c8\u3067\u306f\u3001\u8077\u54e1\u7ba1\u7406\u6a5f\u80fd\u306e\u57fa\u76e4\u3068\u306a\u308b<code>Admin::StaffMembersController</code>\u304c\u8ffd\u52a0\u3055\u308c\u3001\u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u304c\u62e1\u5145\u3055\u308c\u307e\u3057\u305f\u3002</p> <p></p>"},{"location":"journal/20170126/#de2bd83","title":"\u30b3\u30df\u30c3\u30c8: de2bd83","text":""},{"location":"journal/20170126/#_8","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>DB\u63a5\u7d9a\u8a2d\u5b9a\u4fee\u6b63\n</code></pre>"},{"location":"journal/20170126/#_9","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M config/database.yml</li> </ul>"},{"location":"journal/20170126/#_10","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit de2bd834ae4d2af773151b0c5250e4df57b7b504\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Jan 26 20:20:20 2017 +0900\n\n    DB\u63a5\u7d9a\u8a2d\u5b9a\u4fee\u6b63\n\ndiff --git a/config/database.yml b/config/database.yml\nindex 0c4a245..aaf01f7 100644\n--- a/config/database.yml\n+++ b/config/database.yml\n@@ -55,6 +55,8 @@ production:\n   # For details on connection pooling, see rails configuration guide\n   # http://guides.rubyonrails.org/configuring.html#database-pooling\n   pool: &lt;%= ENV.fetch(\"RAILS_MAX_THREADS\") { 5 } %&gt;\n-  url: &lt;%= ENV['DATABASE_URL'] %&gt;\n-  port: &lt;%= ENV['PORT'] %&gt;\n+  username: postgres\n+  password: password\n+  host: 127.0.0.1\n+  database: baukis-kai_production\n</code></pre>"},{"location":"journal/20170126/#752f872","title":"\u30b3\u30df\u30c3\u30c8: 752f872","text":""},{"location":"journal/20170126/#_11","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664 #6\n</code></pre>"},{"location":"journal/20170126/#_12","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170126/#_13","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 752f872c577dbf411b3350bc55baa30f963488ef\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Jan 26 18:21:04 2017 +0900\n\n    \u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664 #6\n\ndiff --git a/README.md b/README.md\nindex d55146e..13c60e6 100644\n--- a/README.md\n+++ b/README.md\n@@ -416,6 +416,9 @@ git push heroku master\n + \u9867\u5ba2\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8ffd\u52a0\n\n ### \u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664\n+#### \u7ba1\u7406\u8005\u306b\u3088\u308b\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\uff08\u524d\u7de8\uff09\n+#### \u7ba1\u7406\u8005\u306b\u3088\u308b\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\uff08\u5f8c\u7de8\uff09\n+\n ### String Parameters\n ### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\n ### \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\n</code></pre>"},{"location":"journal/20170127/","title":"\u4f5c\u696d\u5c65\u6b74 2017-01-27","text":""},{"location":"journal/20170127/#_1","title":"\u6982\u8981","text":"<p>2017-01-27\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u65e5\u306f\u7ba1\u7406\u8005\u306b\u3088\u308b\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\u306e\u5b9f\u88c5\u3092\u9032\u3081\u3001CRUD\u64cd\u4f5c\u306e\u57fa\u672c\u3068\u306a\u308b\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170127/#_2","title":"\u95a2\u9023\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9","text":"<ul> <li>A-003: \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210 - \u7ba1\u7406\u8005\u304c\u65b0\u898f\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b</li> <li>A-004: \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6 - \u7ba1\u7406\u8005\u304c\u65e2\u5b58\u306e\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u7de8\u96c6\u3059\u308b</li> </ul>"},{"location":"journal/20170127/#_3","title":"\u30b7\u30b9\u30c6\u30e0\u69cb\u6210\u4e0a\u306e\u4f4d\u7f6e\u3065\u3051","text":"<p>\u3053\u306e\u5b9f\u88c5\u306f\u7ba1\u7406\u8005\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u4e00\u90e8\u3067\u3042\u308a\u3001\u30b7\u30b9\u30c6\u30e0\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u304a\u3051\u308b\u4ee5\u4e0b\u306e\u90e8\u5206\u306b\u95a2\u9023\u3057\u3066\u3044\u307e\u3059\uff1a</p> <p></p>"},{"location":"journal/20170127/#4ac6dee","title":"\u30b3\u30df\u30c3\u30c8: 4ac6dee","text":""},{"location":"journal/20170127/#_4","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>edit\u30a2\u30af\u30b7\u30e7\u30f3 #6\n</code></pre>"},{"location":"journal/20170127/#_5","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/stylesheets/components/_appForm.scss</li> <li>M app/controllers/admin/staff_members_controller.rb</li> <li>M app/views/admin/staff_members/_form.html.erb</li> <li>A app/views/admin/staff_members/edit.html.erb</li> </ul>"},{"location":"journal/20170127/#_6","title":"\u6982\u8981","text":"<p>\u3053\u306e\u30b3\u30df\u30c3\u30c8\u3067\u306f\u3001\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\u306e\u7de8\u96c6\u6a5f\u80fd\uff08edit\u30a2\u30af\u30b7\u30e7\u30f3\uff09\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u65e2\u5b58\u306e\u8077\u54e1\u60c5\u5831\u3092\u7de8\u96c6\u3059\u308b\u305f\u3081\u306e\u30d5\u30a9\u30fc\u30e0\u3068\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9A-004\uff08\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6\uff09\u306e\u4e00\u90e8\u3092\u5b9f\u73fe\u3059\u308b\u3082\u306e\u3067\u3059\u3002</p>"},{"location":"journal/20170127/#_7","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 4ac6dee5f5942ec909093a3568132483d8c8fed7\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 27 19:06:35 2017 +0900\n\n    edit\u30a2\u30af\u30b7\u30e7\u30f3 #6\n\ndiff --git a/README.md b/README.md\nindex 43f1b68..b870c87 100644\n--- a/README.md\n+++ b/README.md\n@@ -421,6 +421,7 @@ git push heroku master\n + index\u30a2\u30af\u30b7\u30e7\u30f3\n + show\u30a2\u30af\u30b7\u30e7\u30f3\n + new\u30a2\u30af\u30b7\u30e7\u30f3\n++ edit\u30a2\u30af\u30b7\u30e7\u30f3\n\n #### \u7ba1\u7406\u8005\u306b\u3088\u308b\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\uff08\u5f8c\u7de8\uff09\n\ndiff --git a/app/assets/stylesheets/components/_appForm.scss b/app/assets/stylesheets/components/_appForm.scss\nindex 3512925..65bcc4e 100644\n--- a/app/assets/stylesheets/components/_appForm.scss\n+++ b/app/assets/stylesheets/components/_appForm.scss\n@@ -38,5 +38,4 @@\n       padding: $wide $very_wide;\n     }\n   }\n-\n }\n\\ No newline at end of file\ndiff --git a/app/controllers/admin/staff_members_controller.rb b/app/controllers/admin/staff_members_controller.rb\nindex d1c7130..e98c10d 100644\n--- a/app/controllers/admin/staff_members_controller.rb\n+++ b/app/controllers/admin/staff_members_controller.rb\n@@ -11,4 +11,8 @@ class Admin::StaffMembersController &lt; Admin::Base\n   def new\n     @staff_member = StaffMember.new\n   end\n+\n+  def edit\n+    @staff_member = StaffMember.find(params[:id])\n+  end\n end\ndiff --git a/app/views/admin/staff_members/_form.html.erb b/app/views/admin/staff_members/_form.html.erb\nindex e897fcd..613e220 100644\n--- a/app/views/admin/staff_members/_form.html.erb\n+++ b/app/views/admin/staff_members/_form.html.erb\n@@ -1,14 +1,16 @@\n &lt;div class=\"AppForm__notes\"&gt;\n-  &lt;span class=\"mark\"&gt;&lt;/span&gt;\u5370\u306e\u4ed8\u3044\u305f\u9805\u76ee\u306f\u5165\u529b\u5fc5\u9808\u3067\u3059\u3002\n+  &lt;span class=\"AppForm__notes--mark\"&gt;*&lt;/span&gt;\u5370\u306e\u4ed8\u3044\u305f\u9805\u76ee\u306f\u5165\u529b\u5fc5\u9808\u3067\u3059\u3002\n &lt;/div&gt;\n &lt;div&gt;\n   &lt;%= f.label :email, t('activerecord.attributes.staff_member.email'), class: 'AppForm__label required' %&gt;\n   &lt;%= f.text_field :email, hide_label: true, size: 32, required: true %&gt;\n &lt;/div&gt;\n+&lt;% if f.object.new_record? %&gt;\n &lt;div&gt;\n   &lt;%= f.label :password, t('activerecord.attributes.staff_member.hashed_password'), class: 'AppForm__label required' %&gt;\n   &lt;%= f.password_field :pasword, hide_label: true, size:32, required: true %&gt;\n &lt;/div&gt;\n+&lt;% end %&gt;\n &lt;div&gt;\n   &lt;%= f.label :family_name, '\u6c0f\u540d', class: 'required' %&gt;\n   &lt;%= f.text_field :family_name, hide_label: true, required: true %&gt;\ndiff --git a/app/views/admin/staff_members/edit.html.erb b/app/views/admin/staff_members/edit.html.erb\nnew file mode 100644\nindex 0000000..322228d\n--- /dev/null\n+++ b/app/views/admin/staff_members/edit.html.erb\n@@ -0,0 +1,17 @@\n+&lt;% @title = '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u7de8\u96c6' %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Admin__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column AppForm\"&gt;\n+\n+  &lt;div class=\"AppForm__generic-form\"&gt;\n+    &lt;%= bootstrap_form_for [ :admin, @staff_member ] do |f| %&gt;\n+        &lt;%= render 'form', f: f %&gt;\n+        &lt;div class=\"AppForm__buttons\"&gt;\n+          &lt;%= f.submit '\u66f4\u65b0' %&gt;\n+          &lt;%= link_to '\u30ad\u30e3\u30f3\u30bb\u30eb', :admin_staff_members %&gt;\n+        &lt;/div&gt;\n+    &lt;% end %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\n</code></pre>"},{"location":"journal/20170127/#_8","title":"\u69cb\u9020\u5909\u66f4","text":"<p>\u3053\u306e\u30b3\u30df\u30c3\u30c8\u3067\u306f\u3001\u8077\u54e1\u7de8\u96c6\u6a5f\u80fd\u306e\u305f\u3081\u306e\u30d3\u30e5\u30fc\u3068\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002</p> <p></p>"},{"location":"journal/20170127/#6897556","title":"\u30b3\u30df\u30c3\u30c8: 6897556","text":""},{"location":"journal/20170127/#_9","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>new\u30a2\u30af\u30b7\u30e7\u30f3 #6\n</code></pre>"},{"location":"journal/20170127/#_10","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/assets/stylesheets/components/_appForm.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/controllers/admin/staff_members_controller.rb</li> <li>A app/views/admin/staff_members/_form.html.erb</li> <li>A app/views/admin/staff_members/new.html.erb</li> </ul>"},{"location":"journal/20170127/#_11","title":"\u6982\u8981","text":"<p>\u3053\u306e\u30b3\u30df\u30c3\u30c8\u3067\u306f\u3001\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\u306e\u65b0\u898f\u4f5c\u6210\u6a5f\u80fd\uff08new\u30a2\u30af\u30b7\u30e7\u30f3\uff09\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u65b0\u3057\u3044\u8077\u54e1\u3092\u767b\u9332\u3059\u308b\u305f\u3081\u306e\u30d5\u30a9\u30fc\u30e0\u3068\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u30d5\u30a9\u30fc\u30e0\u306e\u30b9\u30bf\u30a4\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306e_appForm.scss\u30d5\u30a1\u30a4\u30eb\u3082\u4f5c\u6210\u3055\u308c\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9A-003\uff08\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210\uff09\u306e\u4e00\u90e8\u3092\u5b9f\u73fe\u3059\u308b\u3082\u306e\u3067\u3059\u3002</p>"},{"location":"journal/20170127/#_12","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 6897556d6d3b97556542c81db078fa3a4aee7a76\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 27 18:55:05 2017 +0900\n\n    new\u30a2\u30af\u30b7\u30e7\u30f3 #6\n\ndiff --git a/README.md b/README.md\nindex 5f4ca3d..43f1b68 100644\n--- a/README.md\n+++ b/README.md\n@@ -420,6 +420,7 @@ git push heroku master\n + \u6e96\u5099\u4f5c\u696d\n + index\u30a2\u30af\u30b7\u30e7\u30f3\n + show\u30a2\u30af\u30b7\u30e7\u30f3\n++ new\u30a2\u30af\u30b7\u30e7\u30f3\n\n #### \u7ba1\u7406\u8005\u306b\u3088\u308b\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\uff08\u5f8c\u7de8\uff09\n\ndiff --git a/app/assets/stylesheets/components/_appForm.scss b/app/assets/stylesheets/components/_appForm.scss\nnew file mode 100644\nindex 0000000..3512925\n--- /dev/null\n+++ b/app/assets/stylesheets/components/_appForm.scss\n@@ -0,0 +1,42 @@\n+// =====================\n+// ApplicationForm\n+// ---------------------\n+// \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7528\u30d5\u30a9\u30fc\u30e0\n+// =====================\n+\n+\n+.AppForm {\n+  &amp;__generic-form {\n+    width: 480px;\n+    margin: $very_wide auto;\n+    padding: $very_wide;\n+    border-radius: $wide;\n+    border: solid 4px $dark_magenta;\n+    background-color: $very_light_gray;\n+    }\n+  &amp;__notes {\n+    text-align: right;\n+    font-size: $small;\n+    span.mark { color: $red }\n+  }\n+  &amp;__label {\n+    display: block;\n+    padding: $moderate 0;\n+  }\n+  label {\n+    &amp;.required:after {\n+      content: '*';\n+      padding-left: $narrow;\n+      color: $red;\n+    }\n+    input[type='checkbox']+label { display: inline-block }\n+    input[type='radio']+label { display: inline-block }\n+  }\n+  &amp;__buttons {\n+    text-align: center;\n+    input[type='submit'] {\n+      padding: $wide $very_wide;\n+    }\n+  }\n+\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 42ba8dc..741293f 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -69,6 +69,7 @@\n\n // \u30d5\u30a9\u30fc\u30e0\n @import \"./components/form\";\n+@import \"./components/appForm\";\n\n //font-awesome\n @import \"font-awesome\";\ndiff --git a/app/controllers/admin/staff_members_controller.rb b/app/controllers/admin/staff_members_controller.rb\nindex 77506f7..d1c7130 100644\n--- a/app/controllers/admin/staff_members_controller.rb\n+++ b/app/controllers/admin/staff_members_controller.rb\n@@ -7,4 +7,8 @@ class Admin::StaffMembersController &lt; Admin::Base\n     staff_member = StaffMember.find(params[:id])\n     redirect_to [ :edit, :admin, staff_member ]\n   end\n+\n+  def new\n+    @staff_member = StaffMember.new\n+  end\n end\ndiff --git a/app/views/admin/staff_members/_form.html.erb b/app/views/admin/staff_members/_form.html.erb\nnew file mode 100644\nindex 0000000..e897fcd\n--- /dev/null\n+++ b/app/views/admin/staff_members/_form.html.erb\n@@ -0,0 +1,33 @@\n+&lt;div class=\"AppForm__notes\"&gt;\n+  &lt;span class=\"mark\"&gt;&lt;/span&gt;\u5370\u306e\u4ed8\u3044\u305f\u9805\u76ee\u306f\u5165\u529b\u5fc5\u9808\u3067\u3059\u3002\n+&lt;/div&gt;\n+&lt;div&gt;\n+  &lt;%= f.label :email, t('activerecord.attributes.staff_member.email'), class: 'AppForm__label required' %&gt;\n+  &lt;%= f.text_field :email, hide_label: true, size: 32, required: true %&gt;\n+&lt;/div&gt;\n+&lt;div&gt;\n+  &lt;%= f.label :password, t('activerecord.attributes.staff_member.hashed_password'), class: 'AppForm__label required' %&gt;\n+  &lt;%= f.password_field :pasword, hide_label: true, size:32, required: true %&gt;\n+&lt;/div&gt;\n+&lt;div&gt;\n+  &lt;%= f.label :family_name, '\u6c0f\u540d', class: 'required' %&gt;\n+  &lt;%= f.text_field :family_name, hide_label: true, required: true %&gt;\n+  &lt;%= f.text_field :given_name, hide_label: true, required: true %&gt;\n+&lt;/div&gt;\n+&lt;div&gt;\n+  &lt;%= f.label :family_name_kana, '\u30d5\u30ea\u30ac\u30ca', class: 'required' %&gt;\n+  &lt;%= f.text_field :family_name_kana, hide_label: true, required: true %&gt;\n+  &lt;%= f.text_field :given_name_kana, hide_label: true, required: true %&gt;\n+&lt;/div&gt;\n+&lt;div&gt;\n+  &lt;%= f.label :start_date, t('activerecord.attributes.staff_member.start_date'), class: 'AppForm__label required' %&gt;\n+  &lt;%= f.text_field :start_date, hide_label: true, required: true %&gt;\n+&lt;/div&gt;\n+&lt;div&gt;\n+  &lt;%= f.label :end_date, t('activerecord.attributes.staff_member.end_date') %&gt;\n+  &lt;%= f.text_field :end_date ,hide_label: true %&gt;\n+&lt;/div&gt;\n+&lt;div class=\"check-box\"&gt;\n+  &lt;%= f.label :suspended, '\u30a2\u30ab\u30a6\u30f3\u30c8\u505c\u6b62' %&gt;\n+  &lt;%= f.check_box :suspended ,hide_label: true %&gt;\n+&lt;/div&gt;\n\\ No newline at end of file\ndiff --git a/app/views/admin/staff_members/new.html.erb b/app/views/admin/staff_members/new.html.erb\nnew file mode 100644\nindex 0000000..2bfa195\n--- /dev/null\n+++ b/app/views/admin/staff_members/new.html.erb\n@@ -0,0 +1,17 @@\n+&lt;% @title = '\u8077\u54e1\u306e\u65b0\u898f\u767b\u9332' %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Admin__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column AppForm\"&gt;\n+\n+  &lt;div class=\"AppForm__generic-form\"&gt;\n+    &lt;%= bootstrap_form_for [ :admin, @staff_member ] do |f| %&gt;\n+    &lt;%= render 'form', f: f %&gt;\n+        &lt;div class=\"AppForm__buttons\"&gt;\n+          &lt;%= f.submit '\u767b\u9332' %&gt;\n+          &lt;%= link_to '\u30ad\u30e3\u30f3\u30bb\u30eb', :admin_staff_members %&gt;\n+        &lt;/div&gt;\n+    &lt;% end %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\n</code></pre>"},{"location":"journal/20170127/#_13","title":"\u69cb\u9020\u5909\u66f4","text":"<p>\u3053\u306e\u30b3\u30df\u30c3\u30c8\u3067\u306f\u3001\u8077\u54e1\u65b0\u898f\u767b\u9332\u6a5f\u80fd\u306e\u305f\u3081\u306e\u30d3\u30e5\u30fc\u3068\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002\u307e\u305f\u3001\u30d5\u30a9\u30fc\u30e0\u306e\u30b9\u30bf\u30a4\u30eb\u3092\u5b9a\u7fa9\u3059\u308bCSS\u3082\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p></p>"},{"location":"journal/20170127/#08f6f9c","title":"\u30b3\u30df\u30c3\u30c8: 08f6f9c","text":""},{"location":"journal/20170127/#_14","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>show\u30a2\u30af\u30b7\u30e7\u30f3 #6\n</code></pre>"},{"location":"journal/20170127/#_15","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/admin/staff_members_controller.rb</li> </ul>"},{"location":"journal/20170127/#_16","title":"\u6982\u8981","text":"<p>\u3053\u306e\u30b3\u30df\u30c3\u30c8\u3067\u306f\u3001\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\u306e\u8a73\u7d30\u8868\u793a\u6a5f\u80fd\uff08show\u30a2\u30af\u30b7\u30e7\u30f3\uff09\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u305f\u3060\u3057\u3001\u5b9f\u969b\u306e\u5b9f\u88c5\u3067\u306f\u8a73\u7d30\u8868\u793a\u30da\u30fc\u30b8\u306f\u4f5c\u6210\u305b\u305a\u3001\u7de8\u96c6\u30da\u30fc\u30b8\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308b\u5f62\u5f0f\u3092\u63a1\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u8a73\u7d30\u8868\u793a\u3068\u7de8\u96c6\u3092\u4e00\u5143\u5316\u3057\u3001\u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u30b7\u30f3\u30d7\u30eb\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9A-004\uff08\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6\uff09\u306e\u4e00\u90e8\u3092\u5b9f\u73fe\u3059\u308b\u3082\u306e\u3067\u3059\u3002</p>"},{"location":"journal/20170127/#_17","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 08f6f9cadf41f5ead575e133a3b049d4aad3e1e9\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 27 17:25:12 2017 +0900\n\n    show\u30a2\u30af\u30b7\u30e7\u30f3 #6\n\ndiff --git a/README.md b/README.md\nindex 122dfdf..5f4ca3d 100644\n--- a/README.md\n+++ b/README.md\n@@ -419,6 +419,7 @@ git push heroku master\n #### \u7ba1\u7406\u8005\u306b\u3088\u308b\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\uff08\u524d\u7de8\uff09\n + \u6e96\u5099\u4f5c\u696d\n + index\u30a2\u30af\u30b7\u30e7\u30f3\n++ show\u30a2\u30af\u30b7\u30e7\u30f3\n\n #### \u7ba1\u7406\u8005\u306b\u3088\u308b\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\uff08\u5f8c\u7de8\uff09\n\ndiff --git a/app/controllers/admin/staff_members_controller.rb b/app/controllers/admin/staff_members_controller.rb\nindex 0d7a7c2..77506f7 100644\n--- a/app/controllers/admin/staff_members_controller.rb\n+++ b/app/controllers/admin/staff_members_controller.rb\n@@ -2,4 +2,9 @@ class Admin::StaffMembersController &lt; Admin::Base\n   def index\n     @staff_members = StaffMember.order(:family_name_kana, :given_name_kana)\n   end\n+\n+  def show\n+    staff_member = StaffMember.find(params[:id])\n+    redirect_to [ :edit, :admin, staff_member ]\n+  end\n end\n</code></pre>"},{"location":"journal/20170127/#_18","title":"\u69cb\u9020\u5909\u66f4","text":"<p>\u3053\u306e\u30b3\u30df\u30c3\u30c8\u3067\u306f\u3001\u8077\u54e1\u8a73\u7d30\u8868\u793a\u6a5f\u80fd\u306e\u305f\u3081\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u304c\u3001\u5b9f\u969b\u306b\u306f\u7de8\u96c6\u30da\u30fc\u30b8\u3078\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3092\u884c\u3046\u5b9f\u88c5\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002</p> <p></p>"},{"location":"journal/20170127/#aef2849","title":"\u30b3\u30df\u30c3\u30c8: aef2849","text":""},{"location":"journal/20170127/#_19","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>index\u30a2\u30af\u30b7\u30e7\u30f3 #6\n</code></pre>"},{"location":"journal/20170127/#_20","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/assets/stylesheets/components/common/_table.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/controllers/admin/staff_members_controller.rb</li> <li>A app/views/admin/staff_members/index.html.erb</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170127/#_21","title":"\u6982\u8981","text":"<p>\u3053\u306e\u30b3\u30df\u30c3\u30c8\u3067\u306f\u3001\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\u306e\u4e00\u89a7\u8868\u793a\u6a5f\u80fd\uff08index\u30a2\u30af\u30b7\u30e7\u30f3\uff09\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u8077\u54e1\u306e\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30c6\u30fc\u30d6\u30eb\u30b9\u30bf\u30a4\u30eb\u3068\u30d3\u30e5\u30fc\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3082\u66f4\u65b0\u3055\u308c\u3001\u8077\u54e1\u7ba1\u7406\u306e\u305f\u3081\u306e\u5168RESTful\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u6709\u52b9\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9A-003\u3068A-004\u306e\u57fa\u76e4\u3068\u306a\u308b\u6a5f\u80fd\u3092\u63d0\u4f9b\u3059\u308b\u3082\u306e\u3067\u3059\u3002</p>"},{"location":"journal/20170127/#_22","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit aef28493f8bd370ee29cda3ed2bd04f5e42dd940\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Jan 27 17:22:31 2017 +0900\n\n    index\u30a2\u30af\u30b7\u30e7\u30f3 #6\n\ndiff --git a/README.md b/README.md\nindex 02f72a7..122dfdf 100644\n--- a/README.md\n+++ b/README.md\n@@ -418,6 +418,7 @@ git push heroku master\n ### \u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664\n #### \u7ba1\u7406\u8005\u306b\u3088\u308b\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\uff08\u524d\u7de8\uff09\n + \u6e96\u5099\u4f5c\u696d\n++ index\u30a2\u30af\u30b7\u30e7\u30f3\n\n #### \u7ba1\u7406\u8005\u306b\u3088\u308b\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\uff08\u5f8c\u7de8\uff09\n\ndiff --git a/app/assets/stylesheets/components/common/_table.scss b/app/assets/stylesheets/components/common/_table.scss\nnew file mode 100644\nindex 0000000..bf7656b\n--- /dev/null\n+++ b/app/assets/stylesheets/components/common/_table.scss\n@@ -0,0 +1,53 @@\n+@charset 'utf-8';\n+\n+// =====================\n+// Table\n+// ---------------------\n+// \u5171\u901a\u30c6\u30fc\u30d6\u30eb\n+// =====================\n+\n+.Table {\n+  width: 90%;\n+  margin: 0 auto;\n+\n+  &amp;__links {\n+    text-align: right;\n+    padding: $moderate;\n+  }\n+\n+  &amp;__body {\n+    margin: $moderate auto 0;\n+    border: solid $moderate $very_dark_magenta;\n+  }\n+\n+  &amp;__th {\n+    background-color: $dark_gray;\n+    color: $very_light_gray;\n+    padding: $narrow;\n+    text-align: center;\n+  }\n+\n+  &amp;__td { padding: $narrow }\n+\n+  &amp;--email { font-family: monospace }\n+\n+  &amp;--date {\n+    font-family: monospace;\n+    text-align: center;\n+  }\n+\n+  &amp;--boolean { text-align: center }\n+\n+  &amp;--actions {\n+    text-align: center;\n+    color: $dark_gray;\n+  }\n+\n+  &amp;--listing {\n+    width: 100%;\n+    tr:nth-child(even) { background-color: $very_light_gray }\n+    tr:nth-child(odd) { background-color: $light_gray }\n+  }\n+}\n+\n+\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex c3e124a..42ba8dc 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -47,6 +47,9 @@\n // \u30a8\u30e9\u30fc\n @import \"./components/common/errors\";\n\n+// \u30c6\u30fc\u30d6\u30eb\n+@import \"./components/common/table\";\n+\n // Others\n //----------------------------\n // \u30d6\u30ed\u30b0\u629c\u7c8b\ndiff --git a/app/controllers/admin/staff_members_controller.rb b/app/controllers/admin/staff_members_controller.rb\nindex a9b32b3..0d7a7c2 100644\n--- a/app/controllers/admin/staff_members_controller.rb\n+++ b/app/controllers/admin/staff_members_controller.rb\n@@ -1,2 +1,5 @@\n-class Admin::StaffMembersController &lt; ApplicationController\n+class Admin::StaffMembersController &lt; Admin::Base\n+  def index\n+    @staff_members = StaffMember.order(:family_name_kana, :given_name_kana)\n+  end\n end\ndiff --git a/app/views/admin/staff_members/index.html.erb b/app/views/admin/staff_members/index.html.erb\nnew file mode 100644\nindex 0000000..4109326\n--- /dev/null\n+++ b/app/views/admin/staff_members/index.html.erb\n@@ -0,0 +1,43 @@\n+&lt;% @title = '\u8077\u54e1\u7ba1\u7406' %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Admin__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column Table\"&gt;\n+  &lt;div class=\"Table__links\"&gt;\n+    &lt;%= link_to '\u65b0\u898f\u767b\u9332', :new_admin_staff_member, class: 'btn btn-default' %&gt;\n+  &lt;/div&gt;\n+\n+  &lt;table class=\"Table__body Table--listing\"&gt;\n+    &lt;tr class=\"Table__tr\"&gt;\n+      &lt;th class=\"Table__th\"&gt;\u6c0f\u540d&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;\u30d5\u30ea\u30ac\u30ca&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;\u958b\u59cb\u65e5&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;\u7d42\u4e86\u65e5&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;\u505c\u6b62\u30d5\u30e9\u30b0&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;\u30a2\u30af\u30b7\u30e7\u30f3&lt;/th&gt;\n+    &lt;/tr&gt;\n+    &lt;% @staff_members.each do |m| %&gt;\n+        &lt;tr  class=\"Table__tr\"&gt;\n+          &lt;td class=\"Table__td\"&gt;&lt;%= m.family_name %&gt; &lt;%= m.given_name %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td\"&gt;&lt;%= m.family_name_kana %&gt; &lt;%= m.given_name_kana %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td Table--email\"&gt;&lt;%= m.email %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td Table--date\"&gt;&lt;%= m.start_date %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td Table--date\"&gt;&lt;%= m.end_date %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td Table--boolean\"&gt;\n+            &lt;%= m.suspended? ? raw('&amp;#x2611;') : raw('&amp;#x2610;') %&gt;\n+          &lt;/td&gt;\n+          &lt;td class=\"Table__td Table--actions\"&gt;\n+            &lt;%= link_to '\u7de8\u96c6', [ :edit, :admin, m ], class: 'btn btn-default btn-xs' %&gt; |\n+            &lt;%= link_to '\u524a\u9664', [ :admin, m ], method: :delete,\n+                        data: { confirm: '\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b?'}, class: 'btn btn-default btn-xs' %&gt;\n+          &lt;/td&gt;\n+        &lt;/tr&gt;\n+    &lt;% end %&gt;\n+  &lt;/table&gt;\n+\n+  &lt;div class=\"Table__links\"&gt;\n+    &lt;%= link_to '\u65b0\u898f\u767b\u9332', :new_admin_staff_member, class: 'btn btn-default' %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 40f135b..7133f04 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -47,7 +47,7 @@ Rails.application.routes.draw do\n     namespace :admin, path: config[:admin][:path]  do\n       root 'top#index'\n       concerns :session_path\n-      resources :staff_members, only: [:index, :new, :create], path: 'staff'\n+      resources :staff_members, path: 'staff'\n     end\n   end\n</code></pre>"},{"location":"journal/20170127/#_23","title":"\u69cb\u9020\u5909\u66f4","text":"<p>\u3053\u306e\u30b3\u30df\u30c3\u30c8\u3067\u306f\u3001\u8077\u54e1\u4e00\u89a7\u8868\u793a\u6a5f\u80fd\u306e\u305f\u3081\u306e\u30d3\u30e5\u30fc\u3068\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30a2\u30af\u30b7\u30e7\u30f3\u3001\u304a\u3088\u3073\u30c6\u30fc\u30d6\u30eb\u30b9\u30bf\u30a4\u30eb\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002\u307e\u305f\u3001\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3082\u66f4\u65b0\u3055\u308c\u3001\u8077\u54e1\u7ba1\u7406\u306e\u305f\u3081\u306e\u5168RESTful\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u6709\u52b9\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p> <p></p>"},{"location":"journal/20170128/","title":"\u4f5c\u696d\u5c65\u6b74 2017-01-28","text":""},{"location":"journal/20170128/#_1","title":"\u6982\u8981","text":"<p>2017-01-28\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u65e5\u306f\u4e3b\u306b\u7ba1\u7406\u8005\u306b\u3088\u308b\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\u306e\u5b9f\u88c5\u3092\u5b8c\u4e86\u3055\u305b\u3001create\u30a2\u30af\u30b7\u30e7\u30f3\u3001update\u30a2\u30af\u30b7\u30e7\u30f3\u3001destroy\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u307e\u305f\u3001UI\u8abf\u6574\u3084\u30d0\u30b0\u4fee\u6b63\u3082\u884c\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170128/#_2","title":"\u95a2\u9023\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9","text":"<ul> <li>A-003: \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210 - \u7ba1\u7406\u8005\u304c\u65b0\u898f\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b</li> <li>A-004: \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6 - \u7ba1\u7406\u8005\u304c\u65e2\u5b58\u306e\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u7de8\u96c6\u3059\u308b</li> <li>A-005: \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u505c\u6b62/\u518d\u958b - \u7ba1\u7406\u8005\u304c\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u505c\u6b62\u307e\u305f\u306f\u518d\u958b\u3092\u884c\u3046</li> </ul>"},{"location":"journal/20170128/#_3","title":"\u30b7\u30b9\u30c6\u30e0\u69cb\u6210\u4e0a\u306e\u4f4d\u7f6e\u3065\u3051","text":"<p>\u3053\u306e\u5b9f\u88c5\u306f\u7ba1\u7406\u8005\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u4e00\u90e8\u3067\u3042\u308a\u3001\u30b7\u30b9\u30c6\u30e0\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u304a\u3051\u308b\u4ee5\u4e0b\u306e\u90e8\u5206\u306b\u95a2\u9023\u3057\u3066\u3044\u307e\u3059\uff1a</p> <p></p>"},{"location":"journal/20170128/#a493db5","title":"\u30b3\u30df\u30c3\u30c8: a493db5","text":""},{"location":"journal/20170128/#_4","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30e1\u30c3\u30bb\u30fc\u30b8\u8868\u793a\u4f4d\u7f6e\u8abf\u6574\n</code></pre>"},{"location":"journal/20170128/#_5","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/components/parts/_flash.scss</li> <li>M app/views/admin/shared/_header.html.erb</li> <li>M app/views/staff/shared/_header.html.erb</li> </ul>"},{"location":"journal/20170128/#_6","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit a493db5f5940badc99d916541e2f1f16547f79f4\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 28 15:33:07 2017 +0900\n\n    \u30e1\u30c3\u30bb\u30fc\u30b8\u8868\u793a\u4f4d\u7f6e\u8abf\u6574\n\ndiff --git a/app/assets/stylesheets/components/parts/_flash.scss b/app/assets/stylesheets/components/parts/_flash.scss\nindex ab416bb..92b4cd8 100644\n--- a/app/assets/stylesheets/components/parts/_flash.scss\n+++ b/app/assets/stylesheets/components/parts/_flash.scss\n@@ -4,7 +4,7 @@\n   display: inline-block;\n   padding: $narrow $moderate;\n   margin: 0 $wide;\n-  font-size: $tiny;\n+  font-size: $normal;\n   color: $very_light_gray;\n\n   &amp;__notice {\ndiff --git a/app/views/admin/shared/_header.html.erb b/app/views/admin/shared/_header.html.erb\nindex 299226e..afecf20 100644\n--- a/app/views/admin/shared/_header.html.erb\n+++ b/app/views/admin/shared/_header.html.erb\n@@ -4,13 +4,13 @@\n   &lt;/div&gt;\n   &lt;div class=\"Header__head\"&gt;\n     &lt;h1 class=\"logo\"&gt;&lt;%= link_to('BAUKIS KAI', admin_root_url, class:'logo logo--admin') %&gt;&lt;/h1&gt;\n+  &lt;/div&gt;\n\n-    &lt;div class=\"Flash\"&gt;\n-      &lt;%= content_tag(:span, flash.notice, class: 'Flash__notice') if flash.notice %&gt;\n-      &lt;%= content_tag(:span, flash.alert, class: 'Flash__alert') if flash.alert %&gt;\n-    &lt;/div&gt;\n-\n+  &lt;div class=\"Flash\"&gt;\n+    &lt;%= content_tag(:span, flash.notice, class: 'Flash__notice') if flash.notice %&gt;\n+    &lt;%= content_tag(:span, flash.alert, class: 'Flash__alert') if flash.alert %&gt;\n   &lt;/div&gt;\n+\n   &lt;nav class=\"Header__body SpMenu\"&gt;\n     &lt;ul class=\"Menu\"&gt;\n       &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;&lt;/a&gt;&lt;/li&gt;\ndiff --git a/app/views/staff/shared/_header.html.erb b/app/views/staff/shared/_header.html.erb\nindex ea9128a..0e430e2 100644\n--- a/app/views/staff/shared/_header.html.erb\n+++ b/app/views/staff/shared/_header.html.erb\n@@ -4,13 +4,13 @@\n   &lt;/div&gt;\n   &lt;div class=\"Header__head\"&gt;\n     &lt;h1 class=\"logo\"&gt;&lt;%= link_to('BAUKIS KAI', staff_root_url, class:'logo logo--staff') %&gt;&lt;/h1&gt;\n+  &lt;/div&gt;\n\n-    &lt;div class=\"Flash\"&gt;\n-      &lt;%= content_tag(:span, flash.notice, class: 'Flash__notice') if flash.notice %&gt;\n-      &lt;%= content_tag(:span, flash.alert, class: 'Flash__alert') if flash.alert %&gt;\n-    &lt;/div&gt;\n-\n+  &lt;div class=\"Flash\"&gt;\n+    &lt;%= content_tag(:span, flash.notice, class: 'Flash__notice') if flash.notice %&gt;\n+    &lt;%= content_tag(:span, flash.alert, class: 'Flash__alert') if flash.alert %&gt;\n   &lt;/div&gt;\n+\n   &lt;nav class=\"Header__body SpMenu\"&gt;\n     &lt;ul class=\"Menu\"&gt;\n       &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;&lt;/a&gt;&lt;/li&gt;\n</code></pre>"},{"location":"journal/20170128/#f12be02","title":"\u30b3\u30df\u30c3\u30c8: f12be02","text":""},{"location":"journal/20170128/#_7","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u7ba1\u7406\u8005\u753b\u9762\u30d8\u30c3\u30c0\u30fc\u30ab\u30e9\u30fc\u5909\u66f4\n</code></pre>"},{"location":"journal/20170128/#_8","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/pages/_admin.scss</li> </ul>"},{"location":"journal/20170128/#_9","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit f12be02bfe050218d50070cfffb1aa36d2e6029e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 28 15:19:44 2017 +0900\n\n    \u7ba1\u7406\u8005\u753b\u9762\u30d8\u30c3\u30c0\u30fc\u30ab\u30e9\u30fc\u5909\u66f4\n\ndiff --git a/app/assets/stylesheets/pages/_admin.scss b/app/assets/stylesheets/pages/_admin.scss\nindex 8937028..5b939fe 100644\n--- a/app/assets/stylesheets/pages/_admin.scss\n+++ b/app/assets/stylesheets/pages/_admin.scss\n@@ -36,7 +36,7 @@ html, body {\n\n   &amp;__header {\n     padding: $moderate;\n-    background-color: $very_dark_magenta;\n+    background-color: $dark_magenta;\n     color: $very_light_gray;\n     span.logo-mark {\n       font-weight: bold;\n</code></pre>"},{"location":"journal/20170128/#433d142","title":"\u30b3\u30df\u30c3\u30c8: 433d142","text":""},{"location":"journal/20170128/#_10","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ed\u30b0\u30a2\u30a6\u30c8\u6642\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u975e\u8868\u793a\u306b\u306a\u3089\u306a\u3044\u4e0d\u5177\u5408\u3092\u4fee\u6b63\n</code></pre>"},{"location":"journal/20170128/#_11","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/staff/shared/_header.html.erb</li> </ul>"},{"location":"journal/20170128/#_12","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 433d142acf2c76192da9b9b8da4df0dce39304cc\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 28 15:08:34 2017 +0900\n\n    \u30ed\u30b0\u30a2\u30a6\u30c8\u6642\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u975e\u8868\u793a\u306b\u306a\u3089\u306a\u3044\u4e0d\u5177\u5408\u3092\u4fee\u6b63\n\ndiff --git a/app/views/staff/shared/_header.html.erb b/app/views/staff/shared/_header.html.erb\nindex 2661b7d..ea9128a 100644\n--- a/app/views/staff/shared/_header.html.erb\n+++ b/app/views/staff/shared/_header.html.erb\n@@ -22,5 +22,8 @@\n         link_to t('staff.shared.header.login'), :staff_login, class: 'btn btn-default'\n       end\n     %&gt;\n-  &lt;%= link_to t('staff.shared.header.account'), (:staff_account if current_staff_member) , class: 'btn btn-default' %&gt;\n+  &lt;%= if current_staff_member\n+        link_to t('staff.shared.header.account'), :staff_account , class: 'btn btn-default'\n+      end\n+  %&gt;\n &lt;/header&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170128/#b699d9e","title":"\u30b3\u30df\u30c3\u30c8: b699d9e","text":""},{"location":"journal/20170128/#_13","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u753b\u9762\u8868\u793a\u4e0d\u5177\u5408\u4fee\u6b63\n</code></pre>"},{"location":"journal/20170128/#_14","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/components/common/_table.scss</li> <li>M app/views/admin/staff_members/new.html.erb</li> <li>M app/views/staff/accounts/edit.html.erb</li> <li>M app/views/staff/top/index.html.erb</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170128/#_15","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit b699d9ed54a562b269c28a83965b76b8eef3233c\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 28 14:58:02 2017 +0900\n\n    \u753b\u9762\u8868\u793a\u4e0d\u5177\u5408\u4fee\u6b63\n\ndiff --git a/app/assets/stylesheets/components/common/_table.scss b/app/assets/stylesheets/components/common/_table.scss\nindex 86bfb1c..0c75320 100644\n--- a/app/assets/stylesheets/components/common/_table.scss\n+++ b/app/assets/stylesheets/components/common/_table.scss\n@@ -48,6 +48,7 @@\n\n     &amp;--actions {\n       color: $dark_gray;\n+      text-align: center;\n     }\n\n     &amp;--center {\ndiff --git a/app/views/admin/staff_members/new.html.erb b/app/views/admin/staff_members/new.html.erb\nindex 06fed3c..fdc2ab3 100644\n--- a/app/views/admin/staff_members/new.html.erb\n+++ b/app/views/admin/staff_members/new.html.erb\n@@ -4,13 +4,12 @@\n &lt;/section&gt;\n\n &lt;section class=\"Section l-column AppForm\"&gt;\n-\n-  &lt;div class=\"AppForm__generic-form\"&gt;\n+  &lt;div class=\"AppForm__generic-form AdminAppForm__generic-form\"&gt;\n     &lt;%= bootstrap_form_for [ :admin, @staff_member ] do |f| %&gt;\n     &lt;%= render 'form', f: f %&gt;\n         &lt;div class=\"AppForm__buttons\"&gt;\n-          &lt;%= f.submit t('.create') %&gt;\n-          &lt;%= link_to t('.cancel'), :admin_staff_members %&gt;\n+          &lt;%= f.submit t('.create') ,class: 'btn btn-default btn-lg'%&gt;\n+          &lt;%= link_to t('.cancel'), :admin_staff_members ,class: 'btn btn-default btn-lg'%&gt;\n         &lt;/div&gt;\n     &lt;% end %&gt;\n   &lt;/div&gt;\ndiff --git a/app/views/staff/accounts/edit.html.erb b/app/views/staff/accounts/edit.html.erb\nindex ab6aef6..c60ac2e 100644\n--- a/app/views/staff/accounts/edit.html.erb\n+++ b/app/views/staff/accounts/edit.html.erb\n@@ -8,8 +8,8 @@\n     &lt;%= bootstrap_form_for @staff_member, url: :staff_account do |f| %&gt;\n         &lt;%= render 'form', f: f %&gt;\n         &lt;div class=\"AppForm__buttons\"&gt;\n-          &lt;%= f.submit t('.update') %&gt;\n-          &lt;%= link_to t('.cancel'), :admin_staff_members %&gt;\n+          &lt;%= f.submit t('.update'),class: 'btn btn-default btn-lg' %&gt;\n+          &lt;%= link_to t('.cancel'), :staff_account, class: 'btn btn-default btn-lg' %&gt;\n         &lt;/div&gt;\n     &lt;% end %&gt;\n   &lt;/div&gt;\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex f510527..2d675aa 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-1-28\"&gt;2017.1.28&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u7de8\u96c6\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-1-21\"&gt;2017.1.21&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 4673828..8cf125f 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -39,7 +39,7 @@ Rails.application.routes.draw do\n     namespace :staff, path: config[:staff][:path] do\n       root   'top#index'\n       concerns :session_path\n-      resource :account, only: [:update]\n+      resource :account, only: [:show, :edit, :update]\n     end\n   end\n</code></pre>"},{"location":"journal/20170128/#be80ecf","title":"\u30b3\u30df\u30c3\u30c8: be80ecf","text":""},{"location":"journal/20170128/#_16","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>update\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8 #7\n</code></pre>"},{"location":"journal/20170128/#_17","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> <li>A spec/controllers/staff/accounts_controller_spec.rb</li> </ul>"},{"location":"journal/20170128/#_18","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit be80ecf04ab2cc56080f035e025dd56859967de7\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 28 14:31:32 2017 +0900\n\n    update\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8 #7\n\ndiff --git a/README.md b/README.md\nindex 81b29bd..e6134fc 100644\n--- a/README.md\n+++ b/README.md\n@@ -438,6 +438,7 @@ git push heroku master\n + show\u30a2\u30af\u30b7\u30e7\u30f3\n + edit\u30a2\u30af\u30b7\u30e7\u30f3\n + update\u30a2\u30af\u30b7\u30e7\u30f3\n++ update\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\n\n ### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\n ### \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 7133f04..4673828 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -39,7 +39,7 @@ Rails.application.routes.draw do\n     namespace :staff, path: config[:staff][:path] do\n       root   'top#index'\n       concerns :session_path\n-      resource :account, execpt: [:new, :create, :destroy]\n+      resource :account, only: [:update]\n     end\n   end\n\ndiff --git a/spec/controllers/staff/accounts_controller_spec.rb b/spec/controllers/staff/accounts_controller_spec.rb\nnew file mode 100644\nindex 0000000..e147715\n--- /dev/null\n+++ b/spec/controllers/staff/accounts_controller_spec.rb\n@@ -0,0 +1,34 @@\n+require 'rails_helper'\n+\n+describe Staff::AccountsController do\n+  describe '#update' do\n+    let(:params_hash) { attributes_for(:staff_member) }\n+    let(:staff_member) { create(:staff_member) }\n+\n+    before do\n+      session[:staff_member_id] = staff_member.id\n+    end\n+\n+    # email\u5c5e\u6027\u3092\u5909\u66f4\u3059\u308b\n+    it 'should update email attributes' do\n+      params_hash.merge!(email: 'test@example.com')\n+      patch :update, id: staff_member.id, staff_member: params_hash\n+      staff_member.reload\n+      expect(staff_member.email).to eq('test@example.com')\n+    end\n+\n+    # \u4f8b\u5916ActionController::ParameterMissing\u304c\u767a\u751f\n+    it 'should throw ActionController::ParameterMissing exception' do\n+      bypass_rescue\n+      expect { patch :update, id: staff_member.id}.to raise_error(ActionController::ParameterMissing)\n+    end\n+\n+    # end_date\u306e\u5024\u306f\u66f8\u304d\u63db\u3048\u4e0d\u53ef\n+    it 'should writable end_data value' do\n+      params_hash.merge!(end_date: Date.tomorrow)\n+      expect {\n+        patch :update, id: staff_member.id, staff_member: params_hash\n+      }.not_to change { staff_member.end_date }\n+    end\n+  end\n+end\n</code></pre>"},{"location":"journal/20170128/#_19","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170128/#0a01f98","title":"\u30b3\u30df\u30c3\u30c8: 0a01f98","text":""},{"location":"journal/20170128/#_20","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>update\u30a2\u30af\u30b7\u30e7\u30f3 #7\n</code></pre>"},{"location":"journal/20170128/#_21","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/accounts_controller.rb</li> <li>M config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170128/#_22","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 0a01f987c6ff5507224625222cdf9df67acfc5dd\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 28 13:49:30 2017 +0900\n\n    update\u30a2\u30af\u30b7\u30e7\u30f3 #7\n\ndiff --git a/README.md b/README.md\nindex 848e791..81b29bd 100644\n--- a/README.md\n+++ b/README.md\n@@ -437,6 +437,7 @@ git push heroku master\n #### \u8077\u54e1\u81ea\u8eab\u306b\u3088\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\n + show\u30a2\u30af\u30b7\u30e7\u30f3\n + edit\u30a2\u30af\u30b7\u30e7\u30f3\n++ update\u30a2\u30af\u30b7\u30e7\u30f3\n\n ### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\n ### \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\ndiff --git a/app/controllers/staff/accounts_controller.rb b/app/controllers/staff/accounts_controller.rb\nindex 878d1aa..449f282 100644\n--- a/app/controllers/staff/accounts_controller.rb\n+++ b/app/controllers/staff/accounts_controller.rb\n@@ -6,4 +6,26 @@ class Staff::AccountsController &lt; Staff::Base\n   def edit\n     @staff_member = current_staff_member\n   end\n+\n+  def update\n+    @staff_member = current_staff_member\n+    @staff_member.assign_attributes(staff_member_params)\n+    if @staff_member.save\n+      flash.notice = t('.flash_success')\n+      redirect_to :staff_account\n+    else\n+      render action: 'edit'\n+    end\n+  end\n+\n+  private\n+  def staff_member_params\n+    params.require(:staff_member).permit(\n+                                     :email,\n+                                     :family_name,\n+                                     :given_name,\n+                                     :family_name_kana,\n+                                     :given_name_kana\n+    )\n+  end\n end\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 12a95c4..974bbfb 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -1,4 +1,8 @@\n ja:\n+  staff:\n+    accounts:\n+      update:\n+        flash_success: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n   admin:\n     staff_members:\n       create:\n</code></pre>"},{"location":"journal/20170128/#_23","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170128/#e16486b","title":"\u30b3\u30df\u30c3\u30c8: e16486b","text":""},{"location":"journal/20170128/#_24","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>edit\u30a2\u30af\u30b7\u30e7\u30f3 #7\n</code></pre>"},{"location":"journal/20170128/#_25","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/assets/stylesheets/components/_adminAppForm.scss</li> <li>M app/assets/stylesheets/components/_appForm.scss</li> <li>A app/assets/stylesheets/components/_staffAppForm.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/controllers/staff/accounts_controller.rb</li> <li>M app/views/admin/staff_members/edit.html.erb</li> <li>A app/views/staff/accounts/_form.html.erb</li> <li>A app/views/staff/accounts/edit.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170128/#_26","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit e16486bb0969a504d19ce5c6c1ad5e320592251d\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 28 13:44:09 2017 +0900\n\n    edit\u30a2\u30af\u30b7\u30e7\u30f3 #7\n\ndiff --git a/README.md b/README.md\nindex 122a5b6..848e791 100644\n--- a/README.md\n+++ b/README.md\n@@ -436,6 +436,7 @@ git push heroku master\n\n #### \u8077\u54e1\u81ea\u8eab\u306b\u3088\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\n + show\u30a2\u30af\u30b7\u30e7\u30f3\n++ edit\u30a2\u30af\u30b7\u30e7\u30f3\n\n ### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\n ### \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\ndiff --git a/app/assets/stylesheets/components/_adminAppForm.scss b/app/assets/stylesheets/components/_adminAppForm.scss\nnew file mode 100644\nindex 0000000..f7f5ea1\n--- /dev/null\n+++ b/app/assets/stylesheets/components/_adminAppForm.scss\n@@ -0,0 +1,12 @@\n+// =====================\n+// AdminApplicationForm\n+// ---------------------\n+// \u7ba1\u7406\u8005\u7528\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7528\u30d5\u30a9\u30fc\u30e0\n+// =====================\n+\n+\n+.AdminAppForm {\n+  &amp;__generic-form {\n+    border: solid 4px $dark_magenta;\n+    }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/_appForm.scss b/app/assets/stylesheets/components/_appForm.scss\nindex 65bcc4e..a6b23f4 100644\n--- a/app/assets/stylesheets/components/_appForm.scss\n+++ b/app/assets/stylesheets/components/_appForm.scss\n@@ -11,7 +11,6 @@\n     margin: $very_wide auto;\n     padding: $very_wide;\n     border-radius: $wide;\n-    border: solid 4px $dark_magenta;\n     background-color: $very_light_gray;\n     }\n   &amp;__notes {\ndiff --git a/app/assets/stylesheets/components/_staffAppForm.scss b/app/assets/stylesheets/components/_staffAppForm.scss\nnew file mode 100644\nindex 0000000..8ec6c59\n--- /dev/null\n+++ b/app/assets/stylesheets/components/_staffAppForm.scss\n@@ -0,0 +1,12 @@\n+// =====================\n+// StaffApplicationForm\n+// ---------------------\n+// \u8077\u54e1\u7528\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7528\u30d5\u30a9\u30fc\u30e0\n+// =====================\n+\n+\n+.StaffAppForm {\n+  &amp;__generic-form {\n+    border: solid 4px $dark_cyan;\n+    }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex e4b9282..c994463 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -70,6 +70,8 @@\n // \u30d5\u30a9\u30fc\u30e0\n @import \"./components/form\";\n @import \"./components/appForm\";\n+@import \"./components/adminAppForm\";\n+@import \"./components/staffAppForm\";\n\n // \u30c6\u30fc\u30d6\u30eb\n @import \"./components/adminTable\";\ndiff --git a/app/controllers/staff/accounts_controller.rb b/app/controllers/staff/accounts_controller.rb\nindex 4e2ec0f..878d1aa 100644\n--- a/app/controllers/staff/accounts_controller.rb\n+++ b/app/controllers/staff/accounts_controller.rb\n@@ -2,4 +2,8 @@ class Staff::AccountsController &lt; Staff::Base\n   def show\n     @staff_member = current_staff_member\n   end\n+\n+  def edit\n+    @staff_member = current_staff_member\n+  end\n end\ndiff --git a/app/views/admin/staff_members/edit.html.erb b/app/views/admin/staff_members/edit.html.erb\nindex 11700f0..42104a8 100644\n--- a/app/views/admin/staff_members/edit.html.erb\n+++ b/app/views/admin/staff_members/edit.html.erb\n@@ -4,8 +4,7 @@\n &lt;/section&gt;\n\n &lt;section class=\"Section l-column AppForm\"&gt;\n-\n-  &lt;div class=\"AppForm__generic-form\"&gt;\n+  &lt;div class=\"AppForm__generic-form AdminAppForm__generic-form\"&gt;\n     &lt;%= bootstrap_form_for [ :admin, @staff_member ] do |f| %&gt;\n         &lt;%= render 'form', f: f %&gt;\n         &lt;div class=\"AppForm__buttons\"&gt;\ndiff --git a/app/views/staff/accounts/_form.html.erb b/app/views/staff/accounts/_form.html.erb\nnew file mode 100644\nindex 0000000..ebbcca0\n--- /dev/null\n+++ b/app/views/staff/accounts/_form.html.erb\n@@ -0,0 +1,17 @@\n+&lt;div class=\"AppForm__notes\"&gt;\n+  &lt;span class=\"AppForm__notes--mark\"&gt;*&lt;/span&gt;\u5370\u306e\u4ed8\u3044\u305f\u9805\u76ee\u306f\u5165\u529b\u5fc5\u9808\u3067\u3059\u3002\n+&lt;/div&gt;\n+&lt;div&gt;\n+  &lt;%= f.label :email, t('activerecord.attributes.staff_member.email'), class: 'AppForm__label required' %&gt;\n+  &lt;%= f.text_field :email, hide_label: true, size: 32, required: true %&gt;\n+&lt;/div&gt;\n+&lt;div&gt;\n+  &lt;%= f.label :family_name, '\u6c0f\u540d', class: 'required' %&gt;\n+  &lt;%= f.text_field :family_name, hide_label: true, required: true %&gt;\n+  &lt;%= f.text_field :given_name, hide_label: true, required: true %&gt;\n+&lt;/div&gt;\n+&lt;div&gt;\n+  &lt;%= f.label :family_name_kana, '\u30d5\u30ea\u30ac\u30ca', class: 'required' %&gt;\n+  &lt;%= f.text_field :family_name_kana, hide_label: true, required: true %&gt;\n+  &lt;%= f.text_field :given_name_kana, hide_label: true, required: true %&gt;\n+&lt;/div&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/accounts/edit.html.erb b/app/views/staff/accounts/edit.html.erb\nnew file mode 100644\nindex 0000000..ab6aef6\n--- /dev/null\n+++ b/app/views/staff/accounts/edit.html.erb\n@@ -0,0 +1,16 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column AppForm\"&gt;\n+  &lt;div class=\"AppForm__generic-form StaffAppForm__generic-form\"&gt;\n+    &lt;%= bootstrap_form_for @staff_member, url: :staff_account do |f| %&gt;\n+        &lt;%= render 'form', f: f %&gt;\n+        &lt;div class=\"AppForm__buttons\"&gt;\n+          &lt;%= f.submit t('.update') %&gt;\n+          &lt;%= link_to t('.cancel'), :admin_staff_members %&gt;\n+        &lt;/div&gt;\n+    &lt;% end %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex ae8bf52..5f970cb 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -16,6 +16,10 @@ ja:\n         kana: '\u30d5\u30ea\u30ac\u30ca'\n         email: '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9'\n         start_date: '\u958b\u59cb\u65e5'\n+      edit:\n+        title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u7de8\u96c6'\n+        update: '\u66f4\u65b0'\n+        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n   admin:\n     shared:\n       header:\n</code></pre>"},{"location":"journal/20170128/#_27","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170128/#bf26593","title":"\u30b3\u30df\u30c3\u30c8: bf26593","text":""},{"location":"journal/20170128/#_28","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>show\u30a2\u30af\u30b7\u30e7\u30f3 #7\n</code></pre>"},{"location":"journal/20170128/#_29","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/assets/stylesheets/components/_adminTable.scss</li> <li>A app/assets/stylesheets/components/_staffTable.scss</li> <li>M app/assets/stylesheets/components/common/_table.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/assets/stylesheets/pages/_staff.scss</li> <li>A app/controllers/staff/accounts_controller.rb</li> <li>M app/views/admin/staff_members/index.html.erb</li> <li>A app/views/staff/accounts/show.html.erb</li> <li>M app/views/staff/shared/_header.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170128/#_30","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit bf26593fa9bfdbe69751e5c3923286605d3d8ec8\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 28 13:18:50 2017 +0900\n\n    show\u30a2\u30af\u30b7\u30e7\u30f3 #7\n\ndiff --git a/README.md b/README.md\nindex c453201..122a5b6 100644\n--- a/README.md\n+++ b/README.md\n@@ -434,6 +434,9 @@ git push heroku master\n + \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30c6\u30b9\u30c8\n + 400 Bad Request\n\n+#### \u8077\u54e1\u81ea\u8eab\u306b\u3088\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\n++ show\u30a2\u30af\u30b7\u30e7\u30f3\n+\n ### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\n ### \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\n ### \u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\ndiff --git a/app/assets/stylesheets/components/_adminTable.scss b/app/assets/stylesheets/components/_adminTable.scss\nnew file mode 100644\nindex 0000000..d855212\n--- /dev/null\n+++ b/app/assets/stylesheets/components/_adminTable.scss\n@@ -0,0 +1,6 @@\n+.AdminTable {\n+  &amp;__body {\n+    margin: $moderate auto 0;\n+    border: solid $moderate $very_dark_magenta;\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/_staffTable.scss b/app/assets/stylesheets/components/_staffTable.scss\nnew file mode 100644\nindex 0000000..b359e1e\n--- /dev/null\n+++ b/app/assets/stylesheets/components/_staffTable.scss\n@@ -0,0 +1,6 @@\n+.StaffTable {\n+  &amp;__body {\n+    margin: $moderate auto 0;\n+    border: solid $moderate $very_dark_cyan;\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/common/_table.scss b/app/assets/stylesheets/components/common/_table.scss\nindex 4d7ace1..86bfb1c 100644\n--- a/app/assets/stylesheets/components/common/_table.scss\n+++ b/app/assets/stylesheets/components/common/_table.scss\n@@ -16,14 +16,17 @@\n   }\n\n   &amp;__body {\n-    margin: $moderate auto 0;\n-    border: solid $moderate $very_dark_magenta;\n-\n     &amp;--listing {\n       width: 100%;\n       tr:nth-child(even) { background-color: $very_light_gray }\n       tr:nth-child(odd) { background-color: $light_gray }\n     }\n+\n+    &amp;--attributes {\n+      width: 100%;\n+      th { padding-right: $moderate; width: 200px }\n+      td { background-color: $very_light_gray }\n+    }\n   }\n\n   &amp;__th {\n@@ -39,15 +42,17 @@\n\n     &amp;--date {\n       font-family: monospace;\n-      text-align: center;\n     }\n\n     &amp;--boolean { text-align: center }\n\n     &amp;--actions {\n-      text-align: center;\n       color: $dark_gray;\n     }\n+\n+    &amp;--center {\n+      text-align: center;\n+    }\n   }\n }\n\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 741293f..e4b9282 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -71,6 +71,10 @@\n @import \"./components/form\";\n @import \"./components/appForm\";\n\n+// \u30c6\u30fc\u30d6\u30eb\n+@import \"./components/adminTable\";\n+@import \"./components/staffTable\";\n+\n //font-awesome\n @import \"font-awesome\";\n //BootStrap\ndiff --git a/app/assets/stylesheets/pages/_staff.scss b/app/assets/stylesheets/pages/_staff.scss\nindex 2252acd..0efcba8 100644\n--- a/app/assets/stylesheets/pages/_staff.scss\n+++ b/app/assets/stylesheets/pages/_staff.scss\n@@ -42,6 +42,10 @@ html, body {\n     span.logo-mark {\n       font-weight: bold;\n     }\n+    a {\n+      float: right;\n+      margin-left: $wide\n+    }\n   }\n\n   &amp;__footer {\ndiff --git a/app/controllers/staff/accounts_controller.rb b/app/controllers/staff/accounts_controller.rb\nnew file mode 100644\nindex 0000000..4e2ec0f\n--- /dev/null\n+++ b/app/controllers/staff/accounts_controller.rb\n@@ -0,0 +1,5 @@\n+class Staff::AccountsController &lt; Staff::Base\n+  def show\n+    @staff_member = current_staff_member\n+  end\n+end\ndiff --git a/app/views/admin/staff_members/index.html.erb b/app/views/admin/staff_members/index.html.erb\nindex 6551486..69e5487 100644\n--- a/app/views/admin/staff_members/index.html.erb\n+++ b/app/views/admin/staff_members/index.html.erb\n@@ -8,7 +8,7 @@\n     &lt;%= link_to t('.new'), :new_admin_staff_member, class: 'btn btn-default' %&gt;\n   &lt;/div&gt;\n\n-  &lt;table class=\"Table__body Table__body--listing\"&gt;\n+  &lt;table class=\"Table__body Table__body--listing AdminTable__body\"&gt;\n     &lt;tr class=\"Table__tr\"&gt;\n       &lt;th class=\"Table__th\"&gt;&lt;%= t('.full_name') %&gt;&lt;/th&gt;\n       &lt;th class=\"Table__th\"&gt;&lt;%= t('.kana') %&gt;&lt;/th&gt;\n@@ -23,8 +23,8 @@\n           &lt;td class=\"Table__td\"&gt;&lt;%= m.family_name %&gt; &lt;%= m.given_name %&gt;&lt;/td&gt;\n           &lt;td class=\"Table__td\"&gt;&lt;%= m.family_name_kana %&gt; &lt;%= m.given_name_kana %&gt;&lt;/td&gt;\n           &lt;td class=\"Table__td Table__td--email\"&gt;&lt;%= m.email %&gt;&lt;/td&gt;\n-          &lt;td class=\"Table__td Table__td--date\"&gt;&lt;%= m.start_date %&gt;&lt;/td&gt;\n-          &lt;td class=\"Table__td Table__td--date\"&gt;&lt;%= m.end_date %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td Table__td--date Table__td--center\"&gt;&lt;%= m.start_date %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td Table__td--date Table__td--center\"&gt;&lt;%= m.end_date %&gt;&lt;/td&gt;\n           &lt;td class=\"Table__td Table__td--boolean\"&gt;\n             &lt;%= m.suspended? ? raw('&amp;#x2611;') : raw('&amp;#x2610;') %&gt;\n           &lt;/td&gt;\ndiff --git a/app/views/staff/accounts/show.html.erb b/app/views/staff/accounts/show.html.erb\nnew file mode 100644\nindex 0000000..d286219\n--- /dev/null\n+++ b/app/views/staff/accounts/show.html.erb\n@@ -0,0 +1,39 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column Table StaffTable\"&gt;\n+  &lt;div class=\"Table__links\"&gt;\n+    &lt;%= link_to t('.edit'), :edit_staff_account, class: 'btn btn-default' %&gt;\n+  &lt;/div&gt;\n+\n+  &lt;table class=\"Table__body Table__body--attributes StaffTable__body\"&gt;\n+    &lt;tr class=\"Table__tr\"&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.full_name') %&gt;&lt;/th&gt;\n+      &lt;td&gt;\n+        &lt;%= @staff_member.family_name %&gt;\n+        &lt;%= @staff_member.given_name %&gt;\n+      &lt;/td&gt;\n+    &lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.kana') %&gt;&lt;/th&gt;\n+      &lt;td&gt;\n+        &lt;%= @staff_member.family_name_kana %&gt;\n+        &lt;%= @staff_member.given_name_kana %&gt;\n+      &lt;/td&gt;\n+    &lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.email') %&gt;&lt;/th&gt;\n+      &lt;td class=\"Table__td--email\"&gt;\n+        &lt;%= @staff_member.email %&gt;\n+      &lt;/td&gt;\n+    &lt;/tr&gt;\n+    &lt;tr&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.start_date') %&gt;&lt;/th&gt;\n+      &lt;td class=\"Table__td--date\"&gt;\n+        &lt;%= @staff_member.start_date.strftime('%Y/%m/%d') %&gt;\n+      &lt;/td&gt;\n+    &lt;/tr&gt;\n+  &lt;/table&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/shared/_header.html.erb b/app/views/staff/shared/_header.html.erb\nindex 96aa3d6..2661b7d 100644\n--- a/app/views/staff/shared/_header.html.erb\n+++ b/app/views/staff/shared/_header.html.erb\n@@ -22,4 +22,5 @@\n         link_to t('staff.shared.header.login'), :staff_login, class: 'btn btn-default'\n       end\n     %&gt;\n+  &lt;%= link_to t('staff.shared.header.account'), (:staff_account if current_staff_member) , class: 'btn btn-default' %&gt;\n &lt;/header&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 1337f88..ae8bf52 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -4,9 +4,18 @@ ja:\n       header:\n         login: '\u30ed\u30b0\u30a4\u30f3'\n         logout: '\u30ed\u30b0\u30a2\u30a6\u30c8'\n+        account: '\u30a2\u30ab\u30a6\u30f3\u30c8'\n     sessions:\n       new:\n         submit: '\u30ed\u30b0\u30a4\u30f3'\n+    accounts:\n+      show:\n+        title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831'\n+        edit: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u7de8\u96c6'\n+        full_name: '\u6c0f\u540d'\n+        kana: '\u30d5\u30ea\u30ac\u30ca'\n+        email: '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9'\n+        start_date: '\u958b\u59cb\u65e5'\n   admin:\n     shared:\n       header:\n</code></pre>"},{"location":"journal/20170128/#_31","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170128/#dcd8044","title":"\u30b3\u30df\u30c3\u30c8: dcd8044","text":""},{"location":"journal/20170128/#_32","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>400 Bad Request #7\n</code></pre>"},{"location":"journal/20170128/#_33","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/admin/staff_members_controller.rb</li> <li>M app/controllers/concerns/error_handlers.rb</li> <li>A app/views/errors/bad_request.html.erb</li> </ul>"},{"location":"journal/20170128/#_34","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit dcd8044a309b5dab0e339f341e21cddec446fa57\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 28 11:43:38 2017 +0900\n\n    400 Bad Request #7\n\ndiff --git a/README.md b/README.md\nindex c95084c..c453201 100644\n--- a/README.md\n+++ b/README.md\n@@ -429,8 +429,10 @@ git push heroku master\n + destroy\u30a2\u30af\u30b7\u30e7\u30f3\n\n ### String Parameters\n+#### String Parameters\n + \u30de\u30b9\u30a2\u30b5\u30a4\u30f3\u30e1\u30f3\u30c8\u8106\u5f31\u6027\n + \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30c6\u30b9\u30c8\n++ 400 Bad Request\n\n ### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\n ### \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\ndiff --git a/app/controllers/admin/staff_members_controller.rb b/app/controllers/admin/staff_members_controller.rb\nindex eebd532..36c889b 100644\n--- a/app/controllers/admin/staff_members_controller.rb\n+++ b/app/controllers/admin/staff_members_controller.rb\n@@ -45,7 +45,6 @@ class Admin::StaffMembersController &lt; Admin::Base\n   end\n\n   private\n-\n   def staff_member_params\n     params.require(:staff_member).permit(\n                                      :email,\ndiff --git a/app/controllers/concerns/error_handlers.rb b/app/controllers/concerns/error_handlers.rb\nindex b13f356..f0a871a 100644\n--- a/app/controllers/concerns/error_handlers.rb\n+++ b/app/controllers/concerns/error_handlers.rb\n@@ -3,6 +3,7 @@ module ErrorHandlers\n\n   included do\n     rescue_from Exception, with: :rescue500\n+    rescue_from ActionController::ParameterMissing, with: :rescue400\n     rescue_from ApplicationController::Forbidden, with: :rescue403\n     rescue_from ApplicationController::IpAddressRejected, with: :rescue403\n     rescue_from ActionController::RoutingError, with: :rescue404\n@@ -10,6 +11,11 @@ module ErrorHandlers\n   end\n\n   private\n+  def rescue400(e)\n+    @exception = e\n+    render 'errors/bad_request', status: 400\n+  end\n+\n   def rescue404(e)\n     @exception = e\n     render 'errors/not_found', status: 404\ndiff --git a/app/views/errors/bad_request.html.erb b/app/views/errors/bad_request.html.erb\nnew file mode 100644\nindex 0000000..d96a51e\n--- /dev/null\n+++ b/app/views/errors/bad_request.html.erb\n@@ -0,0 +1,4 @@\n+&lt;div class=\"Error__box\"&gt;\n+  &lt;h1&gt;400 Bad Request&lt;/h1&gt;\n+  &lt;p&gt;\u4e0d\u6b63\u306a\u8981\u6c42\u3067\u3059\u3002&lt;/p&gt;\n+&lt;/div&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170128/#_35","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170128/#3ac67eb","title":"\u30b3\u30df\u30c3\u30c8: 3ac67eb","text":""},{"location":"journal/20170128/#_36","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30c6\u30b9\u30c8 #7\n</code></pre>"},{"location":"journal/20170128/#_37","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A spec/controllers/admin/staff_masters_controller_spec.rb</li> </ul>"},{"location":"journal/20170128/#_38","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 3ac67ebaf9040dc8b6087e500c323c7545e271ff\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 28 11:26:15 2017 +0900\n\n    \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30c6\u30b9\u30c8 #7\n\ndiff --git a/README.md b/README.md\nindex 5ef10a0..c95084c 100644\n--- a/README.md\n+++ b/README.md\n@@ -430,6 +430,7 @@ git push heroku master\n\n ### String Parameters\n + \u30de\u30b9\u30a2\u30b5\u30a4\u30f3\u30e1\u30f3\u30c8\u8106\u5f31\u6027\n++ \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30c6\u30b9\u30c8\n\n ### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\n ### \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\ndiff --git a/spec/controllers/admin/staff_masters_controller_spec.rb b/spec/controllers/admin/staff_masters_controller_spec.rb\nnew file mode 100644\nindex 0000000..93f0b30\n--- /dev/null\n+++ b/spec/controllers/admin/staff_masters_controller_spec.rb\n@@ -0,0 +1,40 @@\n+require 'rails_helper'\n+\n+describe Admin::StaffMembersController do\n+  let(:params_hash) { attributes_for(:staff_member) }\n+\n+  describe '#create' do\n+    # \u8077\u54e1\u4e00\u89a7\u30da\u30fc\u30b8\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n+    it 'should redirect to StaffMember index page' do\n+      post :create, staff_member: params_hash\n+      expect(response).to redirect_to(admin_staff_members_url)\n+    end\n+\n+    # \u4f8b\u5916ActionController::ParameterMissing\u304c\u767a\u751f\n+    it 'should raise ActionController::ParameterMissing exception' do\n+      bypass_rescue\n+      expect { post :create}.to raise_error(ActionController::ParameterMissing)\n+    end\n+  end\n+\n+  describe '#update' do\n+    let(:staff_member) { create(:staff_member) }\n+\n+    # suspended\u30d5\u30e9\u30b0\u3092\u30bb\u30c3\u30c8\u3059\u308b\n+    it 'should set suspended flag' do\n+      params_hash.merge!(suspended: true)\n+      patch :update, id: staff_member.id, staff_member: params_hash\n+      staff_member.reload\n+      expect(staff_member).to be_suspended\n+    end\n+\n+    # hashed_password\u306e\u5024\u306f\u66f8\u304d\u63db\u3048\u4e0d\u53ef\n+    it 'should not rewrite hashed_password' do\n+      params_hash.delete(:password)\n+      params_hash.merge!(hashed_password: 'x')\n+      expect {\n+      patch :update, id: staff_member.id, staff_member: params_hash\n+      }.not_to change { staff_member.hashed_password.to_s }\n+    end\n+  end\n+end\n</code></pre>"},{"location":"journal/20170128/#_39","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170128/#53da6b0","title":"\u30b3\u30df\u30c3\u30c8: 53da6b0","text":""},{"location":"journal/20170128/#_40","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30de\u30b9\u30a2\u30b5\u30a4\u30f3\u30e1\u30f3\u30c8\u8106\u5f31\u6027 #7\n</code></pre>"},{"location":"journal/20170128/#_41","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/admin/staff_members_controller.rb</li> <li>M config/application.rb</li> </ul>"},{"location":"journal/20170128/#_42","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 53da6b016ceaa74f41c1496e5227096f7afbcfeb\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 28 10:43:41 2017 +0900\n\n    \u30de\u30b9\u30a2\u30b5\u30a4\u30f3\u30e1\u30f3\u30c8\u8106\u5f31\u6027 #7\n\ndiff --git a/README.md b/README.md\nindex 69a0739..5ef10a0 100644\n--- a/README.md\n+++ b/README.md\n@@ -429,6 +429,8 @@ git push heroku master\n + destroy\u30a2\u30af\u30b7\u30e7\u30f3\n\n ### String Parameters\n++ \u30de\u30b9\u30a2\u30b5\u30a4\u30f3\u30e1\u30f3\u30c8\u8106\u5f31\u6027\n+\n ### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\n ### \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\n ### \u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\ndiff --git a/app/controllers/admin/staff_members_controller.rb b/app/controllers/admin/staff_members_controller.rb\nindex 888d840..eebd532 100644\n--- a/app/controllers/admin/staff_members_controller.rb\n+++ b/app/controllers/admin/staff_members_controller.rb\n@@ -17,7 +17,7 @@ class Admin::StaffMembersController &lt; Admin::Base\n   end\n\n   def create\n-    @staff_member = StaffMember.new(params[:staff_member])\n+    @staff_member = StaffMember.new(staff_member_params)\n     if @staff_member.save\n       flash.notice = t('.flash_success')\n       redirect_to :admin_staff_members\n@@ -28,7 +28,7 @@ class Admin::StaffMembersController &lt; Admin::Base\n\n   def update\n     @staff_member = StaffMember.find(params[:id])\n-    @staff_member.assign_attributes(params[:staff_member])\n+    @staff_member.assign_attributes(staff_member_params)\n     if @staff_member.save\n       flash.notice = t('.flash_success')\n       redirect_to :admin_staff_members\n@@ -43,4 +43,21 @@ class Admin::StaffMembersController &lt; Admin::Base\n     flash.notice = t('.flash_success')\n     redirect_to :admin_staff_members\n   end\n+\n+  private\n+\n+  def staff_member_params\n+    params.require(:staff_member).permit(\n+                                     :email,\n+                                     :password,\n+                                     :family_name,\n+                                     :given_name,\n+                                     :family_name_kana,\n+                                     :given_name_kana,\n+                                     :start_date,\n+                                     :end_date,\n+                                     :suspended\n+    )\n+  end\n+\n end\ndiff --git a/config/application.rb b/config/application.rb\nindex df9f07e..ed333f7 100644\n--- a/config/application.rb\n+++ b/config/application.rb\n@@ -11,6 +11,5 @@ module BaukisKai\n     # Settings in config/environments/* take precedence over those specified here.\n     # Application configuration should go into files in config/initializers\n     # -- all .rb files in that directory are automatically loaded.\n-    config.action_controller.permit_all_parameters = true\n   end\n end\n</code></pre>"},{"location":"journal/20170128/#_43","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170128/#e1379d9","title":"\u30b3\u30df\u30c3\u30c8: e1379d9","text":""},{"location":"journal/20170128/#_44","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u7ba1\u7406\u8005\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u66f4\u65b0\n</code></pre>"},{"location":"journal/20170128/#_45","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/admin/top/index.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170128/#_46","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit e1379d9a274357ffcd526f452c80d7dbf0e2c55e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 28 10:25:37 2017 +0900\n\n    \u7ba1\u7406\u8005\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u66f4\u65b0\n\ndiff --git a/app/views/admin/top/index.html.erb b/app/views/admin/top/index.html.erb\nindex fa3f9a8..fd80f1d 100644\n--- a/app/views/admin/top/index.html.erb\n+++ b/app/views/admin/top/index.html.erb\n@@ -1,4 +1,4 @@\n-&lt;% @title = '\u7ba1\u7406\u8005\u30c8\u30c3\u30d7\u30da\u30fc\u30b8' %&gt;\n+&lt;% @title = t('.title') %&gt;\n &lt;section class=\"Section\"&gt;\n   &lt;h1 class=\"Admin__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n &lt;/section&gt;\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-1-28\"&gt;2017.1.28&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u8077\u54e1\u7ba1\u7406\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-1-21\"&gt;2017.1.21&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex b9dd418..1337f88 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -16,6 +16,8 @@ ja:\n       new:\n         submit: '\u30ed\u30b0\u30a4\u30f3'\n     top:\n+      index:\n+        title: '\u7ba1\u7406\u8005\u30c8\u30c3\u30d7\u30da\u30fc\u30b8'\n       dashboard:\n         title: '\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9'\n         admin_staff_members: '\u8077\u54e1\u7ba1\u7406'\n</code></pre>"},{"location":"journal/20170128/#8ea02f1","title":"\u30b3\u30df\u30c3\u30c8: 8ea02f1","text":""},{"location":"journal/20170128/#_47","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>i18n\u30d5\u30a1\u30a4\u30eb\u540d\u5909\u66f4\n</code></pre>"},{"location":"journal/20170128/#_48","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":""},{"location":"journal/20170128/#_49","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8ea02f191c44b133e7669e2e72ff5aa6f3fe96e1\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 28 10:16:25 2017 +0900\n\n    i18n\u30d5\u30a1\u30a4\u30eb\u540d\u5909\u66f4\n\ndiff --git a/config/locales/models/models.yml b/config/locales/models/ja.yml\nsimilarity index 100%\nrename from config/locales/models/models.yml\nrename to config/locales/models/ja.yml\ndiff --git a/config/locales/views/views.yml b/config/locales/views/ja.yml\nsimilarity index 100%\nrename from config/locales/views/views.yml\nrename to config/locales/views/ja.yml\n</code></pre>"},{"location":"journal/20170128/#0488bd9","title":"\u30b3\u30df\u30c3\u30c8: 0488bd9","text":""},{"location":"journal/20170128/#_50","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\n</code></pre>"},{"location":"journal/20170128/#_51","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/controllers/admin/staff_members_controller.rb</li> <li>A config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170128/#_52","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 0488bd90c14cd231c9e6d8fc7617aedeb5a3bf8c\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 28 10:13:37 2017 +0900\n\n    \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\n\ndiff --git a/app/controllers/admin/staff_members_controller.rb b/app/controllers/admin/staff_members_controller.rb\nindex d8641a6..888d840 100644\n--- a/app/controllers/admin/staff_members_controller.rb\n+++ b/app/controllers/admin/staff_members_controller.rb\n@@ -19,7 +19,7 @@ class Admin::StaffMembersController &lt; Admin::Base\n   def create\n     @staff_member = StaffMember.new(params[:staff_member])\n     if @staff_member.save\n-      flash.notice = '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u65b0\u898f\u767b\u9332\u3057\u307e\u3057\u305f\u3002'\n+      flash.notice = t('.flash_success')\n       redirect_to :admin_staff_members\n     else\n       render action: 'new'\n@@ -30,17 +30,17 @@ class Admin::StaffMembersController &lt; Admin::Base\n     @staff_member = StaffMember.find(params[:id])\n     @staff_member.assign_attributes(params[:staff_member])\n     if @staff_member.save\n-      flash.notice = '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n+      flash.notice = t('.flash_success')\n       redirect_to :admin_staff_members\n     else\n-      redner action: 'edit'\n+      render action: 'edit'\n     end\n   end\n\n   def destroy\n     staff_member = StaffMember.find(params[:id])\n     staff_member.destroy!\n-    flash.notice = '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'\n+    flash.notice = t('.flash_success')\n     redirect_to :admin_staff_members\n   end\n end\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nnew file mode 100644\nindex 0000000..12a95c4\n--- /dev/null\n+++ b/config/locales/controllers/ja.yml\n@@ -0,0 +1,9 @@\n+ja:\n+  admin:\n+    staff_members:\n+      create:\n+        flash_success: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u65b0\u898f\u767b\u9332\u3057\u307e\u3057\u305f\u3002'\n+      update:\n+        flash_success: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n+      destroy:\n+        flash_success: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170128/#_53","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170128/#55014ec","title":"\u30b3\u30df\u30c3\u30c8: 55014ec","text":""},{"location":"journal/20170128/#_54","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6\u30da\u30fc\u30b8\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\n</code></pre>"},{"location":"journal/20170128/#_55","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/admin/staff_members/edit.html.erb</li> <li>M app/views/admin/staff_members/new.html.erb</li> <li>M config/locales/views/views.yml</li> </ul>"},{"location":"journal/20170128/#_56","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 55014ec6110f624762f0bd505df5ad217cfed577\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 28 09:36:55 2017 +0900\n\n    \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6\u30da\u30fc\u30b8\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\n\ndiff --git a/app/views/admin/staff_members/edit.html.erb b/app/views/admin/staff_members/edit.html.erb\nindex 322228d..11700f0 100644\n--- a/app/views/admin/staff_members/edit.html.erb\n+++ b/app/views/admin/staff_members/edit.html.erb\n@@ -1,4 +1,4 @@\n-&lt;% @title = '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u7de8\u96c6' %&gt;\n+&lt;% @title = t('.title') %&gt;\n &lt;section class=\"Section\"&gt;\n   &lt;h1 class=\"Admin__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n &lt;/section&gt;\n@@ -9,8 +9,8 @@\n     &lt;%= bootstrap_form_for [ :admin, @staff_member ] do |f| %&gt;\n         &lt;%= render 'form', f: f %&gt;\n         &lt;div class=\"AppForm__buttons\"&gt;\n-          &lt;%= f.submit '\u66f4\u65b0' %&gt;\n-          &lt;%= link_to '\u30ad\u30e3\u30f3\u30bb\u30eb', :admin_staff_members %&gt;\n+          &lt;%= f.submit t('.update') %&gt;\n+          &lt;%= link_to t('.cancel'), :admin_staff_members %&gt;\n         &lt;/div&gt;\n     &lt;% end %&gt;\n   &lt;/div&gt;\ndiff --git a/app/views/admin/staff_members/new.html.erb b/app/views/admin/staff_members/new.html.erb\nindex bc239e3..06fed3c 100644\n--- a/app/views/admin/staff_members/new.html.erb\n+++ b/app/views/admin/staff_members/new.html.erb\n@@ -9,7 +9,7 @@\n     &lt;%= bootstrap_form_for [ :admin, @staff_member ] do |f| %&gt;\n     &lt;%= render 'form', f: f %&gt;\n         &lt;div class=\"AppForm__buttons\"&gt;\n-          &lt;%= f.submit t('.submit') %&gt;\n+          &lt;%= f.submit t('.create') %&gt;\n           &lt;%= link_to t('.cancel'), :admin_staff_members %&gt;\n         &lt;/div&gt;\n     &lt;% end %&gt;\ndiff --git a/config/locales/views/views.yml b/config/locales/views/views.yml\nindex 08b0516..b9dd418 100644\n--- a/config/locales/views/views.yml\n+++ b/config/locales/views/views.yml\n@@ -35,5 +35,9 @@ ja:\n         confirm: '\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b?'\n       new:\n         title: '\u8077\u54e1\u306e\u65b0\u898f\u767b\u9332'\n-        submit: '\u767b\u9332'\n+        create: '\u767b\u9332'\n+        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n+      edit:\n+        title: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u7de8\u96c6'\n+        update: '\u767b\u9332'\n         cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170128/#89b7e2d","title":"\u30b3\u30df\u30c3\u30c8: 89b7e2d","text":""},{"location":"journal/20170128/#_57","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8077\u54e1\u65b0\u898f\u767b\u9332\u30da\u30fc\u30b8\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\n</code></pre>"},{"location":"journal/20170128/#_58","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/admin/staff_members/new.html.erb</li> <li>M config/locales/views/views.yml</li> </ul>"},{"location":"journal/20170128/#_59","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 89b7e2d9402a6d55937db1664f885321d1ea1bb2\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 28 09:33:24 2017 +0900\n\n    \u8077\u54e1\u65b0\u898f\u767b\u9332\u30da\u30fc\u30b8\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\n\ndiff --git a/app/views/admin/staff_members/new.html.erb b/app/views/admin/staff_members/new.html.erb\nindex 2bfa195..bc239e3 100644\n--- a/app/views/admin/staff_members/new.html.erb\n+++ b/app/views/admin/staff_members/new.html.erb\n@@ -1,4 +1,4 @@\n-&lt;% @title = '\u8077\u54e1\u306e\u65b0\u898f\u767b\u9332' %&gt;\n+&lt;% @title = t('.title') %&gt;\n &lt;section class=\"Section\"&gt;\n   &lt;h1 class=\"Admin__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n &lt;/section&gt;\n@@ -9,8 +9,8 @@\n     &lt;%= bootstrap_form_for [ :admin, @staff_member ] do |f| %&gt;\n     &lt;%= render 'form', f: f %&gt;\n         &lt;div class=\"AppForm__buttons\"&gt;\n-          &lt;%= f.submit '\u767b\u9332' %&gt;\n-          &lt;%= link_to '\u30ad\u30e3\u30f3\u30bb\u30eb', :admin_staff_members %&gt;\n+          &lt;%= f.submit t('.submit') %&gt;\n+          &lt;%= link_to t('.cancel'), :admin_staff_members %&gt;\n         &lt;/div&gt;\n     &lt;% end %&gt;\n   &lt;/div&gt;\ndiff --git a/config/locales/views/views.yml b/config/locales/views/views.yml\nindex fc41fc2..08b0516 100644\n--- a/config/locales/views/views.yml\n+++ b/config/locales/views/views.yml\n@@ -32,4 +32,8 @@ ja:\n         action: '\u30a2\u30af\u30b7\u30e7\u30f3'\n         edit: '\u7de8\u96c6'\n         delete: '\u524a\u9664'\n-        confirm: '\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b?'\n\\ No newline at end of file\n+        confirm: '\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b?'\n+      new:\n+        title: '\u8077\u54e1\u306e\u65b0\u898f\u767b\u9332'\n+        submit: '\u767b\u9332'\n+        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170128/#1ae3165","title":"\u30b3\u30df\u30c3\u30c8: 1ae3165","text":""},{"location":"journal/20170128/#_60","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8077\u54e1\u7ba1\u7406\u30da\u30fc\u30b8\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\n</code></pre>"},{"location":"journal/20170128/#_61","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/stylesheets/components/common/_table.scss</li> <li>M app/views/admin/staff_members/index.html.erb</li> <li>M config/locales/views/views.yml</li> </ul>"},{"location":"journal/20170128/#_62","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 1ae3165bac2d16d5215934031d4620c79577b28c\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 28 09:21:36 2017 +0900\n\n    \u8077\u54e1\u7ba1\u7406\u30da\u30fc\u30b8\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\n\ndiff --git a/app/assets/stylesheets/components/common/_table.scss b/app/assets/stylesheets/components/common/_table.scss\nindex bf7656b..4d7ace1 100644\n--- a/app/assets/stylesheets/components/common/_table.scss\n+++ b/app/assets/stylesheets/components/common/_table.scss\n@@ -18,6 +18,12 @@\n   &amp;__body {\n     margin: $moderate auto 0;\n     border: solid $moderate $very_dark_magenta;\n+\n+    &amp;--listing {\n+      width: 100%;\n+      tr:nth-child(even) { background-color: $very_light_gray }\n+      tr:nth-child(odd) { background-color: $light_gray }\n+    }\n   }\n\n   &amp;__th {\n@@ -27,26 +33,21 @@\n     text-align: center;\n   }\n\n-  &amp;__td { padding: $narrow }\n-\n-  &amp;--email { font-family: monospace }\n-\n-  &amp;--date {\n-    font-family: monospace;\n-    text-align: center;\n-  }\n+  &amp;__td {\n+    padding: $narrow;\n+    &amp;--email { font-family: monospace }\n\n-  &amp;--boolean { text-align: center }\n+    &amp;--date {\n+      font-family: monospace;\n+      text-align: center;\n+    }\n\n-  &amp;--actions {\n-    text-align: center;\n-    color: $dark_gray;\n-  }\n+    &amp;--boolean { text-align: center }\n\n-  &amp;--listing {\n-    width: 100%;\n-    tr:nth-child(even) { background-color: $very_light_gray }\n-    tr:nth-child(odd) { background-color: $light_gray }\n+    &amp;--actions {\n+      text-align: center;\n+      color: $dark_gray;\n+    }\n   }\n }\n\ndiff --git a/app/views/admin/staff_members/index.html.erb b/app/views/admin/staff_members/index.html.erb\nindex 4109326..6551486 100644\n--- a/app/views/admin/staff_members/index.html.erb\n+++ b/app/views/admin/staff_members/index.html.erb\n@@ -1,43 +1,43 @@\n-&lt;% @title = '\u8077\u54e1\u7ba1\u7406' %&gt;\n+&lt;% @title = t('.title') %&gt;\n &lt;section class=\"Section\"&gt;\n   &lt;h1 class=\"Admin__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n &lt;/section&gt;\n\n &lt;section class=\"Section l-column Table\"&gt;\n   &lt;div class=\"Table__links\"&gt;\n-    &lt;%= link_to '\u65b0\u898f\u767b\u9332', :new_admin_staff_member, class: 'btn btn-default' %&gt;\n+    &lt;%= link_to t('.new'), :new_admin_staff_member, class: 'btn btn-default' %&gt;\n   &lt;/div&gt;\n\n-  &lt;table class=\"Table__body Table--listing\"&gt;\n+  &lt;table class=\"Table__body Table__body--listing\"&gt;\n     &lt;tr class=\"Table__tr\"&gt;\n-      &lt;th class=\"Table__th\"&gt;\u6c0f\u540d&lt;/th&gt;\n-      &lt;th class=\"Table__th\"&gt;\u30d5\u30ea\u30ac\u30ca&lt;/th&gt;\n-      &lt;th class=\"Table__th\"&gt;\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9&lt;/th&gt;\n-      &lt;th class=\"Table__th\"&gt;\u958b\u59cb\u65e5&lt;/th&gt;\n-      &lt;th class=\"Table__th\"&gt;\u7d42\u4e86\u65e5&lt;/th&gt;\n-      &lt;th class=\"Table__th\"&gt;\u505c\u6b62\u30d5\u30e9\u30b0&lt;/th&gt;\n-      &lt;th class=\"Table__th\"&gt;\u30a2\u30af\u30b7\u30e7\u30f3&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.full_name') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.kana') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.email') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.start_date') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.end_date') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.suspended') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.action') %&gt;&lt;/th&gt;\n     &lt;/tr&gt;\n     &lt;% @staff_members.each do |m| %&gt;\n         &lt;tr  class=\"Table__tr\"&gt;\n           &lt;td class=\"Table__td\"&gt;&lt;%= m.family_name %&gt; &lt;%= m.given_name %&gt;&lt;/td&gt;\n           &lt;td class=\"Table__td\"&gt;&lt;%= m.family_name_kana %&gt; &lt;%= m.given_name_kana %&gt;&lt;/td&gt;\n-          &lt;td class=\"Table__td Table--email\"&gt;&lt;%= m.email %&gt;&lt;/td&gt;\n-          &lt;td class=\"Table__td Table--date\"&gt;&lt;%= m.start_date %&gt;&lt;/td&gt;\n-          &lt;td class=\"Table__td Table--date\"&gt;&lt;%= m.end_date %&gt;&lt;/td&gt;\n-          &lt;td class=\"Table__td Table--boolean\"&gt;\n+          &lt;td class=\"Table__td Table__td--email\"&gt;&lt;%= m.email %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td Table__td--date\"&gt;&lt;%= m.start_date %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td Table__td--date\"&gt;&lt;%= m.end_date %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td Table__td--boolean\"&gt;\n             &lt;%= m.suspended? ? raw('&amp;#x2611;') : raw('&amp;#x2610;') %&gt;\n           &lt;/td&gt;\n-          &lt;td class=\"Table__td Table--actions\"&gt;\n-            &lt;%= link_to '\u7de8\u96c6', [ :edit, :admin, m ], class: 'btn btn-default btn-xs' %&gt; |\n-            &lt;%= link_to '\u524a\u9664', [ :admin, m ], method: :delete,\n-                        data: { confirm: '\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b?'}, class: 'btn btn-default btn-xs' %&gt;\n+          &lt;td class=\"Table__td Table__td--actions\"&gt;\n+            &lt;%= link_to t('.edit'), [ :edit, :admin, m ], class: 'btn btn-default btn-xs' %&gt; |\n+            &lt;%= link_to t('.delete'), [ :admin, m ], method: :delete,\n+                        data: { confirm: t('.confirm')}, class: 'btn btn-default btn-xs' %&gt;\n           &lt;/td&gt;\n         &lt;/tr&gt;\n     &lt;% end %&gt;\n   &lt;/table&gt;\n\n   &lt;div class=\"Table__links\"&gt;\n-    &lt;%= link_to '\u65b0\u898f\u767b\u9332', :new_admin_staff_member, class: 'btn btn-default' %&gt;\n+    &lt;%= link_to t('.new'), :new_admin_staff_member, class: 'btn btn-default' %&gt;\n   &lt;/div&gt;\n &lt;/section&gt;\ndiff --git a/config/locales/views/views.yml b/config/locales/views/views.yml\nindex e5a5b6e..fc41fc2 100644\n--- a/config/locales/views/views.yml\n+++ b/config/locales/views/views.yml\n@@ -18,4 +18,18 @@ ja:\n     top:\n       dashboard:\n         title: '\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9'\n-        admin_staff_members: '\u8077\u54e1\u7ba1\u7406'\n\\ No newline at end of file\n+        admin_staff_members: '\u8077\u54e1\u7ba1\u7406'\n+    staff_members:\n+      index:\n+        title: '\u8077\u54e1\u7ba1\u7406'\n+        new: '\u65b0\u898f\u767b\u9332'\n+        full_name: '\u6c0f\u540d'\n+        kana: '\u30d5\u30ea\u30ac\u30ca'\n+        email: '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9'\n+        start_date: '\u958b\u59cb\u65e5'\n+        end_date: '\u7d42\u4e86\u65e5'\n+        suspended: '\u505c\u6b62\u30d5\u30e9\u30b0'\n+        action: '\u30a2\u30af\u30b7\u30e7\u30f3'\n+        edit: '\u7de8\u96c6'\n+        delete: '\u524a\u9664'\n+        confirm: '\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b?'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170128/#3d6d6d1","title":"\u30b3\u30df\u30c3\u30c8: 3d6d6d1","text":""},{"location":"journal/20170128/#_63","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>destroy\u30a2\u30af\u30b7\u30e7\u30f3 #6\n</code></pre>"},{"location":"journal/20170128/#_64","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/admin/staff_members_controller.rb</li> </ul>"},{"location":"journal/20170128/#_65","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 3d6d6d10d46dbc317930d550ed7bbf695ed5b0ab\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 28 08:46:34 2017 +0900\n\n    destroy\u30a2\u30af\u30b7\u30e7\u30f3 #6\n\ndiff --git a/README.md b/README.md\nindex 7af501b..69a0739 100644\n--- a/README.md\n+++ b/README.md\n@@ -426,6 +426,7 @@ git push heroku master\n #### \u7ba1\u7406\u8005\u306b\u3088\u308b\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\uff08\u5f8c\u7de8\uff09\n + create\u30a2\u30af\u30b7\u30e7\u30f3\n + update\u30a2\u30af\u30b7\u30e7\u30f3\n++ destroy\u30a2\u30af\u30b7\u30e7\u30f3\n\n ### String Parameters\n ### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\ndiff --git a/app/controllers/admin/staff_members_controller.rb b/app/controllers/admin/staff_members_controller.rb\nindex ee62af1..d8641a6 100644\n--- a/app/controllers/admin/staff_members_controller.rb\n+++ b/app/controllers/admin/staff_members_controller.rb\n@@ -36,4 +36,11 @@ class Admin::StaffMembersController &lt; Admin::Base\n       redner action: 'edit'\n     end\n   end\n+\n+  def destroy\n+    staff_member = StaffMember.find(params[:id])\n+    staff_member.destroy!\n+    flash.notice = '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'\n+    redirect_to :admin_staff_members\n+  end\n end\n</code></pre>"},{"location":"journal/20170128/#_66","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170128/#829f422","title":"\u30b3\u30df\u30c3\u30c8: 829f422","text":""},{"location":"journal/20170128/#_67","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>update\u30a2\u30af\u30b7\u30e7\u30f3 #6\n</code></pre>"},{"location":"journal/20170128/#_68","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/admin/staff_members_controller.rb</li> </ul>"},{"location":"journal/20170128/#_69","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 829f4224bdb29507d40ddedbdbe6063b417e61cc\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 28 08:44:50 2017 +0900\n\n    update\u30a2\u30af\u30b7\u30e7\u30f3 #6\n\ndiff --git a/README.md b/README.md\nindex 928f11e..7af501b 100644\n--- a/README.md\n+++ b/README.md\n@@ -425,6 +425,7 @@ git push heroku master\n\n #### \u7ba1\u7406\u8005\u306b\u3088\u308b\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\uff08\u5f8c\u7de8\uff09\n + create\u30a2\u30af\u30b7\u30e7\u30f3\n++ update\u30a2\u30af\u30b7\u30e7\u30f3\n\n ### String Parameters\n ### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\ndiff --git a/app/controllers/admin/staff_members_controller.rb b/app/controllers/admin/staff_members_controller.rb\nindex bd338e8..ee62af1 100644\n--- a/app/controllers/admin/staff_members_controller.rb\n+++ b/app/controllers/admin/staff_members_controller.rb\n@@ -25,4 +25,15 @@ class Admin::StaffMembersController &lt; Admin::Base\n       render action: 'new'\n     end\n   end\n+\n+  def update\n+    @staff_member = StaffMember.find(params[:id])\n+    @staff_member.assign_attributes(params[:staff_member])\n+    if @staff_member.save\n+      flash.notice = '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n+      redirect_to :admin_staff_members\n+    else\n+      redner action: 'edit'\n+    end\n+  end\n end\n</code></pre>"},{"location":"journal/20170128/#_70","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170128/#4a3809e","title":"\u30b3\u30df\u30c3\u30c8: 4a3809e","text":""},{"location":"journal/20170128/#_71","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>create\u30a2\u30af\u30b7\u30e7\u30f3 #6\n</code></pre>"},{"location":"journal/20170128/#_72","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/admin/staff_members_controller.rb</li> <li>M app/views/admin/staff_members/_form.html.erb</li> <li>M config/application.rb</li> </ul>"},{"location":"journal/20170128/#_73","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 4a3809e8ef72336b47495ed06147f4b6a838efe1\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jan 28 08:41:26 2017 +0900\n\n    create\u30a2\u30af\u30b7\u30e7\u30f3 #6\n\ndiff --git a/README.md b/README.md\nindex b870c87..928f11e 100644\n--- a/README.md\n+++ b/README.md\n@@ -424,6 +424,7 @@ git push heroku master\n + edit\u30a2\u30af\u30b7\u30e7\u30f3\n\n #### \u7ba1\u7406\u8005\u306b\u3088\u308b\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\uff08\u5f8c\u7de8\uff09\n++ create\u30a2\u30af\u30b7\u30e7\u30f3\n\n ### String Parameters\n ### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\ndiff --git a/app/controllers/admin/staff_members_controller.rb b/app/controllers/admin/staff_members_controller.rb\nindex e98c10d..bd338e8 100644\n--- a/app/controllers/admin/staff_members_controller.rb\n+++ b/app/controllers/admin/staff_members_controller.rb\n@@ -15,4 +15,14 @@ class Admin::StaffMembersController &lt; Admin::Base\n   def edit\n     @staff_member = StaffMember.find(params[:id])\n   end\n+\n+  def create\n+    @staff_member = StaffMember.new(params[:staff_member])\n+    if @staff_member.save\n+      flash.notice = '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u65b0\u898f\u767b\u9332\u3057\u307e\u3057\u305f\u3002'\n+      redirect_to :admin_staff_members\n+    else\n+      render action: 'new'\n+    end\n+  end\n end\ndiff --git a/app/views/admin/staff_members/_form.html.erb b/app/views/admin/staff_members/_form.html.erb\nindex 613e220..0bc4fc4 100644\n--- a/app/views/admin/staff_members/_form.html.erb\n+++ b/app/views/admin/staff_members/_form.html.erb\n@@ -8,7 +8,7 @@\n &lt;% if f.object.new_record? %&gt;\n &lt;div&gt;\n   &lt;%= f.label :password, t('activerecord.attributes.staff_member.hashed_password'), class: 'AppForm__label required' %&gt;\n-  &lt;%= f.password_field :pasword, hide_label: true, size:32, required: true %&gt;\n+  &lt;%= f.password_field :password, hide_label: true, size:32, required: true %&gt;\n &lt;/div&gt;\n &lt;% end %&gt;\n &lt;div&gt;\ndiff --git a/config/application.rb b/config/application.rb\nindex ed333f7..df9f07e 100644\n--- a/config/application.rb\n+++ b/config/application.rb\n@@ -11,5 +11,6 @@ module BaukisKai\n     # Settings in config/environments/* take precedence over those specified here.\n     # Application configuration should go into files in config/initializers\n     # -- all .rb files in that directory are automatically loaded.\n+    config.action_controller.permit_all_parameters = true\n   end\n end\n</code></pre>"},{"location":"journal/20170128/#_74","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170130/","title":"\u4f5c\u696d\u5c65\u6b74 2017-01-30","text":""},{"location":"journal/20170130/#_1","title":"\u6982\u8981","text":"<p>2017-01-30\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u65e5\u306f\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u6a5f\u80fd\u306e\u5b9f\u88c5\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u5177\u4f53\u7684\u306b\u306f\u3001\u30ed\u30b0\u30a4\u30f3\u72b6\u614b\u306e\u30c1\u30a7\u30c3\u30af\u3001\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u6709\u52b9\u6027\u30c1\u30a7\u30c3\u30af\u3001\u30bb\u30c3\u30b7\u30e7\u30f3\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306a\u3069\u306e\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170130/#_2","title":"\u95a2\u9023\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9","text":"<ul> <li>S-001: \u8077\u54e1\u30ed\u30b0\u30a4\u30f3 - \u8077\u54e1\u304c\u30b7\u30b9\u30c6\u30e0\u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b</li> <li>S-002: \u8077\u54e1\u30ed\u30b0\u30a2\u30a6\u30c8 - \u8077\u54e1\u304c\u30b7\u30b9\u30c6\u30e0\u304b\u3089\u30ed\u30b0\u30a2\u30a6\u30c8\u3059\u308b</li> <li>A-001: \u7ba1\u7406\u8005\u30ed\u30b0\u30a4\u30f3 - \u7ba1\u7406\u8005\u304c\u30b7\u30b9\u30c6\u30e0\u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b</li> <li>A-002: \u7ba1\u7406\u8005\u30ed\u30b0\u30a2\u30a6\u30c8 - \u7ba1\u7406\u8005\u304c\u30b7\u30b9\u30c6\u30e0\u304b\u3089\u30ed\u30b0\u30a2\u30a6\u30c8\u3059\u308b</li> <li>A-005: \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u505c\u6b62/\u518d\u958b - \u7ba1\u7406\u8005\u304c\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u505c\u6b62\u307e\u305f\u306f\u518d\u958b\u3092\u884c\u3046</li> </ul>"},{"location":"journal/20170130/#_3","title":"\u30b7\u30b9\u30c6\u30e0\u69cb\u6210\u4e0a\u306e\u4f4d\u7f6e\u3065\u3051","text":"<p>\u3053\u306e\u5b9f\u88c5\u306f\u30b7\u30b9\u30c6\u30e0\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5c64\u306b\u95a2\u308f\u308b\u90e8\u5206\u3067\u3042\u308a\u3001\u30b7\u30b9\u30c6\u30e0\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u304a\u3051\u308b\u4ee5\u4e0b\u306e\u90e8\u5206\u306b\u95a2\u9023\u3057\u3066\u3044\u307e\u3059\uff1a</p> <p></p>"},{"location":"journal/20170130/#9537825","title":"\u30b3\u30df\u30c3\u30c8: 9537825","text":""},{"location":"journal/20170130/#_4","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30a2\u30af\u30bb\u30b9\u5236\u5fa1 #8\n</code></pre>"},{"location":"journal/20170130/#_5","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/admin/top/index.html.erb</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170130/#_6","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 953782572a061d800966137307c47695da223312\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 30 19:07:00 2017 +0900\n\n    \u30a2\u30af\u30bb\u30b9\u5236\u5fa1 #8\n\ndiff --git a/app/views/admin/top/index.html.erb b/app/views/admin/top/index.html.erb\nindex fd80f1d..ddaa6df 100644\n--- a/app/views/admin/top/index.html.erb\n+++ b/app/views/admin/top/index.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-1-30\"&gt;2017.1.30&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u5f37\u5316&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-1-28\"&gt;2017.1.28&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u8077\u54e1\u7ba1\u7406\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex 2d675aa..ce5a3b8 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-1-30\"&gt;2017.1.30&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u5f37\u5316&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-1-28\"&gt;2017.1.28&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u7de8\u96c6\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n</code></pre>"},{"location":"journal/20170130/#941f3eb","title":"\u30b3\u30df\u30c3\u30c8: 941f3eb","text":""},{"location":"journal/20170130/#_7","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\n\u30fb\u30e1\u30c3\u30bb\u30fc\u30b8\u62bd\u51fa\n\u30fb\u7ba1\u7406\u8005\u8a8d\u8a3c\u30e1\u30bd\u30c3\u30c9\u4fee\u6b63\n</code></pre>"},{"location":"journal/20170130/#_8","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/controllers/admin/base.rb</li> <li>M app/controllers/admin/sessions_controller.rb</li> <li>M app/controllers/staff/base.rb</li> <li>M app/controllers/staff/sessions_controller.rb</li> <li>M config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170130/#_9","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 941f3eb70b0c5ed7c3eebd7ae21e5a40106eb9b8\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 30 19:04:10 2017 +0900\n\n    \u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\n\n    \u30fb\u30e1\u30c3\u30bb\u30fc\u30b8\u62bd\u51fa\n    \u30fb\u7ba1\u7406\u8005\u8a8d\u8a3c\u30e1\u30bd\u30c3\u30c9\u4fee\u6b63\n\ndiff --git a/app/controllers/admin/base.rb b/app/controllers/admin/base.rb\nindex f7beeb7..65e022f 100644\n--- a/app/controllers/admin/base.rb\n+++ b/app/controllers/admin/base.rb\n@@ -24,7 +24,7 @@ class Admin::Base &lt; ApplicationController\n   def check_account\n     if current_administrator &amp;&amp; !current_administrator.active?\n       session.delete(:administrator_id)\n-      flash.alert = t('admin.base.check_account.flash_alert')\n+      flash.alert = t('common.session.check_account.flash_alert')\n       redirect_to :admin_root\n     end\n   end\n@@ -37,7 +37,7 @@ class Admin::Base &lt; ApplicationController\n         session[:last_access_time] = Time.current\n       else\n         session.delete(:administrator_id)\n-        flash.alert = t('admin.base.check_timeout.flash_alert')\n+        flash.alert = t('common.session.check_timeout.flash_alert')\n         redirect_to :admin_login\n       end\n     end\ndiff --git a/app/controllers/admin/sessions_controller.rb b/app/controllers/admin/sessions_controller.rb\nindex e5c8023..c7458bf 100644\n--- a/app/controllers/admin/sessions_controller.rb\n+++ b/app/controllers/admin/sessions_controller.rb\n@@ -15,25 +15,25 @@ class Admin::SessionsController &lt; Admin::Base\n     if @form.email.present?\n       administrator = Administrator.find_by(email_for_index: @form.email.downcase)\n     end\n-    if administrator\n+    if Admin::Authenticator.new(administrator).authenticate(@form.password)\n       if administrator.suspended?\n-        flash.now.alert = '\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u505c\u6b62\u3055\u308c\u3066\u3044\u307e\u3059\u3002'\n+        flash.now.alert = t('common.session.create.alert_account')\n         render action: 'new'\n       else\n         session[:administrator_id] = administrator.id\n         session[:last_access_time] = Time.current\n-        flash.notice = '\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u305f\u3002'\n+        flash.notice = t('common.session.create.notice')\n         redirect_to :admin_root\n       end\n     else\n-      flash.now.alert = '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u307e\u305f\u306f\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002'\n+      flash.now.alert = t('common.session.create.alert_mail_password')\n       render action: 'new'\n     end\n   end\n\n   def destroy\n     session.delete(:administrator_id)\n-    flash.notice = '\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u307e\u3057\u305f\u3002'\n+    flash.notice = t('common.session.destroy.notice')\n     redirect_to :admin_root\n   end\n\ndiff --git a/app/controllers/staff/base.rb b/app/controllers/staff/base.rb\nindex cbf9a2e..83da20d 100644\n--- a/app/controllers/staff/base.rb\n+++ b/app/controllers/staff/base.rb\n@@ -24,7 +24,7 @@ class Staff::Base &lt; ApplicationController\n   def check_account\n     if current_staff_member &amp;&amp; !current_staff_member.active?\n       session.delete(:staff_member_id)\n-      flash.alert = t('staff.base.check_account.flash_alert')\n+      flash.alert = t('common.session.check_account.flash_alert')\n       redirect_to :staff_root\n     end\n   end\n@@ -37,7 +37,7 @@ class Staff::Base &lt; ApplicationController\n         session[:last_access_time] = Time.current\n       else\n         session.delete(:staff_member_id)\n-        flash.alert = t('staff.base.check_timeout.flash_alert')\n+        flash.alert = t('common.session.check_timeout.flash_alert')\n         redirect_to :staff_login\n       end\n     end\ndiff --git a/app/controllers/staff/sessions_controller.rb b/app/controllers/staff/sessions_controller.rb\nindex ed10795..e08d450 100644\n--- a/app/controllers/staff/sessions_controller.rb\n+++ b/app/controllers/staff/sessions_controller.rb\n@@ -16,19 +16,24 @@ class Staff::SessionsController &lt; Staff::Base\n       staff_member = StaffMember.find_by(email_for_index: @form.email.downcase)\n     end\n     if Staff::Authenticator.new(staff_member).authenticate(@form.password)\n-      session[:staff_member_id] = staff_member.id\n-      session[:last_access_time] = Time.current\n-      flash.notice = '\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u305f\u3002'\n-      redirect_to :staff_root\n+      if staff_member.suspended?\n+        flash.now.alert = t('common.session.create.alert_account')\n+        render action: 'new'\n+      else\n+        session[:staff_member_id] = staff_member.id\n+        session[:last_access_time] = Time.current\n+        flash.notice =  t('common.session.create.notice')\n+        redirect_to :staff_root\n+      end\n     else\n-      flash.now.alert = '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u307e\u305f\u306f\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002'\n+      flash.now.alert = t('common.session.create.alert_mail_password')\n       render action: 'new'\n     end\n   end\n\n   def destroy\n     session.delete(:staff_member_id)\n-    flash.notice = '\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u307e\u3057\u305f\u3002'\n+    flash.notice = t('common.session.destroy.notice')\n     redirect_to :staff_root\n   end\n\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 52eca0b..dd1b88a 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -1,12 +1,20 @@\n ja:\n-  staff:\n-    base:\n-      authrize:\n-        flash_alert: '\u8077\u54e1\u3068\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002'\n+  common:\n+    session:\n+      create:\n+        notice: '\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u305f\u3002'\n+        alert_account: '\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u505c\u6b62\u3055\u308c\u3066\u3044\u307e\u3059\u3002'\n+        alert_mail_password: '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u307e\u305f\u306f\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002'\n+      destroy:\n+        notice: '\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u307e\u3057\u305f\u3002'\n       check_account:\n         flash_alert: '\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u7121\u52b9\u306b\u306a\u308a\u307e\u3057\u305f\u3002'\n       check_timeout:\n         flash_alert: '\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u30bf\u30a4\u30e0\u30fb\u30a2\u30a6\u30c8\u3057\u307e\u3057\u305f\u3002'\n+  staff:\n+    base:\n+      authrize:\n+        flash_alert: '\u8077\u54e1\u3068\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002'\n     accounts:\n       update:\n         flash_success: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n@@ -14,10 +22,6 @@ ja:\n     base:\n       authrize:\n         flash_alert: '\u7ba1\u7406\u8005\u3068\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002'\n-      check_account:\n-        flash_alert: '\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u7121\u52b9\u306b\u306a\u308a\u307e\u3057\u305f\u3002'\n-      check_timeout:\n-        flash_alert: '\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u30bf\u30a4\u30e0\u30fb\u30a2\u30a6\u30c8\u3057\u307e\u3057\u305f\u3002'\n     staff_members:\n       create:\n         flash_success: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u65b0\u898f\u767b\u9332\u3057\u307e\u3057\u305f\u3002'\n</code></pre>"},{"location":"journal/20170130/#_10","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170130/#fe4b9ff","title":"\u30b3\u30df\u30c3\u30c8: fe4b9ff","text":""},{"location":"journal/20170130/#_11","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6f14\u7fd2\u554f\u984c #8\n</code></pre>"},{"location":"journal/20170130/#_12","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/admin/base.rb</li> <li>M app/controllers/admin/sessions_controller.rb</li> <li>M app/models/administrator.rb</li> <li>M config/locales/controllers/ja.yml</li> <li>M spec/controllers/admin/staff_masters_controller_spec.rb</li> </ul>"},{"location":"journal/20170130/#_13","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit fe4b9ffa760eb7149de768b6c1031a75b59515c7\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 30 18:44:24 2017 +0900\n\n    \u6f14\u7fd2\u554f\u984c #8\n\ndiff --git a/README.md b/README.md\nindex bb38db0..ccfb611 100644\n--- a/README.md\n+++ b/README.md\n@@ -458,6 +458,7 @@ git push heroku master\n\n #### \u6f14\u7fd2\u554f\u984c\n + \u30c6\u30b9\u30c8\u4f5c\u6210\n++ \u6a5f\u80fd\u8ffd\u52a0\n\n ### \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\n ### \u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\ndiff --git a/app/controllers/admin/base.rb b/app/controllers/admin/base.rb\nindex 2e2ff20..f7beeb7 100644\n--- a/app/controllers/admin/base.rb\n+++ b/app/controllers/admin/base.rb\n@@ -1,5 +1,7 @@\n class Admin::Base &lt; ApplicationController\n   before_action :authorize\n+  before_action :check_account\n+  before_action :check_timeout\n\n   private\n   def current_administrator\n@@ -18,4 +20,26 @@ class Admin::Base &lt; ApplicationController\n       redirect_to :admin_login\n     end\n   end\n+\n+  def check_account\n+    if current_administrator &amp;&amp; !current_administrator.active?\n+      session.delete(:administrator_id)\n+      flash.alert = t('admin.base.check_account.flash_alert')\n+      redirect_to :admin_root\n+    end\n+  end\n+\n+  TIMEOUT = 60.minutes\n+\n+  def check_timeout\n+    if current_administrator\n+      if session[:last_access_time] &gt;= TIMEOUT.ago\n+        session[:last_access_time] = Time.current\n+      else\n+        session.delete(:administrator_id)\n+        flash.alert = t('admin.base.check_timeout.flash_alert')\n+        redirect_to :admin_login\n+      end\n+    end\n+  end\n end\n\\ No newline at end of file\ndiff --git a/app/controllers/admin/sessions_controller.rb b/app/controllers/admin/sessions_controller.rb\nindex 2e1426b..e5c8023 100644\n--- a/app/controllers/admin/sessions_controller.rb\n+++ b/app/controllers/admin/sessions_controller.rb\n@@ -21,6 +21,7 @@ class Admin::SessionsController &lt; Admin::Base\n         render action: 'new'\n       else\n         session[:administrator_id] = administrator.id\n+        session[:last_access_time] = Time.current\n         flash.notice = '\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u305f\u3002'\n         redirect_to :admin_root\n       end\ndiff --git a/app/models/administrator.rb b/app/models/administrator.rb\nindex 6ddd486..52332d4 100644\n--- a/app/models/administrator.rb\n+++ b/app/models/administrator.rb\n@@ -27,4 +27,8 @@ class Administrator &lt; ApplicationRecord\n       self.hashed_password = nil\n     end\n   end\n+\n+  def active?\n+    !suspended?\n+  end\n end\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex a265c3d..52eca0b 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -14,6 +14,10 @@ ja:\n     base:\n       authrize:\n         flash_alert: '\u7ba1\u7406\u8005\u3068\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002'\n+      check_account:\n+        flash_alert: '\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u7121\u52b9\u306b\u306a\u308a\u307e\u3057\u305f\u3002'\n+      check_timeout:\n+        flash_alert: '\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u30bf\u30a4\u30e0\u30fb\u30a2\u30a6\u30c8\u3057\u307e\u3057\u305f\u3002'\n     staff_members:\n       create:\n         flash_success: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u65b0\u898f\u767b\u9332\u3057\u307e\u3057\u305f\u3002'\ndiff --git a/spec/controllers/admin/staff_masters_controller_spec.rb b/spec/controllers/admin/staff_masters_controller_spec.rb\nindex c2dcde1..5f14598 100644\n--- a/spec/controllers/admin/staff_masters_controller_spec.rb\n+++ b/spec/controllers/admin/staff_masters_controller_spec.rb\n@@ -10,6 +10,7 @@ describe Admin::StaffMembersController do\n\n   before do\n     session[:administrator_id] = administrator.id\n+    session[:last_access_time] = 1.second.ago\n   end\n\n   describe '#create' do\n</code></pre>"},{"location":"journal/20170130/#_14","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170130/#865b53a","title":"\u30b3\u30df\u30c3\u30c8: 865b53a","text":""},{"location":"journal/20170130/#_15","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6f14\u7fd2\u554f\u984c #8\n</code></pre>"},{"location":"journal/20170130/#_16","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A spec/controllers/admin/top_controller_spec.rb</li> </ul>"},{"location":"journal/20170130/#_17","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 865b53ac81ddd2709647c2778c5b20bbeb0fbbdd\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 30 18:31:13 2017 +0900\n\n    \u6f14\u7fd2\u554f\u984c #8\n\ndiff --git a/README.md b/README.md\nindex 9801d2d..bb38db0 100644\n--- a/README.md\n+++ b/README.md\n@@ -457,6 +457,7 @@ git push heroku master\n + \u30bb\u30c3\u30b7\u30e7\u30f3\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306e\u30c6\u30b9\u30c8\n\n #### \u6f14\u7fd2\u554f\u984c\n++ \u30c6\u30b9\u30c8\u4f5c\u6210\n\n ### \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\n ### \u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\ndiff --git a/spec/controllers/admin/top_controller_spec.rb b/spec/controllers/admin/top_controller_spec.rb\nnew file mode 100644\nindex 0000000..ab43961\n--- /dev/null\n+++ b/spec/controllers/admin/top_controller_spec.rb\n@@ -0,0 +1,28 @@\n+require 'rails_helper'\n+\n+describe Admin::TopController, 'Before login' do\n+  let(:administrator) { create(:administrator) }\n+\n+  before do\n+    session[:administrator_id] = administrator.id\n+    session[:last_access_time] = 1.second.ago\n+  end\n+\n+  describe '#index' do\n+    # \u505c\u6b62\u30d5\u30e9\u30b0\u304c\u30bb\u30c3\u30c8\u3055\u308c\u305f\u3089\u5f37\u5236\u7684\u306b\u30ed\u30b0\u30a2\u30a6\u30c8\n+    it 'should forced logout if suspended flag on' do\n+      administrator.update_column(:suspended, true)\n+      get :index\n+      expect(session[:administrator_id]).to be_nil\n+      expect(response).to redirect_to(admin_root_url)\n+    end\n+\n+    # \u30bb\u30c3\u30b7\u30e7\u30f3\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\n+    it 'should session timeout' do\n+      session[:last_access_time] = Admin::Base::TIMEOUT.ago.advance(seconds: -1)\n+      get :index\n+      expect(session[:administrator_id]).to be_nil\n+      expect(response).to redirect_to(admin_login_url)\n+    end\n+  end\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170130/#_18","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170130/#ec9610f","title":"\u30b3\u30df\u30c3\u30c8: ec9610f","text":""},{"location":"journal/20170130/#_19","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30bb\u30c3\u30b7\u30e7\u30f3\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306e\u30c6\u30b9\u30c8 #8\n</code></pre>"},{"location":"journal/20170130/#_20","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M spec/controllers/staff/top_controller_spec.rb</li> </ul>"},{"location":"journal/20170130/#_21","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit ec9610fc1338b2914eb2390c915de427b8a08050\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 30 18:25:09 2017 +0900\n\n    \u30bb\u30c3\u30b7\u30e7\u30f3\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306e\u30c6\u30b9\u30c8 #8\n\ndiff --git a/README.md b/README.md\nindex 4ebdfdb..9801d2d 100644\n--- a/README.md\n+++ b/README.md\n@@ -454,6 +454,7 @@ git push heroku master\n + \u5931\u6557\u3059\u308b\u30a8\u30b0\u30b6\u30f3\u30d7\u30eb\u306e\u4fee\u6b63\n + \u5171\u6709\u30a8\u30b0\u30b6\u30f3\u30d7\u30eb\n + \u5f37\u5236\u30ed\u30b0\u30a2\u30a6\u30c8\u306e\u30c6\u30b9\u30c8\n++ \u30bb\u30c3\u30b7\u30e7\u30f3\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306e\u30c6\u30b9\u30c8\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/spec/controllers/staff/top_controller_spec.rb b/spec/controllers/staff/top_controller_spec.rb\nindex 3c12fe2..8f12e7c 100644\n--- a/spec/controllers/staff/top_controller_spec.rb\n+++ b/spec/controllers/staff/top_controller_spec.rb\n@@ -22,5 +22,13 @@ describe Staff::TopController, 'Before login' do\n       expect(session[:staff_member_id]).to be_nil\n       expect(response).to redirect_to(staff_root_url)\n     end\n+\n+    # \u30bb\u30c3\u30b7\u30e7\u30f3\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\n+    it 'should session timeout' do\n+      session[:last_access_time] = Staff::Base::TIMEOUT.ago.advance(seconds: -1)\n+      get :index\n+      expect(session[:staff_member_id]).to be_nil\n+      expect(response).to redirect_to(staff_login_url)\n+    end\n   end\n end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170130/#_22","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170130/#0193a67","title":"\u30b3\u30df\u30c3\u30c8: 0193a67","text":""},{"location":"journal/20170130/#_23","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u5f37\u5236\u30ed\u30b0\u30a2\u30a6\u30c8\u306e\u30c6\u30b9\u30c8 #8\n</code></pre>"},{"location":"journal/20170130/#_24","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .idea/.rakeTasks</li> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>M README.md</li> <li>M baukis-kai.iml</li> <li>A spec/controllers/staff/top_controller_spec.rb</li> </ul>"},{"location":"journal/20170130/#_25","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 0193a67cb1b661b8452b4e79951d29f8cbf5714c\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 30 18:20:55 2017 +0900\n\n    \u5f37\u5236\u30ed\u30b0\u30a2\u30a6\u30c8\u306e\u30c6\u30b9\u30c8 #8\n\ndiff --git a/.idea/.rakeTasks b/.idea/.rakeTasks\nindex 5b28e63..fdc289b 100644\n--- a/.idea/.rakeTasks\n+++ b/.idea/.rakeTasks\n@@ -4,4 +4,4 @@ You are allowed to:\n 1. Remove rake task\n 2. Add existing rake tasks\n To add existing rake tasks automatically delete this file and reload the project.\n---&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rake\"&gt;&lt;RakeTask description=\"List versions of all Rails frameworks and the environment\" fullCmd=\"about\" taksId=\"about\" /&gt;&lt;RakeTask description=\"Add schema information (as comments) to model and fixture files\" fullCmd=\"annotate_models\" taksId=\"annotate_models\" /&gt;&lt;RakeTask description=\"Adds the route map to routes.rb\" fullCmd=\"annotate_routes\" taksId=\"annotate_routes\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"app\"&gt;&lt;RakeTask description=\"Applies the template supplied by LOCATION=(/path/to/template) or URL\" fullCmd=\"app:template\" taksId=\"template\" /&gt;&lt;RakeTask description=\"Update configs and some other initially generated files (or use just update:configs or update:bin)\" fullCmd=\"app:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:configs\" taksId=\"configs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:upgrade_guide_info\" taksId=\"upgrade_guide_info\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"assets\"&gt;&lt;RakeTask description=\"Remove old compiled assets\" fullCmd=\"assets:clean[keep]\" taksId=\"clean[keep]\" /&gt;&lt;RakeTask description=\"Remove compiled assets\" fullCmd=\"assets:clobber\" taksId=\"clobber\" /&gt;&lt;RakeTask description=\"Load asset compile environment\" fullCmd=\"assets:environment\" taksId=\"environment\" /&gt;&lt;RakeTask description=\"Compile all the assets named in config.assets.precompile\" fullCmd=\"assets:precompile\" taksId=\"precompile\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"assets:clean\" taksId=\"clean\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache_digests\"&gt;&lt;RakeTask description=\"Lookup first-level dependencies for TEMPLATE (like messages/show or comments/_comment.html)\" fullCmd=\"cache_digests:dependencies\" taksId=\"dependencies\" /&gt;&lt;RakeTask description=\"Lookup nested dependencies for TEMPLATE (like messages/show or comments/_comment.html)\" fullCmd=\"cache_digests:nested_dependencies\" taksId=\"nested_dependencies\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"db\"&gt;&lt;RakeTask description=\"Creates the database from DATABASE_URL or config/database.yml for the current RAILS_ENV (use db:create:all to create all databases in the config). Without RAILS_ENV or when RAILS_ENV is development, it defaults to creating the development and test databases\" fullCmd=\"db:create\" taksId=\"create\" /&gt;&lt;RakeTask description=\"Drops the database from DATABASE_URL or config/database.yml for the current RAILS_ENV (use db:drop:all to drop all databases in the config). Without RAILS_ENV or when RAILS_ENV is development, it defaults to dropping the development and test databases\" fullCmd=\"db:drop\" taksId=\"drop\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"environment\"&gt;&lt;RakeTask description=\"Set the environment value for the database\" fullCmd=\"db:environment:set\" taksId=\"set\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"fixtures\"&gt;&lt;RakeTask description=\"Loads fixtures into the current environment's database\" fullCmd=\"db:fixtures:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:fixtures:identify\" taksId=\"identify\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Migrate the database (options: VERSION=x, VERBOSE=false, SCOPE=blog)\" fullCmd=\"db:migrate\" taksId=\"migrate\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"migrate\"&gt;&lt;RakeTask description=\"Display status of migrations\" fullCmd=\"db:migrate:status\" taksId=\"status\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:change\" taksId=\"change\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:down\" taksId=\"down\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:redo\" taksId=\"redo\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:reset\" taksId=\"reset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:up\" taksId=\"up\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Rolls the schema back to the previous version (specify steps w/ STEP=n)\" fullCmd=\"db:rollback\" taksId=\"rollback\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"schema\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"Clears a db/schema_cache.dump file\" fullCmd=\"db:schema:cache:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"Creates a db/schema_cache.dump file\" fullCmd=\"db:schema:cache:dump\" taksId=\"dump\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Creates a db/schema.rb file that is portable against any DB supported by Active Record\" fullCmd=\"db:schema:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"Loads a schema.rb file into the database\" fullCmd=\"db:schema:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:schema:load_if_ruby\" taksId=\"load_if_ruby\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Loads the seed data from db/seeds.rb\" fullCmd=\"db:seed\" taksId=\"seed\" /&gt;&lt;RakeTask description=\"Creates the database, loads the schema, and initializes with the seed data (use db:reset to also drop the database first)\" fullCmd=\"db:setup\" taksId=\"setup\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"structure\"&gt;&lt;RakeTask description=\"Dumps the database structure to db/structure.sql\" fullCmd=\"db:structure:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"Recreates the databases from the structure.sql file\" fullCmd=\"db:structure:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:structure:load_if_sql\" taksId=\"load_if_sql\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Retrieves the current schema version number\" fullCmd=\"db:version\" taksId=\"version\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:_dump\" taksId=\"_dump\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:abort_if_pending_migrations\" taksId=\"abort_if_pending_migrations\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:charset\" taksId=\"charset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:check_protected_environments\" taksId=\"check_protected_environments\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:collation\" taksId=\"collation\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"create\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:create:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"drop\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:_unsafe\" taksId=\"_unsafe\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:forward\" taksId=\"forward\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:load_config\" taksId=\"load_config\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge\" taksId=\"purge\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"purge\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:reset\" taksId=\"reset\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone\" taksId=\"clone\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_schema\" taksId=\"clone_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_structure\" taksId=\"clone_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:deprecated\" taksId=\"deprecated\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_schema\" taksId=\"load_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_structure\" taksId=\"load_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:purge\" taksId=\"purge\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"dev\"&gt;&lt;RakeTask description=\"Toggle development mode caching on/off\" fullCmd=\"dev:cache\" taksId=\"cache\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Generate an Entity-Relationship Diagram based on your models\" fullCmd=\"erd\" taksId=\"erd\" /&gt;&lt;RakeTask description=\"Print out all defined initializers in the order they are invoked by Rails\" fullCmd=\"initializers\" taksId=\"initializers\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"log\"&gt;&lt;RakeTask description=\"Truncates all/specified *.log files in log/ to zero bytes (specify which logs with LOGS=test,development)\" fullCmd=\"log:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Prints out your Rack middleware stack\" fullCmd=\"middleware\" taksId=\"middleware\" /&gt;&lt;RakeTask description=\"Enumerate all annotations (use notes:optimize, :fixme, :todo for focus)\" fullCmd=\"notes\" taksId=\"notes\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"notes\"&gt;&lt;RakeTask description=\"Enumerate a custom annotation, specify with ANNOTATION=CUSTOM\" fullCmd=\"notes:custom\" taksId=\"custom\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:fixme\" taksId=\"fixme\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:optimize\" taksId=\"optimize\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:todo\" taksId=\"todo\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Remove schema information from model and fixture files\" fullCmd=\"remove_annotation\" taksId=\"remove_annotation\" /&gt;&lt;RakeTask description=\"Removes the route map from routes.rb\" fullCmd=\"remove_routes\" taksId=\"remove_routes\" /&gt;&lt;RakeTask description=\"Restart app by touching tmp/restart.txt\" fullCmd=\"restart\" taksId=\"restart\" /&gt;&lt;RakeTask description=\"Print out all defined routes in match order, with names\" fullCmd=\"routes\" taksId=\"routes\" /&gt;&lt;RakeTask description=\"Generate a cryptographically secure secret key (this is typically used to generate a secret for cookie sessions)\" fullCmd=\"secret\" taksId=\"secret\" /&gt;&lt;RakeTask description=\"Run all specs in spec directory (excluding plugin specs)\" fullCmd=\"spec\" taksId=\"spec\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"spec\"&gt;&lt;RakeTask description=\"Run the code examples in spec/models\" fullCmd=\"spec:models\" taksId=\"models\" /&gt;&lt;RakeTask description=\"Run the code examples in spec/services\" fullCmd=\"spec:services\" taksId=\"services\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"spec:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"spec:statsetup\" taksId=\"statsetup\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Report code statistics (KLOCs, etc) from the application or engine\" fullCmd=\"stats\" taksId=\"stats\" /&gt;&lt;RakeTask description=\"Runs all tests in test folder\" fullCmd=\"test\" taksId=\"test\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"Run tests quickly, but also reset db\" fullCmd=\"test:db\" taksId=\"db\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:controllers\" taksId=\"controllers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:functionals\" taksId=\"functionals\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:generators\" taksId=\"generators\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:helpers\" taksId=\"helpers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:integration\" taksId=\"integration\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:jobs\" taksId=\"jobs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:mailers\" taksId=\"mailers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:models\" taksId=\"models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:run\" taksId=\"run\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:units\" taksId=\"units\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"time\"&gt;&lt;RakeTask description=\"List all time zones, list by two-letter country code (`rails time:zones[US]`), or list by UTC offset (`rails time:zones[-8]`)\" fullCmd=\"time:zones[country_or_offset]\" taksId=\"zones[country_or_offset]\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones\" taksId=\"zones\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"zones\"&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:all\" taksId=\"all\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:local\" taksId=\"local\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:us\" taksId=\"us\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"tmp\"&gt;&lt;RakeTask description=\"Clear cache and socket files from tmp/ (narrow w/ tmp:cache:clear, tmp:sockets:clear)\" fullCmd=\"tmp:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"Creates tmp directories for cache, sockets, and pids\" fullCmd=\"tmp:create\" taksId=\"create\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:cache:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"pids\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:pids:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"sockets\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:sockets:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"default\" taksId=\"default\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"environment\" taksId=\"environment\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"erd\"&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:generate\" taksId=\"generate\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:load_models\" taksId=\"load_models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:options\" taksId=\"options\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rails\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:template\" taksId=\"template\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:configs\" taksId=\"configs\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"railties\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"install\"&gt;&lt;RakeTask description=\"\" fullCmd=\"railties:install:migrations\" taksId=\"migrations\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"set_annotation_options\" taksId=\"set_annotation_options\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp\" taksId=\"tmp\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache\" taksId=\"tmp/cache\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache/assets\" taksId=\"tmp/cache/assets\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/pids\" taksId=\"tmp/pids\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/sockets\" taksId=\"tmp/sockets\" /&gt;&lt;/RakeGroup&gt;&lt;/Settings&gt;\n+--&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rake\"&gt;&lt;RakeTask description=\"List versions of all Rails frameworks and the environment\" fullCmd=\"about\" taksId=\"about\" /&gt;&lt;RakeTask description=\"Add schema information (as comments) to model and fixture files\" fullCmd=\"annotate_models\" taksId=\"annotate_models\" /&gt;&lt;RakeTask description=\"Adds the route map to routes.rb\" fullCmd=\"annotate_routes\" taksId=\"annotate_routes\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"app\"&gt;&lt;RakeTask description=\"Applies the template supplied by LOCATION=(/path/to/template) or URL\" fullCmd=\"app:template\" taksId=\"template\" /&gt;&lt;RakeTask description=\"Update configs and some other initially generated files (or use just update:configs or update:bin)\" fullCmd=\"app:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:configs\" taksId=\"configs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:upgrade_guide_info\" taksId=\"upgrade_guide_info\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"assets\"&gt;&lt;RakeTask description=\"Remove old compiled assets\" fullCmd=\"assets:clean[keep]\" taksId=\"clean[keep]\" /&gt;&lt;RakeTask description=\"Remove compiled assets\" fullCmd=\"assets:clobber\" taksId=\"clobber\" /&gt;&lt;RakeTask description=\"Load asset compile environment\" fullCmd=\"assets:environment\" taksId=\"environment\" /&gt;&lt;RakeTask description=\"Compile all the assets named in config.assets.precompile\" fullCmd=\"assets:precompile\" taksId=\"precompile\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"assets:clean\" taksId=\"clean\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache_digests\"&gt;&lt;RakeTask description=\"Lookup first-level dependencies for TEMPLATE (like messages/show or comments/_comment.html)\" fullCmd=\"cache_digests:dependencies\" taksId=\"dependencies\" /&gt;&lt;RakeTask description=\"Lookup nested dependencies for TEMPLATE (like messages/show or comments/_comment.html)\" fullCmd=\"cache_digests:nested_dependencies\" taksId=\"nested_dependencies\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"db\"&gt;&lt;RakeTask description=\"Creates the database from DATABASE_URL or config/database.yml for the current RAILS_ENV (use db:create:all to create all databases in the config). Without RAILS_ENV or when RAILS_ENV is development, it defaults to creating the development and test databases\" fullCmd=\"db:create\" taksId=\"create\" /&gt;&lt;RakeTask description=\"Drops the database from DATABASE_URL or config/database.yml for the current RAILS_ENV (use db:drop:all to drop all databases in the config). Without RAILS_ENV or when RAILS_ENV is development, it defaults to dropping the development and test databases\" fullCmd=\"db:drop\" taksId=\"drop\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"environment\"&gt;&lt;RakeTask description=\"Set the environment value for the database\" fullCmd=\"db:environment:set\" taksId=\"set\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"fixtures\"&gt;&lt;RakeTask description=\"Loads fixtures into the current environment's database\" fullCmd=\"db:fixtures:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:fixtures:identify\" taksId=\"identify\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Migrate the database (options: VERSION=x, VERBOSE=false, SCOPE=blog)\" fullCmd=\"db:migrate\" taksId=\"migrate\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"migrate\"&gt;&lt;RakeTask description=\"Display status of migrations\" fullCmd=\"db:migrate:status\" taksId=\"status\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:change\" taksId=\"change\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:down\" taksId=\"down\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:redo\" taksId=\"redo\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:reset\" taksId=\"reset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:up\" taksId=\"up\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Rolls the schema back to the previous version (specify steps w/ STEP=n)\" fullCmd=\"db:rollback\" taksId=\"rollback\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"schema\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"Clears a db/schema_cache.dump file\" fullCmd=\"db:schema:cache:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"Creates a db/schema_cache.dump file\" fullCmd=\"db:schema:cache:dump\" taksId=\"dump\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Creates a db/schema.rb file that is portable against any DB supported by Active Record\" fullCmd=\"db:schema:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"Loads a schema.rb file into the database\" fullCmd=\"db:schema:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:schema:load_if_ruby\" taksId=\"load_if_ruby\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Loads the seed data from db/seeds.rb\" fullCmd=\"db:seed\" taksId=\"seed\" /&gt;&lt;RakeTask description=\"Creates the database, loads the schema, and initializes with the seed data (use db:reset to also drop the database first)\" fullCmd=\"db:setup\" taksId=\"setup\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"structure\"&gt;&lt;RakeTask description=\"Dumps the database structure to db/structure.sql\" fullCmd=\"db:structure:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"Recreates the databases from the structure.sql file\" fullCmd=\"db:structure:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:structure:load_if_sql\" taksId=\"load_if_sql\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Retrieves the current schema version number\" fullCmd=\"db:version\" taksId=\"version\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:_dump\" taksId=\"_dump\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:abort_if_pending_migrations\" taksId=\"abort_if_pending_migrations\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:charset\" taksId=\"charset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:check_protected_environments\" taksId=\"check_protected_environments\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:collation\" taksId=\"collation\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"create\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:create:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"drop\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:_unsafe\" taksId=\"_unsafe\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:forward\" taksId=\"forward\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:load_config\" taksId=\"load_config\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge\" taksId=\"purge\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"purge\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:reset\" taksId=\"reset\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone\" taksId=\"clone\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_schema\" taksId=\"clone_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_structure\" taksId=\"clone_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:deprecated\" taksId=\"deprecated\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_schema\" taksId=\"load_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_structure\" taksId=\"load_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:purge\" taksId=\"purge\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"dev\"&gt;&lt;RakeTask description=\"Toggle development mode caching on/off\" fullCmd=\"dev:cache\" taksId=\"cache\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Generate an Entity-Relationship Diagram based on your models\" fullCmd=\"erd\" taksId=\"erd\" /&gt;&lt;RakeTask description=\"Print out all defined initializers in the order they are invoked by Rails\" fullCmd=\"initializers\" taksId=\"initializers\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"log\"&gt;&lt;RakeTask description=\"Truncates all/specified *.log files in log/ to zero bytes (specify which logs with LOGS=test,development)\" fullCmd=\"log:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Prints out your Rack middleware stack\" fullCmd=\"middleware\" taksId=\"middleware\" /&gt;&lt;RakeTask description=\"Enumerate all annotations (use notes:optimize, :fixme, :todo for focus)\" fullCmd=\"notes\" taksId=\"notes\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"notes\"&gt;&lt;RakeTask description=\"Enumerate a custom annotation, specify with ANNOTATION=CUSTOM\" fullCmd=\"notes:custom\" taksId=\"custom\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:fixme\" taksId=\"fixme\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:optimize\" taksId=\"optimize\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:todo\" taksId=\"todo\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Remove schema information from model and fixture files\" fullCmd=\"remove_annotation\" taksId=\"remove_annotation\" /&gt;&lt;RakeTask description=\"Removes the route map from routes.rb\" fullCmd=\"remove_routes\" taksId=\"remove_routes\" /&gt;&lt;RakeTask description=\"Restart app by touching tmp/restart.txt\" fullCmd=\"restart\" taksId=\"restart\" /&gt;&lt;RakeTask description=\"Print out all defined routes in match order, with names\" fullCmd=\"routes\" taksId=\"routes\" /&gt;&lt;RakeTask description=\"Generate a cryptographically secure secret key (this is typically used to generate a secret for cookie sessions)\" fullCmd=\"secret\" taksId=\"secret\" /&gt;&lt;RakeTask description=\"Run all specs in spec directory (excluding plugin specs)\" fullCmd=\"spec\" taksId=\"spec\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"spec\"&gt;&lt;RakeTask description=\"Run the code examples in spec/controllers\" fullCmd=\"spec:controllers\" taksId=\"controllers\" /&gt;&lt;RakeTask description=\"Run the code examples in spec/models\" fullCmd=\"spec:models\" taksId=\"models\" /&gt;&lt;RakeTask description=\"Run the code examples in spec/routing\" fullCmd=\"spec:routing\" taksId=\"routing\" /&gt;&lt;RakeTask description=\"Run the code examples in spec/services\" fullCmd=\"spec:services\" taksId=\"services\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"spec:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"spec:statsetup\" taksId=\"statsetup\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Report code statistics (KLOCs, etc) from the application or engine\" fullCmd=\"stats\" taksId=\"stats\" /&gt;&lt;RakeTask description=\"Runs all tests in test folder\" fullCmd=\"test\" taksId=\"test\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"Run tests quickly, but also reset db\" fullCmd=\"test:db\" taksId=\"db\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:controllers\" taksId=\"controllers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:functionals\" taksId=\"functionals\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:generators\" taksId=\"generators\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:helpers\" taksId=\"helpers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:integration\" taksId=\"integration\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:jobs\" taksId=\"jobs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:mailers\" taksId=\"mailers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:models\" taksId=\"models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:run\" taksId=\"run\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:units\" taksId=\"units\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"time\"&gt;&lt;RakeTask description=\"List all time zones, list by two-letter country code (`rails time:zones[US]`), or list by UTC offset (`rails time:zones[-8]`)\" fullCmd=\"time:zones[country_or_offset]\" taksId=\"zones[country_or_offset]\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones\" taksId=\"zones\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"zones\"&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:all\" taksId=\"all\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:local\" taksId=\"local\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:us\" taksId=\"us\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"tmp\"&gt;&lt;RakeTask description=\"Clear cache and socket files from tmp/ (narrow w/ tmp:cache:clear, tmp:sockets:clear)\" fullCmd=\"tmp:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"Creates tmp directories for cache, sockets, and pids\" fullCmd=\"tmp:create\" taksId=\"create\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:cache:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"pids\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:pids:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"sockets\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:sockets:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"default\" taksId=\"default\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"environment\" taksId=\"environment\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"erd\"&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:generate\" taksId=\"generate\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:load_models\" taksId=\"load_models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:options\" taksId=\"options\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rails\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:template\" taksId=\"template\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:configs\" taksId=\"configs\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"railties\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"install\"&gt;&lt;RakeTask description=\"\" fullCmd=\"railties:install:migrations\" taksId=\"migrations\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"set_annotation_options\" taksId=\"set_annotation_options\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp\" taksId=\"tmp\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache\" taksId=\"tmp/cache\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache/assets\" taksId=\"tmp/cache/assets\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/pids\" taksId=\"tmp/pids\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/sockets\" taksId=\"tmp/sockets\" /&gt;&lt;/RakeGroup&gt;&lt;/Settings&gt;\ndiff --git a/Gemfile b/Gemfile\nindex 3ac01ff..e9ca58f 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -75,6 +75,7 @@ group :test do\n   gem 'selenium-webdriver'\n   gem 'shoulda-matchers', '~&gt; 2.6.2'\n   gem 'capybara-screenshot'\n+  gem 'rails-controller-testing'\n end\n\n # Windows does not include zoneinfo files, so bundle the tzinfo-data gem\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex 46d4a3a..9fe802b 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -193,6 +193,10 @@ GEM\n       bundler (&gt;= 1.3.0, &lt; 2.0)\n       railties (= 5.0.1)\n       sprockets-rails (&gt;= 2.0.0)\n+    rails-controller-testing (1.0.1)\n+      actionpack (~&gt; 5.x)\n+      actionview (~&gt; 5.x)\n+      activesupport (~&gt; 5.x)\n     rails-dom-testing (2.0.2)\n       activesupport (&gt;= 4.2.0, &lt; 6.0)\n       nokogiri (~&gt; 1.6)\n@@ -325,6 +329,7 @@ DEPENDENCIES\n   rack-dev-mark\n   rack-livereload\n   rails (~&gt; 5.0.1)\n+  rails-controller-testing\n   rails-erd\n   rails_12factor\n   rspec-rails (~&gt; 3.5)\ndiff --git a/README.md b/README.md\nindex b5ec3a3..4ebdfdb 100644\n--- a/README.md\n+++ b/README.md\n@@ -453,6 +453,7 @@ git push heroku master\n #### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u30c6\u30b9\u30c8\n + \u5931\u6557\u3059\u308b\u30a8\u30b0\u30b6\u30f3\u30d7\u30eb\u306e\u4fee\u6b63\n + \u5171\u6709\u30a8\u30b0\u30b6\u30f3\u30d7\u30eb\n++ \u5f37\u5236\u30ed\u30b0\u30a2\u30a6\u30c8\u306e\u30c6\u30b9\u30c8\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/baukis-kai.iml b/baukis-kai.iml\nindex 7d95f8d..a4ebc0d 100644\n--- a/baukis-kai.iml\n+++ b/baukis-kai.iml\n@@ -105,6 +105,7 @@\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-livereload (v0.3.16, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-test (v0.6.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-controller-testing (v1.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-dom-testing (v2.0.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-erd (v1.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-html-sanitizer (v1.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\ndiff --git a/spec/controllers/staff/top_controller_spec.rb b/spec/controllers/staff/top_controller_spec.rb\nnew file mode 100644\nindex 0000000..3c12fe2\n--- /dev/null\n+++ b/spec/controllers/staff/top_controller_spec.rb\n@@ -0,0 +1,26 @@\n+require 'rails_helper'\n+\n+describe Staff::TopController, 'Before login' do\n+  let(:staff_member) { create(:staff_member) }\n+\n+  before do\n+    session[:staff_member_id] = staff_member.id\n+    session[:last_access_time] = 1.second.ago\n+  end\n+\n+  describe '#index' do\n+    # \u901a\u5e38\u306fstaff/top/index\u3092\u8868\u793a\n+    it 'should display staff/top/index' do\n+      get :index\n+      expect(response).to render_template('staff/top/index')\n+    end\n+\n+    # \u505c\u6b62\u30d5\u30e9\u30b0\u304c\u30bb\u30c3\u30c8\u3055\u308c\u305f\u3089\u5f37\u5236\u7684\u306b\u30ed\u30b0\u30a2\u30a6\u30c8\n+    it 'should forced logout if suspended flag on' do\n+      staff_member.update_column(:suspended, true)\n+      get :index\n+      expect(session[:staff_member_id]).to be_nil\n+      expect(response).to redirect_to(staff_root_url)\n+    end\n+  end\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170130/#_26","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170130/#e7893a3","title":"\u30b3\u30df\u30c3\u30c8: e7893a3","text":""},{"location":"journal/20170130/#_27","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u5171\u6709\u30a8\u30b0\u30b6\u30f3\u30d7\u30eb #8\n</code></pre>"},{"location":"journal/20170130/#_28","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M spec/controllers/admin/staff_masters_controller_spec.rb</li> <li>M spec/controllers/staff/accounts_controller_spec.rb</li> <li>M spec/rails_helper.rb</li> <li>A spec/support/shared_examples_for_admin_controllers.rb</li> <li>A spec/support/shared_examples_for_staff_controllers.rb</li> </ul>"},{"location":"journal/20170130/#_29","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit e7893a36ad63c41890a5aeab3795693fa24e3c36\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 30 18:12:01 2017 +0900\n\n    \u5171\u6709\u30a8\u30b0\u30b6\u30f3\u30d7\u30eb #8\n\ndiff --git a/README.md b/README.md\nindex 2337222..b5ec3a3 100644\n--- a/README.md\n+++ b/README.md\n@@ -452,6 +452,7 @@ git push heroku master\n\n #### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u30c6\u30b9\u30c8\n + \u5931\u6557\u3059\u308b\u30a8\u30b0\u30b6\u30f3\u30d7\u30eb\u306e\u4fee\u6b63\n++ \u5171\u6709\u30a8\u30b0\u30b6\u30f3\u30d7\u30eb\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/spec/controllers/admin/staff_masters_controller_spec.rb b/spec/controllers/admin/staff_masters_controller_spec.rb\nindex 8e2ea4e..c2dcde1 100644\n--- a/spec/controllers/admin/staff_masters_controller_spec.rb\n+++ b/spec/controllers/admin/staff_masters_controller_spec.rb\n@@ -1,5 +1,9 @@\n require 'rails_helper'\n\n+describe Admin::StaffMembersController, 'Before login' do\n+  it_behaves_like 'a protected admin controller'\n+end\n+\n describe Admin::StaffMembersController do\n   let(:params_hash) { attributes_for(:staff_member) }\n   let(:administrator) { create(:administrator) }\ndiff --git a/spec/controllers/staff/accounts_controller_spec.rb b/spec/controllers/staff/accounts_controller_spec.rb\nindex 7b62865..cf7ce64 100644\n--- a/spec/controllers/staff/accounts_controller_spec.rb\n+++ b/spec/controllers/staff/accounts_controller_spec.rb\n@@ -1,5 +1,9 @@\n require 'rails_helper'\n\n+describe Staff::AccountsController, 'Before login' do\n+  it_behaves_like 'a protected singular staff controller'\n+end\n+\n describe Staff::AccountsController do\n   describe '#update' do\n     let(:params_hash) { attributes_for(:staff_member) }\ndiff --git a/spec/rails_helper.rb b/spec/rails_helper.rb\nindex ad9274e..975dc23 100644\n--- a/spec/rails_helper.rb\n+++ b/spec/rails_helper.rb\n@@ -20,7 +20,7 @@ require 'rspec/rails'\n # directory. Alternatively, in the individual `*_spec.rb` files, manually\n # require only the support files necessary.\n #\n-# Dir[Rails.root.join('spec/support/**/*.rb')].each { |f| require f }\n+Dir[Rails.root.join('spec/support/**/*.rb')].each { |f| require f }\n\n # Checks for pending migration and applies them before tests are run.\n # If you are not using ActiveRecord, you can remove this line.\ndiff --git a/spec/support/shared_examples_for_admin_controllers.rb b/spec/support/shared_examples_for_admin_controllers.rb\nnew file mode 100644\nindex 0000000..d788479\n--- /dev/null\n+++ b/spec/support/shared_examples_for_admin_controllers.rb\n@@ -0,0 +1,27 @@\n+shared_examples 'a protected admin controller' do\n+  describe '#index' do\n+    # \u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n+    it 'should redirect to login form' do\n+      get :index\n+      expect(response).to redirect_to(admin_login_url)\n+    end\n+  end\n+\n+  describe '#show' do\n+    # \u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n+    it 'should redirect to login form' do\n+      get :show, id: 1\n+      expect(response).to redirect_to(admin_login_url)\n+    end\n+  end\n+end\n+\n+shared_examples 'a protected singular admin controller' do\n+  describe '#show' do\n+    # \u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n+    it 'should redirect to login form' do\n+      get :show\n+      expect(response).to redirect_to(admin_login_url)\n+    end\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/spec/support/shared_examples_for_staff_controllers.rb b/spec/support/shared_examples_for_staff_controllers.rb\nnew file mode 100644\nindex 0000000..d4c14b8\n--- /dev/null\n+++ b/spec/support/shared_examples_for_staff_controllers.rb\n@@ -0,0 +1,27 @@\n+shared_examples 'a protected staff controller' do\n+  describe '#index' do\n+    # \u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n+    it 'should redirect to login form' do\n+      get :index\n+      expect(response).to redirect_to(staff_login_url)\n+    end\n+  end\n+\n+  describe '#show' do\n+    # \u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n+    it 'should redirect to login form' do\n+      get :show, id: 1\n+      expect(response).to redirect_to(staff_login_url)\n+    end\n+  end\n+end\n+\n+shared_examples 'a protected singular staff controller' do\n+  describe '#show' do\n+    # \u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n+    it 'should redirect to login form' do\n+      get :show\n+      expect(response).to redirect_to(staff_login_url)\n+    end\n+  end\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170130/#_30","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170130/#2a61396","title":"\u30b3\u30df\u30c3\u30c8: 2a61396","text":""},{"location":"journal/20170130/#_31","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u5931\u6557\u3059\u308b\u30a8\u30b0\u30b6\u30f3\u30d7\u30eb\u306e\u4fee\u6b63 #8\n</code></pre>"},{"location":"journal/20170130/#_32","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M spec/controllers/admin/staff_masters_controller_spec.rb</li> <li>M spec/controllers/staff/accounts_controller_spec.rb</li> </ul>"},{"location":"journal/20170130/#_33","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 2a6139653474341d87e9f5ee8a34db111266bbb3\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 30 17:48:56 2017 +0900\n\n    \u5931\u6557\u3059\u308b\u30a8\u30b0\u30b6\u30f3\u30d7\u30eb\u306e\u4fee\u6b63 #8\n\ndiff --git a/README.md b/README.md\nindex a167d60..2337222 100644\n--- a/README.md\n+++ b/README.md\n@@ -451,6 +451,8 @@ git push heroku master\n + \u30bb\u30c3\u30b7\u30e7\u30f3\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\n\n #### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u30c6\u30b9\u30c8\n++ \u5931\u6557\u3059\u308b\u30a8\u30b0\u30b6\u30f3\u30d7\u30eb\u306e\u4fee\u6b63\n+\n #### \u6f14\u7fd2\u554f\u984c\n\n ### \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\ndiff --git a/spec/controllers/admin/staff_masters_controller_spec.rb b/spec/controllers/admin/staff_masters_controller_spec.rb\nindex 93f0b30..8e2ea4e 100644\n--- a/spec/controllers/admin/staff_masters_controller_spec.rb\n+++ b/spec/controllers/admin/staff_masters_controller_spec.rb\n@@ -2,6 +2,11 @@ require 'rails_helper'\n\n describe Admin::StaffMembersController do\n   let(:params_hash) { attributes_for(:staff_member) }\n+  let(:administrator) { create(:administrator) }\n+\n+  before do\n+    session[:administrator_id] = administrator.id\n+  end\n\n   describe '#create' do\n     # \u8077\u54e1\u4e00\u89a7\u30da\u30fc\u30b8\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\ndiff --git a/spec/controllers/staff/accounts_controller_spec.rb b/spec/controllers/staff/accounts_controller_spec.rb\nindex e147715..7b62865 100644\n--- a/spec/controllers/staff/accounts_controller_spec.rb\n+++ b/spec/controllers/staff/accounts_controller_spec.rb\n@@ -7,6 +7,7 @@ describe Staff::AccountsController do\n\n     before do\n       session[:staff_member_id] = staff_member.id\n+      session[:last_access_time] = 1.second.ago\n     end\n\n     # email\u5c5e\u6027\u3092\u5909\u66f4\u3059\u308b\n</code></pre>"},{"location":"journal/20170130/#_34","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170130/#c471ed9","title":"\u30b3\u30df\u30c3\u30c8: c471ed9","text":""},{"location":"journal/20170130/#_35","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30bb\u30c3\u30b7\u30e7\u30f3\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8 #8\n</code></pre>"},{"location":"journal/20170130/#_36","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/controllers/staff/base.rb</li> <li>M config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170130/#_37","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c471ed97700d2694c08fb9aa5011c1fa4175b53d\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 30 17:45:20 2017 +0900\n\n    \u30bb\u30c3\u30b7\u30e7\u30f3\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8 #8\n\ndiff --git a/app/controllers/staff/base.rb b/app/controllers/staff/base.rb\nindex a2d9642..cbf9a2e 100644\n--- a/app/controllers/staff/base.rb\n+++ b/app/controllers/staff/base.rb\n@@ -37,7 +37,7 @@ class Staff::Base &lt; ApplicationController\n         session[:last_access_time] = Time.current\n       else\n         session.delete(:staff_member_id)\n-        flash.alert = '\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u30bf\u30a4\u30e0\u30fb\u30a2\u30a6\u30c8\u3057\u307e\u3057\u305f\u3002'\n+        flash.alert = t('staff.base.check_timeout.flash_alert')\n         redirect_to :staff_login\n       end\n     end\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 0e93353..a265c3d 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -5,6 +5,8 @@ ja:\n         flash_alert: '\u8077\u54e1\u3068\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002'\n       check_account:\n         flash_alert: '\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u7121\u52b9\u306b\u306a\u308a\u307e\u3057\u305f\u3002'\n+      check_timeout:\n+        flash_alert: '\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u30bf\u30a4\u30e0\u30fb\u30a2\u30a6\u30c8\u3057\u307e\u3057\u305f\u3002'\n     accounts:\n       update:\n         flash_success: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n</code></pre>"},{"location":"journal/20170130/#_38","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170130/#9a4010e","title":"\u30b3\u30df\u30c3\u30c8: 9a4010e","text":""},{"location":"journal/20170130/#_39","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30bb\u30c3\u30b7\u30e7\u30f3\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8 #8\n</code></pre>"},{"location":"journal/20170130/#_40","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/base.rb</li> <li>M app/controllers/staff/sessions_controller.rb</li> </ul>"},{"location":"journal/20170130/#_41","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 9a4010e86bd0726c52caa26b3352b511ae95f912\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 30 17:39:36 2017 +0900\n\n    \u30bb\u30c3\u30b7\u30e7\u30f3\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8 #8\n\ndiff --git a/README.md b/README.md\nindex 4718fe2..a167d60 100644\n--- a/README.md\n+++ b/README.md\n@@ -448,6 +448,7 @@ git push heroku master\n\n #### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u5f37\u5316\n + \u5f37\u5236\u7684\u30ed\u30b0\u30a2\u30a6\u30c8\n++ \u30bb\u30c3\u30b7\u30e7\u30f3\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\n\n #### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u30c6\u30b9\u30c8\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/controllers/staff/base.rb b/app/controllers/staff/base.rb\nindex e6f0ac3..a2d9642 100644\n--- a/app/controllers/staff/base.rb\n+++ b/app/controllers/staff/base.rb\n@@ -1,6 +1,7 @@\n class Staff::Base &lt; ApplicationController\n   before_action :authorize\n   before_action :check_account\n+  before_action :check_timeout\n\n   private\n   def current_staff_member\n@@ -27,4 +28,18 @@ class Staff::Base &lt; ApplicationController\n       redirect_to :staff_root\n     end\n   end\n+\n+  TIMEOUT = 60.minutes\n+\n+  def check_timeout\n+    if current_staff_member\n+      if session[:last_access_time] &gt;= TIMEOUT.ago\n+        session[:last_access_time] = Time.current\n+      else\n+        session.delete(:staff_member_id)\n+        flash.alert = '\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u30bf\u30a4\u30e0\u30fb\u30a2\u30a6\u30c8\u3057\u307e\u3057\u305f\u3002'\n+        redirect_to :staff_login\n+      end\n+    end\n+  end\n end\n\\ No newline at end of file\ndiff --git a/app/controllers/staff/sessions_controller.rb b/app/controllers/staff/sessions_controller.rb\nindex c0c9466..ed10795 100644\n--- a/app/controllers/staff/sessions_controller.rb\n+++ b/app/controllers/staff/sessions_controller.rb\n@@ -17,6 +17,7 @@ class Staff::SessionsController &lt; Staff::Base\n     end\n     if Staff::Authenticator.new(staff_member).authenticate(@form.password)\n       session[:staff_member_id] = staff_member.id\n+      session[:last_access_time] = Time.current\n       flash.notice = '\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u305f\u3002'\n       redirect_to :staff_root\n     else\n</code></pre>"},{"location":"journal/20170130/#_42","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170130/#1155db5","title":"\u30b3\u30df\u30c3\u30c8: 1155db5","text":""},{"location":"journal/20170130/#_43","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u5f37\u5236\u7684\u30ed\u30b0\u30a2\u30a6\u30c8 #8\n</code></pre>"},{"location":"journal/20170130/#_44","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/base.rb</li> <li>M app/models/staff_member.rb</li> <li>M config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170130/#_45","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 1155db5d212e7ace27ac8fa1d5885b45e15efe97\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 30 17:31:40 2017 +0900\n\n    \u5f37\u5236\u7684\u30ed\u30b0\u30a2\u30a6\u30c8 #8\n\ndiff --git a/README.md b/README.md\nindex e2e8cfa..4718fe2 100644\n--- a/README.md\n+++ b/README.md\n@@ -447,6 +447,8 @@ git push heroku master\n + \u8077\u54e1\u30da\u30fc\u30b8\u306e\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\n\n #### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u5f37\u5316\n++ \u5f37\u5236\u7684\u30ed\u30b0\u30a2\u30a6\u30c8\n+\n #### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u30c6\u30b9\u30c8\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/controllers/staff/base.rb b/app/controllers/staff/base.rb\nindex 6dd7d73..e6f0ac3 100644\n--- a/app/controllers/staff/base.rb\n+++ b/app/controllers/staff/base.rb\n@@ -1,5 +1,6 @@\n class Staff::Base &lt; ApplicationController\n   before_action :authorize\n+  before_action :check_account\n\n   private\n   def current_staff_member\n@@ -18,4 +19,12 @@ class Staff::Base &lt; ApplicationController\n       redirect_to :staff_login\n     end\n   end\n+\n+  def check_account\n+    if current_staff_member &amp;&amp; !current_staff_member.active?\n+      session.delete(:staff_member_id)\n+      flash.alert = t('staff.base.check_account.flash_alert')\n+      redirect_to :staff_root\n+    end\n+  end\n end\n\\ No newline at end of file\ndiff --git a/app/models/staff_member.rb b/app/models/staff_member.rb\nindex 85c873d..4f85737 100644\n--- a/app/models/staff_member.rb\n+++ b/app/models/staff_member.rb\n@@ -34,4 +34,9 @@ class StaffMember &lt; ApplicationRecord\n       self.hashed_password = nil\n     end\n   end\n+\n+  def active?\n+    !suspended? &amp;&amp; start_date &lt;= Date.today &amp;&amp;\n+        (end_date.nil? || end_date &gt; Date.today)\n+  end\n end\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 05673d5..0e93353 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -3,6 +3,8 @@ ja:\n     base:\n       authrize:\n         flash_alert: '\u8077\u54e1\u3068\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002'\n+      check_account:\n+        flash_alert: '\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u7121\u52b9\u306b\u306a\u308a\u307e\u3057\u305f\u3002'\n     accounts:\n       update:\n         flash_success: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n</code></pre>"},{"location":"journal/20170130/#_46","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170130/#5cb8a9f","title":"\u30b3\u30df\u30c3\u30c8: 5cb8a9f","text":""},{"location":"journal/20170130/#_47","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8077\u54e1\u30da\u30fc\u30b8\u306e\u30a2\u30af\u30bb\u30b9\u5236\u5fa1 #8\n</code></pre>"},{"location":"journal/20170130/#_48","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/base.rb</li> <li>M app/controllers/staff/sessions_controller.rb</li> <li>M app/controllers/staff/top_controller.rb</li> <li>M config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170130/#_49","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 5cb8a9f2dca4a033e2604947ad04322d12507d0e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 30 17:20:44 2017 +0900\n\n    \u8077\u54e1\u30da\u30fc\u30b8\u306e\u30a2\u30af\u30bb\u30b9\u5236\u5fa1 #8\n\ndiff --git a/README.md b/README.md\nindex 380ba3d..e2e8cfa 100644\n--- a/README.md\n+++ b/README.md\n@@ -444,6 +444,7 @@ git push heroku master\n #### before_action\n + \u7ba1\u7406\u8005\u30da\u30fc\u30b8\u306e\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\n + before_action\u306e\u7d99\u627f\n++ \u8077\u54e1\u30da\u30fc\u30b8\u306e\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\n\n #### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u5f37\u5316\n #### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u30c6\u30b9\u30c8\ndiff --git a/app/controllers/staff/base.rb b/app/controllers/staff/base.rb\nindex ecfda96..6dd7d73 100644\n--- a/app/controllers/staff/base.rb\n+++ b/app/controllers/staff/base.rb\n@@ -1,4 +1,6 @@\n class Staff::Base &lt; ApplicationController\n+  before_action :authorize\n+\n   private\n   def current_staff_member\n     if session[:staff_member_id]\n@@ -8,4 +10,12 @@ class Staff::Base &lt; ApplicationController\n   end\n\n   helper_method :current_staff_member\n+\n+  private\n+  def authorize\n+    unless current_staff_member\n+      flash.alert = t('staff.base.authrize.flash_alert')\n+      redirect_to :staff_login\n+    end\n+  end\n end\n\\ No newline at end of file\ndiff --git a/app/controllers/staff/sessions_controller.rb b/app/controllers/staff/sessions_controller.rb\nindex db17793..c0c9466 100644\n--- a/app/controllers/staff/sessions_controller.rb\n+++ b/app/controllers/staff/sessions_controller.rb\n@@ -1,4 +1,6 @@\n class Staff::SessionsController &lt; Staff::Base\n+  skip_before_action :authorize\n+\n   def new\n     if current_staff_member\n       redirect_to :staff_root\ndiff --git a/app/controllers/staff/top_controller.rb b/app/controllers/staff/top_controller.rb\nindex 6645b22..67c8a43 100644\n--- a/app/controllers/staff/top_controller.rb\n+++ b/app/controllers/staff/top_controller.rb\n@@ -1,4 +1,6 @@\n class Staff::TopController &lt; Staff::Base\n+  skip_before_action :authorize\n+\n   def index\n     render action: 'index'\n   end\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex dfbdfde..05673d5 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -1,5 +1,8 @@\n ja:\n   staff:\n+    base:\n+      authrize:\n+        flash_alert: '\u8077\u54e1\u3068\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002'\n     accounts:\n       update:\n         flash_success: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n</code></pre>"},{"location":"journal/20170130/#_50","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170130/#83dba80","title":"\u30b3\u30df\u30c3\u30c8: 83dba80","text":""},{"location":"journal/20170130/#_51","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>before_action\u306e\u7d99\u627f #8\n</code></pre>"},{"location":"journal/20170130/#_52","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/admin/base.rb</li> <li>M app/controllers/admin/sessions_controller.rb</li> <li>M app/controllers/admin/staff_members_controller.rb</li> <li>M app/controllers/admin/top_controller.rb</li> <li>M config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170130/#_53","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 83dba80985fa4b6065cdc3d5d96eb57353650b6f\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 30 17:14:28 2017 +0900\n\n    before_action\u306e\u7d99\u627f #8\n\ndiff --git a/README.md b/README.md\nindex 77a506c..380ba3d 100644\n--- a/README.md\n+++ b/README.md\n@@ -443,6 +443,7 @@ git push heroku master\n ### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\n #### before_action\n + \u7ba1\u7406\u8005\u30da\u30fc\u30b8\u306e\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\n++ before_action\u306e\u7d99\u627f\n\n #### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u5f37\u5316\n #### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u30c6\u30b9\u30c8\ndiff --git a/app/controllers/admin/base.rb b/app/controllers/admin/base.rb\nindex 93ca28f..2e2ff20 100644\n--- a/app/controllers/admin/base.rb\n+++ b/app/controllers/admin/base.rb\n@@ -1,4 +1,6 @@\n class Admin::Base &lt; ApplicationController\n+  before_action :authorize\n+\n   private\n   def current_administrator\n     if session[:administrator_id]\n@@ -8,4 +10,12 @@ class Admin::Base &lt; ApplicationController\n   end\n\n   helper_method :current_administrator\n+\n+  private\n+  def authorize\n+    unless current_administrator\n+      flash.alert = t('admin.base.authrize.flash_alert')\n+      redirect_to :admin_login\n+    end\n+  end\n end\n\\ No newline at end of file\ndiff --git a/app/controllers/admin/sessions_controller.rb b/app/controllers/admin/sessions_controller.rb\nindex dd15b5a..2e1426b 100644\n--- a/app/controllers/admin/sessions_controller.rb\n+++ b/app/controllers/admin/sessions_controller.rb\n@@ -1,4 +1,6 @@\n class Admin::SessionsController &lt; Admin::Base\n+  skip_before_action :authorize\n+\n   def new\n     if current_administrator\n       redirect_to :admin_root\ndiff --git a/app/controllers/admin/staff_members_controller.rb b/app/controllers/admin/staff_members_controller.rb\nindex 0641c91..6cc46bc 100644\n--- a/app/controllers/admin/staff_members_controller.rb\n+++ b/app/controllers/admin/staff_members_controller.rb\n@@ -1,5 +1,4 @@\n class Admin::StaffMembersController &lt; Admin::Base\n-  before_action :authorize\n\n   def index\n     @staff_members = StaffMember.order(:family_name_kana, :given_name_kana)\n@@ -47,13 +46,6 @@ class Admin::StaffMembersController &lt; Admin::Base\n   end\n\n   private\n-  def authorize\n-    unless current_administrator\n-      flash.alert = t('.flash_alert')\n-      redirect_to :admin_login\n-    end\n-  end\n-\n   def staff_member_params\n     params.require(:staff_member).permit(\n                                      :email,\ndiff --git a/app/controllers/admin/top_controller.rb b/app/controllers/admin/top_controller.rb\nindex 82acd05..0a16b2e 100644\n--- a/app/controllers/admin/top_controller.rb\n+++ b/app/controllers/admin/top_controller.rb\n@@ -1,4 +1,6 @@\n class Admin::TopController &lt; Admin::Base\n+  skip_before_action :authorize\n+\n   def index\n     if current_administrator\n       render action: 'dashboard'\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 229b654..dfbdfde 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -4,9 +4,10 @@ ja:\n       update:\n         flash_success: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n   admin:\n-    staff_members:\n-      index:\n+    base:\n+      authrize:\n         flash_alert: '\u7ba1\u7406\u8005\u3068\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002'\n+    staff_members:\n       create:\n         flash_success: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u65b0\u898f\u767b\u9332\u3057\u307e\u3057\u305f\u3002'\n       update:\n</code></pre>"},{"location":"journal/20170130/#_54","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170130/#c9c5f16","title":"\u30b3\u30df\u30c3\u30c8: c9c5f16","text":""},{"location":"journal/20170130/#_55","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u7ba1\u7406\u8005\u30da\u30fc\u30b8\u306e\u30a2\u30af\u30bb\u30b9\u5236\u5fa1 #8\n</code></pre>"},{"location":"journal/20170130/#_56","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/admin/staff_members_controller.rb</li> <li>M config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170130/#_57","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c9c5f167d5812060266894242c5aecd1c5be96d0\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 30 17:07:06 2017 +0900\n\n    \u7ba1\u7406\u8005\u30da\u30fc\u30b8\u306e\u30a2\u30af\u30bb\u30b9\u5236\u5fa1 #8\n\ndiff --git a/README.md b/README.md\nindex ed63b58..77a506c 100644\n--- a/README.md\n+++ b/README.md\n@@ -442,6 +442,8 @@ git push heroku master\n\n ### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\n #### before_action\n++ \u7ba1\u7406\u8005\u30da\u30fc\u30b8\u306e\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\n+\n #### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u5f37\u5316\n #### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u30c6\u30b9\u30c8\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/controllers/admin/staff_members_controller.rb b/app/controllers/admin/staff_members_controller.rb\nindex 36c889b..0641c91 100644\n--- a/app/controllers/admin/staff_members_controller.rb\n+++ b/app/controllers/admin/staff_members_controller.rb\n@@ -1,4 +1,6 @@\n class Admin::StaffMembersController &lt; Admin::Base\n+  before_action :authorize\n+\n   def index\n     @staff_members = StaffMember.order(:family_name_kana, :given_name_kana)\n   end\n@@ -45,6 +47,13 @@ class Admin::StaffMembersController &lt; Admin::Base\n   end\n\n   private\n+  def authorize\n+    unless current_administrator\n+      flash.alert = t('.flash_alert')\n+      redirect_to :admin_login\n+    end\n+  end\n+\n   def staff_member_params\n     params.require(:staff_member).permit(\n                                      :email,\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 974bbfb..229b654 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -5,6 +5,8 @@ ja:\n         flash_success: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n   admin:\n     staff_members:\n+      index:\n+        flash_alert: '\u7ba1\u7406\u8005\u3068\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002'\n       create:\n         flash_success: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u65b0\u898f\u767b\u9332\u3057\u307e\u3057\u305f\u3002'\n       update:\n</code></pre>"},{"location":"journal/20170130/#_58","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170130/#11c20d3","title":"\u30b3\u30df\u30c3\u30c8: 11c20d3","text":""},{"location":"journal/20170130/#_59","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30a2\u30af\u30bb\u30b9\u5236\u5fa1 #8\n</code></pre>"},{"location":"journal/20170130/#_60","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170130/#_61","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 11c20d3004a34c6a122898150ddb5cc743b95add\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jan 30 16:53:45 2017 +0900\n\n    \u30a2\u30af\u30bb\u30b9\u5236\u5fa1 #8\n\ndiff --git a/README.md b/README.md\nindex e6134fc..ed63b58 100644\n--- a/README.md\n+++ b/README.md\n@@ -441,6 +441,11 @@ git push heroku master\n + update\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\n\n ### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\n+#### before_action\n+#### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u5f37\u5316\n+#### \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u30c6\u30b9\u30c8\n+#### \u6f14\u7fd2\u554f\u984c\n+\n ### \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\n ### \u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n ### \u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\n</code></pre>"},{"location":"journal/20170131/","title":"\u4f5c\u696d\u5c65\u6b74 2017-01-31","text":""},{"location":"journal/20170131/#_1","title":"\u6982\u8981","text":"<p>2017-01-31\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u65e5\u306f\u4e3b\u306b\u30e2\u30c7\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u6a5f\u80fd\u306e\u5b9f\u88c5\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u307e\u305f\u3001\u8077\u54e1\u304c\u81ea\u5206\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\u6a5f\u80fd\u3082\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170131/#_2","title":"\u95a2\u9023\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9","text":"<ul> <li>S-003: \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u66f4\u65b0 - \u8077\u54e1\u304c\u81ea\u8eab\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b</li> <li>A-004: \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6 - \u7ba1\u7406\u8005\u304c\u65e2\u5b58\u306e\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u7de8\u96c6\u3059\u308b</li> </ul>"},{"location":"journal/20170131/#_3","title":"\u30b7\u30b9\u30c6\u30e0\u69cb\u6210\u4e0a\u306e\u4f4d\u7f6e\u3065\u3051","text":"<p>\u3053\u306e\u5b9f\u88c5\u306f\u30e2\u30c7\u30eb\u5c64\u306e\u30c7\u30fc\u30bf\u6574\u5408\u6027\u3092\u78ba\u4fdd\u3059\u308b\u305f\u3081\u306e\u91cd\u8981\u306a\u90e8\u5206\u3067\u3042\u308a\u3001\u30b7\u30b9\u30c6\u30e0\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u304a\u3051\u308b\u4ee5\u4e0b\u306e\u90e8\u5206\u306b\u95a2\u9023\u3057\u3066\u3044\u307e\u3059\uff1a</p> <p></p>"},{"location":"journal/20170131/#e6fcb21","title":"\u30b3\u30df\u30c3\u30c8: e6fcb21","text":""},{"location":"journal/20170131/#_4","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8 #10\n</code></pre>"},{"location":"journal/20170131/#_5","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/staff_member.rb</li> <li>M spec/models/staff_member_spec.rb</li> </ul>"},{"location":"journal/20170131/#_6","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit e6fcb219d45a0176fefbd00fb6e837883c7ffb4a\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 31 19:17:37 2017 +0900\n\n    \u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8 #10\n\ndiff --git a/README.md b/README.md\nindex 6ccda17..59a3bb8 100644\n--- a/README.md\n+++ b/README.md\n@@ -493,6 +493,7 @@ git push heroku master\n + \u6c0f\u540d\u3068\u30d5\u30ea\u30ac\u30ca\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n + \u958b\u59cb\u65e5\u3068\u7d42\u4e86\u65e5\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n + \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n++ \u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\n\n #### \u8077\u54e1\u304c\u81ea\u5206\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\u6a5f\u80fd\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/models/staff_member.rb b/app/models/staff_member.rb\nindex 93d6bea..c307f2b 100644\n--- a/app/models/staff_member.rb\n+++ b/app/models/staff_member.rb\n@@ -28,7 +28,8 @@ class StaffMember &lt; ApplicationRecord\n   has_many :events, class_name: 'StaffEvent', dependent: :destroy\n\n   before_validation do\n-    self.email_for_index = normalize_as_email(email)\n+    self.email = normalize_as_email(email)\n+    self.email_for_index = email.downcase if email\n     self.family_name = normalize_as_name(family_name)\n     self.given_name = normalize_as_name(given_name)\n     self.family_name_kana = normalize_as_furigana(family_name_kana)\ndiff --git a/spec/models/staff_member_spec.rb b/spec/models/staff_member_spec.rb\nindex 21f5c12..142b2d4 100644\n--- a/spec/models/staff_member_spec.rb\n+++ b/spec/models/staff_member_spec.rb\n@@ -41,4 +41,65 @@ RSpec.describe StaffMember, type: :model do\n       expect(member.hashed_password).to be_nil\n     end\n   end\n+\n+  describe 'normalization' do\n+    # email\u524d\u5f8c\u306e\u7a7a\u767d\u3092\u9664\u53bb\n+    it 'remove spaces before and after email' do\n+      member = create(:staff_member, email: ' test@example.com')\n+      expect(member.email).to eq('test@example.com')\n+    end\n+\n+    # email\u306b\u542b\u307e\u308c\u308b\u5168\u89d2\u82f1\u6570\u6587\u5b57\u3092\u534a\u89d2\u306b\u5909\u63db\n+    it 'converts full-width alphanumeric characters included in email to half-width characters' do\n+      member = create(:staff_member, email: '\uff54\uff45\uff53\uff54\uff20\uff45\uff58\uff41\uff4d\uff50\uff4c\uff45\uff0e\uff43\uff4f\uff4d')\n+      expect(member.email).to eq('test@example.com')\n+    end\n+\n+    # email\u524d\u5f8c\u306e\u5168\u89d2\u30b9\u30da\u30fc\u30b9\u3092\u9664\u53bb\n+    it 'eliminates double-byte spaces before and after email' do\n+      member = create(:staff_member, email: \"\\u{3000}test@example.com\\u{3000}\")\n+      expect(member.email).to eq('test@example.com')\n+    end\n+\n+    # family_name_kana\u306b\u542b\u307e\u308c\u308b\u3072\u3089\u304c\u306a\u3092\u30ab\u30bf\u30ab\u30ca\u306b\u5909\u63db\n+    it 'converts hiragana contained in family_name_kana to katakana' do\n+      member = create(:staff_member, family_name_kana: '\u3066\u3059\u3068')\n+      expect(member.family_name_kana).to eq('\u30c6\u30b9\u30c8')\n+    end\n+\n+    # family_name_kana\u306b\u542b\u307e\u308c\u308b\u534a\u89d2\u30ab\u30ca\u3092\u5168\u89d2\u30ab\u30ca\u306b\u5909\u63db\n+    it 'convertd Hankaku Kana included in family_name_kana to Full-width Kana' do\n+      member = create(:staff_member, family_name_kana: '\uff83\uff7d\uff84')\n+      expect(member.family_name_kana).to eq('\u30c6\u30b9\u30c8')\n+    end\n+  end\n+\n+  describe 'validation' do\n+    # @\u30922\u500b\u542b\u3080email\u306f\u7121\u52b9\n+    it 'invalid email containing 2 @' do\n+      memeber = build(:staff_member, email: 'test@@example.com')\n+      expect(memeber).not_to be_valid\n+    end\n+\n+    # \u6f22\u5b57\u3092\u542b\u3080family_name_kana\u306f\u7121\u52b9\n+    it 'is invalid which family_name_kana including kanji' do\n+      member = build(:staff_member, family_name_kana: '\u8a66\u9a13')\n+      expect(member).not_to be_valid\n+    end\n+\n+    # \u9577\u97f3\u7b26\u3092\u542b\u3080family_name_kana\u306f\u7121\u52b9\n+    it 'is invalid which family_name_kana including long note' do\n+      member = build(:staff_member, family_name_kana: '\u30a8\u30ea\u30fc')\n+      expect(member).to be_valid\n+    end\n+\n+    # \u4ed6\u306e\u8077\u54e1\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3068\u91cd\u8907\u3057\u305femail\u306f\u7121\u52b9\n+    it 'is invalid email which duplicate email address of other staff' do\n+      member1 = create(:staff_member)\n+      member2 = build(:staff_member, email: member1.email)\n+      expect(member2).not_to be_valid\n+    end\n+\n+\n+  end\n end\n</code></pre>"},{"location":"journal/20170131/#_7","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170131/#ee3cb0d","title":"\u30b3\u30df\u30c3\u30c8: ee3cb0d","text":""},{"location":"journal/20170131/#_8","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3 #10\n</code></pre>"},{"location":"journal/20170131/#_9","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/concerns/string_normalizer.rb</li> <li>M app/models/staff_member.rb</li> </ul>"},{"location":"journal/20170131/#_10","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit ee3cb0d9662c1d08e455fd7e064de791fe21241d\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 31 18:36:30 2017 +0900\n\n    \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3 #10\n\ndiff --git a/README.md b/README.md\nindex 48da51e..6ccda17 100644\n--- a/README.md\n+++ b/README.md\n@@ -492,6 +492,7 @@ git push heroku master\n + \u6e96\u5099\u4f5c\u696d \n + \u6c0f\u540d\u3068\u30d5\u30ea\u30ac\u30ca\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n + \u958b\u59cb\u65e5\u3068\u7d42\u4e86\u65e5\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n++ \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n\n #### \u8077\u54e1\u304c\u81ea\u5206\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\u6a5f\u80fd\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/models/concerns/string_normalizer.rb b/app/models/concerns/string_normalizer.rb\nindex d329c2a..13a558b 100644\n--- a/app/models/concerns/string_normalizer.rb\n+++ b/app/models/concerns/string_normalizer.rb\n@@ -3,6 +3,10 @@ require 'nkf'\n module StringNormalizer\n   extend ActiveSupport::Concern\n\n+  def normalize_as_email(text)\n+    NKF.nkf('-w -Z1', text).strip if text\n+  end\n+\n   def normalize_as_name(text)\n     NKF.nkf('-w -Z1', text).strip if text\n   end\ndiff --git a/app/models/staff_member.rb b/app/models/staff_member.rb\nindex 6488eba..93d6bea 100644\n--- a/app/models/staff_member.rb\n+++ b/app/models/staff_member.rb\n@@ -28,7 +28,7 @@ class StaffMember &lt; ApplicationRecord\n   has_many :events, class_name: 'StaffEvent', dependent: :destroy\n\n   before_validation do\n-    self.email_for_index = email.downcase if email\n+    self.email_for_index = normalize_as_email(email)\n     self.family_name = normalize_as_name(family_name)\n     self.given_name = normalize_as_name(given_name)\n     self.family_name_kana = normalize_as_furigana(family_name_kana)\n@@ -37,6 +37,7 @@ class StaffMember &lt; ApplicationRecord\n\n   KATAKANA_REGEXP = /\\A[\\p{katakana}\\u{30fc}]+\\z/\n\n+  validates :email, presence: true, email: { alllow_blank: true }\n   validates :family_name, :given_name, presence: true\n   validates :family_name_kana, :given_name_kana, presence: true, format: { with: KATAKANA_REGEXP, allow_blank: true }\n   validates :start_date, presence: true, date: {\n@@ -50,6 +51,14 @@ class StaffMember &lt; ApplicationRecord\n       allow_blank: true\n   }\n\n+  validates :email_for_index, uniqueness: { allow_blank: true }\n+  after_validation do\n+    if errors.include?(:email_for_index)\n+      errors.add(:email, :taken)\n+      errors.delete(:email_for_index)\n+    end\n+  end\n+\n   def password=(raw_password)\n     if raw_password.kind_of?(String)\n       self.hashed_password = BCrypt::Password.create(raw_password)\n</code></pre>"},{"location":"journal/20170131/#_11","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170131/#a75dd48","title":"\u30b3\u30df\u30c3\u30c8: a75dd48","text":""},{"location":"journal/20170131/#_12","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u958b\u59cb\u65e5\u3068\u7d42\u4e86\u65e5\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3 #10\n</code></pre>"},{"location":"journal/20170131/#_13","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/staff_member.rb</li> </ul>"},{"location":"journal/20170131/#_14","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit a75dd485e0bf8bd01c8f0f3d99287180a90bcaba\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 31 18:28:54 2017 +0900\n\n    \u958b\u59cb\u65e5\u3068\u7d42\u4e86\u65e5\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3 #10\n\ndiff --git a/README.md b/README.md\nindex 1bbf57b..48da51e 100644\n--- a/README.md\n+++ b/README.md\n@@ -491,6 +491,7 @@ git push heroku master\n + \u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n + \u6e96\u5099\u4f5c\u696d \n + \u6c0f\u540d\u3068\u30d5\u30ea\u30ac\u30ca\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n++ \u958b\u59cb\u65e5\u3068\u7d42\u4e86\u65e5\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n\n #### \u8077\u54e1\u304c\u81ea\u5206\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\u6a5f\u80fd\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/models/staff_member.rb b/app/models/staff_member.rb\nindex b0a18cb..6488eba 100644\n--- a/app/models/staff_member.rb\n+++ b/app/models/staff_member.rb\n@@ -39,6 +39,16 @@ class StaffMember &lt; ApplicationRecord\n\n   validates :family_name, :given_name, presence: true\n   validates :family_name_kana, :given_name_kana, presence: true, format: { with: KATAKANA_REGEXP, allow_blank: true }\n+  validates :start_date, presence: true, date: {\n+      after_or_equal_to: Date.new(2000, 1, 1),\n+      before: -&gt; (obj) { 1.year.from_now.to_date },\n+      allow_blank: true\n+  }\n+  validates :end_date, date: {\n+      after: :start_date,\n+      before: -&gt; (obj) { 1.year.from_now.to_date },\n+      allow_blank: true\n+  }\n\n   def password=(raw_password)\n     if raw_password.kind_of?(String)\n</code></pre>"},{"location":"journal/20170131/#_15","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170131/#368e307","title":"\u30b3\u30df\u30c3\u30c8: 368e307","text":""},{"location":"journal/20170131/#_16","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6c0f\u540d\u3068\u30d5\u30ea\u30ac\u30ca\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3 #10\n</code></pre>"},{"location":"journal/20170131/#_17","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/models/concerns/string_normalizer.rb</li> <li>M app/models/staff_member.rb</li> </ul>"},{"location":"journal/20170131/#_18","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 368e307a026e498e034ff66e4352261c35bbfdc5\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 31 18:11:46 2017 +0900\n\n    \u6c0f\u540d\u3068\u30d5\u30ea\u30ac\u30ca\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3 #10\n\ndiff --git a/README.md b/README.md\nindex 7c275d1..1bbf57b 100644\n--- a/README.md\n+++ b/README.md\n@@ -490,6 +490,7 @@ git push heroku master\n #### \u30e2\u30c7\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n + \u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n + \u6e96\u5099\u4f5c\u696d \n++ \u6c0f\u540d\u3068\u30d5\u30ea\u30ac\u30ca\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n\n #### \u8077\u54e1\u304c\u81ea\u5206\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\u6a5f\u80fd\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/models/concerns/string_normalizer.rb b/app/models/concerns/string_normalizer.rb\nnew file mode 100644\nindex 0000000..d329c2a\n--- /dev/null\n+++ b/app/models/concerns/string_normalizer.rb\n@@ -0,0 +1,13 @@\n+require 'nkf'\n+\n+module StringNormalizer\n+  extend ActiveSupport::Concern\n+\n+  def normalize_as_name(text)\n+    NKF.nkf('-w -Z1', text).strip if text\n+  end\n+\n+  def normalize_as_furigana(text)\n+    NKF.nkf('-w -Z1 --katakana', text).strip if text\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/models/staff_member.rb b/app/models/staff_member.rb\nindex ded6c47..b0a18cb 100644\n--- a/app/models/staff_member.rb\n+++ b/app/models/staff_member.rb\n@@ -23,12 +23,23 @@\n #\n\n class StaffMember &lt; ApplicationRecord\n+  include StringNormalizer\n+\n   has_many :events, class_name: 'StaffEvent', dependent: :destroy\n\n   before_validation do\n     self.email_for_index = email.downcase if email\n+    self.family_name = normalize_as_name(family_name)\n+    self.given_name = normalize_as_name(given_name)\n+    self.family_name_kana = normalize_as_furigana(family_name_kana)\n+    self.given_name_kana = normalize_as_furigana(given_name_kana)\n   end\n\n+  KATAKANA_REGEXP = /\\A[\\p{katakana}\\u{30fc}]+\\z/\n+\n+  validates :family_name, :given_name, presence: true\n+  validates :family_name_kana, :given_name_kana, presence: true, format: { with: KATAKANA_REGEXP, allow_blank: true }\n+\n   def password=(raw_password)\n     if raw_password.kind_of?(String)\n       self.hashed_password = BCrypt::Password.create(raw_password)\n</code></pre>"},{"location":"journal/20170131/#_19","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170131/#5dc3b39","title":"\u30b3\u30df\u30c3\u30c8: 5dc3b39","text":""},{"location":"journal/20170131/#_20","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6e96\u5099\u4f5c\u696d  #10\n</code></pre>"},{"location":"journal/20170131/#_21","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>M README.md</li> <li>M app/assets/stylesheets/components/_appForm.scss</li> <li>M baukis-kai.iml</li> </ul>"},{"location":"journal/20170131/#_22","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 5dc3b39a66fa2f36f8304bfa0100748b63112d8e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 31 17:57:06 2017 +0900\n\n    \u6e96\u5099\u4f5c\u696d  #10\n\ndiff --git a/Gemfile b/Gemfile\nindex 11ab6c0..3589aa0 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -88,4 +88,6 @@ gem 'enum_help'\n gem 'bootstrap-sass', '~&gt; 3.3.6'\n gem 'bootstrap_form'\n gem 'dotenv-rails'\n-gem 'kaminari', '~&gt; 0.17.0'\n\\ No newline at end of file\n+gem 'kaminari', '~&gt; 0.17.0'\n+gem 'date_validator', '~&gt; 0.9.0'\n+gem 'email_validator', '~&gt; 1.6'\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex 45b3333..5196c22 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -84,6 +84,9 @@ GEM\n     coffee-script-source (1.12.2)\n     concurrent-ruby (1.0.4)\n     database_cleaner (1.3.0)\n+    date_validator (0.9.0)\n+      activemodel\n+      activesupport\n     debase (0.2.1)\n       debase-ruby_core_source\n     debase-ruby_core_source (0.9.6)\n@@ -96,6 +99,8 @@ GEM\n     em-websocket (0.5.1)\n       eventmachine (&gt;= 0.12.9)\n       http_parser.rb (~&gt; 0.6.0)\n+    email_validator (1.6.0)\n+      activemodel\n     enum_help (0.0.16)\n     erubis (2.7.0)\n     eventmachine (1.2.1)\n@@ -313,8 +318,10 @@ DEPENDENCIES\n   capybara-webkit\n   coffee-rails (~&gt; 4.2)\n   database_cleaner (~&gt; 1.3.0)\n+  date_validator (~&gt; 0.9.0)\n   debase\n   dotenv-rails\n+  email_validator (~&gt; 1.6)\n   enum_help\n   factory_girl_rails\n   faker (~&gt; 1.4.3)\ndiff --git a/README.md b/README.md\nindex 8f91fc6..7c275d1 100644\n--- a/README.md\n+++ b/README.md\n@@ -488,6 +488,9 @@ git push heroku master\n\n ### \u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n #### \u30e2\u30c7\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n++ \u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n++ \u6e96\u5099\u4f5c\u696d \n+\n #### \u8077\u54e1\u304c\u81ea\u5206\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\u6a5f\u80fd\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/assets/stylesheets/components/_appForm.scss b/app/assets/stylesheets/components/_appForm.scss\nindex a6b23f4..98aa757 100644\n--- a/app/assets/stylesheets/components/_appForm.scss\n+++ b/app/assets/stylesheets/components/_appForm.scss\n@@ -37,4 +37,10 @@\n       padding: $wide $very_wide;\n     }\n   }\n+  &amp;--field_with_errors {\n+    display: inline;\n+    padding: 0;\n+    label { color: $red }\n+    input { background-color: $pink }\n+  }\n }\n\\ No newline at end of file\ndiff --git a/baukis-kai.iml b/baukis-kai.iml\nindex 441757e..9b5fa5f 100644\n--- a/baukis-kai.iml\n+++ b/baukis-kai.iml\n@@ -53,6 +53,7 @@\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script-source (v1.12.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"concurrent-ruby (v1.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"database_cleaner (v1.3.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"date_validator (v0.9.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase (v0.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase-ruby_core_source (v0.9.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debug_inspector (v0.0.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n@@ -60,6 +61,7 @@\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"dotenv (v2.1.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"dotenv-rails (v2.1.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"em-websocket (v0.5.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"email_validator (v1.6.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"enum_help (v0.0.16, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"erubis (v2.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"eventmachine (v1.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n</code></pre>"},{"location":"journal/20170131/#e5cf080","title":"\u30b3\u30df\u30c3\u30c8: e5cf080","text":""},{"location":"journal/20170131/#_23","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3 #10\n</code></pre>"},{"location":"journal/20170131/#_24","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170131/#_25","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit e5cf080a5fae2bb42e346edc8294210810f73370\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 31 17:49:14 2017 +0900\n\n    \u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3 #10\n\ndiff --git a/README.md b/README.md\nindex 814b44f..8f91fc6 100644\n--- a/README.md\n+++ b/README.md\n@@ -487,6 +487,10 @@ git push heroku master\n #### \u6f14\u7fd2\u554f\u984c\n\n ### \u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n+#### \u30e2\u30c7\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n+#### \u8077\u54e1\u304c\u81ea\u5206\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\u6a5f\u80fd\n+#### \u6f14\u7fd2\u554f\u984c\n+\n ### \u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\n ### jQuery\u3068CoffeeScript\n ### \u5358\u4e00\u30c6\u30fc\u30d6\u7d99\u627f\n</code></pre>"},{"location":"journal/20170131/#ee708f3","title":"\u30b3\u30df\u30c3\u30c8: ee708f3","text":""},{"location":"journal/20170131/#_26","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051 #9\n</code></pre>"},{"location":"journal/20170131/#_27","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/admin/top/index.html.erb</li> </ul>"},{"location":"journal/20170131/#_28","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit ee708f3992a03c8187418abfbf032307004977a6\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 31 17:11:34 2017 +0900\n\n    \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051 #9\n\ndiff --git a/app/views/admin/top/index.html.erb b/app/views/admin/top/index.html.erb\nindex ddaa6df..42c1b9f 100644\n--- a/app/views/admin/top/index.html.erb\n+++ b/app/views/admin/top/index.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-1-31\"&gt;2017.1.31&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-1-30\"&gt;2017.1.30&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u5f37\u5316&lt;/span&gt;\n</code></pre>"},{"location":"journal/20170131/#f120454","title":"\u30b3\u30df\u30c3\u30c8: f120454","text":""},{"location":"journal/20170131/#_29","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6f14\u7fd2\u554f\u984c #9\n</code></pre>"},{"location":"journal/20170131/#_30","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/controllers/admin/staff_members_controller.rb</li> <li>M app/views/admin/staff_members/index.html.erb</li> </ul>"},{"location":"journal/20170131/#_31","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit f1204547411ef909594b7dba49533a5aaa0df75d\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 31 17:08:03 2017 +0900\n\n    \u6f14\u7fd2\u554f\u984c #9\n\ndiff --git a/app/controllers/admin/staff_members_controller.rb b/app/controllers/admin/staff_members_controller.rb\nindex 6cc46bc..1855b32 100644\n--- a/app/controllers/admin/staff_members_controller.rb\n+++ b/app/controllers/admin/staff_members_controller.rb\n@@ -1,7 +1,7 @@\n class Admin::StaffMembersController &lt; Admin::Base\n\n   def index\n-    @staff_members = StaffMember.order(:family_name_kana, :given_name_kana)\n+    @staff_members = StaffMember.order(:family_name_kana, :given_name_kana).page(params[:page])\n   end\n\n   def show\ndiff --git a/app/views/admin/staff_members/index.html.erb b/app/views/admin/staff_members/index.html.erb\nindex d8bf10e..e5fd15b 100644\n--- a/app/views/admin/staff_members/index.html.erb\n+++ b/app/views/admin/staff_members/index.html.erb\n@@ -8,6 +8,8 @@\n     &lt;%= link_to t('.new'), :new_admin_staff_member, class: 'btn btn-default' %&gt;\n   &lt;/div&gt;\n\n+  &lt;%= paginate @staff_members %&gt;\n+\n   &lt;table class=\"Table__body Table__body--listing AdminTable__body\"&gt;\n     &lt;tr class=\"Table__tr\"&gt;\n       &lt;th class=\"Table__th\"&gt;&lt;%= t('.full_name') %&gt;&lt;/th&gt;\n@@ -38,6 +40,8 @@\n     &lt;% end %&gt;\n   &lt;/table&gt;\n\n+  &lt;%= paginate @staff_members %&gt;\n+\n   &lt;div class=\"Table__links\"&gt;\n     &lt;%= link_to t('.new'), :new_admin_staff_member, class: 'btn btn-default' %&gt;\n   &lt;/div&gt;\n</code></pre>"},{"location":"journal/20170131/#_32","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170131/#235d645","title":"\u30b3\u30df\u30c3\u30c8: 235d645","text":""},{"location":"journal/20170131/#_33","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0 #9\n</code></pre>"},{"location":"journal/20170131/#_34","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/admin/staff_events_controller.rb</li> </ul>"},{"location":"journal/20170131/#_35","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 235d6459e74726c088f14b3dfbb460a2d729312e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 31 17:03:25 2017 +0900\n\n    \u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0 #9\n\ndiff --git a/README.md b/README.md\nindex 8897fa3..814b44f 100644\n--- a/README.md\n+++ b/README.md\n@@ -482,6 +482,7 @@ git push heroku master\n + Gem\u30d1\u30c3\u30b1\u30fc\u30b8quiet_assets\n + N+1\u554f\u984c\u3068\u306f\n + include\u30e1\u30bd\u30c3\u30c9\n++ \u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/controllers/admin/staff_events_controller.rb b/app/controllers/admin/staff_events_controller.rb\nindex 663ef31..39ae2f6 100644\n--- a/app/controllers/admin/staff_events_controller.rb\n+++ b/app/controllers/admin/staff_events_controller.rb\n@@ -2,11 +2,10 @@ class Admin::StaffEventsController &lt; Admin::Base\n   def index\n     if params[:staff_member_id]\n       @staff_member = StaffMember.find(params[:staff_member_id])\n-      @events = @staff_member.events.order(occurred_at: :desc)\n+      @events = @staff_member.events\n     else\n-      @events = StaffEvent.order(occurred_at: :desc)\n+      @events = StaffEvent\n     end\n-    @events = @events.includes(:member)\n-    @events = @events.page(params[:page])\n+    @events = @events.order(occurred_at: :desc).includes(:member).page(params[:page])\n   end\n end\n</code></pre>"},{"location":"journal/20170131/#_36","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170131/#5e1920e","title":"\u30b3\u30df\u30c3\u30c8: 5e1920e","text":""},{"location":"journal/20170131/#_37","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>include\u30e1\u30bd\u30c3\u30c9 #9\n</code></pre>"},{"location":"journal/20170131/#_38","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/admin/staff_events_controller.rb</li> </ul>"},{"location":"journal/20170131/#_39","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 5e1920ec0125985373910e8ccdd9491879173344\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 31 16:56:30 2017 +0900\n\n    include\u30e1\u30bd\u30c3\u30c9 #9\n\ndiff --git a/README.md b/README.md\nindex b4834c4..8897fa3 100644\n--- a/README.md\n+++ b/README.md\n@@ -479,6 +479,10 @@ git push heroku master\n + \u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\n\n #### N + 1\u554f\u984c\n++ Gem\u30d1\u30c3\u30b1\u30fc\u30b8quiet_assets\n++ N+1\u554f\u984c\u3068\u306f\n++ include\u30e1\u30bd\u30c3\u30c9\n+\n #### \u6f14\u7fd2\u554f\u984c\n\n ### \u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\ndiff --git a/app/controllers/admin/staff_events_controller.rb b/app/controllers/admin/staff_events_controller.rb\nindex ea08a31..663ef31 100644\n--- a/app/controllers/admin/staff_events_controller.rb\n+++ b/app/controllers/admin/staff_events_controller.rb\n@@ -6,6 +6,7 @@ class Admin::StaffEventsController &lt; Admin::Base\n     else\n       @events = StaffEvent.order(occurred_at: :desc)\n     end\n+    @events = @events.includes(:member)\n     @events = @events.page(params[:page])\n   end\n end\n</code></pre>"},{"location":"journal/20170131/#_40","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170131/#4b450a6","title":"\u30b3\u30df\u30c3\u30c8: 4b450a6","text":""},{"location":"journal/20170131/#_41","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba #9\n</code></pre>"},{"location":"journal/20170131/#_42","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/assets/stylesheets/components/parts/_pagination.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/views/kaminari/_first_page.html.erb</li> <li>M app/views/kaminari/_last_page.html.erb</li> <li>M app/views/kaminari/_next_page.html.erb</li> <li>M app/views/kaminari/_paginator.html.erb</li> </ul>"},{"location":"journal/20170131/#_43","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 4b450a66f1a9f5a2fa98cc079ceeb6284ea3c8bf\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 31 16:47:06 2017 +0900\n\n    \u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba #9\n\ndiff --git a/README.md b/README.md\nindex f8856c7..b4834c4 100644\n--- a/README.md\n+++ b/README.md\n@@ -476,6 +476,7 @@ git push heroku master\n + Gem\u30d1\u30c3\u30b1\u30fc\u30b8kaminari\n + index\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u4fee\u6b63\n + ERB\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4fee\u6b63\n++ \u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\n\n #### N + 1\u554f\u984c\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/assets/stylesheets/components/parts/_pagination.scss b/app/assets/stylesheets/components/parts/_pagination.scss\nnew file mode 100644\nindex 0000000..0305694\n--- /dev/null\n+++ b/app/assets/stylesheets/components/parts/_pagination.scss\n@@ -0,0 +1,24 @@\n+nav.pagination {\n+  margin: $moderate 0;\n+  padding: $moderate 0;\n+  display: inline-block;\n+  border-top: solid $very_light_gray 1px;\n+  border-bottom: solid $very_light_gray 1px;\n+  span.page, span.first, span.prev, span.next, span.last {\n+    display: inline-block;\n+    background-color: $light_gray;\n+    padding: $narrow $moderate;\n+    a {\n+      text-decoration: none;\n+    }\n+  }\n+  span.current {\n+    background-color: $dark_gray;\n+  }\n+  span.disabled {\n+    color: $gray;\n+  }\n+  span.gap {\n+    background-color: transparent;\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex c994463..76d692c 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -30,6 +30,9 @@\n // \u30e1\u30c3\u30bb\u30fc\u30b8\n @import \"./components/parts/flash\";\n\n+// \u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\n+@import \"./components/parts/pagination\";\n+\n // Common\n //----------------------------\n // \u30d8\u30c3\u30c0\u30fc\ndiff --git a/app/views/kaminari/_first_page.html.erb b/app/views/kaminari/_first_page.html.erb\nindex 2682d34..e0ab4ab 100644\n--- a/app/views/kaminari/_first_page.html.erb\n+++ b/app/views/kaminari/_first_page.html.erb\n@@ -7,5 +7,9 @@\n     remote:        data-remote\n -%&gt;\n &lt;span class=\"first\"&gt;\n-  &lt;%= link_to_unless current_page.first?, t('views.pagination.first').html_safe, url, :remote =&gt; remote %&gt;\n+  &lt;%=\n+    link_to_unless(current_page.first?, t('views.pagination.first').html_safe, url, :remote =&gt; remote) do |name|\n+      content_tag(:span, name, class: 'disabled')\n+    end\n+  %&gt;\n &lt;/span&gt;\ndiff --git a/app/views/kaminari/_last_page.html.erb b/app/views/kaminari/_last_page.html.erb\nindex 53d6130..5b2dcf4 100644\n--- a/app/views/kaminari/_last_page.html.erb\n+++ b/app/views/kaminari/_last_page.html.erb\n@@ -7,5 +7,9 @@\n     remote:        data-remote\n -%&gt;\n &lt;span class=\"last\"&gt;\n-  &lt;%= link_to_unless current_page.last?, t('views.pagination.last').html_safe, url, :remote =&gt; remote %&gt;\n+  &lt;%=\n+    link_to_unless(current_page.last?, t('views.pagination.last').html_safe, url, :remote =&gt; remote) do |name|\n+      content_tag(:span, name, class: 'disabled')\n+    end\n+  %&gt;\n &lt;/span&gt;\ndiff --git a/app/views/kaminari/_next_page.html.erb b/app/views/kaminari/_next_page.html.erb\nindex 4fc2071..c83841d 100644\n--- a/app/views/kaminari/_next_page.html.erb\n+++ b/app/views/kaminari/_next_page.html.erb\n@@ -7,5 +7,9 @@\n     remote:        data-remote\n -%&gt;\n &lt;span class=\"next\"&gt;\n-  &lt;%= link_to_unless current_page.last?, t('views.pagination.next').html_safe, url, :rel =&gt; 'next', :remote =&gt; remote %&gt;\n+  &lt;%=\n+    link_to_unless(current_page.last?, t('views.pagination.next').html_safe, url, :rel =&gt; 'next', :remote =&gt; remote) do |name|\n+      content_tag(:span, name, class: 'disabled')\n+    end\n+  %&gt;\n &lt;/span&gt;\ndiff --git a/app/views/kaminari/_paginator.html.erb b/app/views/kaminari/_paginator.html.erb\nindex 4fb445f..a2056ac 100644\n--- a/app/views/kaminari/_paginator.html.erb\n+++ b/app/views/kaminari/_paginator.html.erb\n@@ -8,8 +8,8 @@\n -%&gt;\n &lt;%= paginator.render do -%&gt;\n   &lt;nav class=\"pagination\"&gt;\n-    &lt;%= first_page_tag unless current_page.first? %&gt;\n-    &lt;%= prev_page_tag unless current_page.first? %&gt;\n+    &lt;%= first_page_tag %&gt;\n+    &lt;%= prev_page_tag %&gt;\n     &lt;% each_page do |page| -%&gt;\n       &lt;% if page.left_outer? || page.right_outer? || page.inside_window? -%&gt;\n         &lt;%= page_tag page %&gt;\n@@ -17,7 +17,7 @@\n         &lt;%= gap_tag %&gt;\n       &lt;% end -%&gt;\n     &lt;% end -%&gt;\n-    &lt;%= next_page_tag unless current_page.last? %&gt;\n-    &lt;%= last_page_tag unless current_page.last? %&gt;\n+    &lt;%= next_page_tag %&gt;\n+    &lt;%= last_page_tag %&gt;\n   &lt;/nav&gt;\n &lt;% end -%&gt;\n</code></pre>"},{"location":"journal/20170131/#d30ae1a","title":"\u30b3\u30df\u30c3\u30c8: d30ae1a","text":""},{"location":"journal/20170131/#_44","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>ERB\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4fee\u6b63 #9\n</code></pre>"},{"location":"journal/20170131/#_45","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>M README.md</li> <li>M app/views/admin/staff_events/index.html.erb</li> <li>M app/views/kaminari/_first_page.html.erb</li> <li>M app/views/kaminari/_gap.html.erb</li> <li>M app/views/kaminari/_last_page.html.erb</li> <li>M app/views/kaminari/_next_page.html.erb</li> <li>M app/views/kaminari/_page.html.erb</li> <li>M app/views/kaminari/_paginator.html.erb</li> <li>M app/views/kaminari/_prev_page.html.erb</li> <li>M baukis-kai.iml</li> </ul>"},{"location":"journal/20170131/#_46","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit d30ae1a3d5013802c5fa5fe1fa6a8b61de3e2865\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 31 16:30:06 2017 +0900\n\n    ERB\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4fee\u6b63 #9\n\ndiff --git a/Gemfile b/Gemfile\nindex 5d0659e..11ab6c0 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -88,4 +88,4 @@ gem 'enum_help'\n gem 'bootstrap-sass', '~&gt; 3.3.6'\n gem 'bootstrap_form'\n gem 'dotenv-rails'\n-gem 'kaminari', '~&gt; 0.16.3'\n\\ No newline at end of file\n+gem 'kaminari', '~&gt; 0.17.0'\n\\ No newline at end of file\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex d8e4512..45b3333 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -57,7 +57,7 @@ GEM\n       autoprefixer-rails (&gt;= 5.2.1)\n       sass (&gt;= 3.3.4)\n     bootstrap_form (2.5.3)\n-    builder (3.2.2)\n+    builder (3.2.3)\n     byebug (9.0.6)\n     capybara (2.5.0)\n       mime-types (&gt;= 1.16)\n@@ -140,7 +140,7 @@ GEM\n       railties (&gt;= 4.2.0)\n       thor (&gt;= 0.14, &lt; 2.0)\n     json (2.0.2)\n-    kaminari (0.16.3)\n+    kaminari (0.17.0)\n       actionpack (&gt;= 3.0.0)\n       activesupport (&gt;= 3.0.0)\n     launchy (2.4.3)\n@@ -323,7 +323,7 @@ DEPENDENCIES\n   i18n_generators\n   jbuilder (~&gt; 2.5)\n   jquery-rails\n-  kaminari (~&gt; 0.16.3)\n+  kaminari (~&gt; 0.17.0)\n   launchy (~&gt; 2.4.2)\n   listen (~&gt; 3.0.5)\n   migration_comments\ndiff --git a/README.md b/README.md\nindex 6870eca..f8856c7 100644\n--- a/README.md\n+++ b/README.md\n@@ -475,6 +475,7 @@ git push heroku master\n + \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u306e\u6295\u5165\n + Gem\u30d1\u30c3\u30b1\u30fc\u30b8kaminari\n + index\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u4fee\u6b63\n++ ERB\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4fee\u6b63\n\n #### N + 1\u554f\u984c\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/views/admin/staff_events/index.html.erb b/app/views/admin/staff_events/index.html.erb\nindex 43fe679..d2736b4 100644\n--- a/app/views/admin/staff_events/index.html.erb\n+++ b/app/views/admin/staff_events/index.html.erb\n@@ -15,6 +15,8 @@\n     &lt;%= link_to t('.admin_staff_members'), :admin_staff_members, class: 'btn btn-default' %&gt;\n   &lt;/div&gt;\n\n+  &lt;%= paginate @events %&gt;\n+\n   &lt;table class=\"Table__body Table__body--listing AdminTable__body\"&gt;\n     &lt;tr class=\"Table__tr\"&gt;\n       &lt;% unless @staff_member %&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.full_name') %&gt;&lt;/th&gt;&lt;% end %&gt;\n@@ -30,6 +32,8 @@\n     &lt;% end %&gt;\n   &lt;/table&gt;\n\n+  &lt;%= paginate @events %&gt;\n+\n   &lt;div class=\"Table__links\"&gt;\n     &lt;%= link_to t('.admin_staff_members'), :admin_staff_members, class: 'btn btn-default' %&gt;\n   &lt;/div&gt;\ndiff --git a/app/views/kaminari/_first_page.html.erb b/app/views/kaminari/_first_page.html.erb\nindex bf23ff0..2682d34 100644\n--- a/app/views/kaminari/_first_page.html.erb\n+++ b/app/views/kaminari/_first_page.html.erb\n@@ -1,3 +1,11 @@\n-&lt;li&gt;\n-  &lt;%= link_to_unless current_page.first?, raw(t 'views.pagination.first'), url, :remote =&gt; remote %&gt;\n-&lt;/li&gt;\n+&lt;%# Link to the \"First\" page\n+  - available local variables\n+    url:           url to the first page\n+    current_page:  a page object for the currently displayed page\n+    total_pages:   total number of pages\n+    per_page:      number of items to fetch per page\n+    remote:        data-remote\n+-%&gt;\n+&lt;span class=\"first\"&gt;\n+  &lt;%= link_to_unless current_page.first?, t('views.pagination.first').html_safe, url, :remote =&gt; remote %&gt;\n+&lt;/span&gt;\ndiff --git a/app/views/kaminari/_gap.html.erb b/app/views/kaminari/_gap.html.erb\nindex 6d3a149..bbb0f98 100644\n--- a/app/views/kaminari/_gap.html.erb\n+++ b/app/views/kaminari/_gap.html.erb\n@@ -1,3 +1,8 @@\n-&lt;li class='disabled'&gt;\n-  &lt;%= content_tag :a, raw(t 'views.pagination.truncate') %&gt;\n-&lt;/li&gt;\n+&lt;%# Non-link tag that stands for skipped pages...\n+  - available local variables\n+    current_page:  a page object for the currently displayed page\n+    total_pages:   total number of pages\n+    per_page:      number of items to fetch per page\n+    remote:        data-remote\n+-%&gt;\n+&lt;span class=\"page gap\"&gt;&lt;%= t('views.pagination.truncate').html_safe %&gt;&lt;/span&gt;\ndiff --git a/app/views/kaminari/_last_page.html.erb b/app/views/kaminari/_last_page.html.erb\nindex fb619ea..53d6130 100644\n--- a/app/views/kaminari/_last_page.html.erb\n+++ b/app/views/kaminari/_last_page.html.erb\n@@ -1,3 +1,11 @@\n-&lt;li&gt;\n-  &lt;%= link_to_unless current_page.last?, raw(t 'views.pagination.last'), url, {:remote =&gt; remote} %&gt;\n-&lt;/li&gt;\n+&lt;%# Link to the \"Last\" page\n+  - available local variables\n+    url:           url to the last page\n+    current_page:  a page object for the currently displayed page\n+    total_pages:   total number of pages\n+    per_page:      number of items to fetch per page\n+    remote:        data-remote\n+-%&gt;\n+&lt;span class=\"last\"&gt;\n+  &lt;%= link_to_unless current_page.last?, t('views.pagination.last').html_safe, url, :remote =&gt; remote %&gt;\n+&lt;/span&gt;\ndiff --git a/app/views/kaminari/_next_page.html.erb b/app/views/kaminari/_next_page.html.erb\nindex 15e10e4..4fc2071 100644\n--- a/app/views/kaminari/_next_page.html.erb\n+++ b/app/views/kaminari/_next_page.html.erb\n@@ -1,3 +1,11 @@\n-&lt;li&gt;\n-  &lt;%= link_to_unless current_page.last?, raw(t 'views.pagination.next'), url, :rel =&gt; 'next', :remote =&gt; remote %&gt;\n-&lt;/li&gt;\n+&lt;%# Link to the \"Next\" page\n+  - available local variables\n+    url:           url to the next page\n+    current_page:  a page object for the currently displayed page\n+    total_pages:   total number of pages\n+    per_page:      number of items to fetch per page\n+    remote:        data-remote\n+-%&gt;\n+&lt;span class=\"next\"&gt;\n+  &lt;%= link_to_unless current_page.last?, t('views.pagination.next').html_safe, url, :rel =&gt; 'next', :remote =&gt; remote %&gt;\n+&lt;/span&gt;\ndiff --git a/app/views/kaminari/_page.html.erb b/app/views/kaminari/_page.html.erb\nindex 8028b45..582af7b 100644\n--- a/app/views/kaminari/_page.html.erb\n+++ b/app/views/kaminari/_page.html.erb\n@@ -1,9 +1,12 @@\n-&lt;% if page.current? %&gt;\n-  &lt;li class='active'&gt;\n-    &lt;%= content_tag :a, page, remote: remote, rel: (page.next? ? 'next' : (page.prev? ? 'prev' : nil)) %&gt;\n-  &lt;/li&gt;\n-&lt;% else %&gt;\n-  &lt;li&gt;\n-    &lt;%= link_to page, url, remote: remote, rel: (page.next? ? 'next' : (page.prev? ? 'prev' : nil)) %&gt;\n-  &lt;/li&gt;\n-&lt;% end %&gt;\n+&lt;%# Link showing page number\n+  - available local variables\n+    page:          a page object for \"this\" page\n+    url:           url to this page\n+    current_page:  a page object for the currently displayed page\n+    total_pages:   total number of pages\n+    per_page:      number of items to fetch per page\n+    remote:        data-remote\n+-%&gt;\n+&lt;span class=\"page&lt;%= ' current' if page.current? %&gt;\"&gt;\n+  &lt;%= link_to_unless page.current?, page, url, {:remote =&gt; remote, :rel =&gt; page.next? ? 'next' : page.prev? ? 'prev' : nil} %&gt;\n+&lt;/span&gt;\ndiff --git a/app/views/kaminari/_paginator.html.erb b/app/views/kaminari/_paginator.html.erb\nindex 2c8757b..4fb445f 100644\n--- a/app/views/kaminari/_paginator.html.erb\n+++ b/app/views/kaminari/_paginator.html.erb\n@@ -1,5 +1,13 @@\n+&lt;%# The container tag\n+  - available local variables\n+    current_page:  a page object for the currently displayed page\n+    total_pages:   total number of pages\n+    per_page:      number of items to fetch per page\n+    remote:        data-remote\n+    paginator:     the paginator that renders the pagination tags inside\n+-%&gt;\n &lt;%= paginator.render do -%&gt;\n-  &lt;ul class=\"pagination\"&gt;\n+  &lt;nav class=\"pagination\"&gt;\n     &lt;%= first_page_tag unless current_page.first? %&gt;\n     &lt;%= prev_page_tag unless current_page.first? %&gt;\n     &lt;% each_page do |page| -%&gt;\n@@ -11,5 +19,5 @@\n     &lt;% end -%&gt;\n     &lt;%= next_page_tag unless current_page.last? %&gt;\n     &lt;%= last_page_tag unless current_page.last? %&gt;\n-  &lt;/ul&gt;\n+  &lt;/nav&gt;\n &lt;% end -%&gt;\ndiff --git a/app/views/kaminari/_prev_page.html.erb b/app/views/kaminari/_prev_page.html.erb\nindex d94a50a..9c4aff4 100644\n--- a/app/views/kaminari/_prev_page.html.erb\n+++ b/app/views/kaminari/_prev_page.html.erb\n@@ -1,3 +1,11 @@\n-&lt;li&gt;\n-  &lt;%= link_to_unless current_page.first?, raw(t 'views.pagination.previous'), url, :rel =&gt; 'prev', :remote =&gt; remote %&gt;\n-&lt;/li&gt;\n+&lt;%# Link to the \"Previous\" page\n+  - available local variables\n+    url:           url to the previous page\n+    current_page:  a page object for the currently displayed page\n+    total_pages:   total number of pages\n+    per_page:      number of items to fetch per page\n+    remote:        data-remote\n+-%&gt;\n+&lt;span class=\"prev\"&gt;\n+  &lt;%= link_to_unless current_page.first?, t('views.pagination.previous').html_safe, url, :rel =&gt; 'prev', :remote =&gt; remote %&gt;\n+&lt;/span&gt;\ndiff --git a/baukis-kai.iml b/baukis-kai.iml\nindex 7ecc284..441757e 100644\n--- a/baukis-kai.iml\n+++ b/baukis-kai.iml\n@@ -39,7 +39,7 @@\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"binding_of_caller (v0.7.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bootstrap-sass (v3.3.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bootstrap_form (v2.5.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"builder (v3.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"builder (v3.2.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bundler (v1.13.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"byebug (v9.0.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara (v2.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n@@ -79,7 +79,7 @@\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n_generators (v2.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jbuilder (v2.6.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jquery-rails (v4.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"kaminari (v0.16.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"kaminari (v0.17.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"launchy (v2.4.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"listen (v3.0.8, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"loofah (v2.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n</code></pre>"},{"location":"journal/20170131/#ba7926b","title":"\u30b3\u30df\u30c3\u30c8: ba7926b","text":""},{"location":"journal/20170131/#_47","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>index\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u4fee\u6b63 #9\n</code></pre>"},{"location":"journal/20170131/#_48","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/admin/staff_events_controller.rb</li> </ul>"},{"location":"journal/20170131/#_49","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit ba7926be32602721663574cc6c7202f8a5575783\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 31 16:18:32 2017 +0900\n\n    index\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u4fee\u6b63 #9\n\ndiff --git a/README.md b/README.md\nindex 3880100..6870eca 100644\n--- a/README.md\n+++ b/README.md\n@@ -474,6 +474,7 @@ git push heroku master\n #### \u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\n + \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u306e\u6295\u5165\n + Gem\u30d1\u30c3\u30b1\u30fc\u30b8kaminari\n++ index\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u4fee\u6b63\n\n #### N + 1\u554f\u984c\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/controllers/admin/staff_events_controller.rb b/app/controllers/admin/staff_events_controller.rb\nindex f7b7dc8..ea08a31 100644\n--- a/app/controllers/admin/staff_events_controller.rb\n+++ b/app/controllers/admin/staff_events_controller.rb\n@@ -6,5 +6,6 @@ class Admin::StaffEventsController &lt; Admin::Base\n     else\n       @events = StaffEvent.order(occurred_at: :desc)\n     end\n+    @events = @events.page(params[:page])\n   end\n end\n</code></pre>"},{"location":"journal/20170131/#_50","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170131/#c26bb36","title":"\u30b3\u30df\u30c3\u30c8: c26bb36","text":""},{"location":"journal/20170131/#_51","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Gem\u30d1\u30c3\u30b1\u30fc\u30b8kaminari #9\n</code></pre>"},{"location":"journal/20170131/#_52","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .idea/.generators</li> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>M README.md</li> <li>A app/views/kaminari/_first_page.html.erb</li> <li>A app/views/kaminari/_gap.html.erb</li> <li>A app/views/kaminari/_last_page.html.erb</li> <li>A app/views/kaminari/_next_page.html.erb</li> <li>A app/views/kaminari/_page.html.erb</li> <li>A app/views/kaminari/_paginator.html.erb</li> <li>A app/views/kaminari/_prev_page.html.erb</li> <li>M baukis-kai.iml</li> <li>A config/initializers/kaminari_config.rb</li> <li>A config/locales/views/paginate.ja.yml</li> </ul>"},{"location":"journal/20170131/#_53","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c26bb3653071c0a4f38123f5343054434ea8e6d2\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 31 16:16:40 2017 +0900\n\n    Gem\u30d1\u30c3\u30b1\u30fc\u30b8kaminari #9\n\ndiff --git a/.idea/.generators b/.idea/.generators\nindex 8e11556..a68204b 100644\n--- a/.idea/.generators\n+++ b/.idea/.generators\n@@ -5,4 +5,4 @@ You are allowed to:\n 2. Remove generators\n 3. Add installed generators\n To add new installed generators automatically delete this file and reload the project.\n---&gt;&lt;GeneratorsGroup&gt;&lt;Generator name=\"annotate:install\" /&gt;&lt;Generator name=\"assets\" /&gt;&lt;Generator name=\"channel\" /&gt;&lt;Generator name=\"coffee:assets\" /&gt;&lt;Generator name=\"controller\" /&gt;&lt;Generator name=\"erd:install\" /&gt;&lt;Generator name=\"factory_girl:model\" /&gt;&lt;Generator name=\"generator\" /&gt;&lt;Generator name=\"helper\" /&gt;&lt;Generator name=\"i18n\" /&gt;&lt;Generator name=\"i18n_locale\" /&gt;&lt;Generator name=\"i18n_translation\" /&gt;&lt;Generator name=\"integration_test\" /&gt;&lt;Generator name=\"jbuilder\" /&gt;&lt;Generator name=\"job\" /&gt;&lt;Generator name=\"js:assets\" /&gt;&lt;Generator name=\"mailer\" /&gt;&lt;Generator name=\"migration\" /&gt;&lt;Generator name=\"model\" /&gt;&lt;Generator name=\"rack:dev-mark:install\" /&gt;&lt;Generator name=\"resource\" /&gt;&lt;Generator name=\"rspec:controller\" /&gt;&lt;Generator name=\"rspec:feature\" /&gt;&lt;Generator name=\"rspec:helper\" /&gt;&lt;Generator name=\"rspec:install\" /&gt;&lt;Generator name=\"rspec:integration\" /&gt;&lt;Generator name=\"rspec:job\" /&gt;&lt;Generator name=\"rspec:mailer\" /&gt;&lt;Generator name=\"rspec:model\" /&gt;&lt;Generator name=\"rspec:observer\" /&gt;&lt;Generator name=\"rspec:request\" /&gt;&lt;Generator name=\"rspec:scaffold\" /&gt;&lt;Generator name=\"rspec:view\" /&gt;&lt;Generator name=\"scaffold\" /&gt;&lt;Generator name=\"scaffold_controller\" /&gt;&lt;Generator name=\"task\" /&gt;&lt;Generator name=\"test_unit:controller\" /&gt;&lt;Generator name=\"test_unit:generator\" /&gt;&lt;Generator name=\"test_unit:helper\" /&gt;&lt;Generator name=\"test_unit:integration\" /&gt;&lt;Generator name=\"test_unit:job\" /&gt;&lt;Generator name=\"test_unit:mailer\" /&gt;&lt;Generator name=\"test_unit:model\" /&gt;&lt;Generator name=\"test_unit:plugin\" /&gt;&lt;Generator name=\"test_unit:scaffold\" /&gt;&lt;/GeneratorsGroup&gt;&lt;/Settings&gt;\n+--&gt;&lt;GeneratorsGroup&gt;&lt;Generator name=\"annotate:install\" /&gt;&lt;Generator name=\"assets\" /&gt;&lt;Generator name=\"channel\" /&gt;&lt;Generator name=\"coffee:assets\" /&gt;&lt;Generator name=\"controller\" /&gt;&lt;Generator name=\"erd:install\" /&gt;&lt;Generator name=\"factory_girl:model\" /&gt;&lt;Generator name=\"generator\" /&gt;&lt;Generator name=\"helper\" /&gt;&lt;Generator name=\"i18n\" /&gt;&lt;Generator name=\"i18n_locale\" /&gt;&lt;Generator name=\"i18n_translation\" /&gt;&lt;Generator name=\"integration_test\" /&gt;&lt;Generator name=\"jbuilder\" /&gt;&lt;Generator name=\"job\" /&gt;&lt;Generator name=\"js:assets\" /&gt;&lt;Generator name=\"kaminari:config\" /&gt;&lt;Generator name=\"kaminari:views\" /&gt;&lt;Generator name=\"mailer\" /&gt;&lt;Generator name=\"migration\" /&gt;&lt;Generator name=\"model\" /&gt;&lt;Generator name=\"rack:dev-mark:install\" /&gt;&lt;Generator name=\"resource\" /&gt;&lt;Generator name=\"rspec:controller\" /&gt;&lt;Generator name=\"rspec:feature\" /&gt;&lt;Generator name=\"rspec:helper\" /&gt;&lt;Generator name=\"rspec:install\" /&gt;&lt;Generator name=\"rspec:integration\" /&gt;&lt;Generator name=\"rspec:job\" /&gt;&lt;Generator name=\"rspec:mailer\" /&gt;&lt;Generator name=\"rspec:model\" /&gt;&lt;Generator name=\"rspec:observer\" /&gt;&lt;Generator name=\"rspec:request\" /&gt;&lt;Generator name=\"rspec:scaffold\" /&gt;&lt;Generator name=\"rspec:view\" /&gt;&lt;Generator name=\"scaffold\" /&gt;&lt;Generator name=\"scaffold_controller\" /&gt;&lt;Generator name=\"task\" /&gt;&lt;Generator name=\"test_unit:controller\" /&gt;&lt;Generator name=\"test_unit:generator\" /&gt;&lt;Generator name=\"test_unit:helper\" /&gt;&lt;Generator name=\"test_unit:integration\" /&gt;&lt;Generator name=\"test_unit:job\" /&gt;&lt;Generator name=\"test_unit:mailer\" /&gt;&lt;Generator name=\"test_unit:model\" /&gt;&lt;Generator name=\"test_unit:plugin\" /&gt;&lt;Generator name=\"test_unit:scaffold\" /&gt;&lt;/GeneratorsGroup&gt;&lt;/Settings&gt;\ndiff --git a/Gemfile b/Gemfile\nindex e9ca58f..5d0659e 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -87,4 +87,5 @@ gem 'rack-dev-mark'\n gem 'enum_help'\n gem 'bootstrap-sass', '~&gt; 3.3.6'\n gem 'bootstrap_form'\n-gem 'dotenv-rails'\n\\ No newline at end of file\n+gem 'dotenv-rails'\n+gem 'kaminari', '~&gt; 0.16.3'\n\\ No newline at end of file\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex 9fe802b..d8e4512 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -140,6 +140,9 @@ GEM\n       railties (&gt;= 4.2.0)\n       thor (&gt;= 0.14, &lt; 2.0)\n     json (2.0.2)\n+    kaminari (0.16.3)\n+      actionpack (&gt;= 3.0.0)\n+      activesupport (&gt;= 3.0.0)\n     launchy (2.4.3)\n       addressable (~&gt; 2.3)\n     listen (3.0.8)\n@@ -320,6 +323,7 @@ DEPENDENCIES\n   i18n_generators\n   jbuilder (~&gt; 2.5)\n   jquery-rails\n+  kaminari (~&gt; 0.16.3)\n   launchy (~&gt; 2.4.2)\n   listen (~&gt; 3.0.5)\n   migration_comments\ndiff --git a/README.md b/README.md\nindex b7355b2..3880100 100644\n--- a/README.md\n+++ b/README.md\n@@ -473,6 +473,7 @@ git push heroku master\n\n #### \u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\n + \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u306e\u6295\u5165\n++ Gem\u30d1\u30c3\u30b1\u30fc\u30b8kaminari\n\n #### N + 1\u554f\u984c\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/views/kaminari/_first_page.html.erb b/app/views/kaminari/_first_page.html.erb\nnew file mode 100644\nindex 0000000..bf23ff0\n--- /dev/null\n+++ b/app/views/kaminari/_first_page.html.erb\n@@ -0,0 +1,3 @@\n+&lt;li&gt;\n+  &lt;%= link_to_unless current_page.first?, raw(t 'views.pagination.first'), url, :remote =&gt; remote %&gt;\n+&lt;/li&gt;\ndiff --git a/app/views/kaminari/_gap.html.erb b/app/views/kaminari/_gap.html.erb\nnew file mode 100644\nindex 0000000..6d3a149\n--- /dev/null\n+++ b/app/views/kaminari/_gap.html.erb\n@@ -0,0 +1,3 @@\n+&lt;li class='disabled'&gt;\n+  &lt;%= content_tag :a, raw(t 'views.pagination.truncate') %&gt;\n+&lt;/li&gt;\ndiff --git a/app/views/kaminari/_last_page.html.erb b/app/views/kaminari/_last_page.html.erb\nnew file mode 100644\nindex 0000000..fb619ea\n--- /dev/null\n+++ b/app/views/kaminari/_last_page.html.erb\n@@ -0,0 +1,3 @@\n+&lt;li&gt;\n+  &lt;%= link_to_unless current_page.last?, raw(t 'views.pagination.last'), url, {:remote =&gt; remote} %&gt;\n+&lt;/li&gt;\ndiff --git a/app/views/kaminari/_next_page.html.erb b/app/views/kaminari/_next_page.html.erb\nnew file mode 100644\nindex 0000000..15e10e4\n--- /dev/null\n+++ b/app/views/kaminari/_next_page.html.erb\n@@ -0,0 +1,3 @@\n+&lt;li&gt;\n+  &lt;%= link_to_unless current_page.last?, raw(t 'views.pagination.next'), url, :rel =&gt; 'next', :remote =&gt; remote %&gt;\n+&lt;/li&gt;\ndiff --git a/app/views/kaminari/_page.html.erb b/app/views/kaminari/_page.html.erb\nnew file mode 100644\nindex 0000000..8028b45\n--- /dev/null\n+++ b/app/views/kaminari/_page.html.erb\n@@ -0,0 +1,9 @@\n+&lt;% if page.current? %&gt;\n+  &lt;li class='active'&gt;\n+    &lt;%= content_tag :a, page, remote: remote, rel: (page.next? ? 'next' : (page.prev? ? 'prev' : nil)) %&gt;\n+  &lt;/li&gt;\n+&lt;% else %&gt;\n+  &lt;li&gt;\n+    &lt;%= link_to page, url, remote: remote, rel: (page.next? ? 'next' : (page.prev? ? 'prev' : nil)) %&gt;\n+  &lt;/li&gt;\n+&lt;% end %&gt;\ndiff --git a/app/views/kaminari/_paginator.html.erb b/app/views/kaminari/_paginator.html.erb\nnew file mode 100644\nindex 0000000..2c8757b\n--- /dev/null\n+++ b/app/views/kaminari/_paginator.html.erb\n@@ -0,0 +1,15 @@\n+&lt;%= paginator.render do -%&gt;\n+  &lt;ul class=\"pagination\"&gt;\n+    &lt;%= first_page_tag unless current_page.first? %&gt;\n+    &lt;%= prev_page_tag unless current_page.first? %&gt;\n+    &lt;% each_page do |page| -%&gt;\n+      &lt;% if page.left_outer? || page.right_outer? || page.inside_window? -%&gt;\n+        &lt;%= page_tag page %&gt;\n+      &lt;% elsif !page.was_truncated? -%&gt;\n+        &lt;%= gap_tag %&gt;\n+      &lt;% end -%&gt;\n+    &lt;% end -%&gt;\n+    &lt;%= next_page_tag unless current_page.last? %&gt;\n+    &lt;%= last_page_tag unless current_page.last? %&gt;\n+  &lt;/ul&gt;\n+&lt;% end -%&gt;\ndiff --git a/app/views/kaminari/_prev_page.html.erb b/app/views/kaminari/_prev_page.html.erb\nnew file mode 100644\nindex 0000000..d94a50a\n--- /dev/null\n+++ b/app/views/kaminari/_prev_page.html.erb\n@@ -0,0 +1,3 @@\n+&lt;li&gt;\n+  &lt;%= link_to_unless current_page.first?, raw(t 'views.pagination.previous'), url, :rel =&gt; 'prev', :remote =&gt; remote %&gt;\n+&lt;/li&gt;\ndiff --git a/baukis-kai.iml b/baukis-kai.iml\nindex a4ebc0d..7ecc284 100644\n--- a/baukis-kai.iml\n+++ b/baukis-kai.iml\n@@ -79,6 +79,7 @@\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n_generators (v2.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jbuilder (v2.6.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jquery-rails (v4.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"kaminari (v0.16.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"launchy (v2.4.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"listen (v3.0.8, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"loofah (v2.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\ndiff --git a/config/initializers/kaminari_config.rb b/config/initializers/kaminari_config.rb\nnew file mode 100644\nindex 0000000..ed1fe79\n--- /dev/null\n+++ b/config/initializers/kaminari_config.rb\n@@ -0,0 +1,10 @@\n+Kaminari.configure do |config|\n+  config.default_per_page = 10\n+  # config.max_per_page = nil\n+  # config.window = 4\n+  # config.outer_window = 0\n+  # config.left = 0\n+  # config.right = 0\n+  # config.page_method_name = :page\n+  # config.param_name = :page\n+end\ndiff --git a/config/locales/views/paginate.ja.yml b/config/locales/views/paginate.ja.yml\nnew file mode 100644\nindex 0000000..6dd4821\n--- /dev/null\n+++ b/config/locales/views/paginate.ja.yml\n@@ -0,0 +1,8 @@\n+ja:\n+  views:\n+    pagination:\n+      first: \u5148\u982d\n+      last: \u672b\u5c3e\n+      previous: \u524d\n+      next: \u6b21\n+      truncate: \"...\"\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170131/#666fdc6","title":"\u30b3\u30df\u30c3\u30c8: 666fdc6","text":""},{"location":"journal/20170131/#_54","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u306e\u6295\u5165 #9\n</code></pre>"},{"location":"journal/20170131/#_55","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M db/schema.rb</li> <li>A db/seed/development/staff_events.rb</li> <li>M db/seeds.rb</li> </ul>"},{"location":"journal/20170131/#_56","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 666fdc6b9b8a7843f90545ae48d982cd4312ce24\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 31 15:53:40 2017 +0900\n\n    \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u306e\u6295\u5165 #9\n\ndiff --git a/README.md b/README.md\nindex e01bc9a..b7355b2 100644\n--- a/README.md\n+++ b/README.md\n@@ -472,6 +472,8 @@ git push heroku master\n + admin/staff_events\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\n\n #### \u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\n++ \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u306e\u6295\u5165\n+\n #### N + 1\u554f\u984c\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 9780a2e..5bd9dd3 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -12,7 +12,7 @@\n\n ActiveRecord::Schema.define(version: 20170131041629) do\n\n-  create_table \"administrators\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u7ba1\u7406\u8005\" do |t|\n+  create_table \"administrators\", force: :cascade, comment: \"\u7ba1\u7406\u8005\" do |t|\n     t.string   \"email\",                           null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"hashed_password\",                              comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n@@ -22,7 +22,7 @@ ActiveRecord::Schema.define(version: 20170131041629) do\n     t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true, using: :btree\n   end\n\n-  create_table \"staff_events\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n+  create_table \"staff_events\", force: :cascade, comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n     t.integer  \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",            null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n     t.datetime \"created_at\",      null: false, comment: \"\u767a\u751f\u6642\u523b\"\n@@ -31,7 +31,7 @@ ActiveRecord::Schema.define(version: 20170131041629) do\n     t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\", using: :btree\n   end\n\n-  create_table \"staff_members\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\" do |t|\n+  create_table \"staff_members\", force: :cascade, comment: \"\u8077\u54e1\" do |t|\n     t.string   \"email\",                            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                  null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",                      null: false, comment: \"\u59d3\"\ndiff --git a/db/seed/development/staff_events.rb b/db/seed/development/staff_events.rb\nnew file mode 100644\nindex 0000000..992d308\n--- /dev/null\n+++ b/db/seed/development/staff_events.rb\n@@ -0,0 +1,16 @@\n+staff_members = StaffMember.all\n+256.times do |n|\n+  m = staff_members.sample\n+  e = m.events.build\n+  if m.active?\n+    if n.even?\n+      e.type = 'logged_in'\n+    else\n+      e.type = 'logged_out'\n+    end\n+  else\n+    e.type = 'rejected'\n+  end\n+  e.occurred_at = (256 - n).hours.ago\n+  e.save!\n+end\n\\ No newline at end of file\ndiff --git a/db/seeds.rb b/db/seeds.rb\nindex aa5909a..f58b110 100644\n--- a/db/seeds.rb\n+++ b/db/seeds.rb\n@@ -6,7 +6,7 @@\n\n #   movies = Movie.create([{ name: 'Star Wars' }, { name: 'Lord of the Rings' }])\n #   Character.create(name: 'Luke', movie: movies.first)\n-table_names = %w(staff_members administrators)\n+table_names = %w(staff_members administrators staff_events)\n table_names.each do |table_name|\n   path = Rails.root.join('db','seed',Rails.env, \"#{table_name}.rb\")\n   if File.exist?(path)\n</code></pre>"},{"location":"journal/20170131/#13d09b3","title":"\u30b3\u30df\u30c3\u30c8: 13d09b3","text":""},{"location":"journal/20170131/#_57","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>admin/staff_events\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9 #9\n</code></pre>"},{"location":"journal/20170131/#_58","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/controllers/admin/staff_events_controller.rb</li> <li>M app/models/staff_event.rb</li> <li>A app/views/admin/staff_events/_event.html.erb</li> <li>A app/views/admin/staff_events/index.html.erb</li> <li>M config/locales/models/ja.yml</li> <li>M config/locales/views/ja.yml</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170131/#_59","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 13d09b37f643d721f564c2f027a811102e84075b\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 31 15:45:34 2017 +0900\n\n    admin/staff_events\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9 #9\n\ndiff --git a/README.md b/README.md\nindex d01db1d..e01bc9a 100644\n--- a/README.md\n+++ b/README.md\n@@ -469,6 +469,7 @@ git push heroku master\n\n #### \u30cd\u30b9\u30c8\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\n + \u30cd\u30b9\u30c8\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\u3068\u306f\n++ admin/staff_events\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\n\n #### \u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\n #### N + 1\u554f\u984c\ndiff --git a/app/controllers/admin/staff_events_controller.rb b/app/controllers/admin/staff_events_controller.rb\nnew file mode 100644\nindex 0000000..f7b7dc8\n--- /dev/null\n+++ b/app/controllers/admin/staff_events_controller.rb\n@@ -0,0 +1,10 @@\n+class Admin::StaffEventsController &lt; Admin::Base\n+  def index\n+    if params[:staff_member_id]\n+      @staff_member = StaffMember.find(params[:staff_member_id])\n+      @events = @staff_member.events.order(occurred_at: :desc)\n+    else\n+      @events = StaffEvent.order(occurred_at: :desc)\n+    end\n+  end\n+end\ndiff --git a/app/models/staff_event.rb b/app/models/staff_event.rb\nindex 286c6f1..d0198dc 100644\n--- a/app/models/staff_event.rb\n+++ b/app/models/staff_event.rb\n@@ -18,5 +18,15 @@ class StaffEvent &lt; ApplicationRecord\n   self.inheritance_column = nil\n\n   belongs_to :member, class_name: 'StaffMember', foreign_key: 'staff_member_id'\n-  alias_attribute :occurred_at, :create_at\n+  alias_attribute :occurred_at, :created_at\n+\n+  DESCRIPTIONS = {\n+      logged_in: I18n.t('activerecord.attributes.staff_event.description.logged_in'),\n+      logged_out: I18n.t('activerecord.attributes.staff_event.description.logged_out'),\n+      rejected: I18n.t('activerecord.attributes.staff_event.description.rejected')\n+  }\n+\n+  def description\n+    DESCRIPTIONS[type.to_sym]\n+  end\n end\ndiff --git a/app/views/admin/staff_events/_event.html.erb b/app/views/admin/staff_events/_event.html.erb\nnew file mode 100644\nindex 0000000..4d1b492\n--- /dev/null\n+++ b/app/views/admin/staff_events/_event.html.erb\n@@ -0,0 +1,11 @@\n+&lt;tr class=\"Table__tr\"&gt;\n+  &lt;% unless @staff_member %&gt;\n+  &lt;td class=\"Table__td\"&gt;\n+    &lt;%= link_to(event.member.family_name + event.member.given_name,[:admin, event.member, :staff_events]) %&gt;\n+  &lt;/td&gt;\n+  &lt;% end %&gt;\n+  &lt;td class=\"Table__td\"&gt;&lt;%= event.description %&gt;&lt;/td&gt;\n+  &lt;td class=\"Table__td Table__td--date\"&gt;\n+    &lt;%= event.occurred_at.strftime('%Y/%m/%d %H:%M:%S') %&gt;\n+  &lt;/td&gt;\n+&lt;/tr&gt;\n\\ No newline at end of file\ndiff --git a/app/views/admin/staff_events/index.html.erb b/app/views/admin/staff_events/index.html.erb\nnew file mode 100644\nindex 0000000..43fe679\n--- /dev/null\n+++ b/app/views/admin/staff_events/index.html.erb\n@@ -0,0 +1,36 @@\n+&lt;%\n+  if @staff_member\n+    full_name = @staff_member.family_name + @staff_member.given_name\n+    @title = \"#{full_name}\u3055\u3093\u306e#{t('.title')}\"\n+  else\n+    @title = t('.title')\n+  end\n+%&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Admin__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column Table\"&gt;\n+  &lt;div class=\"Table__links\"&gt;\n+    &lt;%= link_to t('.admin_staff_members'), :admin_staff_members, class: 'btn btn-default' %&gt;\n+  &lt;/div&gt;\n+\n+  &lt;table class=\"Table__body Table__body--listing AdminTable__body\"&gt;\n+    &lt;tr class=\"Table__tr\"&gt;\n+      &lt;% unless @staff_member %&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.full_name') %&gt;&lt;/th&gt;&lt;% end %&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.type') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.date_time') %&gt;&lt;/th&gt;\n+    &lt;/tr&gt;\n+    &lt;%= render partial: 'event', collection: @events %&gt;\n+    &lt;% if @events.empty? %&gt;\n+        &lt;tr&gt;\n+          &lt;%= content_tag(:td, t('.contents_not_record'),\n+              colspan: @staff_member ? 2 : 3, style: 'text-align: center') %&gt;\n+        &lt;/tr&gt;\n+    &lt;% end %&gt;\n+  &lt;/table&gt;\n+\n+  &lt;div class=\"Table__links\"&gt;\n+    &lt;%= link_to t('.admin_staff_members'), :admin_staff_members, class: 'btn btn-default' %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\ndiff --git a/config/locales/models/ja.yml b/config/locales/models/ja.yml\nindex 15cb668..3650d58 100644\n--- a/config/locales/models/ja.yml\n+++ b/config/locales/models/ja.yml\n@@ -3,6 +3,7 @@ ja:\n     models:\n       administrator: \u7ba1\u7406\u8005\n       staff_member: \u8077\u54e1\n+      staff_event: \u8077\u54e1\u30a4\u30d9\u30f3\u30c8\n\n     attributes:\n       administrator:\n@@ -23,6 +24,14 @@ ja:\n         start_date: \u958b\u59cb\u65e5\n         suspended: \u505c\u6b62\u30d5\u30e9\u30b0\n\n+      staff_event:\n+        member: \u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+        type: \u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\n+        description:\n+          logged_in: \u30ed\u30b0\u30a4\u30f3\n+          logged_out: \u30ed\u30b0\u30a2\u30a6\u30c8\n+          rejected: \u30ed\u30b0\u30a4\u30f3\u62d2\u5426\n+\n   activemodel:\n     models:\n       staff/login_form: \u8077\u54e1\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 51491a8..fedb909 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -57,4 +57,12 @@ ja:\n       edit:\n         title: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u7de8\u96c6'\n         update: '\u767b\u9332'\n-        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n\\ No newline at end of file\n+        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n+    staff_events:\n+        index:\n+          title: '\u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u8a18\u9332'\n+          admin_staff_members: '\u8077\u54e1\u4e00\u89a7'\n+          full_name: '\u6c0f\u540d'\n+          type: '\u7a2e\u5225'\n+          date_time: '\u65e5\u6642'\n+          contents_not_record: '\u8a18\u9332\u304c\u3042\u308a\u307e\u305b\u3093'\n\\ No newline at end of file\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 5124565..26ef1fa 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -32,6 +32,10 @@\n #\n\n Rails.application.routes.draw do\n+  namespace :admin do\n+    get 'staff_events/index'\n+  end\n+\n   config = Rails.application.config.baukis_kai\n\n   concern :session_path do\n</code></pre>"},{"location":"journal/20170131/#_60","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170131/#b5a7677","title":"\u30b3\u30df\u30c3\u30c8: b5a7677","text":""},{"location":"journal/20170131/#_61","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30cd\u30b9\u30c8\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\u3068\u306f #9\n</code></pre>"},{"location":"journal/20170131/#_62","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/views/admin/staff_members/index.html.erb</li> <li>M app/views/admin/top/dashboard.html.erb</li> <li>M config/locales/views/ja.yml</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170131/#_63","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit b5a7677c69b9e39bf376cf5e95de05e968762c41\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 31 14:18:07 2017 +0900\n\n    \u30cd\u30b9\u30c8\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\u3068\u306f #9\n\ndiff --git a/README.md b/README.md\nindex 6de3bcd..d01db1d 100644\n--- a/README.md\n+++ b/README.md\n@@ -468,6 +468,8 @@ git push heroku master\n + \u30a4\u30d9\u30f3\u30c8\u306e\u8a18\u9332\n\n #### \u30cd\u30b9\u30c8\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\n++ \u30cd\u30b9\u30c8\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\u3068\u306f\n+\n #### \u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\n #### N + 1\u554f\u984c\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/views/admin/staff_members/index.html.erb b/app/views/admin/staff_members/index.html.erb\nindex 69e5487..d8bf10e 100644\n--- a/app/views/admin/staff_members/index.html.erb\n+++ b/app/views/admin/staff_members/index.html.erb\n@@ -30,6 +30,7 @@\n           &lt;/td&gt;\n           &lt;td class=\"Table__td Table__td--actions\"&gt;\n             &lt;%= link_to t('.edit'), [ :edit, :admin, m ], class: 'btn btn-default btn-xs' %&gt; |\n+            &lt;%= link_to t('.events'), [ :admin, m, :staff_events ], class: 'btn btn-default btn-xs' %&gt; |\n             &lt;%= link_to t('.delete'), [ :admin, m ], method: :delete,\n                         data: { confirm: t('.confirm')}, class: 'btn btn-default btn-xs' %&gt;\n           &lt;/td&gt;\ndiff --git a/app/views/admin/top/dashboard.html.erb b/app/views/admin/top/dashboard.html.erb\nindex c0f7ba2..892b73e 100644\n--- a/app/views/admin/top/dashboard.html.erb\n+++ b/app/views/admin/top/dashboard.html.erb\n@@ -6,5 +6,6 @@\n &lt;section class=\"Section l-column DashBoard\"&gt;\n   &lt;ul class=\"DashBoard__menu\"&gt;\n     &lt;li&gt;&lt;%= link_to t('.admin_staff_members'), :admin_staff_members, class: 'btn btn-default' %&gt;&lt;/li&gt;\n+    &lt;li&gt;&lt;%= link_to t('.admin_staff_events'), :admin_staff_events, class: 'btn btn-default' %&gt;&lt;/li&gt;\n   &lt;/ul&gt;\n &lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 5f970cb..51491a8 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -34,6 +34,7 @@ ja:\n       dashboard:\n         title: '\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9'\n         admin_staff_members: '\u8077\u54e1\u7ba1\u7406'\n+        admin_staff_events: '\u8077\u54e1\u306e\u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u8a18\u9332'\n     staff_members:\n       index:\n         title: '\u8077\u54e1\u7ba1\u7406'\n@@ -46,6 +47,7 @@ ja:\n         suspended: '\u505c\u6b62\u30d5\u30e9\u30b0'\n         action: '\u30a2\u30af\u30b7\u30e7\u30f3'\n         edit: '\u7de8\u96c6'\n+        events: 'Events'\n         delete: '\u524a\u9664'\n         confirm: '\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b?'\n       new:\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 8cf125f..5124565 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -1,30 +1,34 @@\n # == Route Map\n #\n-#                   Prefix Verb   URI Pattern                   Controller#Action\n-#               staff_root GET    /staff(.:format)              staff/top#index {:host=&gt;\"0.0.0.0\"}\n-#              staff_login GET    /staff/login(.:format)        staff/sessions#new {:host=&gt;\"0.0.0.0\"}\n-#            staff_session DELETE /staff/session(.:format)      staff/sessions#destroy {:host=&gt;\"0.0.0.0\"}\n-#                          POST   /staff/session(.:format)      staff/sessions#create {:host=&gt;\"0.0.0.0\"}\n-#        new_staff_account GET    /staff/account/new(.:format)  staff/accounts#new {:host=&gt;\"0.0.0.0\", :execpt=&gt;[:new, :create, :destroy]}\n-#       edit_staff_account GET    /staff/account/edit(.:format) staff/accounts#edit {:host=&gt;\"0.0.0.0\", :execpt=&gt;[:new, :create, :destroy]}\n-#            staff_account GET    /staff/account(.:format)      staff/accounts#show {:host=&gt;\"0.0.0.0\", :execpt=&gt;[:new, :create, :destroy]}\n-#                          PATCH  /staff/account(.:format)      staff/accounts#update {:host=&gt;\"0.0.0.0\", :execpt=&gt;[:new, :create, :destroy]}\n-#                          PUT    /staff/account(.:format)      staff/accounts#update {:host=&gt;\"0.0.0.0\", :execpt=&gt;[:new, :create, :destroy]}\n-#                          DELETE /staff/account(.:format)      staff/accounts#destroy {:host=&gt;\"0.0.0.0\", :execpt=&gt;[:new, :create, :destroy]}\n-#                          POST   /staff/account(.:format)      staff/accounts#create {:host=&gt;\"0.0.0.0\", :execpt=&gt;[:new, :create, :destroy]}\n-#               admin_root GET    /admin(.:format)              admin/top#index {:host=&gt;\"0.0.0.0\"}\n-#              admin_login GET    /admin/login(.:format)        admin/sessions#new {:host=&gt;\"0.0.0.0\"}\n-#            admin_session DELETE /admin/session(.:format)      admin/sessions#destroy {:host=&gt;\"0.0.0.0\"}\n-#                          POST   /admin/session(.:format)      admin/sessions#create {:host=&gt;\"0.0.0.0\"}\n-#      admin_staff_members GET    /admin/staff(.:format)        admin/staff_members#index {:host=&gt;\"0.0.0.0\"}\n-#                          POST   /admin/staff(.:format)        admin/staff_members#create {:host=&gt;\"0.0.0.0\"}\n-#   new_admin_staff_member GET    /admin/staff/new(.:format)    admin/staff_members#new {:host=&gt;\"0.0.0.0\"}\n-#            customer_root GET    /                             customer/top#index {:host=&gt;\"0.0.0.0\"}\n-#   customer_article_index GET    /article/index(.:format)      customer/article#index {:host=&gt;\"0.0.0.0\"}\n-#  customer_campaign_index GET    /campaign/index(.:format)     customer/campaign#index {:host=&gt;\"0.0.0.0\"}\n-# customer_campaign_submit GET    /campaign_submit(.:format)    customer/campaign#submit {:host=&gt;\"0.0.0.0\"}\n-#                     root GET    /                             errors#routing_error\n-#                          GET    /*anything(.:format)          errors#routing_error\n+#                          Prefix Verb   URI Pattern                                          Controller#Action\n+#                      staff_root GET    /staff(.:format)                                     staff/top#index {:host=&gt;\"0.0.0.0\"}\n+#                     staff_login GET    /staff/login(.:format)                               staff/sessions#new {:host=&gt;\"0.0.0.0\"}\n+#                   staff_session DELETE /staff/session(.:format)                             staff/sessions#destroy {:host=&gt;\"0.0.0.0\"}\n+#                                 POST   /staff/session(.:format)                             staff/sessions#create {:host=&gt;\"0.0.0.0\"}\n+#              edit_staff_account GET    /staff/account/edit(.:format)                        staff/accounts#edit {:host=&gt;\"0.0.0.0\"}\n+#                   staff_account GET    /staff/account(.:format)                             staff/accounts#show {:host=&gt;\"0.0.0.0\"}\n+#                                 PATCH  /staff/account(.:format)                             staff/accounts#update {:host=&gt;\"0.0.0.0\"}\n+#                                 PUT    /staff/account(.:format)                             staff/accounts#update {:host=&gt;\"0.0.0.0\"}\n+#                      admin_root GET    /admin(.:format)                                     admin/top#index {:host=&gt;\"0.0.0.0\"}\n+#                     admin_login GET    /admin/login(.:format)                               admin/sessions#new {:host=&gt;\"0.0.0.0\"}\n+#                   admin_session DELETE /admin/session(.:format)                             admin/sessions#destroy {:host=&gt;\"0.0.0.0\"}\n+#                                 POST   /admin/session(.:format)                             admin/sessions#create {:host=&gt;\"0.0.0.0\"}\n+# admin_staff_member_staff_events GET    /admin/staff/:staff_member_id/staff_events(.:format) admin/staff_events#index {:host=&gt;\"0.0.0.0\"}\n+#             admin_staff_members GET    /admin/staff(.:format)                               admin/staff_members#index {:host=&gt;\"0.0.0.0\"}\n+#                                 POST   /admin/staff(.:format)                               admin/staff_members#create {:host=&gt;\"0.0.0.0\"}\n+#          new_admin_staff_member GET    /admin/staff/new(.:format)                           admin/staff_members#new {:host=&gt;\"0.0.0.0\"}\n+#         edit_admin_staff_member GET    /admin/staff/:id/edit(.:format)                      admin/staff_members#edit {:host=&gt;\"0.0.0.0\"}\n+#              admin_staff_member GET    /admin/staff/:id(.:format)                           admin/staff_members#show {:host=&gt;\"0.0.0.0\"}\n+#                                 PATCH  /admin/staff/:id(.:format)                           admin/staff_members#update {:host=&gt;\"0.0.0.0\"}\n+#                                 PUT    /admin/staff/:id(.:format)                           admin/staff_members#update {:host=&gt;\"0.0.0.0\"}\n+#                                 DELETE /admin/staff/:id(.:format)                           admin/staff_members#destroy {:host=&gt;\"0.0.0.0\"}\n+#              admin_staff_events GET    /admin/staff_events(.:format)                        admin/staff_events#index {:host=&gt;\"0.0.0.0\"}\n+#                   customer_root GET    /                                                    customer/top#index {:host=&gt;\"0.0.0.0\"}\n+#          customer_article_index GET    /article/index(.:format)                             customer/article#index {:host=&gt;\"0.0.0.0\"}\n+#         customer_campaign_index GET    /campaign/index(.:format)                            customer/campaign#index {:host=&gt;\"0.0.0.0\"}\n+#        customer_campaign_submit GET    /campaign_submit(.:format)                           customer/campaign#submit {:host=&gt;\"0.0.0.0\"}\n+#                            root GET    /                                                    errors#routing_error\n+#                                 GET    /*anything(.:format)                                 errors#routing_error\n #\n\n Rails.application.routes.draw do\n@@ -47,7 +51,10 @@ Rails.application.routes.draw do\n     namespace :admin, path: config[:admin][:path]  do\n       root 'top#index'\n       concerns :session_path\n-      resources :staff_members, path: 'staff'\n+      resources :staff_members, path: 'staff' do\n+        resources :staff_events, only: [:index]\n+      end\n+      resources :staff_events, only: [:index]\n     end\n   end\n</code></pre>"},{"location":"journal/20170131/#dfec160","title":"\u30b3\u30df\u30c3\u30c8: dfec160","text":""},{"location":"journal/20170131/#_64","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30a4\u30d9\u30f3\u30c8\u306e\u8a18\u9332 #9\n</code></pre>"},{"location":"journal/20170131/#_65","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/sessions_controller.rb</li> </ul>"},{"location":"journal/20170131/#_66","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit dfec160ff3d18fdd1d8c12e1788593693ba9d8da\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 31 14:06:09 2017 +0900\n\n    \u30a4\u30d9\u30f3\u30c8\u306e\u8a18\u9332 #9\n\ndiff --git a/README.md b/README.md\nindex 6ba704d..6de3bcd 100644\n--- a/README.md\n+++ b/README.md\n@@ -465,6 +465,7 @@ git push heroku master\n + \u4e00\u5bfe\u4ed6\u306e\u95a2\u9023\u4ed8\u3051\n + \u5916\u90e8\u30ad\u30fc\u5236\u7d04\n + StaffEvent\u30e2\u30c7\u30eb\u306e\u8ffd\u52a0\n++ \u30a4\u30d9\u30f3\u30c8\u306e\u8a18\u9332\n\n #### \u30cd\u30b9\u30c8\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\n #### \u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\ndiff --git a/app/controllers/staff/sessions_controller.rb b/app/controllers/staff/sessions_controller.rb\nindex e08d450..b6dc29b 100644\n--- a/app/controllers/staff/sessions_controller.rb\n+++ b/app/controllers/staff/sessions_controller.rb\n@@ -17,11 +17,13 @@ class Staff::SessionsController &lt; Staff::Base\n     end\n     if Staff::Authenticator.new(staff_member).authenticate(@form.password)\n       if staff_member.suspended?\n+        staff_member.events.create!(type: 'rejected')\n         flash.now.alert = t('common.session.create.alert_account')\n         render action: 'new'\n       else\n         session[:staff_member_id] = staff_member.id\n         session[:last_access_time] = Time.current\n+        staff_member.events.create!(type: 'logged_in')\n         flash.notice =  t('common.session.create.notice')\n         redirect_to :staff_root\n       end\n@@ -32,6 +34,9 @@ class Staff::SessionsController &lt; Staff::Base\n   end\n\n   def destroy\n+    if current_staff_member\n+      current_staff_member.events.create!(type: 'logged_out')\n+    end\n     session.delete(:staff_member_id)\n     flash.notice = t('common.session.destroy.notice')\n     redirect_to :staff_root\n</code></pre>"},{"location":"journal/20170131/#_67","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170131/#138f84f","title":"\u30b3\u30df\u30c3\u30c8: 138f84f","text":""},{"location":"journal/20170131/#_68","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>StaffEvent\u30e2\u30c7\u30eb\u306e\u8ffd\u52a0 #9\n</code></pre>"},{"location":"journal/20170131/#_69","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/models/staff_event.rb</li> <li>M app/models/staff_member.rb</li> <li>A db/migrate/20170131041629_create_staff_events.rb</li> <li>M db/schema.rb</li> <li>A spec/factories/staff_events.rb</li> <li>A spec/models/staff_event_spec.rb</li> </ul>"},{"location":"journal/20170131/#_70","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 138f84f24d7a358203cd7ede61e9806528360f23\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 31 13:55:03 2017 +0900\n\n    StaffEvent\u30e2\u30c7\u30eb\u306e\u8ffd\u52a0 #9\n\ndiff --git a/README.md b/README.md\nindex f4f5e43..6ba704d 100644\n--- a/README.md\n+++ b/README.md\n@@ -462,6 +462,10 @@ git push heroku master\n\n ### \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\n #### \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\n++ \u4e00\u5bfe\u4ed6\u306e\u95a2\u9023\u4ed8\u3051\n++ \u5916\u90e8\u30ad\u30fc\u5236\u7d04\n++ StaffEvent\u30e2\u30c7\u30eb\u306e\u8ffd\u52a0\n+\n #### \u30cd\u30b9\u30c8\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\n #### \u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\n #### N + 1\u554f\u984c\ndiff --git a/app/models/staff_event.rb b/app/models/staff_event.rb\nnew file mode 100644\nindex 0000000..286c6f1\n--- /dev/null\n+++ b/app/models/staff_event.rb\n@@ -0,0 +1,22 @@\n+# == Schema Information\n+#\n+# Table name: staff_events # \u8077\u54e1\u30a4\u30d9\u30f3\u30c8\n+#\n+#  id              :integer          not null, primary key\n+#  staff_member_id :integer          not null              # \u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  type            :string(255)      not null              # \u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\n+#  created_at      :datetime         not null              # \u767a\u751f\u6642\u523b\n+#\n+# Indexes\n+#\n+#  index_staff_events_on_created_at                      (created_at)\n+#  index_staff_events_on_staff_member_id                 (staff_member_id)\n+#  index_staff_events_on_staff_member_id_and_created_at  (staff_member_id,created_at)\n+#\n+\n+class StaffEvent &lt; ApplicationRecord\n+  self.inheritance_column = nil\n+\n+  belongs_to :member, class_name: 'StaffMember', foreign_key: 'staff_member_id'\n+  alias_attribute :occurred_at, :create_at\n+end\ndiff --git a/app/models/staff_member.rb b/app/models/staff_member.rb\nindex 4f85737..ded6c47 100644\n--- a/app/models/staff_member.rb\n+++ b/app/models/staff_member.rb\n@@ -23,6 +23,8 @@\n #\n\n class StaffMember &lt; ApplicationRecord\n+  has_many :events, class_name: 'StaffEvent', dependent: :destroy\n+\n   before_validation do\n     self.email_for_index = email.downcase if email\n   end\ndiff --git a/db/migrate/20170131041629_create_staff_events.rb b/db/migrate/20170131041629_create_staff_events.rb\nnew file mode 100644\nindex 0000000..69b3094\n--- /dev/null\n+++ b/db/migrate/20170131041629_create_staff_events.rb\n@@ -0,0 +1,13 @@\n+class CreateStaffEvents &lt; ActiveRecord::Migration[5.0]\n+  def change\n+    create_table :staff_events,comment:'\u8077\u54e1\u30a4\u30d9\u30f3\u30c8' do |t|\n+      t.references :staff_member, null: false , comment:'\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc'\n+      t.string :type, null: false, comment:'\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7'\n+      t.datetime :created_at, null: false, comment:'\u767a\u751f\u6642\u523b'\n+    end\n+\n+    add_index :staff_events, :created_at\n+    add_index :staff_events, [:staff_member_id, :created_at]\n+    add_foreign_key :staff_events, :staff_members\n+  end\n+end\ndiff --git a/db/schema.rb b/db/schema.rb\nindex b5f43b8..9780a2e 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -10,33 +10,43 @@\n #\n # It's strongly recommended that you check this file into your version control system.\n\n-ActiveRecord::Schema.define(version: 20170120000741) do\n+ActiveRecord::Schema.define(version: 20170131041629) do\n\n-  create_table \"administrators\", force: :cascade do |t|\n-    t.string   \"email\",                           null: false\n-    t.string   \"email_for_index\",                 null: false\n-    t.string   \"hashed_password\"\n-    t.boolean  \"suspended\",       default: false, null: false\n+  create_table \"administrators\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u7ba1\u7406\u8005\" do |t|\n+    t.string   \"email\",                           null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string   \"email_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string   \"hashed_password\",                              comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n+    t.boolean  \"suspended\",       default: false, null: false, comment: \"\u505c\u6b62\u30d5\u30e9\u30b0\"\n     t.datetime \"created_at\",                      null: false\n     t.datetime \"updated_at\",                      null: false\n-    t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true\n+    t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true, using: :btree\n   end\n\n-  create_table \"staff_members\", force: :cascade do |t|\n-    t.string   \"email\",                            null: false\n-    t.string   \"email_for_index\",                  null: false\n-    t.string   \"family_name\",                      null: false\n-    t.string   \"given_name\",                       null: false\n-    t.string   \"family_name_kana\",                 null: false\n-    t.string   \"given_name_kana\",                  null: false\n-    t.string   \"hashed_password\"\n-    t.date     \"start_date\",                       null: false\n-    t.date     \"end_date\"\n-    t.boolean  \"suspended\",        default: false, null: false\n+  create_table \"staff_events\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n+    t.integer  \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.string   \"type\",            null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n+    t.datetime \"created_at\",      null: false, comment: \"\u767a\u751f\u6642\u523b\"\n+    t.index [\"created_at\"], name: \"index_staff_events_on_created_at\", using: :btree\n+    t.index [\"staff_member_id\", \"created_at\"], name: \"index_staff_events_on_staff_member_id_and_created_at\", using: :btree\n+    t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\", using: :btree\n+  end\n+\n+  create_table \"staff_members\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\" do |t|\n+    t.string   \"email\",                            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string   \"email_for_index\",                  null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string   \"family_name\",                      null: false, comment: \"\u59d3\"\n+    t.string   \"given_name\",                       null: false, comment: \"\u540d\"\n+    t.string   \"family_name_kana\",                 null: false, comment: \"\u59d3\uff08\u30ab\u30ca\uff09\"\n+    t.string   \"given_name_kana\",                  null: false, comment: \"\u540d\uff08\u30ab\u30ca\uff09\"\n+    t.string   \"hashed_password\",                               comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n+    t.date     \"start_date\",                       null: false, comment: \"\u958b\u59cb\u65e5\"\n+    t.date     \"end_date\",                                      comment: \"\u7d42\u4e86\u65e5\"\n+    t.boolean  \"suspended\",        default: false, null: false, comment: \"\u505c\u6b62\u30d5\u30e9\u30b0\"\n     t.datetime \"created_at\",                       null: false\n     t.datetime \"updated_at\",                       null: false\n-    t.index [\"email_for_index\"], name: \"index_staff_members_on_email_for_index\", unique: true\n-    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\"\n+    t.index [\"email_for_index\"], name: \"index_staff_members_on_email_for_index\", unique: true, using: :btree\n+    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\", using: :btree\n   end\n\n+  add_foreign_key \"staff_events\", \"staff_members\"\n end\ndiff --git a/spec/factories/staff_events.rb b/spec/factories/staff_events.rb\nnew file mode 100644\nindex 0000000..adb108e\n--- /dev/null\n+++ b/spec/factories/staff_events.rb\n@@ -0,0 +1,21 @@\n+# == Schema Information\n+#\n+# Table name: staff_events # \u8077\u54e1\u30a4\u30d9\u30f3\u30c8\n+#\n+#  id              :integer          not null, primary key\n+#  staff_member_id :integer          not null              # \u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  type            :string(255)      not null              # \u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\n+#  created_at      :datetime         not null              # \u767a\u751f\u6642\u523b\n+#\n+# Indexes\n+#\n+#  index_staff_events_on_created_at                      (created_at)\n+#  index_staff_events_on_staff_member_id                 (staff_member_id)\n+#  index_staff_events_on_staff_member_id_and_created_at  (staff_member_id,created_at)\n+#\n+\n+FactoryGirl.define do\n+  factory :staff_event do\n+    \n+  end\n+end\ndiff --git a/spec/models/staff_event_spec.rb b/spec/models/staff_event_spec.rb\nnew file mode 100644\nindex 0000000..eb3795b\n--- /dev/null\n+++ b/spec/models/staff_event_spec.rb\n@@ -0,0 +1,21 @@\n+# == Schema Information\n+#\n+# Table name: staff_events # \u8077\u54e1\u30a4\u30d9\u30f3\u30c8\n+#\n+#  id              :integer          not null, primary key\n+#  staff_member_id :integer          not null              # \u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  type            :string(255)      not null              # \u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\n+#  created_at      :datetime         not null              # \u767a\u751f\u6642\u523b\n+#\n+# Indexes\n+#\n+#  index_staff_events_on_created_at                      (created_at)\n+#  index_staff_events_on_staff_member_id                 (staff_member_id)\n+#  index_staff_events_on_staff_member_id_and_created_at  (staff_member_id,created_at)\n+#\n+\n+require 'rails_helper'\n+\n+RSpec.describe StaffEvent, type: :model do\n+  pending \"add some examples to (or delete) #{__FILE__}\"\n+end\n</code></pre>"},{"location":"journal/20170131/#_71","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170131/#52ba72a","title":"\u30b3\u30df\u30c3\u30c8: 52ba72a","text":""},{"location":"journal/20170131/#_72","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051 #9\n</code></pre>"},{"location":"journal/20170131/#_73","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170131/#_74","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 52ba72aee1b969fbcd933f8b8e50046954f7ccaa\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jan 31 13:07:34 2017 +0900\n\n    \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051 #9\n\ndiff --git a/README.md b/README.md\nindex ccfb611..f4f5e43 100644\n--- a/README.md\n+++ b/README.md\n@@ -461,6 +461,12 @@ git push heroku master\n + \u6a5f\u80fd\u8ffd\u52a0\n\n ### \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\n+#### \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\n+#### \u30cd\u30b9\u30c8\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\n+#### \u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\n+#### N + 1\u554f\u984c\n+#### \u6f14\u7fd2\u554f\u984c\n+\n ### \u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n ### \u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\n ### jQuery\u3068CoffeeScript\n</code></pre>"},{"location":"journal/20170202/","title":"\u4f5c\u696d\u5c65\u6b74 2017-02-02","text":""},{"location":"journal/20170202/#_1","title":"\u6982\u8981","text":"<p>2017-02-02\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u65e5\u306f\u4e3b\u306b\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u6a5f\u80fd\u306e\u5f37\u5316\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u5177\u4f53\u7684\u306b\u306f\u3001jQuery\u3068CoffeeScript\u3092\u4f7f\u7528\u3057\u305f\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306a\u6a5f\u80fd\u306e\u5b9f\u88c5\u3068\u3001\u65e5\u4ed8\u9078\u629e\u306e\u305f\u3081\u306eDatepicker\u306e\u5c0e\u5165\u3092\u884c\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170202/#_2","title":"\u95a2\u9023\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9","text":"<ul> <li>S-003: \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u66f4\u65b0 - \u8077\u54e1\u304c\u81ea\u8eab\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b</li> <li>A-003: \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210 - \u7ba1\u7406\u8005\u304c\u65b0\u898f\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b</li> <li>A-004: \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6 - \u7ba1\u7406\u8005\u304c\u65e2\u5b58\u306e\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u7de8\u96c6\u3059\u308b</li> </ul>"},{"location":"journal/20170202/#_3","title":"\u30b7\u30b9\u30c6\u30e0\u69cb\u6210\u4e0a\u306e\u4f4d\u7f6e\u3065\u3051","text":"<p>\u3053\u306e\u5b9f\u88c5\u306f\u30d7\u30ec\u30bc\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3\u5c64\u306e\u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u6539\u5584\u306b\u95a2\u308f\u308b\u90e8\u5206\u3067\u3042\u308a\u3001\u30b7\u30b9\u30c6\u30e0\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u304a\u3051\u308b\u4ee5\u4e0b\u306e\u90e8\u5206\u306b\u95a2\u9023\u3057\u3066\u3044\u307e\u3059\uff1a</p> <p></p>"},{"location":"journal/20170202/#1b81ab5","title":"\u30b3\u30df\u30c3\u30c8: 1b81ab5","text":""},{"location":"journal/20170202/#_4","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>jQuery\u3068CoffeeScript #12\n</code></pre>"},{"location":"journal/20170202/#_5","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/admin/top/index.html.erb</li> </ul>"},{"location":"journal/20170202/#_6","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 1b81ab50fe6adc2c5933ec1e4c1796c9eda375fc\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 19:22:24 2017 +0900\n\n    jQuery\u3068CoffeeScript #12\n\ndiff --git a/app/views/admin/top/index.html.erb b/app/views/admin/top/index.html.erb\nindex 42c1b9f..bf2408e 100644\n--- a/app/views/admin/top/index.html.erb\n+++ b/app/views/admin/top/index.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-2-2\"&gt;2017.2.2&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u30c7\u30fc\u30bf\u30d4\u30c3\u30ab\u30fc\u6a5f\u80fd\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-1-31\"&gt;2017.1.31&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n</code></pre>"},{"location":"journal/20170202/#bd53628","title":"\u30b3\u30df\u30c3\u30c8: bd53628","text":""},{"location":"journal/20170202/#_7","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Datepicker\u306e\u5229\u7528 #12\n</code></pre>"},{"location":"journal/20170202/#_8","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>M README.md</li> <li>M app/assets/javascripts/admin.js</li> <li>M app/assets/javascripts/customer.js</li> <li>A app/assets/javascripts/shared/datepicker.coffee</li> <li>A app/assets/javascripts/shared/datetimepicker.coffee</li> <li>M app/assets/javascripts/staff.js</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/presenters/form_presenter.rb</li> <li>M baukis-kai.iml</li> </ul>"},{"location":"journal/20170202/#_9","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit bd53628c9cee0f3cb185ec0aa976587c2e0c6b92\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 19:20:01 2017 +0900\n\n    Datepicker\u306e\u5229\u7528 #12\n\ndiff --git a/Gemfile b/Gemfile\nindex 2bd8d99..f932a45 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -92,3 +92,6 @@ gem 'kaminari', '~&gt; 0.17.0'\n gem 'date_validator', '~&gt; 0.9.0'\n gem 'email_validator', '~&gt; 1.6'\n gem 'jquery-ui-rails', '~&gt; 5.0', '&gt;= 5.0.5'\n+gem 'momentjs-rails'\n+gem 'bootstrap3-datetimepicker-rails'\n+\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex 1a540a8..ca95700 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -56,6 +56,8 @@ GEM\n     bootstrap-sass (3.3.7)\n       autoprefixer-rails (&gt;= 5.2.1)\n       sass (&gt;= 3.3.4)\n+    bootstrap3-datetimepicker-rails (4.17.43)\n+      momentjs-rails (&gt;= 2.8.1)\n     bootstrap_form (2.5.3)\n     builder (3.2.3)\n     byebug (9.0.6)\n@@ -168,6 +170,8 @@ GEM\n     mime-types-data (3.2016.0521)\n     mini_portile2 (2.1.0)\n     minitest (5.10.1)\n+    momentjs-rails (2.17.1)\n+      railties (&gt;= 3.1)\n     multi_json (1.12.1)\n     mysql2 (0.4.5)\n     nenv (0.3.0)\n@@ -313,6 +317,7 @@ DEPENDENCIES\n   better_errors\n   binding_of_caller\n   bootstrap-sass (~&gt; 3.3.6)\n+  bootstrap3-datetimepicker-rails\n   bootstrap_form\n   byebug\n   capybara (~&gt; 2.5.0)\n@@ -337,6 +342,7 @@ DEPENDENCIES\n   launchy (~&gt; 2.4.2)\n   listen (~&gt; 3.0.5)\n   migration_comments\n+  momentjs-rails\n   mysql2 (&gt;= 0.3.18, &lt; 0.5)\n   pg (~&gt; 0.18)\n   puma (~&gt; 3.0)\ndiff --git a/README.md b/README.md\nindex 1dbb26d..ff0cb7d 100644\n--- a/README.md\n+++ b/README.md\n@@ -540,6 +540,7 @@ git push heroku master\n\n #### Datapicker\n + \u6e96\u5099\u4f5c\u696d\n++ Datepicker\u306e\u5229\u7528\n\n ### \u5358\u4e00\u30c6\u30fc\u30d6\u7d99\u627f\n ### Capybara\ndiff --git a/app/assets/javascripts/admin.js b/app/assets/javascripts/admin.js\nindex a3621b1..46d0b8e 100644\n--- a/app/assets/javascripts/admin.js\n+++ b/app/assets/javascripts/admin.js\n@@ -17,4 +17,7 @@\n //= require_tree ./shared\n //= require jquery-ui/datepicker\n //= require jquery-ui/datepicker-ja\n+//= require moment\n+//= require moment/ja\n+//= require bootstrap-datetimepicker\n //= require_tree ./admin\ndiff --git a/app/assets/javascripts/customer.js b/app/assets/javascripts/customer.js\nindex 3745a51..2e0435d 100644\n--- a/app/assets/javascripts/customer.js\n+++ b/app/assets/javascripts/customer.js\n@@ -15,6 +15,9 @@\n //= require turbolinks\n //= require bootstrap-sprockets\n //= require_tree ./shared\n-//= require jquery-ui/datepicker\n-//= require jquery-ui/datepicker-ja\n+//= require moment\n+//= require bootstrap-datetimepicker\n+//= require moment\n+//= require moment/ja\n+//= require bootstrap-datetimepicker\n //= require_tree ./customer\ndiff --git a/app/assets/javascripts/shared/datepicker.coffee b/app/assets/javascripts/shared/datepicker.coffee\nnew file mode 100644\nindex 0000000..1e114ab\n--- /dev/null\n+++ b/app/assets/javascripts/shared/datepicker.coffee\n@@ -0,0 +1,9 @@\n+$(document).on \"turbolinks:load\", -&gt;\n+  do -&gt;\n+    d = new Date()\n+    $.datepicker.setDefaults({\n+      dateFormat: \"yy-mm-dd\",\n+      minDate: new Date(2000, 1, 1),\n+      maxDate: new Date(d.getFullYear() + 1, d.getMonth(), d.getDate() - 1)\n+    })\n+    $('.datepicker').datepicker()\ndiff --git a/app/assets/javascripts/shared/datetimepicker.coffee b/app/assets/javascripts/shared/datetimepicker.coffee\nnew file mode 100644\nindex 0000000..fc41bfe\n--- /dev/null\n+++ b/app/assets/javascripts/shared/datetimepicker.coffee\n@@ -0,0 +1,5 @@\n+$(document).on \"turbolinks:load\", -&gt;\n+  do -&gt;\n+    $(\".datetimepicker\").datetimepicker(\n+      locale: 'ja'\n+    )\ndiff --git a/app/assets/javascripts/staff.js b/app/assets/javascripts/staff.js\nindex f3e78e4..3d952ba 100644\n--- a/app/assets/javascripts/staff.js\n+++ b/app/assets/javascripts/staff.js\n@@ -15,6 +15,9 @@\n //= require turbolinks\n //= require bootstrap-sprockets\n //= require_tree ./shared\n-//= require jquery-ui/datepicker\n-//= require jquery-ui/datepicker-ja\n+//= require moment\n+//= require bootstrap-datetimepicker\n+//= require moment\n+//= require moment/ja\n+//= require bootstrap-datetimepicker\n //= require_tree ./staff\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 154b8f1..c21d5c5 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -86,6 +86,7 @@\n //BootStrap\n @import \"bootstrap-sprockets\";\n @import \"components/bootstrap-custom\";\n+@import 'bootstrap-datetimepicker';\n\n //jQuery\n @import \"jquery-ui/datepicker\";\ndiff --git a/app/presenters/form_presenter.rb b/app/presenters/form_presenter.rb\nindex 5be118f..b0527db 100644\n--- a/app/presenters/form_presenter.rb\n+++ b/app/presenters/form_presenter.rb\n@@ -41,7 +41,13 @@ class FormPresenter\n   def date_field_block(name, label_text, options = {})\n     markup(:div, class: 'AppForm__input-block') do |m|\n       m &lt;&lt; decorated_label(name, label_text, options)\n-      m &lt;&lt; text_field(name, hide_label: true, class: options[:required] ? 'required' : nil)\n+      if options[:class].kind_of?(String)\n+        classes = options[:class].strip.split + ['datetimepicker']\n+        options[:class] = classes.uniq.join(' ')\n+      else\n+        options[:class] = 'datetimepicker'\n+      end\n+      m &lt;&lt; text_field(name, options.merge(hide_label: true))\n     end\n   end\n\ndiff --git a/baukis-kai.iml b/baukis-kai.iml\nindex eb66749..7df2722 100644\n--- a/baukis-kai.iml\n+++ b/baukis-kai.iml\n@@ -38,6 +38,7 @@\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"better_errors (v2.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"binding_of_caller (v0.7.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bootstrap-sass (v3.3.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bootstrap3-datetimepicker-rails (v4.17.43, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bootstrap_form (v2.5.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"builder (v3.2.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bundler (v1.13.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n@@ -94,6 +95,7 @@\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types-data (v3.2016.0521, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mini_portile2 (v2.1.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"minitest (v5.10.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"momentjs-rails (v2.17.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"multi_json (v1.12.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mysql2 (v0.4.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nenv (v0.3.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n</code></pre>"},{"location":"journal/20170202/#041748c","title":"\u30b3\u30df\u30c3\u30c8: 041748c","text":""},{"location":"journal/20170202/#_10","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6e96\u5099\u4f5c\u696d #12\n</code></pre>"},{"location":"journal/20170202/#_11","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>M README.md</li> <li>M app/assets/javascripts/admin.js</li> <li>M app/assets/javascripts/customer.js</li> <li>M app/assets/javascripts/staff.js</li> <li>M app/assets/stylesheets/main.scss</li> <li>M baukis-kai.iml</li> </ul>"},{"location":"journal/20170202/#_12","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 041748c7c62c72f67d739ed1df46a76adde6700b\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 18:58:07 2017 +0900\n\n    \u6e96\u5099\u4f5c\u696d #12\n\ndiff --git a/Gemfile b/Gemfile\nindex 3589aa0..2bd8d99 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -91,3 +91,4 @@ gem 'dotenv-rails'\n gem 'kaminari', '~&gt; 0.17.0'\n gem 'date_validator', '~&gt; 0.9.0'\n gem 'email_validator', '~&gt; 1.6'\n+gem 'jquery-ui-rails', '~&gt; 5.0', '&gt;= 5.0.5'\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex 5196c22..1a540a8 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -144,6 +144,8 @@ GEM\n       rails-dom-testing (&gt;= 1, &lt; 3)\n       railties (&gt;= 4.2.0)\n       thor (&gt;= 0.14, &lt; 2.0)\n+    jquery-ui-rails (5.0.5)\n+      railties (&gt;= 3.2.16)\n     json (2.0.2)\n     kaminari (0.17.0)\n       actionpack (&gt;= 3.0.0)\n@@ -330,6 +332,7 @@ DEPENDENCIES\n   i18n_generators\n   jbuilder (~&gt; 2.5)\n   jquery-rails\n+  jquery-ui-rails (~&gt; 5.0, &gt;= 5.0.5)\n   kaminari (~&gt; 0.17.0)\n   launchy (~&gt; 2.4.2)\n   listen (~&gt; 3.0.5)\ndiff --git a/README.md b/README.md\nindex b6b811d..1dbb26d 100644\n--- a/README.md\n+++ b/README.md\n@@ -539,6 +539,7 @@ git push heroku master\n + \u5165\u529b\u30d5\u30a9\u30fc\u30e0\u306e\u6709\u52b9\u30fb\u7121\u52b9\u3092\u5207\u308a\u66ff\u3048\u308b\n\n #### Datapicker\n++ \u6e96\u5099\u4f5c\u696d\n\n ### \u5358\u4e00\u30c6\u30fc\u30d6\u7d99\u627f\n ### Capybara\ndiff --git a/app/assets/javascripts/admin.js b/app/assets/javascripts/admin.js\nindex 4f525e5..a3621b1 100644\n--- a/app/assets/javascripts/admin.js\n+++ b/app/assets/javascripts/admin.js\n@@ -15,4 +15,6 @@\n //= require turbolinks\n //= require bootstrap-sprockets\n //= require_tree ./shared\n+//= require jquery-ui/datepicker\n+//= require jquery-ui/datepicker-ja\n //= require_tree ./admin\ndiff --git a/app/assets/javascripts/customer.js b/app/assets/javascripts/customer.js\nindex 28299fd..3745a51 100644\n--- a/app/assets/javascripts/customer.js\n+++ b/app/assets/javascripts/customer.js\n@@ -15,4 +15,6 @@\n //= require turbolinks\n //= require bootstrap-sprockets\n //= require_tree ./shared\n+//= require jquery-ui/datepicker\n+//= require jquery-ui/datepicker-ja\n //= require_tree ./customer\ndiff --git a/app/assets/javascripts/staff.js b/app/assets/javascripts/staff.js\nindex b6db3a7..f3e78e4 100644\n--- a/app/assets/javascripts/staff.js\n+++ b/app/assets/javascripts/staff.js\n@@ -15,4 +15,6 @@\n //= require turbolinks\n //= require bootstrap-sprockets\n //= require_tree ./shared\n+//= require jquery-ui/datepicker\n+//= require jquery-ui/datepicker-ja\n //= require_tree ./staff\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 76d692c..154b8f1 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -82,9 +82,13 @@\n\n //font-awesome\n @import \"font-awesome\";\n+\n //BootStrap\n @import \"bootstrap-sprockets\";\n @import \"components/bootstrap-custom\";\n+\n+//jQuery\n+@import \"jquery-ui/datepicker\";\n // ===========================\n // Pages\n // ===========================\ndiff --git a/baukis-kai.iml b/baukis-kai.iml\nindex 9b5fa5f..eb66749 100644\n--- a/baukis-kai.iml\n+++ b/baukis-kai.iml\n@@ -81,6 +81,7 @@\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n_generators (v2.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jbuilder (v2.6.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jquery-rails (v4.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jquery-ui-rails (v5.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"kaminari (v0.17.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"launchy (v2.4.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"listen (v3.0.8, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n</code></pre>"},{"location":"journal/20170202/#90d8c4a","title":"\u30b3\u30df\u30c3\u30c8: 90d8c4a","text":""},{"location":"journal/20170202/#_13","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u5165\u529b\u30d5\u30a9\u30fc\u30e0\u306e\u6709\u52b9\u30fb\u7121\u52b9\u3092\u5207\u308a\u66ff\u3048\u308b #12\n</code></pre>"},{"location":"journal/20170202/#_14","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/assets/javascripts/admin/staff_member_form.coffee</li> <li>M app/presenters/admin/staff_member_form_presenter.rb</li> <li>M app/views/admin/staff_members/_form.html.erb</li> <li>M app/views/admin/staff_members/edit.html.erb</li> </ul>"},{"location":"journal/20170202/#_15","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 90d8c4a80a224cbb766f2c2e8f4bb4d9526a7006\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 18:43:08 2017 +0900\n\n    \u5165\u529b\u30d5\u30a9\u30fc\u30e0\u306e\u6709\u52b9\u30fb\u7121\u52b9\u3092\u5207\u308a\u66ff\u3048\u308b #12\n\ndiff --git a/README.md b/README.md\nindex d470c6e..b6b811d 100644\n--- a/README.md\n+++ b/README.md\n@@ -536,6 +536,7 @@ git push heroku master\n ### jQuery\u3068CoffeeScript\n #### jQuery\u3068CoffeeScript\n + \u6e96\u5099\u4f5c\u696d\n++ \u5165\u529b\u30d5\u30a9\u30fc\u30e0\u306e\u6709\u52b9\u30fb\u7121\u52b9\u3092\u5207\u308a\u66ff\u3048\u308b\n\n #### Datapicker\n\ndiff --git a/app/assets/javascripts/admin/staff_member_form.coffee b/app/assets/javascripts/admin/staff_member_form.coffee\nnew file mode 100644\nindex 0000000..52b4456\n--- /dev/null\n+++ b/app/assets/javascripts/admin/staff_member_form.coffee\n@@ -0,0 +1,22 @@\n+$(document).on \"turbolinks:load\", -&gt;\n+  do -&gt;\n+    new StaffMemberForm\n+\n+class StaffMemberForm\n+  constructor: -&gt;\n+    $('#enable-password-field').on\n+      'click': handlePasswordInputFieldOn\n+    $('#disable-password-field').on\n+      'click': handlePasswordInputFieldOff\n+\n+  handlePasswordInputFieldOn = -&gt;\n+    $('#enable-password-field').hide()\n+    $('#disable-password-field').show()\n+    $('#staff_member_password').removeAttr('disabled')\n+    $('label[for=staff_member_password]').addClass('required')\n+\n+  handlePasswordInputFieldOff = -&gt;\n+    $('#disable-password-field').hide()\n+    $('#enable-password-field').show()\n+    $('#staff_member_password').attr('disabled','disabled')\n+    $('label[for=staff_member_password]').removeClass('required')\ndiff --git a/app/presenters/admin/staff_member_form_presenter.rb b/app/presenters/admin/staff_member_form_presenter.rb\nindex b5b7ac6..62b43d3 100644\n--- a/app/presenters/admin/staff_member_form_presenter.rb\n+++ b/app/presenters/admin/staff_member_form_presenter.rb\n@@ -2,6 +2,13 @@ class Admin::StaffMemberFormPresenter &lt; FormPresenter\n   def password_field_block(name, label_text, options = {})\n     if object.new_record?\n       super(name, label_text,options)\n+    else\n+      markup(:div, class: 'AppForm__input-block') do |m|\n+        m &lt;&lt; decorated_label(name, label_text, options.merge(required: false))\n+        m &lt;&lt; password_field(name, options.merge(disabled: true).merge(hide_label: true))\n+        m.button('\u5909\u66f4\u3059\u308b',type: 'button', id: 'enable-password-field', class: 'btn btn-warning btn-xs')\n+        m.button('\u5909\u66f4\u3057\u306a\u3044', type: 'button', id: 'disable-password-field',style: 'display: none', class: 'btn btn-primary btn-xs')\n+      end\n     end\n   end\n\ndiff --git a/app/views/admin/staff_members/_form.html.erb b/app/views/admin/staff_members/_form.html.erb\nindex 2570e2b..9601706 100644\n--- a/app/views/admin/staff_members/_form.html.erb\n+++ b/app/views/admin/staff_members/_form.html.erb\n@@ -3,7 +3,7 @@\n   m &lt;&lt; p.notes\n   p.with_options(required: true) do |q|\n     m &lt;&lt; p.text_field_block(:email, t('activerecord.attributes.staff_member.email'),size:32)\n-    m &lt;&lt; p.password_field_block(:pasword,t('activerecord.attributes.staff_member.hashed_password'),size: 32)\n+    m &lt;&lt; p.password_field_block(:password,t('activerecord.attributes.staff_member.hashed_password'),size: 32)\n     m &lt;&lt; p.full_name_block(:family_name, :given_name, t('activerecord.attributes.staff_member.full_name'))\n     m &lt;&lt; p.full_name_block(:family_name_kana, :given_name_kana, t('activerecord.attributes.staff_member.full_name_kana'))\n     m &lt;&lt; p.date_field_block(:start_date,t('activerecord.attributes.staff_member.start_date'))\ndiff --git a/app/views/admin/staff_members/edit.html.erb b/app/views/admin/staff_members/edit.html.erb\nindex 42104a8..3dedba9 100644\n--- a/app/views/admin/staff_members/edit.html.erb\n+++ b/app/views/admin/staff_members/edit.html.erb\n@@ -8,8 +8,8 @@\n     &lt;%= bootstrap_form_for [ :admin, @staff_member ] do |f| %&gt;\n         &lt;%= render 'form', f: f %&gt;\n         &lt;div class=\"AppForm__buttons\"&gt;\n-          &lt;%= f.submit t('.update') %&gt;\n-          &lt;%= link_to t('.cancel'), :admin_staff_members %&gt;\n+          &lt;%= f.submit t('.update'),class: 'btn btn-default btn-lg' %&gt;\n+          &lt;%= link_to t('.cancel'), :admin_staff_members,class: 'btn btn-default btn-lg' %&gt;\n         &lt;/div&gt;\n     &lt;% end %&gt;\n   &lt;/div&gt;\n</code></pre>"},{"location":"journal/20170202/#0dbe85e","title":"\u30b3\u30df\u30c3\u30c8: 0dbe85e","text":""},{"location":"journal/20170202/#_16","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6e96\u5099\u4f5c\u696d #12\n</code></pre>"},{"location":"journal/20170202/#_17","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/assets/javascripts/admin/.keep</li> <li>A app/assets/javascripts/customer.js</li> <li>A app/assets/javascripts/customer/.keep</li> <li>A app/assets/javascripts/shared/.keep</li> <li>A app/assets/javascripts/staff.js</li> <li>A app/assets/javascripts/staff/.keep</li> <li>M app/views/layouts/admin.html.erb</li> <li>M app/views/layouts/customer.html.erb</li> <li>M app/views/layouts/staff.html.erb</li> <li>M config/initializers/assets.rb</li> </ul>"},{"location":"journal/20170202/#_18","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 0dbe85e0ae96e6eed158d6dd9b6111036aa45b9a\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 17:24:28 2017 +0900\n\n    \u6e96\u5099\u4f5c\u696d #12\n\ndiff --git a/README.md b/README.md\nindex b136562..d470c6e 100644\n--- a/README.md\n+++ b/README.md\n@@ -535,6 +535,8 @@ git push heroku master\n\n ### jQuery\u3068CoffeeScript\n #### jQuery\u3068CoffeeScript\n++ \u6e96\u5099\u4f5c\u696d\n+\n #### Datapicker\n\n ### \u5358\u4e00\u30c6\u30fc\u30d6\u7d99\u627f\ndiff --git a/app/assets/javascripts/application.js b/app/assets/javascripts/admin.js\nsimilarity index 93%\nrename from app/assets/javascripts/application.js\nrename to app/assets/javascripts/admin.js\nindex 759d92e..4f525e5 100644\n--- a/app/assets/javascripts/application.js\n+++ b/app/assets/javascripts/admin.js\n@@ -14,4 +14,5 @@\n //= require jquery_ujs\n //= require turbolinks\n //= require bootstrap-sprockets\n-//= require_tree .\n+//= require_tree ./shared\n+//= require_tree ./admin\ndiff --git a/app/assets/javascripts/admin/.keep b/app/assets/javascripts/admin/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/app/assets/javascripts/customer.js b/app/assets/javascripts/customer.js\nnew file mode 100644\nindex 0000000..28299fd\n--- /dev/null\n+++ b/app/assets/javascripts/customer.js\n@@ -0,0 +1,18 @@\n+// This is a manifest file that'll be compiled into application.js, which will include all the files\n+// listed below.\n+//\n+// Any JavaScript/Coffee file within this directory, lib/assets/javascripts, vendor/assets/javascripts,\n+// or any plugin's vendor/assets/javascripts directory can be referenced here using a relative path.\n+//\n+// It's not advisable to add code directly here, but if you do, it'll appear at the bottom of the\n+// compiled file. JavaScript code in this file should be added after the last require_* statement.\n+//\n+// Read Sprockets README (https://github.com/rails/sprockets#sprockets-directives) for details\n+// about supported directives.\n+//\n+//= require jquery\n+//= require jquery_ujs\n+//= require turbolinks\n+//= require bootstrap-sprockets\n+//= require_tree ./shared\n+//= require_tree ./customer\ndiff --git a/app/assets/javascripts/customer/.keep b/app/assets/javascripts/customer/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/app/assets/javascripts/shared/.keep b/app/assets/javascripts/shared/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/app/assets/javascripts/staff.js b/app/assets/javascripts/staff.js\nnew file mode 100644\nindex 0000000..b6db3a7\n--- /dev/null\n+++ b/app/assets/javascripts/staff.js\n@@ -0,0 +1,18 @@\n+// This is a manifest file that'll be compiled into application.js, which will include all the files\n+// listed below.\n+//\n+// Any JavaScript/Coffee file within this directory, lib/assets/javascripts, vendor/assets/javascripts,\n+// or any plugin's vendor/assets/javascripts directory can be referenced here using a relative path.\n+//\n+// It's not advisable to add code directly here, but if you do, it'll appear at the bottom of the\n+// compiled file. JavaScript code in this file should be added after the last require_* statement.\n+//\n+// Read Sprockets README (https://github.com/rails/sprockets#sprockets-directives) for details\n+// about supported directives.\n+//\n+//= require jquery\n+//= require jquery_ujs\n+//= require turbolinks\n+//= require bootstrap-sprockets\n+//= require_tree ./shared\n+//= require_tree ./staff\ndiff --git a/app/assets/javascripts/staff/.keep b/app/assets/javascripts/staff/.keep\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/app/views/layouts/admin.html.erb b/app/views/layouts/admin.html.erb\nindex 9ca8f85..88d2bab 100644\n--- a/app/views/layouts/admin.html.erb\n+++ b/app/views/layouts/admin.html.erb\n@@ -5,6 +5,8 @@\n   &lt;meta name=\"description\" content=\"\"&gt;\n   &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n   &lt;title&gt;&lt;%= document_title %&gt;&lt;/title&gt;\n+  &lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n+  &lt;%= javascript_include_tag 'admin', 'data-turbolinks-track': 'reload' %&gt;\n   &lt;%= csrf_meta_tags %&gt;\n &lt;/head&gt;\n\n@@ -15,8 +17,6 @@\n   &lt;%= yield %&gt;\n   &lt;%= render 'admin/shared/footer' %&gt;\n &lt;/div&gt;\n-&lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n-&lt;%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %&gt;\n &lt;script&gt;\n     imageSlide('Slide', 2);\n &lt;/script&gt;\ndiff --git a/app/views/layouts/customer.html.erb b/app/views/layouts/customer.html.erb\nindex a1a4f25..404c4c2 100644\n--- a/app/views/layouts/customer.html.erb\n+++ b/app/views/layouts/customer.html.erb\n@@ -5,6 +5,8 @@\n   &lt;meta name=\"description\" content=\"\"&gt;\n   &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n   &lt;title&gt;&lt;%= document_title %&gt;&lt;/title&gt;\n+  &lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n+  &lt;%= javascript_include_tag 'customer', 'data-turbolinks-track': 'reload' %&gt;\n   &lt;%= csrf_meta_tags %&gt;\n &lt;/head&gt;\n\n@@ -15,8 +17,6 @@\n   &lt;%= yield %&gt;\n   &lt;%= render 'customer/shared/footer' %&gt;\n &lt;/div&gt;\n-&lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n-&lt;%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %&gt;\n &lt;script&gt;\n     imageSlide('Slide', 2);\n &lt;/script&gt;\ndiff --git a/app/views/layouts/staff.html.erb b/app/views/layouts/staff.html.erb\nindex 39f318f..a354967 100644\n--- a/app/views/layouts/staff.html.erb\n+++ b/app/views/layouts/staff.html.erb\n@@ -5,6 +5,8 @@\n   &lt;meta name=\"description\" content=\"\"&gt;\n   &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n   &lt;title&gt;&lt;%= document_title %&gt;&lt;/title&gt;\n+  &lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n+  &lt;%= javascript_include_tag 'staff', 'data-turbolinks-track': 'reload' %&gt;\n   &lt;%= csrf_meta_tags %&gt;\n &lt;/head&gt;\n\n@@ -15,8 +17,6 @@\n   &lt;%= yield %&gt;\n   &lt;%= render 'staff/shared/footer' %&gt;\n &lt;/div&gt;\n-&lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n-&lt;%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %&gt;\n &lt;script&gt;\n     imageSlide('Slide', 2);\n &lt;/script&gt;\ndiff --git a/config/initializers/assets.rb b/config/initializers/assets.rb\nindex ac8c972..87e894e 100644\n--- a/config/initializers/assets.rb\n+++ b/config/initializers/assets.rb\n@@ -8,5 +8,5 @@ Rails.application.config.assets.version = '1.0'\n\n # Precompile additional assets.\n # application.js, application.css, and all non-JS/CSS in app/assets folder are already added.\n-# Rails.application.config.assets.precompile += %w( staff.css )\n+Rails.application.config.assets.precompile += %w( staff.js admin.js customer.js )\n Rails.application.config.assets.paths &lt;&lt; Rails.root.join(\"app\", \"assets\", \"fonts\")\n</code></pre>"},{"location":"journal/20170202/#cc53d9f","title":"\u30b3\u30df\u30c3\u30c8: cc53d9f","text":""},{"location":"journal/20170202/#_19","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>jQuery\u3068CoffeeScript #12\n</code></pre>"},{"location":"journal/20170202/#_20","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170202/#_21","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit cc53d9f4c2b44ef9da87d34062df0e51426f331d\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 17:10:54 2017 +0900\n\n    jQuery\u3068CoffeeScript #12\n\ndiff --git a/README.md b/README.md\nindex 76d9886..b136562 100644\n--- a/README.md\n+++ b/README.md\n@@ -534,6 +534,9 @@ git push heroku master\n #### \u6f14\u7fd2\u554f\u984c\n\n ### jQuery\u3068CoffeeScript\n+#### jQuery\u3068CoffeeScript\n+#### Datapicker\n+\n ### \u5358\u4e00\u30c6\u30fc\u30d6\u7d99\u627f\n ### Capybara\n ### \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n</code></pre>"},{"location":"journal/20170202/#ee6aace","title":"\u30b3\u30df\u30c3\u30c8: ee6aace","text":""},{"location":"journal/20170202/#_22","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6f14\u7fd2\u554f\u984c #11\n</code></pre>"},{"location":"journal/20170202/#_23","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/presenters/admin/staff_member_presenter.rb</li> <li>M app/views/admin/staff_members/index.html.erb</li> </ul>"},{"location":"journal/20170202/#_24","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit ee6aace66dab0fded84d02783a5f45270bb43c2c\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 17:04:24 2017 +0900\n\n    \u6f14\u7fd2\u554f\u984c #11\n\ndiff --git a/app/presenters/admin/staff_member_presenter.rb b/app/presenters/admin/staff_member_presenter.rb\nindex 0cf37c8..1e69aa9 100644\n--- a/app/presenters/admin/staff_member_presenter.rb\n+++ b/app/presenters/admin/staff_member_presenter.rb\n@@ -1,6 +1,14 @@\n class Admin::StaffMemberPresenter &lt; ModelPresenter\n   delegate :suspended?, to: :object\n\n+  def full_name\n+    object.family_name + ' ' + object.given_name\n+  end\n+\n+  def full_name_kana\n+    object.family_name_kana + ' ' + object.given_name_kana\n+  end\n+\n   def suspended_mark\n     suspended? ? raw('&amp;#x2611;') : raw('&amp;#x2610;')\n   end\ndiff --git a/app/views/admin/staff_members/index.html.erb b/app/views/admin/staff_members/index.html.erb\nindex 95ee317..f3668b6 100644\n--- a/app/views/admin/staff_members/index.html.erb\n+++ b/app/views/admin/staff_members/index.html.erb\n@@ -23,8 +23,8 @@\n     &lt;% @staff_members.each do |m| %&gt;\n         &lt;% p = Admin::StaffMemberPresenter.new(m, self) %&gt;\n         &lt;tr  class=\"Table__tr\"&gt;\n-          &lt;td class=\"Table__td\"&gt;&lt;%= m.family_name %&gt; &lt;%= m.given_name %&gt;&lt;/td&gt;\n-          &lt;td class=\"Table__td\"&gt;&lt;%= m.family_name_kana %&gt; &lt;%= m.given_name_kana %&gt;&lt;/td&gt;\n+          &lt;td&gt;&lt;%= p.full_name %&gt;&lt;/td&gt;\n+          &lt;td&gt;&lt;%= p.full_name_kana %&gt;&lt;/td&gt;\n           &lt;td class=\"Table__td Table__td--email\"&gt;&lt;%= m.email %&gt;&lt;/td&gt;\n           &lt;td class=\"Table__td Table__td--date Table__td--center\"&gt;&lt;%= m.start_date %&gt;&lt;/td&gt;\n           &lt;td class=\"Table__td Table__td--date Table__td--center\"&gt;&lt;%= m.end_date %&gt;&lt;/td&gt;\n</code></pre>"},{"location":"journal/20170202/#4b1c3dd","title":"\u30b3\u30df\u30c3\u30c8: 4b1c3dd","text":""},{"location":"journal/20170202/#_25","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u30d5\u30a9\u30fc\u30e0\u306e\u6539\u826f #11\n</code></pre>"},{"location":"journal/20170202/#_26","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/views/staff/passwords/edit.html.erb</li> </ul>"},{"location":"journal/20170202/#_27","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 4b1c3dd047a88e81c441e42077619120ed8dca4a\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 16:57:43 2017 +0900\n\n    \u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u30d5\u30a9\u30fc\u30e0\u306e\u6539\u826f #11\n\ndiff --git a/README.md b/README.md\nindex 6602d07..76d9886 100644\n--- a/README.md\n+++ b/README.md\n@@ -529,6 +529,7 @@ git push heroku master\n + Errors\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n + \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8a2d\u5b9a\n + \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u751f\u6210\n++ \u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u30d5\u30a9\u30fc\u30e0\u306e\u6539\u826f\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/views/staff/passwords/edit.html.erb b/app/views/staff/passwords/edit.html.erb\nindex 2679676..456ad56 100644\n--- a/app/views/staff/passwords/edit.html.erb\n+++ b/app/views/staff/passwords/edit.html.erb\n@@ -6,15 +6,14 @@\n &lt;section class=\"Section l-column AppForm\"&gt;\n   &lt;div class=\"AppForm__generic-form StaffAppForm__generic-form\"&gt;\n     &lt;%= bootstrap_form_for @change_password_form, url: :staff_password, method: :patch do |f| %&gt;\n-        &lt;div&gt;\n-          &lt;%= f.password_field :current_password, size: 32, require: true %&gt;\n-        &lt;/div&gt;\n-        &lt;div&gt;\n-          &lt;%= f.password_field :new_password, size: 32, require: true %&gt;\n-        &lt;/div&gt;\n-        &lt;div&gt;\n-          &lt;%= f.password_field :new_password_confirmation, size: 32, require: true %&gt;\n-        &lt;/div&gt;\n+        &lt;%= markup do |m|\n+          p = FormPresenter.new(f, self)\n+          p.with_options(required: true, size: 32) do |q|\n+            m &lt;&lt; p.password_field_block(:current_password, t('activemodel.attributes.staff/change_password_form.current_password'))\n+            m &lt;&lt; p.password_field_block(:new_password, t('activemodel.attributes.staff/change_password_form.new_password'))\n+            m &lt;&lt; p.password_field_block(:new_password_confirmation, t('activemodel.attributes.staff/change_password_form.new_password_confirmation'))\n+          end\n+        end %&gt;\n         &lt;div class=\"AppForm__buttons\"&gt;\n           &lt;%= f.submit t('.submit'),class: 'btn btn-default btn-lg' %&gt;\n           &lt;%= link_to t('.cancel'), :staff_account, class: 'btn btn-default btn-lg' %&gt;\n</code></pre>"},{"location":"journal/20170202/#c2f6333","title":"\u30b3\u30df\u30c3\u30c8: c2f6333","text":""},{"location":"journal/20170202/#_28","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u751f\u6210 #11\n</code></pre>"},{"location":"journal/20170202/#_29","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/presenters/form_presenter.rb</li> </ul>"},{"location":"journal/20170202/#_30","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c2f6333b7eb18ab005e0a8ced6a85eb44c7c459c\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 16:42:34 2017 +0900\n\n    \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u751f\u6210 #11\n\ndiff --git a/README.md b/README.md\nindex de1f145..6602d07 100644\n--- a/README.md\n+++ b/README.md\n@@ -528,6 +528,7 @@ git push heroku master\n #### \u5165\u529b\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u751f\u6210\n + Errors\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n + \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8a2d\u5b9a\n++ \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u751f\u6210\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/presenters/form_presenter.rb b/app/presenters/form_presenter.rb\nindex 016f17d..5be118f 100644\n--- a/app/presenters/form_presenter.rb\n+++ b/app/presenters/form_presenter.rb\n@@ -45,6 +45,16 @@ class FormPresenter\n     end\n   end\n\n+  def error_message_for(name)\n+    markup do |m|\n+      object.errors.full_messages_for(name).each do |message|\n+        m.div(class: 'error-message') do |m|\n+          m.text message\n+        end\n+      end\n+    end\n+  end\n+\n   private\n   def decorated_label(name, label_text, options)\n     label(name, label_text, class: options[:required] ? 'AppForm__label required' : 'AppForm__label')\n</code></pre>"},{"location":"journal/20170202/#f257ae4","title":"\u30b3\u30df\u30c3\u30c8: f257ae4","text":""},{"location":"journal/20170202/#_31","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8a2d\u5b9a #11\n</code></pre>"},{"location":"journal/20170202/#_32","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/locales/models/ja.yml</li> </ul>"},{"location":"journal/20170202/#_33","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit f257ae43daee5206bcaeee68e1ce7b63dc8ae23a\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 16:34:32 2017 +0900\n\n    \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8a2d\u5b9a #11\n\ndiff --git a/README.md b/README.md\nindex c6c0977..de1f145 100644\n--- a/README.md\n+++ b/README.md\n@@ -526,6 +526,9 @@ git push heroku master\n + \u3055\u3089\u306a\u308b\u6539\u5584\n\n #### \u5165\u529b\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u751f\u6210\n++ Errors\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n++ \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8a2d\u5b9a\n+\n #### \u6f14\u7fd2\u554f\u984c\n\n ### jQuery\u3068CoffeeScript\ndiff --git a/config/locales/models/ja.yml b/config/locales/models/ja.yml\nindex 59e82a2..9f4947d 100644\n--- a/config/locales/models/ja.yml\n+++ b/config/locales/models/ja.yml\n@@ -35,6 +35,20 @@ ja:\n           logged_out: \u30ed\u30b0\u30a2\u30a6\u30c8\n           rejected: \u30ed\u30b0\u30a4\u30f3\u62d2\u5426\n\n+    errors:\n+      models:\n+        staff_member:\n+          attributes:\n+            email:\n+              taken: \u304c\u4ed6\u306e\u8077\u54e1\u3068\u91cd\u8907\u3057\u3066\u3044\u307e\u3059\n+              start_date:\n+                after_or_equal_to: \u306b\u306f2000\u5e741\u67081\u65e5\u4ee5\u964d\u306e\u65e5\u4ed8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n+                before: \u306b\u306f1\u5e74\u5f8c\u306e\u65e5\u4ed8\u3088\u308a\u524d\u306e\u65e5\u4ed8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n+              end_date:\n+                after_or_equal_to: \u306b\u306f2000\u5e741\u67081\u65e5\u4ee5\u964d\u306e\u65e5\u4ed8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n+                before: \u306b\u306f1\u5e74\u5f8c\u306e\u65e5\u4ed8\u3088\u308a\u524d\u306e\u65e5\u4ed8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n+                after: \u306b\u306f\u958b\u59cb\u65e5\u3088\u308a\u5f8c\u306e\u65e5\u4ed8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n+\n   activemodel:\n     models:\n       staff/login_form: \u8077\u54e1\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\n</code></pre>"},{"location":"journal/20170202/#cc1cd71","title":"\u30b3\u30df\u30c3\u30c8: cc1cd71","text":""},{"location":"journal/20170202/#_34","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u3055\u3089\u306a\u308b\u6539\u5584 #11\n</code></pre>"},{"location":"journal/20170202/#_35","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/helpers/application_helper.rb</li> <li>M app/presenters/admin/staff_member_form_presenter.rb</li> <li>M app/presenters/form_presenter.rb</li> <li>M app/views/admin/staff_members/_form.html.erb</li> </ul>"},{"location":"journal/20170202/#_36","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit cc1cd71e0e5fb528aea9bf42d822887d295dbf59\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 16:24:15 2017 +0900\n\n    \u3055\u3089\u306a\u308b\u6539\u5584 #11\n\ndiff --git a/README.md b/README.md\nindex edc601b..c6c0977 100644\n--- a/README.md\n+++ b/README.md\n@@ -523,6 +523,7 @@ git push heroku master\n + \u554f\u984c\u306e\u6240\u5728\n + FormPresenter\u30af\u30e9\u30b9\u306e\u5b9a\u7fa9\n + \u30d5\u30a9\u30fc\u30e0\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u306e\u5229\u7528\n++ \u3055\u3089\u306a\u308b\u6539\u5584\n\n #### \u5165\u529b\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u751f\u6210\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/helpers/application_helper.rb b/app/helpers/application_helper.rb\nindex b4a86ef..fcd0f75 100644\n--- a/app/helpers/application_helper.rb\n+++ b/app/helpers/application_helper.rb\n@@ -1,4 +1,6 @@\n module ApplicationHelper\n+  include HtmlBuilder\n+\n   def document_title\n     if @title.present?\n       \"#{@title} - BaukisKai\"\ndiff --git a/app/presenters/admin/staff_member_form_presenter.rb b/app/presenters/admin/staff_member_form_presenter.rb\nindex 58cff48..b5b7ac6 100644\n--- a/app/presenters/admin/staff_member_form_presenter.rb\n+++ b/app/presenters/admin/staff_member_form_presenter.rb\n@@ -7,7 +7,7 @@ class Admin::StaffMemberFormPresenter &lt; FormPresenter\n\n   def full_name_block(name1, name2, label_text, options = {})\n     markup(:dvi,class: 'AppForm__input-block') do |m|\n-      m &lt;&lt; label(name1, label_text ,class: options[:required] ? 'AppForm__label required' : 'AppForm__label')\n+      m &lt;&lt; decorated_label(name1, label_text, options)\n       m &lt;&lt; text_field(name1, hide_label: true, class: options[:required] ? 'required' : nil)\n       m &lt;&lt; text_field(name2, hide_label: true, class: options[:required] ? 'required' : nil)\n     end\ndiff --git a/app/presenters/form_presenter.rb b/app/presenters/form_presenter.rb\nindex a3295ca..016f17d 100644\n--- a/app/presenters/form_presenter.rb\n+++ b/app/presenters/form_presenter.rb\n@@ -26,22 +26,28 @@ class FormPresenter\n\n   def text_field_block(name, label_text, options = {})\n     markup(:div, class: 'AppForm__input-block') do |m|\n-      m &lt;&lt; label(name, label_text,class: options[:required] ? 'AppForm__label required' : 'AppForm__label')\n+      m &lt;&lt; decorated_label(name, label_text, options)\n       m &lt;&lt; text_field(name, hide_label: true, class: options[:required] ? 'required' : nil)\n     end\n   end\n\n   def password_field_block(name, label_text, options = {})\n     markup(:div, class: 'AppForm__input-block') do |m|\n-      m &lt;&lt; label(name, label_text, class: options[:required] ? 'AppForm__label required' : 'AppForm__label')\n+      m &lt;&lt; decorated_label(name, label_text, options)\n       m &lt;&lt; password_field(name, hide_label: true, class: options[:required] ? 'required' : nil)\n     end\n   end\n\n   def date_field_block(name, label_text, options = {})\n     markup(:div, class: 'AppForm__input-block') do |m|\n-      m &lt;&lt; label(name, label_text,class: options[:required] ? 'AppForm__label required' : 'AppForm__label')\n+      m &lt;&lt; decorated_label(name, label_text, options)\n       m &lt;&lt; text_field(name, hide_label: true, class: options[:required] ? 'required' : nil)\n     end\n   end\n+\n+  private\n+  def decorated_label(name, label_text, options)\n+    label(name, label_text, class: options[:required] ? 'AppForm__label required' : 'AppForm__label')\n+  end\n+\n end\n\\ No newline at end of file\ndiff --git a/app/views/admin/staff_members/_form.html.erb b/app/views/admin/staff_members/_form.html.erb\nindex c7e8c09..2570e2b 100644\n--- a/app/views/admin/staff_members/_form.html.erb\n+++ b/app/views/admin/staff_members/_form.html.erb\n@@ -1,9 +1,13 @@\n-&lt;% p = Admin::StaffMemberFormPresenter.new(f, self) %&gt;\n-&lt;%= p.notes %&gt;\n-&lt;%= p.text_field_block(:email, t('activerecord.attributes.staff_member.email'),size:32,required: true) %&gt;\n-&lt;%= p.password_field_block(:pasword,t('activerecord.attributes.staff_member.hashed_password'),size: 32, required: true) %&gt;\n-&lt;%= p.full_name_block(:family_name, :given_name, t('activerecord.attributes.staff_member.full_name'), {required: true}) %&gt;\n-&lt;%= p.full_name_block(:family_name_kana, :given_name_kana, t('activerecord.attributes.staff_member.full_name_kana'), {required: true}) %&gt;\n-&lt;%= p.date_field_block(:start_date,t('activerecord.attributes.staff_member.start_date'),required: true) %&gt;\n-&lt;%= p.date_field_block(:end_date,t('activerecord.attributes.staff_member.end_date') ) %&gt;\n-&lt;%= p.check_boxes %&gt;\n\\ No newline at end of file\n+&lt;%= markup do |m|\n+  p = Admin::StaffMemberFormPresenter.new(f, self)\n+  m &lt;&lt; p.notes\n+  p.with_options(required: true) do |q|\n+    m &lt;&lt; p.text_field_block(:email, t('activerecord.attributes.staff_member.email'),size:32)\n+    m &lt;&lt; p.password_field_block(:pasword,t('activerecord.attributes.staff_member.hashed_password'),size: 32)\n+    m &lt;&lt; p.full_name_block(:family_name, :given_name, t('activerecord.attributes.staff_member.full_name'))\n+    m &lt;&lt; p.full_name_block(:family_name_kana, :given_name_kana, t('activerecord.attributes.staff_member.full_name_kana'))\n+    m &lt;&lt; p.date_field_block(:start_date,t('activerecord.attributes.staff_member.start_date'))\n+    m &lt;&lt; p.date_field_block(:end_date,t('activerecord.attributes.staff_member.end_date'),required: false)\n+  end\n+  m &lt;&lt; p.check_boxes\n+end %&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170202/#7a01480","title":"\u30b3\u30df\u30c3\u30c8: 7a01480","text":""},{"location":"journal/20170202/#_37","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d5\u30a9\u30fc\u30e0\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u306e\u5229\u7528 #11\n</code></pre>"},{"location":"journal/20170202/#_38","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/stylesheets/components/_appForm.scss</li> <li>A app/presenters/admin/staff_member_form_presenter.rb</li> <li>M app/presenters/form_presenter.rb</li> <li>M app/views/admin/staff_members/_form.html.erb</li> <li>M config/locales/models/ja.yml</li> </ul>"},{"location":"journal/20170202/#_39","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 7a01480a80dc1b700ba93ed0a46465972de29840\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 16:10:34 2017 +0900\n\n    \u30d5\u30a9\u30fc\u30e0\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u306e\u5229\u7528 #11\n\ndiff --git a/README.md b/README.md\nindex 5118a64..edc601b 100644\n--- a/README.md\n+++ b/README.md\n@@ -522,6 +522,7 @@ git push heroku master\n #### \u30d5\u30a9\u30fc\u30e0\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\n + \u554f\u984c\u306e\u6240\u5728\n + FormPresenter\u30af\u30e9\u30b9\u306e\u5b9a\u7fa9\n++ \u30d5\u30a9\u30fc\u30e0\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u306e\u5229\u7528\n\n #### \u5165\u529b\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u751f\u6210\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/assets/stylesheets/components/_appForm.scss b/app/assets/stylesheets/components/_appForm.scss\nindex 98aa757..a148bf7 100644\n--- a/app/assets/stylesheets/components/_appForm.scss\n+++ b/app/assets/stylesheets/components/_appForm.scss\n@@ -43,4 +43,7 @@\n     label { color: $red }\n     input { background-color: $pink }\n   }\n+  &amp;__input-block {\n+    input { margin-right: $narrow * 2; }\n+  }\n }\n\\ No newline at end of file\ndiff --git a/app/presenters/admin/staff_member_form_presenter.rb b/app/presenters/admin/staff_member_form_presenter.rb\nnew file mode 100644\nindex 0000000..58cff48\n--- /dev/null\n+++ b/app/presenters/admin/staff_member_form_presenter.rb\n@@ -0,0 +1,22 @@\n+class Admin::StaffMemberFormPresenter &lt; FormPresenter\n+  def password_field_block(name, label_text, options = {})\n+    if object.new_record?\n+      super(name, label_text,options)\n+    end\n+  end\n+\n+  def full_name_block(name1, name2, label_text, options = {})\n+    markup(:dvi,class: 'AppForm__input-block') do |m|\n+      m &lt;&lt; label(name1, label_text ,class: options[:required] ? 'AppForm__label required' : 'AppForm__label')\n+      m &lt;&lt; text_field(name1, hide_label: true, class: options[:required] ? 'required' : nil)\n+      m &lt;&lt; text_field(name2, hide_label: true, class: options[:required] ? 'required' : nil)\n+    end\n+  end\n+\n+  def check_boxes\n+    markup(:div, class: 'AppForm__input-block') do |m|\n+      m &lt;&lt; label(:suspended, I18n.t('activerecord.attributes.staff_member.suspended_on'))\n+      m &lt;&lt; check_box(:suspended)\n+    end\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/presenters/form_presenter.rb b/app/presenters/form_presenter.rb\nindex d9b7985..a3295ca 100644\n--- a/app/presenters/form_presenter.rb\n+++ b/app/presenters/form_presenter.rb\n@@ -16,4 +16,32 @@ class FormPresenter\n     @form_builder = form_builder\n     @view_context = view_context\n   end\n+\n+  def notes\n+    markup(:div, class: 'AppForm__notes') do |m|\n+      m.span '*', class: 'AppForm__notes--mark'\n+      m.text '\u5370\u306e\u4ed8\u3044\u305f\u9805\u76ee\u306f\u5165\u529b\u5fc5\u9808\u3067\u3059\u3002'\n+    end\n+  end\n+\n+  def text_field_block(name, label_text, options = {})\n+    markup(:div, class: 'AppForm__input-block') do |m|\n+      m &lt;&lt; label(name, label_text,class: options[:required] ? 'AppForm__label required' : 'AppForm__label')\n+      m &lt;&lt; text_field(name, hide_label: true, class: options[:required] ? 'required' : nil)\n+    end\n+  end\n+\n+  def password_field_block(name, label_text, options = {})\n+    markup(:div, class: 'AppForm__input-block') do |m|\n+      m &lt;&lt; label(name, label_text, class: options[:required] ? 'AppForm__label required' : 'AppForm__label')\n+      m &lt;&lt; password_field(name, hide_label: true, class: options[:required] ? 'required' : nil)\n+    end\n+  end\n+\n+  def date_field_block(name, label_text, options = {})\n+    markup(:div, class: 'AppForm__input-block') do |m|\n+      m &lt;&lt; label(name, label_text,class: options[:required] ? 'AppForm__label required' : 'AppForm__label')\n+      m &lt;&lt; text_field(name, hide_label: true, class: options[:required] ? 'required' : nil)\n+    end\n+  end\n end\n\\ No newline at end of file\ndiff --git a/app/views/admin/staff_members/_form.html.erb b/app/views/admin/staff_members/_form.html.erb\nindex 0bc4fc4..c7e8c09 100644\n--- a/app/views/admin/staff_members/_form.html.erb\n+++ b/app/views/admin/staff_members/_form.html.erb\n@@ -1,35 +1,9 @@\n-&lt;div class=\"AppForm__notes\"&gt;\n-  &lt;span class=\"AppForm__notes--mark\"&gt;*&lt;/span&gt;\u5370\u306e\u4ed8\u3044\u305f\u9805\u76ee\u306f\u5165\u529b\u5fc5\u9808\u3067\u3059\u3002\n-&lt;/div&gt;\n-&lt;div&gt;\n-  &lt;%= f.label :email, t('activerecord.attributes.staff_member.email'), class: 'AppForm__label required' %&gt;\n-  &lt;%= f.text_field :email, hide_label: true, size: 32, required: true %&gt;\n-&lt;/div&gt;\n-&lt;% if f.object.new_record? %&gt;\n-&lt;div&gt;\n-  &lt;%= f.label :password, t('activerecord.attributes.staff_member.hashed_password'), class: 'AppForm__label required' %&gt;\n-  &lt;%= f.password_field :password, hide_label: true, size:32, required: true %&gt;\n-&lt;/div&gt;\n-&lt;% end %&gt;\n-&lt;div&gt;\n-  &lt;%= f.label :family_name, '\u6c0f\u540d', class: 'required' %&gt;\n-  &lt;%= f.text_field :family_name, hide_label: true, required: true %&gt;\n-  &lt;%= f.text_field :given_name, hide_label: true, required: true %&gt;\n-&lt;/div&gt;\n-&lt;div&gt;\n-  &lt;%= f.label :family_name_kana, '\u30d5\u30ea\u30ac\u30ca', class: 'required' %&gt;\n-  &lt;%= f.text_field :family_name_kana, hide_label: true, required: true %&gt;\n-  &lt;%= f.text_field :given_name_kana, hide_label: true, required: true %&gt;\n-&lt;/div&gt;\n-&lt;div&gt;\n-  &lt;%= f.label :start_date, t('activerecord.attributes.staff_member.start_date'), class: 'AppForm__label required' %&gt;\n-  &lt;%= f.text_field :start_date, hide_label: true, required: true %&gt;\n-&lt;/div&gt;\n-&lt;div&gt;\n-  &lt;%= f.label :end_date, t('activerecord.attributes.staff_member.end_date') %&gt;\n-  &lt;%= f.text_field :end_date ,hide_label: true %&gt;\n-&lt;/div&gt;\n-&lt;div class=\"check-box\"&gt;\n-  &lt;%= f.label :suspended, '\u30a2\u30ab\u30a6\u30f3\u30c8\u505c\u6b62' %&gt;\n-  &lt;%= f.check_box :suspended ,hide_label: true %&gt;\n-&lt;/div&gt;\n\\ No newline at end of file\n+&lt;% p = Admin::StaffMemberFormPresenter.new(f, self) %&gt;\n+&lt;%= p.notes %&gt;\n+&lt;%= p.text_field_block(:email, t('activerecord.attributes.staff_member.email'),size:32,required: true) %&gt;\n+&lt;%= p.password_field_block(:pasword,t('activerecord.attributes.staff_member.hashed_password'),size: 32, required: true) %&gt;\n+&lt;%= p.full_name_block(:family_name, :given_name, t('activerecord.attributes.staff_member.full_name'), {required: true}) %&gt;\n+&lt;%= p.full_name_block(:family_name_kana, :given_name_kana, t('activerecord.attributes.staff_member.full_name_kana'), {required: true}) %&gt;\n+&lt;%= p.date_field_block(:start_date,t('activerecord.attributes.staff_member.start_date'),required: true) %&gt;\n+&lt;%= p.date_field_block(:end_date,t('activerecord.attributes.staff_member.end_date') ) %&gt;\n+&lt;%= p.check_boxes %&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/models/ja.yml b/config/locales/models/ja.yml\nindex 77f47da..59e82a2 100644\n--- a/config/locales/models/ja.yml\n+++ b/config/locales/models/ja.yml\n@@ -23,6 +23,9 @@ ja:\n         hashed_password: \u30d1\u30b9\u30ef\u30fc\u30c9\n         start_date: \u958b\u59cb\u65e5\n         suspended: \u505c\u6b62\u30d5\u30e9\u30b0\n+        full_name: \u6c0f\u540d\n+        full_name_kana: \u30d5\u30ea\u30ac\u30ca\n+        suspended_on: \u30a2\u30ab\u30a6\u30f3\u30c8\u505c\u6b62\n\n       staff_event:\n         member: \u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\n</code></pre>"},{"location":"journal/20170202/#e5b5023","title":"\u30b3\u30df\u30c3\u30c8: e5b5023","text":""},{"location":"journal/20170202/#_40","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>FormPresenter\u30af\u30e9\u30b9\u306e\u5b9a\u7fa9 #11\n</code></pre>"},{"location":"journal/20170202/#_41","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/presenters/form_presenter.rb</li> <li>M app/presenters/model_presenter.rb</li> </ul>"},{"location":"journal/20170202/#_42","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit e5b50232fac6eaaa6fd74baa19cccf076af3e544\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 14:53:12 2017 +0900\n\n    FormPresenter\u30af\u30e9\u30b9\u306e\u5b9a\u7fa9 #11\n\ndiff --git a/README.md b/README.md\nindex dab8f6f..5118a64 100644\n--- a/README.md\n+++ b/README.md\n@@ -520,6 +520,9 @@ git push heroku master\n + StaffEventPresenter\n\n #### \u30d5\u30a9\u30fc\u30e0\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\n++ \u554f\u984c\u306e\u6240\u5728\n++ FormPresenter\u30af\u30e9\u30b9\u306e\u5b9a\u7fa9\n+\n #### \u5165\u529b\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u751f\u6210\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/presenters/form_presenter.rb b/app/presenters/form_presenter.rb\nnew file mode 100644\nindex 0000000..d9b7985\n--- /dev/null\n+++ b/app/presenters/form_presenter.rb\n@@ -0,0 +1,19 @@\n+class FormPresenter\n+  include HtmlBuilder\n+\n+  attr_reader :form_builder,\n+              :view_context\n+\n+  delegate :label,\n+           :text_field,\n+           :password_field,\n+           :check_box,\n+           :radio_button,\n+           :text_area,\n+           :object, to: :form_builder\n+\n+  def initialize(form_builder, view_context)\n+    @form_builder = form_builder\n+    @view_context = view_context\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/presenters/model_presenter.rb b/app/presenters/model_presenter.rb\nindex cd210db..d347ed8 100644\n--- a/app/presenters/model_presenter.rb\n+++ b/app/presenters/model_presenter.rb\n@@ -1,8 +1,11 @@\n class ModelPresenter\n   include HtmlBuilder\n\n-  attr_reader :object, :view_context\n-  delegate :raw, :link_to, to: :view_context\n+  attr_reader :object,\n+              :view_context\n+\n+  delegate :raw,\n+           :link_to, to: :view_context\n\n   def initialize(object, view_context)\n     @object = object\n</code></pre>"},{"location":"journal/20170202/#_43","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170202/#3320ce2","title":"\u30b3\u30df\u30c3\u30c8: 3320ce2","text":""},{"location":"journal/20170202/#_44","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>StaffEventPresenter #11\n</code></pre>"},{"location":"journal/20170202/#_45","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/lib/html_builder.rb</li> <li>A app/presenters/admin/staff_event_presenter.rb</li> <li>M app/presenters/model_presenter.rb</li> <li>D app/views/admin/staff_events/_event.html.erb</li> <li>M app/views/admin/staff_events/index.html.erb</li> </ul>"},{"location":"journal/20170202/#_46","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 3320ce26873b13d2fbf1af0e3dd12490ba7d1967\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 14:45:17 2017 +0900\n\n    StaffEventPresenter #11\n\ndiff --git a/README.md b/README.md\nindex 3fdcfcd..dab8f6f 100644\n--- a/README.md\n+++ b/README.md\n@@ -516,6 +516,8 @@ git push heroku master\n #### HtmlBuilder\n + \u554f\u984c\u306e\u6240\u5728\n + HtmlBuilder\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4f5c\u6210\n++ markup\u30e1\u30bd\u30c3\u30c9\u306e\u4f7f\u7528\u6cd5\n++ StaffEventPresenter\n\n #### \u30d5\u30a9\u30fc\u30e0\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\n #### \u5165\u529b\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u751f\u6210\ndiff --git a/app/lib/html_builder.rb b/app/lib/html_builder.rb\nindex f543de3..2ee4a86 100644\n--- a/app/lib/html_builder.rb\n+++ b/app/lib/html_builder.rb\n@@ -1,6 +1,6 @@\n module HtmlBuilder\n   def markup(tag_name = nil, options = {})\n-    root = Nokogiri::DocumentFragment.parse('')\n+    root = Nokogiri::HTML::DocumentFragment.parse('')\n     Nokogiri::HTML::Builder.with(root) do |doc|\n       if tag_name\n         doc.send(tag_name, options) do\ndiff --git a/app/presenters/admin/staff_event_presenter.rb b/app/presenters/admin/staff_event_presenter.rb\nnew file mode 100644\nindex 0000000..244c4a7\n--- /dev/null\n+++ b/app/presenters/admin/staff_event_presenter.rb\n@@ -0,0 +1,18 @@\n+class Admin::StaffEventPresenter &lt; ModelPresenter\n+  delegate :member, :description, :occurred_at, to: :object\n+\n+  def table_row\n+    markup(:tr, class:'Table__tr') do |m|\n+      unless view_context.instance_variable_get(:@staff_member)\n+        m.td(class: 'Table__td') do\n+          m &lt;&lt; link_to(member.family_name + member.given_name,[:admin, member, :staff_events])\n+        end\n+        m.td description , class: 'Table__td'\n+        m.td(class: 'Table__td Table__td--date') do\n+          m.text occurred_at.strftime('%Y/%m/%d %H:%M:%S')\n+        end\n+      end\n+    end\n+  end\n+\n+end\n\\ No newline at end of file\ndiff --git a/app/presenters/model_presenter.rb b/app/presenters/model_presenter.rb\nindex 59e4a0d..cd210db 100644\n--- a/app/presenters/model_presenter.rb\n+++ b/app/presenters/model_presenter.rb\n@@ -1,6 +1,8 @@\n class ModelPresenter\n+  include HtmlBuilder\n+\n   attr_reader :object, :view_context\n-  delegate :raw, to: :view_context\n+  delegate :raw, :link_to, to: :view_context\n\n   def initialize(object, view_context)\n     @object = object\ndiff --git a/app/views/admin/staff_events/_event.html.erb b/app/views/admin/staff_events/_event.html.erb\ndeleted file mode 100644\nindex 4d1b492..0000000\n--- a/app/views/admin/staff_events/_event.html.erb\n+++ /dev/null\n@@ -1,11 +0,0 @@\n-&lt;tr class=\"Table__tr\"&gt;\n-  &lt;% unless @staff_member %&gt;\n-  &lt;td class=\"Table__td\"&gt;\n-    &lt;%= link_to(event.member.family_name + event.member.given_name,[:admin, event.member, :staff_events]) %&gt;\n-  &lt;/td&gt;\n-  &lt;% end %&gt;\n-  &lt;td class=\"Table__td\"&gt;&lt;%= event.description %&gt;&lt;/td&gt;\n-  &lt;td class=\"Table__td Table__td--date\"&gt;\n-    &lt;%= event.occurred_at.strftime('%Y/%m/%d %H:%M:%S') %&gt;\n-  &lt;/td&gt;\n-&lt;/tr&gt;\n\\ No newline at end of file\ndiff --git a/app/views/admin/staff_events/index.html.erb b/app/views/admin/staff_events/index.html.erb\nindex d2736b4..cfca17e 100644\n--- a/app/views/admin/staff_events/index.html.erb\n+++ b/app/views/admin/staff_events/index.html.erb\n@@ -23,7 +23,9 @@\n       &lt;th class=\"Table__th\"&gt;&lt;%= t('.type') %&gt;&lt;/th&gt;\n       &lt;th class=\"Table__th\"&gt;&lt;%= t('.date_time') %&gt;&lt;/th&gt;\n     &lt;/tr&gt;\n-    &lt;%= render partial: 'event', collection: @events %&gt;\n+    &lt;% @events.each do |event| %&gt;\n+        &lt;%= Admin::StaffEventPresenter.new(event, self).table_row %&gt;\n+    &lt;% end %&gt;\n     &lt;% if @events.empty? %&gt;\n         &lt;tr&gt;\n           &lt;%= content_tag(:td, t('.contents_not_record'),\n</code></pre>"},{"location":"journal/20170202/#_47","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170202/#1c37e36","title":"\u30b3\u30df\u30c3\u30c8: 1c37e36","text":""},{"location":"journal/20170202/#_48","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>HtmlBuilder\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4f5c\u6210 #11\n</code></pre>"},{"location":"journal/20170202/#_49","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/lib/html_builder.rb</li> </ul>"},{"location":"journal/20170202/#_50","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 1c37e365dfcde04bc6a4828f51ee40185e26ab96\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 14:17:53 2017 +0900\n\n    HtmlBuilder\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4f5c\u6210 #11\n\ndiff --git a/README.md b/README.md\nindex 8b79979..3fdcfcd 100644\n--- a/README.md\n+++ b/README.md\n@@ -514,6 +514,9 @@ git push heroku master\n + \u59d4\u8b72\n\n #### HtmlBuilder\n++ \u554f\u984c\u306e\u6240\u5728\n++ HtmlBuilder\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4f5c\u6210\n+\n #### \u30d5\u30a9\u30fc\u30e0\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\n #### \u5165\u529b\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u751f\u6210\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/lib/html_builder.rb b/app/lib/html_builder.rb\nnew file mode 100644\nindex 0000000..f543de3\n--- /dev/null\n+++ b/app/lib/html_builder.rb\n@@ -0,0 +1,15 @@\n+module HtmlBuilder\n+  def markup(tag_name = nil, options = {})\n+    root = Nokogiri::DocumentFragment.parse('')\n+    Nokogiri::HTML::Builder.with(root) do |doc|\n+      if tag_name\n+        doc.send(tag_name, options) do\n+          yield(doc)\n+        end\n+      else\n+        yield(doc)\n+      end\n+    end\n+    root.to_html.html_safe\n+  end\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170202/#e6da740","title":"\u30b3\u30df\u30c3\u30c8: e6da740","text":""},{"location":"journal/20170202/#_51","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u59d4\u8b72 #11\n</code></pre>"},{"location":"journal/20170202/#_52","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/presenters/admin/staff_member_presenter.rb</li> <li>M app/presenters/model_presenter.rb</li> </ul>"},{"location":"journal/20170202/#_53","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit e6da740387d844b65201e347580bae55519ed024\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 14:09:53 2017 +0900\n\n    \u59d4\u8b72 #11\n\ndiff --git a/README.md b/README.md\nindex 11e8581..8b79979 100644\n--- a/README.md\n+++ b/README.md\n@@ -511,6 +511,7 @@ git push heroku master\n #### \u30e2\u30c7\u30eb\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\n + \u554f\u984c\u306e\u6240\u5728\n + \u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u3068\u306f\n++ \u59d4\u8b72\n\n #### HtmlBuilder\n #### \u30d5\u30a9\u30fc\u30e0\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\ndiff --git a/app/presenters/admin/staff_member_presenter.rb b/app/presenters/admin/staff_member_presenter.rb\nindex eeea58f..0cf37c8 100644\n--- a/app/presenters/admin/staff_member_presenter.rb\n+++ b/app/presenters/admin/staff_member_presenter.rb\n@@ -1,8 +1,7 @@\n class Admin::StaffMemberPresenter &lt; ModelPresenter\n-  # \u8077\u54e1\u306e\u505c\u6b62\u30d5\u30e9\u30b0\u306eOn/Off\u3092\u8868\u73fe\u3059\u308b\u8a18\u53f7\u3092\u8fd4\u3059\u3002\n-  #   On: BALLOT BOX WITH CHECk (U+2611)\n-  #   Off: BALLOT BOX WITH CHECK (U+2610)\n+  delegate :suspended?, to: :object\n+\n   def suspended_mark\n-    object.suspended? ? view_context.raw('&amp;#x2611;') : view_context.raw('&amp;#x2610;')\n+    suspended? ? raw('&amp;#x2611;') : raw('&amp;#x2610;')\n   end\n end\n\\ No newline at end of file\ndiff --git a/app/presenters/model_presenter.rb b/app/presenters/model_presenter.rb\nindex 480617a..59e4a0d 100644\n--- a/app/presenters/model_presenter.rb\n+++ b/app/presenters/model_presenter.rb\n@@ -1,5 +1,6 @@\n class ModelPresenter\n   attr_reader :object, :view_context\n+  delegate :raw, to: :view_context\n\n   def initialize(object, view_context)\n     @object = object\n</code></pre>"},{"location":"journal/20170202/#_54","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170202/#2d55249","title":"\u30b3\u30df\u30c3\u30c8: 2d55249","text":""},{"location":"journal/20170202/#_55","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u3068\u306f #11\n</code></pre>"},{"location":"journal/20170202/#_56","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/presenters/admin/staff_member_presenter.rb</li> <li>A app/presenters/model_presenter.rb</li> <li>M app/views/admin/staff_members/index.html.erb</li> </ul>"},{"location":"journal/20170202/#_57","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 2d5524966f1b67f3ab67d05c339b1876a0e4e403\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 14:06:29 2017 +0900\n\n    \u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u3068\u306f #11\n\ndiff --git a/README.md b/README.md\nindex 0f329a8..11e8581 100644\n--- a/README.md\n+++ b/README.md\n@@ -509,6 +509,9 @@ git push heroku master\n\n ### \u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\n #### \u30e2\u30c7\u30eb\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\n++ \u554f\u984c\u306e\u6240\u5728\n++ \u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u3068\u306f\n+\n #### HtmlBuilder\n #### \u30d5\u30a9\u30fc\u30e0\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\n #### \u5165\u529b\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u751f\u6210\ndiff --git a/app/presenters/admin/staff_member_presenter.rb b/app/presenters/admin/staff_member_presenter.rb\nnew file mode 100644\nindex 0000000..eeea58f\n--- /dev/null\n+++ b/app/presenters/admin/staff_member_presenter.rb\n@@ -0,0 +1,8 @@\n+class Admin::StaffMemberPresenter &lt; ModelPresenter\n+  # \u8077\u54e1\u306e\u505c\u6b62\u30d5\u30e9\u30b0\u306eOn/Off\u3092\u8868\u73fe\u3059\u308b\u8a18\u53f7\u3092\u8fd4\u3059\u3002\n+  #   On: BALLOT BOX WITH CHECk (U+2611)\n+  #   Off: BALLOT BOX WITH CHECK (U+2610)\n+  def suspended_mark\n+    object.suspended? ? view_context.raw('&amp;#x2611;') : view_context.raw('&amp;#x2610;')\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/presenters/model_presenter.rb b/app/presenters/model_presenter.rb\nnew file mode 100644\nindex 0000000..480617a\n--- /dev/null\n+++ b/app/presenters/model_presenter.rb\n@@ -0,0 +1,8 @@\n+class ModelPresenter\n+  attr_reader :object, :view_context\n+\n+  def initialize(object, view_context)\n+    @object = object\n+    @view_context = view_context\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/views/admin/staff_members/index.html.erb b/app/views/admin/staff_members/index.html.erb\nindex e5fd15b..95ee317 100644\n--- a/app/views/admin/staff_members/index.html.erb\n+++ b/app/views/admin/staff_members/index.html.erb\n@@ -21,6 +21,7 @@\n       &lt;th class=\"Table__th\"&gt;&lt;%= t('.action') %&gt;&lt;/th&gt;\n     &lt;/tr&gt;\n     &lt;% @staff_members.each do |m| %&gt;\n+        &lt;% p = Admin::StaffMemberPresenter.new(m, self) %&gt;\n         &lt;tr  class=\"Table__tr\"&gt;\n           &lt;td class=\"Table__td\"&gt;&lt;%= m.family_name %&gt; &lt;%= m.given_name %&gt;&lt;/td&gt;\n           &lt;td class=\"Table__td\"&gt;&lt;%= m.family_name_kana %&gt; &lt;%= m.given_name_kana %&gt;&lt;/td&gt;\n@@ -28,7 +29,7 @@\n           &lt;td class=\"Table__td Table__td--date Table__td--center\"&gt;&lt;%= m.start_date %&gt;&lt;/td&gt;\n           &lt;td class=\"Table__td Table__td--date Table__td--center\"&gt;&lt;%= m.end_date %&gt;&lt;/td&gt;\n           &lt;td class=\"Table__td Table__td--boolean\"&gt;\n-            &lt;%= m.suspended? ? raw('&amp;#x2611;') : raw('&amp;#x2610;') %&gt;\n+            &lt;%= p.suspended_mark %&gt;\n           &lt;/td&gt;\n           &lt;td class=\"Table__td Table__td--actions\"&gt;\n             &lt;%= link_to t('.edit'), [ :edit, :admin, m ], class: 'btn btn-default btn-xs' %&gt; |\n</code></pre>"},{"location":"journal/20170202/#_58","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170202/#a71dd98","title":"\u30b3\u30df\u30c3\u30c8: a71dd98","text":""},{"location":"journal/20170202/#_59","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc #11\n</code></pre>"},{"location":"journal/20170202/#_60","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170202/#_61","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit a71dd981ac7effab5bb03168240fc77aa38536ea\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 13:48:36 2017 +0900\n\n    \u30d7\u30ec\u30bc\u30f3\u30bf\u30fc #11\n\ndiff --git a/README.md b/README.md\nindex 39b8df0..0f329a8 100644\n--- a/README.md\n+++ b/README.md\n@@ -508,6 +508,12 @@ git push heroku master\n + \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u8ffd\u52a0\n\n ### \u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\n+#### \u30e2\u30c7\u30eb\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\n+#### HtmlBuilder\n+#### \u30d5\u30a9\u30fc\u30e0\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\n+#### \u5165\u529b\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u751f\u6210\n+#### \u6f14\u7fd2\u554f\u984c\n+\n ### jQuery\u3068CoffeeScript\n ### \u5358\u4e00\u30c6\u30fc\u30d6\u7d99\u627f\n ### Capybara\n</code></pre>"},{"location":"journal/20170202/#d1c8951","title":"\u30b3\u30df\u30c3\u30c8: d1c8951","text":""},{"location":"journal/20170202/#_62","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3 #10\n</code></pre>"},{"location":"journal/20170202/#_63","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170202/#_64","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit d1c89517bbf63716eb062a17b7c1160cd916f031\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 13:45:50 2017 +0900\n\n    \u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3 #10\n\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex ce5a3b8..12d9143 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-2-2\"&gt;2017.2.2&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-1-30\"&gt;2017.1.30&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u5f37\u5316&lt;/span&gt;\n</code></pre>"},{"location":"journal/20170202/#d5e5ad9","title":"\u30b3\u30df\u30c3\u30c8: d5e5ad9","text":""},{"location":"journal/20170202/#_65","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6f14\u7fd2\u554f\u984c #10\n</code></pre>"},{"location":"journal/20170202/#_66","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/staff_member.rb</li> </ul>"},{"location":"journal/20170202/#_67","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit d5e5ad90d32a4c5bb3ae1db10425a7b635294958\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 13:43:37 2017 +0900\n\n    \u6f14\u7fd2\u554f\u984c #10\n\ndiff --git a/README.md b/README.md\nindex 56c6186..39b8df0 100644\n--- a/README.md\n+++ b/README.md\n@@ -505,6 +505,7 @@ git push heroku master\n\n #### \u6f14\u7fd2\u554f\u984c\n + \u30c6\u30b9\u30c8\u8ffd\u52a0\n++ \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u8ffd\u52a0\n\n ### \u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\n ### jQuery\u3068CoffeeScript\ndiff --git a/app/models/staff_member.rb b/app/models/staff_member.rb\nindex c307f2b..e9c0e92 100644\n--- a/app/models/staff_member.rb\n+++ b/app/models/staff_member.rb\n@@ -36,10 +36,11 @@ class StaffMember &lt; ApplicationRecord\n     self.given_name_kana = normalize_as_furigana(given_name_kana)\n   end\n\n+  HUMAN_NAME_REGEXP = /\\A[p{han}\\p{hiragana}\\p{katakana}\\u{30fc}\\p{alpha}]+\\z/\n   KATAKANA_REGEXP = /\\A[\\p{katakana}\\u{30fc}]+\\z/\n\n   validates :email, presence: true, email: { alllow_blank: true }\n-  validates :family_name, :given_name, presence: true\n+  validates :family_name, :given_name, presence: true, format: { with: HUMAN_NAME_REGEXP, allow_blank: true }\n   validates :family_name_kana, :given_name_kana, presence: true, format: { with: KATAKANA_REGEXP, allow_blank: true }\n   validates :start_date, presence: true, date: {\n       after_or_equal_to: Date.new(2000, 1, 1),\n</code></pre>"},{"location":"journal/20170202/#_68","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170202/#09640c8","title":"\u30b3\u30df\u30c3\u30c8: 09640c8","text":""},{"location":"journal/20170202/#_69","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6f14\u7fd2\u554f\u984c #10\n</code></pre>"},{"location":"journal/20170202/#_70","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M spec/models/staff_member_spec.rb</li> </ul>"},{"location":"journal/20170202/#_71","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 09640c8ff18163726c169168c198378884f6a8bb\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 13:37:08 2017 +0900\n\n    \u6f14\u7fd2\u554f\u984c #10\n\ndiff --git a/README.md b/README.md\nindex c74703e..56c6186 100644\n--- a/README.md\n+++ b/README.md\n@@ -504,6 +504,7 @@ git push heroku master\n + \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n\n #### \u6f14\u7fd2\u554f\u984c\n++ \u30c6\u30b9\u30c8\u8ffd\u52a0\n\n ### \u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\n ### jQuery\u3068CoffeeScript\ndiff --git a/spec/models/staff_member_spec.rb b/spec/models/staff_member_spec.rb\nindex 142b2d4..4d72fe7 100644\n--- a/spec/models/staff_member_spec.rb\n+++ b/spec/models/staff_member_spec.rb\n@@ -100,6 +100,16 @@ RSpec.describe StaffMember, type: :model do\n       expect(member2).not_to be_valid\n     end\n\n+    # \u6f22\u5b57\u3001\u3072\u3089\u304c\u306a\u3001\u30ab\u30bf\u30ab\u30ca\u3001\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u4ee5\u5916\u306e\u6587\u5b57\u3092\u542b\u307e\u306a\u3044\n+    it 'does not include characters other than kanji, hiragana, katakana, and alphabet in family_name' do\n+      member = build(:staff_member, family_name: '@@@')\n+      expect(member).not_to be_valid\n+    end\n+\n+    it 'does not include characters other than kanji, hiragana, katakana, and alphabet in given_name' do\n+      member = build(:staff_member, given_name: '@@@')\n+      expect(member).not_to be_valid\n+    end\n\n   end\n end\n</code></pre>"},{"location":"journal/20170202/#_72","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170202/#dd17e7c","title":"\u30b3\u30df\u30c3\u30c8: dd17e7c","text":""},{"location":"journal/20170202/#_73","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3 #10\n</code></pre>"},{"location":"journal/20170202/#_74","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/passwords_controller.rb</li> <li>M app/forms/staff/change_password_form.rb</li> </ul>"},{"location":"journal/20170202/#_75","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit dd17e7c063bc908d8b62ccb123e268c209269f15\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 13:23:33 2017 +0900\n\n    \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3 #10\n\ndiff --git a/README.md b/README.md\nindex 384af1c..c74703e 100644\n--- a/README.md\n+++ b/README.md\n@@ -501,6 +501,7 @@ git push heroku master\n + show\u30a2\u30af\u30b7\u30e7\u30f3\n + edit\u30a2\u30af\u30b7\u30e7\u30f3\n + update\u30a2\u30af\u30b7\u30e7\u30f3\n++ \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/controllers/staff/passwords_controller.rb b/app/controllers/staff/passwords_controller.rb\nindex 05390eb..cf04051 100644\n--- a/app/controllers/staff/passwords_controller.rb\n+++ b/app/controllers/staff/passwords_controller.rb\n@@ -10,11 +10,11 @@ class Staff::PasswordsController &lt; Staff::Base\n   def update\n     @change_password_form = Staff::ChangePasswordForm.new(staff_member_params)\n     @change_password_form.object = current_staff_member\n-    if @change_password_form\n+    if @change_password_form.save\n       flash.notice = t('.flash_success')\n       redirect_to :staff_account\n     else\n-      flash.new.alert = t('.flash_alert')\n+      flash.now.alert = t('.flash_alert')\n       render action: 'edit'\n     end\n   end\ndiff --git a/app/forms/staff/change_password_form.rb b/app/forms/staff/change_password_form.rb\nindex c5c9728..1894953 100644\n--- a/app/forms/staff/change_password_form.rb\n+++ b/app/forms/staff/change_password_form.rb\n@@ -6,8 +6,18 @@ class Staff::ChangePasswordForm\n                 :new_password,\n                 :new_password_confirmation\n\n+  validates :new_password, presence: true, confirmation: true\n+\n+  validate do\n+    unless Staff::Authenticator.new(object).authenticate(current_password)\n+      errors.add(:current_password)\n+    end\n+  end\n+\n   def save\n-    object.password = new_password\n-    object.save!\n+    if valid?\n+      object.password = new_password\n+      object.save!\n+    end\n   end\n end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170202/#_76","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170202/#6acf674","title":"\u30b3\u30df\u30c3\u30c8: 6acf674","text":""},{"location":"journal/20170202/#_77","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>update\u30a2\u30af\u30b7\u30e7\u30f3 #10\n</code></pre>"},{"location":"journal/20170202/#_78","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/passwords_controller.rb</li> <li>M config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170202/#_79","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 6acf674e5d57423097f526940b8cdfd4df977121\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 13:08:45 2017 +0900\n\n    update\u30a2\u30af\u30b7\u30e7\u30f3 #10\n\ndiff --git a/README.md b/README.md\nindex 413d724..384af1c 100644\n--- a/README.md\n+++ b/README.md\n@@ -500,6 +500,7 @@ git push heroku master\n + \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e\n + show\u30a2\u30af\u30b7\u30e7\u30f3\n + edit\u30a2\u30af\u30b7\u30e7\u30f3\n++ update\u30a2\u30af\u30b7\u30e7\u30f3\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/controllers/staff/passwords_controller.rb b/app/controllers/staff/passwords_controller.rb\nindex d529ad8..05390eb 100644\n--- a/app/controllers/staff/passwords_controller.rb\n+++ b/app/controllers/staff/passwords_controller.rb\n@@ -6,4 +6,25 @@ class Staff::PasswordsController &lt; Staff::Base\n   def edit\n     @change_password_form = Staff::ChangePasswordForm.new(object: current_staff_member)\n   end\n+\n+  def update\n+    @change_password_form = Staff::ChangePasswordForm.new(staff_member_params)\n+    @change_password_form.object = current_staff_member\n+    if @change_password_form\n+      flash.notice = t('.flash_success')\n+      redirect_to :staff_account\n+    else\n+      flash.new.alert = t('.flash_alert')\n+      render action: 'edit'\n+    end\n+  end\n+\n+  private\n+  def staff_member_params\n+    params.require(:staff_change_password_form).permit(\n+                                                   :current_password,\n+                                                   :new_password,\n+                                                   :new_password_confirmation\n+    )\n+  end\n end\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex dd1b88a..269cbec 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -18,6 +18,10 @@ ja:\n     accounts:\n       update:\n         flash_success: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n+    passwords:\n+      update:\n+        flash_success: '\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3057\u307e\u3057\u305f\u3002'\n+        flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n   admin:\n     base:\n       authrize:\n</code></pre>"},{"location":"journal/20170202/#_80","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170202/#41ac91c","title":"\u30b3\u30df\u30c3\u30c8: 41ac91c","text":""},{"location":"journal/20170202/#_81","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>edit\u30a2\u30af\u30b7\u30e7\u30f3 #10\n</code></pre>"},{"location":"journal/20170202/#_82","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/passwords_controller.rb</li> <li>A app/forms/staff/change_password_form.rb</li> <li>A app/views/staff/passwords/edit.html.erb</li> <li>M config/locales/models/ja.yml</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170202/#_83","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 41ac91c4c4f4f29217c5f614f980490a1bc6366f\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 12:58:41 2017 +0900\n\n    edit\u30a2\u30af\u30b7\u30e7\u30f3 #10\n\ndiff --git a/README.md b/README.md\nindex d670099..413d724 100644\n--- a/README.md\n+++ b/README.md\n@@ -499,6 +499,7 @@ git push heroku master\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u8a2d\u5b9a\n + \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e\n + show\u30a2\u30af\u30b7\u30e7\u30f3\n++ edit\u30a2\u30af\u30b7\u30e7\u30f3\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/controllers/staff/passwords_controller.rb b/app/controllers/staff/passwords_controller.rb\nindex c39c27c..d529ad8 100644\n--- a/app/controllers/staff/passwords_controller.rb\n+++ b/app/controllers/staff/passwords_controller.rb\n@@ -2,4 +2,8 @@ class Staff::PasswordsController &lt; Staff::Base\n   def show\n     redirect_to :edit_staff_password\n   end\n+\n+  def edit\n+    @change_password_form = Staff::ChangePasswordForm.new(object: current_staff_member)\n+  end\n end\ndiff --git a/app/forms/staff/change_password_form.rb b/app/forms/staff/change_password_form.rb\nnew file mode 100644\nindex 0000000..c5c9728\n--- /dev/null\n+++ b/app/forms/staff/change_password_form.rb\n@@ -0,0 +1,13 @@\n+class Staff::ChangePasswordForm\n+  include ActiveModel::Model\n+\n+  attr_accessor :object,\n+                :current_password,\n+                :new_password,\n+                :new_password_confirmation\n+\n+  def save\n+    object.password = new_password\n+    object.save!\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/views/staff/passwords/edit.html.erb b/app/views/staff/passwords/edit.html.erb\nnew file mode 100644\nindex 0000000..2679676\n--- /dev/null\n+++ b/app/views/staff/passwords/edit.html.erb\n@@ -0,0 +1,24 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column AppForm\"&gt;\n+  &lt;div class=\"AppForm__generic-form StaffAppForm__generic-form\"&gt;\n+    &lt;%= bootstrap_form_for @change_password_form, url: :staff_password, method: :patch do |f| %&gt;\n+        &lt;div&gt;\n+          &lt;%= f.password_field :current_password, size: 32, require: true %&gt;\n+        &lt;/div&gt;\n+        &lt;div&gt;\n+          &lt;%= f.password_field :new_password, size: 32, require: true %&gt;\n+        &lt;/div&gt;\n+        &lt;div&gt;\n+          &lt;%= f.password_field :new_password_confirmation, size: 32, require: true %&gt;\n+        &lt;/div&gt;\n+        &lt;div class=\"AppForm__buttons\"&gt;\n+          &lt;%= f.submit t('.submit'),class: 'btn btn-default btn-lg' %&gt;\n+          &lt;%= link_to t('.cancel'), :staff_account, class: 'btn btn-default btn-lg' %&gt;\n+        &lt;/div&gt;\n+    &lt;% end %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\ndiff --git a/config/locales/models/ja.yml b/config/locales/models/ja.yml\nindex 3650d58..77f47da 100644\n--- a/config/locales/models/ja.yml\n+++ b/config/locales/models/ja.yml\n@@ -35,12 +35,17 @@ ja:\n   activemodel:\n     models:\n       staff/login_form: \u8077\u54e1\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\n+      staff/change_password_form: \u8077\u54e1\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u30d5\u30a9\u30fc\u30e0\n       admin/login_form: \u7ba1\u7406\u8005\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\n\n     attributes:\n       staff/login_form:\n         email: \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n         password: \u30d1\u30b9\u30ef\u30fc\u30c9\n+      staff/change_password_form:\n+        current_password: \u73fe\u5728\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\n+        new_password: \u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\n+        new_password_confirmation: \u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\uff08\u78ba\u8a8d\uff09\n       admin/login_form:\n         email: \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n         password: \u30d1\u30b9\u30ef\u30fc\u30c9\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex ceced60..0b00c41 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -22,6 +22,11 @@ ja:\n         title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u7de8\u96c6'\n         update: '\u66f4\u65b0'\n         cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n+    passwords:\n+      edit:\n+        title: '\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4'\n+        submit: '\u5909\u66f4'\n+        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n   admin:\n     shared:\n       header:\n</code></pre>"},{"location":"journal/20170202/#_84","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170202/#34fb129","title":"\u30b3\u30df\u30c3\u30c8: 34fb129","text":""},{"location":"journal/20170202/#_85","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>show\u30a2\u30af\u30b7\u30e7\u30f3 #10\n</code></pre>"},{"location":"journal/20170202/#_86","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/controllers/staff/passwords_controller.rb</li> </ul>"},{"location":"journal/20170202/#_87","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 34fb1291129b109a9d5629c021ed396ff884f6d1\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 12:41:40 2017 +0900\n\n    show\u30a2\u30af\u30b7\u30e7\u30f3 #10\n\ndiff --git a/README.md b/README.md\nindex 82adc1e..d670099 100644\n--- a/README.md\n+++ b/README.md\n@@ -498,6 +498,7 @@ git push heroku master\n #### \u8077\u54e1\u304c\u81ea\u5206\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\u6a5f\u80fd\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u8a2d\u5b9a\n + \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e\n++ show\u30a2\u30af\u30b7\u30e7\u30f3\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/controllers/staff/passwords_controller.rb b/app/controllers/staff/passwords_controller.rb\nnew file mode 100644\nindex 0000000..c39c27c\n--- /dev/null\n+++ b/app/controllers/staff/passwords_controller.rb\n@@ -0,0 +1,5 @@\n+class Staff::PasswordsController &lt; Staff::Base\n+  def show\n+    redirect_to :edit_staff_password\n+  end\n+end\n</code></pre>"},{"location":"journal/20170202/#_88","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170202/#fb9b5da","title":"\u30b3\u30df\u30c3\u30c8: fb9b5da","text":""},{"location":"journal/20170202/#_89","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ea\u30f3\u30af\u306e\u8a2d\u7f6e #10\n</code></pre>"},{"location":"journal/20170202/#_90","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/stylesheets/components/common/_table.scss</li> <li>M app/views/staff/accounts/show.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170202/#_91","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit fb9b5da7735e47a7ae1e5f023607d20d94082f5e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 12:36:41 2017 +0900\n\n    \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e #10\n\ndiff --git a/README.md b/README.md\nindex f3aed1e..82adc1e 100644\n--- a/README.md\n+++ b/README.md\n@@ -497,6 +497,7 @@ git push heroku master\n\n #### \u8077\u54e1\u304c\u81ea\u5206\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\u6a5f\u80fd\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u8a2d\u5b9a\n++ \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/assets/stylesheets/components/common/_table.scss b/app/assets/stylesheets/components/common/_table.scss\nindex 0c75320..18a6b86 100644\n--- a/app/assets/stylesheets/components/common/_table.scss\n+++ b/app/assets/stylesheets/components/common/_table.scss\n@@ -40,6 +40,8 @@\n     padding: $narrow;\n     &amp;--email { font-family: monospace }\n\n+    &amp;--password { font-family: monospace }\n+\n     &amp;--date {\n       font-family: monospace;\n     }\ndiff --git a/app/views/staff/accounts/show.html.erb b/app/views/staff/accounts/show.html.erb\nindex d286219..d87fd2b 100644\n--- a/app/views/staff/accounts/show.html.erb\n+++ b/app/views/staff/accounts/show.html.erb\n@@ -6,6 +6,7 @@\n &lt;section class=\"Section l-column Table StaffTable\"&gt;\n   &lt;div class=\"Table__links\"&gt;\n     &lt;%= link_to t('.edit'), :edit_staff_account, class: 'btn btn-default' %&gt;\n+    &lt;%= link_to t('.password_edit'), :edit_staff_password, class: 'btn btn-default' %&gt;\n   &lt;/div&gt;\n\n   &lt;table class=\"Table__body Table__body--attributes StaffTable__body\"&gt;\n@@ -29,6 +30,10 @@\n         &lt;%= @staff_member.email %&gt;\n       &lt;/td&gt;\n     &lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.password') %&gt;&lt;/th&gt;\n+      &lt;td class=\"Table__td--password\"&gt;*****************&lt;/td&gt;\n+    &lt;/tr&gt;\n     &lt;tr&gt;\n       &lt;th class=\"Table__th\"&gt;&lt;%= t('.start_date') %&gt;&lt;/th&gt;\n       &lt;td class=\"Table__td--date\"&gt;\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex fedb909..ceced60 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -12,9 +12,11 @@ ja:\n       show:\n         title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831'\n         edit: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u7de8\u96c6'\n+        password_edit: '\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4'\n         full_name: '\u6c0f\u540d'\n         kana: '\u30d5\u30ea\u30ac\u30ca'\n         email: '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9'\n+        password: '\u30d1\u30b9\u30ef\u30fc\u30c9'\n         start_date: '\u958b\u59cb\u65e5'\n       edit:\n         title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u7de8\u96c6'\n</code></pre>"},{"location":"journal/20170202/#8b5484c","title":"\u30b3\u30df\u30c3\u30c8: 8b5484c","text":""},{"location":"journal/20170202/#_92","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u8a2d\u5b9a #10\n</code></pre>"},{"location":"journal/20170202/#_93","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170202/#_94","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8b5484c54ee170e8b3f2bdc63b738e678378fbff\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 2 12:28:29 2017 +0900\n\n    \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u8a2d\u5b9a #10\n\ndiff --git a/README.md b/README.md\nindex 59a3bb8..f3aed1e 100644\n--- a/README.md\n+++ b/README.md\n@@ -496,6 +496,8 @@ git push heroku master\n + \u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\n\n #### \u8077\u54e1\u304c\u81ea\u5206\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\u6a5f\u80fd\n++ \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u8a2d\u5b9a\n+\n #### \u6f14\u7fd2\u554f\u984c\n\n ### \u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 26ef1fa..3be854a 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -9,6 +9,10 @@\n #                   staff_account GET    /staff/account(.:format)                             staff/accounts#show {:host=&gt;\"0.0.0.0\"}\n #                                 PATCH  /staff/account(.:format)                             staff/accounts#update {:host=&gt;\"0.0.0.0\"}\n #                                 PUT    /staff/account(.:format)                             staff/accounts#update {:host=&gt;\"0.0.0.0\"}\n+#             edit_staff_password GET    /staff/password/edit(.:format)                       staff/passwords#edit {:host=&gt;\"0.0.0.0\"}\n+#                  staff_password GET    /staff/password(.:format)                            staff/passwords#show {:host=&gt;\"0.0.0.0\"}\n+#                                 PATCH  /staff/password(.:format)                            staff/passwords#update {:host=&gt;\"0.0.0.0\"}\n+#                                 PUT    /staff/password(.:format)                            staff/passwords#update {:host=&gt;\"0.0.0.0\"}\n #                      admin_root GET    /admin(.:format)                                     admin/top#index {:host=&gt;\"0.0.0.0\"}\n #                     admin_login GET    /admin/login(.:format)                               admin/sessions#new {:host=&gt;\"0.0.0.0\"}\n #                   admin_session DELETE /admin/session(.:format)                             admin/sessions#destroy {:host=&gt;\"0.0.0.0\"}\n@@ -32,10 +36,6 @@\n #\n\n Rails.application.routes.draw do\n-  namespace :admin do\n-    get 'staff_events/index'\n-  end\n-\n   config = Rails.application.config.baukis_kai\n\n   concern :session_path do\n@@ -48,6 +48,7 @@ Rails.application.routes.draw do\n       root   'top#index'\n       concerns :session_path\n       resource :account, only: [:show, :edit, :update]\n+      resource :password, only: [:show, :edit, :update]\n     end\n   end\n</code></pre>"},{"location":"journal/20170203/","title":"\u4f5c\u696d\u5c65\u6b74 2017-02-03","text":""},{"location":"journal/20170203/#_1","title":"\u6982\u8981","text":"<p>2017-02-03\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u65e5\u306f\u4e3b\u306b\u9867\u5ba2\u7ba1\u7406\u6a5f\u80fd\u306e\u5b9f\u88c5\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u5177\u4f53\u7684\u306b\u306f\u3001\u9867\u5ba2\u60c5\u5831\u306e\u65b0\u898f\u767b\u9332\u30fb\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\u306e\u4f5c\u6210\u3068\u3001\u305d\u308c\u306b\u95a2\u9023\u3059\u308b\u90e8\u5206\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3084\u30d5\u30a9\u30fc\u30e0\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u306e\u5b9f\u88c5\u3092\u884c\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170203/#_2","title":"\u95a2\u9023\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9","text":"<ul> <li>S-004: \u9867\u5ba2\u60c5\u5831\u767b\u9332 - \u8077\u54e1\u304c\u65b0\u898f\u9867\u5ba2\u60c5\u5831\u3092\u767b\u9332\u3059\u308b</li> <li>S-005: \u9867\u5ba2\u60c5\u5831\u691c\u7d22 - \u8077\u54e1\u304c\u9867\u5ba2\u60c5\u5831\u3092\u691c\u7d22\u3059\u308b</li> <li>S-006: \u9867\u5ba2\u60c5\u5831\u66f4\u65b0 - \u8077\u54e1\u304c\u65e2\u5b58\u306e\u9867\u5ba2\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b</li> </ul>"},{"location":"journal/20170203/#_3","title":"\u30b7\u30b9\u30c6\u30e0\u69cb\u6210\u4e0a\u306e\u4f4d\u7f6e\u3065\u3051","text":"<p>\u3053\u306e\u5b9f\u88c5\u306f\u30b7\u30b9\u30c6\u30e0\u306e\u9867\u5ba2\u7ba1\u7406\u6a5f\u80fd\u306b\u95a2\u308f\u308b\u90e8\u5206\u3067\u3042\u308a\u3001\u30b7\u30b9\u30c6\u30e0\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u304a\u3051\u308b\u4ee5\u4e0b\u306e\u90e8\u5206\u306b\u95a2\u9023\u3057\u3066\u3044\u307e\u3059\uff1a</p> <p></p>"},{"location":"journal/20170203/#998fa88","title":"\u30b3\u30df\u30c3\u30c8: 998fa88","text":""},{"location":"journal/20170203/#_4","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u90e8\u5206\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u90e1\u306e\u4f5c\u6210 #13\n</code></pre>"},{"location":"journal/20170203/#_5","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .idea/.generators</li> <li>M README.md</li> <li>M app/assets/javascripts/customer.js</li> <li>M app/assets/javascripts/staff.js</li> <li>A app/assets/javascripts/staff/customer_form.coffee</li> <li>A app/assets/javascripts/staff/datetimepicker.coffee</li> <li>M app/presenters/form_presenter.rb</li> <li>M app/presenters/staff/customer_form_presenter.rb</li> <li>A app/views/staff/customers/_customer_fields.html.erb</li> <li>A app/views/staff/customers/_form.html.erb</li> <li>A app/views/staff/customers/_home_address_fields.html.erb</li> <li>A app/views/staff/customers/_work_address_fields.html.erb</li> <li>M app/views/staff/customers/edit.html.erb</li> <li>M app/views/staff/customers/new.html.erb</li> </ul>"},{"location":"journal/20170203/#_6","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 998fa880b8daef5680005ca975b8adb1bd282666\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 3 18:03:36 2017 +0900\n\n    \u90e8\u5206\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u90e1\u306e\u4f5c\u6210 #13\n\ndiff --git a/.idea/.generators b/.idea/.generators\nindex 1618976..a68204b 100644\n--- a/.idea/.generators\n+++ b/.idea/.generators\n@@ -5,4 +5,4 @@ You are allowed to:\n 2. Remove generators\n 3. Add installed generators\n To add new installed generators automatically delete this file and reload the project.\n---&gt;&lt;GeneratorsGroup&gt;&lt;Generator name=\"active_record:migration\" /&gt;&lt;Generator name=\"active_record:model\" /&gt;&lt;Generator name=\"active_record:observer\" /&gt;&lt;Generator name=\"active_record:session_migration\" /&gt;&lt;Generator name=\"controller\" /&gt;&lt;Generator name=\"erb:controller\" /&gt;&lt;Generator name=\"erb:mailer\" /&gt;&lt;Generator name=\"erb:scaffold\" /&gt;&lt;Generator name=\"generator\" /&gt;&lt;Generator name=\"helper\" /&gt;&lt;Generator name=\"integration_test\" /&gt;&lt;Generator name=\"mailer\" /&gt;&lt;Generator name=\"metal\" /&gt;&lt;Generator name=\"migration\" /&gt;&lt;Generator name=\"model\" /&gt;&lt;Generator name=\"model_subclass\" /&gt;&lt;Generator name=\"observer\" /&gt;&lt;Generator name=\"performance_test\" /&gt;&lt;Generator name=\"plugin\" /&gt;&lt;Generator name=\"resource\" /&gt;&lt;Generator name=\"scaffold\" /&gt;&lt;Generator name=\"scaffold_controller\" /&gt;&lt;Generator name=\"session_migration\" /&gt;&lt;Generator name=\"stylesheets\" /&gt;&lt;Generator name=\"test_unit:controller\" /&gt;&lt;Generator name=\"test_unit:helper\" /&gt;&lt;Generator name=\"test_unit:integration\" /&gt;&lt;Generator name=\"test_unit:mailer\" /&gt;&lt;Generator name=\"test_unit:model\" /&gt;&lt;Generator name=\"test_unit:observer\" /&gt;&lt;Generator name=\"test_unit:performance\" /&gt;&lt;Generator name=\"test_unit:plugin\" /&gt;&lt;Generator name=\"test_unit:scaffold\" /&gt;&lt;/GeneratorsGroup&gt;&lt;/Settings&gt;\n+--&gt;&lt;GeneratorsGroup&gt;&lt;Generator name=\"annotate:install\" /&gt;&lt;Generator name=\"assets\" /&gt;&lt;Generator name=\"channel\" /&gt;&lt;Generator name=\"coffee:assets\" /&gt;&lt;Generator name=\"controller\" /&gt;&lt;Generator name=\"erd:install\" /&gt;&lt;Generator name=\"factory_girl:model\" /&gt;&lt;Generator name=\"generator\" /&gt;&lt;Generator name=\"helper\" /&gt;&lt;Generator name=\"i18n\" /&gt;&lt;Generator name=\"i18n_locale\" /&gt;&lt;Generator name=\"i18n_translation\" /&gt;&lt;Generator name=\"integration_test\" /&gt;&lt;Generator name=\"jbuilder\" /&gt;&lt;Generator name=\"job\" /&gt;&lt;Generator name=\"js:assets\" /&gt;&lt;Generator name=\"kaminari:config\" /&gt;&lt;Generator name=\"kaminari:views\" /&gt;&lt;Generator name=\"mailer\" /&gt;&lt;Generator name=\"migration\" /&gt;&lt;Generator name=\"model\" /&gt;&lt;Generator name=\"rack:dev-mark:install\" /&gt;&lt;Generator name=\"resource\" /&gt;&lt;Generator name=\"rspec:controller\" /&gt;&lt;Generator name=\"rspec:feature\" /&gt;&lt;Generator name=\"rspec:helper\" /&gt;&lt;Generator name=\"rspec:install\" /&gt;&lt;Generator name=\"rspec:integration\" /&gt;&lt;Generator name=\"rspec:job\" /&gt;&lt;Generator name=\"rspec:mailer\" /&gt;&lt;Generator name=\"rspec:model\" /&gt;&lt;Generator name=\"rspec:observer\" /&gt;&lt;Generator name=\"rspec:request\" /&gt;&lt;Generator name=\"rspec:scaffold\" /&gt;&lt;Generator name=\"rspec:view\" /&gt;&lt;Generator name=\"scaffold\" /&gt;&lt;Generator name=\"scaffold_controller\" /&gt;&lt;Generator name=\"task\" /&gt;&lt;Generator name=\"test_unit:controller\" /&gt;&lt;Generator name=\"test_unit:generator\" /&gt;&lt;Generator name=\"test_unit:helper\" /&gt;&lt;Generator name=\"test_unit:integration\" /&gt;&lt;Generator name=\"test_unit:job\" /&gt;&lt;Generator name=\"test_unit:mailer\" /&gt;&lt;Generator name=\"test_unit:model\" /&gt;&lt;Generator name=\"test_unit:plugin\" /&gt;&lt;Generator name=\"test_unit:scaffold\" /&gt;&lt;/GeneratorsGroup&gt;&lt;/Settings&gt;\ndiff --git a/README.md b/README.md\nindex a706763..23ad161 100644\n--- a/README.md\n+++ b/README.md\n@@ -559,6 +559,7 @@ git push heroku master\n + new/edit\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5\n + \u30d5\u30a9\u30fc\u30e0\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u306e\u4f5c\u6210\n + ERB\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u672c\u4f53\u306e\u4f5c\u6210\n++ \u90e8\u5206\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u90e1\u306e\u4f5c\u6210\n\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u30fb\u524a\u9664\n\ndiff --git a/app/assets/javascripts/customer.js b/app/assets/javascripts/customer.js\nindex 2e0435d..c8586cb 100644\n--- a/app/assets/javascripts/customer.js\n+++ b/app/assets/javascripts/customer.js\n@@ -15,8 +15,8 @@\n //= require turbolinks\n //= require bootstrap-sprockets\n //= require_tree ./shared\n-//= require moment\n-//= require bootstrap-datetimepicker\n+//= require jquery-ui/datepicker\n+//= require jquery-ui/datepicker-ja\n //= require moment\n //= require moment/ja\n //= require bootstrap-datetimepicker\ndiff --git a/app/assets/javascripts/staff.js b/app/assets/javascripts/staff.js\nindex 3d952ba..a53eecd 100644\n--- a/app/assets/javascripts/staff.js\n+++ b/app/assets/javascripts/staff.js\n@@ -15,8 +15,8 @@\n //= require turbolinks\n //= require bootstrap-sprockets\n //= require_tree ./shared\n-//= require moment\n-//= require bootstrap-datetimepicker\n+//= require jquery-ui/datepicker\n+//= require jquery-ui/datepicker-ja\n //= require moment\n //= require moment/ja\n //= require bootstrap-datetimepicker\ndiff --git a/app/assets/javascripts/staff/customer_form.coffee b/app/assets/javascripts/staff/customer_form.coffee\nnew file mode 100644\nindex 0000000..894aed5\n--- /dev/null\n+++ b/app/assets/javascripts/staff/customer_form.coffee\n@@ -0,0 +1,22 @@\n+$(document).on \"turbolinks:load\", -&gt;\n+  do -&gt;\n+    new CustomerForm\n+\n+class CustomerForm\n+  constructor: -&gt;\n+    $('button#enable-password-field').on\n+      'click': handlePasswordInputFieldOn\n+    $('button#disable-password-field').on\n+      'click': handlePasswordInputFieldOff\n+\n+  handlePasswordInputFieldOn = -&gt;\n+    $('#enable-password-field').hide()\n+    $('#disable-password-field').show()\n+    $('#form_customer_password').removeAttr('disabled')\n+    $('label[for=form_customer_password]').addClass('required')\n+\n+  handlePasswordInputFieldOff = -&gt;\n+    $('#disable-password-field').hide()\n+    $('#enable-password-field').show()\n+    $('#form_customer_password').attr('disabled','disabled')\n+    $('label[for=form_customer_password]').removeClass('required')\ndiff --git a/app/assets/javascripts/staff/datetimepicker.coffee b/app/assets/javascripts/staff/datetimepicker.coffee\nnew file mode 100644\nindex 0000000..6c368e4\n--- /dev/null\n+++ b/app/assets/javascripts/staff/datetimepicker.coffee\n@@ -0,0 +1,6 @@\n+$(document).on \"turbolinks:load\", -&gt;\n+  do -&gt;\n+    $(\".birthday-picker\").datetimepicker(\n+      locale: 'ja'\n+      format : 'YYYY-MM-DD'\n+    )\ndiff --git a/app/presenters/form_presenter.rb b/app/presenters/form_presenter.rb\nindex 1a3c9bd..b825b9a 100644\n--- a/app/presenters/form_presenter.rb\n+++ b/app/presenters/form_presenter.rb\n@@ -53,7 +53,6 @@ class FormPresenter\n\n   def drop_down_list_block(name, label_text, choices, options ={})\n     markup(:div, class: 'AppForm__input-block') do |m|\n-      m &lt;&lt; decorated_label(name, label_text, options)\n       m &lt;&lt; form_builder.select(name, choices, { include_blank: true }, options)\n     end\n   end\ndiff --git a/app/presenters/staff/customer_form_presenter.rb b/app/presenters/staff/customer_form_presenter.rb\nindex dc0a1bb..8fc0c0f 100644\n--- a/app/presenters/staff/customer_form_presenter.rb\n+++ b/app/presenters/staff/customer_form_presenter.rb\n@@ -8,7 +8,7 @@ class Staff::CustomerFormPresenter &lt; UserFormPresenter\n       else\n         options[:class] = 'birthday-picker'\n       end\n-      m &lt;&lt; text_field(name, options)\n+      m &lt;&lt; text_field(name, options.merge(hide_label: true))\n     end\n   end\n\ndiff --git a/app/views/staff/customers/_customer_fields.html.erb b/app/views/staff/customers/_customer_fields.html.erb\nnew file mode 100644\nindex 0000000..a2871e1\n--- /dev/null\n+++ b/app/views/staff/customers/_customer_fields.html.erb\n@@ -0,0 +1,13 @@\n+&lt;%= f.fields_for :customer, f.object.customer do |ff| %&gt;\n+&lt;%= markup do |m|\n+  p = Staff::CustomerFormPresenter.new(ff,self)\n+  p.with_options(required: true) do |q|\n+    m &lt;&lt; q.text_field_block(:email, '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9', size: 32)\n+    m &lt;&lt; q.password_field_block(:password, '\u30d1\u30b9\u30ef\u30fc\u30c9', size: 32)\n+    m &lt;&lt; q.full_name_block(:family_name, :given_name, '\u6c0f\u540d')\n+    m &lt;&lt; q.full_name_block(:family_name_kana, :given_name_kana, '\u30d5\u30ea\u30ac\u30ca')\n+  end\n+  m &lt;&lt; p.birthday_field_block(:birthday, '\u751f\u5e74\u6708\u65e5')\n+  m &lt;&lt; p.gender_field_block\n+  end %&gt;\n+&lt;% end %&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/customers/_form.html.erb b/app/views/staff/customers/_form.html.erb\nnew file mode 100644\nindex 0000000..533dd1e\n--- /dev/null\n+++ b/app/views/staff/customers/_form.html.erb\n@@ -0,0 +1,13 @@\n+&lt;%= FormPresenter.new(f,self).notes %&gt;\n+&lt;fieldset id=\"customer-fields\"&gt;\n+  &lt;legend&gt;\u57fa\u672c\u60c5\u5831&lt;/legend&gt;\n+  &lt;%= render 'customer_fields', f: f %&gt;\n+&lt;/fieldset&gt;\n+&lt;fieldset id=\"home-address-fields\"&gt;\n+  &lt;legend&gt;\u81ea\u5b85\u4f4f\u6240&lt;/legend&gt;\n+  &lt;%= render 'home_address_fields', f: f %&gt;\n+&lt;/fieldset&gt;\n+&lt;fieldset id=\"work-address-fields\"&gt;\n+  &lt;legend&gt;\u52e4\u52d9\u5148&lt;/legend&gt;\n+  &lt;%= render 'work_address_fields', f: f %&gt;\n+&lt;/fieldset&gt;\ndiff --git a/app/views/staff/customers/_home_address_fields.html.erb b/app/views/staff/customers/_home_address_fields.html.erb\nnew file mode 100644\nindex 0000000..7ae752b\n--- /dev/null\n+++ b/app/views/staff/customers/_home_address_fields.html.erb\n@@ -0,0 +1,12 @@\n+&lt;%= f.fields_for :home_address, f.object.customer.home_address do |ff| %&gt;\n+&lt;%= markup do |m|\n+  p = Staff::AddressFormPresenter.new(ff,self)\n+  p.with_options(required: true) do |q|\n+    m &lt;&lt; q.postal_code_block(:postal_code, '\u90f5\u4fbf\u756a\u53f7', size: 7)\n+    m &lt;&lt; q.drop_down_list_block(:prefecture, '\u90fd\u9053\u5e9c\u770c',Address::PREFECTURE_NAMES)\n+    m &lt;&lt; q.text_field_block(:city, '\u5e02\u533a\u753a\u6751', size: 16)\n+    m &lt;&lt; q.text_field_block(:address1, '\u753a\u57df\u3001\u756a\u5730\u7b49', size: 40)\n+  end\n+  m &lt;&lt; p.text_field_block(:address2, '\u5efa\u7269\u540d\u3001\u90e8\u5c4b\u756a\u53f7\u540d', size: 40)\n+end %&gt;\n+&lt;% end %&gt;\ndiff --git a/app/views/staff/customers/_work_address_fields.html.erb b/app/views/staff/customers/_work_address_fields.html.erb\nnew file mode 100644\nindex 0000000..f660f7d\n--- /dev/null\n+++ b/app/views/staff/customers/_work_address_fields.html.erb\n@@ -0,0 +1,12 @@\n+&lt;%= f.fields_for :work_address, f.object.customer.work_address do |ff| %&gt;\n+    &lt;%= markup do |m|\n+      p = Staff::AddressFormPresenter.new(ff,self)\n+      m &lt;&lt; p.text_field_block(:company_name, '\u4f1a\u793e\u540d', size: 40, required: true)\n+      m &lt;&lt; p.text_field_block(:division_name, '\u90e8\u7f72\u540d', size: 40)\n+      m &lt;&lt; p.postal_code_block(:postal_code, '\u90f5\u4fbf\u756a\u53f7', size: 7)\n+      m &lt;&lt; p.drop_down_list_block(:prefecture, '\u90fd\u9053\u5e9c\u770c',Address::PREFECTURE_NAMES)\n+      m &lt;&lt; p.text_field_block(:city, '\u5e02\u533a\u753a\u6751', size: 16)\n+      m &lt;&lt; p.text_field_block(:address1, '\u753a\u57df\u3001\u756a\u5730\u7b49', size: 40)\n+      m &lt;&lt; p.text_field_block(:address2, '\u5efa\u7269\u540d\u3001\u90e8\u5c4b\u756a\u53f7\u540d', size: 40)\n+    end %&gt;\n+&lt;% end %&gt;\ndiff --git a/app/views/staff/customers/edit.html.erb b/app/views/staff/customers/edit.html.erb\nindex 33594d6..b534606 100644\n--- a/app/views/staff/customers/edit.html.erb\n+++ b/app/views/staff/customers/edit.html.erb\n@@ -5,11 +5,11 @@\n\n &lt;section class=\"Section l-column AppForm\"&gt;\n   &lt;div class=\"AppForm__generic-form StaffAppForm__generic-form\"&gt;\n-    &lt;%= bootstrap_form_for @customer_form, as: 'form' do |f| %&gt;\n+    &lt;%= bootstrap_form_for @customer_form, as: 'form', url: [:staff, @customer_form.customer] do |f| %&gt;\n         &lt;%= render 'form', f: f %&gt;\n         &lt;div class=\"AppForm__buttons\"&gt;\n           &lt;%= f.submit t('.update'),class: 'btn btn-default btn-lg' %&gt;\n-          &lt;%= link_to t('.cancel'), :admin_staff_members,class: 'btn btn-default btn-lg' %&gt;\n+          &lt;%= link_to t('.cancel'), :staff_customers,class: 'btn btn-default btn-lg' %&gt;\n         &lt;/div&gt;\n     &lt;% end %&gt;\n   &lt;/div&gt;\ndiff --git a/app/views/staff/customers/new.html.erb b/app/views/staff/customers/new.html.erb\nindex b97182e..eec2844 100644\n--- a/app/views/staff/customers/new.html.erb\n+++ b/app/views/staff/customers/new.html.erb\n@@ -9,7 +9,7 @@\n         &lt;%= render 'form', f: f %&gt;\n         &lt;div class=\"AppForm__buttons\"&gt;\n           &lt;%= f.submit t('.create') ,class: 'btn btn-default btn-lg'%&gt;\n-          &lt;%= link_to t('.cancel'), :admin_staff_members ,class: 'btn btn-default btn-lg'%&gt;\n+          &lt;%= link_to t('.cancel'), :staff_customers ,class: 'btn btn-default btn-lg'%&gt;\n         &lt;/div&gt;\n     &lt;% end %&gt;\n   &lt;/div&gt;\n</code></pre>"},{"location":"journal/20170203/#8bf2d42","title":"\u30b3\u30df\u30c3\u30c8: 8bf2d42","text":""},{"location":"journal/20170203/#_7","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>ERB\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u672c\u4f53\u306e\u4f5c\u6210 #13\n</code></pre>"},{"location":"journal/20170203/#_8","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/views/staff/customers/edit.html.erb</li> <li>A app/views/staff/customers/new.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170203/#_9","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8bf2d426ce6c2f57360195fe871c4eee3345e136\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 3 17:00:30 2017 +0900\n\n    ERB\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u672c\u4f53\u306e\u4f5c\u6210 #13\n\ndiff --git a/README.md b/README.md\nindex 3386f1e..a706763 100644\n--- a/README.md\n+++ b/README.md\n@@ -558,6 +558,7 @@ git push heroku master\n + \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n + new/edit\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5\n + \u30d5\u30a9\u30fc\u30e0\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u306e\u4f5c\u6210\n++ ERB\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u672c\u4f53\u306e\u4f5c\u6210\n\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u30fb\u524a\u9664\n\ndiff --git a/app/views/staff/customers/edit.html.erb b/app/views/staff/customers/edit.html.erb\nnew file mode 100644\nindex 0000000..33594d6\n--- /dev/null\n+++ b/app/views/staff/customers/edit.html.erb\n@@ -0,0 +1,16 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column AppForm\"&gt;\n+  &lt;div class=\"AppForm__generic-form StaffAppForm__generic-form\"&gt;\n+    &lt;%= bootstrap_form_for @customer_form, as: 'form' do |f| %&gt;\n+        &lt;%= render 'form', f: f %&gt;\n+        &lt;div class=\"AppForm__buttons\"&gt;\n+          &lt;%= f.submit t('.update'),class: 'btn btn-default btn-lg' %&gt;\n+          &lt;%= link_to t('.cancel'), :admin_staff_members,class: 'btn btn-default btn-lg' %&gt;\n+        &lt;/div&gt;\n+    &lt;% end %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\ndiff --git a/app/views/staff/customers/new.html.erb b/app/views/staff/customers/new.html.erb\nnew file mode 100644\nindex 0000000..b97182e\n--- /dev/null\n+++ b/app/views/staff/customers/new.html.erb\n@@ -0,0 +1,16 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column AppForm\"&gt;\n+  &lt;div class=\"AppForm__generic-form StaffAppForm__generic-form\"&gt;\n+    &lt;%= bootstrap_form_for @customer_form, as: 'form', url: :staff_customers do |f| %&gt;\n+        &lt;%= render 'form', f: f %&gt;\n+        &lt;div class=\"AppForm__buttons\"&gt;\n+          &lt;%= f.submit t('.create') ,class: 'btn btn-default btn-lg'%&gt;\n+          &lt;%= link_to t('.cancel'), :admin_staff_members ,class: 'btn btn-default btn-lg'%&gt;\n+        &lt;/div&gt;\n+    &lt;% end %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex b68c0f1..56c6d3a 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -30,6 +30,14 @@ ja:\n         confirm: '\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b?'\n       show:\n         title: '\u9867\u5ba2\u8a73\u7d30\u60c5\u5831'\n+      new:\n+        title: '\u9867\u5ba2\u306e\u65b0\u898f\u767b\u9332'\n+        create: '\u767b\u9332'\n+        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n+      edit:\n+        title: '\u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u7de8\u96c6'\n+        update: '\u767b\u9332'\n+        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n     accounts:\n       show:\n         title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831'\n</code></pre>"},{"location":"journal/20170203/#fb79929","title":"\u30b3\u30df\u30c3\u30c8: fb79929","text":""},{"location":"journal/20170203/#_10","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d5\u30a9\u30fc\u30e0\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u306e\u4f5c\u6210 #13\n</code></pre>"},{"location":"journal/20170203/#_11","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/presenters/admin/staff_member_form_presenter.rb</li> <li>M app/presenters/form_presenter.rb</li> <li>A app/presenters/staff/address_form_presenter.rb</li> <li>A app/presenters/staff/customer_form_presenter.rb</li> <li>A app/presenters/user_form_presenter.rb</li> </ul>"},{"location":"journal/20170203/#_12","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit fb79929b02845dfed22bdfb211ebbcc1d93ae7a6\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 3 16:51:46 2017 +0900\n\n    \u30d5\u30a9\u30fc\u30e0\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u306e\u4f5c\u6210 #13\n\ndiff --git a/README.md b/README.md\nindex 3545fd2..3386f1e 100644\n--- a/README.md\n+++ b/README.md\n@@ -557,6 +557,7 @@ git push heroku master\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\n + \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n + new/edit\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5\n++ \u30d5\u30a9\u30fc\u30e0\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u306e\u4f5c\u6210\n\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u30fb\u524a\u9664\n\ndiff --git a/app/presenters/admin/staff_member_form_presenter.rb b/app/presenters/admin/staff_member_form_presenter.rb\nindex 62b43d3..8434d7b 100644\n--- a/app/presenters/admin/staff_member_form_presenter.rb\n+++ b/app/presenters/admin/staff_member_form_presenter.rb\n@@ -1,25 +1,4 @@\n-class Admin::StaffMemberFormPresenter &lt; FormPresenter\n-  def password_field_block(name, label_text, options = {})\n-    if object.new_record?\n-      super(name, label_text,options)\n-    else\n-      markup(:div, class: 'AppForm__input-block') do |m|\n-        m &lt;&lt; decorated_label(name, label_text, options.merge(required: false))\n-        m &lt;&lt; password_field(name, options.merge(disabled: true).merge(hide_label: true))\n-        m.button('\u5909\u66f4\u3059\u308b',type: 'button', id: 'enable-password-field', class: 'btn btn-warning btn-xs')\n-        m.button('\u5909\u66f4\u3057\u306a\u3044', type: 'button', id: 'disable-password-field',style: 'display: none', class: 'btn btn-primary btn-xs')\n-      end\n-    end\n-  end\n-\n-  def full_name_block(name1, name2, label_text, options = {})\n-    markup(:dvi,class: 'AppForm__input-block') do |m|\n-      m &lt;&lt; decorated_label(name1, label_text, options)\n-      m &lt;&lt; text_field(name1, hide_label: true, class: options[:required] ? 'required' : nil)\n-      m &lt;&lt; text_field(name2, hide_label: true, class: options[:required] ? 'required' : nil)\n-    end\n-  end\n-\n+class Admin::StaffMemberFormPresenter &lt; UserFormPresenter\n   def check_boxes\n     markup(:div, class: 'AppForm__input-block') do |m|\n       m &lt;&lt; label(:suspended, I18n.t('activerecord.attributes.staff_member.suspended_on'))\ndiff --git a/app/presenters/form_presenter.rb b/app/presenters/form_presenter.rb\nindex b0527db..1a3c9bd 100644\n--- a/app/presenters/form_presenter.rb\n+++ b/app/presenters/form_presenter.rb\n@@ -51,6 +51,13 @@ class FormPresenter\n     end\n   end\n\n+  def drop_down_list_block(name, label_text, choices, options ={})\n+    markup(:div, class: 'AppForm__input-block') do |m|\n+      m &lt;&lt; decorated_label(name, label_text, options)\n+      m &lt;&lt; form_builder.select(name, choices, { include_blank: true }, options)\n+    end\n+  end\n+\n   def error_message_for(name)\n     markup do |m|\n       object.errors.full_messages_for(name).each do |message|\n@@ -62,7 +69,7 @@ class FormPresenter\n   end\n\n   private\n-  def decorated_label(name, label_text, options)\n+  def decorated_label(name, label_text, options = {})\n     label(name, label_text, class: options[:required] ? 'AppForm__label required' : 'AppForm__label')\n   end\n\ndiff --git a/app/presenters/staff/address_form_presenter.rb b/app/presenters/staff/address_form_presenter.rb\nnew file mode 100644\nindex 0000000..2500e50\n--- /dev/null\n+++ b/app/presenters/staff/address_form_presenter.rb\n@@ -0,0 +1,9 @@\n+class Staff::AddressFormPresenter &lt; FormPresenter\n+  def postal_code_block(name, label_text, options)\n+    markup(:div, class: 'AppForm__input-block') do |m|\n+      m &lt;&lt; decorated_label(name, label_text, options)\n+      m &lt;&lt; text_field(name, hide_label: true, class: options[:required] ? 'required' : nil)\n+      m.span '(7\u6841\u306e\u534a\u89d2\u6570\u5b57\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002)', class: 'AppForm__notes'\n+    end\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/presenters/staff/customer_form_presenter.rb b/app/presenters/staff/customer_form_presenter.rb\nnew file mode 100644\nindex 0000000..dc0a1bb\n--- /dev/null\n+++ b/app/presenters/staff/customer_form_presenter.rb\n@@ -0,0 +1,24 @@\n+class Staff::CustomerFormPresenter &lt; UserFormPresenter\n+  def birthday_field_block(name, label_text, options = {})\n+    markup(:div, class: 'AppForm__input-block') do |m|\n+      m &lt;&lt; decorated_label(name, label_text, options)\n+      if options[:class].kind_of?(String)\n+        classes = options[:class].strip.split + ['birthday-picker']\n+        options[:class] = classes.uniq.join(' ')\n+      else\n+        options[:class] = 'birthday-picker'\n+      end\n+      m &lt;&lt; text_field(name, options)\n+    end\n+  end\n+\n+  def gender_field_block\n+    markup(:div, class: 'AppForm__input-block') do |m|\n+      m &lt;&lt; decorated_label(:gender, '\u6027\u5225')\n+      m &lt;&lt; radio_button(:gender, 'male')\n+      m &lt;&lt; label(:gender_male, '\u7537\u6027')\n+      m &lt;&lt; radio_button(:gender, 'female')\n+      m &lt;&lt; label(:gender_female, '\u5973\u6027')\n+    end\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/presenters/user_form_presenter.rb b/app/presenters/user_form_presenter.rb\nnew file mode 100644\nindex 0000000..1fcf987\n--- /dev/null\n+++ b/app/presenters/user_form_presenter.rb\n@@ -0,0 +1,22 @@\n+class UserFormPresenter &lt; FormPresenter\n+  def password_field_block(name, label_text, options = {})\n+    if object.new_record?\n+      super(name, label_text,options)\n+    else\n+      markup(:div, class: 'AppForm__input-block') do |m|\n+        m &lt;&lt; decorated_label(name, label_text, options.merge(required: false))\n+        m &lt;&lt; password_field(name, options.merge(disabled: true).merge(hide_label: true))\n+        m.button('\u5909\u66f4\u3059\u308b',type: 'button', id: 'enable-password-field', class: 'btn btn-warning btn-xs')\n+        m.button('\u5909\u66f4\u3057\u306a\u3044', type: 'button', id: 'disable-password-field',style: 'display: none', class: 'btn btn-primary btn-xs')\n+      end\n+    end\n+  end\n+\n+  def full_name_block(name1, name2, label_text, options = {})\n+    markup(:dvi,class: 'AppForm__input-block') do |m|\n+      m &lt;&lt; decorated_label(name1, label_text, options)\n+      m &lt;&lt; text_field(name1, hide_label: true, class: options[:required] ? 'required' : nil)\n+      m &lt;&lt; text_field(name2, hide_label: true, class: options[:required] ? 'required' : nil)\n+    end\n+  end\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170203/#4735256","title":"\u30b3\u30df\u30c3\u30c8: 4735256","text":""},{"location":"journal/20170203/#_13","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>new/edit\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5 #13\n</code></pre>"},{"location":"journal/20170203/#_14","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/customers_controller.rb</li> </ul>"},{"location":"journal/20170203/#_15","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 47352560ae6525d32b599de4f14549f263a52ecd\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 3 16:31:06 2017 +0900\n\n    new/edit\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5 #13\n\ndiff --git a/README.md b/README.md\nindex 18d4c33..3545fd2 100644\n--- a/README.md\n+++ b/README.md\n@@ -556,6 +556,7 @@ git push heroku master\n\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\n + \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n++ new/edit\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5\n\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u30fb\u524a\u9664\n\ndiff --git a/app/controllers/staff/customers_controller.rb b/app/controllers/staff/customers_controller.rb\nindex 3e2aa83..ffa88e4 100644\n--- a/app/controllers/staff/customers_controller.rb\n+++ b/app/controllers/staff/customers_controller.rb\n@@ -6,4 +6,12 @@ class Staff::CustomersController &lt; Staff::Base\n   def show\n     @customer = Customer.find(params[:id])\n   end\n+\n+  def new\n+    @customer_form = Staff::CustomerForm.new\n+  end\n+\n+  def edit\n+    @customer_form = Staff::CustomerForm.new(Customer.find(params[:id]))\n+  end\n end\n</code></pre>"},{"location":"journal/20170203/#_16","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170203/#8414483","title":"\u30b3\u30df\u30c3\u30c8: 8414483","text":""},{"location":"journal/20170203/#_17","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210 #13\n</code></pre>"},{"location":"journal/20170203/#_18","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/forms/staff/customer_form.rb</li> </ul>"},{"location":"journal/20170203/#_19","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8414483a979aece6fd304a44f60d20ff69ebf613\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 3 16:28:51 2017 +0900\n\n    \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210 #13\n\ndiff --git a/README.md b/README.md\nindex 5bb06ba..18d4c33 100644\n--- a/README.md\n+++ b/README.md\n@@ -555,6 +555,8 @@ git push heroku master\n + \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u8a73\u7d30\u8868\u793a\n\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\n++ \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n+\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u30fb\u524a\u9664\n\n ### Capybara\ndiff --git a/app/forms/staff/customer_form.rb b/app/forms/staff/customer_form.rb\nnew file mode 100644\nindex 0000000..3a7edae\n--- /dev/null\n+++ b/app/forms/staff/customer_form.rb\n@@ -0,0 +1,13 @@\n+class Staff::CustomerForm\n+  include ActiveModel::Model\n+\n+  attr_accessor :customer\n+  delegate :persisted?, to: :customer\n+\n+  def initialize(customer = nil)\n+    @customer = customer\n+    @customer ||= Customer.new(gender: 'male')\n+    @customer.build_home_address unless @customer.home_address\n+    @customer.build_work_address unless @customer.work_address\n+  end\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170203/#2904b01","title":"\u30b3\u30df\u30c3\u30c8: 2904b01","text":""},{"location":"journal/20170203/#_20","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u8a73\u7d30\u8868\u793a #13\n</code></pre>"},{"location":"journal/20170203/#_21","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/customers_controller.rb</li> <li>M app/presenters/model_presenter.rb</li> <li>A app/presenters/staff/address_presenter.rb</li> <li>A app/views/staff/customers/show.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170203/#_22","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 2904b0189b662e5be0fe10015189c6071784c76e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 3 16:23:09 2017 +0900\n\n    \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u8a73\u7d30\u8868\u793a #13\n\ndiff --git a/README.md b/README.md\nindex 8aef379..5bb06ba 100644\n--- a/README.md\n+++ b/README.md\n@@ -552,6 +552,7 @@ git push heroku master\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4e00\u89a7\u8868\u793a\u30fb\u8a73\u7d30\u8868\u793a\n + \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u306e\u6295\u5165\n + \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4e00\u89a7\u8868\u793a\n++ \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u8a73\u7d30\u8868\u793a\n\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u30fb\u524a\u9664\ndiff --git a/app/controllers/staff/customers_controller.rb b/app/controllers/staff/customers_controller.rb\nindex 5ce8976..3e2aa83 100644\n--- a/app/controllers/staff/customers_controller.rb\n+++ b/app/controllers/staff/customers_controller.rb\n@@ -2,4 +2,8 @@ class Staff::CustomersController &lt; Staff::Base\n   def index\n     @customers = Customer.order(:family_name_kana, :given_name_kana).page(params[:page])\n   end\n+\n+  def show\n+    @customer = Customer.find(params[:id])\n+  end\n end\ndiff --git a/app/presenters/model_presenter.rb b/app/presenters/model_presenter.rb\nindex d347ed8..b81b79f 100644\n--- a/app/presenters/model_presenter.rb\n+++ b/app/presenters/model_presenter.rb\n@@ -11,4 +11,12 @@ class ModelPresenter\n     @object = object\n     @view_context = view_context\n   end\n+\n+  def created_at\n+    object.created_at.try(:strftime, '%Y/%m/%d %H::%M::%S')\n+  end\n+\n+  def updated_at\n+    object.updated_at.try(:strftime, '%Y/%m/%d %H::%M::%S')\n+  end\n end\n\\ No newline at end of file\ndiff --git a/app/presenters/staff/address_presenter.rb b/app/presenters/staff/address_presenter.rb\nnew file mode 100644\nindex 0000000..313757d\n--- /dev/null\n+++ b/app/presenters/staff/address_presenter.rb\n@@ -0,0 +1,16 @@\n+class Staff::AddressPresenter &lt; ModelPresenter\n+  delegate :prefecture,\n+           :city,\n+           :address1,\n+           :address2,\n+           :company_name,\n+           :division_name, to: :object\n+\n+  def postal_code\n+    if md = object.postal_code.match(/\\A(\\d{3})(\\d{4})\\z/)\n+      md[1] + '-' + md[2]\n+    else\n+      object.postal_code\n+    end\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/views/staff/customers/show.html.erb b/app/views/staff/customers/show.html.erb\nnew file mode 100644\nindex 0000000..53cec0c\n--- /dev/null\n+++ b/app/views/staff/customers/show.html.erb\n@@ -0,0 +1,37 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column Table StaffTable\"&gt;\n+  &lt;table class=\"Table__body Table__body--attributes StaffTable__body\"&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\" colspan=\"2\"&gt;\u57fa\u672c\u60c5\u5831&lt;/th&gt;&lt;/tr&gt;\n+    &lt;% p1 = Staff::CustomerPresenter.new(@customer, self) %&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u6c0f\u540d&lt;/th&gt;&lt;td&gt;&lt;%= p1.full_name %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u30d5\u30ea\u30ac\u30ca&lt;/th&gt;&lt;td&gt;&lt;%= p1.full_name_kana %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u751f\u5e74\u6708\u65e5&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p1.birthday %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u6027\u5225&lt;/th&gt;&lt;td&gt;&lt;%= p1.gender %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u767b\u9332\u65e5\u6642&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p1.created_at %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u66f4\u65b0\u65e5\u6642&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p1.updated_at %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;% if @customer.home_address %&gt;\n+      &lt;% p2 = Staff::AddressPresenter.new(@customer.home_address, self) %&gt;\n+      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\" colspan=\"2\"&gt;\u81ea\u5b85\u4f4f\u6240&lt;/th&gt;&lt;/tr&gt;\n+      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u90f5\u4fbf\u756a\u53f7&lt;/th&gt;&lt;td&gt;&lt;%= p2.postal_code %&gt;&lt;/td&gt;&lt;/tr&gt;\n+      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u90fd\u9053\u5e9c\u770c&lt;/th&gt;&lt;td&gt;&lt;%= p2.prefecture %&gt;&lt;/td&gt;&lt;/tr&gt;\n+      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u5e02\u533a\u753a\u6751&lt;/th&gt;&lt;td&gt;&lt;%= p2.city %&gt;&lt;/td&gt;&lt;/tr&gt;\n+      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u753a\u57df\u3001\u756a\u5730\u7b49&lt;/th&gt;&lt;td&gt;&lt;%= p2.address1 %&gt;&lt;/td&gt;&lt;/tr&gt;\n+      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u5efa\u7269\u540d\u3001\u90e8\u5c4b\u756a\u53f7&lt;/th&gt;&lt;td&gt;&lt;%= p2.address2 %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;% end %&gt;\n+    &lt;% if @customer.work_address %&gt;\n+        &lt;% p3 = Staff::AddressPresenter.new(@customer.work_address, self) %&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\" colspan=\"2\"&gt;\u52e4\u52d9\u5148&lt;/th&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u4f1a\u793e\u540d&lt;/th&gt;&lt;td&gt;&lt;%= p3.company_name %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u90e8\u7f72\u540d&lt;/th&gt;&lt;td&gt;&lt;%= p3.division_name %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u90f5\u4fbf\u756a\u53f7&lt;/th&gt;&lt;td&gt;&lt;%= p3.postal_code %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u90fd\u9053\u5e9c\u770c&lt;/th&gt;&lt;td&gt;&lt;%= p3.prefecture %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u5e02\u533a\u753a\u6751&lt;/th&gt;&lt;td&gt;&lt;%= p3.city %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u753a\u57df\u3001\u756a\u5730\u7b49&lt;/th&gt;&lt;td&gt;&lt;%= p3.address1 %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u5efa\u7269\u540d\u3001\u90e8\u5c4b\u756a\u53f7&lt;/th&gt;&lt;td&gt;&lt;%= p3.address2 %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;% end %&gt;\n+  &lt;/table&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 7168d6a..b68c0f1 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -28,6 +28,8 @@ ja:\n         edit: '\u7de8\u96c6'\n         delete: '\u524a\u9664'\n         confirm: '\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b?'\n+      show:\n+        title: '\u9867\u5ba2\u8a73\u7d30\u60c5\u5831'\n     accounts:\n       show:\n         title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831'\n</code></pre>"},{"location":"journal/20170203/#_23","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170203/#40a126d","title":"\u30b3\u30df\u30c3\u30c8: 40a126d","text":""},{"location":"journal/20170203/#_24","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4e00\u89a7\u8868\u793a #13\n</code></pre>"},{"location":"journal/20170203/#_25","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/controllers/staff/customers_controller.rb</li> <li>M app/controllers/staff/top_controller.rb</li> <li>M app/models/customer.rb</li> <li>M app/models/home_address.rb</li> <li>M app/models/work_address.rb</li> <li>A app/presenters/staff/customer_presenter.rb</li> <li>M app/views/admin/staff_members/index.html.erb</li> <li>A app/views/staff/customers/index.html.erb</li> <li>A app/views/staff/top/dashboard.html.erb</li> <li>M config/locales/views/ja.yml</li> <li>M config/routes.rb</li> <li>M db/migrate/20170203051643_create_customers.rb</li> <li>M db/schema.rb</li> <li>M spec/controllers/staff/top_controller_spec.rb</li> <li>M spec/factories/customers.rb</li> </ul>"},{"location":"journal/20170203/#_26","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 40a126db6f49670477fd4cda9dff717e996c3a27\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 3 15:40:50 2017 +0900\n\n    \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4e00\u89a7\u8868\u793a #13\n\ndiff --git a/README.md b/README.md\nindex 8b2d632..8aef379 100644\n--- a/README.md\n+++ b/README.md\n@@ -551,6 +551,7 @@ git push heroku master\n\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4e00\u89a7\u8868\u793a\u30fb\u8a73\u7d30\u8868\u793a\n + \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u306e\u6295\u5165\n++ \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4e00\u89a7\u8868\u793a\n\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u30fb\u524a\u9664\ndiff --git a/app/controllers/staff/customers_controller.rb b/app/controllers/staff/customers_controller.rb\nnew file mode 100644\nindex 0000000..5ce8976\n--- /dev/null\n+++ b/app/controllers/staff/customers_controller.rb\n@@ -0,0 +1,5 @@\n+class Staff::CustomersController &lt; Staff::Base\n+  def index\n+    @customers = Customer.order(:family_name_kana, :given_name_kana).page(params[:page])\n+  end\n+end\ndiff --git a/app/controllers/staff/top_controller.rb b/app/controllers/staff/top_controller.rb\nindex 67c8a43..091794c 100644\n--- a/app/controllers/staff/top_controller.rb\n+++ b/app/controllers/staff/top_controller.rb\n@@ -2,6 +2,10 @@ class Staff::TopController &lt; Staff::Base\n   skip_before_action :authorize\n\n   def index\n-    render action: 'index'\n+    if current_staff_member\n+      render action: 'dashboard'\n+    else\n+      render action: 'index'\n+    end\n   end\n end\ndiff --git a/app/models/customer.rb b/app/models/customer.rb\nindex b688c24..04386e3 100644\n--- a/app/models/customer.rb\n+++ b/app/models/customer.rb\n@@ -10,7 +10,7 @@\n #  family_name_kana :string(255)      not null              # \u59d3\uff08\u30ab\u30ca\uff09\n #  given_name_kana  :string(255)      not null              # \u540d\uff08\u30ab\u30ca\uff09\n #  gender           :string(255)                            # \u6027\u5225\n-#  birthday         :string(255)                            # \u8a95\u751f\u65e5\n+#  birthday         :date                                   # \u8a95\u751f\u65e5\n #  hashed_password  :string(255)                            # \u30d1\u30b9\u30ef\u30fc\u30c9\n #  created_at       :datetime         not null\n #  updated_at       :datetime         not null\ndiff --git a/app/models/home_address.rb b/app/models/home_address.rb\nindex b47baf2..0dc6aa5 100644\n--- a/app/models/home_address.rb\n+++ b/app/models/home_address.rb\n@@ -1,2 +1,25 @@\n+# == Schema Information\n+#\n+# Table name: addresses # \u4f4f\u6240\n+#\n+#  id            :integer          not null, primary key\n+#  customer_id   :integer          not null              # \u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  type          :string(255)      not null              # \u7d99\u627f\u30ab\u30e9\u30e0\n+#  postal_code   :string(255)      not null              # \u90f5\u4fbf\u756a\u53f7\n+#  prefecture    :string(255)      not null              # \u90fd\u9053\u5e9c\u770c\n+#  city          :string(255)      not null              # \u5e02\u533a\u753a\u6751\n+#  address1      :string(255)      not null              # \u753a\u57df\u30fb\u756a\u5730\u7b49\n+#  address2      :string(255)      not null              # \u5efa\u7269\u540d\u30fb\u90e8\u5c4b\u756a\u53f7\n+#  company_name  :string(255)      default(\"\"), not null # \u4f1a\u793e\u540d\n+#  division_name :string(255)      default(\"\"), not null # \u90e8\u7f72\u540d\n+#  created_at    :datetime         not null\n+#  updated_at    :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_addresses_on_customer_id           (customer_id)\n+#  index_addresses_on_type_and_customer_id  (type,customer_id) UNIQUE\n+#\n+\n class HomeAddress &lt; Address\n-end\n\\ No newline at end of file\n+end\ndiff --git a/app/models/work_address.rb b/app/models/work_address.rb\nindex 06af41d..93e332b 100644\n--- a/app/models/work_address.rb\n+++ b/app/models/work_address.rb\n@@ -1,2 +1,25 @@\n+# == Schema Information\n+#\n+# Table name: addresses # \u4f4f\u6240\n+#\n+#  id            :integer          not null, primary key\n+#  customer_id   :integer          not null              # \u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  type          :string(255)      not null              # \u7d99\u627f\u30ab\u30e9\u30e0\n+#  postal_code   :string(255)      not null              # \u90f5\u4fbf\u756a\u53f7\n+#  prefecture    :string(255)      not null              # \u90fd\u9053\u5e9c\u770c\n+#  city          :string(255)      not null              # \u5e02\u533a\u753a\u6751\n+#  address1      :string(255)      not null              # \u753a\u57df\u30fb\u756a\u5730\u7b49\n+#  address2      :string(255)      not null              # \u5efa\u7269\u540d\u30fb\u90e8\u5c4b\u756a\u53f7\n+#  company_name  :string(255)      default(\"\"), not null # \u4f1a\u793e\u540d\n+#  division_name :string(255)      default(\"\"), not null # \u90e8\u7f72\u540d\n+#  created_at    :datetime         not null\n+#  updated_at    :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_addresses_on_customer_id           (customer_id)\n+#  index_addresses_on_type_and_customer_id  (type,customer_id) UNIQUE\n+#\n+\n class WorkAddress &lt; Address\n-end\n\\ No newline at end of file\n+end\ndiff --git a/app/presenters/staff/customer_presenter.rb b/app/presenters/staff/customer_presenter.rb\nnew file mode 100644\nindex 0000000..dc698ec\n--- /dev/null\n+++ b/app/presenters/staff/customer_presenter.rb\n@@ -0,0 +1,27 @@\n+class Staff::CustomerPresenter &lt; ModelPresenter\n+  delegate :email, to: :object\n+\n+  def full_name\n+    object.family_name + ' ' + object.given_name\n+  end\n+\n+  def full_name_kana\n+    object.family_name_kana + ' ' + object.given_name_kana\n+  end\n+\n+  def birthday\n+    return '' if object.birthday.blank?\n+    object.birthday.strftime('%Y/%m/%d')\n+  end\n+\n+  def gender\n+    case object.gender\n+      when 'male'\n+        '\u7537\u6027'\n+      when 'female'\n+        '\u5973\u6027'\n+      else\n+        ''\n+    end\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/views/admin/staff_members/index.html.erb b/app/views/admin/staff_members/index.html.erb\nindex f3668b6..86a48f1 100644\n--- a/app/views/admin/staff_members/index.html.erb\n+++ b/app/views/admin/staff_members/index.html.erb\n@@ -23,8 +23,8 @@\n     &lt;% @staff_members.each do |m| %&gt;\n         &lt;% p = Admin::StaffMemberPresenter.new(m, self) %&gt;\n         &lt;tr  class=\"Table__tr\"&gt;\n-          &lt;td&gt;&lt;%= p.full_name %&gt;&lt;/td&gt;\n-          &lt;td&gt;&lt;%= p.full_name_kana %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td\"&gt;&lt;%= p.full_name %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td\"&gt;&lt;%= p.full_name_kana %&gt;&lt;/td&gt;\n           &lt;td class=\"Table__td Table__td--email\"&gt;&lt;%= m.email %&gt;&lt;/td&gt;\n           &lt;td class=\"Table__td Table__td--date Table__td--center\"&gt;&lt;%= m.start_date %&gt;&lt;/td&gt;\n           &lt;td class=\"Table__td Table__td--date Table__td--center\"&gt;&lt;%= m.end_date %&gt;&lt;/td&gt;\ndiff --git a/app/views/staff/customers/index.html.erb b/app/views/staff/customers/index.html.erb\nnew file mode 100644\nindex 0000000..4978613\n--- /dev/null\n+++ b/app/views/staff/customers/index.html.erb\n@@ -0,0 +1,45 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column Table\"&gt;\n+  &lt;div class=\"Table__links\"&gt;\n+    &lt;%= link_to t('.new'), :new_staff_customer, class: 'btn btn-default' %&gt;\n+  &lt;/div&gt;\n+\n+  &lt;%= paginate @customers %&gt;\n+\n+  &lt;table class=\"Table__body Table__body--listing StaffTable__body\"&gt;\n+    &lt;tr class=\"Table__tr\"&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.full_name') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.kana') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.email') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.birthday') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.gender') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.action') %&gt;&lt;/th&gt;\n+    &lt;/tr&gt;\n+    &lt;% @customers.each do |c| %&gt;\n+        &lt;% p = Staff::CustomerPresenter.new(c, self) %&gt;\n+        &lt;tr  class=\"Table__tr\"&gt;\n+          &lt;td class=\"Table__td\"&gt;&lt;%= p.full_name %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td\"&gt;&lt;%= p.full_name_kana %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td Table__td--email\"&gt;&lt;%= p.email %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td Table__td--date Table__td--center\"&gt;&lt;%= p.birthday %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td\"&gt;&lt;%= p.gender %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td Table__td--actions\"&gt;\n+            &lt;%= link_to t('.show'), [:staff, c ], class: 'btn btn-default btn-xs' %&gt; |\n+            &lt;%= link_to t('.edit'), [:edit, :staff, c ], class: 'btn btn-default btn-xs' %&gt; |\n+            &lt;%= link_to t('.delete'), [:staff, c ], method: :delete,\n+                        data: { confirm: t('.confirm')}, class: 'btn btn-default btn-xs' %&gt;\n+          &lt;/td&gt;\n+        &lt;/tr&gt;\n+    &lt;% end %&gt;\n+  &lt;/table&gt;\n+\n+  &lt;%= paginate @customers %&gt;\n+\n+  &lt;div class=\"Table__links\"&gt;\n+    &lt;%= link_to t('.new'), :new_staff_customer, class: 'btn btn-default' %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/top/dashboard.html.erb b/app/views/staff/top/dashboard.html.erb\nnew file mode 100644\nindex 0000000..a7cd915\n--- /dev/null\n+++ b/app/views/staff/top/dashboard.html.erb\n@@ -0,0 +1,10 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column DashBoard\"&gt;\n+  &lt;ul class=\"DashBoard__menu\"&gt;\n+    &lt;li&gt;&lt;%= link_to t('.staff_customers'), :staff_customers, class: 'btn btn-default' %&gt;&lt;/li&gt;\n+  &lt;/ul&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 0b00c41..7168d6a 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -8,6 +8,26 @@ ja:\n     sessions:\n       new:\n         submit: '\u30ed\u30b0\u30a4\u30f3'\n+    top:\n+      index:\n+        title: '\u8077\u54e1\u30c8\u30c3\u30d7\u30da\u30fc\u30b8'\n+      dashboard:\n+        title: '\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9'\n+        staff_customers: '\u9867\u5ba2\u7ba1\u7406'\n+    customers:\n+      index:\n+        title: '\u9867\u5ba2\u7ba1\u7406'\n+        full_name: '\u6c0f\u540d'\n+        kana: '\u30d5\u30ea\u30ac\u30ca'\n+        email: '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9'\n+        birthday: '\u751f\u5e74\u6708\u65e5'\n+        gender: '\u6027\u5225'\n+        action: '\u30a2\u30af\u30b7\u30e7\u30f3'\n+        new: '\u65b0\u898f\u767b\u9332'\n+        show: '\u8a73\u7d30'\n+        edit: '\u7de8\u96c6'\n+        delete: '\u524a\u9664'\n+        confirm: '\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b?'\n     accounts:\n       show:\n         title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831'\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 3be854a..f0f1ae9 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -13,6 +13,14 @@\n #                  staff_password GET    /staff/password(.:format)                            staff/passwords#show {:host=&gt;\"0.0.0.0\"}\n #                                 PATCH  /staff/password(.:format)                            staff/passwords#update {:host=&gt;\"0.0.0.0\"}\n #                                 PUT    /staff/password(.:format)                            staff/passwords#update {:host=&gt;\"0.0.0.0\"}\n+#                 staff_customers GET    /staff/customers(.:format)                           staff/customers#index {:host=&gt;\"0.0.0.0\"}\n+#                                 POST   /staff/customers(.:format)                           staff/customers#create {:host=&gt;\"0.0.0.0\"}\n+#              new_staff_customer GET    /staff/customers/new(.:format)                       staff/customers#new {:host=&gt;\"0.0.0.0\"}\n+#             edit_staff_customer GET    /staff/customers/:id/edit(.:format)                  staff/customers#edit {:host=&gt;\"0.0.0.0\"}\n+#                  staff_customer GET    /staff/customers/:id(.:format)                       staff/customers#show {:host=&gt;\"0.0.0.0\"}\n+#                                 PATCH  /staff/customers/:id(.:format)                       staff/customers#update {:host=&gt;\"0.0.0.0\"}\n+#                                 PUT    /staff/customers/:id(.:format)                       staff/customers#update {:host=&gt;\"0.0.0.0\"}\n+#                                 DELETE /staff/customers/:id(.:format)                       staff/customers#destroy {:host=&gt;\"0.0.0.0\"}\n #                      admin_root GET    /admin(.:format)                                     admin/top#index {:host=&gt;\"0.0.0.0\"}\n #                     admin_login GET    /admin/login(.:format)                               admin/sessions#new {:host=&gt;\"0.0.0.0\"}\n #                   admin_session DELETE /admin/session(.:format)                             admin/sessions#destroy {:host=&gt;\"0.0.0.0\"}\n@@ -49,6 +57,7 @@ Rails.application.routes.draw do\n       concerns :session_path\n       resource :account, only: [:show, :edit, :update]\n       resource :password, only: [:show, :edit, :update]\n+      resources :customers\n     end\n   end\n\ndiff --git a/db/migrate/20170203051643_create_customers.rb b/db/migrate/20170203051643_create_customers.rb\nindex 49f2df7..df6f8d1 100644\n--- a/db/migrate/20170203051643_create_customers.rb\n+++ b/db/migrate/20170203051643_create_customers.rb\n@@ -8,7 +8,7 @@ class CreateCustomers &lt; ActiveRecord::Migration[5.0]\n       t.string :family_name_kana, null: false, comment:'\u59d3\uff08\u30ab\u30ca\uff09'\n       t.string :given_name_kana, null: false, comment:'\u540d\uff08\u30ab\u30ca\uff09'\n       t.string :gender, comment:'\u6027\u5225'\n-      t.string :birthday, comment:'\u8a95\u751f\u65e5'\n+      t.date :birthday, comment:'\u8a95\u751f\u65e5'\n       t.string :hashed_password, comment:'\u30d1\u30b9\u30ef\u30fc\u30c9'\n\n       t.timestamps\ndiff --git a/db/schema.rb b/db/schema.rb\nindex edc3e7e..36cea7d 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -46,7 +46,7 @@ ActiveRecord::Schema.define(version: 20170203051654) do\n     t.string   \"family_name_kana\", null: false, comment: \"\u59d3\uff08\u30ab\u30ca\uff09\"\n     t.string   \"given_name_kana\",  null: false, comment: \"\u540d\uff08\u30ab\u30ca\uff09\"\n     t.string   \"gender\",                        comment: \"\u6027\u5225\"\n-    t.string   \"birthday\",                      comment: \"\u8a95\u751f\u65e5\"\n+    t.date     \"birthday\",                      comment: \"\u8a95\u751f\u65e5\"\n     t.string   \"hashed_password\",               comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n     t.datetime \"created_at\",       null: false\n     t.datetime \"updated_at\",       null: false\ndiff --git a/spec/controllers/staff/top_controller_spec.rb b/spec/controllers/staff/top_controller_spec.rb\nindex 8f12e7c..c6663ca 100644\n--- a/spec/controllers/staff/top_controller_spec.rb\n+++ b/spec/controllers/staff/top_controller_spec.rb\n@@ -9,10 +9,10 @@ describe Staff::TopController, 'Before login' do\n   end\n\n   describe '#index' do\n-    # \u901a\u5e38\u306fstaff/top/index\u3092\u8868\u793a\n-    it 'should display staff/top/index' do\n+    # \u901a\u5e38\u306fstaff/top/dashboard\u3092\u8868\u793a\n+    it 'should display staff/top/dashboard' do\n       get :index\n-      expect(response).to render_template('staff/top/index')\n+      expect(response).to render_template('staff/top/dashboard')\n     end\n\n     # \u505c\u6b62\u30d5\u30e9\u30b0\u304c\u30bb\u30c3\u30c8\u3055\u308c\u305f\u3089\u5f37\u5236\u7684\u306b\u30ed\u30b0\u30a2\u30a6\u30c8\ndiff --git a/spec/factories/customers.rb b/spec/factories/customers.rb\nindex 2895e7f..98d55fd 100644\n--- a/spec/factories/customers.rb\n+++ b/spec/factories/customers.rb\n@@ -10,7 +10,7 @@\n #  family_name_kana :string(255)      not null              # \u59d3\uff08\u30ab\u30ca\uff09\n #  given_name_kana  :string(255)      not null              # \u540d\uff08\u30ab\u30ca\uff09\n #  gender           :string(255)                            # \u6027\u5225\n-#  birthday         :string(255)                            # \u8a95\u751f\u65e5\n+#  birthday         :date                                   # \u8a95\u751f\u65e5\n #  hashed_password  :string(255)                            # \u30d1\u30b9\u30ef\u30fc\u30c9\n #  created_at       :datetime         not null\n #  updated_at       :datetime         not null\n</code></pre>"},{"location":"journal/20170203/#_27","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170203/#6d8df6b","title":"\u30b3\u30df\u30c3\u30c8: 6d8df6b","text":""},{"location":"journal/20170203/#_28","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u306e\u6295\u5165 #13\n</code></pre>"},{"location":"journal/20170203/#_29","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M db/schema.rb</li> <li>A db/seed/development/customers.rb</li> <li>M db/seeds.rb</li> </ul>"},{"location":"journal/20170203/#_30","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 6d8df6bba268547ba17eba239d90cd129398dae4\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 3 14:57:42 2017 +0900\n\n    \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u306e\u6295\u5165 #13\n\ndiff --git a/README.md b/README.md\nindex 9bbec3c..8b2d632 100644\n--- a/README.md\n+++ b/README.md\n@@ -550,6 +550,8 @@ git push heroku master\n + \u9867\u5ba2\u95a2\u9023\u30e2\u30c7\u30eb\u7fa4\u306e\u521d\u671f\u5b9f\u88c5\n\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4e00\u89a7\u8868\u793a\u30fb\u8a73\u7d30\u8868\u793a\n++ \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u306e\u6295\u5165\n+\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u30fb\u524a\u9664\n\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 6d16dd3..edc3e7e 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -12,7 +12,7 @@\n\n ActiveRecord::Schema.define(version: 20170203051654) do\n\n-  create_table \"addresses\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u4f4f\u6240\" do |t|\n+  create_table \"addresses\", force: :cascade,  comment: \"\u4f4f\u6240\" do |t|\n     t.integer  \"customer_id\",                null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",                       null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n     t.string   \"postal_code\",                null: false, comment: \"\u90f5\u4fbf\u756a\u53f7\"\n@@ -28,7 +28,7 @@ ActiveRecord::Schema.define(version: 20170203051654) do\n     t.index [\"type\", \"customer_id\"], name: \"index_addresses_on_type_and_customer_id\", unique: true, using: :btree\n   end\n\n-  create_table \"administrators\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u7ba1\u7406\u8005\" do |t|\n+  create_table \"administrators\", force: :cascade,  comment: \"\u7ba1\u7406\u8005\" do |t|\n     t.string   \"email\",                           null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"hashed_password\",                              comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n@@ -38,7 +38,7 @@ ActiveRecord::Schema.define(version: 20170203051654) do\n     t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true, using: :btree\n   end\n\n-  create_table \"customers\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u9867\u5ba2\" do |t|\n+  create_table \"customers\", force: :cascade,  comment: \"\u9867\u5ba2\" do |t|\n     t.string   \"email\",            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",  null: false, comment: \"\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",      null: false, comment: \"\u59d3\"\n@@ -54,7 +54,7 @@ ActiveRecord::Schema.define(version: 20170203051654) do\n     t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_family_name_kana_and_given_name_kana\", using: :btree\n   end\n\n-  create_table \"staff_events\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n+  create_table \"staff_events\", force: :cascade,  comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n     t.integer  \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",            null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n     t.datetime \"created_at\",      null: false, comment: \"\u767a\u751f\u6642\u523b\"\n@@ -63,7 +63,7 @@ ActiveRecord::Schema.define(version: 20170203051654) do\n     t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\", using: :btree\n   end\n\n-  create_table \"staff_members\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\" do |t|\n+  create_table \"staff_members\", force: :cascade,  comment: \"\u8077\u54e1\" do |t|\n     t.string   \"email\",                            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                  null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",                      null: false, comment: \"\u59d3\"\ndiff --git a/db/seed/development/customers.rb b/db/seed/development/customers.rb\nnew file mode 100644\nindex 0000000..1440187\n--- /dev/null\n+++ b/db/seed/development/customers.rb\n@@ -0,0 +1,64 @@\n+city_names = %w(\u9752\u5dfb\u5e02 \u8d64\u5dfb\u5e02 \u9ec4\u5dfb\u5e02)\n+\n+family_names = %w{\n+  \u4f50\u85e4:\u30b5\u30c8\u30a6:sato\n+  \u9234\u6728:\u30b9\u30ba\u30ad:suzuki\n+  \u9ad8\u6a4b:\u30bf\u30ab\u30cf\u30b7:takahashi\n+  \u7530\u4e2d:\u30bf\u30ca\u30ab:tanaka\n+  \u6e21\u8fba:\u30ef\u30bf\u30ca\u30d9:watanabe\n+  \u4f0a\u85e4:\u30a4\u30c8\u30a6:ito\n+  \u5c71\u672c:\u30e4\u30de\u30e2\u30c8:yamamoto\n+  \u4e2d\u6751:\u30ca\u30ab\u30e0\u30e9:nakamura\n+  \u5c0f\u6797:\u30b3\u30d0\u30e4\u30b7:kobayashi\n+  \u52a0\u85e4:\u30ab\u30c8\u30a6:kato\n+}\n+\n+given_names = %w{\n+  \u4e00\u90ce:\u30a4\u30c1\u30ed\u30a6:ichiro\n+  \u4e8c\u90ce:\u30b8\u30ed\u30a6:jiro\n+  \u4e09\u90ce:\u30b5\u30d6\u30ed\u30a6:saburo\n+  \u56db\u90ce:\u30b7\u30ed\u30a6:shiro\n+  \u4e94\u90ce:\u30b4\u30ed\u30a6:goro\n+  \u677e\u5b50:\u30de\u30c4\u30b3:matsuko\n+  \u7af9\u5b50:\u30bf\u30b1\u30b3:takeko\n+  \u6885\u5b50:\u30a6\u30e1\u30b3:umeko\n+  \u9db4\u5b50:\u30c4\u30eb\u30b3:tsuruko\n+  \u4e80\u5b50:\u30ab\u30e1\u30b3:kameko\n+}\n+\n+company_names = %w(OIAX ABC XYZ)\n+\n+10.times do |n|\n+  10.times do |m|\n+    fn = family_names[n].split(':')\n+    gn = given_names[m].split(':')\n+\n+    c = Customer.create!(\n+        email: \"#{fn[2]}.#{gn[2]}@example.jp\",\n+        family_name: fn[0],\n+        given_name: gn[0],\n+        family_name_kana: fn[1],\n+        given_name_kana: gn[1],\n+        password: 'password',\n+        birthday: 60.years.ago.advance(seconds: rand(40.years)).to_date,\n+        gender: m &lt; 5 ? 'male' : 'female'\n+    )\n+    c.create_home_address!(\n+        postal_code: sprintf('%07d', rand(10000000)),\n+        prefecture: Address::PREFECTURE_NAMES.sample,\n+        city: city_names.sample,\n+        address1: '\u958b\u767a1-2-3',\n+        address2: '\u30ec\u30a4\u30eb\u30ba\u30cf\u30a4\u30c4301\u53f7\u5ba4'\n+    )\n+    if m % 3 == 0\n+      c.create_work_address!(\n+          postal_code: sprintf('%07d', rand(10000000)),\n+          prefecture: Address::PREFECTURE_NAMES.sample,\n+          city: city_names.sample,\n+          address1: '\u8a66\u9a134-5-6',\n+          address2: '\u30eb\u30d3\u30fc\u30d3\u30eb2F',\n+          company_name: company_names.sample\n+      )\n+    end\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/db/seeds.rb b/db/seeds.rb\nindex f58b110..1de7b86 100644\n--- a/db/seeds.rb\n+++ b/db/seeds.rb\n@@ -6,7 +6,7 @@\n\n #   movies = Movie.create([{ name: 'Star Wars' }, { name: 'Lord of the Rings' }])\n #   Character.create(name: 'Luke', movie: movies.first)\n-table_names = %w(staff_members administrators staff_events)\n+table_names = %w(staff_members administrators staff_events customers)\n table_names.each do |table_name|\n   path = Rails.root.join('db','seed',Rails.env, \"#{table_name}.rb\")\n   if File.exist?(path)\n</code></pre>"},{"location":"journal/20170203/#3c3bf9e","title":"\u30b3\u30df\u30c3\u30c8: 3c3bf9e","text":""},{"location":"journal/20170203/#_31","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u9867\u5ba2\u95a2\u9023\u30e2\u30c7\u30eb\u7fa4\u306e\u521d\u671f\u5b9f\u88c5 #13\n</code></pre>"},{"location":"journal/20170203/#_32","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/address.rb</li> <li>M app/models/customer.rb</li> <li>A app/models/home_address.rb</li> <li>A app/models/work_address.rb</li> </ul>"},{"location":"journal/20170203/#_33","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 3c3bf9eb56e3b959db6e13855d4921f24ccbd972\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 3 14:47:40 2017 +0900\n\n    \u9867\u5ba2\u95a2\u9023\u30e2\u30c7\u30eb\u7fa4\u306e\u521d\u671f\u5b9f\u88c5 #13\n\ndiff --git a/README.md b/README.md\nindex f2ae519..9bbec3c 100644\n--- a/README.md\n+++ b/README.md\n@@ -547,6 +547,7 @@ git push heroku master\n + \u9867\u5ba2\u7ba1\u7406\u306e\u305f\u3081\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08\n + \u5358\u4e00\u30c6\u30fc\u30d6\u30eb\u7d99\u627f\u3068\u306f\n + \u9867\u5ba2\u95a2\u9023\u30c6\u30fc\u30d6\u30eb\u7fa4\u306e\u4f5c\u6210\n++ \u9867\u5ba2\u95a2\u9023\u30e2\u30c7\u30eb\u7fa4\u306e\u521d\u671f\u5b9f\u88c5\n\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4e00\u89a7\u8868\u793a\u30fb\u8a73\u7d30\u8868\u793a\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\ndiff --git a/app/models/address.rb b/app/models/address.rb\nindex 71dcc7a..fd01b80 100644\n--- a/app/models/address.rb\n+++ b/app/models/address.rb\n@@ -22,4 +22,18 @@\n #\n\n class Address &lt; ApplicationRecord\n+  belongs_to :customer\n+\n+  PREFECTURE_NAMES = %w(\n+    \u5317\u6d77\u9053\n+    \u9752\u68ee\u770c \u5ca9\u624b\u770c \u5bae\u57ce\u770c \u79cb\u7530\u770c \u5c71\u5f62\u770c \u798f\u5cf6\u770c\n+    \u8328\u57ce\u770c \u6803\u6728\u770c \u7fa4\u99ac\u770c \u57fc\u7389\u770c \u5343\u8449\u770c \u6771\u4eac\u90fd \u795e\u5948\u5ddd\u770c\n+    \u65b0\u6f5f\u770c \u5bcc\u5c71\u770c \u77f3\u5ddd\u770c \u798f\u4e95\u770c \u5c71\u68a8\u770c \u9577\u91ce\u770c \u5c90\u961c\u770c \u9759\u5ca1\u770c \u611b\u77e5\u770c\n+    \u4e09\u91cd\u770c \u6ecb\u8cc0\u770c \u4eac\u90fd\u5e9c \u5927\u962a\u5e9c \u5175\u5eab\u770c \u5948\u826f\u770c \u548c\u6b4c\u5c71\u770c\n+    \u9ce5\u53d6\u770c \u5cf6\u6839\u770c \u5ca1\u5c71\u770c \u5e83\u5cf6\u770c \u5c71\u53e3\u770c\n+    \u5fb3\u5cf6\u770c \u9999\u5ddd\u770c \u611b\u5a9b\u770c \u9ad8\u77e5\u770c\n+    \u798f\u5ca1\u770c \u4f50\u8cc0\u770c \u9577\u5d0e\u770c \u718a\u672c\u770c \u5927\u5206\u770c \u5bae\u5d0e\u770c \u9e7f\u5150\u5cf6\u770c\n+    \u6c96\u7e04\u770c\n+    \u65e5\u672c\u56fd\u5916\n+  )\n end\ndiff --git a/app/models/customer.rb b/app/models/customer.rb\nindex 6a2be80..b688c24 100644\n--- a/app/models/customer.rb\n+++ b/app/models/customer.rb\n@@ -22,4 +22,17 @@\n #\n\n class Customer &lt; ApplicationRecord\n+  has_one :home_address, dependent: :destroy\n+  has_one :work_address, dependent: :destroy\n+  before_validation do\n+    self.email_for_index = email.downcase if email\n+  end\n+\n+  def password=(raw_password)\n+    if raw_password.kind_of?(String)\n+      self.hashed_password = BCrypt::Password.create(raw_password)\n+    elsif raw_password.nil?\n+      self.hashed_password = nil\n+    end\n+  end\n end\ndiff --git a/app/models/home_address.rb b/app/models/home_address.rb\nnew file mode 100644\nindex 0000000..b47baf2\n--- /dev/null\n+++ b/app/models/home_address.rb\n@@ -0,0 +1,2 @@\n+class HomeAddress &lt; Address\n+end\n\\ No newline at end of file\ndiff --git a/app/models/work_address.rb b/app/models/work_address.rb\nnew file mode 100644\nindex 0000000..06af41d\n--- /dev/null\n+++ b/app/models/work_address.rb\n@@ -0,0 +1,2 @@\n+class WorkAddress &lt; Address\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170203/#_34","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170203/#eb7506f","title":"\u30b3\u30df\u30c3\u30c8: eb7506f","text":""},{"location":"journal/20170203/#_35","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u9867\u5ba2\u95a2\u9023\u30c6\u30fc\u30d6\u30eb\u7fa4\u306e\u4f5c\u6210 #13\n</code></pre>"},{"location":"journal/20170203/#_36","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/models/address.rb</li> <li>A app/models/customer.rb</li> <li>A db/migrate/20170203051643_create_customers.rb</li> <li>A db/migrate/20170203051654_create_addresses.rb</li> <li>M db/schema.rb</li> <li>A spec/factories/addresses.rb</li> <li>A spec/factories/customers.rb</li> </ul>"},{"location":"journal/20170203/#_37","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit eb7506f4f56f01b88ac68b74010fe868ed39acb3\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 3 14:37:40 2017 +0900\n\n    \u9867\u5ba2\u95a2\u9023\u30c6\u30fc\u30d6\u30eb\u7fa4\u306e\u4f5c\u6210 #13\n\ndiff --git a/README.md b/README.md\nindex afdc1b9..f2ae519 100644\n--- a/README.md\n+++ b/README.md\n@@ -544,6 +544,10 @@ git push heroku master\n\n ### \u5358\u4e00\u30c6\u30fc\u30d6\u7d99\u627f\n #### \u5358\u4e00\u30c6\u30fc\u30d6\u30eb\u7d99\u627f\n++ \u9867\u5ba2\u7ba1\u7406\u306e\u305f\u3081\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08\n++ \u5358\u4e00\u30c6\u30fc\u30d6\u30eb\u7d99\u627f\u3068\u306f\n++ \u9867\u5ba2\u95a2\u9023\u30c6\u30fc\u30d6\u30eb\u7fa4\u306e\u4f5c\u6210\n+\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4e00\u89a7\u8868\u793a\u30fb\u8a73\u7d30\u8868\u793a\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u30fb\u524a\u9664\ndiff --git a/app/models/address.rb b/app/models/address.rb\nnew file mode 100644\nindex 0000000..71dcc7a\n--- /dev/null\n+++ b/app/models/address.rb\n@@ -0,0 +1,25 @@\n+# == Schema Information\n+#\n+# Table name: addresses # \u4f4f\u6240\n+#\n+#  id            :integer          not null, primary key\n+#  customer_id   :integer          not null              # \u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  type          :string(255)      not null              # \u7d99\u627f\u30ab\u30e9\u30e0\n+#  postal_code   :string(255)      not null              # \u90f5\u4fbf\u756a\u53f7\n+#  prefecture    :string(255)      not null              # \u90fd\u9053\u5e9c\u770c\n+#  city          :string(255)      not null              # \u5e02\u533a\u753a\u6751\n+#  address1      :string(255)      not null              # \u753a\u57df\u30fb\u756a\u5730\u7b49\n+#  address2      :string(255)      not null              # \u5efa\u7269\u540d\u30fb\u90e8\u5c4b\u756a\u53f7\n+#  company_name  :string(255)      default(\"\"), not null # \u4f1a\u793e\u540d\n+#  division_name :string(255)      default(\"\"), not null # \u90e8\u7f72\u540d\n+#  created_at    :datetime         not null\n+#  updated_at    :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_addresses_on_customer_id           (customer_id)\n+#  index_addresses_on_type_and_customer_id  (type,customer_id) UNIQUE\n+#\n+\n+class Address &lt; ApplicationRecord\n+end\ndiff --git a/app/models/customer.rb b/app/models/customer.rb\nnew file mode 100644\nindex 0000000..6a2be80\n--- /dev/null\n+++ b/app/models/customer.rb\n@@ -0,0 +1,25 @@\n+# == Schema Information\n+#\n+# Table name: customers # \u9867\u5ba2\n+#\n+#  id               :integer          not null, primary key\n+#  email            :string(255)      not null              # \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+#  email_for_index  :string(255)      not null              # \u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+#  family_name      :string(255)      not null              # \u59d3\n+#  given_name       :string(255)      not null              # \u540d\n+#  family_name_kana :string(255)      not null              # \u59d3\uff08\u30ab\u30ca\uff09\n+#  given_name_kana  :string(255)      not null              # \u540d\uff08\u30ab\u30ca\uff09\n+#  gender           :string(255)                            # \u6027\u5225\n+#  birthday         :string(255)                            # \u8a95\u751f\u65e5\n+#  hashed_password  :string(255)                            # \u30d1\u30b9\u30ef\u30fc\u30c9\n+#  created_at       :datetime         not null\n+#  updated_at       :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_customers_on_email_for_index                       (email_for_index) UNIQUE\n+#  index_customers_on_family_name_kana_and_given_name_kana  (family_name_kana,given_name_kana)\n+#\n+\n+class Customer &lt; ApplicationRecord\n+end\ndiff --git a/db/migrate/20170203051643_create_customers.rb b/db/migrate/20170203051643_create_customers.rb\nnew file mode 100644\nindex 0000000..49f2df7\n--- /dev/null\n+++ b/db/migrate/20170203051643_create_customers.rb\n@@ -0,0 +1,20 @@\n+class CreateCustomers &lt; ActiveRecord::Migration[5.0]\n+  def change\n+    create_table :customers,comment:'\u9867\u5ba2' do |t|\n+      t.string :email, null: false, comment:'\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9'\n+      t.string :email_for_index, null: false, comment:'\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9'\n+      t.string :family_name, null: false, comment:'\u59d3'\n+      t.string :given_name, null: false, comment:'\u540d'\n+      t.string :family_name_kana, null: false, comment:'\u59d3\uff08\u30ab\u30ca\uff09'\n+      t.string :given_name_kana, null: false, comment:'\u540d\uff08\u30ab\u30ca\uff09'\n+      t.string :gender, comment:'\u6027\u5225'\n+      t.string :birthday, comment:'\u8a95\u751f\u65e5'\n+      t.string :hashed_password, comment:'\u30d1\u30b9\u30ef\u30fc\u30c9'\n+\n+      t.timestamps\n+    end\n+\n+    add_index :customers, :email_for_index, unique: true\n+    add_index :customers, [:family_name_kana, :given_name_kana]\n+  end\n+end\ndiff --git a/db/migrate/20170203051654_create_addresses.rb b/db/migrate/20170203051654_create_addresses.rb\nnew file mode 100644\nindex 0000000..e2da587\n--- /dev/null\n+++ b/db/migrate/20170203051654_create_addresses.rb\n@@ -0,0 +1,20 @@\n+class CreateAddresses &lt; ActiveRecord::Migration[5.0]\n+  def change\n+    create_table :addresses,comment:'\u4f4f\u6240' do |t|\n+      t.references :customer, null: false, comment:'\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc'\n+      t.string :type, null: false, comment:'\u7d99\u627f\u30ab\u30e9\u30e0'\n+      t.string :postal_code, null: false, comment:'\u90f5\u4fbf\u756a\u53f7'\n+      t.string :prefecture, null: false, comment:'\u90fd\u9053\u5e9c\u770c'\n+      t.string :city, null: false, comment:'\u5e02\u533a\u753a\u6751'\n+      t.string :address1, null: false, comment:'\u753a\u57df\u30fb\u756a\u5730\u7b49'\n+      t.string :address2, null: false, comment:'\u5efa\u7269\u540d\u30fb\u90e8\u5c4b\u756a\u53f7'\n+      t.string :company_name, null: false, default: '', comment:'\u4f1a\u793e\u540d'\n+      t.string :division_name, null: false, default: '', comment:'\u90e8\u7f72\u540d'\n+\n+      t.timestamps\n+    end\n+\n+    add_index :addresses, [:type, :customer_id], unique: true\n+    add_foreign_key :addresses, :customers\n+  end\n+end\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 5bd9dd3..6d16dd3 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -10,9 +10,25 @@\n #\n # It's strongly recommended that you check this file into your version control system.\n\n-ActiveRecord::Schema.define(version: 20170131041629) do\n+ActiveRecord::Schema.define(version: 20170203051654) do\n\n-  create_table \"administrators\", force: :cascade, comment: \"\u7ba1\u7406\u8005\" do |t|\n+  create_table \"addresses\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u4f4f\u6240\" do |t|\n+    t.integer  \"customer_id\",                null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.string   \"type\",                       null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n+    t.string   \"postal_code\",                null: false, comment: \"\u90f5\u4fbf\u756a\u53f7\"\n+    t.string   \"prefecture\",                 null: false, comment: \"\u90fd\u9053\u5e9c\u770c\"\n+    t.string   \"city\",                       null: false, comment: \"\u5e02\u533a\u753a\u6751\"\n+    t.string   \"address1\",                   null: false, comment: \"\u753a\u57df\u30fb\u756a\u5730\u7b49\"\n+    t.string   \"address2\",                   null: false, comment: \"\u5efa\u7269\u540d\u30fb\u90e8\u5c4b\u756a\u53f7\"\n+    t.string   \"company_name\",  default: \"\", null: false, comment: \"\u4f1a\u793e\u540d\"\n+    t.string   \"division_name\", default: \"\", null: false, comment: \"\u90e8\u7f72\u540d\"\n+    t.datetime \"created_at\",                 null: false\n+    t.datetime \"updated_at\",                 null: false\n+    t.index [\"customer_id\"], name: \"index_addresses_on_customer_id\", using: :btree\n+    t.index [\"type\", \"customer_id\"], name: \"index_addresses_on_type_and_customer_id\", unique: true, using: :btree\n+  end\n+\n+  create_table \"administrators\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u7ba1\u7406\u8005\" do |t|\n     t.string   \"email\",                           null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"hashed_password\",                              comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n@@ -22,7 +38,23 @@ ActiveRecord::Schema.define(version: 20170131041629) do\n     t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true, using: :btree\n   end\n\n-  create_table \"staff_events\", force: :cascade, comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n+  create_table \"customers\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u9867\u5ba2\" do |t|\n+    t.string   \"email\",            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string   \"email_for_index\",  null: false, comment: \"\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string   \"family_name\",      null: false, comment: \"\u59d3\"\n+    t.string   \"given_name\",       null: false, comment: \"\u540d\"\n+    t.string   \"family_name_kana\", null: false, comment: \"\u59d3\uff08\u30ab\u30ca\uff09\"\n+    t.string   \"given_name_kana\",  null: false, comment: \"\u540d\uff08\u30ab\u30ca\uff09\"\n+    t.string   \"gender\",                        comment: \"\u6027\u5225\"\n+    t.string   \"birthday\",                      comment: \"\u8a95\u751f\u65e5\"\n+    t.string   \"hashed_password\",               comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n+    t.datetime \"created_at\",       null: false\n+    t.datetime \"updated_at\",       null: false\n+    t.index [\"email_for_index\"], name: \"index_customers_on_email_for_index\", unique: true, using: :btree\n+    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_family_name_kana_and_given_name_kana\", using: :btree\n+  end\n+\n+  create_table \"staff_events\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n     t.integer  \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",            null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n     t.datetime \"created_at\",      null: false, comment: \"\u767a\u751f\u6642\u523b\"\n@@ -31,7 +63,7 @@ ActiveRecord::Schema.define(version: 20170131041629) do\n     t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\", using: :btree\n   end\n\n-  create_table \"staff_members\", force: :cascade, comment: \"\u8077\u54e1\" do |t|\n+  create_table \"staff_members\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\" do |t|\n     t.string   \"email\",                            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                  null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",                      null: false, comment: \"\u59d3\"\n@@ -48,5 +80,6 @@ ActiveRecord::Schema.define(version: 20170131041629) do\n     t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\", using: :btree\n   end\n\n+  add_foreign_key \"addresses\", \"customers\"\n   add_foreign_key \"staff_events\", \"staff_members\"\n end\ndiff --git a/spec/factories/addresses.rb b/spec/factories/addresses.rb\nnew file mode 100644\nindex 0000000..8b961d6\n--- /dev/null\n+++ b/spec/factories/addresses.rb\n@@ -0,0 +1,28 @@\n+# == Schema Information\n+#\n+# Table name: addresses # \u4f4f\u6240\n+#\n+#  id            :integer          not null, primary key\n+#  customer_id   :integer          not null              # \u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  type          :string(255)      not null              # \u7d99\u627f\u30ab\u30e9\u30e0\n+#  postal_code   :string(255)      not null              # \u90f5\u4fbf\u756a\u53f7\n+#  prefecture    :string(255)      not null              # \u90fd\u9053\u5e9c\u770c\n+#  city          :string(255)      not null              # \u5e02\u533a\u753a\u6751\n+#  address1      :string(255)      not null              # \u753a\u57df\u30fb\u756a\u5730\u7b49\n+#  address2      :string(255)      not null              # \u5efa\u7269\u540d\u30fb\u90e8\u5c4b\u756a\u53f7\n+#  company_name  :string(255)      default(\"\"), not null # \u4f1a\u793e\u540d\n+#  division_name :string(255)      default(\"\"), not null # \u90e8\u7f72\u540d\n+#  created_at    :datetime         not null\n+#  updated_at    :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_addresses_on_customer_id           (customer_id)\n+#  index_addresses_on_type_and_customer_id  (type,customer_id) UNIQUE\n+#\n+\n+FactoryGirl.define do\n+  factory :address do\n+    \n+  end\n+end\ndiff --git a/spec/factories/customers.rb b/spec/factories/customers.rb\nnew file mode 100644\nindex 0000000..2895e7f\n--- /dev/null\n+++ b/spec/factories/customers.rb\n@@ -0,0 +1,28 @@\n+# == Schema Information\n+#\n+# Table name: customers # \u9867\u5ba2\n+#\n+#  id               :integer          not null, primary key\n+#  email            :string(255)      not null              # \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+#  email_for_index  :string(255)      not null              # \u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+#  family_name      :string(255)      not null              # \u59d3\n+#  given_name       :string(255)      not null              # \u540d\n+#  family_name_kana :string(255)      not null              # \u59d3\uff08\u30ab\u30ca\uff09\n+#  given_name_kana  :string(255)      not null              # \u540d\uff08\u30ab\u30ca\uff09\n+#  gender           :string(255)                            # \u6027\u5225\n+#  birthday         :string(255)                            # \u8a95\u751f\u65e5\n+#  hashed_password  :string(255)                            # \u30d1\u30b9\u30ef\u30fc\u30c9\n+#  created_at       :datetime         not null\n+#  updated_at       :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_customers_on_email_for_index                       (email_for_index) UNIQUE\n+#  index_customers_on_family_name_kana_and_given_name_kana  (family_name_kana,given_name_kana)\n+#\n+\n+FactoryGirl.define do\n+  factory :customer do\n+    \n+  end\n+end\n</code></pre>"},{"location":"journal/20170203/#_38","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170203/#3409385","title":"\u30b3\u30df\u30c3\u30c8: 3409385","text":""},{"location":"journal/20170203/#_39","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u5358\u4e00\u30c6\u30fc\u30d6\u30eb\u7d99\u627f #13\n</code></pre>"},{"location":"journal/20170203/#_40","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .idea/.generators</li> <li>M README.md</li> </ul>"},{"location":"journal/20170203/#_41","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 34093855f8043428a2ff7d86c0b8caa534652bcc\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 3 14:14:30 2017 +0900\n\n    \u5358\u4e00\u30c6\u30fc\u30d6\u30eb\u7d99\u627f #13\n\ndiff --git a/.idea/.generators b/.idea/.generators\nindex a68204b..1618976 100644\n--- a/.idea/.generators\n+++ b/.idea/.generators\n@@ -5,4 +5,4 @@ You are allowed to:\n 2. Remove generators\n 3. Add installed generators\n To add new installed generators automatically delete this file and reload the project.\n---&gt;&lt;GeneratorsGroup&gt;&lt;Generator name=\"annotate:install\" /&gt;&lt;Generator name=\"assets\" /&gt;&lt;Generator name=\"channel\" /&gt;&lt;Generator name=\"coffee:assets\" /&gt;&lt;Generator name=\"controller\" /&gt;&lt;Generator name=\"erd:install\" /&gt;&lt;Generator name=\"factory_girl:model\" /&gt;&lt;Generator name=\"generator\" /&gt;&lt;Generator name=\"helper\" /&gt;&lt;Generator name=\"i18n\" /&gt;&lt;Generator name=\"i18n_locale\" /&gt;&lt;Generator name=\"i18n_translation\" /&gt;&lt;Generator name=\"integration_test\" /&gt;&lt;Generator name=\"jbuilder\" /&gt;&lt;Generator name=\"job\" /&gt;&lt;Generator name=\"js:assets\" /&gt;&lt;Generator name=\"kaminari:config\" /&gt;&lt;Generator name=\"kaminari:views\" /&gt;&lt;Generator name=\"mailer\" /&gt;&lt;Generator name=\"migration\" /&gt;&lt;Generator name=\"model\" /&gt;&lt;Generator name=\"rack:dev-mark:install\" /&gt;&lt;Generator name=\"resource\" /&gt;&lt;Generator name=\"rspec:controller\" /&gt;&lt;Generator name=\"rspec:feature\" /&gt;&lt;Generator name=\"rspec:helper\" /&gt;&lt;Generator name=\"rspec:install\" /&gt;&lt;Generator name=\"rspec:integration\" /&gt;&lt;Generator name=\"rspec:job\" /&gt;&lt;Generator name=\"rspec:mailer\" /&gt;&lt;Generator name=\"rspec:model\" /&gt;&lt;Generator name=\"rspec:observer\" /&gt;&lt;Generator name=\"rspec:request\" /&gt;&lt;Generator name=\"rspec:scaffold\" /&gt;&lt;Generator name=\"rspec:view\" /&gt;&lt;Generator name=\"scaffold\" /&gt;&lt;Generator name=\"scaffold_controller\" /&gt;&lt;Generator name=\"task\" /&gt;&lt;Generator name=\"test_unit:controller\" /&gt;&lt;Generator name=\"test_unit:generator\" /&gt;&lt;Generator name=\"test_unit:helper\" /&gt;&lt;Generator name=\"test_unit:integration\" /&gt;&lt;Generator name=\"test_unit:job\" /&gt;&lt;Generator name=\"test_unit:mailer\" /&gt;&lt;Generator name=\"test_unit:model\" /&gt;&lt;Generator name=\"test_unit:plugin\" /&gt;&lt;Generator name=\"test_unit:scaffold\" /&gt;&lt;/GeneratorsGroup&gt;&lt;/Settings&gt;\n+--&gt;&lt;GeneratorsGroup&gt;&lt;Generator name=\"active_record:migration\" /&gt;&lt;Generator name=\"active_record:model\" /&gt;&lt;Generator name=\"active_record:observer\" /&gt;&lt;Generator name=\"active_record:session_migration\" /&gt;&lt;Generator name=\"controller\" /&gt;&lt;Generator name=\"erb:controller\" /&gt;&lt;Generator name=\"erb:mailer\" /&gt;&lt;Generator name=\"erb:scaffold\" /&gt;&lt;Generator name=\"generator\" /&gt;&lt;Generator name=\"helper\" /&gt;&lt;Generator name=\"integration_test\" /&gt;&lt;Generator name=\"mailer\" /&gt;&lt;Generator name=\"metal\" /&gt;&lt;Generator name=\"migration\" /&gt;&lt;Generator name=\"model\" /&gt;&lt;Generator name=\"model_subclass\" /&gt;&lt;Generator name=\"observer\" /&gt;&lt;Generator name=\"performance_test\" /&gt;&lt;Generator name=\"plugin\" /&gt;&lt;Generator name=\"resource\" /&gt;&lt;Generator name=\"scaffold\" /&gt;&lt;Generator name=\"scaffold_controller\" /&gt;&lt;Generator name=\"session_migration\" /&gt;&lt;Generator name=\"stylesheets\" /&gt;&lt;Generator name=\"test_unit:controller\" /&gt;&lt;Generator name=\"test_unit:helper\" /&gt;&lt;Generator name=\"test_unit:integration\" /&gt;&lt;Generator name=\"test_unit:mailer\" /&gt;&lt;Generator name=\"test_unit:model\" /&gt;&lt;Generator name=\"test_unit:observer\" /&gt;&lt;Generator name=\"test_unit:performance\" /&gt;&lt;Generator name=\"test_unit:plugin\" /&gt;&lt;Generator name=\"test_unit:scaffold\" /&gt;&lt;/GeneratorsGroup&gt;&lt;/Settings&gt;\ndiff --git a/README.md b/README.md\nindex ff0cb7d..afdc1b9 100644\n--- a/README.md\n+++ b/README.md\n@@ -543,6 +543,11 @@ git push heroku master\n + Datepicker\u306e\u5229\u7528\n\n ### \u5358\u4e00\u30c6\u30fc\u30d6\u7d99\u627f\n+#### \u5358\u4e00\u30c6\u30fc\u30d6\u30eb\u7d99\u627f\n+#### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4e00\u89a7\u8868\u793a\u30fb\u8a73\u7d30\u8868\u793a\n+#### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\n+#### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u30fb\u524a\u9664\n+\n ### Capybara\n ### \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n ### \u691c\u7d22\u30d5\u30a9\u30fc\u30e0\n</code></pre>"},{"location":"journal/20170204/","title":"\u4f5c\u696d\u5c65\u6b74 2017-02-04","text":""},{"location":"journal/20170204/#_1","title":"\u6982\u8981","text":"<p>2017-02-04\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u65e5\u306f\u4e3b\u306b\u300c\u5358\u4e00\u30c6\u30fc\u30d6\u30eb\u7d99\u627f\u300d\u6a5f\u80fd\u306e\u5b9f\u88c5\u3068\u3001JavaScript\u306e\u8aad\u307f\u8fbc\u307f\u4e0d\u5177\u5408\u4fee\u6b63\u3092\u884c\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170204/#_2","title":"\u5b9f\u88c5\u5185\u5bb9\u306e\u8aac\u660e","text":""},{"location":"journal/20170204/#single-table-inheritance","title":"\u5358\u4e00\u30c6\u30fc\u30d6\u30eb\u7d99\u627f\uff08Single Table Inheritance\uff09","text":"<p>\u5358\u4e00\u30c6\u30fc\u30d6\u30eb\u7d99\u627f\u306f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u6307\u5411\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u7d99\u627f\u6982\u5ff5\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u9069\u7528\u3059\u308b\u624b\u6cd5\u3067\u3059\u3002\u3053\u306e\u5b9f\u88c5\u306b\u3088\u308a\u3001\u9867\u5ba2\u95a2\u9023\u306e\u60c5\u5831\uff08\u4f4f\u6240\u3084\u96fb\u8a71\u756a\u53f7\u306a\u3069\uff09\u3092\u52b9\u7387\u7684\u306b\u7ba1\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p> <p></p>"},{"location":"journal/20170204/#javascript","title":"JavaScript\u306e\u8aad\u307f\u8fbc\u307f\u4e0d\u5177\u5408\u4fee\u6b63","text":"<p>\u5404\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\uff08\u7ba1\u7406\u8005\u3001\u8077\u54e1\u3001\u9867\u5ba2\uff09\u306eJavaScript\u30d5\u30a1\u30a4\u30eb\u3067\u5171\u901a\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u8aad\u307f\u8fbc\u307f\u304c\u6b63\u3057\u304f\u884c\u308f\u308c\u308b\u3088\u3046\u4fee\u6b63\u3057\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170204/#_3","title":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3068\u306e\u95a2\u9023","text":"<p>\u3053\u306e\u5b9f\u88c5\u306f\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6982\u8981\u306e\u300c5. \u4e3b\u8981\u306a\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u300d\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u9867\u5ba2\u3001\u4f4f\u6240\u3001\u96fb\u8a71\u756a\u53f7\u306e\u30e2\u30c7\u30eb\u95a2\u9023\u3092\u5b9f\u73fe\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u7279\u306b\u4ee5\u4e0b\u306e\u90e8\u5206\u306b\u95a2\u9023\u3057\u3066\u3044\u307e\u3059\uff1a</p> <pre><code>Customer ||--o{ HomeAddress\nCustomer ||--o{ WorkAddress\nCustomer ||--o{ Phone\n</code></pre>"},{"location":"journal/20170204/#_4","title":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3068\u306e\u95a2\u9023","text":"<p>\u3053\u306e\u5b9f\u88c5\u306f\u3001\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306e\u300c3.2. \u9867\u5ba2\u7ba1\u7406\u300d\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u4ee5\u4e0b\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059\uff1a</p> <ul> <li>S-004: \u9867\u5ba2\u60c5\u5831\u767b\u9332</li> <li>S-005: \u9867\u5ba2\u60c5\u5831\u691c\u7d22</li> <li>S-006: \u9867\u5ba2\u60c5\u5831\u66f4\u65b0</li> </ul>"},{"location":"journal/20170204/#6d1204e","title":"\u30b3\u30df\u30c3\u30c8: 6d1204e","text":""},{"location":"journal/20170204/#_5","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u5358\u4e00\u30c6\u30fc\u30d6\u7d99\u627f #13\n</code></pre>"},{"location":"journal/20170204/#_6","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170204/#_7","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 6d1204e22a968fad40ca1750e7f6ce79ac996656\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Feb 4 15:33:12 2017 +0900\n\n    \u5358\u4e00\u30c6\u30fc\u30d6\u7d99\u627f #13\n\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex 12d9143..cda3f0f 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-2-4\"&gt;2017.2.4&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u9867\u5ba2\u7ba1\u7406\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-2-2\"&gt;2017.2.2&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n</code></pre>"},{"location":"journal/20170204/#423c08a","title":"\u30b3\u30df\u30c3\u30c8: 423c08a","text":""},{"location":"journal/20170204/#_8","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Merge branch 'wip'\n</code></pre>"},{"location":"journal/20170204/#_9","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":""},{"location":"journal/20170204/#_10","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 423c08ab0ec62d6e038d6e9d1afc576a2203b643\nMerge: 1b81ab5 d4c2acb\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Feb 4 15:31:20 2017 +0900\n\n    Merge branch 'wip'\n</code></pre>"},{"location":"journal/20170204/#d4c2acb","title":"\u30b3\u30df\u30c3\u30c8: d4c2acb","text":""},{"location":"journal/20170204/#_11","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>javascript\u8aad\u307f\u8fbc\u307f\u4e0d\u5177\u5408\u4fee\u6b63\n</code></pre>"},{"location":"journal/20170204/#_12","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/assets/javascripts/admin.js</li> <li>M app/assets/javascripts/customer.js</li> <li>M app/assets/javascripts/staff.js</li> </ul>"},{"location":"journal/20170204/#_13","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit d4c2acba426a968d6e1f36957a25b6f072c58bcd\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Feb 4 15:30:54 2017 +0900\n\n    javascript\u8aad\u307f\u8fbc\u307f\u4e0d\u5177\u5408\u4fee\u6b63\n\ndiff --git a/app/assets/javascripts/admin.js b/app/assets/javascripts/admin.js\nindex 46d0b8e..9c88f37 100644\n--- a/app/assets/javascripts/admin.js\n+++ b/app/assets/javascripts/admin.js\n@@ -14,6 +14,7 @@\n //= require jquery_ujs\n //= require turbolinks\n //= require bootstrap-sprockets\n+//= require_tree ./lib\n //= require_tree ./shared\n //= require jquery-ui/datepicker\n //= require jquery-ui/datepicker-ja\ndiff --git a/app/assets/javascripts/customer.js b/app/assets/javascripts/customer.js\nindex c8586cb..32e4a67 100644\n--- a/app/assets/javascripts/customer.js\n+++ b/app/assets/javascripts/customer.js\n@@ -14,6 +14,7 @@\n //= require jquery_ujs\n //= require turbolinks\n //= require bootstrap-sprockets\n+//= require_tree ./lib\n //= require_tree ./shared\n //= require jquery-ui/datepicker\n //= require jquery-ui/datepicker-ja\ndiff --git a/app/assets/javascripts/main.js b/app/assets/javascripts/shared/main.js\nsimilarity index 81%\nrename from app/assets/javascripts/main.js\nrename to app/assets/javascripts/shared/main.js\nindex ffd10d2..9343c80 100644\n--- a/app/assets/javascripts/main.js\n+++ b/app/assets/javascripts/shared/main.js\n@@ -1,26 +1,30 @@\n /* main.js */\n\n /* \u30e1\u30cb\u30e5\u30fc */\n-(function(){\n-    function toggle(targetDOM, _className, callback) {\n-        var className = ' '+_className;\n-        return function(e) {\n-            if(targetDOM.className.indexOf(_className)&gt;-1) {\n-                targetDOM.className = targetDOM.className.replace(className, '');\n-            } else {\n-                targetDOM.className += className;\n+(function() {\n+    $(document).on(\"turbolinks:load\", function() {\n+        return (function(){\n+            function toggle(targetDOM, _className, callback) {\n+                var className = ' '+_className;\n+                return function(e) {\n+                    if(targetDOM.className.indexOf(_className)&gt;-1) {\n+                        targetDOM.className = targetDOM.className.replace(className, '');\n+                    } else {\n+                        targetDOM.className += className;\n+                    }\n+                }\n             }\n-        }\n-    }\n-    var menuButton = document.getElementById('menu-button'),\n-        wrapper = document.getElementById('wrapper'),\n-        overlay = document.getElementById('overlay'),\n-        toggleMenu = toggle(wrapper, 'isOpened');\n+            var menuButton = document.getElementById('menu-button'),\n+                wrapper = document.getElementById('wrapper'),\n+                overlay = document.getElementById('overlay'),\n+                toggleMenu = toggle(wrapper, 'isOpened');\n\n-    menuButton.addEventListener('click', toggleMenu, false);\n-    overlay.addEventListener('click', toggleMenu, false);\n+            menuButton.addEventListener('click', toggleMenu, false);\n+            overlay.addEventListener('click', toggleMenu, false);\n\n-}());\n+        }());\n+    });\n+}).call(this);\n\n /* \u753b\u50cf\u30b9\u30e9\u30a4\u30c0\u30fc */\n // @param {string} id - \u30e9\u30c3\u30d1\u30fc\u8981\u7d20\u306eid\ndiff --git a/app/assets/javascripts/staff.js b/app/assets/javascripts/staff.js\nindex a53eecd..aa1bf0e 100644\n--- a/app/assets/javascripts/staff.js\n+++ b/app/assets/javascripts/staff.js\n@@ -14,6 +14,7 @@\n //= require jquery_ujs\n //= require turbolinks\n //= require bootstrap-sprockets\n+//= require_tree ./lib\n //= require_tree ./shared\n //= require jquery-ui/datepicker\n //= require jquery-ui/datepicker-ja\n</code></pre>"},{"location":"journal/20170204/#0222844","title":"\u30b3\u30df\u30c3\u30c8: 0222844","text":""},{"location":"journal/20170204/#_14","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>i18n\u8a2d\u5b9a\u8ffd\u52a0\n</code></pre>"},{"location":"journal/20170204/#_15","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/staff/customers/_customer_fields.html.erb</li> <li>M app/views/staff/customers/_form.html.erb</li> <li>M app/views/staff/customers/_home_address_fields.html.erb</li> <li>M app/views/staff/customers/_work_address_fields.html.erb</li> <li>M app/views/staff/customers/show.html.erb</li> <li>M config/locales/models/ja.yml</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170204/#_16","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 0222844e278cae2ec58547831ef4678df1953ac8\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Feb 4 15:09:13 2017 +0900\n\n    i18n\u8a2d\u5b9a\u8ffd\u52a0\n\ndiff --git a/app/views/staff/customers/_customer_fields.html.erb b/app/views/staff/customers/_customer_fields.html.erb\nindex a2871e1..cb1bc77 100644\n--- a/app/views/staff/customers/_customer_fields.html.erb\n+++ b/app/views/staff/customers/_customer_fields.html.erb\n@@ -2,12 +2,12 @@\n &lt;%= markup do |m|\n   p = Staff::CustomerFormPresenter.new(ff,self)\n   p.with_options(required: true) do |q|\n-    m &lt;&lt; q.text_field_block(:email, '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9', size: 32)\n-    m &lt;&lt; q.password_field_block(:password, '\u30d1\u30b9\u30ef\u30fc\u30c9', size: 32)\n-    m &lt;&lt; q.full_name_block(:family_name, :given_name, '\u6c0f\u540d')\n-    m &lt;&lt; q.full_name_block(:family_name_kana, :given_name_kana, '\u30d5\u30ea\u30ac\u30ca')\n+    m &lt;&lt; q.text_field_block(:email, t('activerecord.attributes.customer.email'), size: 32)\n+    m &lt;&lt; q.password_field_block(:password, t('activerecord.attributes.customer.hashed_password'), size: 32)\n+    m &lt;&lt; q.full_name_block(:family_name, :given_name, t('activerecord.attributes.customer.full_name'))\n+    m &lt;&lt; q.full_name_block(:family_name_kana, :given_name_kana, t('activerecord.attributes.customer.full_name'))\n   end\n-  m &lt;&lt; p.birthday_field_block(:birthday, '\u751f\u5e74\u6708\u65e5')\n+  m &lt;&lt; p.birthday_field_block(:birthday, t('activerecord.attributes.customer.birthday'))\n   m &lt;&lt; p.gender_field_block\n   end %&gt;\n &lt;% end %&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/customers/_form.html.erb b/app/views/staff/customers/_form.html.erb\nindex 533dd1e..011332c 100644\n--- a/app/views/staff/customers/_form.html.erb\n+++ b/app/views/staff/customers/_form.html.erb\n@@ -1,13 +1,13 @@\n &lt;%= FormPresenter.new(f,self).notes %&gt;\n &lt;fieldset id=\"customer-fields\"&gt;\n-  &lt;legend&gt;\u57fa\u672c\u60c5\u5831&lt;/legend&gt;\n+  &lt;legend&gt;&lt;%= t('staff.customers.new.basic_info') %&gt;&lt;/legend&gt;\n   &lt;%= render 'customer_fields', f: f %&gt;\n &lt;/fieldset&gt;\n &lt;fieldset id=\"home-address-fields\"&gt;\n-  &lt;legend&gt;\u81ea\u5b85\u4f4f\u6240&lt;/legend&gt;\n+  &lt;legend&gt;&lt;%= t('staff.customers.new.home_address') %&gt;&lt;/legend&gt;\n   &lt;%= render 'home_address_fields', f: f %&gt;\n &lt;/fieldset&gt;\n &lt;fieldset id=\"work-address-fields\"&gt;\n-  &lt;legend&gt;\u52e4\u52d9\u5148&lt;/legend&gt;\n+  &lt;legend&gt;&lt;%= t('staff.customers.new.work_address') %&gt;&lt;/legend&gt;\n   &lt;%= render 'work_address_fields', f: f %&gt;\n &lt;/fieldset&gt;\ndiff --git a/app/views/staff/customers/_home_address_fields.html.erb b/app/views/staff/customers/_home_address_fields.html.erb\nindex 7ae752b..0efe6ee 100644\n--- a/app/views/staff/customers/_home_address_fields.html.erb\n+++ b/app/views/staff/customers/_home_address_fields.html.erb\n@@ -2,11 +2,11 @@\n &lt;%= markup do |m|\n   p = Staff::AddressFormPresenter.new(ff,self)\n   p.with_options(required: true) do |q|\n-    m &lt;&lt; q.postal_code_block(:postal_code, '\u90f5\u4fbf\u756a\u53f7', size: 7)\n-    m &lt;&lt; q.drop_down_list_block(:prefecture, '\u90fd\u9053\u5e9c\u770c',Address::PREFECTURE_NAMES)\n-    m &lt;&lt; q.text_field_block(:city, '\u5e02\u533a\u753a\u6751', size: 16)\n-    m &lt;&lt; q.text_field_block(:address1, '\u753a\u57df\u3001\u756a\u5730\u7b49', size: 40)\n+    m &lt;&lt; q.postal_code_block(:postal_code, t('activerecord.attributes.home_address.postal_code'), size: 7)\n+    m &lt;&lt; q.drop_down_list_block(:prefecture, t('activerecord.attributes.home_address.prefecture'),Address::PREFECTURE_NAMES)\n+    m &lt;&lt; q.text_field_block(:city, t('activerecord.attributes.home_address.city'), size: 16)\n+    m &lt;&lt; q.text_field_block(:address1, t('activerecord.attributes.home_address.address1'), size: 40)\n   end\n-  m &lt;&lt; p.text_field_block(:address2, '\u5efa\u7269\u540d\u3001\u90e8\u5c4b\u756a\u53f7\u540d', size: 40)\n+  m &lt;&lt; p.text_field_block(:address2, t('activerecord.attributes.home_address.address2'), size: 40)\n end %&gt;\n &lt;% end %&gt;\ndiff --git a/app/views/staff/customers/_work_address_fields.html.erb b/app/views/staff/customers/_work_address_fields.html.erb\nindex f660f7d..102516e 100644\n--- a/app/views/staff/customers/_work_address_fields.html.erb\n+++ b/app/views/staff/customers/_work_address_fields.html.erb\n@@ -1,12 +1,12 @@\n &lt;%= f.fields_for :work_address, f.object.customer.work_address do |ff| %&gt;\n     &lt;%= markup do |m|\n       p = Staff::AddressFormPresenter.new(ff,self)\n-      m &lt;&lt; p.text_field_block(:company_name, '\u4f1a\u793e\u540d', size: 40, required: true)\n-      m &lt;&lt; p.text_field_block(:division_name, '\u90e8\u7f72\u540d', size: 40)\n-      m &lt;&lt; p.postal_code_block(:postal_code, '\u90f5\u4fbf\u756a\u53f7', size: 7)\n-      m &lt;&lt; p.drop_down_list_block(:prefecture, '\u90fd\u9053\u5e9c\u770c',Address::PREFECTURE_NAMES)\n-      m &lt;&lt; p.text_field_block(:city, '\u5e02\u533a\u753a\u6751', size: 16)\n-      m &lt;&lt; p.text_field_block(:address1, '\u753a\u57df\u3001\u756a\u5730\u7b49', size: 40)\n-      m &lt;&lt; p.text_field_block(:address2, '\u5efa\u7269\u540d\u3001\u90e8\u5c4b\u756a\u53f7\u540d', size: 40)\n+      m &lt;&lt; p.text_field_block(:company_name, t('activerecord.attributes.work_address.company_name'), size: 40, required: true)\n+      m &lt;&lt; p.text_field_block(:division_name, t('activerecord.attributes.work_address.division_name'), size: 40)\n+      m &lt;&lt; p.postal_code_block(:postal_code, t('activerecord.attributes.work_address.postal_code'), size: 7)\n+      m &lt;&lt; p.drop_down_list_block(:prefecture, t('activerecord.attributes.work_address.prefecture'),Address::PREFECTURE_NAMES)\n+      m &lt;&lt; p.text_field_block(:city, t('activerecord.attributes.work_address.city'), size: 16)\n+      m &lt;&lt; p.text_field_block(:address1, t('activerecord.attributes.work_address.address1'), size: 40)\n+      m &lt;&lt; p.text_field_block(:address2, t('activerecord.attributes.work_address.address2'), size: 40)\n     end %&gt;\n &lt;% end %&gt;\ndiff --git a/app/views/staff/customers/show.html.erb b/app/views/staff/customers/show.html.erb\nindex 53cec0c..0b78d96 100644\n--- a/app/views/staff/customers/show.html.erb\n+++ b/app/views/staff/customers/show.html.erb\n@@ -5,33 +5,33 @@\n\n &lt;section class=\"Section l-column Table StaffTable\"&gt;\n   &lt;table class=\"Table__body Table__body--attributes StaffTable__body\"&gt;\n-    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\" colspan=\"2\"&gt;\u57fa\u672c\u60c5\u5831&lt;/th&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\" colspan=\"2\"&gt;&lt;%= t('.basic_info') %&gt;&lt;/th&gt;&lt;/tr&gt;\n     &lt;% p1 = Staff::CustomerPresenter.new(@customer, self) %&gt;\n-    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u6c0f\u540d&lt;/th&gt;&lt;td&gt;&lt;%= p1.full_name %&gt;&lt;/td&gt;&lt;/tr&gt;\n-    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u30d5\u30ea\u30ac\u30ca&lt;/th&gt;&lt;td&gt;&lt;%= p1.full_name_kana %&gt;&lt;/td&gt;&lt;/tr&gt;\n-    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u751f\u5e74\u6708\u65e5&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p1.birthday %&gt;&lt;/td&gt;&lt;/tr&gt;\n-    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u6027\u5225&lt;/th&gt;&lt;td&gt;&lt;%= p1.gender %&gt;&lt;/td&gt;&lt;/tr&gt;\n-    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u767b\u9332\u65e5\u6642&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p1.created_at %&gt;&lt;/td&gt;&lt;/tr&gt;\n-    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u66f4\u65b0\u65e5\u6642&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p1.updated_at %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.full_name') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p1.full_name %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.full_name_kana') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p1.full_name_kana %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.birthday') %&gt;&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p1.birthday %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.gender') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p1.gender %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.create_at') %&gt;&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p1.created_at %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.update_at')%&gt;&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p1.updated_at %&gt;&lt;/td&gt;&lt;/tr&gt;\n     &lt;% if @customer.home_address %&gt;\n       &lt;% p2 = Staff::AddressPresenter.new(@customer.home_address, self) %&gt;\n-      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\" colspan=\"2\"&gt;\u81ea\u5b85\u4f4f\u6240&lt;/th&gt;&lt;/tr&gt;\n-      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u90f5\u4fbf\u756a\u53f7&lt;/th&gt;&lt;td&gt;&lt;%= p2.postal_code %&gt;&lt;/td&gt;&lt;/tr&gt;\n-      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u90fd\u9053\u5e9c\u770c&lt;/th&gt;&lt;td&gt;&lt;%= p2.prefecture %&gt;&lt;/td&gt;&lt;/tr&gt;\n-      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u5e02\u533a\u753a\u6751&lt;/th&gt;&lt;td&gt;&lt;%= p2.city %&gt;&lt;/td&gt;&lt;/tr&gt;\n-      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u753a\u57df\u3001\u756a\u5730\u7b49&lt;/th&gt;&lt;td&gt;&lt;%= p2.address1 %&gt;&lt;/td&gt;&lt;/tr&gt;\n-      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u5efa\u7269\u540d\u3001\u90e8\u5c4b\u756a\u53f7&lt;/th&gt;&lt;td&gt;&lt;%= p2.address2 %&gt;&lt;/td&gt;&lt;/tr&gt;\n+      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\" colspan=\"2\"&gt;&lt;%= t('.home_address') %&gt;&lt;/th&gt;&lt;/tr&gt;\n+      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_postal_code') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.postal_code %&gt;&lt;/td&gt;&lt;/tr&gt;\n+      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_prefecture') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.prefecture %&gt;&lt;/td&gt;&lt;/tr&gt;\n+      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_city') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.city %&gt;&lt;/td&gt;&lt;/tr&gt;\n+      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_address1') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.address1 %&gt;&lt;/td&gt;&lt;/tr&gt;\n+      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_address2') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.address2 %&gt;&lt;/td&gt;&lt;/tr&gt;\n     &lt;% end %&gt;\n     &lt;% if @customer.work_address %&gt;\n         &lt;% p3 = Staff::AddressPresenter.new(@customer.work_address, self) %&gt;\n-        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\" colspan=\"2\"&gt;\u52e4\u52d9\u5148&lt;/th&gt;&lt;/tr&gt;\n-        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u4f1a\u793e\u540d&lt;/th&gt;&lt;td&gt;&lt;%= p3.company_name %&gt;&lt;/td&gt;&lt;/tr&gt;\n-        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u90e8\u7f72\u540d&lt;/th&gt;&lt;td&gt;&lt;%= p3.division_name %&gt;&lt;/td&gt;&lt;/tr&gt;\n-        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u90f5\u4fbf\u756a\u53f7&lt;/th&gt;&lt;td&gt;&lt;%= p3.postal_code %&gt;&lt;/td&gt;&lt;/tr&gt;\n-        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u90fd\u9053\u5e9c\u770c&lt;/th&gt;&lt;td&gt;&lt;%= p3.prefecture %&gt;&lt;/td&gt;&lt;/tr&gt;\n-        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u5e02\u533a\u753a\u6751&lt;/th&gt;&lt;td&gt;&lt;%= p3.city %&gt;&lt;/td&gt;&lt;/tr&gt;\n-        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u753a\u57df\u3001\u756a\u5730\u7b49&lt;/th&gt;&lt;td&gt;&lt;%= p3.address1 %&gt;&lt;/td&gt;&lt;/tr&gt;\n-        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;\u5efa\u7269\u540d\u3001\u90e8\u5c4b\u756a\u53f7&lt;/th&gt;&lt;td&gt;&lt;%= p3.address2 %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\" colspan=\"2\"&gt;&lt;%= t('.work_address') %&gt;&lt;/th&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_company_name') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.company_name %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_division_name') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.division_name %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_postal_code') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.postal_code %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_prefecture')%&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.prefecture %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_city') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.city %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_address1') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.address1 %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_address2') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.address2 %&gt;&lt;/td&gt;&lt;/tr&gt;\n     &lt;% end %&gt;\n   &lt;/table&gt;\n &lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/models/ja.yml b/config/locales/models/ja.yml\nindex 9f4947d..b4eafec 100644\n--- a/config/locales/models/ja.yml\n+++ b/config/locales/models/ja.yml\n@@ -4,6 +4,8 @@ ja:\n       administrator: \u7ba1\u7406\u8005\n       staff_member: \u8077\u54e1\n       staff_event: \u8077\u54e1\u30a4\u30d9\u30f3\u30c8\n+      customer: \u9867\u5ba2\n+      address: \u4f4f\u6240\n\n     attributes:\n       administrator:\n@@ -35,6 +37,46 @@ ja:\n           logged_out: \u30ed\u30b0\u30a2\u30a6\u30c8\n           rejected: \u30ed\u30b0\u30a4\u30f3\u62d2\u5426\n\n+      customer:\n+        email: \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+        email_for_index: \u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+        family_name: \u59d3\n+        given_name: \u540d\n+        family_name_kana: \u59d3\uff08\u30ab\u30ca\uff09\n+        given_name_kana: \u540d\uff08\u30ab\u30ca\uff09\n+        gender: \u6027\u5225\n+        birthday: \u8a95\u751f\u65e5\n+        hashed_password: \u30d1\u30b9\u30ef\u30fc\u30c9\n+        home_address: \u81ea\u5b85\u4f4f\u6240\n+        work_address: \u52e4\u52d9\u5148\n+        full_name: \u6c0f\u540d\n+        full_name_kana: \u30d5\u30ea\u30ac\u30ca\n+\n+      address:\n+        postal_code: \u90f5\u4fbf\u756a\u53f7\n+        prefecture: \u90fd\u9053\u5e9c\u770c\n+        city: \u5e02\u533a\u753a\u6751\n+        address1: \u753a\u57df\u30fb\u756a\u5730\u7b49\n+        address2: \u5efa\u7269\u540d\u30fb\u90e8\u5c4b\u756a\u53f7\n+        company_name: \u4f1a\u793e\u540d\n+        division_name: \u90e8\u7f72\u540d\n+\n+      home_address:\n+        postal_code: \u90f5\u4fbf\u756a\u53f7\n+        prefecture: \u90fd\u9053\u5e9c\u770c\n+        city: \u5e02\u533a\u753a\u6751\n+        address1: \u753a\u57df\u30fb\u756a\u5730\u7b49\n+        address2: \u5efa\u7269\u540d\u30fb\u90e8\u5c4b\u756a\u53f7\n+\n+      work_address:\n+        postal_code: \u90f5\u4fbf\u756a\u53f7\n+        prefecture: \u90fd\u9053\u5e9c\u770c\n+        city: \u5e02\u533a\u753a\u6751\n+        address1: \u753a\u57df\u30fb\u756a\u5730\u7b49\n+        address2: \u5efa\u7269\u540d\u30fb\u90e8\u5c4b\u756a\u53f7\n+        company_name: \u4f1a\u793e\u540d\n+        division_name: \u90e8\u7f72\u540d\n+\n     errors:\n       models:\n         staff_member:\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 56c6d3a..01db59a 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -30,8 +30,32 @@ ja:\n         confirm: '\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b?'\n       show:\n         title: '\u9867\u5ba2\u8a73\u7d30\u60c5\u5831'\n+        basic_info: '\u57fa\u672c\u60c5\u5831'\n+        home_address: '\u81ea\u5b85\u4f4f\u6240'\n+        work_address: '\u52e4\u52d9\u5148'\n+        full_name: '\u6c0f\u540d'\n+        full_name_kana: '\u30d5\u30ea\u30ac\u30ca'\n+        birthday: '\u751f\u5e74\u6708\u65e5'\n+        gender: '\u6027\u5225'\n+        create_at: '\u767b\u9332\u65e5\u6642'\n+        update_at: '\u66f4\u65b0\u65e5\u6642'\n+        home_address_postal_code: '\u90f5\u4fbf\u756a\u53f7'\n+        home_address_prefecture: '\u90fd\u9053\u5e9c\u770c'\n+        home_address_city: '\u5e02\u533a\u753a\u6751'\n+        home_address_address1: '\u753a\u57df\u3001\u756a\u5730\u7b49'\n+        home_address_address2: '\u5efa\u7269\u540d\u3001\u90e8\u5c4b\u756a\u53f7'\n+        work_address_company_name: '\u4f1a\u793e\u540d'\n+        work_address_division_name: '\u90e8\u7f72\u540d'\n+        work_address_postal_code: '\u90f5\u4fbf\u756a\u53f7'\n+        work_address_prefecture: '\u90fd\u9053\u5e9c\u770c'\n+        work_address_city: '\u5e02\u533a\u753a\u6751'\n+        work_address_address1: '\u753a\u57df\u3001\u756a\u5730\u7b49'\n+        work_address_address2: '\u5efa\u7269\u540d\u3001\u90e8\u5c4b\u756a\u53f7'\n       new:\n         title: '\u9867\u5ba2\u306e\u65b0\u898f\u767b\u9332'\n+        basic_info: '\u57fa\u672c\u60c5\u5831'\n+        home_address: '\u81ea\u5b85\u4f4f\u6240'\n+        work_address: '\u52e4\u52d9\u5148'\n         create: '\u767b\u9332'\n         cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n       edit:\n</code></pre>"},{"location":"journal/20170204/#c7ef32d","title":"\u30b3\u30df\u30c3\u30c8: c7ef32d","text":""},{"location":"journal/20170204/#_17","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>destroy\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5 #13\n</code></pre>"},{"location":"journal/20170204/#_18","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/customers_controller.rb</li> <li>M config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170204/#_19","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c7ef32daf2bc5d710073f6e169ca2df3e7445e07\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Feb 4 14:08:02 2017 +0900\n\n    destroy\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5 #13\n\ndiff --git a/README.md b/README.md\nindex 6d5229b..ef5ff0b 100644\n--- a/README.md\n+++ b/README.md\n@@ -564,6 +564,7 @@ git push heroku master\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u30fb\u524a\u9664\n + \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u62e1\u5f35\n + create/update\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5\n++ destroy\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5\n\n ### Capybara\n ### \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\ndiff --git a/app/controllers/staff/customers_controller.rb b/app/controllers/staff/customers_controller.rb\nindex 6207a88..3969abe 100644\n--- a/app/controllers/staff/customers_controller.rb\n+++ b/app/controllers/staff/customers_controller.rb\n@@ -38,4 +38,11 @@ class Staff::CustomersController &lt; Staff::Base\n       render action: 'edit'\n     end\n   end\n+\n+  def destroy\n+    customer = Customer.find(params[:id])\n+    customer.destroy!\n+    flash.notice = t('.flash_notice')\n+    redirect_to :staff_customers\n+  end\n end\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex bbfe3ee..b400f59 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -29,6 +29,8 @@ ja:\n       update:\n         flash_notice: '\u9867\u5ba2\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n         flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n+      destroy:\n+        flash_notice: '\u9867\u5ba2\u3092\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'\n   admin:\n     base:\n       authrize:\n</code></pre>"},{"location":"journal/20170204/#_20","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170204/#c77696c","title":"\u30b3\u30df\u30c3\u30c8: c77696c","text":""},{"location":"journal/20170204/#_21","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>create/update\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5 #13\n</code></pre>"},{"location":"journal/20170204/#_22","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/customers_controller.rb</li> <li>M app/forms/staff/customer_form.rb</li> <li>M config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170204/#_23","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c77696cfeb66c72ff280f5b4695f051377179c63\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Feb 4 14:02:05 2017 +0900\n\n    create/update\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5 #13\n\ndiff --git a/README.md b/README.md\nindex efc01d4..6d5229b 100644\n--- a/README.md\n+++ b/README.md\n@@ -563,6 +563,7 @@ git push heroku master\n\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u30fb\u524a\u9664\n + \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u62e1\u5f35\n++ create/update\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5\n\n ### Capybara\n ### \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\ndiff --git a/app/controllers/staff/customers_controller.rb b/app/controllers/staff/customers_controller.rb\nindex ffa88e4..6207a88 100644\n--- a/app/controllers/staff/customers_controller.rb\n+++ b/app/controllers/staff/customers_controller.rb\n@@ -14,4 +14,28 @@ class Staff::CustomersController &lt; Staff::Base\n   def edit\n     @customer_form = Staff::CustomerForm.new(Customer.find(params[:id]))\n   end\n+\n+  def create\n+    @customer_form = Staff::CustomerForm.new\n+    @customer_form.assign_attributes(params[:form])\n+    if @customer_form.save\n+      flash.notice = t('.flash_notice')\n+      redirect_to action: 'index'\n+    else\n+      flash.now.alert = t('.flash_alert')\n+      render action: 'new'\n+    end\n+  end\n+\n+  def update\n+    @customer_form = Staff::CustomerForm.new(Customer.find(params[:id]))\n+    @customer_form.assign_attributes(params[:form])\n+    if @customer_form.save\n+      flash.notice = t('.flash_notice')\n+      redirect_to action: 'index'\n+    else\n+      flash.now.alert = t('.flash_alert')\n+      render action: 'edit'\n+    end\n+  end\n end\ndiff --git a/app/forms/staff/customer_form.rb b/app/forms/staff/customer_form.rb\nindex 2c43187..69dc6e2 100644\n--- a/app/forms/staff/customer_form.rb\n+++ b/app/forms/staff/customer_form.rb\n@@ -14,7 +14,7 @@ class Staff::CustomerForm\n   def assign_attributes(params = {})\n     @params = params\n\n-    customer.assign_attributes(customer_parmas)\n+    customer.assign_attributes(customer_params)\n     customer.home_address.assign_attributes(home_address_params)\n     customer.work_address.assign_attributes(work_address_params)\n   end\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 269cbec..bbfe3ee 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -22,6 +22,13 @@ ja:\n       update:\n         flash_success: '\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3057\u307e\u3057\u305f\u3002'\n         flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n+    customers:\n+      create:\n+        flash_notice: '\u9867\u5ba2\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002'\n+        flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n+      update:\n+        flash_notice: '\u9867\u5ba2\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n+        flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n   admin:\n     base:\n       authrize:\n</code></pre>"},{"location":"journal/20170204/#_24","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170204/#223cdfb","title":"\u30b3\u30df\u30c3\u30c8: 223cdfb","text":""},{"location":"journal/20170204/#_25","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u62e1\u5f35 #13\n</code></pre>"},{"location":"journal/20170204/#_26","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/forms/staff/customer_form.rb</li> </ul>"},{"location":"journal/20170204/#_27","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 223cdfb88204178f64f8a2f8debd18494333f3be\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Feb 4 13:44:17 2017 +0900\n\n    \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u62e1\u5f35 #13\n\ndiff --git a/README.md b/README.md\nindex 23ad161..efc01d4 100644\n--- a/README.md\n+++ b/README.md\n@@ -562,6 +562,7 @@ git push heroku master\n + \u90e8\u5206\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u90e1\u306e\u4f5c\u6210\n\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u30fb\u524a\u9664\n++ \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u62e1\u5f35\n\n ### Capybara\n ### \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\ndiff --git a/app/forms/staff/customer_form.rb b/app/forms/staff/customer_form.rb\nindex 3a7edae..2c43187 100644\n--- a/app/forms/staff/customer_form.rb\n+++ b/app/forms/staff/customer_form.rb\n@@ -10,4 +10,56 @@ class Staff::CustomerForm\n     @customer.build_home_address unless @customer.home_address\n     @customer.build_work_address unless @customer.work_address\n   end\n+\n+  def assign_attributes(params = {})\n+    @params = params\n+\n+    customer.assign_attributes(customer_parmas)\n+    customer.home_address.assign_attributes(home_address_params)\n+    customer.work_address.assign_attributes(work_address_params)\n+  end\n+\n+  def save\n+    ActiveRecord::Base.transaction do\n+      customer.save!\n+      customer.home_address.save!\n+      customer.work_address.save!\n+    end\n+  end\n+\n+  private\n+  def customer_params\n+    @params.require(:customer).permit(\n+                                  :email,\n+                                  :password,\n+                                  :family_name,\n+                                  :given_name,\n+                                  :family_name_kana,\n+                                  :given_name_kana,\n+                                  :birthday,\n+                                  :gender\n+    )\n+  end\n+\n+  def home_address_params\n+    @params.require(:home_address).permit(\n+                                     :postal_code,\n+                                     :prefecture,\n+                                     :city,\n+                                     :address1,\n+                                     :address2,\n+    )\n+  end\n+\n+  def work_address_params\n+    @params.require(:work_address).permit(\n+                                      :postal_code,\n+                                      :prefecture,\n+                                      :city,\n+                                      :address1,\n+                                      :address2,\n+                                      :company_name,\n+                                      :division_name\n+    )\n+  end\n end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170206/","title":"\u4f5c\u696d\u5c65\u6b74 2017-02-06","text":""},{"location":"journal/20170206/#_1","title":"\u6982\u8981","text":"<p>2017-02-06\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u65e5\u306f\u4e3b\u306b\u300c\u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u306e\u7ba1\u7406\u300d\u6a5f\u80fd\u306e\u5b9f\u88c5\u3092\u884c\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170206/#_2","title":"\u5b9f\u88c5\u5185\u5bb9\u306e\u8aac\u660e","text":""},{"location":"journal/20170206/#_3","title":"\u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u306e\u7ba1\u7406","text":"<p>\u9867\u5ba2\u306e\u9023\u7d61\u5148\u60c5\u5831\u3068\u3057\u3066\u96fb\u8a71\u756a\u53f7\u3092\u7ba1\u7406\u3059\u308b\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u9867\u5ba2\u306f\u8907\u6570\u306e\u96fb\u8a71\u756a\u53f7\uff08\u500b\u4eba\u96fb\u8a71\u3001\u81ea\u5b85\u96fb\u8a71\u3001\u52e4\u52d9\u5148\u96fb\u8a71\u306a\u3069\uff09\u3092\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u3001\u305d\u308c\u305e\u308c\u306b\u512a\u5148\u30d5\u30e9\u30b0\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u96fb\u8a71\u756a\u53f7\u306f\u9867\u5ba2\u306b\u76f4\u63a5\u7d10\u3065\u304f\u3060\u3051\u3067\u306a\u304f\u3001\u4f4f\u6240\uff08\u81ea\u5b85\u30fb\u52e4\u52d9\u5148\uff09\u306b\u3082\u7d10\u3065\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p></p>"},{"location":"journal/20170206/#_4","title":"\u96fb\u8a71\u756a\u53f7\u306e\u6b63\u898f\u5316\u3068\u691c\u8a3c","text":"<p>\u96fb\u8a71\u756a\u53f7\u306f\u5165\u529b\u5f62\u5f0f\u304c\u591a\u69d8\u306a\u305f\u3081\u3001\u4fdd\u5b58\u524d\u306b\u6b63\u898f\u5316\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u96fb\u8a71\u756a\u53f7\u5f62\u5f0f\u306e\u691c\u8a3c\u3082\u5b9f\u88c5\u3057\u3001\u4e0d\u6b63\u306a\u5f62\u5f0f\u306e\u96fb\u8a71\u756a\u53f7\u304c\u767b\u9332\u3055\u308c\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20170206/#_5","title":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3068\u306e\u95a2\u9023","text":"<p>\u3053\u306e\u5b9f\u88c5\u306f\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6982\u8981\u306e\u300c5. \u4e3b\u8981\u306a\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u300d\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u9867\u5ba2\u3068\u96fb\u8a71\u756a\u53f7\u306e\u30e2\u30c7\u30eb\u95a2\u9023\u3092\u5b9f\u73fe\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u7279\u306b\u4ee5\u4e0b\u306e\u90e8\u5206\u306b\u95a2\u9023\u3057\u3066\u3044\u307e\u3059\uff1a</p> <pre><code>Customer ||--o{ Phone\n</code></pre> <p>\u307e\u305f\u3001\u300c7.1 \u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u300d\u306e\u5b9f\u88c5\u4f8b\u3068\u3057\u3066\u3082\u4f4d\u7f6e\u3065\u3051\u3089\u308c\u307e\u3059\u3002</p>"},{"location":"journal/20170206/#_6","title":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3068\u306e\u95a2\u9023","text":"<p>\u3053\u306e\u5b9f\u88c5\u306f\u3001\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306e\u300c3.2. \u9867\u5ba2\u7ba1\u7406\u300d\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u4ee5\u4e0b\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059\uff1a</p> <ul> <li>S-004: \u9867\u5ba2\u60c5\u5831\u767b\u9332</li> <li>S-006: \u9867\u5ba2\u60c5\u5831\u66f4\u65b0</li> </ul> <p>\u3053\u308c\u306b\u3088\u308a\u3001\u8077\u54e1\u306f\u9867\u5ba2\u306e\u9023\u7d61\u5148\u60c5\u5831\u3068\u3057\u3066\u8907\u6570\u306e\u96fb\u8a71\u756a\u53f7\u3092\u7ba1\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"journal/20170206/#a2f9e37","title":"\u30b3\u30df\u30c3\u30c8: a2f9e37","text":""},{"location":"journal/20170206/#_7","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u9867\u5ba2\u8a73\u7d30\u30da\u30fc\u30b8\u3078\u306e\u96fb\u8a71\u756a\u53f7\u306e\u8868\u793a #15\n</code></pre>"},{"location":"journal/20170206/#_8","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A app/models/phone.rb</li> <li>A db/migrate/20170206085929_create_phones.rb</li> <li>A spec/factories/phones.rb</li> </ul>"},{"location":"journal/20170206/#_9","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit a2f9e37965f00d1ebe55bf0a2cfc959c9d07ede7\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 6 20:19:37 2017 +0900\n\n    \u9867\u5ba2\u8a73\u7d30\u30da\u30fc\u30b8\u3078\u306e\u96fb\u8a71\u756a\u53f7\u306e\u8868\u793a #15\n\ndiff --git a/app/models/phone.rb b/app/models/phone.rb\nnew file mode 100644\nindex 0000000..386e689\n--- /dev/null\n+++ b/app/models/phone.rb\n@@ -0,0 +1,37 @@\n+# == Schema Information\n+#\n+# Table name: phones # \u96fb\u8a71\n+#\n+#  id               :integer          not null, primary key\n+#  customer_id      :integer          not null               # \u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  address_id       :integer                                 # \u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  number           :string(255)      not null               # \u96fb\u8a71\u756a\u53f7\n+#  number_for_index :string(255)      not null               # \u7d22\u5f15\u7528\u96fb\u8a71\u756a\u53f7\n+#  primary          :boolean          default(\"0\"), not null # \u512a\u5148\u30d5\u30e9\u30b0\n+#  created_at       :datetime         not null\n+#  updated_at       :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_phones_on_address_id        (address_id)\n+#  index_phones_on_customer_id       (customer_id)\n+#  index_phones_on_number_for_index  (number_for_index)\n+#\n+\n+class Phone &lt; ApplicationRecord\n+  include StringNormalizer\n+\n+  belongs_to :customer\n+  belongs_to :address\n+\n+  before_validation do\n+    self.number = normalize_as_phone_number(number)\n+    self.number_for_index = number.gsub(/\\D/, '') if number\n+  end\n+\n+  before_create do\n+    self.customer = address.customer if address\n+  end\n+\n+  validates :number, presence: true, format: { with: /\\A\\+?\\d+(-\\d+)*\\z/, allow_blank: true }\n+end\ndiff --git a/db/migrate/20170206085929_create_phones.rb b/db/migrate/20170206085929_create_phones.rb\nnew file mode 100644\nindex 0000000..f9f0714\n--- /dev/null\n+++ b/db/migrate/20170206085929_create_phones.rb\n@@ -0,0 +1,17 @@\n+class CreatePhones &lt; ActiveRecord::Migration[5.0]\n+  def change\n+    create_table :phones,comment:'\u96fb\u8a71' do |t|\n+      t.references :customer, null: false, comment: '\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc'\n+      t.references :address, comment: '\u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc'\n+      t.string :number, null: false, comment: '\u96fb\u8a71\u756a\u53f7'\n+      t.string :number_for_index, null: false, comment: '\u7d22\u5f15\u7528\u96fb\u8a71\u756a\u53f7'\n+      t.boolean :primary,   null: false, default: false, comment: '\u512a\u5148\u30d5\u30e9\u30b0'\n+\n+      t.timestamps\n+    end\n+\n+    add_index :phones, :number_for_index\n+    add_foreign_key :phones, :customers\n+    add_foreign_key :phones, :addresses\n+  end\n+end\ndiff --git a/spec/factories/phones.rb b/spec/factories/phones.rb\nnew file mode 100644\nindex 0000000..4ef34b3\n--- /dev/null\n+++ b/spec/factories/phones.rb\n@@ -0,0 +1,25 @@\n+# == Schema Information\n+#\n+# Table name: phones # \u96fb\u8a71\n+#\n+#  id               :integer          not null, primary key\n+#  customer_id      :integer          not null               # \u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  address_id       :integer                                 # \u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  number           :string(255)      not null               # \u96fb\u8a71\u756a\u53f7\n+#  number_for_index :string(255)      not null               # \u7d22\u5f15\u7528\u96fb\u8a71\u756a\u53f7\n+#  primary          :boolean          default(\"0\"), not null # \u512a\u5148\u30d5\u30e9\u30b0\n+#  created_at       :datetime         not null\n+#  updated_at       :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_phones_on_address_id        (address_id)\n+#  index_phones_on_customer_id       (customer_id)\n+#  index_phones_on_number_for_index  (number_for_index)\n+#\n+\n+FactoryGirl.define do\n+  factory :phone do\n+    \n+  end\n+end\n</code></pre>"},{"location":"journal/20170206/#_10","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170206/#4a6edde","title":"\u30b3\u30df\u30c3\u30c8: 4a6edde","text":""},{"location":"journal/20170206/#_11","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u9867\u5ba2\u8a73\u7d30\u30da\u30fc\u30b8\u3078\u306e\u96fb\u8a71\u756a\u53f7\u306e\u8868\u793a #15\n</code></pre>"},{"location":"journal/20170206/#_12","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/presenters/staff/address_presenter.rb</li> <li>M app/presenters/staff/customer_presenter.rb</li> <li>M app/views/staff/customers/show.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170206/#_13","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 4a6edde7fe2a709574d77e797aa7263ba0963fe7\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 6 20:18:31 2017 +0900\n\n    \u9867\u5ba2\u8a73\u7d30\u30da\u30fc\u30b8\u3078\u306e\u96fb\u8a71\u756a\u53f7\u306e\u8868\u793a #15\n\ndiff --git a/README.md b/README.md\nindex 55df9b9..43aae6a 100644\n--- a/README.md\n+++ b/README.md\n@@ -594,6 +594,7 @@ git push heroku master\n + \u96fb\u8a71\u756a\u53f7\u7ba1\u7406\u6a5f\u80fd\u306e\u4ed5\u69d8\n + phones\u30c6\u30fc\u30d6\u30eb\u3068Phone\u30e2\u30c7\u30eb\n + \u9867\u5ba2\u3001\u81ea\u5b85\u4f4f\u6240\u3001\u52e4\u52d9\u5148\u3068\u306e\u95a2\u9023\u4ed8\u3051\n++ \u9867\u5ba2\u8a73\u7d30\u30da\u30fc\u30b8\u3078\u306e\u96fb\u8a71\u756a\u53f7\u306e\u8868\u793a\n\n #### \u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u306e\u7ba1\u7406\uff08\uff12\uff09\n #### \u6f14\u7fd2\u554f\u984c \ndiff --git a/app/presenters/staff/address_presenter.rb b/app/presenters/staff/address_presenter.rb\nindex 313757d..e633329 100644\n--- a/app/presenters/staff/address_presenter.rb\n+++ b/app/presenters/staff/address_presenter.rb\n@@ -13,4 +13,8 @@ class Staff::AddressPresenter &lt; ModelPresenter\n       object.postal_code\n     end\n   end\n+\n+  def phones\n+    object.phones.map(&amp;:number)\n+  end\n end\n\\ No newline at end of file\ndiff --git a/app/presenters/staff/customer_presenter.rb b/app/presenters/staff/customer_presenter.rb\nindex dc698ec..c699b87 100644\n--- a/app/presenters/staff/customer_presenter.rb\n+++ b/app/presenters/staff/customer_presenter.rb\n@@ -24,4 +24,8 @@ class Staff::CustomerPresenter &lt; ModelPresenter\n         ''\n     end\n   end\n+\n+  def personal_phones\n+    object.personal_phones.map(&amp;:number)\n+  end\n end\n\\ No newline at end of file\ndiff --git a/app/views/staff/customers/show.html.erb b/app/views/staff/customers/show.html.erb\nindex 0b78d96..67ffbe8 100644\n--- a/app/views/staff/customers/show.html.erb\n+++ b/app/views/staff/customers/show.html.erb\n@@ -13,14 +13,18 @@\n     &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.gender') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p1.gender %&gt;&lt;/td&gt;&lt;/tr&gt;\n     &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.create_at') %&gt;&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p1.created_at %&gt;&lt;/td&gt;&lt;/tr&gt;\n     &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.update_at')%&gt;&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p1.updated_at %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.personal_phones_1') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p1.personal_phones[0] %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.personal_phones_2') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p1.personal_phones[1] %&gt;&lt;/td&gt;&lt;/tr&gt;\n     &lt;% if @customer.home_address %&gt;\n       &lt;% p2 = Staff::AddressPresenter.new(@customer.home_address, self) %&gt;\n-      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\" colspan=\"2\"&gt;&lt;%= t('.home_address') %&gt;&lt;/th&gt;&lt;/tr&gt;\n-      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_postal_code') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.postal_code %&gt;&lt;/td&gt;&lt;/tr&gt;\n-      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_prefecture') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.prefecture %&gt;&lt;/td&gt;&lt;/tr&gt;\n-      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_city') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.city %&gt;&lt;/td&gt;&lt;/tr&gt;\n-      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_address1') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.address1 %&gt;&lt;/td&gt;&lt;/tr&gt;\n-      &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_address2') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.address2 %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\" colspan=\"2\"&gt;&lt;%= t('.home_address') %&gt;&lt;/th&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_postal_code') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.postal_code %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_prefecture') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.prefecture %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_city') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.city %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_address1') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.address1 %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_address2') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.address2 %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_phones_1') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.phones[0] %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_phones_2') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.phones[1] %&gt;&lt;/td&gt;&lt;/tr&gt;\n     &lt;% end %&gt;\n     &lt;% if @customer.work_address %&gt;\n         &lt;% p3 = Staff::AddressPresenter.new(@customer.work_address, self) %&gt;\n@@ -32,6 +36,8 @@\n         &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_city') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.city %&gt;&lt;/td&gt;&lt;/tr&gt;\n         &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_address1') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.address1 %&gt;&lt;/td&gt;&lt;/tr&gt;\n         &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_address2') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.address2 %&gt;&lt;/td&gt;&lt;/tr&gt;\n-    &lt;% end %&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_phones_1') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.phones[0] %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_phones_2') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.phones[1] %&gt;&lt;/td&gt;&lt;/tr&gt;\n+  &lt;% end %&gt;\n   &lt;/table&gt;\n &lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex a0d1b6b..446ccfa 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -39,11 +39,15 @@ ja:\n         gender: '\u6027\u5225'\n         create_at: '\u767b\u9332\u65e5\u6642'\n         update_at: '\u66f4\u65b0\u65e5\u6642'\n+        personal_phones_1: '\u500b\u4eba\u96fb\u8a71\u756a\u53f7\uff08\uff11\uff09'\n+        personal_phones_2: '\u500b\u4eba\u96fb\u8a71\u756a\u53f7\uff08\uff12\uff09'\n         home_address_postal_code: '\u90f5\u4fbf\u756a\u53f7'\n         home_address_prefecture: '\u90fd\u9053\u5e9c\u770c'\n         home_address_city: '\u5e02\u533a\u753a\u6751'\n         home_address_address1: '\u753a\u57df\u3001\u756a\u5730\u7b49'\n         home_address_address2: '\u5efa\u7269\u540d\u3001\u90e8\u5c4b\u756a\u53f7'\n+        home_address_phones_1: '\u81ea\u5b85\u96fb\u8a71\u756a\u53f7\uff08\uff11\uff09'\n+        home_address_phones_2: '\u81ea\u5b85\u96fb\u8a71\u756a\u53f7\uff08\uff12\uff09'\n         work_address_company_name: '\u4f1a\u793e\u540d'\n         work_address_division_name: '\u90e8\u7f72\u540d'\n         work_address_postal_code: '\u90f5\u4fbf\u756a\u53f7'\n@@ -51,6 +55,8 @@ ja:\n         work_address_city: '\u5e02\u533a\u753a\u6751'\n         work_address_address1: '\u753a\u57df\u3001\u756a\u5730\u7b49'\n         work_address_address2: '\u5efa\u7269\u540d\u3001\u90e8\u5c4b\u756a\u53f7'\n+        work_address_phones_1: '\u52e4\u52d9\u5148\u96fb\u8a71\u756a\u53f7\uff08\uff11\uff09'\n+        work_address_phones_2: '\u52e4\u52d9\u5148\u96fb\u8a71\u756a\u53f7\uff08\uff12\uff09'\n       new:\n         title: '\u9867\u5ba2\u306e\u65b0\u898f\u767b\u9332'\n         basic_info: '\u57fa\u672c\u60c5\u5831'\n</code></pre>"},{"location":"journal/20170206/#c30c834","title":"\u30b3\u30df\u30c3\u30c8: c30c834","text":""},{"location":"journal/20170206/#_14","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u9867\u5ba2\u3001\u81ea\u5b85\u4f4f\u6240\u3001\u52e4\u52d9\u5148\u3068\u306e\u95a2\u9023\u4ed8\u3051 #15\n</code></pre>"},{"location":"journal/20170206/#_15","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/address.rb</li> <li>M app/models/customer.rb</li> <li>M db/schema.rb</li> <li>M db/seed/development/customers.rb</li> </ul>"},{"location":"journal/20170206/#_16","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c30c834fee5cbcee30a796013bc554bae3ccbac6\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 6 20:07:05 2017 +0900\n\n    \u9867\u5ba2\u3001\u81ea\u5b85\u4f4f\u6240\u3001\u52e4\u52d9\u5148\u3068\u306e\u95a2\u9023\u4ed8\u3051 #15\n\ndiff --git a/README.md b/README.md\nindex 8daea5e..55df9b9 100644\n--- a/README.md\n+++ b/README.md\n@@ -593,6 +593,7 @@ git push heroku master\n #### \u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u306e\u7ba1\u7406\uff08\uff11\uff09 \n + \u96fb\u8a71\u756a\u53f7\u7ba1\u7406\u6a5f\u80fd\u306e\u4ed5\u69d8\n + phones\u30c6\u30fc\u30d6\u30eb\u3068Phone\u30e2\u30c7\u30eb\n++ \u9867\u5ba2\u3001\u81ea\u5b85\u4f4f\u6240\u3001\u52e4\u52d9\u5148\u3068\u306e\u95a2\u9023\u4ed8\u3051\n\n #### \u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u306e\u7ba1\u7406\uff08\uff12\uff09\n #### \u6f14\u7fd2\u554f\u984c \ndiff --git a/app/models/address.rb b/app/models/address.rb\nindex e4133f5..b8ab123 100644\n--- a/app/models/address.rb\n+++ b/app/models/address.rb\n@@ -25,6 +25,7 @@ class Address &lt; ApplicationRecord\n   include StringNormalizer\n\n   belongs_to :customer\n+  has_many :phones, -&gt; { order(:id) }, dependent: :destroy, autosave: true\n\n   before_validation do\n     self.postal_code = normalize_as_postal_code(postal_code)\ndiff --git a/app/models/customer.rb b/app/models/customer.rb\nindex 3a480d3..423e927 100644\n--- a/app/models/customer.rb\n+++ b/app/models/customer.rb\n@@ -28,6 +28,8 @@ class Customer &lt; ApplicationRecord\n\n   has_one :home_address, dependent: :destroy, autosave: true\n   has_one :work_address, dependent: :destroy, autosave: true\n+  has_many :phones, dependent: :destroy\n+  has_many :personal_phones, -&gt; { where(address_id: nil).order(:id) },class_name: 'Phone', autosave: true\n\n   validates :gender, inclusion: { in: %w(male female), allow_blank: true }\n   validates :birthday, date: {\ndiff --git a/db/schema.rb b/db/schema.rb\nindex f0ee063..7285822 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -54,14 +54,14 @@ ActiveRecord::Schema.define(version: 20170206085929) do\n     t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_family_name_kana_and_given_name_kana\", using: :btree\n   end\n\n-  create_table \"phones\", force: :cascade,  comment: \"\u96fb\u8a71\" do |t|\n-    t.integer  \"customer_id\",      null: false\n-    t.integer  \"address_id\"\n-    t.string   \"number\",           null: false, comment: \"\u96fb\u8a71\u756a\u53f7\"\n-    t.string   \"number_for_index\", null: false, comment: \"\u7d22\u5f15\u7528\u96fb\u8a71\u756a\u53f7\"\n-    t.boolean  \"primary\",          null: false, comment: \"\u512a\u5148\u30d5\u30e9\u30b0\"\n-    t.datetime \"created_at\",       null: false\n-    t.datetime \"updated_at\",       null: false\n+  create_table \"phones\", force: :cascade, comment: \"\u96fb\u8a71\" do |t|\n+    t.integer  \"customer_id\",                      null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.integer  \"address_id\",                                    comment: \"\u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.string   \"number\",                           null: false, comment: \"\u96fb\u8a71\u756a\u53f7\"\n+    t.string   \"number_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u96fb\u8a71\u756a\u53f7\"\n+    t.boolean  \"primary\",          default: false, null: false, comment: \"\u512a\u5148\u30d5\u30e9\u30b0\"\n+    t.datetime \"created_at\",                       null: false\n+    t.datetime \"updated_at\",                       null: false\n     t.index [\"address_id\"], name: \"index_phones_on_address_id\", using: :btree\n     t.index [\"customer_id\"], name: \"index_phones_on_customer_id\", using: :btree\n     t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\", using: :btree\ndiff --git a/db/seed/development/customers.rb b/db/seed/development/customers.rb\nindex 1440187..674ffe3 100644\n--- a/db/seed/development/customers.rb\n+++ b/db/seed/development/customers.rb\n@@ -43,6 +43,9 @@ company_names = %w(OIAX ABC XYZ)\n         birthday: 60.years.ago.advance(seconds: rand(40.years)).to_date,\n         gender: m &lt; 5 ? 'male' : 'female'\n     )\n+    if m % 2 == 0\n+      c.personal_phones.create!(number: sprintf('090-0000-%04d', n * 10 + m))\n+    end\n     c.create_home_address!(\n         postal_code: sprintf('%07d', rand(10000000)),\n         prefecture: Address::PREFECTURE_NAMES.sample,\n@@ -50,6 +53,9 @@ company_names = %w(OIAX ABC XYZ)\n         address1: '\u958b\u767a1-2-3',\n         address2: '\u30ec\u30a4\u30eb\u30ba\u30cf\u30a4\u30c4301\u53f7\u5ba4'\n     )\n+    if m % 10 == 0\n+      c.home_address.phones.create!(number: sprintf('03-0000-%04d', n))\n+    end\n     if m % 3 == 0\n       c.create_work_address!(\n           postal_code: sprintf('%07d', rand(10000000)),\n</code></pre>"},{"location":"journal/20170206/#_17","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170206/#72fc059","title":"\u30b3\u30df\u30c3\u30c8: 72fc059","text":""},{"location":"journal/20170206/#_18","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>phones\u30c6\u30fc\u30d6\u30eb\u3068Phone\u30e2\u30c7\u30eb #15\n</code></pre>"},{"location":"journal/20170206/#_19","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/concerns/string_normalizer.rb</li> <li>M db/schema.rb</li> </ul>"},{"location":"journal/20170206/#_20","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 72fc0598f7a531afcd284d2859ba4cc1614d97c9\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 6 18:28:21 2017 +0900\n\n    phones\u30c6\u30fc\u30d6\u30eb\u3068Phone\u30e2\u30c7\u30eb #15\n\ndiff --git a/README.md b/README.md\nindex 2bb5293..8daea5e 100644\n--- a/README.md\n+++ b/README.md\n@@ -591,6 +591,9 @@ git push heroku master\n + Capybara\u306b\u3088\u308b\u30c6\u30b9\u30c8\n\n #### \u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u306e\u7ba1\u7406\uff08\uff11\uff09 \n++ \u96fb\u8a71\u756a\u53f7\u7ba1\u7406\u6a5f\u80fd\u306e\u4ed5\u69d8\n++ phones\u30c6\u30fc\u30d6\u30eb\u3068Phone\u30e2\u30c7\u30eb\n+\n #### \u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u306e\u7ba1\u7406\uff08\uff12\uff09\n #### \u6f14\u7fd2\u554f\u984c \n\ndiff --git a/app/models/concerns/string_normalizer.rb b/app/models/concerns/string_normalizer.rb\nindex f036970..c19131e 100644\n--- a/app/models/concerns/string_normalizer.rb\n+++ b/app/models/concerns/string_normalizer.rb\n@@ -18,4 +18,8 @@ module StringNormalizer\n   def normalize_as_postal_code(text)\n     NKF.nkf('-w -Z1', text).strip.gsub(/-/, '') if text\n   end\n+\n+  def normalize_as_phone_number(text)\n+    NKF.nkf('-w -Z1', text).strip if text\n+  end\n end\n\\ No newline at end of file\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 36cea7d..f0ee063 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -10,7 +10,7 @@\n #\n # It's strongly recommended that you check this file into your version control system.\n\n-ActiveRecord::Schema.define(version: 20170203051654) do\n+ActiveRecord::Schema.define(version: 20170206085929) do\n\n   create_table \"addresses\", force: :cascade,  comment: \"\u4f4f\u6240\" do |t|\n     t.integer  \"customer_id\",                null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n@@ -54,6 +54,19 @@ ActiveRecord::Schema.define(version: 20170203051654) do\n     t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_family_name_kana_and_given_name_kana\", using: :btree\n   end\n\n+  create_table \"phones\", force: :cascade,  comment: \"\u96fb\u8a71\" do |t|\n+    t.integer  \"customer_id\",      null: false\n+    t.integer  \"address_id\"\n+    t.string   \"number\",           null: false, comment: \"\u96fb\u8a71\u756a\u53f7\"\n+    t.string   \"number_for_index\", null: false, comment: \"\u7d22\u5f15\u7528\u96fb\u8a71\u756a\u53f7\"\n+    t.boolean  \"primary\",          null: false, comment: \"\u512a\u5148\u30d5\u30e9\u30b0\"\n+    t.datetime \"created_at\",       null: false\n+    t.datetime \"updated_at\",       null: false\n+    t.index [\"address_id\"], name: \"index_phones_on_address_id\", using: :btree\n+    t.index [\"customer_id\"], name: \"index_phones_on_customer_id\", using: :btree\n+    t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\", using: :btree\n+  end\n+\n   create_table \"staff_events\", force: :cascade,  comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n     t.integer  \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",            null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n@@ -81,5 +94,7 @@ ActiveRecord::Schema.define(version: 20170203051654) do\n   end\n\n   add_foreign_key \"addresses\", \"customers\"\n+  add_foreign_key \"phones\", \"addresses\"\n+  add_foreign_key \"phones\", \"customers\"\n   add_foreign_key \"staff_events\", \"staff_members\"\n end\n</code></pre>"},{"location":"journal/20170206/#_21","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170206/#b31d234","title":"\u30b3\u30df\u30c3\u30c8: b31d234","text":""},{"location":"journal/20170206/#_22","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Capybara\u306b\u3088\u308b\u30c6\u30b9\u30c8 #15\n</code></pre>"},{"location":"journal/20170206/#_23","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M spec/features/staff/customer_management_spec.rb</li> </ul>"},{"location":"journal/20170206/#_24","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit b31d2343979641b463fda02113339e5d217a816a\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 6 17:57:01 2017 +0900\n\n    Capybara\u306b\u3088\u308b\u30c6\u30b9\u30c8 #15\n\ndiff --git a/README.md b/README.md\nindex 28c33ce..2bb5293 100644\n--- a/README.md\n+++ b/README.md\n@@ -588,6 +588,7 @@ git push heroku master\n #### \u81ea\u5b85\u4f4f\u6240\u3068\u52e4\u52d9\u5148\u306e\u4efb\u610f\u5165\u529b\n + \u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u6709\u52b9\u5316\u30fb\u7121\u52b9\u5316\n + \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4fee\u6b63\n++ Capybara\u306b\u3088\u308b\u30c6\u30b9\u30c8\n\n #### \u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u306e\u7ba1\u7406\uff08\uff11\uff09 \n #### \u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u306e\u7ba1\u7406\uff08\uff12\uff09\ndiff --git a/spec/features/staff/customer_management_spec.rb b/spec/features/staff/customer_management_spec.rb\nindex a03060c..0f4ca36 100644\n--- a/spec/features/staff/customer_management_spec.rb\n+++ b/spec/features/staff/customer_management_spec.rb\n@@ -11,6 +11,28 @@ feature 'Customer management by staff' do\n     login_as_staff_member(staff_member)\n   end\n\n+  # \u8077\u54e1\u304c\u9867\u5ba2\uff08\u57fa\u672c\u60c5\u5831\u306e\u307f\uff09\u3092\u767b\u9332\u3059\u308b\n+  scenario 'Employees register customers (only basic information)' do\n+    click_link I18n.t('staff.top.dashboard.staff_customers')\n+    first('.Table__links').click_link I18n.t('staff.customers.index.new')\n+    fill_in I18n.t('activerecord.attributes.customer.email'), with: 'test@example.jp'\n+    fill_in I18n.t('activerecord.attributes.customer.hashed_password'), with: 'pw'\n+    fill_in 'form_customer_family_name', with: '\u8a66\u9a13'\n+    fill_in 'form_customer_given_name', with: '\u82b1\u5b50'\n+    fill_in 'form_customer_family_name_kana', with: '\u30b7\u30b1\u30f3'\n+    fill_in 'form_customer_given_name_kana', with: '\u30cf\u30ca\u30b3'\n+    fill_in I18n.t('activerecord.attributes.customer.birthday'), with: '1970-01-01'\n+    choose '\u5973\u6027'\n+    click_button I18n.t('staff.customers.new.create')\n+\n+    new_customer = Customer.order(:id).last\n+    expect(new_customer.email).to eq('test@example.jp')\n+    expect(new_customer.birthday).to eq(Date.new(1970,1,1))\n+    expect(new_customer.gender).to eq('female')\n+    expect(new_customer.home_address).to be_nil\n+    expect(new_customer.work_address).to be_nil\n+  end\n+\n   # \u8077\u54e1\u304c\u9867\u5ba2\u3001\u81ea\u5b85\u4f4f\u6240\u3001\u52e4\u52d9\u5148\u3092\u66f4\u65b0\u3059\u308b\n   scenario 'Staff update customer, home address, work place' do\n     click_link I18n.t('staff.top.dashboard.staff_customers')\n@@ -34,7 +56,6 @@ feature 'Customer management by staff' do\n   # \u8077\u54e1\u304c\u9867\u5ba2\u3001\u81ea\u5b85\u4f4f\u6240\u3001\u52e4\u52d9\u5148\u3092\u767b\u9332\u3059\u308b\n   scenario 'Employees register customer, home address, work place' do\n     click_link I18n.t('staff.top.dashboard.staff_customers')\n-\n     first('.Table__links').click_link I18n.t('staff.customers.index.new')\n\n     fill_in I18n.t('activerecord.attributes.customer.email'), with: 'test@example.jp'\n@@ -45,6 +66,7 @@ feature 'Customer management by staff' do\n     fill_in 'form_customer_given_name_kana', with: '\u30cf\u30ca\u30b3'\n     fill_in I18n.t('activerecord.attributes.customer.birthday'), with: '1970-01-01'\n     choose '\u5973\u6027'\n+    check I18n.t('staff.customers.new.home_address_inputs')\n     within('fieldset#home-address-fields') do\n       fill_in I18n.t('activerecord.attributes.home_address.postal_code'), with: '1000001'\n       select '\u6771\u4eac\u90fd', from: I18n.t('activerecord.attributes.home_address.prefecture')\n@@ -52,6 +74,7 @@ feature 'Customer management by staff' do\n       fill_in I18n.t('activerecord.attributes.home_address.address1'), with: '\u5343\u4ee3\u75301-1-1'\n       fill_in I18n.t('activerecord.attributes.home_address.address2'), with: ''\n     end\n+    check I18n.t('staff.customers.new.work_address_inputs')\n     within('fieldset#work-address-fields') do\n       fill_in I18n.t('activerecord.attributes.work_address.company_name'), with: '\u30c6\u30b9\u30c8'\n       fill_in I18n.t('activerecord.attributes.work_address.division_name'), with: ''\n</code></pre>"},{"location":"journal/20170206/#4735944","title":"\u30b3\u30df\u30c3\u30c8: 4735944","text":""},{"location":"journal/20170206/#_25","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4fee\u6b63 #15\n</code></pre>"},{"location":"journal/20170206/#_26","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/forms/staff/customer_form.rb</li> <li>M app/views/staff/customers/_customer_fields.html.erb</li> </ul>"},{"location":"journal/20170206/#_27","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 4735944789ccf6f18da9f2fc56aec8274e11d6f1\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 6 17:51:21 2017 +0900\n\n    \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4fee\u6b63 #15\n\ndiff --git a/README.md b/README.md\nindex 72e323f..28c33ce 100644\n--- a/README.md\n+++ b/README.md\n@@ -587,6 +587,7 @@ git push heroku master\n ### \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n #### \u81ea\u5b85\u4f4f\u6240\u3068\u52e4\u52d9\u5148\u306e\u4efb\u610f\u5165\u529b\n + \u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u6709\u52b9\u5316\u30fb\u7121\u52b9\u5316\n++ \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4fee\u6b63\n\n #### \u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u306e\u7ba1\u7406\uff08\uff11\uff09 \n #### \u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u306e\u7ba1\u7406\uff08\uff12\uff09\ndiff --git a/app/forms/staff/customer_form.rb b/app/forms/staff/customer_form.rb\nindex d4f493e..acc92b9 100644\n--- a/app/forms/staff/customer_form.rb\n+++ b/app/forms/staff/customer_form.rb\n@@ -15,10 +15,20 @@ class Staff::CustomerForm\n\n   def assign_attributes(params = {})\n     @params = params\n+    self.inputs_home_address = params[:inputs_home_address] == '1'\n+    self.inputs_work_address = params[:inputs_work_address] == '1'\n\n     customer.assign_attributes(customer_params)\n-    customer.home_address.assign_attributes(home_address_params)\n-    customer.work_address.assign_attributes(work_address_params)\n+    if inputs_home_address\n+      customer.home_address.assign_attributes(home_address_params)\n+    else\n+      customer.home_address.mark_for_destruction\n+    end\n+    if inputs_work_address\n+      customer.work_address.assign_attributes(work_address_params)\n+    else\n+      customer.work_address.mark_for_destruction\n+    end\n   end\n\n   private\ndiff --git a/app/views/staff/customers/_customer_fields.html.erb b/app/views/staff/customers/_customer_fields.html.erb\nindex cb1bc77..ea4eb7f 100644\n--- a/app/views/staff/customers/_customer_fields.html.erb\n+++ b/app/views/staff/customers/_customer_fields.html.erb\n@@ -5,7 +5,7 @@\n     m &lt;&lt; q.text_field_block(:email, t('activerecord.attributes.customer.email'), size: 32)\n     m &lt;&lt; q.password_field_block(:password, t('activerecord.attributes.customer.hashed_password'), size: 32)\n     m &lt;&lt; q.full_name_block(:family_name, :given_name, t('activerecord.attributes.customer.full_name'))\n-    m &lt;&lt; q.full_name_block(:family_name_kana, :given_name_kana, t('activerecord.attributes.customer.full_name'))\n+    m &lt;&lt; q.full_name_block(:family_name_kana, :given_name_kana, t('activerecord.attributes.customer.full_name_kana'))\n   end\n   m &lt;&lt; p.birthday_field_block(:birthday, t('activerecord.attributes.customer.birthday'))\n   m &lt;&lt; p.gender_field_block\n</code></pre>"},{"location":"journal/20170206/#631ce6c","title":"\u30b3\u30df\u30c3\u30c8: 631ce6c","text":""},{"location":"journal/20170206/#_28","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u6709\u52b9\u5316\u30fb\u7121\u52b9\u5316 #15\n</code></pre>"},{"location":"journal/20170206/#_29","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/javascripts/admin/staff_member_form.coffee</li> <li>M app/assets/javascripts/staff/customer_form.coffee</li> <li>M app/forms/staff/customer_form.rb</li> <li>M app/presenters/user_form_presenter.rb</li> <li>M app/views/admin/staff_members/edit.html.erb</li> <li>M app/views/admin/staff_members/new.html.erb</li> <li>M app/views/staff/customers/_form.html.erb</li> <li>M app/views/staff/customers/edit.html.erb</li> <li>M app/views/staff/customers/new.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170206/#_30","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 631ce6c3ae1b205c13d2777c78145e2a8cd1746e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 6 17:27:32 2017 +0900\n\n    \u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u6709\u52b9\u5316\u30fb\u7121\u52b9\u5316 #15\n\ndiff --git a/README.md b/README.md\nindex 5ad36cd..72e323f 100644\n--- a/README.md\n+++ b/README.md\n@@ -586,6 +586,8 @@ git push heroku master\n\n ### \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n #### \u81ea\u5b85\u4f4f\u6240\u3068\u52e4\u52d9\u5148\u306e\u4efb\u610f\u5165\u529b\n++ \u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u6709\u52b9\u5316\u30fb\u7121\u52b9\u5316\n+\n #### \u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u306e\u7ba1\u7406\uff08\uff11\uff09 \n #### \u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u306e\u7ba1\u7406\uff08\uff12\uff09\n #### \u6f14\u7fd2\u554f\u984c \ndiff --git a/app/assets/javascripts/admin/staff_member_form.coffee b/app/assets/javascripts/admin/staff_member_form.coffee\nindex 52b4456..ef60797 100644\n--- a/app/assets/javascripts/admin/staff_member_form.coffee\n+++ b/app/assets/javascripts/admin/staff_member_form.coffee\n@@ -4,19 +4,19 @@ $(document).on \"turbolinks:load\", -&gt;\n\n class StaffMemberForm\n   constructor: -&gt;\n-    $('#enable-password-field').on\n+    $('.AppForm__customer_form #is-enable-password-field').on\n       'click': handlePasswordInputFieldOn\n-    $('#disable-password-field').on\n+    $('.AppForm__customer_form #is-disable-password-field').on\n       'click': handlePasswordInputFieldOff\n\n   handlePasswordInputFieldOn = -&gt;\n-    $('#enable-password-field').hide()\n-    $('#disable-password-field').show()\n+    $('#is-enable-password-field').hide()\n+    $('#is-disable-password-field').show()\n     $('#staff_member_password').removeAttr('disabled')\n     $('label[for=staff_member_password]').addClass('required')\n\n   handlePasswordInputFieldOff = -&gt;\n-    $('#disable-password-field').hide()\n-    $('#enable-password-field').show()\n+    $('#is-disable-password-field').hide()\n+    $('#is-enable-password-field').show()\n     $('#staff_member_password').attr('disabled','disabled')\n     $('label[for=staff_member_password]').removeClass('required')\ndiff --git a/app/assets/javascripts/staff/customer_form.coffee b/app/assets/javascripts/staff/customer_form.coffee\nindex 894aed5..1d09d38 100644\n--- a/app/assets/javascripts/staff/customer_form.coffee\n+++ b/app/assets/javascripts/staff/customer_form.coffee\n@@ -4,19 +4,37 @@ $(document).on \"turbolinks:load\", -&gt;\n\n class CustomerForm\n   constructor: -&gt;\n-    $('button#enable-password-field').on\n+    $('.AppForm__customer-form #is-enable-password-field').on\n       'click': handlePasswordInputFieldOn\n-    $('button#disable-password-field').on\n+    $('.AppForm__customer-form #is-disable-password-field').on\n       'click': handlePasswordInputFieldOff\n+    toggleHomeAddressFields()\n+    toggleWorkAddressFields()\n+    $('.AppForm__customer-form input#form_inputs_home_address').on\n+      'click' : handleHomeAddressFields\n+    $('.AppForm__customer-form input#form_inputs_work_address').on\n+      'click' : handleWorkAddrssFields\n\n   handlePasswordInputFieldOn = -&gt;\n-    $('#enable-password-field').hide()\n-    $('#disable-password-field').show()\n+    $('#is-enable-password-field').hide()\n+    $('#is-disable-password-field').show()\n     $('#form_customer_password').removeAttr('disabled')\n     $('label[for=form_customer_password]').addClass('required')\n-\n   handlePasswordInputFieldOff = -&gt;\n-    $('#disable-password-field').hide()\n-    $('#enable-password-field').show()\n+    $('#is-disable-password-field').hide()\n+    $('#is-enable-password-field').show()\n     $('#form_customer_password').attr('disabled','disabled')\n     $('label[for=form_customer_password]').removeClass('required')\n+  handleHomeAddressFields = -&gt;\n+    toggleHomeAddressFields()\n+  handleWorkAddrssFields = -&gt;\n+    toggleWorkAddressFields()\n+\n+  toggleHomeAddressFields = -&gt;\n+    checked = $('input#form_inputs_home_address').prop('checked')\n+    $('fieldset#home-address-fields input').prop('disabled', !checked)\n+    $('fieldset#home-address-fields select').prop('disabled', !checked)\n+  toggleWorkAddressFields = -&gt;\n+    checked = $('input#form_inputs_work_address').prop('checked')\n+    $('fieldset#work-address-fields input').prop('disabled', !checked)\n+    $('fieldset#work-address-fields select').prop('disabled', !checked)\n\\ No newline at end of file\ndiff --git a/app/forms/staff/customer_form.rb b/app/forms/staff/customer_form.rb\nindex 271fd36..d4f493e 100644\n--- a/app/forms/staff/customer_form.rb\n+++ b/app/forms/staff/customer_form.rb\n@@ -1,12 +1,14 @@\n class Staff::CustomerForm\n   include ActiveModel::Model\n\n-  attr_accessor :customer\n+  attr_accessor :customer, :inputs_home_address, :inputs_work_address\n   delegate :persisted?, :save, to: :customer\n\n   def initialize(customer = nil)\n     @customer = customer\n     @customer ||= Customer.new(gender: 'male')\n+    self.inputs_home_address = @customer.home_address.present?\n+    self.inputs_work_address = @customer.work_address.present?\n     @customer.build_home_address unless @customer.home_address\n     @customer.build_work_address unless @customer.work_address\n   end\ndiff --git a/app/presenters/user_form_presenter.rb b/app/presenters/user_form_presenter.rb\nindex 1fcf987..1528dfc 100644\n--- a/app/presenters/user_form_presenter.rb\n+++ b/app/presenters/user_form_presenter.rb\n@@ -6,8 +6,8 @@ class UserFormPresenter &lt; FormPresenter\n       markup(:div, class: 'AppForm__input-block') do |m|\n         m &lt;&lt; decorated_label(name, label_text, options.merge(required: false))\n         m &lt;&lt; password_field(name, options.merge(disabled: true).merge(hide_label: true))\n-        m.button('\u5909\u66f4\u3059\u308b',type: 'button', id: 'enable-password-field', class: 'btn btn-warning btn-xs')\n-        m.button('\u5909\u66f4\u3057\u306a\u3044', type: 'button', id: 'disable-password-field',style: 'display: none', class: 'btn btn-primary btn-xs')\n+        m.button('\u5909\u66f4\u3059\u308b',type: 'button', id: 'is-enable-password-field', class: 'btn btn-warning btn-xs')\n+        m.button('\u5909\u66f4\u3057\u306a\u3044', type: 'button', id: 'is-disable-password-field',style: 'display: none', class: 'btn btn-primary btn-xs')\n       end\n     end\n   end\ndiff --git a/app/views/admin/staff_members/edit.html.erb b/app/views/admin/staff_members/edit.html.erb\nindex 3dedba9..039c1f1 100644\n--- a/app/views/admin/staff_members/edit.html.erb\n+++ b/app/views/admin/staff_members/edit.html.erb\n@@ -4,7 +4,7 @@\n &lt;/section&gt;\n\n &lt;section class=\"Section l-column AppForm\"&gt;\n-  &lt;div class=\"AppForm__generic-form AdminAppForm__generic-form\"&gt;\n+  &lt;div class=\"AppForm__generic-form AdminAppForm__generic-form AppForm__customer_form\"&gt;\n     &lt;%= bootstrap_form_for [ :admin, @staff_member ] do |f| %&gt;\n         &lt;%= render 'form', f: f %&gt;\n         &lt;div class=\"AppForm__buttons\"&gt;\ndiff --git a/app/views/admin/staff_members/new.html.erb b/app/views/admin/staff_members/new.html.erb\nindex fdc2ab3..6f206a5 100644\n--- a/app/views/admin/staff_members/new.html.erb\n+++ b/app/views/admin/staff_members/new.html.erb\n@@ -4,7 +4,7 @@\n &lt;/section&gt;\n\n &lt;section class=\"Section l-column AppForm\"&gt;\n-  &lt;div class=\"AppForm__generic-form AdminAppForm__generic-form\"&gt;\n+  &lt;div class=\"AppForm__generic-form AdminAppForm__generic-form AppForm__customer_form\"&gt;\n     &lt;%= bootstrap_form_for [ :admin, @staff_member ] do |f| %&gt;\n     &lt;%= render 'form', f: f %&gt;\n         &lt;div class=\"AppForm__buttons\"&gt;\ndiff --git a/app/views/staff/customers/_form.html.erb b/app/views/staff/customers/_form.html.erb\nindex 011332c..80eb496 100644\n--- a/app/views/staff/customers/_form.html.erb\n+++ b/app/views/staff/customers/_form.html.erb\n@@ -3,10 +3,16 @@\n   &lt;legend&gt;&lt;%= t('staff.customers.new.basic_info') %&gt;&lt;/legend&gt;\n   &lt;%= render 'customer_fields', f: f %&gt;\n &lt;/fieldset&gt;\n+&lt;div&gt;\n+  &lt;%= f.check_box :inputs_home_address, label: t('staff.customers.new.home_address_inputs')  %&gt;\n+&lt;/div&gt;\n &lt;fieldset id=\"home-address-fields\"&gt;\n   &lt;legend&gt;&lt;%= t('staff.customers.new.home_address') %&gt;&lt;/legend&gt;\n   &lt;%= render 'home_address_fields', f: f %&gt;\n &lt;/fieldset&gt;\n+&lt;div&gt;\n+  &lt;%= f.check_box :inputs_work_address, label: t('staff.customers.new.work_address_inputs') %&gt;\n+&lt;/div&gt;\n &lt;fieldset id=\"work-address-fields\"&gt;\n   &lt;legend&gt;&lt;%= t('staff.customers.new.work_address') %&gt;&lt;/legend&gt;\n   &lt;%= render 'work_address_fields', f: f %&gt;\ndiff --git a/app/views/staff/customers/edit.html.erb b/app/views/staff/customers/edit.html.erb\nindex b534606..9f24172 100644\n--- a/app/views/staff/customers/edit.html.erb\n+++ b/app/views/staff/customers/edit.html.erb\n@@ -4,7 +4,7 @@\n &lt;/section&gt;\n\n &lt;section class=\"Section l-column AppForm\"&gt;\n-  &lt;div class=\"AppForm__generic-form StaffAppForm__generic-form\"&gt;\n+  &lt;div class=\"AppForm__generic-form StaffAppForm__generic-form AppForm__customer-form\"&gt;\n     &lt;%= bootstrap_form_for @customer_form, as: 'form', url: [:staff, @customer_form.customer] do |f| %&gt;\n         &lt;%= render 'form', f: f %&gt;\n         &lt;div class=\"AppForm__buttons\"&gt;\ndiff --git a/app/views/staff/customers/new.html.erb b/app/views/staff/customers/new.html.erb\nindex eec2844..4514a82 100644\n--- a/app/views/staff/customers/new.html.erb\n+++ b/app/views/staff/customers/new.html.erb\n@@ -4,7 +4,7 @@\n &lt;/section&gt;\n\n &lt;section class=\"Section l-column AppForm\"&gt;\n-  &lt;div class=\"AppForm__generic-form StaffAppForm__generic-form\"&gt;\n+  &lt;div class=\"AppForm__generic-form StaffAppForm__generic-form AppForm__customer-form\"&gt;\n     &lt;%= bootstrap_form_for @customer_form, as: 'form', url: :staff_customers do |f| %&gt;\n         &lt;%= render 'form', f: f %&gt;\n         &lt;div class=\"AppForm__buttons\"&gt;\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 398aa73..a0d1b6b 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -55,7 +55,9 @@ ja:\n         title: '\u9867\u5ba2\u306e\u65b0\u898f\u767b\u9332'\n         basic_info: '\u57fa\u672c\u60c5\u5831'\n         home_address: '\u81ea\u5b85\u4f4f\u6240'\n+        home_address_inputs: '\u81ea\u5b85\u4f4f\u6240\u3092\u5165\u529b\u3059\u308b'\n         work_address: '\u52e4\u52d9\u5148'\n+        work_address_inputs: '\u52e4\u52d9\u5148\u3092\u5165\u529b\u3059\u308b'\n         create: '\u767b\u9332'\n         cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n       edit:\n</code></pre>"},{"location":"journal/20170206/#ac215c0","title":"\u30b3\u30df\u30c3\u30c8: ac215c0","text":""},{"location":"journal/20170206/#_31","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 #15\n</code></pre>"},{"location":"journal/20170206/#_32","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M baukis-kai.iml</li> </ul>"},{"location":"journal/20170206/#_33","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit ac215c05f588f52cf2aaf9c83357ec1674653234\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 6 16:29:44 2017 +0900\n\n    \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 #15\n\ndiff --git a/README.md b/README.md\nindex 5a8fc26..5ad36cd 100644\n--- a/README.md\n+++ b/README.md\n@@ -585,6 +585,11 @@ git push heroku master\n + PasswordHolder\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u62bd\u51fa\n\n ### \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n+#### \u81ea\u5b85\u4f4f\u6240\u3068\u52e4\u52d9\u5148\u306e\u4efb\u610f\u5165\u529b\n+#### \u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u306e\u7ba1\u7406\uff08\uff11\uff09 \n+#### \u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u306e\u7ba1\u7406\uff08\uff12\uff09\n+#### \u6f14\u7fd2\u554f\u984c \n+\n ### \u691c\u7d22\u30d5\u30a9\u30fc\u30e0\n **[\u2b06 back to top](#\u69cb\u6210)**\n\ndiff --git a/baukis-kai.iml b/baukis-kai.iml\nindex 008ed4e..7961602 100644\n--- a/baukis-kai.iml\n+++ b/baukis-kai.iml\n@@ -43,9 +43,9 @@\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"builder (v3.2.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bundler (v1.13.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"byebug (v9.0.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara (v2.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara (v2.12.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-screenshot (v1.0.14, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-webkit (v1.11.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-webkit (v1.12.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"childprocess (v0.5.9, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"choice (v0.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coderay (v1.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n</code></pre>"},{"location":"journal/20170206/#a84aa17","title":"\u30b3\u30df\u30c3\u30c8: a84aa17","text":""},{"location":"journal/20170206/#_34","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Merge branch 'wip'\n</code></pre>"},{"location":"journal/20170206/#_35","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":""},{"location":"journal/20170206/#_36","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit a84aa1792f508a4b7c1e1bb500a16f6effe1b834\nMerge: 6d1204e a5f2cd9\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 6 16:24:58 2017 +0900\n\n    Merge branch 'wip'\n</code></pre>"},{"location":"journal/20170206/#a5f2cd9","title":"\u30b3\u30df\u30c3\u30c8: a5f2cd9","text":""},{"location":"journal/20170206/#_37","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>PasswordHolder\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u62bd\u51fa #14\n</code></pre>"},{"location":"journal/20170206/#_38","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/controllers/concerns/password_holder.rb</li> <li>M app/models/administrator.rb</li> <li>M app/models/customer.rb</li> <li>M app/models/staff_member.rb</li> </ul>"},{"location":"journal/20170206/#_39","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit a5f2cd901f08389aefbfb843baa841afcd4498b7\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 6 16:24:24 2017 +0900\n\n    PasswordHolder\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u62bd\u51fa #14\n\ndiff --git a/README.md b/README.md\nindex c7e684d..5a8fc26 100644\n--- a/README.md\n+++ b/README.md\n@@ -582,6 +582,7 @@ git push heroku master\n #### ActiveSupport::Concern\u306b\u3088\u308b\u30b3\u30fc\u30c9\u5171\u6709\n + PersonalNameHolder\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u62bd\u51fa\n + EmailHolder\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u62bd\u51fa\n++ PasswordHolder\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u62bd\u51fa\n\n ### \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n ### \u691c\u7d22\u30d5\u30a9\u30fc\u30e0\ndiff --git a/app/controllers/concerns/password_holder.rb b/app/controllers/concerns/password_holder.rb\nnew file mode 100644\nindex 0000000..560a1fd\n--- /dev/null\n+++ b/app/controllers/concerns/password_holder.rb\n@@ -0,0 +1,11 @@\n+module PasswordHolder\n+  extend ActiveSupport::Concern\n+\n+  def password=(raw_password)\n+    if raw_password.kind_of?(String)\n+      self.hashed_password = BCrypt::Password.create(raw_password)\n+    elsif raw_password.nil?\n+      self.hashed_password = nil\n+    end\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/models/administrator.rb b/app/models/administrator.rb\nindex f88be8b..a6d32d4 100644\n--- a/app/models/administrator.rb\n+++ b/app/models/administrator.rb\n@@ -17,14 +17,7 @@\n\n class Administrator &lt; ApplicationRecord\n   include EmailHolder\n-\n-  def password=(raw_password)\n-    if raw_password.kind_of?(String)\n-      self.hashed_password = BCrypt::Password.create(raw_password)\n-    elsif raw_password.nil?\n-      self.hashed_password = nil\n-    end\n-  end\n+  include PasswordHolder\n\n   def active?\n     !suspended?\ndiff --git a/app/models/customer.rb b/app/models/customer.rb\nindex 12dc7d5..3a480d3 100644\n--- a/app/models/customer.rb\n+++ b/app/models/customer.rb\n@@ -24,6 +24,7 @@\n class Customer &lt; ApplicationRecord\n   include EmailHolder\n   include PersonalNameHolder\n+  include PasswordHolder\n\n   has_one :home_address, dependent: :destroy, autosave: true\n   has_one :work_address, dependent: :destroy, autosave: true\n@@ -34,12 +35,4 @@ class Customer &lt; ApplicationRecord\n       before: -&gt;(obj) { Date.today },\n       allow_blank: true\n   }\n-\n-  def password=(raw_password)\n-    if raw_password.kind_of?(String)\n-      self.hashed_password = BCrypt::Password.create(raw_password)\n-    elsif raw_password.nil?\n-      self.hashed_password = nil\n-    end\n-  end\n end\ndiff --git a/app/models/staff_member.rb b/app/models/staff_member.rb\nindex 956375b..a6f0230 100644\n--- a/app/models/staff_member.rb\n+++ b/app/models/staff_member.rb\n@@ -25,6 +25,7 @@\n class StaffMember &lt; ApplicationRecord\n   include EmailHolder\n   include PersonalNameHolder\n+  include PasswordHolder\n\n   has_many :events, class_name: 'StaffEvent', dependent: :destroy\n\n@@ -39,14 +40,6 @@ class StaffMember &lt; ApplicationRecord\n       allow_blank: true\n   }\n\n-  def password=(raw_password)\n-    if raw_password.kind_of?(String)\n-      self.hashed_password = BCrypt::Password.create(raw_password)\n-    elsif raw_password.nil?\n-      self.hashed_password = nil\n-    end\n-  end\n-\n   def active?\n     !suspended? &amp;&amp; start_date &lt;= Date.today &amp;&amp;\n         (end_date.nil? || end_date &gt; Date.today)\n</code></pre>"},{"location":"journal/20170206/#_40","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170206/#b69c01b","title":"\u30b3\u30df\u30c3\u30c8: b69c01b","text":""},{"location":"journal/20170206/#_41","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>EmailHolder\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u62bd\u51fa #14\n</code></pre>"},{"location":"journal/20170206/#_42","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/controllers/concerns/email_holder.rb</li> <li>M app/models/administrator.rb</li> <li>M app/models/customer.rb</li> <li>M app/models/staff_member.rb</li> </ul>"},{"location":"journal/20170206/#_43","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit b69c01b5e2237461335b22a86f4fd81d15b2a357\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 6 16:19:58 2017 +0900\n\n    EmailHolder\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u62bd\u51fa #14\n\ndiff --git a/README.md b/README.md\nindex e4dd7bc..c7e684d 100644\n--- a/README.md\n+++ b/README.md\n@@ -581,6 +581,7 @@ git push heroku master\n\n #### ActiveSupport::Concern\u306b\u3088\u308b\u30b3\u30fc\u30c9\u5171\u6709\n + PersonalNameHolder\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u62bd\u51fa\n++ EmailHolder\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u62bd\u51fa\n\n ### \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n ### \u691c\u7d22\u30d5\u30a9\u30fc\u30e0\ndiff --git a/app/controllers/concerns/email_holder.rb b/app/controllers/concerns/email_holder.rb\nnew file mode 100644\nindex 0000000..8f636f7\n--- /dev/null\n+++ b/app/controllers/concerns/email_holder.rb\n@@ -0,0 +1,22 @@\n+module EmailHolder\n+  extend ActiveSupport::Concern\n+\n+  included do\n+    include StringNormalizer\n+\n+    before_validation do\n+      self.email = normalize_as_email(email)\n+      self.email_for_index = email.downcase if email\n+    end\n+\n+    validates :email, presence: true, email: { alllow_blank: true }\n+    validates :email_for_index, uniqueness: { allow_blank: true }\n+\n+    after_validation do\n+      if errors.include?(:email_for_index)\n+        errors.add(:email, :taken)\n+        errors.delete(:email_for_index)\n+      end\n+    end\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/models/administrator.rb b/app/models/administrator.rb\nindex 52332d4..f88be8b 100644\n--- a/app/models/administrator.rb\n+++ b/app/models/administrator.rb\n@@ -16,9 +16,7 @@\n #\n\n class Administrator &lt; ApplicationRecord\n-  before_validation do\n-    self.email_for_index = email.downcase if email\n-  end\n+  include EmailHolder\n\n   def password=(raw_password)\n     if raw_password.kind_of?(String)\ndiff --git a/app/models/customer.rb b/app/models/customer.rb\nindex 67ff67a..12dc7d5 100644\n--- a/app/models/customer.rb\n+++ b/app/models/customer.rb\n@@ -22,13 +22,11 @@\n #\n\n class Customer &lt; ApplicationRecord\n+  include EmailHolder\n   include PersonalNameHolder\n\n   has_one :home_address, dependent: :destroy, autosave: true\n   has_one :work_address, dependent: :destroy, autosave: true\n-  before_validation do\n-    self.email_for_index = email.downcase if email\n-  end\n\n   validates :gender, inclusion: { in: %w(male female), allow_blank: true }\n   validates :birthday, date: {\ndiff --git a/app/models/staff_member.rb b/app/models/staff_member.rb\nindex 35c13e5..956375b 100644\n--- a/app/models/staff_member.rb\n+++ b/app/models/staff_member.rb\n@@ -23,17 +23,11 @@\n #\n\n class StaffMember &lt; ApplicationRecord\n-  include StringNormalizer\n+  include EmailHolder\n   include PersonalNameHolder\n\n   has_many :events, class_name: 'StaffEvent', dependent: :destroy\n\n-  before_validation do\n-    self.email = normalize_as_email(email)\n-    self.email_for_index = email.downcase if email\n-  end\n-\n-  validates :email, presence: true, email: { alllow_blank: true }\n   validates :start_date, presence: true, date: {\n       after_or_equal_to: Date.new(2000, 1, 1),\n       before: -&gt; (obj) { 1.year.from_now.to_date },\n@@ -45,14 +39,6 @@ class StaffMember &lt; ApplicationRecord\n       allow_blank: true\n   }\n\n-  validates :email_for_index, uniqueness: { allow_blank: true }\n-  after_validation do\n-    if errors.include?(:email_for_index)\n-      errors.add(:email, :taken)\n-      errors.delete(:email_for_index)\n-    end\n-  end\n-\n   def password=(raw_password)\n     if raw_password.kind_of?(String)\n       self.hashed_password = BCrypt::Password.create(raw_password)\n</code></pre>"},{"location":"journal/20170206/#_44","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170206/#1ce0a35","title":"\u30b3\u30df\u30c3\u30c8: 1ce0a35","text":""},{"location":"journal/20170206/#_45","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>PersonalNameHolder\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u62bd\u51fa #14\n</code></pre>"},{"location":"journal/20170206/#_46","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/controllers/concerns/personal_name_holder.rb</li> <li>M app/models/customer.rb</li> <li>M app/models/staff_member.rb</li> </ul>"},{"location":"journal/20170206/#_47","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 1ce0a3568f8a901910f656ef578792265972a2b7\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 6 16:10:11 2017 +0900\n\n    PersonalNameHolder\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u62bd\u51fa #14\n\ndiff --git a/README.md b/README.md\nindex 2acd2cf..e4dd7bc 100644\n--- a/README.md\n+++ b/README.md\n@@ -580,6 +580,7 @@ git push heroku master\n + autosave\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u3088\u308b\u51e6\u7406\u306e\u7c21\u7d20\u5316\n\n #### ActiveSupport::Concern\u306b\u3088\u308b\u30b3\u30fc\u30c9\u5171\u6709\n++ PersonalNameHolder\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u62bd\u51fa\n\n ### \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n ### \u691c\u7d22\u30d5\u30a9\u30fc\u30e0\ndiff --git a/app/controllers/concerns/personal_name_holder.rb b/app/controllers/concerns/personal_name_holder.rb\nnew file mode 100644\nindex 0000000..9c1a472\n--- /dev/null\n+++ b/app/controllers/concerns/personal_name_holder.rb\n@@ -0,0 +1,20 @@\n+module PersonalNameHolder\n+  extend ActiveSupport::Concern\n+\n+  HUMAN_NAME_REGEXP = /\\A[p{han}\\p{hiragana}\\p{katakana}\\u{30fc}\\p{alpha}]+\\z/\n+  KATAKANA_REGEXP = /\\A[\\p{katakana}\\u{30fc}]+\\z/\n+\n+  included do\n+    include StringNormalizer\n+\n+    before_validation do\n+      self.family_name = normalize_as_name(family_name)\n+      self.given_name = normalize_as_name(given_name)\n+      self.family_name_kana = normalize_as_furigana(family_name_kana)\n+      self.given_name_kana = normalize_as_furigana(given_name_kana)\n+    end\n+\n+    validates :family_name, :given_name, presence: true, format: { with: HUMAN_NAME_REGEXP, allow_blank: true }\n+    validates :family_name_kana, :given_name_kana, presence: true, format: { with: KATAKANA_REGEXP, allow_blank: true }\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/models/customer.rb b/app/models/customer.rb\nindex f91be55..67ff67a 100644\n--- a/app/models/customer.rb\n+++ b/app/models/customer.rb\n@@ -22,6 +22,8 @@\n #\n\n class Customer &lt; ApplicationRecord\n+  include PersonalNameHolder\n+\n   has_one :home_address, dependent: :destroy, autosave: true\n   has_one :work_address, dependent: :destroy, autosave: true\n   before_validation do\ndiff --git a/app/models/staff_member.rb b/app/models/staff_member.rb\nindex e9c0e92..35c13e5 100644\n--- a/app/models/staff_member.rb\n+++ b/app/models/staff_member.rb\n@@ -24,24 +24,16 @@\n\n class StaffMember &lt; ApplicationRecord\n   include StringNormalizer\n+  include PersonalNameHolder\n\n   has_many :events, class_name: 'StaffEvent', dependent: :destroy\n\n   before_validation do\n     self.email = normalize_as_email(email)\n     self.email_for_index = email.downcase if email\n-    self.family_name = normalize_as_name(family_name)\n-    self.given_name = normalize_as_name(given_name)\n-    self.family_name_kana = normalize_as_furigana(family_name_kana)\n-    self.given_name_kana = normalize_as_furigana(given_name_kana)\n   end\n\n-  HUMAN_NAME_REGEXP = /\\A[p{han}\\p{hiragana}\\p{katakana}\\u{30fc}\\p{alpha}]+\\z/\n-  KATAKANA_REGEXP = /\\A[\\p{katakana}\\u{30fc}]+\\z/\n-\n   validates :email, presence: true, email: { alllow_blank: true }\n-  validates :family_name, :given_name, presence: true, format: { with: HUMAN_NAME_REGEXP, allow_blank: true }\n-  validates :family_name_kana, :given_name_kana, presence: true, format: { with: KATAKANA_REGEXP, allow_blank: true }\n   validates :start_date, presence: true, date: {\n       after_or_equal_to: Date.new(2000, 1, 1),\n       before: -&gt; (obj) { 1.year.from_now.to_date },\n</code></pre>"},{"location":"journal/20170206/#_48","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170206/#f01cc5c","title":"\u30b3\u30df\u30c3\u30c8: f01cc5c","text":""},{"location":"journal/20170206/#_49","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>autosave\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u3088\u308b\u51e6\u7406\u306e\u7c21\u7d20\u5316 #14\n</code></pre>"},{"location":"journal/20170206/#_50","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/forms/staff/customer_form.rb</li> <li>M app/models/customer.rb</li> </ul>"},{"location":"journal/20170206/#_51","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit f01cc5c394dd8defaf1a1f7a2251b9f2959be9c9\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 6 15:57:58 2017 +0900\n\n    autosave\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u3088\u308b\u51e6\u7406\u306e\u7c21\u7d20\u5316 #14\n\ndiff --git a/README.md b/README.md\nindex a8ac2bc..2acd2cf 100644\n--- a/README.md\n+++ b/README.md\n@@ -577,6 +577,7 @@ git push heroku master\n + \u30e2\u30c7\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u304a\u3051\u308b\u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n + \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u304a\u3051\u308b\u30d0\u30ea\u30a8\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u65bd\n + \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\n++ autosave\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u3088\u308b\u51e6\u7406\u306e\u7c21\u7d20\u5316\n\n #### ActiveSupport::Concern\u306b\u3088\u308b\u30b3\u30fc\u30c9\u5171\u6709\n\ndiff --git a/app/forms/staff/customer_form.rb b/app/forms/staff/customer_form.rb\nindex 351a5ce..271fd36 100644\n--- a/app/forms/staff/customer_form.rb\n+++ b/app/forms/staff/customer_form.rb\n@@ -2,7 +2,7 @@ class Staff::CustomerForm\n   include ActiveModel::Model\n\n   attr_accessor :customer\n-  delegate :persisted?, to: :customer\n+  delegate :persisted?, :save, to: :customer\n\n   def initialize(customer = nil)\n     @customer = customer\n@@ -19,20 +19,6 @@ class Staff::CustomerForm\n     customer.work_address.assign_attributes(work_address_params)\n   end\n\n-  def valid?\n-    [ customer, customer.home_address, customer.work_address ].map(&amp;:valid?).all?\n-  end\n-\n-  def save\n-    ActiveRecord::Base.transaction do\n-      if valid?\n-        customer.save!\n-        customer.home_address.save!\n-        customer.work_address.save!\n-      end\n-    end\n-  end\n-\n   private\n   def customer_params\n     @params.require(:customer).permit(\ndiff --git a/app/models/customer.rb b/app/models/customer.rb\nindex e8c43a8..f91be55 100644\n--- a/app/models/customer.rb\n+++ b/app/models/customer.rb\n@@ -22,8 +22,8 @@\n #\n\n class Customer &lt; ApplicationRecord\n-  has_one :home_address, dependent: :destroy\n-  has_one :work_address, dependent: :destroy\n+  has_one :home_address, dependent: :destroy, autosave: true\n+  has_one :work_address, dependent: :destroy, autosave: true\n   before_validation do\n     self.email_for_index = email.downcase if email\n   end\n</code></pre>"},{"location":"journal/20170206/#_52","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170206/#014dfb6","title":"\u30b3\u30df\u30c3\u30c8: 014dfb6","text":""},{"location":"journal/20170206/#_53","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8 #14\n</code></pre>"},{"location":"journal/20170206/#_54","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170206/#_55","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 014dfb67b3c5d6e4c269255fcd2c7694cea1efca\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 6 15:52:02 2017 +0900\n\n    \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8 #14\n\ndiff --git a/README.md b/README.md\nindex bb05cb2..a8ac2bc 100644\n--- a/README.md\n+++ b/README.md\n@@ -576,6 +576,7 @@ git push heroku master\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u6a5f\u80fd\u306e\u6539\u826f\n + \u30e2\u30c7\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u304a\u3051\u308b\u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n + \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u304a\u3051\u308b\u30d0\u30ea\u30a8\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u65bd\n++ \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\n\n #### ActiveSupport::Concern\u306b\u3088\u308b\u30b3\u30fc\u30c9\u5171\u6709\n\ndiff --git a/spec/features/staff/customer_nanagement_spec.rb b/spec/features/staff/customer_management_spec.rb\nsimilarity index 83%\nrename from spec/features/staff/customer_nanagement_spec.rb\nrename to spec/features/staff/customer_management_spec.rb\nindex 1d853aa..a03060c 100644\n--- a/spec/features/staff/customer_nanagement_spec.rb\n+++ b/spec/features/staff/customer_management_spec.rb\n@@ -14,7 +14,6 @@ feature 'Customer management by staff' do\n   # \u8077\u54e1\u304c\u9867\u5ba2\u3001\u81ea\u5b85\u4f4f\u6240\u3001\u52e4\u52d9\u5148\u3092\u66f4\u65b0\u3059\u308b\n   scenario 'Staff update customer, home address, work place' do\n     click_link I18n.t('staff.top.dashboard.staff_customers')\n-\n     first('table.Table__body--listing').click_link I18n.t('staff.customers.index.edit')\n\n     fill_in I18n.t('activerecord.attributes.customer.email'), with: 'test@example.jp'\n@@ -71,4 +70,19 @@ feature 'Customer management by staff' do\n     expect(new_customer.home_address.postal_code).to eq('1000001')\n     expect(new_customer.work_address.company_name).to eq('\u30c6\u30b9\u30c8')\n   end\n+\n+  # \u8077\u54e1\u304c\u751f\u5e74\u6708\u65e5\u3068\u81ea\u5b85\u306e\u90f5\u4fbf\u756a\u53f7\u306b\u7121\u52b9\u306a\u5024\u3092\u5165\u529b\u3059\u308b\n+  scenario 'Employees enter invalid values for birth date and home postal code' do\n+    click_link I18n.t('staff.top.dashboard.staff_customers')\n+    first('table.Table__body--listing').click_link I18n.t('staff.customers.index.edit')\n+\n+    fill_in I18n.t('activerecord.attributes.customer.birthday'), with: '2100-01-01'\n+    within('fieldset#home-address-fields') do\n+      fill_in I18n.t('activerecord.attributes.home_address.postal_code'), with: 'XYZ'\n+    end\n+    click_button I18n.t('staff.customers.edit.update')\n+\n+    expect(page).to have_css('header span.Flash__alert')\n+    expect(page).to have_css('.has-error span.help-block')\n+  end\n end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170206/#23f580b","title":"\u30b3\u30df\u30c3\u30c8: 23f580b","text":""},{"location":"journal/20170206/#_56","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u304a\u3051\u308b\u30d0\u30ea\u30a8\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u65bd #14\n</code></pre>"},{"location":"journal/20170206/#_57","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/forms/staff/customer_form.rb</li> </ul>"},{"location":"journal/20170206/#_58","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 23f580bdf6e7dcc1873398615dd839b051094d94\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 6 15:37:09 2017 +0900\n\n    \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u304a\u3051\u308b\u30d0\u30ea\u30a8\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u65bd #14\n\ndiff --git a/README.md b/README.md\nindex 1a6a544..bb05cb2 100644\n--- a/README.md\n+++ b/README.md\n@@ -575,6 +575,7 @@ git push heroku master\n\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u6a5f\u80fd\u306e\u6539\u826f\n + \u30e2\u30c7\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u304a\u3051\u308b\u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n++ \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u304a\u3051\u308b\u30d0\u30ea\u30a8\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u65bd\n\n #### ActiveSupport::Concern\u306b\u3088\u308b\u30b3\u30fc\u30c9\u5171\u6709\n\ndiff --git a/app/forms/staff/customer_form.rb b/app/forms/staff/customer_form.rb\nindex 69dc6e2..351a5ce 100644\n--- a/app/forms/staff/customer_form.rb\n+++ b/app/forms/staff/customer_form.rb\n@@ -19,11 +19,17 @@ class Staff::CustomerForm\n     customer.work_address.assign_attributes(work_address_params)\n   end\n\n+  def valid?\n+    [ customer, customer.home_address, customer.work_address ].map(&amp;:valid?).all?\n+  end\n+\n   def save\n     ActiveRecord::Base.transaction do\n-      customer.save!\n-      customer.home_address.save!\n-      customer.work_address.save!\n+      if valid?\n+        customer.save!\n+        customer.home_address.save!\n+        customer.work_address.save!\n+      end\n     end\n   end\n</code></pre>"},{"location":"journal/20170206/#621abf2","title":"\u30b3\u30df\u30c3\u30c8: 621abf2","text":""},{"location":"journal/20170206/#_59","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30e2\u30c7\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u304a\u3051\u308b\u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3 #14\n</code></pre>"},{"location":"journal/20170206/#_60","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/address.rb</li> <li>M app/models/concerns/string_normalizer.rb</li> <li>M app/models/customer.rb</li> <li>M app/models/home_address.rb</li> <li>M app/models/work_address.rb</li> <li>M config/locales/models/ja.yml</li> <li>M spec/factories/addresses.rb</li> <li>M spec/features/staff/customer_nanagement_spec.rb</li> </ul>"},{"location":"journal/20170206/#_61","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 621abf2875583495da05d1fd27a6d236536e7521\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 6 15:02:41 2017 +0900\n\n    \u30e2\u30c7\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u304a\u3051\u308b\u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3 #14\n\ndiff --git a/README.md b/README.md\nindex 6a4246f..1a6a544 100644\n--- a/README.md\n+++ b/README.md\n@@ -574,6 +574,8 @@ git push heroku master\n + \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u65b0\u898f\u767b\u9332\u6a5f\u80fd\u306e\u30c6\u30b9\u30c8\n\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u6a5f\u80fd\u306e\u6539\u826f\n++ \u30e2\u30c7\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u304a\u3051\u308b\u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n+\n #### ActiveSupport::Concern\u306b\u3088\u308b\u30b3\u30fc\u30c9\u5171\u6709\n\n ### \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\ndiff --git a/app/models/address.rb b/app/models/address.rb\nindex fd01b80..e4133f5 100644\n--- a/app/models/address.rb\n+++ b/app/models/address.rb\n@@ -22,8 +22,17 @@\n #\n\n class Address &lt; ApplicationRecord\n+  include StringNormalizer\n+\n   belongs_to :customer\n\n+  before_validation do\n+    self.postal_code = normalize_as_postal_code(postal_code)\n+    self.city = normalize_as_name(city)\n+    self.address1 = normalize_as_name(address1)\n+    self.address2 = normalize_as_name(address2)\n+  end\n+\n   PREFECTURE_NAMES = %w(\n     \u5317\u6d77\u9053\n     \u9752\u68ee\u770c \u5ca9\u624b\u770c \u5bae\u57ce\u770c \u79cb\u7530\u770c \u5c71\u5f62\u770c \u798f\u5cf6\u770c\n@@ -36,4 +45,7 @@ class Address &lt; ApplicationRecord\n     \u6c96\u7e04\u770c\n     \u65e5\u672c\u56fd\u5916\n   )\n+\n+  validates :postal_code, format: { with: /\\A\\d{7}\\z/, allow_blank: true }\n+  validates :prefecture, inclusion: { in: PREFECTURE_NAMES, allow_blank: true }\n end\ndiff --git a/app/models/concerns/string_normalizer.rb b/app/models/concerns/string_normalizer.rb\nindex 13a558b..f036970 100644\n--- a/app/models/concerns/string_normalizer.rb\n+++ b/app/models/concerns/string_normalizer.rb\n@@ -14,4 +14,8 @@ module StringNormalizer\n   def normalize_as_furigana(text)\n     NKF.nkf('-w -Z1 --katakana', text).strip if text\n   end\n+\n+  def normalize_as_postal_code(text)\n+    NKF.nkf('-w -Z1', text).strip.gsub(/-/, '') if text\n+  end\n end\n\\ No newline at end of file\ndiff --git a/app/models/customer.rb b/app/models/customer.rb\nindex 04386e3..e8c43a8 100644\n--- a/app/models/customer.rb\n+++ b/app/models/customer.rb\n@@ -28,6 +28,13 @@ class Customer &lt; ApplicationRecord\n     self.email_for_index = email.downcase if email\n   end\n\n+  validates :gender, inclusion: { in: %w(male female), allow_blank: true }\n+  validates :birthday, date: {\n+      after: Date.new(1900,1,1),\n+      before: -&gt;(obj) { Date.today },\n+      allow_blank: true\n+  }\n+\n   def password=(raw_password)\n     if raw_password.kind_of?(String)\n       self.hashed_password = BCrypt::Password.create(raw_password)\ndiff --git a/app/models/home_address.rb b/app/models/home_address.rb\nindex 0dc6aa5..fd3aa3e 100644\n--- a/app/models/home_address.rb\n+++ b/app/models/home_address.rb\n@@ -22,4 +22,6 @@\n #\n\n class HomeAddress &lt; Address\n+  validates :postal_code, :prefecture, :city, :address1, presence: true\n+  validates :company_name, :division_name, absence: true\n end\ndiff --git a/app/models/work_address.rb b/app/models/work_address.rb\nindex 93e332b..de8d396 100644\n--- a/app/models/work_address.rb\n+++ b/app/models/work_address.rb\n@@ -22,4 +22,10 @@\n #\n\n class WorkAddress &lt; Address\n+  before_validation do\n+    self.company_name = normalize_as_name(company_name)\n+    self.division_name = normalize_as_name(division_name)\n+  end\n+\n+  validates :company_name, presence: true\n end\ndiff --git a/config/locales/models/ja.yml b/config/locales/models/ja.yml\nindex b4eafec..cf31ec0 100644\n--- a/config/locales/models/ja.yml\n+++ b/config/locales/models/ja.yml\n@@ -90,6 +90,15 @@ ja:\n                 after_or_equal_to: \u306b\u306f2000\u5e741\u67081\u65e5\u4ee5\u964d\u306e\u65e5\u4ed8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n                 before: \u306b\u306f1\u5e74\u5f8c\u306e\u65e5\u4ed8\u3088\u308a\u524d\u306e\u65e5\u4ed8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n                 after: \u306b\u306f\u958b\u59cb\u65e5\u3088\u308a\u5f8c\u306e\u65e5\u4ed8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n+                after: \u306b\u306f\u958b\u59cb\u65e5\u3088\u308a\u5f8c\u306e\u65e5\u4ed8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n+\n+        customer:\n+          attributes:\n+            email:\n+              taken: \u304c\u4ed6\u306e\u9867\u5ba2\u3068\u91cd\u8907\u3057\u3066\u3044\u307e\u3059\n+              birthday:\n+                after_or_equal_to: \u306b\u306f1900\u5e741\u67081\u65e5\u4ee5\u964d\u306e\u65e5\u6642\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n+                before: \u304c\u672a\u6765\u306e\u65e5\u4ed8\u3067\u3059\u3002\n\n   activemodel:\n     models:\ndiff --git a/spec/factories/addresses.rb b/spec/factories/addresses.rb\nindex 2a866b7..076c809 100644\n--- a/spec/factories/addresses.rb\n+++ b/spec/factories/addresses.rb\n@@ -23,7 +23,7 @@\n\n FactoryGirl.define do\n   factory :home_address do\n-    postal_code '10000000'\n+    postal_code '1000000'\n     prefecture '\u6771\u4eac\u90fd'\n     city '\u5343\u4ee3\u7530\u533a'\n     address1 '\u8a66\u9a131-1-1'\n@@ -33,7 +33,7 @@ FactoryGirl.define do\n   factory :work_address do\n     company_name '\u30c6\u30b9\u30c8'\n     division_name '\u958b\u767a\u90e8'\n-    postal_code '10500000'\n+    postal_code '1050000'\n     prefecture '\u6771\u4eac\u90fd'\n     city '\u6e2f\u533a'\n     address1 '\u8a66\u9a131-1-1'\ndiff --git a/spec/features/staff/customer_nanagement_spec.rb b/spec/features/staff/customer_nanagement_spec.rb\nindex ae8a741..1d853aa 100644\n--- a/spec/features/staff/customer_nanagement_spec.rb\n+++ b/spec/features/staff/customer_nanagement_spec.rb\n@@ -19,7 +19,7 @@ feature 'Customer management by staff' do\n\n     fill_in I18n.t('activerecord.attributes.customer.email'), with: 'test@example.jp'\n     within('fieldset#home-address-fields') do\n-      fill_in I18n.t('activerecord.attributes.home_address.postal_code'), with: '99999999'\n+      fill_in I18n.t('activerecord.attributes.home_address.postal_code'), with: '9999999'\n     end\n     within('fieldset#work-address-fields') do\n       fill_in I18n.t('activerecord.attributes.work_address.company_name'), with: '\u30c6\u30b9\u30c8'\n@@ -28,7 +28,7 @@ feature 'Customer management by staff' do\n\n     customer.reload\n     expect(customer.email).to eq('test@example.jp')\n-    expect(customer.home_address.postal_code).to eq('99999999')\n+    expect(customer.home_address.postal_code).to eq('9999999')\n     expect(customer.work_address.company_name).to eq('\u30c6\u30b9\u30c8')\n   end\n</code></pre>"},{"location":"journal/20170206/#_62","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170206/#d5c3d36","title":"\u30b3\u30df\u30c3\u30c8: d5c3d36","text":""},{"location":"journal/20170206/#_63","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u65b0\u898f\u767b\u9332\u6a5f\u80fd\u306e\u30c6\u30b9\u30c8 #14\n</code></pre>"},{"location":"journal/20170206/#_64","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M spec/features/staff/customer_nanagement_spec.rb</li> </ul>"},{"location":"journal/20170206/#_65","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit d5c3d36235d0bd14a007afd2aad6c91acc406de7\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 6 14:39:27 2017 +0900\n\n    \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u65b0\u898f\u767b\u9332\u6a5f\u80fd\u306e\u30c6\u30b9\u30c8 #14\n\ndiff --git a/README.md b/README.md\nindex effb203..6a4246f 100644\n--- a/README.md\n+++ b/README.md\n@@ -571,6 +571,7 @@ git push heroku master\n + Capybara\u3068\u306f\n + \u6e96\u5099\u4f5c\u696d\n + \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u66f4\u65b0\u6a5f\u80fd\u306e\u30c6\u30b9\u30c8\n++ \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u65b0\u898f\u767b\u9332\u6a5f\u80fd\u306e\u30c6\u30b9\u30c8\n\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u6a5f\u80fd\u306e\u6539\u826f\n #### ActiveSupport::Concern\u306b\u3088\u308b\u30b3\u30fc\u30c9\u5171\u6709\ndiff --git a/spec/features/staff/customer_nanagement_spec.rb b/spec/features/staff/customer_nanagement_spec.rb\nindex fc8c27b..ae8a741 100644\n--- a/spec/features/staff/customer_nanagement_spec.rb\n+++ b/spec/features/staff/customer_nanagement_spec.rb\n@@ -31,4 +31,44 @@ feature 'Customer management by staff' do\n     expect(customer.home_address.postal_code).to eq('99999999')\n     expect(customer.work_address.company_name).to eq('\u30c6\u30b9\u30c8')\n   end\n+\n+  # \u8077\u54e1\u304c\u9867\u5ba2\u3001\u81ea\u5b85\u4f4f\u6240\u3001\u52e4\u52d9\u5148\u3092\u767b\u9332\u3059\u308b\n+  scenario 'Employees register customer, home address, work place' do\n+    click_link I18n.t('staff.top.dashboard.staff_customers')\n+\n+    first('.Table__links').click_link I18n.t('staff.customers.index.new')\n+\n+    fill_in I18n.t('activerecord.attributes.customer.email'), with: 'test@example.jp'\n+    fill_in I18n.t('activerecord.attributes.customer.hashed_password'), with: 'pw'\n+    fill_in 'form_customer_family_name', with: '\u8a66\u9a13'\n+    fill_in 'form_customer_given_name', with: '\u82b1\u5b50'\n+    fill_in 'form_customer_family_name_kana', with: '\u30b7\u30b1\u30f3'\n+    fill_in 'form_customer_given_name_kana', with: '\u30cf\u30ca\u30b3'\n+    fill_in I18n.t('activerecord.attributes.customer.birthday'), with: '1970-01-01'\n+    choose '\u5973\u6027'\n+    within('fieldset#home-address-fields') do\n+      fill_in I18n.t('activerecord.attributes.home_address.postal_code'), with: '1000001'\n+      select '\u6771\u4eac\u90fd', from: I18n.t('activerecord.attributes.home_address.prefecture')\n+      fill_in I18n.t('activerecord.attributes.home_address.city'), with: '\u5343\u4ee3\u7530\u533a'\n+      fill_in I18n.t('activerecord.attributes.home_address.address1'), with: '\u5343\u4ee3\u75301-1-1'\n+      fill_in I18n.t('activerecord.attributes.home_address.address2'), with: ''\n+    end\n+    within('fieldset#work-address-fields') do\n+      fill_in I18n.t('activerecord.attributes.work_address.company_name'), with: '\u30c6\u30b9\u30c8'\n+      fill_in I18n.t('activerecord.attributes.work_address.division_name'), with: ''\n+      fill_in I18n.t('activerecord.attributes.work_address.postal_code'), with: ''\n+      select '', from: I18n.t('activerecord.attributes.work_address.prefecture')\n+      fill_in I18n.t('activerecord.attributes.work_address.city'), with: ''\n+      fill_in I18n.t('activerecord.attributes.work_address.address1'), with: ''\n+      fill_in I18n.t('activerecord.attributes.work_address.address2'), with: ''\n+    end\n+    click_button I18n.t('staff.customers.new.create')\n+\n+    new_customer = Customer.order(:id).last\n+    expect(new_customer.email).to eq('test@example.jp')\n+    expect(new_customer.birthday).to eq(Date.new(1970,1,1))\n+    expect(new_customer.gender).to eq('female')\n+    expect(new_customer.home_address.postal_code).to eq('1000001')\n+    expect(new_customer.work_address.company_name).to eq('\u30c6\u30b9\u30c8')\n+  end\n end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170206/#b002a0a","title":"\u30b3\u30df\u30c3\u30c8: b002a0a","text":""},{"location":"journal/20170206/#_66","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u66f4\u65b0\u6a5f\u80fd\u306e\u30c6\u30b9\u30c8 #14\n</code></pre>"},{"location":"journal/20170206/#_67","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .idea/.generators</li> <li>M .idea/.rakeTasks</li> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>M README.md</li> <li>M baukis-kai.iml</li> <li>M config/locales/views/ja.yml</li> <li>A spec/features/staff/customer_nanagement_spec.rb</li> <li>M spec/rails_helper.rb</li> <li>M spec/support/features_spec_helper.rb</li> </ul>"},{"location":"journal/20170206/#_68","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit b002a0a6b1d65e55b3fdb1c827cf8e055ed93167\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 6 14:13:18 2017 +0900\n\n    \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u66f4\u65b0\u6a5f\u80fd\u306e\u30c6\u30b9\u30c8 #14\n\ndiff --git a/.idea/.generators b/.idea/.generators\nindex a68204b..1618976 100644\n--- a/.idea/.generators\n+++ b/.idea/.generators\n@@ -5,4 +5,4 @@ You are allowed to:\n 2. Remove generators\n 3. Add installed generators\n To add new installed generators automatically delete this file and reload the project.\n---&gt;&lt;GeneratorsGroup&gt;&lt;Generator name=\"annotate:install\" /&gt;&lt;Generator name=\"assets\" /&gt;&lt;Generator name=\"channel\" /&gt;&lt;Generator name=\"coffee:assets\" /&gt;&lt;Generator name=\"controller\" /&gt;&lt;Generator name=\"erd:install\" /&gt;&lt;Generator name=\"factory_girl:model\" /&gt;&lt;Generator name=\"generator\" /&gt;&lt;Generator name=\"helper\" /&gt;&lt;Generator name=\"i18n\" /&gt;&lt;Generator name=\"i18n_locale\" /&gt;&lt;Generator name=\"i18n_translation\" /&gt;&lt;Generator name=\"integration_test\" /&gt;&lt;Generator name=\"jbuilder\" /&gt;&lt;Generator name=\"job\" /&gt;&lt;Generator name=\"js:assets\" /&gt;&lt;Generator name=\"kaminari:config\" /&gt;&lt;Generator name=\"kaminari:views\" /&gt;&lt;Generator name=\"mailer\" /&gt;&lt;Generator name=\"migration\" /&gt;&lt;Generator name=\"model\" /&gt;&lt;Generator name=\"rack:dev-mark:install\" /&gt;&lt;Generator name=\"resource\" /&gt;&lt;Generator name=\"rspec:controller\" /&gt;&lt;Generator name=\"rspec:feature\" /&gt;&lt;Generator name=\"rspec:helper\" /&gt;&lt;Generator name=\"rspec:install\" /&gt;&lt;Generator name=\"rspec:integration\" /&gt;&lt;Generator name=\"rspec:job\" /&gt;&lt;Generator name=\"rspec:mailer\" /&gt;&lt;Generator name=\"rspec:model\" /&gt;&lt;Generator name=\"rspec:observer\" /&gt;&lt;Generator name=\"rspec:request\" /&gt;&lt;Generator name=\"rspec:scaffold\" /&gt;&lt;Generator name=\"rspec:view\" /&gt;&lt;Generator name=\"scaffold\" /&gt;&lt;Generator name=\"scaffold_controller\" /&gt;&lt;Generator name=\"task\" /&gt;&lt;Generator name=\"test_unit:controller\" /&gt;&lt;Generator name=\"test_unit:generator\" /&gt;&lt;Generator name=\"test_unit:helper\" /&gt;&lt;Generator name=\"test_unit:integration\" /&gt;&lt;Generator name=\"test_unit:job\" /&gt;&lt;Generator name=\"test_unit:mailer\" /&gt;&lt;Generator name=\"test_unit:model\" /&gt;&lt;Generator name=\"test_unit:plugin\" /&gt;&lt;Generator name=\"test_unit:scaffold\" /&gt;&lt;/GeneratorsGroup&gt;&lt;/Settings&gt;\n+--&gt;&lt;GeneratorsGroup&gt;&lt;Generator name=\"active_record:migration\" /&gt;&lt;Generator name=\"active_record:model\" /&gt;&lt;Generator name=\"active_record:observer\" /&gt;&lt;Generator name=\"active_record:session_migration\" /&gt;&lt;Generator name=\"controller\" /&gt;&lt;Generator name=\"erb:controller\" /&gt;&lt;Generator name=\"erb:mailer\" /&gt;&lt;Generator name=\"erb:scaffold\" /&gt;&lt;Generator name=\"generator\" /&gt;&lt;Generator name=\"helper\" /&gt;&lt;Generator name=\"integration_test\" /&gt;&lt;Generator name=\"mailer\" /&gt;&lt;Generator name=\"metal\" /&gt;&lt;Generator name=\"migration\" /&gt;&lt;Generator name=\"model\" /&gt;&lt;Generator name=\"model_subclass\" /&gt;&lt;Generator name=\"observer\" /&gt;&lt;Generator name=\"performance_test\" /&gt;&lt;Generator name=\"plugin\" /&gt;&lt;Generator name=\"resource\" /&gt;&lt;Generator name=\"scaffold\" /&gt;&lt;Generator name=\"scaffold_controller\" /&gt;&lt;Generator name=\"session_migration\" /&gt;&lt;Generator name=\"stylesheets\" /&gt;&lt;Generator name=\"test_unit:controller\" /&gt;&lt;Generator name=\"test_unit:helper\" /&gt;&lt;Generator name=\"test_unit:integration\" /&gt;&lt;Generator name=\"test_unit:mailer\" /&gt;&lt;Generator name=\"test_unit:model\" /&gt;&lt;Generator name=\"test_unit:observer\" /&gt;&lt;Generator name=\"test_unit:performance\" /&gt;&lt;Generator name=\"test_unit:plugin\" /&gt;&lt;Generator name=\"test_unit:scaffold\" /&gt;&lt;/GeneratorsGroup&gt;&lt;/Settings&gt;\ndiff --git a/.idea/.rakeTasks b/.idea/.rakeTasks\nindex fdc289b..435f846 100644\n--- a/.idea/.rakeTasks\n+++ b/.idea/.rakeTasks\n@@ -4,4 +4,4 @@ You are allowed to:\n 1. Remove rake task\n 2. Add existing rake tasks\n To add existing rake tasks automatically delete this file and reload the project.\n---&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rake\"&gt;&lt;RakeTask description=\"List versions of all Rails frameworks and the environment\" fullCmd=\"about\" taksId=\"about\" /&gt;&lt;RakeTask description=\"Add schema information (as comments) to model and fixture files\" fullCmd=\"annotate_models\" taksId=\"annotate_models\" /&gt;&lt;RakeTask description=\"Adds the route map to routes.rb\" fullCmd=\"annotate_routes\" taksId=\"annotate_routes\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"app\"&gt;&lt;RakeTask description=\"Applies the template supplied by LOCATION=(/path/to/template) or URL\" fullCmd=\"app:template\" taksId=\"template\" /&gt;&lt;RakeTask description=\"Update configs and some other initially generated files (or use just update:configs or update:bin)\" fullCmd=\"app:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:configs\" taksId=\"configs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:upgrade_guide_info\" taksId=\"upgrade_guide_info\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"assets\"&gt;&lt;RakeTask description=\"Remove old compiled assets\" fullCmd=\"assets:clean[keep]\" taksId=\"clean[keep]\" /&gt;&lt;RakeTask description=\"Remove compiled assets\" fullCmd=\"assets:clobber\" taksId=\"clobber\" /&gt;&lt;RakeTask description=\"Load asset compile environment\" fullCmd=\"assets:environment\" taksId=\"environment\" /&gt;&lt;RakeTask description=\"Compile all the assets named in config.assets.precompile\" fullCmd=\"assets:precompile\" taksId=\"precompile\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"assets:clean\" taksId=\"clean\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache_digests\"&gt;&lt;RakeTask description=\"Lookup first-level dependencies for TEMPLATE (like messages/show or comments/_comment.html)\" fullCmd=\"cache_digests:dependencies\" taksId=\"dependencies\" /&gt;&lt;RakeTask description=\"Lookup nested dependencies for TEMPLATE (like messages/show or comments/_comment.html)\" fullCmd=\"cache_digests:nested_dependencies\" taksId=\"nested_dependencies\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"db\"&gt;&lt;RakeTask description=\"Creates the database from DATABASE_URL or config/database.yml for the current RAILS_ENV (use db:create:all to create all databases in the config). Without RAILS_ENV or when RAILS_ENV is development, it defaults to creating the development and test databases\" fullCmd=\"db:create\" taksId=\"create\" /&gt;&lt;RakeTask description=\"Drops the database from DATABASE_URL or config/database.yml for the current RAILS_ENV (use db:drop:all to drop all databases in the config). Without RAILS_ENV or when RAILS_ENV is development, it defaults to dropping the development and test databases\" fullCmd=\"db:drop\" taksId=\"drop\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"environment\"&gt;&lt;RakeTask description=\"Set the environment value for the database\" fullCmd=\"db:environment:set\" taksId=\"set\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"fixtures\"&gt;&lt;RakeTask description=\"Loads fixtures into the current environment's database\" fullCmd=\"db:fixtures:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:fixtures:identify\" taksId=\"identify\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Migrate the database (options: VERSION=x, VERBOSE=false, SCOPE=blog)\" fullCmd=\"db:migrate\" taksId=\"migrate\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"migrate\"&gt;&lt;RakeTask description=\"Display status of migrations\" fullCmd=\"db:migrate:status\" taksId=\"status\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:change\" taksId=\"change\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:down\" taksId=\"down\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:redo\" taksId=\"redo\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:reset\" taksId=\"reset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:up\" taksId=\"up\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Rolls the schema back to the previous version (specify steps w/ STEP=n)\" fullCmd=\"db:rollback\" taksId=\"rollback\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"schema\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"Clears a db/schema_cache.dump file\" fullCmd=\"db:schema:cache:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"Creates a db/schema_cache.dump file\" fullCmd=\"db:schema:cache:dump\" taksId=\"dump\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Creates a db/schema.rb file that is portable against any DB supported by Active Record\" fullCmd=\"db:schema:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"Loads a schema.rb file into the database\" fullCmd=\"db:schema:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:schema:load_if_ruby\" taksId=\"load_if_ruby\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Loads the seed data from db/seeds.rb\" fullCmd=\"db:seed\" taksId=\"seed\" /&gt;&lt;RakeTask description=\"Creates the database, loads the schema, and initializes with the seed data (use db:reset to also drop the database first)\" fullCmd=\"db:setup\" taksId=\"setup\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"structure\"&gt;&lt;RakeTask description=\"Dumps the database structure to db/structure.sql\" fullCmd=\"db:structure:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"Recreates the databases from the structure.sql file\" fullCmd=\"db:structure:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:structure:load_if_sql\" taksId=\"load_if_sql\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Retrieves the current schema version number\" fullCmd=\"db:version\" taksId=\"version\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:_dump\" taksId=\"_dump\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:abort_if_pending_migrations\" taksId=\"abort_if_pending_migrations\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:charset\" taksId=\"charset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:check_protected_environments\" taksId=\"check_protected_environments\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:collation\" taksId=\"collation\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"create\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:create:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"drop\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:_unsafe\" taksId=\"_unsafe\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:forward\" taksId=\"forward\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:load_config\" taksId=\"load_config\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge\" taksId=\"purge\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"purge\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:reset\" taksId=\"reset\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone\" taksId=\"clone\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_schema\" taksId=\"clone_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_structure\" taksId=\"clone_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:deprecated\" taksId=\"deprecated\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_schema\" taksId=\"load_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_structure\" taksId=\"load_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:purge\" taksId=\"purge\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"dev\"&gt;&lt;RakeTask description=\"Toggle development mode caching on/off\" fullCmd=\"dev:cache\" taksId=\"cache\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Generate an Entity-Relationship Diagram based on your models\" fullCmd=\"erd\" taksId=\"erd\" /&gt;&lt;RakeTask description=\"Print out all defined initializers in the order they are invoked by Rails\" fullCmd=\"initializers\" taksId=\"initializers\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"log\"&gt;&lt;RakeTask description=\"Truncates all/specified *.log files in log/ to zero bytes (specify which logs with LOGS=test,development)\" fullCmd=\"log:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Prints out your Rack middleware stack\" fullCmd=\"middleware\" taksId=\"middleware\" /&gt;&lt;RakeTask description=\"Enumerate all annotations (use notes:optimize, :fixme, :todo for focus)\" fullCmd=\"notes\" taksId=\"notes\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"notes\"&gt;&lt;RakeTask description=\"Enumerate a custom annotation, specify with ANNOTATION=CUSTOM\" fullCmd=\"notes:custom\" taksId=\"custom\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:fixme\" taksId=\"fixme\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:optimize\" taksId=\"optimize\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:todo\" taksId=\"todo\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Remove schema information from model and fixture files\" fullCmd=\"remove_annotation\" taksId=\"remove_annotation\" /&gt;&lt;RakeTask description=\"Removes the route map from routes.rb\" fullCmd=\"remove_routes\" taksId=\"remove_routes\" /&gt;&lt;RakeTask description=\"Restart app by touching tmp/restart.txt\" fullCmd=\"restart\" taksId=\"restart\" /&gt;&lt;RakeTask description=\"Print out all defined routes in match order, with names\" fullCmd=\"routes\" taksId=\"routes\" /&gt;&lt;RakeTask description=\"Generate a cryptographically secure secret key (this is typically used to generate a secret for cookie sessions)\" fullCmd=\"secret\" taksId=\"secret\" /&gt;&lt;RakeTask description=\"Run all specs in spec directory (excluding plugin specs)\" fullCmd=\"spec\" taksId=\"spec\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"spec\"&gt;&lt;RakeTask description=\"Run the code examples in spec/controllers\" fullCmd=\"spec:controllers\" taksId=\"controllers\" /&gt;&lt;RakeTask description=\"Run the code examples in spec/models\" fullCmd=\"spec:models\" taksId=\"models\" /&gt;&lt;RakeTask description=\"Run the code examples in spec/routing\" fullCmd=\"spec:routing\" taksId=\"routing\" /&gt;&lt;RakeTask description=\"Run the code examples in spec/services\" fullCmd=\"spec:services\" taksId=\"services\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"spec:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"spec:statsetup\" taksId=\"statsetup\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Report code statistics (KLOCs, etc) from the application or engine\" fullCmd=\"stats\" taksId=\"stats\" /&gt;&lt;RakeTask description=\"Runs all tests in test folder\" fullCmd=\"test\" taksId=\"test\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"Run tests quickly, but also reset db\" fullCmd=\"test:db\" taksId=\"db\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:controllers\" taksId=\"controllers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:functionals\" taksId=\"functionals\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:generators\" taksId=\"generators\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:helpers\" taksId=\"helpers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:integration\" taksId=\"integration\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:jobs\" taksId=\"jobs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:mailers\" taksId=\"mailers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:models\" taksId=\"models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:run\" taksId=\"run\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:units\" taksId=\"units\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"time\"&gt;&lt;RakeTask description=\"List all time zones, list by two-letter country code (`rails time:zones[US]`), or list by UTC offset (`rails time:zones[-8]`)\" fullCmd=\"time:zones[country_or_offset]\" taksId=\"zones[country_or_offset]\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones\" taksId=\"zones\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"zones\"&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:all\" taksId=\"all\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:local\" taksId=\"local\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:us\" taksId=\"us\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"tmp\"&gt;&lt;RakeTask description=\"Clear cache and socket files from tmp/ (narrow w/ tmp:cache:clear, tmp:sockets:clear)\" fullCmd=\"tmp:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"Creates tmp directories for cache, sockets, and pids\" fullCmd=\"tmp:create\" taksId=\"create\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:cache:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"pids\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:pids:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"sockets\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:sockets:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"default\" taksId=\"default\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"environment\" taksId=\"environment\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"erd\"&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:generate\" taksId=\"generate\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:load_models\" taksId=\"load_models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:options\" taksId=\"options\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rails\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:template\" taksId=\"template\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:configs\" taksId=\"configs\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"railties\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"install\"&gt;&lt;RakeTask description=\"\" fullCmd=\"railties:install:migrations\" taksId=\"migrations\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"set_annotation_options\" taksId=\"set_annotation_options\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp\" taksId=\"tmp\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache\" taksId=\"tmp/cache\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache/assets\" taksId=\"tmp/cache/assets\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/pids\" taksId=\"tmp/pids\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/sockets\" taksId=\"tmp/sockets\" /&gt;&lt;/RakeGroup&gt;&lt;/Settings&gt;\n+--&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rake\"&gt;&lt;RakeTask description=\"List versions of all Rails frameworks and the environment\" fullCmd=\"about\" taksId=\"about\" /&gt;&lt;RakeTask description=\"Add schema information (as comments) to model and fixture files\" fullCmd=\"annotate_models\" taksId=\"annotate_models\" /&gt;&lt;RakeTask description=\"Adds the route map to routes.rb\" fullCmd=\"annotate_routes\" taksId=\"annotate_routes\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"app\"&gt;&lt;RakeTask description=\"Applies the template supplied by LOCATION=(/path/to/template) or URL\" fullCmd=\"app:template\" taksId=\"template\" /&gt;&lt;RakeTask description=\"Update configs and some other initially generated files (or use just update:configs or update:bin)\" fullCmd=\"app:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:configs\" taksId=\"configs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:upgrade_guide_info\" taksId=\"upgrade_guide_info\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"assets\"&gt;&lt;RakeTask description=\"Remove old compiled assets\" fullCmd=\"assets:clean[keep]\" taksId=\"clean[keep]\" /&gt;&lt;RakeTask description=\"Remove compiled assets\" fullCmd=\"assets:clobber\" taksId=\"clobber\" /&gt;&lt;RakeTask description=\"Load asset compile environment\" fullCmd=\"assets:environment\" taksId=\"environment\" /&gt;&lt;RakeTask description=\"Compile all the assets named in config.assets.precompile\" fullCmd=\"assets:precompile\" taksId=\"precompile\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"assets:clean\" taksId=\"clean\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache_digests\"&gt;&lt;RakeTask description=\"Lookup first-level dependencies for TEMPLATE (like messages/show or comments/_comment.html)\" fullCmd=\"cache_digests:dependencies\" taksId=\"dependencies\" /&gt;&lt;RakeTask description=\"Lookup nested dependencies for TEMPLATE (like messages/show or comments/_comment.html)\" fullCmd=\"cache_digests:nested_dependencies\" taksId=\"nested_dependencies\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"db\"&gt;&lt;RakeTask description=\"Creates the database from DATABASE_URL or config/database.yml for the current RAILS_ENV (use db:create:all to create all databases in the config). Without RAILS_ENV or when RAILS_ENV is development, it defaults to creating the development and test databases\" fullCmd=\"db:create\" taksId=\"create\" /&gt;&lt;RakeTask description=\"Drops the database from DATABASE_URL or config/database.yml for the current RAILS_ENV (use db:drop:all to drop all databases in the config). Without RAILS_ENV or when RAILS_ENV is development, it defaults to dropping the development and test databases\" fullCmd=\"db:drop\" taksId=\"drop\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"environment\"&gt;&lt;RakeTask description=\"Set the environment value for the database\" fullCmd=\"db:environment:set\" taksId=\"set\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"fixtures\"&gt;&lt;RakeTask description=\"Loads fixtures into the current environment's database\" fullCmd=\"db:fixtures:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:fixtures:identify\" taksId=\"identify\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Migrate the database (options: VERSION=x, VERBOSE=false, SCOPE=blog)\" fullCmd=\"db:migrate\" taksId=\"migrate\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"migrate\"&gt;&lt;RakeTask description=\"Display status of migrations\" fullCmd=\"db:migrate:status\" taksId=\"status\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:change\" taksId=\"change\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:down\" taksId=\"down\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:redo\" taksId=\"redo\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:reset\" taksId=\"reset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:up\" taksId=\"up\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Rolls the schema back to the previous version (specify steps w/ STEP=n)\" fullCmd=\"db:rollback\" taksId=\"rollback\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"schema\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"Clears a db/schema_cache.dump file\" fullCmd=\"db:schema:cache:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"Creates a db/schema_cache.dump file\" fullCmd=\"db:schema:cache:dump\" taksId=\"dump\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Creates a db/schema.rb file that is portable against any DB supported by Active Record\" fullCmd=\"db:schema:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"Loads a schema.rb file into the database\" fullCmd=\"db:schema:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:schema:load_if_ruby\" taksId=\"load_if_ruby\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Loads the seed data from db/seeds.rb\" fullCmd=\"db:seed\" taksId=\"seed\" /&gt;&lt;RakeTask description=\"Creates the database, loads the schema, and initializes with the seed data (use db:reset to also drop the database first)\" fullCmd=\"db:setup\" taksId=\"setup\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"structure\"&gt;&lt;RakeTask description=\"Dumps the database structure to db/structure.sql\" fullCmd=\"db:structure:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"Recreates the databases from the structure.sql file\" fullCmd=\"db:structure:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:structure:load_if_sql\" taksId=\"load_if_sql\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Retrieves the current schema version number\" fullCmd=\"db:version\" taksId=\"version\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:_dump\" taksId=\"_dump\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:abort_if_pending_migrations\" taksId=\"abort_if_pending_migrations\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:charset\" taksId=\"charset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:check_protected_environments\" taksId=\"check_protected_environments\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:collation\" taksId=\"collation\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"create\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:create:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"drop\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:_unsafe\" taksId=\"_unsafe\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:forward\" taksId=\"forward\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:load_config\" taksId=\"load_config\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge\" taksId=\"purge\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"purge\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:reset\" taksId=\"reset\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone\" taksId=\"clone\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_schema\" taksId=\"clone_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_structure\" taksId=\"clone_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:deprecated\" taksId=\"deprecated\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_schema\" taksId=\"load_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_structure\" taksId=\"load_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:purge\" taksId=\"purge\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"dev\"&gt;&lt;RakeTask description=\"Toggle development mode caching on/off\" fullCmd=\"dev:cache\" taksId=\"cache\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Generate an Entity-Relationship Diagram based on your models\" fullCmd=\"erd\" taksId=\"erd\" /&gt;&lt;RakeTask description=\"Print out all defined initializers in the order they are invoked by Rails\" fullCmd=\"initializers\" taksId=\"initializers\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"log\"&gt;&lt;RakeTask description=\"Truncates all/specified *.log files in log/ to zero bytes (specify which logs with LOGS=test,development)\" fullCmd=\"log:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Prints out your Rack middleware stack\" fullCmd=\"middleware\" taksId=\"middleware\" /&gt;&lt;RakeTask description=\"Enumerate all annotations (use notes:optimize, :fixme, :todo for focus)\" fullCmd=\"notes\" taksId=\"notes\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"notes\"&gt;&lt;RakeTask description=\"Enumerate a custom annotation, specify with ANNOTATION=CUSTOM\" fullCmd=\"notes:custom\" taksId=\"custom\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:fixme\" taksId=\"fixme\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:optimize\" taksId=\"optimize\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:todo\" taksId=\"todo\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Remove schema information from model and fixture files\" fullCmd=\"remove_annotation\" taksId=\"remove_annotation\" /&gt;&lt;RakeTask description=\"Removes the route map from routes.rb\" fullCmd=\"remove_routes\" taksId=\"remove_routes\" /&gt;&lt;RakeTask description=\"Restart app by touching tmp/restart.txt\" fullCmd=\"restart\" taksId=\"restart\" /&gt;&lt;RakeTask description=\"Print out all defined routes in match order, with names\" fullCmd=\"routes\" taksId=\"routes\" /&gt;&lt;RakeTask description=\"Generate a cryptographically secure secret key (this is typically used to generate a secret for cookie sessions)\" fullCmd=\"secret\" taksId=\"secret\" /&gt;&lt;RakeTask description=\"Run all specs in spec directory (excluding plugin specs)\" fullCmd=\"spec\" taksId=\"spec\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"spec\"&gt;&lt;RakeTask description=\"Run the code examples in spec/controllers\" fullCmd=\"spec:controllers\" taksId=\"controllers\" /&gt;&lt;RakeTask description=\"Run the code examples in spec/features\" fullCmd=\"spec:features\" taksId=\"features\" /&gt;&lt;RakeTask description=\"Run the code examples in spec/models\" fullCmd=\"spec:models\" taksId=\"models\" /&gt;&lt;RakeTask description=\"Run the code examples in spec/routing\" fullCmd=\"spec:routing\" taksId=\"routing\" /&gt;&lt;RakeTask description=\"Run the code examples in spec/services\" fullCmd=\"spec:services\" taksId=\"services\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"spec:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"spec:statsetup\" taksId=\"statsetup\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Report code statistics (KLOCs, etc) from the application or engine\" fullCmd=\"stats\" taksId=\"stats\" /&gt;&lt;RakeTask description=\"Runs all tests in test folder\" fullCmd=\"test\" taksId=\"test\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"Run tests quickly, but also reset db\" fullCmd=\"test:db\" taksId=\"db\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:controllers\" taksId=\"controllers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:functionals\" taksId=\"functionals\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:generators\" taksId=\"generators\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:helpers\" taksId=\"helpers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:integration\" taksId=\"integration\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:jobs\" taksId=\"jobs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:mailers\" taksId=\"mailers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:models\" taksId=\"models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:run\" taksId=\"run\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:units\" taksId=\"units\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"time\"&gt;&lt;RakeTask description=\"List all time zones, list by two-letter country code (`rails time:zones[US]`), or list by UTC offset (`rails time:zones[-8]`)\" fullCmd=\"time:zones[country_or_offset]\" taksId=\"zones[country_or_offset]\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones\" taksId=\"zones\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"zones\"&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:all\" taksId=\"all\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:local\" taksId=\"local\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:us\" taksId=\"us\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"tmp\"&gt;&lt;RakeTask description=\"Clear cache and socket files from tmp/ (narrow w/ tmp:cache:clear, tmp:sockets:clear)\" fullCmd=\"tmp:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"Creates tmp directories for cache, sockets, and pids\" fullCmd=\"tmp:create\" taksId=\"create\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:cache:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"pids\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:pids:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"sockets\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:sockets:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"default\" taksId=\"default\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"environment\" taksId=\"environment\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"erd\"&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:generate\" taksId=\"generate\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:load_models\" taksId=\"load_models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:options\" taksId=\"options\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rails\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:template\" taksId=\"template\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:configs\" taksId=\"configs\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"railties\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"install\"&gt;&lt;RakeTask description=\"\" fullCmd=\"railties:install:migrations\" taksId=\"migrations\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"set_annotation_options\" taksId=\"set_annotation_options\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp\" taksId=\"tmp\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache\" taksId=\"tmp/cache\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache/assets\" taksId=\"tmp/cache/assets\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/pids\" taksId=\"tmp/pids\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/sockets\" taksId=\"tmp/sockets\" /&gt;&lt;/RakeGroup&gt;&lt;/Settings&gt;\ndiff --git a/Gemfile b/Gemfile\nindex f932a45..4da1b83 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -68,7 +68,7 @@ end\n\n group :test do\n   gem 'faker', '~&gt; 1.4.3'\n-  gem 'capybara', '~&gt; 2.5.0'\n+  gem 'capybara', '~&gt; 2.8'\n   gem 'capybara-webkit'\n   gem 'database_cleaner', '~&gt; 1.3.0'\n   gem 'launchy', '~&gt; 2.4.2'\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex ca95700..2610cc3 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -61,7 +61,8 @@ GEM\n     bootstrap_form (2.5.3)\n     builder (3.2.3)\n     byebug (9.0.6)\n-    capybara (2.5.0)\n+    capybara (2.12.0)\n+      addressable\n       mime-types (&gt;= 1.16)\n       nokogiri (&gt;= 1.3.3)\n       rack (&gt;= 1.0.0)\n@@ -70,8 +71,8 @@ GEM\n     capybara-screenshot (1.0.14)\n       capybara (&gt;= 1.0, &lt; 3)\n       launchy\n-    capybara-webkit (1.11.1)\n-      capybara (&gt;= 2.3.0, &lt; 2.8.0)\n+    capybara-webkit (1.12.0)\n+      capybara (&gt;= 2.3.0, &lt; 2.13.0)\n       json\n     childprocess (0.5.9)\n       ffi (~&gt; 1.0, &gt;= 1.0.11)\n@@ -148,7 +149,7 @@ GEM\n       thor (&gt;= 0.14, &lt; 2.0)\n     jquery-ui-rails (5.0.5)\n       railties (&gt;= 3.2.16)\n-    json (2.0.2)\n+    json (2.0.3)\n     kaminari (0.17.0)\n       actionpack (&gt;= 3.0.0)\n       activesupport (&gt;= 3.0.0)\n@@ -320,7 +321,7 @@ DEPENDENCIES\n   bootstrap3-datetimepicker-rails\n   bootstrap_form\n   byebug\n-  capybara (~&gt; 2.5.0)\n+  capybara (~&gt; 2.8)\n   capybara-screenshot\n   capybara-webkit\n   coffee-rails (~&gt; 4.2)\ndiff --git a/README.md b/README.md\nindex 98acbab..effb203 100644\n--- a/README.md\n+++ b/README.md\n@@ -570,6 +570,7 @@ git push heroku master\n #### Capybara\n + Capybara\u3068\u306f\n + \u6e96\u5099\u4f5c\u696d\n++ \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u66f4\u65b0\u6a5f\u80fd\u306e\u30c6\u30b9\u30c8\n\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u6a5f\u80fd\u306e\u6539\u826f\n #### ActiveSupport::Concern\u306b\u3088\u308b\u30b3\u30fc\u30c9\u5171\u6709\ndiff --git a/baukis-kai.iml b/baukis-kai.iml\nindex 7df2722..008ed4e 100644\n--- a/baukis-kai.iml\n+++ b/baukis-kai.iml\n@@ -83,6 +83,7 @@\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jbuilder (v2.6.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jquery-rails (v4.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jquery-ui-rails (v5.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"json (v2.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"kaminari (v0.17.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"launchy (v2.4.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"listen (v3.0.8, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 01db59a..398aa73 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -60,7 +60,7 @@ ja:\n         cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n       edit:\n         title: '\u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u7de8\u96c6'\n-        update: '\u767b\u9332'\n+        update: '\u66f4\u65b0'\n         cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n     accounts:\n       show:\ndiff --git a/spec/features/staff/customer_nanagement_spec.rb b/spec/features/staff/customer_nanagement_spec.rb\nnew file mode 100644\nindex 0000000..fc8c27b\n--- /dev/null\n+++ b/spec/features/staff/customer_nanagement_spec.rb\n@@ -0,0 +1,34 @@\n+require 'rails_helper'\n+\n+# \u8077\u54e1\u306b\u3088\u308b\u9867\u5ba2\u7ba1\u7406\n+feature 'Customer management by staff' do\n+  include FeaturesSpecHelper\n+  let(:staff_member) { create(:staff_member) }\n+  let!(:customer) { create(:customer) }\n+\n+  before do\n+    switch_namespace(:staff)\n+    login_as_staff_member(staff_member)\n+  end\n+\n+  # \u8077\u54e1\u304c\u9867\u5ba2\u3001\u81ea\u5b85\u4f4f\u6240\u3001\u52e4\u52d9\u5148\u3092\u66f4\u65b0\u3059\u308b\n+  scenario 'Staff update customer, home address, work place' do\n+    click_link I18n.t('staff.top.dashboard.staff_customers')\n+\n+    first('table.Table__body--listing').click_link I18n.t('staff.customers.index.edit')\n+\n+    fill_in I18n.t('activerecord.attributes.customer.email'), with: 'test@example.jp'\n+    within('fieldset#home-address-fields') do\n+      fill_in I18n.t('activerecord.attributes.home_address.postal_code'), with: '99999999'\n+    end\n+    within('fieldset#work-address-fields') do\n+      fill_in I18n.t('activerecord.attributes.work_address.company_name'), with: '\u30c6\u30b9\u30c8'\n+    end\n+    click_button I18n.t('staff.customers.edit.update')\n+\n+    customer.reload\n+    expect(customer.email).to eq('test@example.jp')\n+    expect(customer.home_address.postal_code).to eq('99999999')\n+    expect(customer.work_address.company_name).to eq('\u30c6\u30b9\u30c8')\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/spec/rails_helper.rb b/spec/rails_helper.rb\nindex 975dc23..8e3f5b2 100644\n--- a/spec/rails_helper.rb\n+++ b/spec/rails_helper.rb\n@@ -22,6 +22,8 @@ require 'rspec/rails'\n #\n Dir[Rails.root.join('spec/support/**/*.rb')].each { |f| require f }\n\n+Capybara.javascript_driver = :webkit\n+\n # Checks for pending migration and applies them before tests are run.\n # If you are not using ActiveRecord, you can remove this line.\n ActiveRecord::Migration.maintain_test_schema!\ndiff --git a/spec/support/features_spec_helper.rb b/spec/support/features_spec_helper.rb\nindex d993975..54314d5 100644\n--- a/spec/support/features_spec_helper.rb\n+++ b/spec/support/features_spec_helper.rb\n@@ -1,12 +1,12 @@\n module FeaturesSpecHelper\n-  def swith_namespace(namespace)\n+  def switch_namespace(namespace)\n     config = Rails.application.config.baukis_kai\n-    Capybara.app_host = 'http://' + config[:namespace][:host]\n+    Capybara.app_host = 'http://' + config[namespace][:host]\n   end\n\n   def login_as_staff_member(staff_member, password = 'pw')\n     visit staff_login_path\n-    within('#Login--staff') do\n+    within('.Login--staff') do\n       fill_in I18n.t('activemodel.attributes.staff/login_form.email'), with: staff_member.email\n       fill_in I18n.t('activemodel.attributes.staff/login_form.password'), with: password\n       click_button I18n.t('staff.sessions.new.submit')\n</code></pre>"},{"location":"journal/20170206/#ce1c09a","title":"\u30b3\u30df\u30c3\u30c8: ce1c09a","text":""},{"location":"journal/20170206/#_69","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6e96\u5099\u4f5c\u696d #14\n</code></pre>"},{"location":"journal/20170206/#_70","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M spec/factories/addresses.rb</li> <li>M spec/factories/customers.rb</li> <li>A spec/support/features_spec_helper.rb</li> </ul>"},{"location":"journal/20170206/#_71","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit ce1c09aab7f7c9217b5e2db416b4b7e0ebef5805\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 6 13:19:39 2017 +0900\n\n    \u6e96\u5099\u4f5c\u696d #14\n\ndiff --git a/README.md b/README.md\nindex fb9bb3f..98acbab 100644\n--- a/README.md\n+++ b/README.md\n@@ -568,6 +568,9 @@ git push heroku master\n\n ### Capybara\n #### Capybara\n++ Capybara\u3068\u306f\n++ \u6e96\u5099\u4f5c\u696d\n+\n #### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u6a5f\u80fd\u306e\u6539\u826f\n #### ActiveSupport::Concern\u306b\u3088\u308b\u30b3\u30fc\u30c9\u5171\u6709\n\ndiff --git a/spec/factories/addresses.rb b/spec/factories/addresses.rb\nindex 8b961d6..2a866b7 100644\n--- a/spec/factories/addresses.rb\n+++ b/spec/factories/addresses.rb\n@@ -22,7 +22,21 @@\n #\n\n FactoryGirl.define do\n-  factory :address do\n-    \n+  factory :home_address do\n+    postal_code '10000000'\n+    prefecture '\u6771\u4eac\u90fd'\n+    city '\u5343\u4ee3\u7530\u533a'\n+    address1 '\u8a66\u9a131-1-1'\n+    address2 ''\n+  end\n+\n+  factory :work_address do\n+    company_name '\u30c6\u30b9\u30c8'\n+    division_name '\u958b\u767a\u90e8'\n+    postal_code '10500000'\n+    prefecture '\u6771\u4eac\u90fd'\n+    city '\u6e2f\u533a'\n+    address1 '\u8a66\u9a131-1-1'\n+    address2 ''\n   end\n end\ndiff --git a/spec/factories/customers.rb b/spec/factories/customers.rb\nindex 98d55fd..9cec838 100644\n--- a/spec/factories/customers.rb\n+++ b/spec/factories/customers.rb\n@@ -23,6 +23,15 @@\n\n FactoryGirl.define do\n   factory :customer do\n-    \n+    sequence(:email) { |n| \"member#{n}@example.jp\"}\n+    family_name '\u5c71\u7530'\n+    given_name '\u592a\u90ce'\n+    family_name_kana '\u30e4\u30de\u30c0'\n+    given_name_kana '\u30bf\u30ed\u30a6'\n+    password 'pw'\n+    birthday Date.new(1970,1,1)\n+    gender 'male'\n+    association :home_address, strategy: :build\n+    association :work_address, strategy: :build\n   end\n end\ndiff --git a/spec/support/features_spec_helper.rb b/spec/support/features_spec_helper.rb\nnew file mode 100644\nindex 0000000..d993975\n--- /dev/null\n+++ b/spec/support/features_spec_helper.rb\n@@ -0,0 +1,15 @@\n+module FeaturesSpecHelper\n+  def swith_namespace(namespace)\n+    config = Rails.application.config.baukis_kai\n+    Capybara.app_host = 'http://' + config[:namespace][:host]\n+  end\n+\n+  def login_as_staff_member(staff_member, password = 'pw')\n+    visit staff_login_path\n+    within('#Login--staff') do\n+      fill_in I18n.t('activemodel.attributes.staff/login_form.email'), with: staff_member.email\n+      fill_in I18n.t('activemodel.attributes.staff/login_form.password'), with: password\n+      click_button I18n.t('staff.sessions.new.submit')\n+    end\n+  end\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170206/#a15c7f3","title":"\u30b3\u30df\u30c3\u30c8: a15c7f3","text":""},{"location":"journal/20170206/#_72","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Capybara #14\n</code></pre>"},{"location":"journal/20170206/#_73","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170206/#_74","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit a15c7f3653a460a2fdec8b7fb9c317b21e5228e0\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 6 12:59:23 2017 +0900\n\n    Capybara #14\n\ndiff --git a/README.md b/README.md\nindex ef5ff0b..fb9bb3f 100644\n--- a/README.md\n+++ b/README.md\n@@ -567,6 +567,10 @@ git push heroku master\n + destroy\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u5b9f\u88c5\n\n ### Capybara\n+#### Capybara\n+#### \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u6a5f\u80fd\u306e\u6539\u826f\n+#### ActiveSupport::Concern\u306b\u3088\u308b\u30b3\u30fc\u30c9\u5171\u6709\n+\n ### \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n ### \u691c\u7d22\u30d5\u30a9\u30fc\u30e0\n **[\u2b06 back to top](#\u69cb\u6210)**\n</code></pre>"},{"location":"journal/20170207/","title":"\u4f5c\u696d\u5c65\u6b74 2017-02-07","text":""},{"location":"journal/20170207/#_1","title":"\u6982\u8981","text":"<p>2017-02-07\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u65e5\u306f\u4e3b\u306b\u300c\u9867\u5ba2\u691c\u7d22\u6a5f\u80fd\u300d\u306e\u5b9f\u88c5\u3092\u884c\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170207/#_2","title":"\u5b9f\u88c5\u5185\u5bb9\u306e\u8aac\u660e","text":""},{"location":"journal/20170207/#_3","title":"\u9867\u5ba2\u691c\u7d22\u6a5f\u80fd","text":"<p>\u8077\u54e1\u304c\u9867\u5ba2\u60c5\u5831\u3092\u52b9\u7387\u7684\u306b\u691c\u7d22\u3067\u304d\u308b\u3088\u3046\u3001\u8907\u6570\u306e\u6761\u4ef6\u3092\u7d44\u307f\u5408\u308f\u305b\u305f\u691c\u7d22\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u691c\u7d22\u6761\u4ef6\u306b\u306f\u6c0f\u540d\u3001\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3001\u96fb\u8a71\u756a\u53f7\u3001\u6027\u5225\u3001\u90f5\u4fbf\u756a\u53f7\u3001\u4f4f\u6240\u306a\u3069\u304c\u542b\u307e\u308c\u307e\u3059\u3002\u7279\u306b\u96fb\u8a71\u756a\u53f7\u306e\u4e0b4\u6841\u306b\u3088\u308b\u691c\u7d22\u6a5f\u80fd\u306f\u3001\u9867\u5ba2\u304b\u3089\u306e\u554f\u3044\u5408\u308f\u305b\u6642\u306b\u7d20\u65e9\u304f\u9867\u5ba2\u3092\u7279\u5b9a\u3059\u308b\u306e\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002</p> <p></p>"},{"location":"journal/20170207/#_4","title":"\u691c\u7d22\u6761\u4ef6\u306e\u62e1\u5f35","text":"<p>\u57fa\u672c\u7684\u306a\u691c\u7d22\u6a5f\u80fd\u306b\u52a0\u3048\u3066\u3001\u4ee5\u4e0b\u306e\u691c\u7d22\u6761\u4ef6\u3092\u8ffd\u52a0\u5b9f\u88c5\u3057\u307e\u3057\u305f\uff1a 1. \u6027\u5225\u306b\u3088\u308b\u691c\u7d22 2. \u90f5\u4fbf\u756a\u53f7\u306b\u3088\u308b\u691c\u7d22 3. \u96fb\u8a71\u756a\u53f7\u306e\u4e0b4\u6841\u306b\u3088\u308b\u691c\u7d22</p> <p>\u7279\u306b\u96fb\u8a71\u756a\u53f7\u306e\u4e0b4\u6841\u691c\u7d22\u306f\u3001\u9867\u5ba2\u304c\u81ea\u5206\u306e\u96fb\u8a71\u756a\u53f7\u306e\u4e0b4\u6841\u3060\u3051\u3092\u899a\u3048\u3066\u3044\u308b\u5834\u5408\u306b\u4fbf\u5229\u306a\u6a5f\u80fd\u3067\u3059\u3002</p>"},{"location":"journal/20170207/#_5","title":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3068\u306e\u95a2\u9023","text":"<p>\u3053\u306e\u5b9f\u88c5\u306f\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6982\u8981\u306e\u300c5. \u4e3b\u8981\u306a\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u300d\u304a\u3088\u3073\u300c7.2 \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u300d\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u95a2\u9023\u3057\u3066\u3044\u307e\u3059\u3002\u7279\u306b\u4ee5\u4e0b\u306e\u90e8\u5206\u3092\u5b9f\u73fe\u3059\u308b\u3082\u306e\u3067\u3059\uff1a</p> <pre><code>Customer ||--o{ Phone\nCustomer ||--o{ HomeAddress\nCustomer ||--o{ WorkAddress\n</code></pre> <p>\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d1\u30bf\u30fc\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3001\u691c\u7d22\u30d5\u30a9\u30fc\u30e0\u306e\u5165\u529b\u5024\u306e\u51e6\u7406\u3068\u691c\u7d22\u30ed\u30b8\u30c3\u30af\u3092\u30ab\u30d7\u30bb\u30eb\u5316\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20170207/#_6","title":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3068\u306e\u95a2\u9023","text":"<p>\u3053\u306e\u5b9f\u88c5\u306f\u3001\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306e\u300c3.2. \u9867\u5ba2\u7ba1\u7406\u300d\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u4ee5\u4e0b\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u5b9f\u73fe\u3059\u308b\u3082\u306e\u3067\u3059\uff1a</p> <ul> <li>S-005: \u9867\u5ba2\u60c5\u5831\u691c\u7d22</li> </ul> <p>\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u8aac\u660e\uff1a</p> <p>\u8077\u54e1\u304c\u9867\u5ba2\u60c5\u5831\u3092\u691c\u7d22\u3059\u308b</p> <p>\u57fa\u672c\u30d5\u30ed\u30fc\uff1a 1. \u9867\u5ba2\u691c\u7d22\u30d5\u30a9\u30fc\u30e0\u306b\u30a2\u30af\u30bb\u30b9 2. \u691c\u7d22\u6761\u4ef6\uff08\u540d\u524d\u3001\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3001\u96fb\u8a71\u756a\u53f7\u306a\u3069\uff09\u3092\u5165\u529b 3. \u691c\u7d22\u3092\u5b9f\u884c 4. \u691c\u7d22\u7d50\u679c\u3092\u8868\u793a</p>"},{"location":"journal/20170207/#4164c10","title":"\u30b3\u30df\u30c3\u30c8: 4164c10","text":""},{"location":"journal/20170207/#_7","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u691c\u7d22\u30d5\u30a9\u30fc\u30e0 #16\n</code></pre>"},{"location":"journal/20170207/#_8","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170207/#_9","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 4164c10009555a020e64ebb596984335d50c8a22\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 7 16:36:30 2017 +0900\n\n    \u691c\u7d22\u30d5\u30a9\u30fc\u30e0 #16\n\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex 3bf7df0..4adfc9f 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-2-7\"&gt;2017.2.7&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u9867\u5ba2\u691c\u7d22\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-2-7\"&gt;2017.2.7&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u7ba1\u7406\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n</code></pre>"},{"location":"journal/20170207/#f613d25","title":"\u30b3\u30df\u30c3\u30c8: f613d25","text":""},{"location":"journal/20170207/#_10","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u691c\u7d22\u6761\u4ef6\u306b\u96fb\u8a71\u756a\u53f7\u4e0b\uff14\u6841\u3092\u8ffd\u52a0 #16\n</code></pre>"},{"location":"journal/20170207/#_11","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/customers_controller.rb</li> <li>M app/forms/staff/customer_search_form.rb</li> <li>M app/models/phone.rb</li> <li>M app/views/staff/customers/_search_form.html.erb</li> <li>M config/locales/models/ja.yml</li> <li>A db/migrate/20170207070920_alter_phones2.rb</li> <li>A db/migrate/20170207071612_update_phones1.rb</li> <li>M db/schema.rb</li> <li>M spec/factories/phones.rb</li> </ul>"},{"location":"journal/20170207/#_12","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit f613d25648e6f0363e8d499e6d2d4e21b678a383\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 7 16:31:09 2017 +0900\n\n    \u691c\u7d22\u6761\u4ef6\u306b\u96fb\u8a71\u756a\u53f7\u4e0b\uff14\u6841\u3092\u8ffd\u52a0 #16\n\ndiff --git a/README.md b/README.md\nindex b76583b..18c6f37 100644\n--- a/README.md\n+++ b/README.md\n@@ -621,6 +621,7 @@ git push heroku master\n #### \u6f14\u7fd2\u554f\u984c\n + \u691c\u7d22\u6761\u4ef6\u306b\u6027\u5225\u3092\u8ffd\u52a0 \n + \u691c\u7d22\u6761\u4ef6\u306b\u90f5\u4fbf\u756a\u53f7\u3092\u8ffd\u52a0\n++ \u691c\u7d22\u6761\u4ef6\u306b\u96fb\u8a71\u756a\u53f7\u4e0b\uff14\u6841\u3092\u8ffd\u52a0\n\n **[\u2b06 back to top](#\u69cb\u6210)**\n\ndiff --git a/app/controllers/staff/customers_controller.rb b/app/controllers/staff/customers_controller.rb\nindex c9b3ccf..6342b22 100644\n--- a/app/controllers/staff/customers_controller.rb\n+++ b/app/controllers/staff/customers_controller.rb\n@@ -64,7 +64,8 @@ class Staff::CustomersController &lt; Staff::Base\n         :city,\n         :phone_number,\n         :gender,\n-        :postal_code\n+        :postal_code,\n+        :last_four_digits\n     )\n   end\n\ndiff --git a/app/forms/staff/customer_search_form.rb b/app/forms/staff/customer_search_form.rb\nindex 0d2991a..6a46821 100644\n--- a/app/forms/staff/customer_search_form.rb\n+++ b/app/forms/staff/customer_search_form.rb\n@@ -12,7 +12,8 @@ class Staff::CustomerSearchForm\n                 :city,\n                 :phone_number,\n                 :gender,\n-                :postal_code\n+                :postal_code,\n+                :last_four_digits\n\n   def search\n     normalize_values\n@@ -49,8 +50,14 @@ class Staff::CustomerSearchForm\n       end\n     end\n\n-    if phone_number.present?\n-      rel = rel.joins(:phones).where('phones.number_for_index' =&gt; phone_number)\n+    if phone_number.present? || last_four_digits.present?\n+      rel = rel.joins(:phones)\n+      if phone_number.present?\n+        rel = rel.where('phones.number_for_index' =&gt; phone_number)\n+      end\n+      if last_four_digits.present?\n+        rel = rel.where('phones.last_four_digits' =&gt; last_four_digits)\n+      end\n     end\n\n     rel.order(:family_name_kana, :given_name_kana)\ndiff --git a/app/models/phone.rb b/app/models/phone.rb\nindex 386e689..94e92f9 100644\n--- a/app/models/phone.rb\n+++ b/app/models/phone.rb\n@@ -10,11 +10,13 @@\n #  primary          :boolean          default(\"0\"), not null # \u512a\u5148\u30d5\u30e9\u30b0\n #  created_at       :datetime         not null\n #  updated_at       :datetime         not null\n+#  last_four_digits :string(255)                             # \u96fb\u8a71\u756a\u53f7\u4e0b\uff14\u6841\n #\n # Indexes\n #\n #  index_phones_on_address_id        (address_id)\n #  index_phones_on_customer_id       (customer_id)\n+#  index_phones_on_last_four_digits  (last_four_digits)\n #  index_phones_on_number_for_index  (number_for_index)\n #\n\n@@ -27,6 +29,9 @@ class Phone &lt; ApplicationRecord\n   before_validation do\n     self.number = normalize_as_phone_number(number)\n     self.number_for_index = number.gsub(/\\D/, '') if number\n+    if number_for_index &amp;&amp; number_for_index.size &gt;= 4\n+      self.last_four_digits = number_for_index[-4, 4]\n+    end\n   end\n\n   before_create do\ndiff --git a/app/views/staff/customers/_search_form.html.erb b/app/views/staff/customers/_search_form.html.erb\nindex 08e0875..43ff1f4 100644\n--- a/app/views/staff/customers/_search_form.html.erb\n+++ b/app/views/staff/customers/_search_form.html.erb\n@@ -17,6 +17,7 @@\n       m.br\n       m &lt;&lt; p.text_field_block(:postal_code, t('activerecord.attributes.address.postal_code')+':', size: 7)\n       m &lt;&lt; p.text_field_block(:phone_number, t('activerecord.attributes.phone.number')+':')\n+      m &lt;&lt; p.text_field_block(:last_four_digits, t('activerecord.attributes.phone.last_four_digits')+':', size: 4)\n       m &lt;&lt; f.submit(t('staff.shared.search.submit'))\n       end %&gt;\n &lt;% end %&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/models/ja.yml b/config/locales/models/ja.yml\nindex 013f874..612676c 100644\n--- a/config/locales/models/ja.yml\n+++ b/config/locales/models/ja.yml\n@@ -85,6 +85,7 @@ ja:\n         number: \u96fb\u8a71\u756a\u53f7\n         number_for_index: \u7d22\u5f15\u7528\u96fb\u8a71\u756a\u53f7\n         primary: \u512a\u5148\n+        last_four_digits: \u96fb\u8a71\u756a\u53f7\u4e0b\uff14\u6841\n\n     errors:\n       models:\ndiff --git a/db/migrate/20170207070920_alter_phones2.rb b/db/migrate/20170207070920_alter_phones2.rb\nnew file mode 100644\nindex 0000000..611faf3\n--- /dev/null\n+++ b/db/migrate/20170207070920_alter_phones2.rb\n@@ -0,0 +1,7 @@\n+class AlterPhones2 &lt; ActiveRecord::Migration[5.0]\n+  def change\n+    add_column :phones, :last_four_digits, :string, comment: '\u96fb\u8a71\u756a\u53f7\u4e0b\uff14\u6841'\n+\n+    add_index :phones, :last_four_digits\n+  end\n+end\ndiff --git a/db/migrate/20170207071612_update_phones1.rb b/db/migrate/20170207071612_update_phones1.rb\nnew file mode 100644\nindex 0000000..7cfd27b\n--- /dev/null\n+++ b/db/migrate/20170207071612_update_phones1.rb\n@@ -0,0 +1,19 @@\n+class UpdatePhones1 &lt; ActiveRecord::Migration[5.0]\n+  def up\n+    if Rails.env != 'test'\n+      execute(%q{\n+      UPDATE phones SET last_four_digits =\n+        SUBSTR(number_for_index, LENGTH(number_for_index) - 3)\n+        WHERE number_for_index IS NOT NULL AND LENGTH(number_for_index) &gt;= 4\n+    })\n+    end\n+  end\n+\n+  def down\n+    if Rails.env != 'test'\n+      execute(%q{\n+      UPDATE phones SET last_four_digits = NULL\n+    })\n+    end\n+  end\n+end\ndiff --git a/db/schema.rb b/db/schema.rb\nindex c644c07..218066a 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -10,109 +10,107 @@\n #\n # It's strongly recommended that you check this file into your version control system.\n\n-ActiveRecord::Schema.define(version: 20170207064811) do\n+ActiveRecord::Schema.define(version: 20170207071612) do\n\n-  create_table \"addresses\", force: :cascade, comment: \"\u4f4f\u6240\" do |t|\n-    t.integer  \"customer_id\",                null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n-    t.string   \"type\",                       null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n-    t.string   \"postal_code\",                null: false, comment: \"\u90f5\u4fbf\u756a\u53f7\"\n-    t.string   \"prefecture\",                 null: false, comment: \"\u90fd\u9053\u5e9c\u770c\"\n-    t.string   \"city\",                       null: false, comment: \"\u5e02\u533a\u753a\u6751\"\n-    t.string   \"address1\",                   null: false, comment: \"\u753a\u57df\u30fb\u756a\u5730\u7b49\"\n-    t.string   \"address2\",                   null: false, comment: \"\u5efa\u7269\u540d\u30fb\u90e8\u5c4b\u756a\u53f7\"\n-    t.string   \"company_name\",  default: \"\", null: false, comment: \"\u4f1a\u793e\u540d\"\n-    t.string   \"division_name\", default: \"\", null: false, comment: \"\u90e8\u7f72\u540d\"\n+  create_table \"addresses\", force: :cascade do |t|\n+    t.integer  \"customer_id\",                null: false\n+    t.string   \"type\",                       null: false\n+    t.string   \"postal_code\",                null: false\n+    t.string   \"prefecture\",                 null: false\n+    t.string   \"city\",                       null: false\n+    t.string   \"address1\",                   null: false\n+    t.string   \"address2\",                   null: false\n+    t.string   \"company_name\",  default: \"\", null: false\n+    t.string   \"division_name\", default: \"\", null: false\n     t.datetime \"created_at\",                 null: false\n     t.datetime \"updated_at\",                 null: false\n-    t.index [\"city\"], name: \"index_addresses_on_city\", using: :btree\n-    t.index [\"customer_id\"], name: \"index_addresses_on_customer_id\", using: :btree\n-    t.index [\"postal_code\"], name: \"index_addresses_on_postal_code\", using: :btree\n-    t.index [\"prefecture\", \"city\"], name: \"index_addresses_on_prefecture_and_city\", using: :btree\n-    t.index [\"type\", \"city\"], name: \"index_addresses_on_type_and_city\", using: :btree\n-    t.index [\"type\", \"customer_id\"], name: \"index_addresses_on_type_and_customer_id\", unique: true, using: :btree\n-    t.index [\"type\", \"prefecture\", \"city\"], name: \"index_addresses_on_type_and_prefecture_and_city\", using: :btree\n+    t.index [\"city\"], name: \"index_addresses_on_city\"\n+    t.index [\"customer_id\"], name: \"index_addresses_on_customer_id\"\n+    t.index [\"postal_code\"], name: \"index_addresses_on_postal_code\"\n+    t.index [\"prefecture\", \"city\"], name: \"index_addresses_on_prefecture_and_city\"\n+    t.index [\"type\", \"city\"], name: \"index_addresses_on_type_and_city\"\n+    t.index [\"type\", \"customer_id\"], name: \"index_addresses_on_type_and_customer_id\", unique: true\n+    t.index [\"type\", \"prefecture\", \"city\"], name: \"index_addresses_on_type_and_prefecture_and_city\"\n   end\n\n-  create_table \"administrators\", force: :cascade, comment: \"\u7ba1\u7406\u8005\" do |t|\n-    t.string   \"email\",                           null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n-    t.string   \"email_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n-    t.string   \"hashed_password\",                              comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n-    t.boolean  \"suspended\",       default: false, null: false, comment: \"\u505c\u6b62\u30d5\u30e9\u30b0\"\n+  create_table \"administrators\", force: :cascade do |t|\n+    t.string   \"email\",                           null: false\n+    t.string   \"email_for_index\",                 null: false\n+    t.string   \"hashed_password\"\n+    t.boolean  \"suspended\",       default: false, null: false\n     t.datetime \"created_at\",                      null: false\n     t.datetime \"updated_at\",                      null: false\n-    t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true, using: :btree\n+    t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true\n   end\n\n-  create_table \"customers\", force: :cascade, comment: \"\u9867\u5ba2\" do |t|\n-    t.string   \"email\",            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n-    t.string   \"email_for_index\",  null: false, comment: \"\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n-    t.string   \"family_name\",      null: false, comment: \"\u59d3\"\n-    t.string   \"given_name\",       null: false, comment: \"\u540d\"\n-    t.string   \"family_name_kana\", null: false, comment: \"\u59d3\uff08\u30ab\u30ca\uff09\"\n-    t.string   \"given_name_kana\",  null: false, comment: \"\u540d\uff08\u30ab\u30ca\uff09\"\n-    t.string   \"gender\",                        comment: \"\u6027\u5225\"\n-    t.date     \"birthday\",                      comment: \"\u8a95\u751f\u65e5\"\n-    t.string   \"hashed_password\",               comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n+  create_table \"customers\", force: :cascade do |t|\n+    t.string   \"email\",            null: false\n+    t.string   \"email_for_index\",  null: false\n+    t.string   \"family_name\",      null: false\n+    t.string   \"given_name\",       null: false\n+    t.string   \"family_name_kana\", null: false\n+    t.string   \"given_name_kana\",  null: false\n+    t.string   \"gender\"\n+    t.date     \"birthday\"\n+    t.string   \"hashed_password\"\n     t.datetime \"created_at\",       null: false\n     t.datetime \"updated_at\",       null: false\n-    t.integer  \"birth_year\",                    comment: \"\u8a95\u751f\u5e74\"\n-    t.integer  \"birth_month\",                   comment: \"\u8a95\u751f\u6708\"\n-    t.integer  \"birth_mday\",                    comment: \"\u8a95\u751f\u65e5\"\n-    t.index [\"birth_mday\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_furigana\", using: :btree\n-    t.index [\"birth_mday\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_given_name_kana\", using: :btree\n-    t.index [\"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_month_and_birth_mday\", using: :btree\n-    t.index [\"birth_month\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_furigana\", using: :btree\n-    t.index [\"birth_month\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_given_name_kana\", using: :btree\n-    t.index [\"birth_year\", \"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_year_and_birth_month_and_birth_mday\", using: :btree\n-    t.index [\"birth_year\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_furigana\", using: :btree\n-    t.index [\"birth_year\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_given_name_kana\", using: :btree\n-    t.index [\"email_for_index\"], name: \"index_customers_on_email_for_index\", unique: true, using: :btree\n-    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_family_name_kana_and_given_name_kana\", using: :btree\n-    t.index [\"gender\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_gender_and_furigana\", using: :btree\n-    t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\", using: :btree\n+    t.integer  \"birth_year\"\n+    t.integer  \"birth_month\"\n+    t.integer  \"birth_mday\"\n+    t.index [\"birth_mday\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_furigana\"\n+    t.index [\"birth_mday\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_given_name_kana\"\n+    t.index [\"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_month_and_birth_mday\"\n+    t.index [\"birth_month\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_furigana\"\n+    t.index [\"birth_month\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_given_name_kana\"\n+    t.index [\"birth_year\", \"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_year_and_birth_month_and_birth_mday\"\n+    t.index [\"birth_year\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_furigana\"\n+    t.index [\"birth_year\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_given_name_kana\"\n+    t.index [\"email_for_index\"], name: \"index_customers_on_email_for_index\", unique: true\n+    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_family_name_kana_and_given_name_kana\"\n+    t.index [\"gender\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_gender_and_furigana\"\n+    t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\"\n   end\n\n-  create_table \"phones\", force: :cascade, comment: \"\u96fb\u8a71\" do |t|\n-    t.integer  \"customer_id\",                      null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n-    t.integer  \"address_id\",                                    comment: \"\u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n-    t.string   \"number\",                           null: false, comment: \"\u96fb\u8a71\u756a\u53f7\"\n-    t.string   \"number_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u96fb\u8a71\u756a\u53f7\"\n-    t.boolean  \"primary\",          default: false, null: false, comment: \"\u512a\u5148\u30d5\u30e9\u30b0\"\n+  create_table \"phones\", force: :cascade do |t|\n+    t.integer  \"customer_id\",                      null: false\n+    t.integer  \"address_id\"\n+    t.string   \"number\",                           null: false\n+    t.string   \"number_for_index\",                 null: false\n+    t.boolean  \"primary\",          default: false, null: false\n     t.datetime \"created_at\",                       null: false\n     t.datetime \"updated_at\",                       null: false\n-    t.index [\"address_id\"], name: \"index_phones_on_address_id\", using: :btree\n-    t.index [\"customer_id\"], name: \"index_phones_on_customer_id\", using: :btree\n-    t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\", using: :btree\n+    t.string   \"last_four_digits\"\n+    t.index [\"address_id\"], name: \"index_phones_on_address_id\"\n+    t.index [\"customer_id\"], name: \"index_phones_on_customer_id\"\n+    t.index [\"last_four_digits\"], name: \"index_phones_on_last_four_digits\"\n+    t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\"\n   end\n\n-  create_table \"staff_events\", force: :cascade, comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n-    t.integer  \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n-    t.string   \"type\",            null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n-    t.datetime \"created_at\",      null: false, comment: \"\u767a\u751f\u6642\u523b\"\n-    t.index [\"created_at\"], name: \"index_staff_events_on_created_at\", using: :btree\n-    t.index [\"staff_member_id\", \"created_at\"], name: \"index_staff_events_on_staff_member_id_and_created_at\", using: :btree\n-    t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\", using: :btree\n+  create_table \"staff_events\", force: :cascade do |t|\n+    t.integer  \"staff_member_id\", null: false\n+    t.string   \"type\",            null: false\n+    t.datetime \"created_at\",      null: false\n+    t.index [\"created_at\"], name: \"index_staff_events_on_created_at\"\n+    t.index [\"staff_member_id\", \"created_at\"], name: \"index_staff_events_on_staff_member_id_and_created_at\"\n+    t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\"\n   end\n\n-  create_table \"staff_members\", force: :cascade, comment: \"\u8077\u54e1\" do |t|\n-    t.string   \"email\",                            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n-    t.string   \"email_for_index\",                  null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n-    t.string   \"family_name\",                      null: false, comment: \"\u59d3\"\n-    t.string   \"given_name\",                       null: false, comment: \"\u540d\"\n-    t.string   \"family_name_kana\",                 null: false, comment: \"\u59d3\uff08\u30ab\u30ca\uff09\"\n-    t.string   \"given_name_kana\",                  null: false, comment: \"\u540d\uff08\u30ab\u30ca\uff09\"\n-    t.string   \"hashed_password\",                               comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n-    t.date     \"start_date\",                       null: false, comment: \"\u958b\u59cb\u65e5\"\n-    t.date     \"end_date\",                                      comment: \"\u7d42\u4e86\u65e5\"\n-    t.boolean  \"suspended\",        default: false, null: false, comment: \"\u505c\u6b62\u30d5\u30e9\u30b0\"\n+  create_table \"staff_members\", force: :cascade do |t|\n+    t.string   \"email\",                            null: false\n+    t.string   \"email_for_index\",                  null: false\n+    t.string   \"family_name\",                      null: false\n+    t.string   \"given_name\",                       null: false\n+    t.string   \"family_name_kana\",                 null: false\n+    t.string   \"given_name_kana\",                  null: false\n+    t.string   \"hashed_password\"\n+    t.date     \"start_date\",                       null: false\n+    t.date     \"end_date\"\n+    t.boolean  \"suspended\",        default: false, null: false\n     t.datetime \"created_at\",                       null: false\n     t.datetime \"updated_at\",                       null: false\n-    t.index [\"email_for_index\"], name: \"index_staff_members_on_email_for_index\", unique: true, using: :btree\n-    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\", using: :btree\n+    t.index [\"email_for_index\"], name: \"index_staff_members_on_email_for_index\", unique: true\n+    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\"\n   end\n\n-  add_foreign_key \"addresses\", \"customers\"\n-  add_foreign_key \"phones\", \"addresses\"\n-  add_foreign_key \"phones\", \"customers\"\n-  add_foreign_key \"staff_events\", \"staff_members\"\n end\ndiff --git a/spec/factories/phones.rb b/spec/factories/phones.rb\nindex 4ef34b3..694da4d 100644\n--- a/spec/factories/phones.rb\n+++ b/spec/factories/phones.rb\n@@ -10,11 +10,13 @@\n #  primary          :boolean          default(\"0\"), not null # \u512a\u5148\u30d5\u30e9\u30b0\n #  created_at       :datetime         not null\n #  updated_at       :datetime         not null\n+#  last_four_digits :string(255)                             # \u96fb\u8a71\u756a\u53f7\u4e0b\uff14\u6841\n #\n # Indexes\n #\n #  index_phones_on_address_id        (address_id)\n #  index_phones_on_customer_id       (customer_id)\n+#  index_phones_on_last_four_digits  (last_four_digits)\n #  index_phones_on_number_for_index  (number_for_index)\n #\n</code></pre>"},{"location":"journal/20170207/#_13","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170207/#47e1f46","title":"\u30b3\u30df\u30c3\u30c8: 47e1f46","text":""},{"location":"journal/20170207/#_14","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6f14\u7fd2\u554f\u984c #16\n</code></pre>"},{"location":"journal/20170207/#_15","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/customers_controller.rb</li> <li>M app/forms/staff/customer_search_form.rb</li> <li>M app/models/address.rb</li> <li>M app/models/home_address.rb</li> <li>M app/models/work_address.rb</li> <li>M app/views/staff/customers/_search_form.html.erb</li> <li>A db/migrate/20170207064811_alter_addresses2.rb</li> <li>M db/schema.rb</li> <li>M spec/factories/addresses.rb</li> </ul>"},{"location":"journal/20170207/#_16","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 47e1f4645af5a9f618c7ef6b8870df37bc1445b4\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 7 16:06:04 2017 +0900\n\n    \u6f14\u7fd2\u554f\u984c #16\n\ndiff --git a/README.md b/README.md\nindex 7a9f2f1..b76583b 100644\n--- a/README.md\n+++ b/README.md\n@@ -620,6 +620,7 @@ git push heroku master\n\n #### \u6f14\u7fd2\u554f\u984c\n + \u691c\u7d22\u6761\u4ef6\u306b\u6027\u5225\u3092\u8ffd\u52a0 \n++ \u691c\u7d22\u6761\u4ef6\u306b\u90f5\u4fbf\u756a\u53f7\u3092\u8ffd\u52a0\n\n **[\u2b06 back to top](#\u69cb\u6210)**\n\ndiff --git a/app/controllers/staff/customers_controller.rb b/app/controllers/staff/customers_controller.rb\nindex ea2433a..c9b3ccf 100644\n--- a/app/controllers/staff/customers_controller.rb\n+++ b/app/controllers/staff/customers_controller.rb\n@@ -63,7 +63,8 @@ class Staff::CustomersController &lt; Staff::Base\n         :prefecture,\n         :city,\n         :phone_number,\n-        :gender\n+        :gender,\n+        :postal_code\n     )\n   end\n\ndiff --git a/app/forms/staff/customer_search_form.rb b/app/forms/staff/customer_search_form.rb\nindex 10480fc..0d2991a 100644\n--- a/app/forms/staff/customer_search_form.rb\n+++ b/app/forms/staff/customer_search_form.rb\n@@ -11,7 +11,8 @@ class Staff::CustomerSearchForm\n                 :prefecture,\n                 :city,\n                 :phone_number,\n-                :gender\n+                :gender,\n+                :postal_code\n\n   def search\n     normalize_values\n@@ -28,7 +29,7 @@ class Staff::CustomerSearchForm\n     rel = rel.where(birth_mday: birth_mday) if birth_mday.present?\n     rel = rel.where(gender: gender) if gender.present?\n\n-    if prefecture.present? || city.present?\n+    if prefecture.present? || city.present? || postal_code.present?\n       case address_type\n         when 'home'\n           rel = rel.joins(:home_address)\n@@ -43,6 +44,9 @@ class Staff::CustomerSearchForm\n         rel = rel.where('addresses.prefecture' =&gt; prefecture)\n       end\n       rel = rel.where('addresses.city' =&gt; city) if city.present?\n+      if postal_code.present?\n+        rel = rel.where('addresses.postal_code' =&gt; postal_code)\n+      end\n     end\n\n     if phone_number.present?\n@@ -58,5 +62,6 @@ class Staff::CustomerSearchForm\n     self.given_name_kana = normalize_as_furigana(given_name_kana)\n     self.city = normalize_as_name(city)\n     self.phone_number = normalize_as_phone_number(phone_number).try(:gsub,/\\D/, '')\n+    self.postal_code = normalize_as_postal_code(postal_code)\n   end\n end\n\\ No newline at end of file\ndiff --git a/app/models/address.rb b/app/models/address.rb\nindex f7db6f8..503bf41 100644\n--- a/app/models/address.rb\n+++ b/app/models/address.rb\n@@ -19,6 +19,7 @@\n #\n #  index_addresses_on_city                          (city)\n #  index_addresses_on_customer_id                   (customer_id)\n+#  index_addresses_on_postal_code                   (postal_code)\n #  index_addresses_on_prefecture_and_city           (prefecture,city)\n #  index_addresses_on_type_and_city                 (type,city)\n #  index_addresses_on_type_and_customer_id          (type,customer_id) UNIQUE\ndiff --git a/app/models/home_address.rb b/app/models/home_address.rb\nindex da88407..7cf7676 100644\n--- a/app/models/home_address.rb\n+++ b/app/models/home_address.rb\n@@ -19,6 +19,7 @@\n #\n #  index_addresses_on_city                          (city)\n #  index_addresses_on_customer_id                   (customer_id)\n+#  index_addresses_on_postal_code                   (postal_code)\n #  index_addresses_on_prefecture_and_city           (prefecture,city)\n #  index_addresses_on_type_and_city                 (type,city)\n #  index_addresses_on_type_and_customer_id          (type,customer_id) UNIQUE\ndiff --git a/app/models/work_address.rb b/app/models/work_address.rb\nindex 0ba0773..50e0455 100644\n--- a/app/models/work_address.rb\n+++ b/app/models/work_address.rb\n@@ -19,6 +19,7 @@\n #\n #  index_addresses_on_city                          (city)\n #  index_addresses_on_customer_id                   (customer_id)\n+#  index_addresses_on_postal_code                   (postal_code)\n #  index_addresses_on_prefecture_and_city           (prefecture,city)\n #  index_addresses_on_type_and_city                 (type,city)\n #  index_addresses_on_type_and_customer_id          (type,customer_id) UNIQUE\ndiff --git a/app/views/staff/customers/_search_form.html.erb b/app/views/staff/customers/_search_form.html.erb\nindex da3070a..08e0875 100644\n--- a/app/views/staff/customers/_search_form.html.erb\n+++ b/app/views/staff/customers/_search_form.html.erb\n@@ -15,6 +15,7 @@\n       m &lt;&lt; p.drop_down_list_block(:prefecture, t('activerecord.attributes.address.prefecture')+':', Address::PREFECTURE_NAMES)\n       m &lt;&lt; p.text_field_block(:city, t('activerecord.attributes.address.city'))\n       m.br\n+      m &lt;&lt; p.text_field_block(:postal_code, t('activerecord.attributes.address.postal_code')+':', size: 7)\n       m &lt;&lt; p.text_field_block(:phone_number, t('activerecord.attributes.phone.number')+':')\n       m &lt;&lt; f.submit(t('staff.shared.search.submit'))\n       end %&gt;\ndiff --git a/db/migrate/20170207064811_alter_addresses2.rb b/db/migrate/20170207064811_alter_addresses2.rb\nnew file mode 100644\nindex 0000000..3362e3f\n--- /dev/null\n+++ b/db/migrate/20170207064811_alter_addresses2.rb\n@@ -0,0 +1,5 @@\n+class AlterAddresses2 &lt; ActiveRecord::Migration[5.0]\n+  def change\n+    add_index :addresses, :postal_code\n+  end\n+end\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 80706d9..c644c07 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -10,9 +10,9 @@\n #\n # It's strongly recommended that you check this file into your version control system.\n\n-ActiveRecord::Schema.define(version: 20170207063552) do\n+ActiveRecord::Schema.define(version: 20170207064811) do\n\n-  create_table \"addresses\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u4f4f\u6240\" do |t|\n+  create_table \"addresses\", force: :cascade, comment: \"\u4f4f\u6240\" do |t|\n     t.integer  \"customer_id\",                null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",                       null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n     t.string   \"postal_code\",                null: false, comment: \"\u90f5\u4fbf\u756a\u53f7\"\n@@ -26,13 +26,14 @@ ActiveRecord::Schema.define(version: 20170207063552) do\n     t.datetime \"updated_at\",                 null: false\n     t.index [\"city\"], name: \"index_addresses_on_city\", using: :btree\n     t.index [\"customer_id\"], name: \"index_addresses_on_customer_id\", using: :btree\n+    t.index [\"postal_code\"], name: \"index_addresses_on_postal_code\", using: :btree\n     t.index [\"prefecture\", \"city\"], name: \"index_addresses_on_prefecture_and_city\", using: :btree\n     t.index [\"type\", \"city\"], name: \"index_addresses_on_type_and_city\", using: :btree\n     t.index [\"type\", \"customer_id\"], name: \"index_addresses_on_type_and_customer_id\", unique: true, using: :btree\n     t.index [\"type\", \"prefecture\", \"city\"], name: \"index_addresses_on_type_and_prefecture_and_city\", using: :btree\n   end\n\n-  create_table \"administrators\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u7ba1\u7406\u8005\" do |t|\n+  create_table \"administrators\", force: :cascade, comment: \"\u7ba1\u7406\u8005\" do |t|\n     t.string   \"email\",                           null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"hashed_password\",                              comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n@@ -42,7 +43,7 @@ ActiveRecord::Schema.define(version: 20170207063552) do\n     t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true, using: :btree\n   end\n\n-  create_table \"customers\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u9867\u5ba2\" do |t|\n+  create_table \"customers\", force: :cascade, comment: \"\u9867\u5ba2\" do |t|\n     t.string   \"email\",            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",  null: false, comment: \"\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",      null: false, comment: \"\u59d3\"\n@@ -71,7 +72,7 @@ ActiveRecord::Schema.define(version: 20170207063552) do\n     t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\", using: :btree\n   end\n\n-  create_table \"phones\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u96fb\u8a71\" do |t|\n+  create_table \"phones\", force: :cascade, comment: \"\u96fb\u8a71\" do |t|\n     t.integer  \"customer_id\",                      null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.integer  \"address_id\",                                    comment: \"\u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"number\",                           null: false, comment: \"\u96fb\u8a71\u756a\u53f7\"\n@@ -84,7 +85,7 @@ ActiveRecord::Schema.define(version: 20170207063552) do\n     t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\", using: :btree\n   end\n\n-  create_table \"staff_events\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n+  create_table \"staff_events\", force: :cascade, comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n     t.integer  \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",            null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n     t.datetime \"created_at\",      null: false, comment: \"\u767a\u751f\u6642\u523b\"\n@@ -93,7 +94,7 @@ ActiveRecord::Schema.define(version: 20170207063552) do\n     t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\", using: :btree\n   end\n\n-  create_table \"staff_members\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\" do |t|\n+  create_table \"staff_members\", force: :cascade, comment: \"\u8077\u54e1\" do |t|\n     t.string   \"email\",                            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                  null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",                      null: false, comment: \"\u59d3\"\ndiff --git a/spec/factories/addresses.rb b/spec/factories/addresses.rb\nindex 39737ae..ecbdc13 100644\n--- a/spec/factories/addresses.rb\n+++ b/spec/factories/addresses.rb\n@@ -19,6 +19,7 @@\n #\n #  index_addresses_on_city                          (city)\n #  index_addresses_on_customer_id                   (customer_id)\n+#  index_addresses_on_postal_code                   (postal_code)\n #  index_addresses_on_prefecture_and_city           (prefecture,city)\n #  index_addresses_on_type_and_city                 (type,city)\n #  index_addresses_on_type_and_customer_id          (type,customer_id) UNIQUE\n</code></pre>"},{"location":"journal/20170207/#_17","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170207/#a474c1a","title":"\u30b3\u30df\u30c3\u30c8: a474c1a","text":""},{"location":"journal/20170207/#_18","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6f14\u7fd2\u554f\u984c #16\n</code></pre>"},{"location":"journal/20170207/#_19","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/customers_controller.rb</li> <li>M app/forms/staff/customer_search_form.rb</li> <li>M app/models/customer.rb</li> <li>M app/views/staff/customers/_search_form.html.erb</li> <li>M config/locales/views/ja.yml</li> <li>A db/migrate/20170207063552_alter_customer2.rb</li> <li>M db/schema.rb</li> <li>M spec/factories/customers.rb</li> </ul>"},{"location":"journal/20170207/#_20","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit a474c1af5ddd5a02e05a792224b2035d5fbbfd53\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 7 15:47:00 2017 +0900\n\n    \u6f14\u7fd2\u554f\u984c #16\n\ndiff --git a/README.md b/README.md\nindex 77a1a03..7a9f2f1 100644\n--- a/README.md\n+++ b/README.md\n@@ -619,6 +619,7 @@ git push heroku master\n + \u691c\u7d22\u6587\u5b57\u5217\u306e\u6b63\u898f\u5316\n\n #### \u6f14\u7fd2\u554f\u984c\n++ \u691c\u7d22\u6761\u4ef6\u306b\u6027\u5225\u3092\u8ffd\u52a0 \n\n **[\u2b06 back to top](#\u69cb\u6210)**\n\ndiff --git a/app/controllers/staff/customers_controller.rb b/app/controllers/staff/customers_controller.rb\nindex b004ad4..ea2433a 100644\n--- a/app/controllers/staff/customers_controller.rb\n+++ b/app/controllers/staff/customers_controller.rb\n@@ -62,7 +62,8 @@ class Staff::CustomersController &lt; Staff::Base\n         :address_type,\n         :prefecture,\n         :city,\n-        :phone_number\n+        :phone_number,\n+        :gender\n     )\n   end\n\ndiff --git a/app/forms/staff/customer_search_form.rb b/app/forms/staff/customer_search_form.rb\nindex c63fcf1..10480fc 100644\n--- a/app/forms/staff/customer_search_form.rb\n+++ b/app/forms/staff/customer_search_form.rb\n@@ -10,7 +10,8 @@ class Staff::CustomerSearchForm\n                 :address_type,\n                 :prefecture,\n                 :city,\n-                :phone_number\n+                :phone_number,\n+                :gender\n\n   def search\n     normalize_values\n@@ -25,6 +26,7 @@ class Staff::CustomerSearchForm\n     rel = rel.where(birth_year: birth_year) if birth_year.present?\n     rel = rel.where(birth_month: birth_month) if birth_month.present?\n     rel = rel.where(birth_mday: birth_mday) if birth_mday.present?\n+    rel = rel.where(gender: gender) if gender.present?\n\n     if prefecture.present? || city.present?\n       case address_type\ndiff --git a/app/models/customer.rb b/app/models/customer.rb\nindex 30f20ba..68bac7c 100644\n--- a/app/models/customer.rb\n+++ b/app/models/customer.rb\n@@ -30,6 +30,7 @@\n #  index_customers_on_birth_year_and_given_name_kana             (birth_year,given_name_kana)\n #  index_customers_on_email_for_index                            (email_for_index) UNIQUE\n #  index_customers_on_family_name_kana_and_given_name_kana       (family_name_kana,given_name_kana)\n+#  index_customers_on_gender_and_furigana                        (gender,family_name_kana,given_name_kana)\n #  index_customers_on_given_name_kana                            (given_name_kana)\n #\n\ndiff --git a/app/views/staff/customers/_search_form.html.erb b/app/views/staff/customers/_search_form.html.erb\nindex 3c51099..da3070a 100644\n--- a/app/views/staff/customers/_search_form.html.erb\n+++ b/app/views/staff/customers/_search_form.html.erb\n@@ -7,6 +7,7 @@\n       m &lt;&lt; p.drop_down_list_block(:birth_year, t('activerecord.attributes.customer.birthday') ,(1900..Time.current.year).to_a.reverse)\n       m &lt;&lt; p.drop_down_list_block(:birth_month, t('activerecord.attributes.customer.birth_month'),1..12)\n       m &lt;&lt; p.drop_down_list_block(:birth_mday, t('activerecord.attributes.customer.birth_mday'),1..31)\n+      m &lt;&lt; p.drop_down_list_block(:gender, t('activerecord.attributes.customer.gender'),[[t('staff.shared.search.gender.male'),'male'],[t('staff.shared.search.gender.female'),'female']])\n       m.br\n       m.div do\n         m &lt;&lt; p.drop_down_list_block(:address_type, t('staff.shared.search.address_type.range')+':',[ [t('staff.shared.search.address_type.home'),'home'],[t('staff.shared.search.address_type.work'),'work']])\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex bb05948..5ac1a8e 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -10,6 +10,9 @@ ja:\n           range: '\u4f4f\u6240\u306e\u691c\u7d22\u7bc4\u56f2'\n           home: '\u81ea\u5b85\u4f4f\u6240\u306e\u307f'\n           work: '\u52e4\u52d9\u5148\u306e\u307f'\n+        gender:\n+          male: '\u7537\u6027'\n+          female: '\u5973\u6027'\n         submit: '\u691c\u7d22'\n     sessions:\n       new:\ndiff --git a/db/migrate/20170207063552_alter_customer2.rb b/db/migrate/20170207063552_alter_customer2.rb\nnew file mode 100644\nindex 0000000..a54b0e1\n--- /dev/null\n+++ b/db/migrate/20170207063552_alter_customer2.rb\n@@ -0,0 +1,5 @@\n+class AlterCustomer2 &lt; ActiveRecord::Migration[5.0]\n+  def change\n+    add_index :customers, [:gender, :family_name_kana, :given_name_kana], name: 'index_customers_on_gender_and_furigana'\n+  end\n+end\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 7678b16..80706d9 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -10,9 +10,9 @@\n #\n # It's strongly recommended that you check this file into your version control system.\n\n-ActiveRecord::Schema.define(version: 20170207044130) do\n+ActiveRecord::Schema.define(version: 20170207063552) do\n\n-  create_table \"addresses\", force: :cascade, comment: \"\u4f4f\u6240\" do |t|\n+  create_table \"addresses\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u4f4f\u6240\" do |t|\n     t.integer  \"customer_id\",                null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",                       null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n     t.string   \"postal_code\",                null: false, comment: \"\u90f5\u4fbf\u756a\u53f7\"\n@@ -32,7 +32,7 @@ ActiveRecord::Schema.define(version: 20170207044130) do\n     t.index [\"type\", \"prefecture\", \"city\"], name: \"index_addresses_on_type_and_prefecture_and_city\", using: :btree\n   end\n\n-  create_table \"administrators\", force: :cascade,  comment: \"\u7ba1\u7406\u8005\" do |t|\n+  create_table \"administrators\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u7ba1\u7406\u8005\" do |t|\n     t.string   \"email\",                           null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"hashed_password\",                              comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n@@ -42,7 +42,7 @@ ActiveRecord::Schema.define(version: 20170207044130) do\n     t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true, using: :btree\n   end\n\n-  create_table \"customers\", force: :cascade,  comment: \"\u9867\u5ba2\" do |t|\n+  create_table \"customers\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u9867\u5ba2\" do |t|\n     t.string   \"email\",            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",  null: false, comment: \"\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",      null: false, comment: \"\u59d3\"\n@@ -67,10 +67,11 @@ ActiveRecord::Schema.define(version: 20170207044130) do\n     t.index [\"birth_year\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_given_name_kana\", using: :btree\n     t.index [\"email_for_index\"], name: \"index_customers_on_email_for_index\", unique: true, using: :btree\n     t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_family_name_kana_and_given_name_kana\", using: :btree\n+    t.index [\"gender\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_gender_and_furigana\", using: :btree\n     t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\", using: :btree\n   end\n\n-  create_table \"phones\", force: :cascade,  comment: \"\u96fb\u8a71\" do |t|\n+  create_table \"phones\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u96fb\u8a71\" do |t|\n     t.integer  \"customer_id\",                      null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.integer  \"address_id\",                                    comment: \"\u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"number\",                           null: false, comment: \"\u96fb\u8a71\u756a\u53f7\"\n@@ -83,7 +84,7 @@ ActiveRecord::Schema.define(version: 20170207044130) do\n     t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\", using: :btree\n   end\n\n-  create_table \"staff_events\", force: :cascade,  comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n+  create_table \"staff_events\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n     t.integer  \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",            null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n     t.datetime \"created_at\",      null: false, comment: \"\u767a\u751f\u6642\u523b\"\n@@ -92,7 +93,7 @@ ActiveRecord::Schema.define(version: 20170207044130) do\n     t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\", using: :btree\n   end\n\n-  create_table \"staff_members\", force: :cascade,  comment: \"\u8077\u54e1\" do |t|\n+  create_table \"staff_members\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\" do |t|\n     t.string   \"email\",                            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                  null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",                      null: false, comment: \"\u59d3\"\ndiff --git a/spec/factories/customers.rb b/spec/factories/customers.rb\nindex 3e9abab..9b0a9cd 100644\n--- a/spec/factories/customers.rb\n+++ b/spec/factories/customers.rb\n@@ -30,6 +30,7 @@\n #  index_customers_on_birth_year_and_given_name_kana             (birth_year,given_name_kana)\n #  index_customers_on_email_for_index                            (email_for_index) UNIQUE\n #  index_customers_on_family_name_kana_and_given_name_kana       (family_name_kana,given_name_kana)\n+#  index_customers_on_gender_and_furigana                        (gender,family_name_kana,given_name_kana)\n #  index_customers_on_given_name_kana                            (given_name_kana)\n #\n</code></pre>"},{"location":"journal/20170207/#_21","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170207/#c07f4d4","title":"\u30b3\u30df\u30c3\u30c8: c07f4d4","text":""},{"location":"journal/20170207/#_22","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u691c\u7d22\u6587\u5b57\u5217\u306e\u6b63\u898f\u5316 #16\n</code></pre>"},{"location":"journal/20170207/#_23","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/forms/staff/customer_search_form.rb</li> </ul>"},{"location":"journal/20170207/#_24","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c07f4d40750afbb257493d7d74b0bd35f5109f39\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 7 15:30:47 2017 +0900\n\n    \u691c\u7d22\u6587\u5b57\u5217\u306e\u6b63\u898f\u5316 #16\n\ndiff --git a/README.md b/README.md\nindex d602654..77a1a03 100644\n--- a/README.md\n+++ b/README.md\n@@ -616,6 +616,7 @@ git push heroku master\n + index\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u4fee\u6b63\n + \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4fee\u6b63\uff08\uff11\uff09\n + \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4fee\u6b63\uff08\uff12\uff09\n++ \u691c\u7d22\u6587\u5b57\u5217\u306e\u6b63\u898f\u5316\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/forms/staff/customer_search_form.rb b/app/forms/staff/customer_search_form.rb\nindex 1500017..c63fcf1 100644\n--- a/app/forms/staff/customer_search_form.rb\n+++ b/app/forms/staff/customer_search_form.rb\n@@ -1,5 +1,6 @@\n class Staff::CustomerSearchForm\n   include ActiveModel::Model\n+  include StringNormalizer\n\n   attr_accessor :family_name_kana,\n                 :given_name_kana,\n@@ -12,6 +13,8 @@ class Staff::CustomerSearchForm\n                 :phone_number\n\n   def search\n+    normalize_values\n+\n     rel = Customer\n     if family_name_kana.present?\n       rel = rel.where(family_name_kana: family_name_kana)\n@@ -46,4 +49,12 @@ class Staff::CustomerSearchForm\n\n     rel.order(:family_name_kana, :given_name_kana)\n   end\n+\n+  private\n+  def normalize_values\n+    self.family_name_kana = normalize_as_furigana(family_name_kana)\n+    self.given_name_kana = normalize_as_furigana(given_name_kana)\n+    self.city = normalize_as_name(city)\n+    self.phone_number = normalize_as_phone_number(phone_number).try(:gsub,/\\D/, '')\n+  end\n end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170207/#5d85223","title":"\u30b3\u30df\u30c3\u30c8: 5d85223","text":""},{"location":"journal/20170207/#_25","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4fee\u6b63\uff08\uff12\uff09 #16\n</code></pre>"},{"location":"journal/20170207/#_26","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/customers_controller.rb</li> <li>M app/forms/staff/customer_search_form.rb</li> <li>M app/models/customer.rb</li> </ul>"},{"location":"journal/20170207/#_27","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 5d852237c6d67c1ce52c62d44edb2f7fc9aa5050\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 7 15:25:22 2017 +0900\n\n    \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4fee\u6b63\uff08\uff12\uff09 #16\n\ndiff --git a/README.md b/README.md\nindex fff94bb..d602654 100644\n--- a/README.md\n+++ b/README.md\n@@ -615,6 +615,7 @@ git push heroku master\n #### \u691c\u7d22\u6a5f\u80fd\u306e\u5b9f\u88c5\n + index\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u4fee\u6b63\n + \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4fee\u6b63\uff08\uff11\uff09\n++ \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4fee\u6b63\uff08\uff12\uff09\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/controllers/staff/customers_controller.rb b/app/controllers/staff/customers_controller.rb\nindex c840c22..b004ad4 100644\n--- a/app/controllers/staff/customers_controller.rb\n+++ b/app/controllers/staff/customers_controller.rb\n@@ -1,6 +1,10 @@\n class Staff::CustomersController &lt; Staff::Base\n   def index\n-    @search_form = Staff::CustomerSearchForm.new(search_params)\n+    if params[:search].nil?\n+      @search_form = Staff::CustomerSearchForm.new\n+    else\n+      @search_form = Staff::CustomerSearchForm.new(search_params)\n+    end\n     @customers = @search_form.search.page(params[:page])\n   end\n\ndiff --git a/app/forms/staff/customer_search_form.rb b/app/forms/staff/customer_search_form.rb\nindex f48f500..1500017 100644\n--- a/app/forms/staff/customer_search_form.rb\n+++ b/app/forms/staff/customer_search_form.rb\n@@ -23,6 +23,27 @@ class Staff::CustomerSearchForm\n     rel = rel.where(birth_month: birth_month) if birth_month.present?\n     rel = rel.where(birth_mday: birth_mday) if birth_mday.present?\n\n+    if prefecture.present? || city.present?\n+      case address_type\n+        when 'home'\n+          rel = rel.joins(:home_address)\n+        when 'work'\n+          rel = rel.joins(:work_address)\n+        when ''\n+          rel = rel.joins(:addresses)\n+        else\n+          raise\n+      end\n+      if prefecture.present?\n+        rel = rel.where('addresses.prefecture' =&gt; prefecture)\n+      end\n+      rel = rel.where('addresses.city' =&gt; city) if city.present?\n+    end\n+\n+    if phone_number.present?\n+      rel = rel.joins(:phones).where('phones.number_for_index' =&gt; phone_number)\n+    end\n+\n     rel.order(:family_name_kana, :given_name_kana)\n   end\n end\n\\ No newline at end of file\ndiff --git a/app/models/customer.rb b/app/models/customer.rb\nindex eec9620..30f20ba 100644\n--- a/app/models/customer.rb\n+++ b/app/models/customer.rb\n@@ -38,8 +38,9 @@ class Customer &lt; ApplicationRecord\n   include PersonalNameHolder\n   include PasswordHolder\n\n-  has_one :home_address, dependent: :destroy, autosave: true\n-  has_one :work_address, dependent: :destroy, autosave: true\n+  has_many :addresses, dependent: :destroy\n+  has_one :home_address, autosave: true\n+  has_one :work_address, autosave: true\n   has_many :phones, dependent: :destroy\n   has_many :personal_phones, -&gt; { where(address_id: nil).order(:id) },class_name: 'Phone', autosave: true\n</code></pre>"},{"location":"journal/20170207/#_28","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170207/#32560b5","title":"\u30b3\u30df\u30c3\u30c8: 32560b5","text":""},{"location":"journal/20170207/#_29","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4fee\u6b63\uff08\uff11\uff09 #16\n</code></pre>"},{"location":"journal/20170207/#_30","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/customers_controller.rb</li> <li>M app/forms/staff/customer_search_form.rb</li> </ul>"},{"location":"journal/20170207/#_31","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 32560b5a95213209dc73ac10606ca897d03117ad\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 7 15:07:22 2017 +0900\n\n    \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4fee\u6b63\uff08\uff11\uff09 #16\n\ndiff --git a/README.md b/README.md\nindex 11acab2..fff94bb 100644\n--- a/README.md\n+++ b/README.md\n@@ -614,6 +614,7 @@ git push heroku master\n\n #### \u691c\u7d22\u6a5f\u80fd\u306e\u5b9f\u88c5\n + index\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u4fee\u6b63\n++ \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4fee\u6b63\uff08\uff11\uff09\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/controllers/staff/customers_controller.rb b/app/controllers/staff/customers_controller.rb\nindex 842cd2d..c840c22 100644\n--- a/app/controllers/staff/customers_controller.rb\n+++ b/app/controllers/staff/customers_controller.rb\n@@ -1,6 +1,6 @@\n class Staff::CustomersController &lt; Staff::Base\n   def index\n-    @search_form = Staff::CustomerSearchForm.new(params[:search])\n+    @search_form = Staff::CustomerSearchForm.new(search_params)\n     @customers = @search_form.search.page(params[:page])\n   end\n\n@@ -46,4 +46,20 @@ class Staff::CustomersController &lt; Staff::Base\n     flash.notice = t('.flash_notice')\n     redirect_to :staff_customers\n   end\n+\n+  private\n+  def search_params\n+    params.require(:search).permit(\n+        :family_name_kana,\n+        :given_name_kana,\n+        :birth_year,\n+        :birth_month,\n+        :birth_mday,\n+        :address_type,\n+        :prefecture,\n+        :city,\n+        :phone_number\n+    )\n+  end\n+\n end\ndiff --git a/app/forms/staff/customer_search_form.rb b/app/forms/staff/customer_search_form.rb\nindex 696c289..f48f500 100644\n--- a/app/forms/staff/customer_search_form.rb\n+++ b/app/forms/staff/customer_search_form.rb\n@@ -10,4 +10,19 @@ class Staff::CustomerSearchForm\n                 :prefecture,\n                 :city,\n                 :phone_number\n+\n+  def search\n+    rel = Customer\n+    if family_name_kana.present?\n+      rel = rel.where(family_name_kana: family_name_kana)\n+    end\n+    if given_name_kana.present?\n+      rel = rel.where(given_name_kana: given_name_kana)\n+    end\n+    rel = rel.where(birth_year: birth_year) if birth_year.present?\n+    rel = rel.where(birth_month: birth_month) if birth_month.present?\n+    rel = rel.where(birth_mday: birth_mday) if birth_mday.present?\n+\n+    rel.order(:family_name_kana, :given_name_kana)\n+  end\n end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170207/#_32","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170207/#e18b0a1","title":"\u30b3\u30df\u30c3\u30c8: e18b0a1","text":""},{"location":"journal/20170207/#_33","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>index\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u4fee\u6b63 #16\n</code></pre>"},{"location":"journal/20170207/#_34","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/customers_controller.rb</li> </ul>"},{"location":"journal/20170207/#_35","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit e18b0a1b46bf48c78a9a98c59da5189bb60a8765\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 7 14:56:55 2017 +0900\n\n    index\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u4fee\u6b63 #16\n\ndiff --git a/README.md b/README.md\nindex 6e17a88..11acab2 100644\n--- a/README.md\n+++ b/README.md\n@@ -613,6 +613,8 @@ git push heroku master\n + \u691c\u7d22\u30d5\u30a9\u30fc\u30e0\u306e\u8868\u793a\n\n #### \u691c\u7d22\u6a5f\u80fd\u306e\u5b9f\u88c5\n++ index\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u4fee\u6b63\n+\n #### \u6f14\u7fd2\u554f\u984c\n\n **[\u2b06 back to top](#\u69cb\u6210)**\ndiff --git a/app/controllers/staff/customers_controller.rb b/app/controllers/staff/customers_controller.rb\nindex 6568707..842cd2d 100644\n--- a/app/controllers/staff/customers_controller.rb\n+++ b/app/controllers/staff/customers_controller.rb\n@@ -1,7 +1,7 @@\n class Staff::CustomersController &lt; Staff::Base\n   def index\n-    @search_form = Staff::CustomerSearchForm.new\n-    @customers = Customer.order(:family_name_kana, :given_name_kana).page(params[:page])\n+    @search_form = Staff::CustomerSearchForm.new(params[:search])\n+    @customers = @search_form.search.page(params[:page])\n   end\n\n   def show\n</code></pre>"},{"location":"journal/20170207/#_36","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170207/#be04433","title":"\u30b3\u30df\u30c3\u30c8: be04433","text":""},{"location":"journal/20170207/#_37","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u691c\u7d22\u30d5\u30a9\u30fc\u30e0\u306e\u8868\u793a #16\n</code></pre>"},{"location":"journal/20170207/#_38","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/stylesheets/components/_appForm.scss</li> <li>M app/controllers/staff/customers_controller.rb</li> <li>A app/forms/staff/customer_search_form.rb</li> <li>M app/presenters/form_presenter.rb</li> <li>A app/views/staff/customers/_search_form.html.erb</li> <li>M app/views/staff/customers/index.html.erb</li> <li>M config/locales/models/ja.yml</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170207/#_39","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit be0443324730070ff8f009336d08821de76e7642\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 7 14:53:26 2017 +0900\n\n    \u691c\u7d22\u30d5\u30a9\u30fc\u30e0\u306e\u8868\u793a #16\n\ndiff --git a/README.md b/README.md\nindex ae630b8..6e17a88 100644\n--- a/README.md\n+++ b/README.md\n@@ -610,6 +610,7 @@ git push heroku master\n + \u9867\u5ba2\u691c\u7d22\u6a5f\u80fd\u306e\u4ed5\u69d8\n + \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b9\u30ad\u30fc\u30de\u306e\u898b\u76f4\u3057\n + \u8a95\u751f\u65e5\u3001\u8a95\u751f\u6708\u3001\u8a95\u751f\u65e5\u306e\u8a2d\u5b9a\n++ \u691c\u7d22\u30d5\u30a9\u30fc\u30e0\u306e\u8868\u793a\n\n #### \u691c\u7d22\u6a5f\u80fd\u306e\u5b9f\u88c5\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/assets/stylesheets/components/_appForm.scss b/app/assets/stylesheets/components/_appForm.scss\nindex a148bf7..591163e 100644\n--- a/app/assets/stylesheets/components/_appForm.scss\n+++ b/app/assets/stylesheets/components/_appForm.scss\n@@ -46,4 +46,14 @@\n   &amp;__input-block {\n     input { margin-right: $narrow * 2; }\n   }\n+  &amp;__search {\n+    padding: $wide;\n+    border: solid $dark_gray 1px;\n+    background-color: $very_light_gray;\n+    div {\n+      display: inline-block;\n+      margin-right: $moderate $very_wide $moderate 0;\n+      label { margin-right: $moderate }\n+    }\n+  }\n }\n\\ No newline at end of file\ndiff --git a/app/controllers/staff/customers_controller.rb b/app/controllers/staff/customers_controller.rb\nindex 3969abe..6568707 100644\n--- a/app/controllers/staff/customers_controller.rb\n+++ b/app/controllers/staff/customers_controller.rb\n@@ -1,5 +1,6 @@\n class Staff::CustomersController &lt; Staff::Base\n   def index\n+    @search_form = Staff::CustomerSearchForm.new\n     @customers = Customer.order(:family_name_kana, :given_name_kana).page(params[:page])\n   end\n\ndiff --git a/app/forms/staff/customer_search_form.rb b/app/forms/staff/customer_search_form.rb\nnew file mode 100644\nindex 0000000..696c289\n--- /dev/null\n+++ b/app/forms/staff/customer_search_form.rb\n@@ -0,0 +1,13 @@\n+class Staff::CustomerSearchForm\n+  include ActiveModel::Model\n+\n+  attr_accessor :family_name_kana,\n+                :given_name_kana,\n+                :birth_year,\n+                :birth_month,\n+                :birth_mday,\n+                :address_type,\n+                :prefecture,\n+                :city,\n+                :phone_number\n+end\n\\ No newline at end of file\ndiff --git a/app/presenters/form_presenter.rb b/app/presenters/form_presenter.rb\nindex 2695a43..545467e 100644\n--- a/app/presenters/form_presenter.rb\n+++ b/app/presenters/form_presenter.rb\n@@ -53,7 +53,7 @@ class FormPresenter\n\n   def drop_down_list_block(name, label_text, choices, options ={})\n     markup(:div, class: 'AppForm__input-block') do |m|\n-      m &lt;&lt; form_builder.select(name, choices, { include_blank: true }, options)\n+      m &lt;&lt; form_builder.select(name, choices, options.merge(include_blank: true).merge(label: label_text))\n     end\n   end\n\ndiff --git a/app/views/staff/customers/_search_form.html.erb b/app/views/staff/customers/_search_form.html.erb\nnew file mode 100644\nindex 0000000..3c51099\n--- /dev/null\n+++ b/app/views/staff/customers/_search_form.html.erb\n@@ -0,0 +1,20 @@\n+&lt;%= bootstrap_form_for @search_form, as: 'search', url: :staff_customers, html: { method: :get, class: 'AppForm__search' } ,layout: :inline do |f| %&gt;\n+    &lt;%= markup do |m|\n+      p = FormPresenter.new(f, self)\n+      m &lt;&lt; p.text_field_block(:family_name_kana, t('activerecord.attributes.customer.family_name_kana'))\n+      m &lt;&lt; p.text_field_block(:given_name_kana, t('activerecord.attributes.customer.given_name_kana'))\n+      m.br\n+      m &lt;&lt; p.drop_down_list_block(:birth_year, t('activerecord.attributes.customer.birthday') ,(1900..Time.current.year).to_a.reverse)\n+      m &lt;&lt; p.drop_down_list_block(:birth_month, t('activerecord.attributes.customer.birth_month'),1..12)\n+      m &lt;&lt; p.drop_down_list_block(:birth_mday, t('activerecord.attributes.customer.birth_mday'),1..31)\n+      m.br\n+      m.div do\n+        m &lt;&lt; p.drop_down_list_block(:address_type, t('staff.shared.search.address_type.range')+':',[ [t('staff.shared.search.address_type.home'),'home'],[t('staff.shared.search.address_type.work'),'work']])\n+      end\n+      m &lt;&lt; p.drop_down_list_block(:prefecture, t('activerecord.attributes.address.prefecture')+':', Address::PREFECTURE_NAMES)\n+      m &lt;&lt; p.text_field_block(:city, t('activerecord.attributes.address.city'))\n+      m.br\n+      m &lt;&lt; p.text_field_block(:phone_number, t('activerecord.attributes.phone.number')+':')\n+      m &lt;&lt; f.submit(t('staff.shared.search.submit'))\n+      end %&gt;\n+&lt;% end %&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/customers/index.html.erb b/app/views/staff/customers/index.html.erb\nindex 4978613..2fd20aa 100644\n--- a/app/views/staff/customers/index.html.erb\n+++ b/app/views/staff/customers/index.html.erb\n@@ -8,6 +8,8 @@\n     &lt;%= link_to t('.new'), :new_staff_customer, class: 'btn btn-default' %&gt;\n   &lt;/div&gt;\n\n+  &lt;%= render 'search_form' %&gt;\n+\n   &lt;%= paginate @customers %&gt;\n\n   &lt;table class=\"Table__body Table__body--listing StaffTable__body\"&gt;\ndiff --git a/config/locales/models/ja.yml b/config/locales/models/ja.yml\nindex b5c2b2f..013f874 100644\n--- a/config/locales/models/ja.yml\n+++ b/config/locales/models/ja.yml\n@@ -52,6 +52,9 @@ ja:\n         work_address: \u52e4\u52d9\u5148\n         full_name: \u6c0f\u540d\n         full_name_kana: \u30d5\u30ea\u30ac\u30ca\n+        birth_year: \u8a95\u751f\u5e74\n+        birth_month: \u8a95\u751f\u6708\n+        birth_mday: \u8a95\u751f\u65e5\n\n       address:\n         postal_code: \u90f5\u4fbf\u756a\u53f7\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 446ccfa..bb05948 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -5,6 +5,12 @@ ja:\n         login: '\u30ed\u30b0\u30a4\u30f3'\n         logout: '\u30ed\u30b0\u30a2\u30a6\u30c8'\n         account: '\u30a2\u30ab\u30a6\u30f3\u30c8'\n+      search:\n+        address_type:\n+          range: '\u4f4f\u6240\u306e\u691c\u7d22\u7bc4\u56f2'\n+          home: '\u81ea\u5b85\u4f4f\u6240\u306e\u307f'\n+          work: '\u52e4\u52d9\u5148\u306e\u307f'\n+        submit: '\u691c\u7d22'\n     sessions:\n       new:\n         submit: '\u30ed\u30b0\u30a4\u30f3'\n</code></pre>"},{"location":"journal/20170207/#_40","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170207/#e6b074a","title":"\u30b3\u30df\u30c3\u30c8: e6b074a","text":""},{"location":"journal/20170207/#_41","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8a95\u751f\u65e5\u3001\u8a95\u751f\u6708\u3001\u8a95\u751f\u65e5\u306e\u8a2d\u5b9a #16\n</code></pre>"},{"location":"journal/20170207/#_42","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/customer.rb</li> <li>A db/migrate/20170207044130_update_customer1.rb</li> <li>M db/schema.rb</li> <li>M spec/factories/customers.rb</li> </ul>"},{"location":"journal/20170207/#_43","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit e6b074a50a4ca45810701f790dc5c5fdf708378f\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 7 13:56:12 2017 +0900\n\n    \u8a95\u751f\u65e5\u3001\u8a95\u751f\u6708\u3001\u8a95\u751f\u65e5\u306e\u8a2d\u5b9a #16\n\ndiff --git a/README.md b/README.md\nindex eb6c484..ae630b8 100644\n--- a/README.md\n+++ b/README.md\n@@ -609,6 +609,7 @@ git push heroku master\n #### \u9867\u5ba2\u691c\u7d22\u30d5\u30a9\u30fc\u30e0\n + \u9867\u5ba2\u691c\u7d22\u6a5f\u80fd\u306e\u4ed5\u69d8\n + \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b9\u30ad\u30fc\u30de\u306e\u898b\u76f4\u3057\n++ \u8a95\u751f\u65e5\u3001\u8a95\u751f\u6708\u3001\u8a95\u751f\u65e5\u306e\u8a2d\u5b9a\n\n #### \u691c\u7d22\u6a5f\u80fd\u306e\u5b9f\u88c5\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/models/customer.rb b/app/models/customer.rb\nindex 55327ae..eec9620 100644\n--- a/app/models/customer.rb\n+++ b/app/models/customer.rb\n@@ -14,9 +14,9 @@\n #  hashed_password  :string(255)                            # \u30d1\u30b9\u30ef\u30fc\u30c9\n #  created_at       :datetime         not null\n #  updated_at       :datetime         not null\n-#  birth_year       :integer                                # \u8a95\u751f\u65e5\u5e74\n-#  birth_month      :integer                                # \u8a95\u751f\u65e5\u6708\n-#  birth_mday       :integer                                # \u8a95\u751f\u65e5\u65e5\n+#  birth_year       :integer                                # \u8a95\u751f\u5e74\n+#  birth_month      :integer                                # \u8a95\u751f\u6708\n+#  birth_mday       :integer                                # \u8a95\u751f\u65e5\n #\n # Indexes\n #\n@@ -49,4 +49,12 @@ class Customer &lt; ApplicationRecord\n       before: -&gt;(obj) { Date.today },\n       allow_blank: true\n   }\n+\n+  before_save do\n+    if birthday\n+      self.birth_year = birthday.year\n+      self.birth_month = birthday.month\n+      self.birth_mday = birthday.mday\n+    end\n+  end\n end\ndiff --git a/db/migrate/20170207044130_update_customer1.rb b/db/migrate/20170207044130_update_customer1.rb\nnew file mode 100644\nindex 0000000..5d6ecfb\n--- /dev/null\n+++ b/db/migrate/20170207044130_update_customer1.rb\n@@ -0,0 +1,22 @@\n+class UpdateCustomer1 &lt; ActiveRecord::Migration[5.0]\n+  def up\n+    if Rails.env != 'test'\n+      execute(%q{\n+      UPDATE customers SET birth_year = EXTRACT(YEAR FROM birthday),\n+       birth_month = EXTRACT(MONTH FROM birthday),\n+       birth_mday = EXTRACT(DAY FROM birthday)\n+       WHERE birthday IS NOT NULL\n+    })\n+    end\n+  end\n+\n+  def down\n+    if Rails.env != 'test'\n+      execute(%q{\n+      UPDATE customers SET birth_year = NULL,\n+       birth_month = NULL,\n+       birth_mday = NULL\n+    })\n+    end\n+  end\n+end\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 8c5917b..7678b16 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -10,9 +10,9 @@\n #\n # It's strongly recommended that you check this file into your version control system.\n\n-ActiveRecord::Schema.define(version: 20170207042122) do\n+ActiveRecord::Schema.define(version: 20170207044130) do\n\n-  create_table \"addresses\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u4f4f\u6240\" do |t|\n+  create_table \"addresses\", force: :cascade, comment: \"\u4f4f\u6240\" do |t|\n     t.integer  \"customer_id\",                null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",                       null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n     t.string   \"postal_code\",                null: false, comment: \"\u90f5\u4fbf\u756a\u53f7\"\n@@ -32,7 +32,7 @@ ActiveRecord::Schema.define(version: 20170207042122) do\n     t.index [\"type\", \"prefecture\", \"city\"], name: \"index_addresses_on_type_and_prefecture_and_city\", using: :btree\n   end\n\n-  create_table \"administrators\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u7ba1\u7406\u8005\" do |t|\n+  create_table \"administrators\", force: :cascade,  comment: \"\u7ba1\u7406\u8005\" do |t|\n     t.string   \"email\",                           null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"hashed_password\",                              comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n@@ -42,7 +42,7 @@ ActiveRecord::Schema.define(version: 20170207042122) do\n     t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true, using: :btree\n   end\n\n-  create_table \"customers\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u9867\u5ba2\" do |t|\n+  create_table \"customers\", force: :cascade,  comment: \"\u9867\u5ba2\" do |t|\n     t.string   \"email\",            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",  null: false, comment: \"\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",      null: false, comment: \"\u59d3\"\n@@ -70,7 +70,7 @@ ActiveRecord::Schema.define(version: 20170207042122) do\n     t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\", using: :btree\n   end\n\n-  create_table \"phones\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u96fb\u8a71\" do |t|\n+  create_table \"phones\", force: :cascade,  comment: \"\u96fb\u8a71\" do |t|\n     t.integer  \"customer_id\",                      null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.integer  \"address_id\",                                    comment: \"\u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"number\",                           null: false, comment: \"\u96fb\u8a71\u756a\u53f7\"\n@@ -83,7 +83,7 @@ ActiveRecord::Schema.define(version: 20170207042122) do\n     t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\", using: :btree\n   end\n\n-  create_table \"staff_events\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n+  create_table \"staff_events\", force: :cascade,  comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n     t.integer  \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",            null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n     t.datetime \"created_at\",      null: false, comment: \"\u767a\u751f\u6642\u523b\"\n@@ -92,7 +92,7 @@ ActiveRecord::Schema.define(version: 20170207042122) do\n     t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\", using: :btree\n   end\n\n-  create_table \"staff_members\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\" do |t|\n+  create_table \"staff_members\", force: :cascade,  comment: \"\u8077\u54e1\" do |t|\n     t.string   \"email\",                            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                  null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",                      null: false, comment: \"\u59d3\"\ndiff --git a/spec/factories/customers.rb b/spec/factories/customers.rb\nindex 185b72d..3e9abab 100644\n--- a/spec/factories/customers.rb\n+++ b/spec/factories/customers.rb\n@@ -14,9 +14,9 @@\n #  hashed_password  :string(255)                            # \u30d1\u30b9\u30ef\u30fc\u30c9\n #  created_at       :datetime         not null\n #  updated_at       :datetime         not null\n-#  birth_year       :integer                                # \u8a95\u751f\u65e5\uff08\u5e74\uff09\n-#  birth_month      :integer                                # \u8a95\u751f\u65e5\uff08\u6708\uff09\n-#  birth_mday       :integer                                # \u8a95\u751f\u65e5\uff08\u65e5\uff09\n+#  birth_year       :integer                                # \u8a95\u751f\u5e74\n+#  birth_month      :integer                                # \u8a95\u751f\u6708\n+#  birth_mday       :integer                                # \u8a95\u751f\u65e5\n #\n # Indexes\n #\n</code></pre>"},{"location":"journal/20170207/#_44","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170207/#419b461","title":"\u30b3\u30df\u30c3\u30c8: 419b461","text":""},{"location":"journal/20170207/#_45","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b9\u30ad\u30fc\u30de\u306e\u898b\u76f4\u3057 #16\n</code></pre>"},{"location":"journal/20170207/#_46","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/address.rb</li> <li>M app/models/customer.rb</li> <li>M app/models/home_address.rb</li> <li>M app/models/work_address.rb</li> <li>A db/migrate/20170207042109_alter_customers1.rb</li> <li>A db/migrate/20170207042122_alter_addresses1.rb</li> <li>M db/schema.rb</li> <li>M spec/factories/addresses.rb</li> <li>M spec/factories/customers.rb</li> </ul>"},{"location":"journal/20170207/#_47","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 419b461a6a5649ade66b1f19a813dd9a5b8451e2\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 7 13:32:38 2017 +0900\n\n    \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b9\u30ad\u30fc\u30de\u306e\u898b\u76f4\u3057 #16\n\ndiff --git a/README.md b/README.md\nindex c678175..eb6c484 100644\n--- a/README.md\n+++ b/README.md\n@@ -607,6 +607,9 @@ git push heroku master\n\n ### \u691c\u7d22\u30d5\u30a9\u30fc\u30e0\n #### \u9867\u5ba2\u691c\u7d22\u30d5\u30a9\u30fc\u30e0\n++ \u9867\u5ba2\u691c\u7d22\u6a5f\u80fd\u306e\u4ed5\u69d8\n++ \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b9\u30ad\u30fc\u30de\u306e\u898b\u76f4\u3057\n+\n #### \u691c\u7d22\u6a5f\u80fd\u306e\u5b9f\u88c5\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/models/address.rb b/app/models/address.rb\nindex b8ab123..f7db6f8 100644\n--- a/app/models/address.rb\n+++ b/app/models/address.rb\n@@ -17,8 +17,12 @@\n #\n # Indexes\n #\n-#  index_addresses_on_customer_id           (customer_id)\n-#  index_addresses_on_type_and_customer_id  (type,customer_id) UNIQUE\n+#  index_addresses_on_city                          (city)\n+#  index_addresses_on_customer_id                   (customer_id)\n+#  index_addresses_on_prefecture_and_city           (prefecture,city)\n+#  index_addresses_on_type_and_city                 (type,city)\n+#  index_addresses_on_type_and_customer_id          (type,customer_id) UNIQUE\n+#  index_addresses_on_type_and_prefecture_and_city  (type,prefecture,city)\n #\n\n class Address &lt; ApplicationRecord\ndiff --git a/app/models/customer.rb b/app/models/customer.rb\nindex 423e927..55327ae 100644\n--- a/app/models/customer.rb\n+++ b/app/models/customer.rb\n@@ -14,11 +14,23 @@\n #  hashed_password  :string(255)                            # \u30d1\u30b9\u30ef\u30fc\u30c9\n #  created_at       :datetime         not null\n #  updated_at       :datetime         not null\n+#  birth_year       :integer                                # \u8a95\u751f\u65e5\u5e74\n+#  birth_month      :integer                                # \u8a95\u751f\u65e5\u6708\n+#  birth_mday       :integer                                # \u8a95\u751f\u65e5\u65e5\n #\n # Indexes\n #\n-#  index_customers_on_email_for_index                       (email_for_index) UNIQUE\n-#  index_customers_on_family_name_kana_and_given_name_kana  (family_name_kana,given_name_kana)\n+#  index_customers_on_birth_mday_and_furigana                    (birth_mday,family_name_kana,given_name_kana)\n+#  index_customers_on_birth_mday_and_given_name_kana             (birth_mday,given_name_kana)\n+#  index_customers_on_birth_month_and_birth_mday                 (birth_month,birth_mday)\n+#  index_customers_on_birth_month_and_furigana                   (birth_month,family_name_kana,given_name_kana)\n+#  index_customers_on_birth_month_and_given_name_kana            (birth_month,given_name_kana)\n+#  index_customers_on_birth_year_and_birth_month_and_birth_mday  (birth_year,birth_month,birth_mday)\n+#  index_customers_on_birth_year_and_furigana                    (birth_year,family_name_kana,given_name_kana)\n+#  index_customers_on_birth_year_and_given_name_kana             (birth_year,given_name_kana)\n+#  index_customers_on_email_for_index                            (email_for_index) UNIQUE\n+#  index_customers_on_family_name_kana_and_given_name_kana       (family_name_kana,given_name_kana)\n+#  index_customers_on_given_name_kana                            (given_name_kana)\n #\n\n class Customer &lt; ApplicationRecord\ndiff --git a/app/models/home_address.rb b/app/models/home_address.rb\nindex fd3aa3e..da88407 100644\n--- a/app/models/home_address.rb\n+++ b/app/models/home_address.rb\n@@ -17,8 +17,12 @@\n #\n # Indexes\n #\n-#  index_addresses_on_customer_id           (customer_id)\n-#  index_addresses_on_type_and_customer_id  (type,customer_id) UNIQUE\n+#  index_addresses_on_city                          (city)\n+#  index_addresses_on_customer_id                   (customer_id)\n+#  index_addresses_on_prefecture_and_city           (prefecture,city)\n+#  index_addresses_on_type_and_city                 (type,city)\n+#  index_addresses_on_type_and_customer_id          (type,customer_id) UNIQUE\n+#  index_addresses_on_type_and_prefecture_and_city  (type,prefecture,city)\n #\n\n class HomeAddress &lt; Address\ndiff --git a/app/models/work_address.rb b/app/models/work_address.rb\nindex de8d396..0ba0773 100644\n--- a/app/models/work_address.rb\n+++ b/app/models/work_address.rb\n@@ -17,8 +17,12 @@\n #\n # Indexes\n #\n-#  index_addresses_on_customer_id           (customer_id)\n-#  index_addresses_on_type_and_customer_id  (type,customer_id) UNIQUE\n+#  index_addresses_on_city                          (city)\n+#  index_addresses_on_customer_id                   (customer_id)\n+#  index_addresses_on_prefecture_and_city           (prefecture,city)\n+#  index_addresses_on_type_and_city                 (type,city)\n+#  index_addresses_on_type_and_customer_id          (type,customer_id) UNIQUE\n+#  index_addresses_on_type_and_prefecture_and_city  (type,prefecture,city)\n #\n\n class WorkAddress &lt; Address\ndiff --git a/db/migrate/20170207042109_alter_customers1.rb b/db/migrate/20170207042109_alter_customers1.rb\nnew file mode 100644\nindex 0000000..1e0ffe5\n--- /dev/null\n+++ b/db/migrate/20170207042109_alter_customers1.rb\n@@ -0,0 +1,17 @@\n+class AlterCustomers1 &lt; ActiveRecord::Migration[5.0]\n+  def change\n+    add_column :customers, :birth_year, :integer, comment:'\u8a95\u751f\u5e74'\n+    add_column :customers, :birth_month, :integer, comment:'\u8a95\u751f\u6708'\n+    add_column :customers, :birth_mday, :integer, comment:'\u8a95\u751f\u65e5'\n+\n+    add_index :customers, [ :birth_year, :birth_month, :birth_mday ]\n+    add_index :customers, [ :birth_month, :birth_mday ]\n+    add_index :customers, :given_name_kana\n+    add_index :customers, [ :birth_year, :family_name_kana, :given_name_kana ], name: 'index_customers_on_birth_year_and_furigana'\n+    add_index :customers, [ :birth_year, :given_name_kana ]\n+    add_index :customers, [ :birth_month, :family_name_kana, :given_name_kana ], name: 'index_customers_on_birth_month_and_furigana'\n+    add_index :customers, [ :birth_month, :given_name_kana ]\n+    add_index :customers, [ :birth_mday, :family_name_kana, :given_name_kana ], name: 'index_customers_on_birth_mday_and_furigana'\n+    add_index :customers, [ :birth_mday, :given_name_kana ]\n+  end\n+end\ndiff --git a/db/migrate/20170207042122_alter_addresses1.rb b/db/migrate/20170207042122_alter_addresses1.rb\nnew file mode 100644\nindex 0000000..a295639\n--- /dev/null\n+++ b/db/migrate/20170207042122_alter_addresses1.rb\n@@ -0,0 +1,8 @@\n+class AlterAddresses1 &lt; ActiveRecord::Migration[5.0]\n+  def change\n+    add_index :addresses, [ :type, :prefecture, :city ]\n+    add_index :addresses, [ :type, :city ]\n+    add_index :addresses, [ :prefecture, :city ]\n+    add_index :addresses, :city\n+  end\n+end\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 7285822..8c5917b 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -10,9 +10,9 @@\n #\n # It's strongly recommended that you check this file into your version control system.\n\n-ActiveRecord::Schema.define(version: 20170206085929) do\n+ActiveRecord::Schema.define(version: 20170207042122) do\n\n-  create_table \"addresses\", force: :cascade,  comment: \"\u4f4f\u6240\" do |t|\n+  create_table \"addresses\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u4f4f\u6240\" do |t|\n     t.integer  \"customer_id\",                null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",                       null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n     t.string   \"postal_code\",                null: false, comment: \"\u90f5\u4fbf\u756a\u53f7\"\n@@ -24,11 +24,15 @@ ActiveRecord::Schema.define(version: 20170206085929) do\n     t.string   \"division_name\", default: \"\", null: false, comment: \"\u90e8\u7f72\u540d\"\n     t.datetime \"created_at\",                 null: false\n     t.datetime \"updated_at\",                 null: false\n+    t.index [\"city\"], name: \"index_addresses_on_city\", using: :btree\n     t.index [\"customer_id\"], name: \"index_addresses_on_customer_id\", using: :btree\n+    t.index [\"prefecture\", \"city\"], name: \"index_addresses_on_prefecture_and_city\", using: :btree\n+    t.index [\"type\", \"city\"], name: \"index_addresses_on_type_and_city\", using: :btree\n     t.index [\"type\", \"customer_id\"], name: \"index_addresses_on_type_and_customer_id\", unique: true, using: :btree\n+    t.index [\"type\", \"prefecture\", \"city\"], name: \"index_addresses_on_type_and_prefecture_and_city\", using: :btree\n   end\n\n-  create_table \"administrators\", force: :cascade,  comment: \"\u7ba1\u7406\u8005\" do |t|\n+  create_table \"administrators\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u7ba1\u7406\u8005\" do |t|\n     t.string   \"email\",                           null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"hashed_password\",                              comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n@@ -38,7 +42,7 @@ ActiveRecord::Schema.define(version: 20170206085929) do\n     t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true, using: :btree\n   end\n\n-  create_table \"customers\", force: :cascade,  comment: \"\u9867\u5ba2\" do |t|\n+  create_table \"customers\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u9867\u5ba2\" do |t|\n     t.string   \"email\",            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",  null: false, comment: \"\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",      null: false, comment: \"\u59d3\"\n@@ -50,11 +54,23 @@ ActiveRecord::Schema.define(version: 20170206085929) do\n     t.string   \"hashed_password\",               comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n     t.datetime \"created_at\",       null: false\n     t.datetime \"updated_at\",       null: false\n+    t.integer  \"birth_year\",                    comment: \"\u8a95\u751f\u5e74\"\n+    t.integer  \"birth_month\",                   comment: \"\u8a95\u751f\u6708\"\n+    t.integer  \"birth_mday\",                    comment: \"\u8a95\u751f\u65e5\"\n+    t.index [\"birth_mday\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_furigana\", using: :btree\n+    t.index [\"birth_mday\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_given_name_kana\", using: :btree\n+    t.index [\"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_month_and_birth_mday\", using: :btree\n+    t.index [\"birth_month\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_furigana\", using: :btree\n+    t.index [\"birth_month\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_given_name_kana\", using: :btree\n+    t.index [\"birth_year\", \"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_year_and_birth_month_and_birth_mday\", using: :btree\n+    t.index [\"birth_year\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_furigana\", using: :btree\n+    t.index [\"birth_year\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_given_name_kana\", using: :btree\n     t.index [\"email_for_index\"], name: \"index_customers_on_email_for_index\", unique: true, using: :btree\n     t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_family_name_kana_and_given_name_kana\", using: :btree\n+    t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\", using: :btree\n   end\n\n-  create_table \"phones\", force: :cascade, comment: \"\u96fb\u8a71\" do |t|\n+  create_table \"phones\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u96fb\u8a71\" do |t|\n     t.integer  \"customer_id\",                      null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.integer  \"address_id\",                                    comment: \"\u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"number\",                           null: false, comment: \"\u96fb\u8a71\u756a\u53f7\"\n@@ -67,7 +83,7 @@ ActiveRecord::Schema.define(version: 20170206085929) do\n     t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\", using: :btree\n   end\n\n-  create_table \"staff_events\", force: :cascade,  comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n+  create_table \"staff_events\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n     t.integer  \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",            null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n     t.datetime \"created_at\",      null: false, comment: \"\u767a\u751f\u6642\u523b\"\n@@ -76,7 +92,7 @@ ActiveRecord::Schema.define(version: 20170206085929) do\n     t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\", using: :btree\n   end\n\n-  create_table \"staff_members\", force: :cascade,  comment: \"\u8077\u54e1\" do |t|\n+  create_table \"staff_members\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\" do |t|\n     t.string   \"email\",                            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                  null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",                      null: false, comment: \"\u59d3\"\ndiff --git a/spec/factories/addresses.rb b/spec/factories/addresses.rb\nindex 076c809..39737ae 100644\n--- a/spec/factories/addresses.rb\n+++ b/spec/factories/addresses.rb\n@@ -17,8 +17,12 @@\n #\n # Indexes\n #\n-#  index_addresses_on_customer_id           (customer_id)\n-#  index_addresses_on_type_and_customer_id  (type,customer_id) UNIQUE\n+#  index_addresses_on_city                          (city)\n+#  index_addresses_on_customer_id                   (customer_id)\n+#  index_addresses_on_prefecture_and_city           (prefecture,city)\n+#  index_addresses_on_type_and_city                 (type,city)\n+#  index_addresses_on_type_and_customer_id          (type,customer_id) UNIQUE\n+#  index_addresses_on_type_and_prefecture_and_city  (type,prefecture,city)\n #\n\n FactoryGirl.define do\ndiff --git a/spec/factories/customers.rb b/spec/factories/customers.rb\nindex 9cec838..185b72d 100644\n--- a/spec/factories/customers.rb\n+++ b/spec/factories/customers.rb\n@@ -14,11 +14,23 @@\n #  hashed_password  :string(255)                            # \u30d1\u30b9\u30ef\u30fc\u30c9\n #  created_at       :datetime         not null\n #  updated_at       :datetime         not null\n+#  birth_year       :integer                                # \u8a95\u751f\u65e5\uff08\u5e74\uff09\n+#  birth_month      :integer                                # \u8a95\u751f\u65e5\uff08\u6708\uff09\n+#  birth_mday       :integer                                # \u8a95\u751f\u65e5\uff08\u65e5\uff09\n #\n # Indexes\n #\n-#  index_customers_on_email_for_index                       (email_for_index) UNIQUE\n-#  index_customers_on_family_name_kana_and_given_name_kana  (family_name_kana,given_name_kana)\n+#  index_customers_on_birth_mday_and_furigana                    (birth_mday,family_name_kana,given_name_kana)\n+#  index_customers_on_birth_mday_and_given_name_kana             (birth_mday,given_name_kana)\n+#  index_customers_on_birth_month_and_birth_mday                 (birth_month,birth_mday)\n+#  index_customers_on_birth_month_and_furigana                   (birth_month,family_name_kana,given_name_kana)\n+#  index_customers_on_birth_month_and_given_name_kana            (birth_month,given_name_kana)\n+#  index_customers_on_birth_year_and_birth_month_and_birth_mday  (birth_year,birth_month,birth_mday)\n+#  index_customers_on_birth_year_and_furigana                    (birth_year,family_name_kana,given_name_kana)\n+#  index_customers_on_birth_year_and_given_name_kana             (birth_year,given_name_kana)\n+#  index_customers_on_email_for_index                            (email_for_index) UNIQUE\n+#  index_customers_on_family_name_kana_and_given_name_kana       (family_name_kana,given_name_kana)\n+#  index_customers_on_given_name_kana                            (given_name_kana)\n #\n\n FactoryGirl.define do\n</code></pre>"},{"location":"journal/20170207/#_48","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170207/#fe94bbc","title":"\u30b3\u30df\u30c3\u30c8: fe94bbc","text":""},{"location":"journal/20170207/#_49","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u691c\u7d22\u30d5\u30a9\u30fc\u30e0 #16\n</code></pre>"},{"location":"journal/20170207/#_50","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170207/#_51","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit fe94bbcb979f2e2186a4cddacd63146bbbd12e8c\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 7 13:18:11 2017 +0900\n\n    \u691c\u7d22\u30d5\u30a9\u30fc\u30e0 #16\n\ndiff --git a/README.md b/README.md\nindex 05708e9..c678175 100644\n--- a/README.md\n+++ b/README.md\n@@ -606,6 +606,10 @@ git push heroku master\n + \u52e4\u52d9\u5148\u96fb\u8a71\u756a\u53f7\u306e\u65b0\u898f\u767b\u9332\u3001\u66f4\u65b0\u3001\u524a\u9664\n\n ### \u691c\u7d22\u30d5\u30a9\u30fc\u30e0\n+#### \u9867\u5ba2\u691c\u7d22\u30d5\u30a9\u30fc\u30e0\n+#### \u691c\u7d22\u6a5f\u80fd\u306e\u5b9f\u88c5\n+#### \u6f14\u7fd2\u554f\u984c\n+\n **[\u2b06 back to top](#\u69cb\u6210)**\n\n # \u53c2\u7167 #\n</code></pre>"},{"location":"journal/20170207/#3d93787","title":"\u30b3\u30df\u30c3\u30c8: 3d93787","text":""},{"location":"journal/20170207/#_52","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 #15\n</code></pre>"},{"location":"journal/20170207/#_53","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170207/#_54","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 3d937870417ca43530577df2dc3c9a6b66b76ec7\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 7 13:09:48 2017 +0900\n\n    \u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 #15\n\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex cda3f0f..3bf7df0 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-2-7\"&gt;2017.2.7&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u7ba1\u7406\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-2-4\"&gt;2017.2.4&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u9867\u5ba2\u7ba1\u7406\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n</code></pre>"},{"location":"journal/20170207/#0322718","title":"\u30b3\u30df\u30c3\u30c8: 0322718","text":""},{"location":"journal/20170207/#_55","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u52e4\u52d9\u5148\u96fb\u8a71\u756a\u53f7\u306e\u65b0\u898f\u767b\u9332\u3001\u66f4\u65b0\u3001\u524a\u9664 #15\n</code></pre>"},{"location":"journal/20170207/#_56","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/forms/staff/customer_form.rb</li> <li>M app/views/staff/customers/_work_address_fields.html.erb</li> </ul>"},{"location":"journal/20170207/#_57","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 032271828bbbdbad0ee7302d82a64cd49124caa1\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 7 13:07:45 2017 +0900\n\n    \u52e4\u52d9\u5148\u96fb\u8a71\u756a\u53f7\u306e\u65b0\u898f\u767b\u9332\u3001\u66f4\u65b0\u3001\u524a\u9664 #15\n\ndiff --git a/README.md b/README.md\nindex 79db94d..05708e9 100644\n--- a/README.md\n+++ b/README.md\n@@ -603,6 +603,7 @@ git push heroku master\n\n #### \u6f14\u7fd2\u554f\u984c \n + \u53d7\u3051\u5165\u308c\u30c6\u30b9\u30c8\u4f5c\u6210\n++ \u52e4\u52d9\u5148\u96fb\u8a71\u756a\u53f7\u306e\u65b0\u898f\u767b\u9332\u3001\u66f4\u65b0\u3001\u524a\u9664\n\n ### \u691c\u7d22\u30d5\u30a9\u30fc\u30e0\n **[\u2b06 back to top](#\u69cb\u6210)**\ndiff --git a/app/forms/staff/customer_form.rb b/app/forms/staff/customer_form.rb\nindex b66b14d..89ca635 100644\n--- a/app/forms/staff/customer_form.rb\n+++ b/app/forms/staff/customer_form.rb\n@@ -17,6 +17,9 @@ class Staff::CustomerForm\n     (2 - @customer.home_address.phones.size).times do\n       @customer.home_address.phones.build\n     end\n+    (2 - @customer.work_address.phones.size).times do\n+      @customer.work_address.phones.build\n+    end\n   end\n\n   def assign_attributes(params = {})\n@@ -53,6 +56,16 @@ class Staff::CustomerForm\n     end\n     if inputs_work_address\n       customer.work_address.assign_attributes(work_address_params)\n+\n+      phones = phone_params(:work_address).fetch(:phones)\n+      customer.work_address.phones.size.times do |index|\n+        attributes = phones[index.to_s]\n+        if attributes &amp;&amp; attributes[:number].present?\n+          customer.work_address.phones[index].assign_attributes(attributes)\n+        else\n+          customer.work_address.phones[index].mark_for_destruction\n+        end\n+      end\n     else\n       customer.work_address.mark_for_destruction\n     end\ndiff --git a/app/views/staff/customers/_work_address_fields.html.erb b/app/views/staff/customers/_work_address_fields.html.erb\nindex 102516e..b9e6cd3 100644\n--- a/app/views/staff/customers/_work_address_fields.html.erb\n+++ b/app/views/staff/customers/_work_address_fields.html.erb\n@@ -8,5 +8,12 @@\n       m &lt;&lt; p.text_field_block(:city, t('activerecord.attributes.work_address.city'), size: 16)\n       m &lt;&lt; p.text_field_block(:address1, t('activerecord.attributes.work_address.address1'), size: 40)\n       m &lt;&lt; p.text_field_block(:address2, t('activerecord.attributes.work_address.address2'), size: 40)\n+      m.div(class: 'FormApp__input-block') do\n+        m.ol do\n+          p.object.phones.each_with_index do |phone, index|\n+            m &lt;&lt; render('phone_fields', f: ff, phone: phone, index: index)\n+          end\n+        end\n+      end\n     end %&gt;\n &lt;% end %&gt;\n</code></pre>"},{"location":"journal/20170207/#1131f65","title":"\u30b3\u30df\u30c3\u30c8: 1131f65","text":""},{"location":"journal/20170207/#_58","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u53d7\u3051\u5165\u308c\u30c6\u30b9\u30c8\u4f5c\u6210 #15\n</code></pre>"},{"location":"journal/20170207/#_59","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/javascripts/staff/customer_form.coffee</li> <li>M spec/features/staff/customer_management_spec.rb</li> <li>M spec/features/staff/phone_management_spec.rb</li> </ul>"},{"location":"journal/20170207/#_60","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 1131f654b47bf3571a9b14157df46cdb756064ee\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 7 13:01:29 2017 +0900\n\n    \u53d7\u3051\u5165\u308c\u30c6\u30b9\u30c8\u4f5c\u6210 #15\n\ndiff --git a/README.md b/README.md\nindex ab05df6..79db94d 100644\n--- a/README.md\n+++ b/README.md\n@@ -602,6 +602,7 @@ git push heroku master\n + \u81ea\u5b85\u96fb\u8a71\u756a\u53f7\u306e\u65b0\u898f\u767b\u9332\u3001\u66f4\u65b0\u3001\u524a\u9664\n\n #### \u6f14\u7fd2\u554f\u984c \n++ \u53d7\u3051\u5165\u308c\u30c6\u30b9\u30c8\u4f5c\u6210\n\n ### \u691c\u7d22\u30d5\u30a9\u30fc\u30e0\n **[\u2b06 back to top](#\u69cb\u6210)**\ndiff --git a/app/assets/javascripts/staff/customer_form.coffee b/app/assets/javascripts/staff/customer_form.coffee\nindex 1d09d38..1c4bf5a 100644\n--- a/app/assets/javascripts/staff/customer_form.coffee\n+++ b/app/assets/javascripts/staff/customer_form.coffee\n@@ -34,7 +34,9 @@ class CustomerForm\n     checked = $('input#form_inputs_home_address').prop('checked')\n     $('fieldset#home-address-fields input').prop('disabled', !checked)\n     $('fieldset#home-address-fields select').prop('disabled', !checked)\n+    $('fieldset#home-address-fields').toggle(checked)\n   toggleWorkAddressFields = -&gt;\n     checked = $('input#form_inputs_work_address').prop('checked')\n     $('fieldset#work-address-fields input').prop('disabled', !checked)\n-    $('fieldset#work-address-fields select').prop('disabled', !checked)\n\\ No newline at end of file\n+    $('fieldset#work-address-fields select').prop('disabled', !checked)\n+    $('fieldset#work-address-fields').toggle(checked)\n\\ No newline at end of file\ndiff --git a/spec/features/staff/customer_management_spec.rb b/spec/features/staff/customer_management_spec.rb\nindex 0f4ca36..8aac7ee 100644\n--- a/spec/features/staff/customer_management_spec.rb\n+++ b/spec/features/staff/customer_management_spec.rb\n@@ -108,4 +108,20 @@ feature 'Customer management by staff' do\n     expect(page).to have_css('header span.Flash__alert')\n     expect(page).to have_css('.has-error span.help-block')\n   end\n+\n+  # \u8077\u54e1\u304c\u52e4\u52d9\u5148\u30c7\u30fc\u30bf\u306e\u306a\u3044\u65e2\u5b58\u9867\u5ba2\u306b\u4f1a\u793e\u540d\u306e\u60c5\u5831\u3092\u8ffd\u52a0\u3059\u308b\n+  scenario 'Staff add company name information to existing customers that do not have work data' do\n+    customer.work_address.destroy\n+    click_link I18n.t('staff.top.dashboard.staff_customers')\n+    first('table.Table__body--listing').click_link I18n.t('staff.customers.index.edit')\n+\n+    check I18n.t('staff.customers.new.work_address_inputs')\n+    within('fieldset#work-address-fields') do\n+      fill_in I18n.t('activerecord.attributes.work_address.company_name'), with: '\u30c6\u30b9\u30c8'\n+    end\n+    click_button I18n.t('staff.customers.edit.update')\n+\n+    customer.reload\n+    expect(customer.work_address.company_name).to eq('\u30c6\u30b9\u30c8')\n+  end\n end\n\\ No newline at end of file\ndiff --git a/spec/features/staff/phone_management_spec.rb b/spec/features/staff/phone_management_spec.rb\nindex 3c4ec3d..99935f2 100644\n--- a/spec/features/staff/phone_management_spec.rb\n+++ b/spec/features/staff/phone_management_spec.rb\n@@ -38,4 +38,18 @@ feature 'Customer telephone number management by staff' do\n     expect(customer.home_address.phones.size).to eq(1)\n     expect(customer.home_address.phones[0].number).to eq('090-9999-9999')\n   end\n+\n+  # \u8077\u54e1\u304c\u9867\u5ba2\u306e\u52e4\u52d9\u5148\u96fb\u8a71\u756a\u53f7\u3092\u8ffd\u52a0\u3059\u308b\n+  scenario \"The staff adds the customer's work phone number\" do\n+    click_link I18n.t('staff.top.dashboard.staff_customers')\n+    first('table.Table__body--listing').click_link I18n.t('staff.customers.index.edit')\n+\n+    fill_in 'form_work_address_phones_0_number', with: '03-9999-9999'\n+    check 'form_work_address_phones_0_primary'\n+    click_button I18n.t('staff.customers.edit.update')\n+\n+    customer.reload\n+    expect(customer.work_address.phones.size).to eq(1)\n+    expect(customer.work_address.phones[0].number).to eq('03-9999-9999')\n+  end\n end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170207/#ff3e2e2","title":"\u30b3\u30df\u30c3\u30c8: ff3e2e2","text":""},{"location":"journal/20170207/#_61","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u81ea\u5b85\u96fb\u8a71\u756a\u53f7\u306e\u65b0\u898f\u767b\u9332\u3001\u66f4\u65b0\u3001\u524a\u9664 #15\n</code></pre>"},{"location":"journal/20170207/#_62","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/forms/staff/customer_form.rb</li> <li>M app/views/staff/customers/_home_address_fields.html.erb</li> <li>M spec/features/staff/phone_management_spec.rb</li> </ul>"},{"location":"journal/20170207/#_63","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit ff3e2e2f057581a37a7a39ee545befaf0c4d5dd0\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 7 12:47:49 2017 +0900\n\n    \u81ea\u5b85\u96fb\u8a71\u756a\u53f7\u306e\u65b0\u898f\u767b\u9332\u3001\u66f4\u65b0\u3001\u524a\u9664 #15\n\ndiff --git a/README.md b/README.md\nindex d0120c4..ab05df6 100644\n--- a/README.md\n+++ b/README.md\n@@ -599,6 +599,7 @@ git push heroku master\n #### \u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u306e\u7ba1\u7406\uff08\uff12\uff09\n + \u500b\u4eba\u96fb\u8a71\u756a\u53f7\u306e\u5165\u529b\u6b04\u8868\u793a\n + \u500b\u4eba\u96fb\u8a71\u756a\u53f7\u306e\u65b0\u898f\u767b\u9332\u3001\u66f4\u65b0\u3001\u524a\u9664\n++ \u81ea\u5b85\u96fb\u8a71\u756a\u53f7\u306e\u65b0\u898f\u767b\u9332\u3001\u66f4\u65b0\u3001\u524a\u9664\n\n #### \u6f14\u7fd2\u554f\u984c \n\ndiff --git a/app/forms/staff/customer_form.rb b/app/forms/staff/customer_form.rb\nindex 8b0845f..b66b14d 100644\n--- a/app/forms/staff/customer_form.rb\n+++ b/app/forms/staff/customer_form.rb\n@@ -14,6 +14,9 @@ class Staff::CustomerForm\n     self.inputs_work_address = @customer.work_address.present?\n     @customer.build_home_address unless @customer.home_address\n     @customer.build_work_address unless @customer.work_address\n+    (2 - @customer.home_address.phones.size).times do\n+      @customer.home_address.phones.build\n+    end\n   end\n\n   def assign_attributes(params = {})\n@@ -35,6 +38,16 @@ class Staff::CustomerForm\n\n     if inputs_home_address\n       customer.home_address.assign_attributes(home_address_params)\n+\n+      phones = phone_params(:home_address).fetch(:phones)\n+      customer.home_address.phones.size.times do |index|\n+        attributes = phones[index.to_s]\n+        if attributes &amp;&amp; attributes[:number].present?\n+          customer.home_address.phones[index].assign_attributes(attributes)\n+        else\n+          customer.home_address.phones[index].mark_for_destruction\n+        end\n+      end\n     else\n       customer.home_address.mark_for_destruction\n     end\ndiff --git a/app/views/staff/customers/_home_address_fields.html.erb b/app/views/staff/customers/_home_address_fields.html.erb\nindex 0efe6ee..23aa061 100644\n--- a/app/views/staff/customers/_home_address_fields.html.erb\n+++ b/app/views/staff/customers/_home_address_fields.html.erb\n@@ -8,5 +8,12 @@\n     m &lt;&lt; q.text_field_block(:address1, t('activerecord.attributes.home_address.address1'), size: 40)\n   end\n   m &lt;&lt; p.text_field_block(:address2, t('activerecord.attributes.home_address.address2'), size: 40)\n+  m.div(class: 'FormApp__input-block') do\n+    m.ol do\n+      p.object.phones.each_with_index do |phone, index|\n+        m &lt;&lt; render('phone_fields', f: ff, phone: phone, index: index)\n+        end\n+      end\n+    end\n end %&gt;\n &lt;% end %&gt;\ndiff --git a/spec/features/staff/phone_management_spec.rb b/spec/features/staff/phone_management_spec.rb\nindex 878d9ce..3c4ec3d 100644\n--- a/spec/features/staff/phone_management_spec.rb\n+++ b/spec/features/staff/phone_management_spec.rb\n@@ -24,4 +24,18 @@ feature 'Customer telephone number management by staff' do\n     expect(customer.personal_phones.size).to eq(1)\n     expect(customer.personal_phones[0].number).to eq('090-9999-9999')\n   end\n+\n+  # \u8077\u54e1\u304c\u9867\u5ba2\u306e\u81ea\u5b85\u96fb\u8a71\u756a\u53f7\u3092\u8ffd\u52a0\u3059\u308b\n+  scenario \"The staff adds the customer's home phone number\" do\n+    click_link I18n.t('staff.top.dashboard.staff_customers')\n+    first('table.Table__body--listing').click_link I18n.t('staff.customers.index.edit')\n+\n+    fill_in 'form_home_address_phones_0_number', with: '090-9999-9999'\n+    check 'form_home_address_phones_0_primary'\n+    click_button I18n.t('staff.customers.edit.update')\n+\n+    customer.reload\n+    expect(customer.home_address.phones.size).to eq(1)\n+    expect(customer.home_address.phones[0].number).to eq('090-9999-9999')\n+  end\n end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170207/#20fc0ef","title":"\u30b3\u30df\u30c3\u30c8: 20fc0ef","text":""},{"location":"journal/20170207/#_64","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u500b\u4eba\u96fb\u8a71\u756a\u53f7\u306e\u65b0\u898f\u767b\u9332\u3001\u66f4\u65b0\u3001\u524a\u9664 #15\n</code></pre>"},{"location":"journal/20170207/#_65","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/forms/staff/customer_form.rb</li> <li>A spec/features/staff/phone_management_spec.rb</li> </ul>"},{"location":"journal/20170207/#_66","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 20fc0ef59d3155d8906d8a7b75196cce7f3703d6\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 7 12:21:22 2017 +0900\n\n    \u500b\u4eba\u96fb\u8a71\u756a\u53f7\u306e\u65b0\u898f\u767b\u9332\u3001\u66f4\u65b0\u3001\u524a\u9664 #15\n\ndiff --git a/README.md b/README.md\nindex 6747cf6..d0120c4 100644\n--- a/README.md\n+++ b/README.md\n@@ -598,6 +598,7 @@ git push heroku master\n\n #### \u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u306e\u7ba1\u7406\uff08\uff12\uff09\n + \u500b\u4eba\u96fb\u8a71\u756a\u53f7\u306e\u5165\u529b\u6b04\u8868\u793a\n++ \u500b\u4eba\u96fb\u8a71\u756a\u53f7\u306e\u65b0\u898f\u767b\u9332\u3001\u66f4\u65b0\u3001\u524a\u9664\n\n #### \u6f14\u7fd2\u554f\u984c \n\ndiff --git a/app/forms/staff/customer_form.rb b/app/forms/staff/customer_form.rb\nindex ca5ed03..8b0845f 100644\n--- a/app/forms/staff/customer_form.rb\n+++ b/app/forms/staff/customer_form.rb\n@@ -22,6 +22,17 @@ class Staff::CustomerForm\n     self.inputs_work_address = params[:inputs_work_address] == '1'\n\n     customer.assign_attributes(customer_params)\n+\n+    phones = phone_params(:customer).fetch(:phones)\n+    customer.personal_phones.size.times do |index|\n+      attributes = phones[index.to_s]\n+      if attributes &amp;&amp; attributes[:number].present?\n+        customer.personal_phones[index].assign_attributes(attributes)\n+      else\n+        customer.personal_phones[index].mark_for_destruction\n+      end\n+    end\n+\n     if inputs_home_address\n       customer.home_address.assign_attributes(home_address_params)\n     else\n@@ -69,4 +80,8 @@ class Staff::CustomerForm\n                                       :division_name\n     )\n   end\n+\n+  def phone_params(record_name)\n+    @params.require(record_name).permit(phones: [ :number, :primary ])\n+  end\n end\n\\ No newline at end of file\ndiff --git a/spec/features/staff/phone_management_spec.rb b/spec/features/staff/phone_management_spec.rb\nnew file mode 100644\nindex 0000000..878d9ce\n--- /dev/null\n+++ b/spec/features/staff/phone_management_spec.rb\n@@ -0,0 +1,27 @@\n+require 'rails_helper'\n+\n+# \u8077\u54e1\u306b\u3088\u308b\u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u7ba1\u7406\n+feature 'Customer telephone number management by staff' do\n+  include FeaturesSpecHelper\n+  let(:staff_member) { create(:staff_member) }\n+  let!(:customer) { create(:customer) }\n+\n+  before do\n+    switch_namespace(:staff)\n+    login_as_staff_member(staff_member)\n+  end\n+\n+  # \u8077\u54e1\u304c\u9867\u5ba2\u306e\u96fb\u8a71\u756a\u53f7\u3092\u8ffd\u52a0\u3059\u308b\n+  scenario \"The staff adds the customer's phone number\" do\n+    click_link I18n.t('staff.top.dashboard.staff_customers')\n+    first('table.Table__body--listing').click_link I18n.t('staff.customers.index.edit')\n+\n+    fill_in 'form_customer_phones_0_number', with: '090-9999-9999'\n+    check 'form_customer_phones_0_primary'\n+    click_button I18n.t('staff.customers.edit.update')\n+\n+    customer.reload\n+    expect(customer.personal_phones.size).to eq(1)\n+    expect(customer.personal_phones[0].number).to eq('090-9999-9999')\n+  end\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170207/#052c0ad","title":"\u30b3\u30df\u30c3\u30c8: 052c0ad","text":""},{"location":"journal/20170207/#_67","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u500b\u4eba\u96fb\u8a71\u756a\u53f7\u306e\u5165\u529b\u6b04\u8868\u793a #15\n</code></pre>"},{"location":"journal/20170207/#_68","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/forms/staff/customer_form.rb</li> <li>M app/presenters/form_presenter.rb</li> <li>M app/views/staff/customers/_customer_fields.html.erb</li> <li>A app/views/staff/customers/_phone_fields.html.erb</li> <li>M config/locales/models/ja.yml</li> </ul>"},{"location":"journal/20170207/#_69","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 052c0ad6c930fef79ef9c99909ecd302815b4217\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 7 11:12:52 2017 +0900\n\n    \u500b\u4eba\u96fb\u8a71\u756a\u53f7\u306e\u5165\u529b\u6b04\u8868\u793a #15\n\ndiff --git a/README.md b/README.md\nindex 43aae6a..6747cf6 100644\n--- a/README.md\n+++ b/README.md\n@@ -597,6 +597,8 @@ git push heroku master\n + \u9867\u5ba2\u8a73\u7d30\u30da\u30fc\u30b8\u3078\u306e\u96fb\u8a71\u756a\u53f7\u306e\u8868\u793a\n\n #### \u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u306e\u7ba1\u7406\uff08\uff12\uff09\n++ \u500b\u4eba\u96fb\u8a71\u756a\u53f7\u306e\u5165\u529b\u6b04\u8868\u793a\n+\n #### \u6f14\u7fd2\u554f\u984c \n\n ### \u691c\u7d22\u30d5\u30a9\u30fc\u30e0\ndiff --git a/app/forms/staff/customer_form.rb b/app/forms/staff/customer_form.rb\nindex acc92b9..ca5ed03 100644\n--- a/app/forms/staff/customer_form.rb\n+++ b/app/forms/staff/customer_form.rb\n@@ -7,6 +7,9 @@ class Staff::CustomerForm\n   def initialize(customer = nil)\n     @customer = customer\n     @customer ||= Customer.new(gender: 'male')\n+    (2 - @customer.personal_phones.size).times do\n+      @customer.personal_phones.build\n+    end\n     self.inputs_home_address = @customer.home_address.present?\n     self.inputs_work_address = @customer.work_address.present?\n     @customer.build_home_address unless @customer.home_address\ndiff --git a/app/presenters/form_presenter.rb b/app/presenters/form_presenter.rb\nindex b825b9a..2695a43 100644\n--- a/app/presenters/form_presenter.rb\n+++ b/app/presenters/form_presenter.rb\n@@ -67,7 +67,6 @@ class FormPresenter\n     end\n   end\n\n-  private\n   def decorated_label(name, label_text, options = {})\n     label(name, label_text, class: options[:required] ? 'AppForm__label required' : 'AppForm__label')\n   end\ndiff --git a/app/views/staff/customers/_customer_fields.html.erb b/app/views/staff/customers/_customer_fields.html.erb\nindex ea4eb7f..702879f 100644\n--- a/app/views/staff/customers/_customer_fields.html.erb\n+++ b/app/views/staff/customers/_customer_fields.html.erb\n@@ -9,5 +9,12 @@\n   end\n   m &lt;&lt; p.birthday_field_block(:birthday, t('activerecord.attributes.customer.birthday'))\n   m &lt;&lt; p.gender_field_block\n+  m.div(class: 'AppForm__input-block') do\n+    m.ol do\n+      p.object.personal_phones.each_with_index do |phone, index|\n+        m &lt;&lt; render('phone_fields', f: ff, phone: phone, index: index)\n+      end\n+    end\n+  end\n   end %&gt;\n &lt;% end %&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/customers/_phone_fields.html.erb b/app/views/staff/customers/_phone_fields.html.erb\nnew file mode 100644\nindex 0000000..a5f6749\n--- /dev/null\n+++ b/app/views/staff/customers/_phone_fields.html.erb\n@@ -0,0 +1,6 @@\n+&lt;%= f.fields_for :phones, phone, index: index do |ff| %&gt;\n+    &lt;%= markup(:li) do |m|\n+      m &lt;&lt; ff.text_field(:number, skip_required: true)\n+      m &lt;&lt; ff.check_box(:primary, label: t('activerecord.attributes.phone.primary'))\n+      end %&gt;\n+&lt;% end %&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/models/ja.yml b/config/locales/models/ja.yml\nindex cf31ec0..b5c2b2f 100644\n--- a/config/locales/models/ja.yml\n+++ b/config/locales/models/ja.yml\n@@ -46,6 +46,7 @@ ja:\n         given_name_kana: \u540d\uff08\u30ab\u30ca\uff09\n         gender: \u6027\u5225\n         birthday: \u8a95\u751f\u65e5\n+        personal_phone: \u96fb\u8a71\u756a\u53f7\n         hashed_password: \u30d1\u30b9\u30ef\u30fc\u30c9\n         home_address: \u81ea\u5b85\u4f4f\u6240\n         work_address: \u52e4\u52d9\u5148\n@@ -77,6 +78,11 @@ ja:\n         company_name: \u4f1a\u793e\u540d\n         division_name: \u90e8\u7f72\u540d\n\n+      phone:\n+        number: \u96fb\u8a71\u756a\u53f7\n+        number_for_index: \u7d22\u5f15\u7528\u96fb\u8a71\u756a\u53f7\n+        primary: \u512a\u5148\n+\n     errors:\n       models:\n         staff_member:\n</code></pre>"},{"location":"journal/20170209/","title":"\u4f5c\u696d\u5c65\u6b74 2017-02-09","text":""},{"location":"journal/20170209/#_1","title":"\u6982\u8981","text":"<p>2017-02-09\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u65e5\u306f\u4e3b\u306b\u300c\u9867\u5ba2\u306e\u81ea\u52d5\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u300d\u306e\u5b9f\u88c5\u3092\u884c\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170209/#_2","title":"\u5b9f\u88c5\u5185\u5bb9\u306e\u8aac\u660e","text":""},{"location":"journal/20170209/#_3","title":"\u9867\u5ba2\u306e\u81ea\u52d5\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd","text":"<p>\u9867\u5ba2\u304c\u30b7\u30b9\u30c6\u30e0\u3092\u518d\u8a2a\u554f\u3057\u305f\u969b\u306b\u3001\u6bce\u56de\u30ed\u30b0\u30a4\u30f3\u60c5\u5831\u3092\u5165\u529b\u3059\u308b\u624b\u9593\u3092\u7701\u304f\u305f\u3081\u3001\u300c\u6b21\u56de\u304b\u3089\u81ea\u52d5\u3067\u30ed\u30b0\u30a4\u30f3\u300d\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u3053\u306e\u6a5f\u80fd\u306f\u3001\u9867\u5ba2\u304c\u660e\u793a\u7684\u306b\u9078\u629e\u3057\u305f\u5834\u5408\u306b\u306e\u307f\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002\u5b9f\u88c5\u306b\u306f\u30af\u30c3\u30ad\u30fc\u3092\u4f7f\u7528\u3057\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u8003\u616e\u3057\u3066\u6697\u53f7\u5316\u3055\u308c\u305fID\u3092\u30af\u30c3\u30ad\u30fc\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002</p> <p></p>"},{"location":"journal/20170209/#_4","title":"\u30af\u30c3\u30ad\u30fc\u306e\u5024\u3068\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3","text":"<p>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u78ba\u4fdd\u3059\u308b\u305f\u3081\u3001\u30af\u30c3\u30ad\u30fc\u306b\u306f\u9867\u5ba2ID\u3092\u305d\u306e\u307e\u307e\u4fdd\u5b58\u3059\u308b\u306e\u3067\u306f\u306a\u304f\u3001SHA1\u30cf\u30c3\u30b7\u30e5\u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066\u6697\u53f7\u5316\u3057\u305f\u5024\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002\u307e\u305f\u3001\u30af\u30c3\u30ad\u30fc\u306e\u6709\u52b9\u671f\u9650\u306f20\u5e74\u3068\u9577\u671f\u306b\u8a2d\u5b9a\u3057\u3001\u9867\u5ba2\u304c\u660e\u793a\u7684\u306b\u30ed\u30b0\u30a2\u30a6\u30c8\u3059\u308b\u307e\u3067\u81ea\u52d5\u30ed\u30b0\u30a4\u30f3\u304c\u6a5f\u80fd\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20170209/#_5","title":"\u30c6\u30b9\u30c8\u306e\u5b9f\u88c5","text":"<p>\u81ea\u52d5\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u306e\u4fe1\u983c\u6027\u3092\u78ba\u4fdd\u3059\u308b\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u30c6\u30b9\u30c8\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\uff1a 1. \u30af\u30c3\u30ad\u30fc\u306b\u6b63\u3057\u3044\u5f62\u5f0f\u306e\u5024\u304c\u4fdd\u5b58\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u30c6\u30b9\u30c8 2. \u30af\u30c3\u30ad\u30fc\u306e\u6709\u52b9\u671f\u9650\u304c\u9069\u5207\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u30c6\u30b9\u30c8</p>"},{"location":"journal/20170209/#_6","title":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3068\u306e\u95a2\u9023","text":"<p>\u3053\u306e\u5b9f\u88c5\u306f\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6982\u8981\u306e\u300c8. \u8a8d\u8a3c\u30fb\u8a8d\u53ef\u30b7\u30b9\u30c6\u30e0\u300d\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u95a2\u9023\u3057\u3066\u3044\u307e\u3059\u3002\u7279\u306b\u4ee5\u4e0b\u306e\u90e8\u5206\u3092\u62e1\u5f35\u3059\u308b\u3082\u306e\u3067\u3059\uff1a</p> <pre><code>[Customer::SessionsController] --&gt; [Customer]: authenticate\n[Customer] --&gt; [Customer::BaseController]: current_customer\n</code></pre> <p>\u9867\u5ba2\u8a8d\u8a3c\u306e\u4ed5\u7d44\u307f\u306b\u3001\u30af\u30c3\u30ad\u30fc\u3092\u4f7f\u7528\u3057\u305f\u81ea\u52d5\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u4f53\u9a13\u3092\u5411\u4e0a\u3055\u305b\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20170209/#_7","title":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3068\u306e\u95a2\u9023","text":"<p>\u3053\u306e\u5b9f\u88c5\u306f\u3001\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306e\u300c4.1. \u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u300d\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u4ee5\u4e0b\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u62e1\u5f35\u3059\u308b\u3082\u306e\u3067\u3059\uff1a</p> <ul> <li>C-002: \u9867\u5ba2\u30ed\u30b0\u30a4\u30f3</li> </ul> <p>\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306e\u57fa\u672c\u30d5\u30ed\u30fc\u306b\u300c\u6b21\u56de\u304b\u3089\u81ea\u52d5\u3067\u30ed\u30b0\u30a4\u30f3\u300d\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3057\u3001\u9867\u5ba2\u304c\u9078\u629e\u3057\u305f\u5834\u5408\u306f\u30af\u30c3\u30ad\u30fc\u3092\u4f7f\u7528\u3057\u3066\u8a8d\u8a3c\u60c5\u5831\u3092\u4fdd\u6301\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u9867\u5ba2\u306f\u518d\u8a2a\u554f\u6642\u306b\u81ea\u52d5\u7684\u306b\u30ed\u30b0\u30a4\u30f3\u72b6\u614b\u3068\u306a\u308a\u3001\u5229\u4fbf\u6027\u304c\u5411\u4e0a\u3057\u307e\u3059\u3002</p>"},{"location":"journal/20170209/#cabf2d2","title":"\u30b3\u30df\u30c3\u30c8: cabf2d2","text":""},{"location":"journal/20170209/#_8","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30af\u30c3\u30ad\u30fc\u306e\u6709\u52b9\u671f\u9650\u30c6\u30b9\u30c8 #29\n</code></pre>"},{"location":"journal/20170209/#_9","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M spec/controllers/customer/session_controller_spec.rb</li> </ul>"},{"location":"journal/20170209/#_10","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit cabf2d238f82761d8f40a1b265ff72295fd5e964\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 9 18:19:14 2017 +0900\n\n    \u30af\u30c3\u30ad\u30fc\u306e\u6709\u52b9\u671f\u9650\u30c6\u30b9\u30c8 #29\n\ndiff --git a/README.md b/README.md\nindex 8ac8ad5..caffe50 100644\n--- a/README.md\n+++ b/README.md\n@@ -637,6 +637,7 @@ git push heroku master\n\n #### RSpec\u306b\u3088\u308b\u30c6\u30b9\u30c8\n + \u30af\u30c3\u30ad\u30fc\u306e\u5024\u306e\u30c6\u30b9\u30c8\n++ \u30af\u30c3\u30ad\u30fc\u306e\u6709\u52b9\u671f\u9650\u30c6\u30b9\u30c8\n\n ### IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u9650\n #### IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u9650\ndiff --git a/spec/controllers/customer/session_controller_spec.rb b/spec/controllers/customer/session_controller_spec.rb\nindex 6025c2f..5a0f323 100644\n--- a/spec/controllers/customer/session_controller_spec.rb\n+++ b/spec/controllers/customer/session_controller_spec.rb\n@@ -24,6 +24,9 @@ describe Customer::SessionsController do\n\n       expect(session).not_to have_key(:customer_id)\n       expect(response.cookies['customer_id']).to match(/[0-9a-f]{40}\\z/)\n+\n+      cookies = response.request.env['action_dispatch.cookies'].instance_variable_get(:@set_cookies)\n+      expect(cookies['customer_id'][:expires]).to be &gt; 19.years.from_now\n     end\n   end\n end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170209/#_11","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170209/#4eed4f8","title":"\u30b3\u30df\u30c3\u30c8: 4eed4f8","text":""},{"location":"journal/20170209/#_12","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30af\u30c3\u30ad\u30fc\u306e\u5024\u306e\u30c6\u30b9\u30c8 #29\n</code></pre>"},{"location":"journal/20170209/#_13","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/customer/sessions_controller.rb</li> <li>A spec/controllers/customer/session_controller_spec.rb</li> </ul>"},{"location":"journal/20170209/#_14","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 4eed4f812bf206710c68d6505d9b2518633a4d62\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 9 18:15:18 2017 +0900\n\n    \u30af\u30c3\u30ad\u30fc\u306e\u5024\u306e\u30c6\u30b9\u30c8 #29\n\ndiff --git a/README.md b/README.md\nindex 9325084..8ac8ad5 100644\n--- a/README.md\n+++ b/README.md\n@@ -636,6 +636,7 @@ git push heroku master\n + \u52d5\u4f5c\u78ba\u8a8d\n\n #### RSpec\u306b\u3088\u308b\u30c6\u30b9\u30c8\n++ \u30af\u30c3\u30ad\u30fc\u306e\u5024\u306e\u30c6\u30b9\u30c8\n\n ### IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u9650\n #### IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u9650\ndiff --git a/app/controllers/customer/sessions_controller.rb b/app/controllers/customer/sessions_controller.rb\nindex 62555e9..aee14f1 100644\n--- a/app/controllers/customer/sessions_controller.rb\n+++ b/app/controllers/customer/sessions_controller.rb\n@@ -41,7 +41,8 @@ class Customer::SessionsController &lt; Customer::Base\n   def post_params\n     params.require(:customer_login_form).permit(\n         :email,\n-        :password\n+        :password,\n+        :remember_me\n     )\n   end\n end\ndiff --git a/spec/controllers/customer/session_controller_spec.rb b/spec/controllers/customer/session_controller_spec.rb\nnew file mode 100644\nindex 0000000..6025c2f\n--- /dev/null\n+++ b/spec/controllers/customer/session_controller_spec.rb\n@@ -0,0 +1,29 @@\n+require 'rails_helper'\n+\n+describe Customer::SessionsController do\n+  describe '#create' do\n+    let(:customer) { create(:customer, password: 'password') }\n+\n+    # [\u6b21\u56de\u304b\u3089\u81ea\u52d5\u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b]\u306b\u30c1\u30a7\u30c3\u30af\u305b\u305a\u30ed\u30b0\u30a4\u30f3\n+    it 'Do not check \"\u6b21\u56de\u304b\u3089\u81ea\u52d5\u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b\" Login' do\n+      post :create, customer_login_form: {\n+          email: customer.email,\n+          password: 'password'\n+      }\n+      expect(session[:customer_id]).to eq(customer.id)\n+      expect(response.cookies).not_to have_key('custoemr_id')\n+    end\n+\n+    # [\u6b21\u56de\u304b\u3089\u81ea\u52d5\u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b]\u306b\u30c1\u30a7\u30c3\u30af\u3057\u3066\u30ed\u30b0\u30a4\u30f3\n+    it 'Do check \"\u6b21\u56de\u304b\u3089\u81ea\u52d5\u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b\" Login' do\n+      post :create, customer_login_form: {\n+          email: customer.email,\n+          password: 'password',\n+          remember_me: '1'\n+      }\n+\n+      expect(session).not_to have_key(:customer_id)\n+      expect(response.cookies['customer_id']).to match(/[0-9a-f]{40}\\z/)\n+    end\n+  end\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170209/#_15","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170209/#7b0c7ec","title":"\u30b3\u30df\u30c3\u30c8: 7b0c7ec","text":""},{"location":"journal/20170209/#_16","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u4fee\u6b63 #29\n</code></pre>"},{"location":"journal/20170209/#_17","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/customer/base.rb</li> <li>M app/controllers/customer/sessions_controller.rb</li> </ul>"},{"location":"journal/20170209/#_18","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 7b0c7ec1da8b6f90d6e710831e3c9c3f82c41f24\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 9 17:58:51 2017 +0900\n\n    \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u4fee\u6b63 #29\n\ndiff --git a/README.md b/README.md\nindex bdb8194..9325084 100644\n--- a/README.md\n+++ b/README.md\n@@ -632,6 +632,8 @@ git push heroku master\n\n #### \u81ea\u52d5\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u306e\u8ffd\u52a0\n + \u30d3\u30e5\u30fc\u306e\u4fee\u6b63\n++ \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u4fee\u6b63\n++ \u52d5\u4f5c\u78ba\u8a8d\n\n #### RSpec\u306b\u3088\u308b\u30c6\u30b9\u30c8\n\ndiff --git a/app/controllers/customer/base.rb b/app/controllers/customer/base.rb\nindex c95c283..2fd598b 100644\n--- a/app/controllers/customer/base.rb\n+++ b/app/controllers/customer/base.rb\n@@ -3,8 +3,8 @@ class Customer::Base &lt; ApplicationController\n\n   private\n   def current_customer\n-    if session[:customer_id]\n-      @current_customer ||= Customer.find_by(id: session[:customer_id])\n+    if customer_id = cookies.signed[:customer_id] || session[:customer_id]\n+      @current_customer ||= Customer.find_by(id: customer_id)\n     end\n   end\n\ndiff --git a/app/controllers/customer/sessions_controller.rb b/app/controllers/customer/sessions_controller.rb\nindex 3394e51..62555e9 100644\n--- a/app/controllers/customer/sessions_controller.rb\n+++ b/app/controllers/customer/sessions_controller.rb\n@@ -16,7 +16,12 @@ class Customer::SessionsController &lt; Customer::Base\n       customer = Customer.find_by(email_for_index: @form.email.downcase)\n     end\n     if Customer::Authenticator.new(customer).authenticate(@form.password)\n-      session[:customer_id] = customer.id\n+      if @form.remember_me?\n+        cookies.permanent.signed[:customer_id] = customer.id\n+      else\n+        cookies.delete(:customer_id)\n+        session[:customer_id] = customer.id\n+      end\n       flash.notice = t('common.session.create.notice')\n       redirect_to :customer_root\n     else\n@@ -26,6 +31,7 @@ class Customer::SessionsController &lt; Customer::Base\n   end\n\n   def destroy\n+    cookies.delete(:customer_id)\n     session.delete(:customer_id)\n     flash.notice = t('common.session.destroy.notice')\n     redirect_to :customer_login\n</code></pre>"},{"location":"journal/20170209/#_19","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170209/#d205c43","title":"\u30b3\u30df\u30c3\u30c8: d205c43","text":""},{"location":"journal/20170209/#_20","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d3\u30e5\u30fc\u306e\u4fee\u6b63 #29\n</code></pre>"},{"location":"journal/20170209/#_21","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/forms/customer/login_form.rb</li> <li>M app/views/customer/sessions/new.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170209/#_22","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit d205c43ec864aad4b2cbc67cd7d60e296b3d55b2\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 9 17:47:23 2017 +0900\n\n    \u30d3\u30e5\u30fc\u306e\u4fee\u6b63 #29\n\ndiff --git a/README.md b/README.md\nindex f47bb33..bdb8194 100644\n--- a/README.md\n+++ b/README.md\n@@ -631,6 +631,8 @@ git push heroku master\n + \u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n\n #### \u81ea\u52d5\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u306e\u8ffd\u52a0\n++ \u30d3\u30e5\u30fc\u306e\u4fee\u6b63\n+\n #### RSpec\u306b\u3088\u308b\u30c6\u30b9\u30c8\n\n ### IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u9650\ndiff --git a/app/forms/customer/login_form.rb b/app/forms/customer/login_form.rb\nindex 1feb6e1..a0e2ef5 100644\n--- a/app/forms/customer/login_form.rb\n+++ b/app/forms/customer/login_form.rb\n@@ -1,5 +1,9 @@\n class Customer::LoginForm\n   include ActiveModel::Model\n\n-  attr_accessor :email, :password\n+  attr_accessor :email, :password, :remember_me\n+\n+  def remember_me?\n+    remember_me == '1'\n+  end\n end\n\\ No newline at end of file\ndiff --git a/app/views/customer/sessions/new.html.erb b/app/views/customer/sessions/new.html.erb\nindex 38e9d48..4d7bdc3 100644\n--- a/app/views/customer/sessions/new.html.erb\n+++ b/app/views/customer/sessions/new.html.erb\n@@ -16,6 +16,9 @@\n           &lt;div&gt;\n             &lt;%= f.password_field :password %&gt;\n           &lt;/div&gt;\n+          &lt;div&gt;\n+            &lt;%= f.check_box :remember_me, label: t('.remember') %&gt;\n+          &lt;/div&gt;\n           &lt;div&gt;\n             &lt;%= f.submit t '.submit' %&gt;\n           &lt;/div&gt;\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 2429038..7b1fcee 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -156,6 +156,7 @@ ja:\n       new:\n         title: '\u30ed\u30b0\u30a4\u30f3'\n         submit: '\u30ed\u30b0\u30a4\u30f3'\n+        remember: '\u6b21\u56de\u304b\u3089\u81ea\u52d5\u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b'\n     top:\n       dashboard:\n         title: '\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170209/#d801d1c","title":"\u30b3\u30df\u30c3\u30c8: d801d1c","text":""},{"location":"journal/20170209/#_23","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 #29\n</code></pre>"},{"location":"journal/20170209/#_24","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/assets/stylesheets/pages/_customer.scss</li> <li>M app/controllers/customer/article_controller.rb</li> <li>M app/controllers/customer/base.rb</li> <li>M app/controllers/customer/campaign_controller.rb</li> <li>M app/controllers/customer/sessions_controller.rb</li> <li>M app/controllers/customer/top_controller.rb</li> <li>A app/services/customer/authenticator.rb</li> <li>M app/views/customer/sessions/new.html.erb</li> <li>M app/views/customer/shared/_header_login.html.erb</li> <li>A app/views/customer/top/dashboard.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170209/#_25","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit d801d1c3217355fd1e741e3663b66d17afed5a50\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 9 17:39:37 2017 +0900\n\n    \u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 #29\n\ndiff --git a/README.md b/README.md\nindex 4aa2842..f47bb33 100644\n--- a/README.md\n+++ b/README.md\n@@ -628,6 +628,7 @@ git push heroku master\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n + \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\n + \u30d3\u30e5\u30fc\n++ \u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n\n #### \u81ea\u52d5\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u306e\u8ffd\u52a0\n #### RSpec\u306b\u3088\u308b\u30c6\u30b9\u30c8\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex c21d5c5..82d9d5f 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -97,6 +97,7 @@\n @import \"pages/customer/index\";\n @import \"pages/customer/campaign\";\n @import \"pages/customer/article\";\n+@import \"pages/customer\";\n\n // Staff\n @import \"pages/staff\";\ndiff --git a/app/assets/stylesheets/pages/_customer.scss b/app/assets/stylesheets/pages/_customer.scss\nindex 468e113..c101d73 100644\n--- a/app/assets/stylesheets/pages/_customer.scss\n+++ b/app/assets/stylesheets/pages/_customer.scss\n@@ -30,13 +30,13 @@ html, body {\n     padding: $moderate * 1.5 $moderate;\n     font-size: $large;\n     font-weight: normal;\n-    background-color: $very_dark_magenta;\n+    background-color: $very_dark_yellow;\n     color: $light_gray;\n   }\n\n   &amp;__header {\n     padding: $moderate;\n-    background-color: $dark_magenta;\n+    background-color: $dark_yellow;\n     color: $very_light_gray;\n     span.logo-mark {\n       font-weight: bold;\ndiff --git a/app/controllers/customer/article_controller.rb b/app/controllers/customer/article_controller.rb\nindex 3631c55..0355f89 100644\n--- a/app/controllers/customer/article_controller.rb\n+++ b/app/controllers/customer/article_controller.rb\n@@ -1,4 +1,4 @@\n-class Customer::ArticleController &lt; ApplicationController\n+class Customer::ArticleController &lt; Customer::Base\n   def index\n   end\n end\n\\ No newline at end of file\ndiff --git a/app/controllers/customer/base.rb b/app/controllers/customer/base.rb\nindex d714b08..c95c283 100644\n--- a/app/controllers/customer/base.rb\n+++ b/app/controllers/customer/base.rb\n@@ -4,7 +4,7 @@ class Customer::Base &lt; ApplicationController\n   private\n   def current_customer\n     if session[:customer_id]\n-      @current_customer ||= Customer.find_by(id: session[:cutomer_id])\n+      @current_customer ||= Customer.find_by(id: session[:customer_id])\n     end\n   end\n\ndiff --git a/app/controllers/customer/campaign_controller.rb b/app/controllers/customer/campaign_controller.rb\nindex 897f1f3..e852bae 100644\n--- a/app/controllers/customer/campaign_controller.rb\n+++ b/app/controllers/customer/campaign_controller.rb\n@@ -1,4 +1,4 @@\n-class Customer::CampaignController &lt; ApplicationController\n+class Customer::CampaignController &lt; Customer::Base\n   def index\n   end\n\ndiff --git a/app/controllers/customer/sessions_controller.rb b/app/controllers/customer/sessions_controller.rb\nindex 993e180..3394e51 100644\n--- a/app/controllers/customer/sessions_controller.rb\n+++ b/app/controllers/customer/sessions_controller.rb\n@@ -10,10 +10,10 @@ class Customer::SessionsController &lt; Customer::Base\n     end\n   end\n\n-  def crete\n-    @form = Customer::LoginForm.new(params[:customer_login_form])\n+  def create\n+    @form = Customer::LoginForm.new(post_params)\n     if @form.email.present?\n-      customer = Customer.find_by(email_for_inde: @form.email.downcase)\n+      customer = Customer.find_by(email_for_index: @form.email.downcase)\n     end\n     if Customer::Authenticator.new(customer).authenticate(@form.password)\n       session[:customer_id] = customer.id\n@@ -28,6 +28,14 @@ class Customer::SessionsController &lt; Customer::Base\n   def destroy\n     session.delete(:customer_id)\n     flash.notice = t('common.session.destroy.notice')\n-    redirect_to :customer_root\n+    redirect_to :customer_login\n+  end\n+\n+  private\n+  def post_params\n+    params.require(:customer_login_form).permit(\n+        :email,\n+        :password\n+    )\n   end\n end\ndiff --git a/app/controllers/customer/top_controller.rb b/app/controllers/customer/top_controller.rb\nindex 013788c..7083b1d 100644\n--- a/app/controllers/customer/top_controller.rb\n+++ b/app/controllers/customer/top_controller.rb\n@@ -2,6 +2,10 @@ class Customer::TopController &lt; Customer::Base\n   skip_before_action :authorize\n\n   def index\n-    render action: 'index'\n+    if current_customer\n+      render action: 'dashboard'\n+    else\n+      render action: 'index'\n+    end\n   end\n end\ndiff --git a/app/services/customer/authenticator.rb b/app/services/customer/authenticator.rb\nnew file mode 100644\nindex 0000000..517d2c3\n--- /dev/null\n+++ b/app/services/customer/authenticator.rb\n@@ -0,0 +1,11 @@\n+class Customer::Authenticator\n+  def initialize(customer)\n+    @customer = customer\n+  end\n+\n+  def authenticate(raw_password)\n+    @customer &amp;&amp;\n+        @customer.hashed_password &amp;&amp;\n+        BCrypt::Password.new(@customer.hashed_password) == raw_password\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/views/customer/sessions/new.html.erb b/app/views/customer/sessions/new.html.erb\nindex f199010..38e9d48 100644\n--- a/app/views/customer/sessions/new.html.erb\n+++ b/app/views/customer/sessions/new.html.erb\n@@ -2,6 +2,12 @@\n &lt;section class=\"Section l-column\"&gt;\n   &lt;div class=\"Login Login--customer\"&gt;\n     &lt;h1 class=\"Login__head\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+\n+    &lt;div class=\"Flash\"&gt;\n+      &lt;%= content_tag(:span, flash.notice, class: 'Flash__notice') if flash.notice %&gt;\n+      &lt;%= content_tag(:span, flash.alert, class: 'Flash__alert') if flash.alert %&gt;\n+    &lt;/div&gt;\n+\n     &lt;div class=\"Login__body\"&gt;\n       &lt;%= bootstrap_form_for @form, url: :customer_session do |f| %&gt;\n           &lt;div&gt;\ndiff --git a/app/views/customer/shared/_header_login.html.erb b/app/views/customer/shared/_header_login.html.erb\nindex fecb5a6..d957b92 100644\n--- a/app/views/customer/shared/_header_login.html.erb\n+++ b/app/views/customer/shared/_header_login.html.erb\n@@ -17,9 +17,9 @@\n     &lt;/ul&gt;\n   &lt;/nav&gt;\n   &lt;%= if current_customer\n-        link_to t('customer.shared.header.logout'), :admin_session, method: :delete, class: 'btn btn-default'\n+        link_to t('customer.shared.header.logout'), :customer_session, method: :delete, class: 'btn btn-default'\n       else\n-        link_to t('customer.shared.header.login'), :admin_login, class: 'btn btn-default'\n+        link_to t('customer.shared.header.login'), :customer_login, class: 'btn btn-default'\n       end\n   %&gt;\n &lt;/header&gt;\n\\ No newline at end of file\ndiff --git a/app/views/customer/top/dashboard.html.erb b/app/views/customer/top/dashboard.html.erb\nnew file mode 100644\nindex 0000000..6aa1334\n--- /dev/null\n+++ b/app/views/customer/top/dashboard.html.erb\n@@ -0,0 +1,16 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Customer__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column DashBoard\"&gt;\n+  &lt;div class=\"Section__head\"&gt;\n+    &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n+  &lt;/div&gt;\n+  &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-2-9\"&gt;2017.2.9&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u9867\u5ba2\u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u6a5f\u80fd\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n+  &lt;/ol&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 08a8945..2429038 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -150,9 +150,12 @@ ja:\n   customer:\n     shared:\n       header:\n-        login: 'Login'\n-        logout: 'Logout'\n+        login: '\u30ed\u30b0\u30a4\u30f3'\n+        logout: '\u30ed\u30b0\u30a2\u30a6\u30c8'\n     sessions:\n       new:\n         title: '\u30ed\u30b0\u30a4\u30f3'\n-        submit: '\u30ed\u30b0\u30a4\u30f3'\n\\ No newline at end of file\n+        submit: '\u30ed\u30b0\u30a4\u30f3'\n+    top:\n+      dashboard:\n+        title: '\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170209/#_26","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170209/#9b86839","title":"\u30b3\u30df\u30c3\u30c8: 9b86839","text":""},{"location":"journal/20170209/#_27","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d3\u30e5\u30fc #29\n</code></pre>"},{"location":"journal/20170209/#_28","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/stylesheets/base/_variables.scss</li> <li>A app/assets/stylesheets/pages/_customer.scss</li> <li>M app/assets/stylesheets/pages/_login.scss</li> <li>A app/forms/customer/login_form.rb</li> <li>M app/views/admin/sessions/new.html.erb</li> <li>M app/views/admin/shared/_footer.html.erb</li> <li>A app/views/customer/sessions/new.html.erb</li> <li>M app/views/customer/shared/_footer.html.erb</li> <li>A app/views/customer/shared/_footer_login.html.erb</li> <li>M app/views/customer/shared/_header.html.erb</li> <li>A app/views/customer/shared/_header_login.html.erb</li> <li>M app/views/layouts/customer.html.erb</li> <li>M app/views/staff/sessions/new.html.erb</li> <li>M config/locales/models/ja.yml</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170209/#_29","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 9b86839fc0db6c435e66b4e31748467694eba16e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 9 16:39:28 2017 +0900\n\n    \u30d3\u30e5\u30fc #29\n\ndiff --git a/README.md b/README.md\nindex 3f4db64..4aa2842 100644\n--- a/README.md\n+++ b/README.md\n@@ -627,6 +627,7 @@ git push heroku master\n #### \u9867\u5ba2\u306e\u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u6a5f\u80fd\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n + \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\n++ \u30d3\u30e5\u30fc\n\n #### \u81ea\u52d5\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u306e\u8ffd\u52a0\n #### RSpec\u306b\u3088\u308b\u30c6\u30b9\u30c8\ndiff --git a/app/assets/stylesheets/base/_variables.scss b/app/assets/stylesheets/base/_variables.scss\nindex 13563ca..d79c276 100644\n--- a/app/assets/stylesheets/base/_variables.scss\n+++ b/app/assets/stylesheets/base/_variables.scss\n@@ -47,6 +47,11 @@ $very_dark_cyan: darken($dark_cyan, 25%);\n $dark_magenta: #884488;\n $very_dark_magenta: darken($dark_magenta, 25%);\n\n+/* \u30a4\u30a8\u30ed\u30fc\u7cfb */\n+\n+$dark_yellow: #888844;\n+$very_dark_yellow: darken($dark_yellow, 25%);\n+\n /* \u8d64\u7cfb */\n $red: #cc0000;\n $pink: #ffcccc;\ndiff --git a/app/assets/stylesheets/pages/_customer.scss b/app/assets/stylesheets/pages/_customer.scss\nnew file mode 100644\nindex 0000000..468e113\n--- /dev/null\n+++ b/app/assets/stylesheets/pages/_customer.scss\n@@ -0,0 +1,62 @@\n+@charset 'utf-8';\n+\n+// =====================\n+// \u9867\u5ba2\u30da\u30fc\u30b8\u56fa\u6709\u306e\u30b9\u30bf\u30a4\u30eb\n+// =====================\n+\n+\n+html, body {\n+  margin: 0;\n+  padding: 0;\n+  height: 100%;\n+}\n+\n+.Header__head {\n+  text-align: left;\n+}\n+\n+.Customer {\n+  &amp;__wrapper {\n+    position: relative;\n+    box-sizing: border-box;\n+    min-height: 100%;\n+    margin: 0 auto;\n+    padding-bottom: ($wide + $moderate) * 2 + $standard_line_height;\n+    background-color: $gray;\n+  }\n+\n+  &amp;__title {\n+    margin: 0;\n+    padding: $moderate * 1.5 $moderate;\n+    font-size: $large;\n+    font-weight: normal;\n+    background-color: $very_dark_magenta;\n+    color: $light_gray;\n+  }\n+\n+  &amp;__header {\n+    padding: $moderate;\n+    background-color: $dark_magenta;\n+    color: $very_light_gray;\n+    span.logo-mark {\n+      font-weight: bold;\n+    }\n+  }\n+\n+  &amp;__footer {\n+    bottom: 0;\n+    position: absolute;\n+    width: 100%;\n+    background-color: $dark_gray;\n+    color: $very_light_gray;\n+    p {\n+      text-align: center;\n+      padding: $moderate;\n+      margin: 0;\n+    }\n+  }\n+}\n+\n+.logo--customer {\n+  color: $color-white;\n+}\ndiff --git a/app/assets/stylesheets/pages/_login.scss b/app/assets/stylesheets/pages/_login.scss\nindex 72fc3e8..f86b2a9 100644\n--- a/app/assets/stylesheets/pages/_login.scss\n+++ b/app/assets/stylesheets/pages/_login.scss\n@@ -19,6 +19,9 @@\n   &amp;--admin {\n     border: solid 4px $dark_magenta;\n   }\n+  &amp;--customer {\n+    border: solid 4px $dark_yellow;\n+  }\n\n   background-color: $very_light_gray;\n\ndiff --git a/app/forms/customer/login_form.rb b/app/forms/customer/login_form.rb\nnew file mode 100644\nindex 0000000..1feb6e1\n--- /dev/null\n+++ b/app/forms/customer/login_form.rb\n@@ -0,0 +1,5 @@\n+class Customer::LoginForm\n+  include ActiveModel::Model\n+\n+  attr_accessor :email, :password\n+end\n\\ No newline at end of file\ndiff --git a/app/views/admin/sessions/new.html.erb b/app/views/admin/sessions/new.html.erb\nindex a33ec06..a053234 100644\n--- a/app/views/admin/sessions/new.html.erb\n+++ b/app/views/admin/sessions/new.html.erb\n@@ -1,4 +1,4 @@\n-&lt;% @title = '\u30ed\u30b0\u30a4\u30f3' %&gt;\n+&lt;% @title = t('.title') %&gt;\n &lt;section class=\"Section l-column\"&gt;\n   &lt;div class=\"Login Login--admin\"&gt;\n     &lt;h1 class=\"Login__head\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\ndiff --git a/app/views/admin/shared/_footer.html.erb b/app/views/admin/shared/_footer.html.erb\nindex e3c34d8..3fb42b5 100644\n--- a/app/views/admin/shared/_footer.html.erb\n+++ b/app/views/admin/shared/_footer.html.erb\n@@ -1,7 +1,7 @@\n &lt;footer class=\"Footer Admin__footer\"&gt;\n   &lt;div class=\"l-row l-column\"&gt;\n     &lt;div class=\"Footer__head\"&gt;\n-      &lt;%= link_to('BAUKIS KAI', staff_root_url, class:'logo') %&gt;\n+      &lt;%= link_to('BAUKIS KAI', admin_root_url, class:'logo') %&gt;\n       &lt;ul class=\"Menu Menu--sub\"&gt;\n         &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;&lt;/a&gt;&lt;/li&gt;\n       &lt;/ul&gt;\ndiff --git a/app/views/customer/sessions/new.html.erb b/app/views/customer/sessions/new.html.erb\nnew file mode 100644\nindex 0000000..f199010\n--- /dev/null\n+++ b/app/views/customer/sessions/new.html.erb\n@@ -0,0 +1,19 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section l-column\"&gt;\n+  &lt;div class=\"Login Login--customer\"&gt;\n+    &lt;h1 class=\"Login__head\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+    &lt;div class=\"Login__body\"&gt;\n+      &lt;%= bootstrap_form_for @form, url: :customer_session do |f| %&gt;\n+          &lt;div&gt;\n+            &lt;%= f.text_field :email %&gt;\n+          &lt;/div&gt;\n+          &lt;div&gt;\n+            &lt;%= f.password_field :password %&gt;\n+          &lt;/div&gt;\n+          &lt;div&gt;\n+            &lt;%= f.submit t '.submit' %&gt;\n+          &lt;/div&gt;\n+      &lt;% end %&gt;\n+    &lt;/div&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/app/views/customer/shared/_footer.html.erb b/app/views/customer/shared/_footer.html.erb\nindex 46d3707..e57987c 100644\n--- a/app/views/customer/shared/_footer.html.erb\n+++ b/app/views/customer/shared/_footer.html.erb\n@@ -1,13 +1,14 @@\n &lt;footer class=\"Footer\"&gt;\n   &lt;div class=\"l-row l-column\"&gt;\n     &lt;div class=\"Footer__head\"&gt;\n-      &lt;%= link_to('BAUKIS KAI', staff_root_url, class:'logo') %&gt;\n+      &lt;%= link_to('BAUKIS KAI', customer_root_url, class:'logo') %&gt;\n       &lt;ul class=\"Menu Menu--sub\"&gt;\n         &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;Services&lt;/a&gt;&lt;/li&gt;\n         &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;Work&lt;/a&gt;&lt;/li&gt;\n         &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;About us&lt;/a&gt;&lt;/li&gt;\n         &lt;li&gt;&lt;%= link_to('Blog', customer_article_index_url,class:\"Menu__item\") %&gt;&lt;/li&gt;\n         &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\n+        &lt;li&gt;&lt;%= link_to('Login', customer_login_url,class:\"Menu__item\") %&gt;&lt;/li&gt;\n       &lt;/ul&gt;\n     &lt;/div&gt;\n     &lt;div class=\"Footer__body\"&gt;\ndiff --git a/app/views/customer/shared/_footer_login.html.erb b/app/views/customer/shared/_footer_login.html.erb\nnew file mode 100644\nindex 0000000..dd87033\n--- /dev/null\n+++ b/app/views/customer/shared/_footer_login.html.erb\n@@ -0,0 +1,13 @@\n+&lt;footer class=\"Footer Customer__footer\"&gt;\n+  &lt;div class=\"l-row l-column\"&gt;\n+    &lt;div class=\"Footer__head\"&gt;\n+      &lt;%= link_to('BAUKIS KAI', customer_root_url, class:'logo') %&gt;\n+      &lt;ul class=\"Menu Menu--sub\"&gt;\n+        &lt;li&gt;&lt;a href=\"#\" class=\"Menu__item\"&gt;&lt;/a&gt;&lt;/li&gt;\n+      &lt;/ul&gt;\n+    &lt;/div&gt;\n+    &lt;div class=\"Footer__body\"&gt;\n+      &lt;p&gt;Powered by BAUKIS KAI &amp;copy; 2014 k2works&lt;/p&gt;\n+    &lt;/div&gt;\n+  &lt;/div&gt;\n+&lt;/footer&gt;\n\\ No newline at end of file\ndiff --git a/app/views/customer/shared/_header.html.erb b/app/views/customer/shared/_header.html.erb\nindex ae88d5d..05d8bc0 100644\n--- a/app/views/customer/shared/_header.html.erb\n+++ b/app/views/customer/shared/_header.html.erb\n@@ -12,6 +12,7 @@\n       &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;About&lt;/a&gt;&lt;/li&gt;\n       &lt;li class=\"Menu__item\"&gt;&lt;%= link_to('Blog', customer_article_index_url) %&gt;&lt;/li&gt;\n       &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\n+      &lt;li class=\"Menu__item\"&gt;&lt;%= link_to('Login', customer_login_url) %&gt;&lt;/li&gt;\n     &lt;/ul&gt;\n   &lt;/nav&gt;\n &lt;/header&gt;\n\\ No newline at end of file\ndiff --git a/app/views/customer/shared/_header_login.html.erb b/app/views/customer/shared/_header_login.html.erb\nnew file mode 100644\nindex 0000000..fecb5a6\n--- /dev/null\n+++ b/app/views/customer/shared/_header_login.html.erb\n@@ -0,0 +1,25 @@\n+&lt;header class=\"Header Customer__header\"&gt;\n+  &lt;div id=\"menu-button\" class=\"Header__button\"&gt;\n+    &lt;%= fa_icon 'bars' %&gt;\n+  &lt;/div&gt;\n+  &lt;div class=\"Header__head\"&gt;\n+    &lt;h1 class=\"logo\"&gt;&lt;%= link_to('BAUKIS KAI', customer_root_url, class:'logo logo--customer') %&gt;&lt;/h1&gt;\n+  &lt;/div&gt;\n+\n+  &lt;div class=\"Flash\"&gt;\n+    &lt;%= content_tag(:span, flash.notice, class: 'Flash__notice') if flash.notice %&gt;\n+    &lt;%= content_tag(:span, flash.alert, class: 'Flash__alert') if flash.alert %&gt;\n+  &lt;/div&gt;\n+\n+  &lt;nav class=\"Header__body SpMenu\"&gt;\n+    &lt;ul class=\"Menu\"&gt;\n+      &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;&lt;/a&gt;&lt;/li&gt;\n+    &lt;/ul&gt;\n+  &lt;/nav&gt;\n+  &lt;%= if current_customer\n+        link_to t('customer.shared.header.logout'), :admin_session, method: :delete, class: 'btn btn-default'\n+      else\n+        link_to t('customer.shared.header.login'), :admin_login, class: 'btn btn-default'\n+      end\n+  %&gt;\n+&lt;/header&gt;\n\\ No newline at end of file\ndiff --git a/app/views/layouts/customer.html.erb b/app/views/layouts/customer.html.erb\nindex 404c4c2..b8368e8 100644\n--- a/app/views/layouts/customer.html.erb\n+++ b/app/views/layouts/customer.html.erb\n@@ -13,9 +13,11 @@\n &lt;body&gt;\n &lt;div id=\"wrapper\" class=\"SpMenu__wrapper\"&gt;\n   &lt;div id=\"overlay\" class=\"SpMenu__overlay\"&gt;&lt;/div&gt;\n-  &lt;%= render 'customer/shared/header' %&gt;\n+  &lt;% header = current_customer ? 'header_login' : 'header' %&gt;\n+  &lt;% footer = current_customer ? 'footer_login' : 'footer' %&gt;\n+  &lt;%= render \"customer/shared/#{header}\" %&gt;\n   &lt;%= yield %&gt;\n-  &lt;%= render 'customer/shared/footer' %&gt;\n+  &lt;%= render \"customer/shared/#{footer}\" %&gt;\n &lt;/div&gt;\n &lt;script&gt;\n     imageSlide('Slide', 2);\ndiff --git a/app/views/staff/sessions/new.html.erb b/app/views/staff/sessions/new.html.erb\nindex 8479cef..07c6517 100644\n--- a/app/views/staff/sessions/new.html.erb\n+++ b/app/views/staff/sessions/new.html.erb\n@@ -1,4 +1,4 @@\n-&lt;% @title = '\u30ed\u30b0\u30a4\u30f3' %&gt;\n+&lt;% @title = t('.title') %&gt;\n &lt;section class=\"Section l-column\"&gt;\n   &lt;div class=\"Login Login--staff\"&gt;\n     &lt;h1 class=\"Login__head\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\ndiff --git a/config/locales/models/ja.yml b/config/locales/models/ja.yml\nindex 612676c..b52d1db 100644\n--- a/config/locales/models/ja.yml\n+++ b/config/locales/models/ja.yml\n@@ -115,6 +115,7 @@ ja:\n       staff/login_form: \u8077\u54e1\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\n       staff/change_password_form: \u8077\u54e1\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u30d5\u30a9\u30fc\u30e0\n       admin/login_form: \u7ba1\u7406\u8005\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\n+      customer/login_form: \u9867\u5ba2\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\n\n     attributes:\n       staff/login_form:\n@@ -127,3 +128,6 @@ ja:\n       admin/login_form:\n         email: \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n         password: \u30d1\u30b9\u30ef\u30fc\u30c9\n+      customer/login_form:\n+        email: \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n+        password: \u30d1\u30b9\u30ef\u30fc\u30c9\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 5ac1a8e..08a8945 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -16,6 +16,7 @@ ja:\n         submit: '\u691c\u7d22'\n     sessions:\n       new:\n+        title: '\u30ed\u30b0\u30a4\u30f3'\n         submit: '\u30ed\u30b0\u30a4\u30f3'\n     top:\n       index:\n@@ -105,6 +106,7 @@ ja:\n         logout: '\u30ed\u30b0\u30a2\u30a6\u30c8'\n     sessions:\n       new:\n+        title: '\u30ed\u30b0\u30a4\u30f3'\n         submit: '\u30ed\u30b0\u30a4\u30f3'\n     top:\n       index:\n@@ -143,4 +145,14 @@ ja:\n           full_name: '\u6c0f\u540d'\n           type: '\u7a2e\u5225'\n           date_time: '\u65e5\u6642'\n-          contents_not_record: '\u8a18\u9332\u304c\u3042\u308a\u307e\u305b\u3093'\n\\ No newline at end of file\n+          contents_not_record: '\u8a18\u9332\u304c\u3042\u308a\u307e\u305b\u3093'\n+\n+  customer:\n+    shared:\n+      header:\n+        login: 'Login'\n+        logout: 'Logout'\n+    sessions:\n+      new:\n+        title: '\u30ed\u30b0\u30a4\u30f3'\n+        submit: '\u30ed\u30b0\u30a4\u30f3'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170209/#6862ae8","title":"\u30b3\u30df\u30c3\u30c8: 6862ae8","text":""},{"location":"journal/20170209/#_30","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9 #29\n</code></pre>"},{"location":"journal/20170209/#_31","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/controllers/customer/base.rb</li> <li>A app/controllers/customer/sessions_controller.rb</li> <li>M app/controllers/customer/top_controller.rb</li> <li>M config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170209/#_32","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 6862ae8a1af4d4162c169ad9ca5a2ce7dd7b4ca8\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 9 15:13:26 2017 +0900\n\n    \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9 #29\n\ndiff --git a/README.md b/README.md\nindex b52a5e7..3f4db64 100644\n--- a/README.md\n+++ b/README.md\n@@ -626,6 +626,7 @@ git push heroku master\n ### \u6b21\u56de\u304b\u3089\u81ea\u52d5\u3067\u30ed\u30b0\u30a4\u30f3\n #### \u9867\u5ba2\u306e\u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u6a5f\u80fd\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n++ \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\n\n #### \u81ea\u52d5\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u306e\u8ffd\u52a0\n #### RSpec\u306b\u3088\u308b\u30c6\u30b9\u30c8\ndiff --git a/app/controllers/customer/base.rb b/app/controllers/customer/base.rb\nnew file mode 100644\nindex 0000000..d714b08\n--- /dev/null\n+++ b/app/controllers/customer/base.rb\n@@ -0,0 +1,18 @@\n+class Customer::Base &lt; ApplicationController\n+  before_action :authorize\n+\n+  private\n+  def current_customer\n+    if session[:customer_id]\n+      @current_customer ||= Customer.find_by(id: session[:cutomer_id])\n+    end\n+  end\n+\n+  helper_method :current_customer\n+\n+  def authorize\n+    unless current_customer\n+      flash.alert = t('customer.base.authrize.flash_alert')\n+    end\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/controllers/customer/sessions_controller.rb b/app/controllers/customer/sessions_controller.rb\nnew file mode 100644\nindex 0000000..993e180\n--- /dev/null\n+++ b/app/controllers/customer/sessions_controller.rb\n@@ -0,0 +1,33 @@\n+class Customer::SessionsController &lt; Customer::Base\n+  skip_before_action :authorize\n+\n+  def new\n+    if current_customer\n+      redirect_to :customer_root\n+    else\n+      @form = Customer::LoginForm.new\n+      render action: 'new'\n+    end\n+  end\n+\n+  def crete\n+    @form = Customer::LoginForm.new(params[:customer_login_form])\n+    if @form.email.present?\n+      customer = Customer.find_by(email_for_inde: @form.email.downcase)\n+    end\n+    if Customer::Authenticator.new(customer).authenticate(@form.password)\n+      session[:customer_id] = customer.id\n+      flash.notice = t('common.session.create.notice')\n+      redirect_to :customer_root\n+    else\n+      flash.now.alert = t('common.session.create.alert_mail_password')\n+      render action: 'new'\n+    end\n+  end\n+\n+  def destroy\n+    session.delete(:customer_id)\n+    flash.notice = t('common.session.destroy.notice')\n+    redirect_to :customer_root\n+  end\n+end\ndiff --git a/app/controllers/customer/top_controller.rb b/app/controllers/customer/top_controller.rb\nindex 9fc6012..013788c 100644\n--- a/app/controllers/customer/top_controller.rb\n+++ b/app/controllers/customer/top_controller.rb\n@@ -1,4 +1,6 @@\n-class Customer::TopController &lt; ApplicationController\n+class Customer::TopController &lt; Customer::Base\n+  skip_before_action :authorize\n+\n   def index\n     render action: 'index'\n   end\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex b400f59..8555c0e 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -41,4 +41,8 @@ ja:\n       update:\n         flash_success: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n       destroy:\n-        flash_success: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'\n\\ No newline at end of file\n+        flash_success: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'\n+  customer:\n+    base:\n+      authrize:\n+        flash_alert: '\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170209/#_33","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170209/#5352ad5","title":"\u30b3\u30df\u30c3\u30c8: 5352ad5","text":""},{"location":"journal/20170209/#_34","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #29\n</code></pre>"},{"location":"journal/20170209/#_35","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170209/#_36","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 5352ad579983fbcc3e34b515ca567de0d9e3211c\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 9 14:39:08 2017 +0900\n\n    \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #29\n\ndiff --git a/README.md b/README.md\nindex 5e01860..b52a5e7 100644\n--- a/README.md\n+++ b/README.md\n@@ -625,6 +625,8 @@ git push heroku master\n\n ### \u6b21\u56de\u304b\u3089\u81ea\u52d5\u3067\u30ed\u30b0\u30a4\u30f3\n #### \u9867\u5ba2\u306e\u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u6a5f\u80fd\n++ \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n+\n #### \u81ea\u52d5\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u306e\u8ffd\u52a0\n #### RSpec\u306b\u3088\u308b\u30c6\u30b9\u30c8\n\ndiff --git a/config/routes.rb b/config/routes.rb\nindex f0f1ae9..ce8228f 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -39,6 +39,9 @@\n #          customer_article_index GET    /article/index(.:format)                             customer/article#index {:host=&gt;\"0.0.0.0\"}\n #         customer_campaign_index GET    /campaign/index(.:format)                            customer/campaign#index {:host=&gt;\"0.0.0.0\"}\n #        customer_campaign_submit GET    /campaign_submit(.:format)                           customer/campaign#submit {:host=&gt;\"0.0.0.0\"}\n+#                  customer_login GET    /login(.:format)                                     customer/sessions#new {:host=&gt;\"0.0.0.0\"}\n+#                customer_session DELETE /session(.:format)                                   customer/sessions#destroy {:host=&gt;\"0.0.0.0\"}\n+#                                 POST   /session(.:format)                                   customer/sessions#create {:host=&gt;\"0.0.0.0\"}\n #                            root GET    /                                                    errors#routing_error\n #                                 GET    /*anything(.:format)                                 errors#routing_error\n #\n@@ -78,6 +81,8 @@ Rails.application.routes.draw do\n       get 'article/index'\n       get 'campaign/index'\n       get 'campaign_submit', to: 'campaign#submit'\n+      get 'login' =&gt; 'sessions#new', as: :login\n+      resource :session, only: [ :create, :destroy ]\n     end\n   end\n</code></pre>"},{"location":"journal/20170209/#977c96a","title":"\u30b3\u30df\u30c3\u30c8: 977c96a","text":""},{"location":"journal/20170209/#_37","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6a5f\u80fd\u62e1\u5f35\u7de8\n</code></pre>"},{"location":"journal/20170209/#_38","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170209/#_39","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 977c96a4afebbd8d005b532d2d316b150c84cccd\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 9 14:22:14 2017 +0900\n\n    \u6a5f\u80fd\u62e1\u5f35\u7de8\n\ndiff --git a/README.md b/README.md\nindex 18c6f37..5e01860 100644\n--- a/README.md\n+++ b/README.md\n@@ -623,6 +623,48 @@ git push heroku master\n + \u691c\u7d22\u6761\u4ef6\u306b\u90f5\u4fbf\u756a\u53f7\u3092\u8ffd\u52a0\n + \u691c\u7d22\u6761\u4ef6\u306b\u96fb\u8a71\u756a\u53f7\u4e0b\uff14\u6841\u3092\u8ffd\u52a0\n\n+### \u6b21\u56de\u304b\u3089\u81ea\u52d5\u3067\u30ed\u30b0\u30a4\u30f3\n+#### \u9867\u5ba2\u306e\u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u6a5f\u80fd\n+#### \u81ea\u52d5\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u306e\u8ffd\u52a0\n+#### RSpec\u306b\u3088\u308b\u30c6\u30b9\u30c8\n+\n+### IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u9650\n+#### IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u9650\n+#### \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u7ba1\u7406\n+#### \u6f14\u7fd2\u554f\u984c\n+\n+### \u591a\u5bfe\u591a\u306e\u95a2\u9023\u4ed8\u3051\n+#### \u591a\u5bfe\u591a\u306e\u95a2\u9023\u4ed8\u3051\n+#### \u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\uff08\u524d\u7de8\uff09\n+#### \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6539\u5584\n+\n+### \u8907\u96d1\u306a\u30d5\u30a9\u30fc\u30e0\n+#### \u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\uff08\u5f8c\u7de8\uff09\n+#### \u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u6a5f\u80fd\n+\n+### \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\n+#### \u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7\u8868\u793a\u30fb\u8a73\u7d30\u8868\u793a\u6a5f\u80fd\uff08\u9867\u5ba2\u5411\u3051)\n+#### \u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u6a5f\u80fd\n+\n+### \u30d5\u30a9\u30fc\u30e0\u306e\u78ba\u8a8d\u753b\u9762 \n+#### \u9867\u5ba2\u81ea\u8eab\u306b\u3088\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\n+#### \u78ba\u8a8d\u753b\u9762\n+#### \u6f14\u7fd2\u554f\u984c\n+\n+### Ajax\n+#### \u9867\u5ba2\u5411\u3051\u554f\u3044\u5408\u308f\u305b\u30d5\u30a9\u30fc\u30e0\n+#### \u554f\u3044\u5408\u308f\u305b\u5230\u7740\u306e\u901a\u77e5\n+ \n+### \u30c4\u30ea\u30fc\u69cb\u9020\n+#### \u554f\u3044\u5408\u308f\u305b\u306e\u4e00\u89a7\u8868\u793a\u3068\u524a\u9664\n+#### \u30e1\u30c3\u30bb\u30fc\u30b8\u30c4\u30ea\u30fc\u306e\u8868\u793a\n+\n+### \u30bf\u30b0\u4ed8\u3051\n+#### \u554f\u3044\u5408\u308f\u305b\u306e\u8fd4\u4fe1\u6a5f\u80fd\n+#### \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30bf\u30b0\u4ed8\u3051\n+#### \u4e00\u610f\u5236\u7d04\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\n+#### \u6f14\u7fd2\u554f\u984c  \n+\n **[\u2b06 back to top](#\u69cb\u6210)**\n\n # \u53c2\u7167 #\n</code></pre>"},{"location":"journal/20170210/","title":"\u4f5c\u696d\u5c65\u6b74 2017-02-10","text":""},{"location":"journal/20170210/#_1","title":"\u6982\u8981","text":"<p>2017-02-10\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u65e5\u306f\u4e3b\u306b\u300cIP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u9650\u300d\u6a5f\u80fd\u306e\u7ba1\u7406\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170210/#_2","title":"\u5b9f\u88c5\u5185\u5bb9\u306e\u8aac\u660e","text":""},{"location":"journal/20170210/#ip","title":"IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u9650\u306e\u7ba1\u7406\u6a5f\u80fd","text":"<p>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u5f37\u5316\u3059\u308b\u305f\u3081\u3001\u7279\u5b9a\u306eIP\u30a2\u30c9\u30ec\u30b9\u304b\u3089\u306e\u307f\u7ba1\u7406\u8005\u30fb\u8077\u54e1\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u5236\u9650\u3059\u308b\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u3053\u306e\u65e5\u306f\u7279\u306b\u3001\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u7ba1\u7406\u8005\u5411\u3051\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u7ba1\u7406\u8005\u306f\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u8ffd\u52a0\u3084\u4e00\u62ec\u524a\u9664\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p></p>"},{"location":"journal/20170210/#ip_1","title":"\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u7ba1\u7406","text":"<p>\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306f\u3001\u4ee5\u4e0b\u306e\u5f62\u5f0f\u3067\u7ba1\u7406\u3055\u308c\u307e\u3059\uff1a 1. \u5b8c\u5168\u4e00\u81f4\uff08\u4f8b\uff1a192.168.1.1\uff09 2. \u524d\u65b9\u4e00\u81f4\uff08\u4f8b\uff1a192.168.1.*\uff09</p> <p>\u7ba1\u7406\u8005\u306f\u3001\u3053\u308c\u3089\u306e\u30d1\u30bf\u30fc\u30f3\u3092\u4f7f\u3063\u3066\u67d4\u8edf\u306b\u30a2\u30af\u30bb\u30b9\u5236\u9650\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u4e00\u62ec\u524a\u9664\u6a5f\u80fd\u306b\u3088\u308a\u3001\u8907\u6570\u306e\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u3092\u52b9\u7387\u7684\u306b\u7ba1\u7406\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"journal/20170210/#_3","title":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3068\u306e\u95a2\u9023","text":"<p>\u3053\u306e\u5b9f\u88c5\u306f\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6982\u8981\u306e\u300c8. \u8a8d\u8a3c\u30fb\u8a8d\u53ef\u30b7\u30b9\u30c6\u30e0\u300d\u304a\u3088\u3073\u300c10. \u958b\u767a\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3\u300d\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u95a2\u9023\u3057\u3066\u3044\u307e\u3059\u3002\u7279\u306b\u4ee5\u4e0b\u306e\u90e8\u5206\u3092\u5f37\u5316\u3059\u308b\u3082\u306e\u3067\u3059\uff1a</p> <pre><code>1. **\u540d\u524d\u7a7a\u9593\u306e\u5206\u96e2**: \u5404\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\uff08\u30b9\u30bf\u30c3\u30d5\u3001\u9867\u5ba2\u3001\u7ba1\u7406\u8005\uff09\u306e\u30b3\u30fc\u30c9\u306f\u540d\u524d\u7a7a\u9593\u3067\u660e\u78ba\u306b\u5206\u96e2\u3059\u308b\n...\n4. **\u30a2\u30af\u30bb\u30b9\u5236\u5fa1**: \u9069\u5207\u306a\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306b\u3088\u308a\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u78ba\u4fdd\u3059\u308b\n</code></pre> <p>\u307e\u305f\u3001\u30b5\u30fc\u30d3\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d1\u30bf\u30fc\u30f3\uff08<code>AllowedSourcesDeleter</code>\uff09\u3092\u4f7f\u7528\u3057\u3066\u3001\u8907\u96d1\u306a\u524a\u9664\u30ed\u30b8\u30c3\u30af\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304b\u3089\u5206\u96e2\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20170210/#_4","title":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3068\u306e\u95a2\u9023","text":"<p>\u3053\u306e\u5b9f\u88c5\u306f\u3001\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306e\u300c5.3. \u30b7\u30b9\u30c6\u30e0\u7ba1\u7406\u300d\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u4ee5\u4e0b\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u5b9f\u73fe\u3059\u308b\u3082\u306e\u3067\u3059\uff1a</p> <ul> <li>A-007: \u30a2\u30af\u30bb\u30b9\u5236\u9650IP\u30a2\u30c9\u30ec\u30b9\u7ba1\u7406</li> </ul> <p>\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u8aac\u660e\uff1a</p> <p>\u7ba1\u7406\u8005\u304c\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\u3059\u308bIP\u30a2\u30c9\u30ec\u30b9\u3092\u7ba1\u7406\u3059\u308b</p> <p>\u57fa\u672c\u30d5\u30ed\u30fc\uff1a 1. IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\u8a2d\u5b9a\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9 2. \u8a31\u53ef\u3059\u308bIP\u30a2\u30c9\u30ec\u30b9\u3092\u8ffd\u52a0/\u7de8\u96c6/\u524a\u9664 3. \u5909\u66f4\u3092\u4fdd\u5b58</p>"},{"location":"journal/20170210/#698d99c","title":"\u30b3\u30df\u30c3\u30c8: 698d99c","text":""},{"location":"journal/20170210/#_5","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u4e00\u62ec\u524a\u9664 #28\n</code></pre>"},{"location":"journal/20170210/#_6","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/admin/allowed_sources_controller.rb</li> <li>A app/services/admin/allowed_sources_deleter.rb</li> <li>M app/views/admin/allowed_sources/index.html.erb</li> <li>M config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170210/#_7","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 698d99c761059d878c16102f32c4e809628b6151\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 10 21:39:54 2017 +0900\n\n    \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u4e00\u62ec\u524a\u9664 #28\n\ndiff --git a/README.md b/README.md\nindex 60478cd..a0749af 100644\n--- a/README.md\n+++ b/README.md\n@@ -655,6 +655,7 @@ git push heroku master\n + \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u65b0\u898f\u767b\u9332\u30d5\u30a9\u30fc\u30e0\n + \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u8ffd\u52a0\n + \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u4e00\u62ec\u524a\u9664\u30d5\u30a9\u30fc\u30e0\n++ \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u4e00\u62ec\u524a\u9664\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/controllers/admin/allowed_sources_controller.rb b/app/controllers/admin/allowed_sources_controller.rb\nindex 6745e01..bb03a41 100644\n--- a/app/controllers/admin/allowed_sources_controller.rb\n+++ b/app/controllers/admin/allowed_sources_controller.rb\n@@ -17,6 +17,13 @@ class Admin::AllowedSourcesController &lt; Admin::Base\n     end\n   end\n\n+  def delete\n+    if Admin::AllowedSourcesDeleter.new.delete(allowed_sources_params(params[:form]))\n+      flash.notice = t('.flash_notice')\n+    end\n+    redirect_to action: 'index'\n+  end\n+\n   private\n   def allowed_source_params\n     params.require(:allowed_source).permit(:octet1,\n@@ -24,4 +31,15 @@ class Admin::AllowedSourcesController &lt; Admin::Base\n                                            :octet3,\n                                            :last_octet)\n   end\n+\n+  def allowed_sources_params(form)\n+    arr = Array.new\n+    form[:allowed_sources].each do |v|\n+      h = Hash.new\n+      h.store(:id,form[:allowed_sources][v].permit([:id,:_destroy]).to_h[:id])\n+      h.store(:_destroy,form[:allowed_sources][v].permit([:id,:_destroy]).to_h[:_destroy])\n+      arr &lt;&lt; h\n+    end\n+    arr\n+  end\n end\ndiff --git a/app/services/admin/allowed_sources_deleter.rb b/app/services/admin/allowed_sources_deleter.rb\nnew file mode 100644\nindex 0000000..c720e1d\n--- /dev/null\n+++ b/app/services/admin/allowed_sources_deleter.rb\n@@ -0,0 +1,13 @@\n+class Admin::AllowedSourcesDeleter\n+  def delete(params)\n+    ids = []\n+    params.each do |hash|\n+      if hash[:_destroy] == '1'\n+        ids &lt;&lt; hash[:id]\n+      end\n+    end\n+    if ids.present?\n+      AllowedSource.where(namespace: 'staff', id: ids).delete_all\n+    end\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/views/admin/allowed_sources/index.html.erb b/app/views/admin/allowed_sources/index.html.erb\nindex c4ebc36..c2a993f 100644\n--- a/app/views/admin/allowed_sources/index.html.erb\n+++ b/app/views/admin/allowed_sources/index.html.erb\n@@ -16,7 +16,7 @@\n           &lt;/tr&gt;\n           &lt;% @allowed_sources.each_with_index do |s, index| %&gt;\n               &lt;% p = Admin::AllowedSourcePresenter.new(s, self) %&gt;\n-              &lt;%= f.fields_for :@allowed_sources, s, index: index do |ff| %&gt;\n+              &lt;%= f.fields_for :allowed_sources, s, index: index do |ff| %&gt;\n                   &lt;%= ff.hidden_field :id %&gt;\n                   &lt;tr  class=\"Table__tr\"&gt;\n                     &lt;td class=\"Table__td Table__td--action Table__td--center\"&gt;&lt;%= ff.check_box :_destroy ,label:''%&gt;&lt;/td&gt;\n@@ -33,5 +33,4 @@\n         &lt;/div&gt;\n     &lt;% end %&gt;\n   &lt;/div&gt;\n-&lt;/section&gt;\n-\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 484e11b..2faa88c 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -46,6 +46,8 @@ ja:\n       create:\n         flash_notice: '\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002'\n         flash_alert: '\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u5024\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002'\n+      delete:\n+        flash_notice: '\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'\n\n   customer:\n     base:\n</code></pre>"},{"location":"journal/20170210/#_8","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170210/#bf9f1c3","title":"\u30b3\u30df\u30c3\u30c8: bf9f1c3","text":""},{"location":"journal/20170210/#_9","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u4e00\u62ec\u524a\u9664\u30d5\u30a9\u30fc\u30e0 #28\n</code></pre>"},{"location":"journal/20170210/#_10","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/allowed_source.rb</li> <li>M app/views/admin/allowed_sources/_new_allowed_source.html.erb</li> <li>M app/views/admin/allowed_sources/index.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170210/#_11","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit bf9f1c3603d8340ab97cb984a33d2c7b296e33e3\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 10 18:00:37 2017 +0900\n\n    \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u4e00\u62ec\u524a\u9664\u30d5\u30a9\u30fc\u30e0 #28\n\ndiff --git a/README.md b/README.md\nindex b35bf73..60478cd 100644\n--- a/README.md\n+++ b/README.md\n@@ -654,6 +654,7 @@ git push heroku master\n + \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u4e00\u89a7\u8868\u793a\n + \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u65b0\u898f\u767b\u9332\u30d5\u30a9\u30fc\u30e0\n + \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u8ffd\u52a0\n++ \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u4e00\u62ec\u524a\u9664\u30d5\u30a9\u30fc\u30e0\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/models/allowed_source.rb b/app/models/allowed_source.rb\nindex 10c6f60..7a1154d 100644\n--- a/app/models/allowed_source.rb\n+++ b/app/models/allowed_source.rb\n@@ -18,7 +18,7 @@\n #\n\n class AllowedSource &lt; ApplicationRecord\n-  attr_accessor :last_octet\n+  attr_accessor :last_octet, :_destroy\n\n   before_validation do\n     if last_octet\ndiff --git a/app/views/admin/allowed_sources/_new_allowed_source.html.erb b/app/views/admin/allowed_sources/_new_allowed_source.html.erb\nindex a024b99..c7d281e 100644\n--- a/app/views/admin/allowed_sources/_new_allowed_source.html.erb\n+++ b/app/views/admin/allowed_sources/_new_allowed_source.html.erb\n@@ -5,6 +5,6 @@\n   &lt;%= f.text_field(:octet2, size:3, hide_label:true) %&gt;\n   &lt;%= f.text_field(:octet3, size:3, hide_label:true) %&gt;\n   &lt;%= f.text_field(:last_octet, size:3, hide_label:true) %&gt;\n-  &lt;%= f.submit t('admin.allowed_sources.index.submit'), inline: true %&gt;\n+  &lt;%= f.submit t('admin.allowed_sources.new_allowed_source.submit'), inline: true %&gt;\n &lt;/div&gt;\n &lt;% end %&gt;\n\\ No newline at end of file\ndiff --git a/app/views/admin/allowed_sources/index.html.erb b/app/views/admin/allowed_sources/index.html.erb\nindex 4b2721d..c4ebc36 100644\n--- a/app/views/admin/allowed_sources/index.html.erb\n+++ b/app/views/admin/allowed_sources/index.html.erb\n@@ -6,22 +6,32 @@\n &lt;section class=\"Section l-column AppForm\"&gt;\n   &lt;div class=\"AppForm__generic-form AdminAppForm__generic-form AppForm__customer_form\"&gt;\n     &lt;%= render 'new_allowed_source' %&gt;\n-  &lt;/div&gt;\n-&lt;/section&gt;\n-\n\n-&lt;section class=\"Section l-column Table\"&gt;\n-  &lt;table class=\"Table__body Table__body--listing AdminTable__body\"&gt;\n-    &lt;tr class=\"Table__tr\"&gt;\n-      &lt;th class=\"Table__th\"&gt;&lt;%= t('.ip_address') %&gt;&lt;/th&gt;\n-      &lt;th class=\"Table__th\"&gt;&lt;%= t('.created_at') %&gt;&lt;/th&gt;\n-    &lt;/tr&gt;\n-    &lt;% @allowed_sources.each do |s| %&gt;\n-        &lt;% p = Admin::AllowedSourcePresenter.new(s, self) %&gt;\n-        &lt;tr  class=\"Table__tr\"&gt;\n-          &lt;td class=\"Table__td Table__td--ip Table__td--center\"&gt;&lt;%= p.ip_address %&gt;&lt;/td&gt;\n-          &lt;td class=\"Table__td Table__td--date Table__td--center\"&gt;&lt;%= p.created_at %&gt;&lt;/td&gt;\n-        &lt;/tr&gt;\n+    &lt;%= bootstrap_form_for :form, url: :delete_admin_allowed_sources, method: :delete do |f| %&gt;\n+        &lt;table class=\"Table__body Table__body--listing AdminTable__body\"&gt;\n+          &lt;tr class=\"Table__tr\"&gt;\n+            &lt;th class=\"Table__th\"&gt;&lt;%= t('.delete') %&gt;&lt;/th&gt;\n+            &lt;th class=\"Table__th\"&gt;&lt;%= t('.ip_address') %&gt;&lt;/th&gt;\n+            &lt;th class=\"Table__th\"&gt;&lt;%= t('.created_at') %&gt;&lt;/th&gt;\n+          &lt;/tr&gt;\n+          &lt;% @allowed_sources.each_with_index do |s, index| %&gt;\n+              &lt;% p = Admin::AllowedSourcePresenter.new(s, self) %&gt;\n+              &lt;%= f.fields_for :@allowed_sources, s, index: index do |ff| %&gt;\n+                  &lt;%= ff.hidden_field :id %&gt;\n+                  &lt;tr  class=\"Table__tr\"&gt;\n+                    &lt;td class=\"Table__td Table__td--action Table__td--center\"&gt;&lt;%= ff.check_box :_destroy ,label:''%&gt;&lt;/td&gt;\n+                    &lt;td class=\"Table__td Table__td--ip Table__td--center\"&gt;&lt;%= p.ip_address %&gt;&lt;/td&gt;\n+                    &lt;td class=\"Table__td Table__td--date Table__td--center\"&gt;&lt;%= p.created_at %&gt;&lt;/td&gt;\n+                  &lt;/tr&gt;\n+              &lt;% end %&gt;\n+          &lt;% end %&gt;\n+        &lt;/table&gt;\n+        &lt;div&gt;\n+          &lt;%= f.submit t('.submit'),\n+                       data: { confirmed: t('.confirm')}\n+          %&gt;\n+        &lt;/div&gt;\n     &lt;% end %&gt;\n-  &lt;/table&gt;\n+  &lt;/div&gt;\n &lt;/section&gt;\n+\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 17a4243..07e17d1 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -150,9 +150,13 @@ ja:\n     allowed_sources:\n         index:\n           title: '\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u4e00\u89a7'\n+          delete: '\u524a\u9664'\n           ip_address: 'IP\u30a2\u30c9\u30ec\u30b9'\n           created_at: '\u4f5c\u6210\u65e5\u6642'\n           form_label: '\u65b0\u898f\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9'\n+          submit: '\u30c1\u30a7\u30c3\u30af\u3057\u305fIP\u30a2\u30c9\u30ec\u30b9\u3092\u524a\u9664'\n+          confirm: '\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b\u3002'\n+        new_allowed_source:\n           submit: '\u8ffd\u52a0'\n\n   customer:\n</code></pre>"},{"location":"journal/20170210/#_12","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170210/#8cf338b","title":"\u30b3\u30df\u30c3\u30c8: 8cf338b","text":""},{"location":"journal/20170210/#_13","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u8ffd\u52a0 #28\n</code></pre>"},{"location":"journal/20170210/#_14","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/admin/allowed_sources_controller.rb</li> <li>M app/models/allowed_source.rb</li> <li>M config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170210/#_15","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8cf338b152d52233de9c20b00c5663e0d2522157\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 10 17:32:11 2017 +0900\n\n    \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u8ffd\u52a0 #28\n\ndiff --git a/README.md b/README.md\nindex 80e4e13..b35bf73 100644\n--- a/README.md\n+++ b/README.md\n@@ -653,6 +653,7 @@ git push heroku master\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n + \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u4e00\u89a7\u8868\u793a\n + \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u65b0\u898f\u767b\u9332\u30d5\u30a9\u30fc\u30e0\n++ \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u8ffd\u52a0\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/controllers/admin/allowed_sources_controller.rb b/app/controllers/admin/allowed_sources_controller.rb\nindex bfef319..6745e01 100644\n--- a/app/controllers/admin/allowed_sources_controller.rb\n+++ b/app/controllers/admin/allowed_sources_controller.rb\n@@ -3,4 +3,25 @@ class Admin::AllowedSourcesController &lt; Admin::Base\n     @allowed_sources = AllowedSource.order(:octet1, :octet2, :octet3, :octet4)\n     @new_allowed_source = AllowedSource.new\n   end\n+\n+  def create\n+    @new_allowed_source = AllowedSource.new(allowed_source_params)\n+    @new_allowed_source.namespace = 'staff'\n+    if @new_allowed_source.save\n+      flash.notice = t('.flash_notice')\n+      redirect_to action: 'index'\n+    else\n+      @allowed_sources = AllowedSource.order(:octet1, :octet2, :octet3, :octet4)\n+      flash.now.alert = t('.flash_alert')\n+      render action: 'index'\n+    end\n+  end\n+\n+  private\n+  def allowed_source_params\n+    params.require(:allowed_source).permit(:octet1,\n+                                           :octet2,\n+                                           :octet3,\n+                                           :last_octet)\n+  end\n end\ndiff --git a/app/models/allowed_source.rb b/app/models/allowed_source.rb\nindex 2d2bf38..10c6f60 100644\n--- a/app/models/allowed_source.rb\n+++ b/app/models/allowed_source.rb\n@@ -20,12 +20,34 @@\n class AllowedSource &lt; ApplicationRecord\n   attr_accessor :last_octet\n\n+  before_validation do\n+    if last_octet\n+      self.last_octet.strip!\n+      if last_octet == '*'\n+        self.octet4 = 0\n+        self.wildcard = true\n+      else\n+        self.octet4 = last_octet\n+      end\n+    end\n+  end\n+\n   validates :octet1, :octet2, :octet3, :octet4,\n             presence: true,\n             numericality: { only_integer: true, allow_blank: true },\n             inclusion: { in: 0..255, allow_blank: true }\n   validates :octet4,\n             uniqueness: { scope: [ :octet1, :octet2, :octet3 ], allow_blank: true }\n+  validates :last_octet,\n+            inclusion: { in: (0..255).to_a.map(&amp;:to_s) + ['*'], allow_blank: true }\n+\n+  after_validation do\n+    if last_octet\n+      errors[:octet4].each do |message|\n+        errors.add(:last_octet, message)\n+      end\n+    end\n+  end\n\n   def ip_address=(ip_address)\n     octets = ip_address.split('.')\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 8555c0e..484e11b 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -42,6 +42,11 @@ ja:\n         flash_success: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n       destroy:\n         flash_success: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'\n+    allowed_sources:\n+      create:\n+        flash_notice: '\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002'\n+        flash_alert: '\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u5024\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002'\n+\n   customer:\n     base:\n       authrize:\n</code></pre>"},{"location":"journal/20170210/#_16","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170210/#bb43b5f","title":"\u30b3\u30df\u30c3\u30c8: bb43b5f","text":""},{"location":"journal/20170210/#_17","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u5931\u6557\u3059\u308b\u30c6\u30b9\u30c8\u3092\u4fee\u6b63\n</code></pre>"},{"location":"journal/20170210/#_18","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M spec/controllers/staff/top_controller_spec.rb</li> <li>M spec/models/allowed_source_spec.rb</li> </ul>"},{"location":"journal/20170210/#_19","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit bb43b5ff0cc68561f0853a6c5834d97313f36dc5\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 10 17:14:08 2017 +0900\n\n    \u5931\u6557\u3059\u308b\u30c6\u30b9\u30c8\u3092\u4fee\u6b63\n\ndiff --git a/spec/controllers/staff/top_controller_spec.rb b/spec/controllers/staff/top_controller_spec.rb\nindex 43e54c2..2c3a094 100644\n--- a/spec/controllers/staff/top_controller_spec.rb\n+++ b/spec/controllers/staff/top_controller_spec.rb\n@@ -6,7 +6,7 @@ describe Staff::TopController, 'Before login' do\n   # IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u9650\n   describe 'access restriction by IP address' do\n     before do\n-      Rails.application.config.baukis_kai[:restrict_ip_address] = true\n+      Rails.application.config.baukis_kai[:restrict_ip_addresses] = true\n     end\n\n     # \u8a31\u53ef\n@@ -28,7 +28,7 @@ describe Staff::TopController, 'Before login' do\n     end\n\n     after do\n-      Rails.application.config.baukis_kai[:restrict_ip_address] = false\n+      Rails.application.config.baukis_kai[:restrict_ip_addresses] = false\n     end\n   end\n end\ndiff --git a/spec/models/allowed_source_spec.rb b/spec/models/allowed_source_spec.rb\nindex 5ee54e3..a134be0 100644\n--- a/spec/models/allowed_source_spec.rb\n+++ b/spec/models/allowed_source_spec.rb\n@@ -58,7 +58,7 @@ RSpec.describe AllowedSource, type: :model do\n\n   describe '.include?' do\n     before do\n-      Rails.application.config.baukis_kai[:restrict_ip_address] = true\n+      Rails.application.config.baukis_kai[:restrict_ip_addresses] = true\n       AllowedSource.create!(namespace: 'staff', ip_address: '127.0.0.1')\n       AllowedSource.create!(namespace: 'staff', ip_address: '192.168.0.*')\n     end\n</code></pre>"},{"location":"journal/20170210/#_20","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170210/#c1ba997","title":"\u30b3\u30df\u30c3\u30c8: c1ba997","text":""},{"location":"journal/20170210/#_21","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u65b0\u898f\u767b\u9332\u30d5\u30a9\u30fc\u30e0 #28\n</code></pre>"},{"location":"journal/20170210/#_22","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/admin/allowed_sources_controller.rb</li> <li>M app/models/allowed_source.rb</li> <li>A app/views/admin/allowed_sources/_new_allowed_source.html.erb</li> <li>M app/views/admin/allowed_sources/index.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170210/#_23","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c1ba99743331c02dcf6b426aff2061d5b9d3de6c\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 10 17:11:59 2017 +0900\n\n    \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u65b0\u898f\u767b\u9332\u30d5\u30a9\u30fc\u30e0 #28\n\ndiff --git a/README.md b/README.md\nindex e650284..80e4e13 100644\n--- a/README.md\n+++ b/README.md\n@@ -652,6 +652,7 @@ git push heroku master\n + \u4ed5\u69d8\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n + \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u4e00\u89a7\u8868\u793a\n++ \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u65b0\u898f\u767b\u9332\u30d5\u30a9\u30fc\u30e0\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/controllers/admin/allowed_sources_controller.rb b/app/controllers/admin/allowed_sources_controller.rb\nindex b03ef30..bfef319 100644\n--- a/app/controllers/admin/allowed_sources_controller.rb\n+++ b/app/controllers/admin/allowed_sources_controller.rb\n@@ -1,5 +1,6 @@\n class Admin::AllowedSourcesController &lt; Admin::Base\n   def index\n     @allowed_sources = AllowedSource.order(:octet1, :octet2, :octet3, :octet4)\n+    @new_allowed_source = AllowedSource.new\n   end\n end\ndiff --git a/app/models/allowed_source.rb b/app/models/allowed_source.rb\nindex 6f6e932..2d2bf38 100644\n--- a/app/models/allowed_source.rb\n+++ b/app/models/allowed_source.rb\n@@ -18,6 +18,8 @@\n #\n\n class AllowedSource &lt; ApplicationRecord\n+  attr_accessor :last_octet\n+\n   validates :octet1, :octet2, :octet3, :octet4,\n             presence: true,\n             numericality: { only_integer: true, allow_blank: true },\ndiff --git a/app/views/admin/allowed_sources/_new_allowed_source.html.erb b/app/views/admin/allowed_sources/_new_allowed_source.html.erb\nnew file mode 100644\nindex 0000000..a024b99\n--- /dev/null\n+++ b/app/views/admin/allowed_sources/_new_allowed_source.html.erb\n@@ -0,0 +1,10 @@\n+&lt;%= bootstrap_form_for [:admin, @new_allowed_source],layout: :inline do |f| %&gt;\n+&lt;div&gt;\n+  &lt;%= f.label(:octet1, t('admin.allowed_sources.index.form_label')) %&gt;\n+  &lt;%= f.text_field(:octet1, size:3, hide_label:true) %&gt;\n+  &lt;%= f.text_field(:octet2, size:3, hide_label:true) %&gt;\n+  &lt;%= f.text_field(:octet3, size:3, hide_label:true) %&gt;\n+  &lt;%= f.text_field(:last_octet, size:3, hide_label:true) %&gt;\n+  &lt;%= f.submit t('admin.allowed_sources.index.submit'), inline: true %&gt;\n+&lt;/div&gt;\n+&lt;% end %&gt;\n\\ No newline at end of file\ndiff --git a/app/views/admin/allowed_sources/index.html.erb b/app/views/admin/allowed_sources/index.html.erb\nindex 06bd291..4b2721d 100644\n--- a/app/views/admin/allowed_sources/index.html.erb\n+++ b/app/views/admin/allowed_sources/index.html.erb\n@@ -3,6 +3,13 @@\n   &lt;h1 class=\"Admin__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n &lt;/section&gt;\n\n+&lt;section class=\"Section l-column AppForm\"&gt;\n+  &lt;div class=\"AppForm__generic-form AdminAppForm__generic-form AppForm__customer_form\"&gt;\n+    &lt;%= render 'new_allowed_source' %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\n+\n+\n &lt;section class=\"Section l-column Table\"&gt;\n   &lt;table class=\"Table__body Table__body--listing AdminTable__body\"&gt;\n     &lt;tr class=\"Table__tr\"&gt;\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex f7660fe..17a4243 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -152,6 +152,8 @@ ja:\n           title: '\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u4e00\u89a7'\n           ip_address: 'IP\u30a2\u30c9\u30ec\u30b9'\n           created_at: '\u4f5c\u6210\u65e5\u6642'\n+          form_label: '\u65b0\u898f\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9'\n+          submit: '\u8ffd\u52a0'\n\n   customer:\n     shared:\n</code></pre>"},{"location":"journal/20170210/#_24","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170210/#adb273f","title":"\u30b3\u30df\u30c3\u30c8: adb273f","text":""},{"location":"journal/20170210/#_25","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u4e00\u89a7\u8868\u793a #28\n</code></pre>"},{"location":"journal/20170210/#_26","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/stylesheets/components/common/_table.scss</li> <li>A app/controllers/admin/allowed_sources_controller.rb</li> <li>M app/presenters/admin/allowed_source_presenter.rb</li> <li>M app/views/admin/allowed_sources/index.html.erb</li> <li>M app/views/admin/top/dashboard.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170210/#_27","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit adb273f627728201818a3aba85be81648ff72506\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 10 16:48:06 2017 +0900\n\n    \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u4e00\u89a7\u8868\u793a #28\n\ndiff --git a/README.md b/README.md\nindex 5176018..e650284 100644\n--- a/README.md\n+++ b/README.md\n@@ -651,6 +651,7 @@ git push heroku master\n #### \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u7ba1\u7406\n + \u4ed5\u69d8\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n++ \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u4e00\u89a7\u8868\u793a\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/assets/stylesheets/components/common/_table.scss b/app/assets/stylesheets/components/common/_table.scss\nindex 18a6b86..56ebb47 100644\n--- a/app/assets/stylesheets/components/common/_table.scss\n+++ b/app/assets/stylesheets/components/common/_table.scss\n@@ -56,6 +56,10 @@\n     &amp;--center {\n       text-align: center;\n     }\n+\n+    &amp;--ip {\n+      font-family: monospace;\n+    }\n   }\n }\n\ndiff --git a/app/controllers/admin/allowed_sources_controller.rb b/app/controllers/admin/allowed_sources_controller.rb\nnew file mode 100644\nindex 0000000..b03ef30\n--- /dev/null\n+++ b/app/controllers/admin/allowed_sources_controller.rb\n@@ -0,0 +1,5 @@\n+class Admin::AllowedSourcesController &lt; Admin::Base\n+  def index\n+    @allowed_sources = AllowedSource.order(:octet1, :octet2, :octet3, :octet4)\n+  end\n+end\ndiff --git a/app/presenters/admin/allowed_source_presenter.rb b/app/presenters/admin/allowed_source_presenter.rb\nindex e69de29..d2a6466 100644\n--- a/app/presenters/admin/allowed_source_presenter.rb\n+++ b/app/presenters/admin/allowed_source_presenter.rb\n@@ -0,0 +1,11 @@\n+class Admin::AllowedSourcePresenter &lt; ModelPresenter\n+  delegate :octet1,\n+           :octet2,\n+           :octet3,\n+           :octet4,\n+           :wildcard?, to: :object\n+\n+  def ip_address\n+    [ octet1, octet2, octet3, wildcard? ? '*' : octet4 ].join('.')\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/views/admin/allowed_sources/index.html.erb b/app/views/admin/allowed_sources/index.html.erb\nindex e69de29..06bd291 100644\n--- a/app/views/admin/allowed_sources/index.html.erb\n+++ b/app/views/admin/allowed_sources/index.html.erb\n@@ -0,0 +1,20 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Admin__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column Table\"&gt;\n+  &lt;table class=\"Table__body Table__body--listing AdminTable__body\"&gt;\n+    &lt;tr class=\"Table__tr\"&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.ip_address') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.created_at') %&gt;&lt;/th&gt;\n+    &lt;/tr&gt;\n+    &lt;% @allowed_sources.each do |s| %&gt;\n+        &lt;% p = Admin::AllowedSourcePresenter.new(s, self) %&gt;\n+        &lt;tr  class=\"Table__tr\"&gt;\n+          &lt;td class=\"Table__td Table__td--ip Table__td--center\"&gt;&lt;%= p.ip_address %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td Table__td--date Table__td--center\"&gt;&lt;%= p.created_at %&gt;&lt;/td&gt;\n+        &lt;/tr&gt;\n+    &lt;% end %&gt;\n+  &lt;/table&gt;\n+&lt;/section&gt;\ndiff --git a/app/views/admin/top/dashboard.html.erb b/app/views/admin/top/dashboard.html.erb\nindex 892b73e..d763422 100644\n--- a/app/views/admin/top/dashboard.html.erb\n+++ b/app/views/admin/top/dashboard.html.erb\n@@ -7,5 +7,6 @@\n   &lt;ul class=\"DashBoard__menu\"&gt;\n     &lt;li&gt;&lt;%= link_to t('.admin_staff_members'), :admin_staff_members, class: 'btn btn-default' %&gt;&lt;/li&gt;\n     &lt;li&gt;&lt;%= link_to t('.admin_staff_events'), :admin_staff_events, class: 'btn btn-default' %&gt;&lt;/li&gt;\n+    &lt;li&gt;&lt;%= link_to t('.allowed_sources'), :admin_allowed_sources, class: 'btn btn-default' %&gt;&lt;/li&gt;\n   &lt;/ul&gt;\n &lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 7b1fcee..f7660fe 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -115,6 +115,7 @@ ja:\n         title: '\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9'\n         admin_staff_members: '\u8077\u54e1\u7ba1\u7406'\n         admin_staff_events: '\u8077\u54e1\u306e\u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u8a18\u9332'\n+        allowed_sources: '\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u7ba1\u7406'\n     staff_members:\n       index:\n         title: '\u8077\u54e1\u7ba1\u7406'\n@@ -146,6 +147,11 @@ ja:\n           type: '\u7a2e\u5225'\n           date_time: '\u65e5\u6642'\n           contents_not_record: '\u8a18\u9332\u304c\u3042\u308a\u307e\u305b\u3093'\n+    allowed_sources:\n+        index:\n+          title: '\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u4e00\u89a7'\n+          ip_address: 'IP\u30a2\u30c9\u30ec\u30b9'\n+          created_at: '\u4f5c\u6210\u65e5\u6642'\n\n   customer:\n     shared:\n</code></pre>"},{"location":"journal/20170210/#_28","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170210/#f74e916","title":"\u30b3\u30df\u30c3\u30c8: f74e916","text":""},{"location":"journal/20170210/#_29","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #28\n</code></pre>"},{"location":"journal/20170210/#_30","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/presenters/admin/allowed_source_presenter.rb</li> <li>A app/views/admin/allowed_sources/index.html.erb</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170210/#_31","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit f74e9163733703c2195d649837e95113c7a70601\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 10 16:46:06 2017 +0900\n\n    \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #28\n\ndiff --git a/README.md b/README.md\nindex 5191403..5176018 100644\n--- a/README.md\n+++ b/README.md\n@@ -649,6 +649,9 @@ git push heroku master\n + \u52d5\u4f5c\u78ba\u8a8d\n\n #### \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u7ba1\u7406\n++ \u4ed5\u69d8\n++ \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n+\n #### \u6f14\u7fd2\u554f\u984c\n\n ### \u591a\u5bfe\u591a\u306e\u95a2\u9023\u4ed8\u3051\ndiff --git a/app/presenters/admin/allowed_source_presenter.rb b/app/presenters/admin/allowed_source_presenter.rb\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/app/views/admin/allowed_sources/index.html.erb b/app/views/admin/allowed_sources/index.html.erb\nnew file mode 100644\nindex 0000000..e69de29\ndiff --git a/config/routes.rb b/config/routes.rb\nindex ce8228f..dd9124e 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -35,6 +35,9 @@\n #                                 PUT    /admin/staff/:id(.:format)                           admin/staff_members#update {:host=&gt;\"0.0.0.0\"}\n #                                 DELETE /admin/staff/:id(.:format)                           admin/staff_members#destroy {:host=&gt;\"0.0.0.0\"}\n #              admin_staff_events GET    /admin/staff_events(.:format)                        admin/staff_events#index {:host=&gt;\"0.0.0.0\"}\n+#    delete_admin_allowed_sources DELETE /admin/allowed_sources/delete(.:format)              admin/allowed_sources#delete {:host=&gt;\"0.0.0.0\"}\n+#           admin_allowed_sources GET    /admin/allowed_sources(.:format)                     admin/allowed_sources#index {:host=&gt;\"0.0.0.0\"}\n+#                                 POST   /admin/allowed_sources(.:format)                     admin/allowed_sources#create {:host=&gt;\"0.0.0.0\"}\n #                   customer_root GET    /                                                    customer/top#index {:host=&gt;\"0.0.0.0\"}\n #          customer_article_index GET    /article/index(.:format)                             customer/article#index {:host=&gt;\"0.0.0.0\"}\n #         customer_campaign_index GET    /campaign/index(.:format)                            customer/campaign#index {:host=&gt;\"0.0.0.0\"}\n@@ -72,6 +75,9 @@ Rails.application.routes.draw do\n         resources :staff_events, only: [:index]\n       end\n       resources :staff_events, only: [:index]\n+      resources :allowed_sources, only: [ :index, :create ] do\n+        delete :delete, on: :collection\n+      end\n     end\n   end\n</code></pre>"},{"location":"journal/20170210/#8875ff8","title":"\u30b3\u30df\u30c3\u30c8: 8875ff8","text":""},{"location":"journal/20170210/#_32","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u52d5\u4f5c\u78ba\u8a8d #28\n</code></pre>"},{"location":"journal/20170210/#_33","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/allowed_source.rb</li> <li>M config/environments/development.rb</li> </ul>"},{"location":"journal/20170210/#_34","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8875ff87642fc2987348581d738bd14e870d4b8a\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 10 16:08:47 2017 +0900\n\n    \u52d5\u4f5c\u78ba\u8a8d #28\n\ndiff --git a/README.md b/README.md\nindex c3d5987..5191403 100644\n--- a/README.md\n+++ b/README.md\n@@ -646,6 +646,7 @@ git push heroku master\n + AllowedSource\u30e2\u30c7\u30eb\n + \u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9include?\n + \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u4fee\u6b63\n++ \u52d5\u4f5c\u78ba\u8a8d\n\n #### \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u7ba1\u7406\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/models/allowed_source.rb b/app/models/allowed_source.rb\nindex edbf78f..6f6e932 100644\n--- a/app/models/allowed_source.rb\n+++ b/app/models/allowed_source.rb\n@@ -40,7 +40,7 @@ class AllowedSource &lt; ApplicationRecord\n\n   class &lt;&lt; self\n     def include?(namespace, ip_address)\n-      !Rails.application.config.baukis_kai[:restrict_ip_address] ||\n+      !Rails.application.config.baukis_kai[:restrict_ip_addresses] ||\n           where(namespace: namespace).where(options_for(ip_address)).exists?\n     end\n\ndiff --git a/config/environments/development.rb b/config/environments/development.rb\nindex bac6336..63bc608 100644\n--- a/config/environments/development.rb\n+++ b/config/environments/development.rb\n@@ -56,7 +56,7 @@ Rails.application.configure do\n       staff: { host: '0.0.0.0', path: 'staff' },\n       admin: { host: '0.0.0.0', path: 'admin' },\n       customer: { host: '0.0.0.0', path: '' },\n-      restrict_ip_addresses: true\n+      restrict_ip_addresses: false\n   }\n\n   config.middleware.insert_after ActionDispatch::Static, Rack::LiveReload\n</code></pre>"},{"location":"journal/20170210/#_35","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170210/#8b87779","title":"\u30b3\u30df\u30c3\u30c8: 8b87779","text":""},{"location":"journal/20170210/#_36","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u4fee\u6b63 #28\n</code></pre>"},{"location":"journal/20170210/#_37","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/base.rb</li> <li>M spec/controllers/staff/top_controller_spec.rb</li> </ul>"},{"location":"journal/20170210/#_38","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8b8777905999b1a63f3978fa4c281d15b74519da\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 10 15:55:33 2017 +0900\n\n    \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u4fee\u6b63 #28\n\ndiff --git a/README.md b/README.md\nindex 13e9c19..c3d5987 100644\n--- a/README.md\n+++ b/README.md\n@@ -645,6 +645,7 @@ git push heroku master\n + \u6e96\u5099\u4f5c\u696d\n + AllowedSource\u30e2\u30c7\u30eb\n + \u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9include?\n++ \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u4fee\u6b63\n\n #### \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u7ba1\u7406\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/controllers/staff/base.rb b/app/controllers/staff/base.rb\nindex 83da20d..ad5e718 100644\n--- a/app/controllers/staff/base.rb\n+++ b/app/controllers/staff/base.rb\n@@ -1,4 +1,5 @@\n class Staff::Base &lt; ApplicationController\n+  before_action :check_source_ip_address\n   before_action :authorize\n   before_action :check_account\n   before_action :check_timeout\n@@ -13,6 +14,10 @@ class Staff::Base &lt; ApplicationController\n\n   helper_method :current_staff_member\n\n+  def check_source_ip_address\n+    raise IpAddressRejected unless AllowedSource.include?('staff', request.ip)\n+  end\n+\n   private\n   def authorize\n     unless current_staff_member\ndiff --git a/spec/controllers/staff/top_controller_spec.rb b/spec/controllers/staff/top_controller_spec.rb\nindex c6663ca..43e54c2 100644\n--- a/spec/controllers/staff/top_controller_spec.rb\n+++ b/spec/controllers/staff/top_controller_spec.rb\n@@ -3,6 +3,39 @@ require 'rails_helper'\n describe Staff::TopController, 'Before login' do\n   let(:staff_member) { create(:staff_member) }\n\n+  # IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u9650\n+  describe 'access restriction by IP address' do\n+    before do\n+      Rails.application.config.baukis_kai[:restrict_ip_address] = true\n+    end\n+\n+    # \u8a31\u53ef\n+    context 'with authorization' do\n+      it 'rendered top page' do\n+        AllowedSource.create!(namespace: 'staff', ip_address: '0.0.0.0')\n+        get :index\n+        expect(response).to render_template('staff/top/index')\n+      end\n+    end\n+\n+    # \u62d2\u5426\n+    context 'with rejection' do\n+      it 'rendered error page' do\n+        AllowedSource.create!(namespace: 'staff', ip_address: '192.168.0.*')\n+        get :index\n+        expect(response).to render_template('errors/forbidden')\n+      end\n+    end\n+\n+    after do\n+      Rails.application.config.baukis_kai[:restrict_ip_address] = false\n+    end\n+  end\n+end\n+\n+describe Staff::TopController, 'After login' do\n+  let(:staff_member) { create(:staff_member) }\n+\n   before do\n     session[:staff_member_id] = staff_member.id\n     session[:last_access_time] = 1.second.ago\n</code></pre>"},{"location":"journal/20170210/#_39","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170210/#c8668e9","title":"\u30b3\u30df\u30c3\u30c8: c8668e9","text":""},{"location":"journal/20170210/#_40","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9include? #28\n</code></pre>"},{"location":"journal/20170210/#_41","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/allowed_source.rb</li> <li>M spec/models/allowed_source_spec.rb</li> </ul>"},{"location":"journal/20170210/#_42","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c8668e973b6acee142a036c4736866c85a810b07\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 10 15:55:09 2017 +0900\n\n    \u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9include? #28\n\ndiff --git a/README.md b/README.md\nindex d550d51..13e9c19 100644\n--- a/README.md\n+++ b/README.md\n@@ -644,6 +644,7 @@ git push heroku master\n + \u4ed5\u69d8\n + \u6e96\u5099\u4f5c\u696d\n + AllowedSource\u30e2\u30c7\u30eb\n++ \u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9include?\n\n #### \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u7ba1\u7406\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/models/allowed_source.rb b/app/models/allowed_source.rb\nindex 29de05a..edbf78f 100644\n--- a/app/models/allowed_source.rb\n+++ b/app/models/allowed_source.rb\n@@ -37,4 +37,21 @@ class AllowedSource &lt; ApplicationRecord\n       self.octet4 = octets[3]\n     end\n   end\n+\n+  class &lt;&lt; self\n+    def include?(namespace, ip_address)\n+      !Rails.application.config.baukis_kai[:restrict_ip_address] ||\n+          where(namespace: namespace).where(options_for(ip_address)).exists?\n+    end\n+\n+    private\n+    def options_for(ip_address)\n+      octets = ip_address.split('.')\n+      condition = %Q{\n+        octet1 = ? AND octet2 = ? AND octet3 = ?\n+        AND ((octet4 = ? AND wildcard = ?) OR wildcard = ?)\n+        }.gsub(/\\s+/, ' ').strip\n+      [condition, *octets, false, true]\n+    end\n+  end\n end\ndiff --git a/spec/models/allowed_source_spec.rb b/spec/models/allowed_source_spec.rb\nindex 81ee342..5ee54e3 100644\n--- a/spec/models/allowed_source_spec.rb\n+++ b/spec/models/allowed_source_spec.rb\n@@ -22,31 +22,66 @@ require 'rails_helper'\n RSpec.describe AllowedSource, type: :model do\n   describe '#ip_address=' do\n     # \u5f15\u6570\u306b\"127.0.0.1\"\u3092\u4e0e\u3048\u305f\u5834\u5408\n-    example 'When \"127.0.0.1\" is given as an argument' do\n-      src = AllowedSource.new(namespace: 'staff', ip_address: '127.0.0.1')\n-      expect(src.octet1).to eq(127)\n-      expect(src.octet2).to eq(0)\n-      expect(src.octet3).to eq(0)\n-      expect(src.octet4).to eq(1)\n-      expect(src).not_to be_wildcard\n-      expect(src).to be_valid\n+    context 'when \"127.0.0.1\" is given as an argument' do\n+      it 'is valid address' do\n+        src = AllowedSource.new(namespace: 'staff', ip_address: '127.0.0.1')\n+        expect(src.octet1).to eq(127)\n+        expect(src.octet2).to eq(0)\n+        expect(src.octet3).to eq(0)\n+        expect(src.octet4).to eq(1)\n+        expect(src).not_to be_wildcard\n+        expect(src).to be_valid\n+      end\n     end\n\n     # \u5f15\u6570\u306b\"192.168.0.*\"\u3092\u4e0e\u3048\u305f\u5834\u5408\n-    example 'When \"192.168.0.*\" is given as an argument' do\n-      src = AllowedSource.new(namespace: 'staff', ip_address: '192.168.0.*')\n-      expect(src.octet1).to eq(192)\n-      expect(src.octet2).to eq(168)\n-      expect(src.octet3).to eq(0)\n-      expect(src.octet4).to eq(0)\n-      expect(src).to be_wildcard\n-      expect(src).to be_valid\n+    context 'when \"192.168.0.*\" is given as an argument' do\n+      it 'is valid address' do\n+        src = AllowedSource.new(namespace: 'staff', ip_address: '192.168.0.*')\n+        expect(src.octet1).to eq(192)\n+        expect(src.octet2).to eq(168)\n+        expect(src.octet3).to eq(0)\n+        expect(src.octet4).to eq(0)\n+        expect(src).to be_wildcard\n+        expect(src).to be_valid\n+      end\n     end\n\n     # \u5f15\u6570\u306b\u4e0d\u6b63\u306a\u6587\u5b57\u5217\u3092\u4e0e\u3048\u305f\u5834\u5408\n-    example 'When an invalid character string is given as an argument' do\n-      src = AllowedSource.new(namespace: 'staff', ip_address: 'A.B.C.D')\n-      expect(src).not_to be_valid\n+    context 'when an invalid character string is given as an argument' do\n+      it 'is not valid address' do\n+        src = AllowedSource.new(namespace: 'staff', ip_address: 'A.B.C.D')\n+        expect(src).not_to be_valid\n+      end\n+    end\n+  end\n+\n+  describe '.include?' do\n+    before do\n+      Rails.application.config.baukis_kai[:restrict_ip_address] = true\n+      AllowedSource.create!(namespace: 'staff', ip_address: '127.0.0.1')\n+      AllowedSource.create!(namespace: 'staff', ip_address: '192.168.0.*')\n+    end\n+\n+    # \u30de\u30c3\u30c1\u3057\u306a\u3044\u5834\u5408\n+    context 'when it does not match' do\n+      it 'does not exit records' do\n+        expect(AllowedSource.include?('staff', '192.168.1.1')).to be_falsey\n+      end\n+    end\n+\n+    # \u5168\u30aa\u30af\u30c6\u30c3\u30c8\u304c\u30de\u30c3\u30c1\u3059\u308b\u5834\u5408\n+    context 'when all octets match' do\n+      it 'does exit records' do\n+        expect(AllowedSource.include?('staff', '127.0.0.1')).to be_truthy\n+      end\n+    end\n+\n+    # *\u4ed8\u304d\u306eAllowedSource\u306b\u30de\u30c3\u30c1\u3059\u308b\u5834\u5408\n+    context 'when matching with AllowedSource with *' do\n+      it 'dose exit records' do\n+        expect(AllowedSource.include?('staff', '192.168.0.100')).to be_truthy\n+      end\n     end\n   end\n end\n</code></pre>"},{"location":"journal/20170210/#_43","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170210/#074b839","title":"\u30b3\u30df\u30c3\u30c8: 074b839","text":""},{"location":"journal/20170210/#_44","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>AllowedSource\u30e2\u30c7\u30eb #28\n</code></pre>"},{"location":"journal/20170210/#_45","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/models/allowed_source.rb</li> <li>A db/migrate/20170210034614_create_allowed_sources.rb</li> <li>M db/schema.rb</li> <li>A spec/factories/allowed_sources.rb</li> <li>A spec/models/allowed_source_spec.rb</li> </ul>"},{"location":"journal/20170210/#_46","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 074b839871e80d85d0400e455c60e22c641770aa\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 10 14:18:59 2017 +0900\n\n    AllowedSource\u30e2\u30c7\u30eb #28\n\ndiff --git a/README.md b/README.md\nindex 2339dcd..d550d51 100644\n--- a/README.md\n+++ b/README.md\n@@ -643,6 +643,7 @@ git push heroku master\n #### IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u9650\n + \u4ed5\u69d8\n + \u6e96\u5099\u4f5c\u696d\n++ AllowedSource\u30e2\u30c7\u30eb\n\n #### \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u7ba1\u7406\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/models/allowed_source.rb b/app/models/allowed_source.rb\nnew file mode 100644\nindex 0000000..29de05a\n--- /dev/null\n+++ b/app/models/allowed_source.rb\n@@ -0,0 +1,40 @@\n+# == Schema Information\n+#\n+# Table name: allowed_sources # IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\n+#\n+#  id         :integer          not null, primary key\n+#  namespace  :string(255)      not null               # \u540d\u524d\u7a7a\u9593\n+#  octet1     :integer          not null               # \u7b2c\uff11\u30aa\u30af\u30c6\u30c3\u30c8\n+#  octet2     :integer          not null               # \u7b2c\uff12\u30aa\u30af\u30c6\u30c3\u30c8\n+#  octet3     :integer          not null               # \u7b2c\uff13\u30aa\u30af\u30c6\u30c3\u30c8\n+#  octet4     :integer          not null               # \u7b2c\uff14\u30aa\u30af\u30c6\u30c3\u30c8\n+#  wildcard   :boolean          default(\"0\"), not null # \u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\n+#  created_at :datetime         not null\n+#  updated_at :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_allowed_sources_on_namespace_and_octets  (namespace,octet1,octet2,octet3,octet4) UNIQUE\n+#\n+\n+class AllowedSource &lt; ApplicationRecord\n+  validates :octet1, :octet2, :octet3, :octet4,\n+            presence: true,\n+            numericality: { only_integer: true, allow_blank: true },\n+            inclusion: { in: 0..255, allow_blank: true }\n+  validates :octet4,\n+            uniqueness: { scope: [ :octet1, :octet2, :octet3 ], allow_blank: true }\n+\n+  def ip_address=(ip_address)\n+    octets = ip_address.split('.')\n+    self.octet1 = octets[0]\n+    self.octet2 = octets[1]\n+    self.octet3 = octets[2]\n+    if octets[3] == '*'\n+      self.octet4 = 0\n+      self.wildcard = true\n+    else\n+      self.octet4 = octets[3]\n+    end\n+  end\n+end\ndiff --git a/db/migrate/20170210034614_create_allowed_sources.rb b/db/migrate/20170210034614_create_allowed_sources.rb\nnew file mode 100644\nindex 0000000..cac6b34\n--- /dev/null\n+++ b/db/migrate/20170210034614_create_allowed_sources.rb\n@@ -0,0 +1,16 @@\n+class CreateAllowedSources &lt; ActiveRecord::Migration[5.0]\n+  def change\n+    create_table :allowed_sources,options: 'ROW_FORMAT=DYNAMIC',comment:'IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650' do |t|\n+      t.string :namespace, null: false, comment:'\u540d\u524d\u7a7a\u9593'\n+      t.integer :octet1, null: false, comment:'\u7b2c\uff11\u30aa\u30af\u30c6\u30c3\u30c8'\n+      t.integer :octet2, null: false, comment:'\u7b2c\uff12\u30aa\u30af\u30c6\u30c3\u30c8'\n+      t.integer :octet3, null: false, comment:'\u7b2c\uff13\u30aa\u30af\u30c6\u30c3\u30c8'\n+      t.integer :octet4, null: false, comment:'\u7b2c\uff14\u30aa\u30af\u30c6\u30c3\u30c8'\n+      t.boolean :wildcard, null: false, default: false, comment:'\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9'\n+\n+      t.timestamps\n+    end\n+\n+    add_index :allowed_sources, [ :namespace, :octet1, :octet2, :octet3, :octet4 ], unique: true, name: 'index_allowed_sources_on_namespace_and_octets'\n+  end\n+end\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 218066a..e6570d9 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -10,107 +10,123 @@\n #\n # It's strongly recommended that you check this file into your version control system.\n\n-ActiveRecord::Schema.define(version: 20170207071612) do\n+ActiveRecord::Schema.define(version: 20170210034614) do\n\n-  create_table \"addresses\", force: :cascade do |t|\n-    t.integer  \"customer_id\",                null: false\n-    t.string   \"type\",                       null: false\n-    t.string   \"postal_code\",                null: false\n-    t.string   \"prefecture\",                 null: false\n-    t.string   \"city\",                       null: false\n-    t.string   \"address1\",                   null: false\n-    t.string   \"address2\",                   null: false\n-    t.string   \"company_name\",  default: \"\", null: false\n-    t.string   \"division_name\", default: \"\", null: false\n+  create_table \"addresses\", force: :cascade, comment: \"\u4f4f\u6240\" do |t|\n+    t.integer  \"customer_id\",                null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.string   \"type\",                       null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n+    t.string   \"postal_code\",                null: false, comment: \"\u90f5\u4fbf\u756a\u53f7\"\n+    t.string   \"prefecture\",                 null: false, comment: \"\u90fd\u9053\u5e9c\u770c\"\n+    t.string   \"city\",                       null: false, comment: \"\u5e02\u533a\u753a\u6751\"\n+    t.string   \"address1\",                   null: false, comment: \"\u753a\u57df\u30fb\u756a\u5730\u7b49\"\n+    t.string   \"address2\",                   null: false, comment: \"\u5efa\u7269\u540d\u30fb\u90e8\u5c4b\u756a\u53f7\"\n+    t.string   \"company_name\",  default: \"\", null: false, comment: \"\u4f1a\u793e\u540d\"\n+    t.string   \"division_name\", default: \"\", null: false, comment: \"\u90e8\u7f72\u540d\"\n     t.datetime \"created_at\",                 null: false\n     t.datetime \"updated_at\",                 null: false\n-    t.index [\"city\"], name: \"index_addresses_on_city\"\n-    t.index [\"customer_id\"], name: \"index_addresses_on_customer_id\"\n-    t.index [\"postal_code\"], name: \"index_addresses_on_postal_code\"\n-    t.index [\"prefecture\", \"city\"], name: \"index_addresses_on_prefecture_and_city\"\n-    t.index [\"type\", \"city\"], name: \"index_addresses_on_type_and_city\"\n-    t.index [\"type\", \"customer_id\"], name: \"index_addresses_on_type_and_customer_id\", unique: true\n-    t.index [\"type\", \"prefecture\", \"city\"], name: \"index_addresses_on_type_and_prefecture_and_city\"\n+    t.index [\"city\"], name: \"index_addresses_on_city\", using: :btree\n+    t.index [\"customer_id\"], name: \"index_addresses_on_customer_id\", using: :btree\n+    t.index [\"postal_code\"], name: \"index_addresses_on_postal_code\", using: :btree\n+    t.index [\"prefecture\", \"city\"], name: \"index_addresses_on_prefecture_and_city\", using: :btree\n+    t.index [\"type\", \"city\"], name: \"index_addresses_on_type_and_city\", using: :btree\n+    t.index [\"type\", \"customer_id\"], name: \"index_addresses_on_type_and_customer_id\", unique: true, using: :btree\n+    t.index [\"type\", \"prefecture\", \"city\"], name: \"index_addresses_on_type_and_prefecture_and_city\", using: :btree\n   end\n\n-  create_table \"administrators\", force: :cascade do |t|\n-    t.string   \"email\",                           null: false\n-    t.string   \"email_for_index\",                 null: false\n-    t.string   \"hashed_password\"\n-    t.boolean  \"suspended\",       default: false, null: false\n+  create_table \"administrators\", force: :cascade, comment: \"\u7ba1\u7406\u8005\" do |t|\n+    t.string   \"email\",                           null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string   \"email_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string   \"hashed_password\",                              comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n+    t.boolean  \"suspended\",       default: false, null: false, comment: \"\u505c\u6b62\u30d5\u30e9\u30b0\"\n     t.datetime \"created_at\",                      null: false\n     t.datetime \"updated_at\",                      null: false\n-    t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true\n+    t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true, using: :btree\n   end\n\n-  create_table \"customers\", force: :cascade do |t|\n-    t.string   \"email\",            null: false\n-    t.string   \"email_for_index\",  null: false\n-    t.string   \"family_name\",      null: false\n-    t.string   \"given_name\",       null: false\n-    t.string   \"family_name_kana\", null: false\n-    t.string   \"given_name_kana\",  null: false\n-    t.string   \"gender\"\n-    t.date     \"birthday\"\n-    t.string   \"hashed_password\"\n+  create_table \"allowed_sources\", force: :cascade, comment: \"IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\" do |t|\n+    t.string   \"namespace\",                  null: false, comment: \"\u540d\u524d\u7a7a\u9593\"\n+    t.integer  \"octet1\",                     null: false, comment: \"\u7b2c\uff11\u30aa\u30af\u30c6\u30c3\u30c8\"\n+    t.integer  \"octet2\",                     null: false, comment: \"\u7b2c\uff12\u30aa\u30af\u30c6\u30c3\u30c8\"\n+    t.integer  \"octet3\",                     null: false, comment: \"\u7b2c\uff13\u30aa\u30af\u30c6\u30c3\u30c8\"\n+    t.integer  \"octet4\",                     null: false, comment: \"\u7b2c\uff14\u30aa\u30af\u30c6\u30c3\u30c8\"\n+    t.boolean  \"wildcard\",   default: false, null: false, comment: \"\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\"\n+    t.datetime \"created_at\",                 null: false\n+    t.datetime \"updated_at\",                 null: false\n+    t.index [\"namespace\", \"octet1\", \"octet2\", \"octet3\", \"octet4\"], name: \"index_allowed_sources_on_namespace_and_octets\", unique: true, using: :btree\n+  end\n+\n+  create_table \"customers\", force: :cascade, comment: \"\u9867\u5ba2\" do |t|\n+    t.string   \"email\",            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string   \"email_for_index\",  null: false, comment: \"\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string   \"family_name\",      null: false, comment: \"\u59d3\"\n+    t.string   \"given_name\",       null: false, comment: \"\u540d\"\n+    t.string   \"family_name_kana\", null: false, comment: \"\u59d3\uff08\u30ab\u30ca\uff09\"\n+    t.string   \"given_name_kana\",  null: false, comment: \"\u540d\uff08\u30ab\u30ca\uff09\"\n+    t.string   \"gender\",                        comment: \"\u6027\u5225\"\n+    t.date     \"birthday\",                      comment: \"\u8a95\u751f\u65e5\"\n+    t.string   \"hashed_password\",               comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n     t.datetime \"created_at\",       null: false\n     t.datetime \"updated_at\",       null: false\n-    t.integer  \"birth_year\"\n-    t.integer  \"birth_month\"\n-    t.integer  \"birth_mday\"\n-    t.index [\"birth_mday\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_furigana\"\n-    t.index [\"birth_mday\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_given_name_kana\"\n-    t.index [\"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_month_and_birth_mday\"\n-    t.index [\"birth_month\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_furigana\"\n-    t.index [\"birth_month\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_given_name_kana\"\n-    t.index [\"birth_year\", \"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_year_and_birth_month_and_birth_mday\"\n-    t.index [\"birth_year\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_furigana\"\n-    t.index [\"birth_year\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_given_name_kana\"\n-    t.index [\"email_for_index\"], name: \"index_customers_on_email_for_index\", unique: true\n-    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_family_name_kana_and_given_name_kana\"\n-    t.index [\"gender\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_gender_and_furigana\"\n-    t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\"\n+    t.integer  \"birth_year\",                    comment: \"\u8a95\u751f\u5e74\"\n+    t.integer  \"birth_month\",                   comment: \"\u8a95\u751f\u6708\"\n+    t.integer  \"birth_mday\",                    comment: \"\u8a95\u751f\u65e5\"\n+    t.index [\"birth_mday\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_furigana\", using: :btree\n+    t.index [\"birth_mday\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_given_name_kana\", using: :btree\n+    t.index [\"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_month_and_birth_mday\", using: :btree\n+    t.index [\"birth_month\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_furigana\", using: :btree\n+    t.index [\"birth_month\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_given_name_kana\", using: :btree\n+    t.index [\"birth_year\", \"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_year_and_birth_month_and_birth_mday\", using: :btree\n+    t.index [\"birth_year\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_furigana\", using: :btree\n+    t.index [\"birth_year\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_given_name_kana\", using: :btree\n+    t.index [\"email_for_index\"], name: \"index_customers_on_email_for_index\", unique: true, using: :btree\n+    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_family_name_kana_and_given_name_kana\", using: :btree\n+    t.index [\"gender\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_gender_and_furigana\", using: :btree\n+    t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\", using: :btree\n   end\n\n-  create_table \"phones\", force: :cascade do |t|\n-    t.integer  \"customer_id\",                      null: false\n-    t.integer  \"address_id\"\n-    t.string   \"number\",                           null: false\n-    t.string   \"number_for_index\",                 null: false\n-    t.boolean  \"primary\",          default: false, null: false\n+  create_table \"phones\", force: :cascade, comment: \"\u96fb\u8a71\" do |t|\n+    t.integer  \"customer_id\",                      null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.integer  \"address_id\",                                    comment: \"\u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.string   \"number\",                           null: false, comment: \"\u96fb\u8a71\u756a\u53f7\"\n+    t.string   \"number_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u96fb\u8a71\u756a\u53f7\"\n+    t.boolean  \"primary\",          default: false, null: false, comment: \"\u512a\u5148\u30d5\u30e9\u30b0\"\n     t.datetime \"created_at\",                       null: false\n     t.datetime \"updated_at\",                       null: false\n-    t.string   \"last_four_digits\"\n-    t.index [\"address_id\"], name: \"index_phones_on_address_id\"\n-    t.index [\"customer_id\"], name: \"index_phones_on_customer_id\"\n-    t.index [\"last_four_digits\"], name: \"index_phones_on_last_four_digits\"\n-    t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\"\n+    t.string   \"last_four_digits\",                              comment: \"\u96fb\u8a71\u756a\u53f7\u4e0b\uff14\u6841\"\n+    t.index [\"address_id\"], name: \"index_phones_on_address_id\", using: :btree\n+    t.index [\"customer_id\"], name: \"index_phones_on_customer_id\", using: :btree\n+    t.index [\"last_four_digits\"], name: \"index_phones_on_last_four_digits\", using: :btree\n+    t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\", using: :btree\n   end\n\n-  create_table \"staff_events\", force: :cascade do |t|\n-    t.integer  \"staff_member_id\", null: false\n-    t.string   \"type\",            null: false\n-    t.datetime \"created_at\",      null: false\n-    t.index [\"created_at\"], name: \"index_staff_events_on_created_at\"\n-    t.index [\"staff_member_id\", \"created_at\"], name: \"index_staff_events_on_staff_member_id_and_created_at\"\n-    t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\"\n+  create_table \"staff_events\", force: :cascade, comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n+    t.integer  \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.string   \"type\",            null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n+    t.datetime \"created_at\",      null: false, comment: \"\u767a\u751f\u6642\u523b\"\n+    t.index [\"created_at\"], name: \"index_staff_events_on_created_at\", using: :btree\n+    t.index [\"staff_member_id\", \"created_at\"], name: \"index_staff_events_on_staff_member_id_and_created_at\", using: :btree\n+    t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\", using: :btree\n   end\n\n-  create_table \"staff_members\", force: :cascade do |t|\n-    t.string   \"email\",                            null: false\n-    t.string   \"email_for_index\",                  null: false\n-    t.string   \"family_name\",                      null: false\n-    t.string   \"given_name\",                       null: false\n-    t.string   \"family_name_kana\",                 null: false\n-    t.string   \"given_name_kana\",                  null: false\n-    t.string   \"hashed_password\"\n-    t.date     \"start_date\",                       null: false\n-    t.date     \"end_date\"\n-    t.boolean  \"suspended\",        default: false, null: false\n+  create_table \"staff_members\", force: :cascade, comment: \"\u8077\u54e1\" do |t|\n+    t.string   \"email\",                            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string   \"email_for_index\",                  null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string   \"family_name\",                      null: false, comment: \"\u59d3\"\n+    t.string   \"given_name\",                       null: false, comment: \"\u540d\"\n+    t.string   \"family_name_kana\",                 null: false, comment: \"\u59d3\uff08\u30ab\u30ca\uff09\"\n+    t.string   \"given_name_kana\",                  null: false, comment: \"\u540d\uff08\u30ab\u30ca\uff09\"\n+    t.string   \"hashed_password\",                               comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n+    t.date     \"start_date\",                       null: false, comment: \"\u958b\u59cb\u65e5\"\n+    t.date     \"end_date\",                                      comment: \"\u7d42\u4e86\u65e5\"\n+    t.boolean  \"suspended\",        default: false, null: false, comment: \"\u505c\u6b62\u30d5\u30e9\u30b0\"\n     t.datetime \"created_at\",                       null: false\n     t.datetime \"updated_at\",                       null: false\n-    t.index [\"email_for_index\"], name: \"index_staff_members_on_email_for_index\", unique: true\n-    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\"\n+    t.index [\"email_for_index\"], name: \"index_staff_members_on_email_for_index\", unique: true, using: :btree\n+    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\", using: :btree\n   end\n\n+  add_foreign_key \"addresses\", \"customers\"\n+  add_foreign_key \"phones\", \"addresses\"\n+  add_foreign_key \"phones\", \"customers\"\n+  add_foreign_key \"staff_events\", \"staff_members\"\n end\ndiff --git a/spec/factories/allowed_sources.rb b/spec/factories/allowed_sources.rb\nnew file mode 100644\nindex 0000000..3e60c02\n--- /dev/null\n+++ b/spec/factories/allowed_sources.rb\n@@ -0,0 +1,24 @@\n+# == Schema Information\n+#\n+# Table name: allowed_sources # IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\n+#\n+#  id         :integer          not null, primary key\n+#  namespace  :string(255)      not null               # \u540d\u524d\u7a7a\u9593\n+#  octet1     :integer          not null               # \u7b2c\uff11\u30aa\u30af\u30c6\u30c3\u30c8\n+#  octet2     :integer          not null               # \u7b2c\uff12\u30aa\u30af\u30c6\u30c3\u30c8\n+#  octet3     :integer          not null               # \u7b2c\uff13\u30aa\u30af\u30c6\u30c3\u30c8\n+#  octet4     :integer          not null               # \u7b2c\uff14\u30aa\u30af\u30c6\u30c3\u30c8\n+#  wildcard   :boolean          default(\"0\"), not null # \u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\n+#  created_at :datetime         not null\n+#  updated_at :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_allowed_sources_on_namespace_and_octets  (namespace,octet1,octet2,octet3,octet4) UNIQUE\n+#\n+\n+FactoryGirl.define do\n+  factory :allowed_source do\n+    \n+  end\n+end\ndiff --git a/spec/models/allowed_source_spec.rb b/spec/models/allowed_source_spec.rb\nnew file mode 100644\nindex 0000000..81ee342\n--- /dev/null\n+++ b/spec/models/allowed_source_spec.rb\n@@ -0,0 +1,52 @@\n+# == Schema Information\n+#\n+# Table name: allowed_sources # IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\n+#\n+#  id         :integer          not null, primary key\n+#  namespace  :string(255)      not null               # \u540d\u524d\u7a7a\u9593\n+#  octet1     :integer          not null               # \u7b2c\uff11\u30aa\u30af\u30c6\u30c3\u30c8\n+#  octet2     :integer          not null               # \u7b2c\uff12\u30aa\u30af\u30c6\u30c3\u30c8\n+#  octet3     :integer          not null               # \u7b2c\uff13\u30aa\u30af\u30c6\u30c3\u30c8\n+#  octet4     :integer          not null               # \u7b2c\uff14\u30aa\u30af\u30c6\u30c3\u30c8\n+#  wildcard   :boolean          default(\"0\"), not null # \u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\n+#  created_at :datetime         not null\n+#  updated_at :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_allowed_sources_on_namespace_and_octets  (namespace,octet1,octet2,octet3,octet4) UNIQUE\n+#\n+\n+require 'rails_helper'\n+\n+RSpec.describe AllowedSource, type: :model do\n+  describe '#ip_address=' do\n+    # \u5f15\u6570\u306b\"127.0.0.1\"\u3092\u4e0e\u3048\u305f\u5834\u5408\n+    example 'When \"127.0.0.1\" is given as an argument' do\n+      src = AllowedSource.new(namespace: 'staff', ip_address: '127.0.0.1')\n+      expect(src.octet1).to eq(127)\n+      expect(src.octet2).to eq(0)\n+      expect(src.octet3).to eq(0)\n+      expect(src.octet4).to eq(1)\n+      expect(src).not_to be_wildcard\n+      expect(src).to be_valid\n+    end\n+\n+    # \u5f15\u6570\u306b\"192.168.0.*\"\u3092\u4e0e\u3048\u305f\u5834\u5408\n+    example 'When \"192.168.0.*\" is given as an argument' do\n+      src = AllowedSource.new(namespace: 'staff', ip_address: '192.168.0.*')\n+      expect(src.octet1).to eq(192)\n+      expect(src.octet2).to eq(168)\n+      expect(src.octet3).to eq(0)\n+      expect(src.octet4).to eq(0)\n+      expect(src).to be_wildcard\n+      expect(src).to be_valid\n+    end\n+\n+    # \u5f15\u6570\u306b\u4e0d\u6b63\u306a\u6587\u5b57\u5217\u3092\u4e0e\u3048\u305f\u5834\u5408\n+    example 'When an invalid character string is given as an argument' do\n+      src = AllowedSource.new(namespace: 'staff', ip_address: 'A.B.C.D')\n+      expect(src).not_to be_valid\n+    end\n+  end\n+end\n</code></pre>"},{"location":"journal/20170210/#_47","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170210/#bde141b","title":"\u30b3\u30df\u30c3\u30c8: bde141b","text":""},{"location":"journal/20170210/#_48","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6e96\u5099\u4f5c\u696d #28\n</code></pre>"},{"location":"journal/20170210/#_49","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/application_controller.rb</li> <li>M app/controllers/concerns/error_handlers.rb</li> <li>M config/environments/development.rb</li> </ul>"},{"location":"journal/20170210/#_50","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit bde141bfef09846f53252fe6e56786ca4d47cbc5\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Feb 10 14:17:09 2017 +0900\n\n    \u6e96\u5099\u4f5c\u696d #28\n\ndiff --git a/README.md b/README.md\nindex caffe50..2339dcd 100644\n--- a/README.md\n+++ b/README.md\n@@ -641,6 +641,9 @@ git push heroku master\n\n ### IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u9650\n #### IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u9650\n++ \u4ed5\u69d8\n++ \u6e96\u5099\u4f5c\u696d\n+\n #### \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u7ba1\u7406\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/controllers/application_controller.rb b/app/controllers/application_controller.rb\nindex fb5507f..d1ed053 100644\n--- a/app/controllers/application_controller.rb\n+++ b/app/controllers/application_controller.rb\n@@ -7,6 +7,8 @@ class ApplicationController &lt; ActionController::Base\n   class IpAddressRejected &lt; ActionController::ActionControllerError; end\n\n   include ErrorHandlers if Rails.env.production?\n+  rescue_from ApplicationController::Forbidden, with: :rescue403\n+  rescue_from ApplicationController::IpAddressRejected, with: :rescue403\n\n   private\n   def set_layout\n@@ -17,4 +19,9 @@ class ApplicationController &lt; ActionController::Base\n     end\n   end\n\n+  def rescue403(e)\n+    @exception = e\n+    render 'errors/forbidden', status: 403\n+  end\n+\n end\ndiff --git a/app/controllers/concerns/error_handlers.rb b/app/controllers/concerns/error_handlers.rb\nindex f0a871a..09ca974 100644\n--- a/app/controllers/concerns/error_handlers.rb\n+++ b/app/controllers/concerns/error_handlers.rb\n@@ -4,8 +4,6 @@ module ErrorHandlers\n   included do\n     rescue_from Exception, with: :rescue500\n     rescue_from ActionController::ParameterMissing, with: :rescue400\n-    rescue_from ApplicationController::Forbidden, with: :rescue403\n-    rescue_from ApplicationController::IpAddressRejected, with: :rescue403\n     rescue_from ActionController::RoutingError, with: :rescue404\n     rescue_from ActiveRecord::RecordNotFound, with: :rescue404\n   end\n@@ -21,11 +19,6 @@ module ErrorHandlers\n     render 'errors/not_found', status: 404\n   end\n\n-  def rescue403(e)\n-    @exception = e\n-    render 'errors/forbidden', status: 403\n-  end\n-\n   def rescue500(e)\n     @exception = e\n     render 'errors/internal_server_error', status: 500\ndiff --git a/config/environments/development.rb b/config/environments/development.rb\nindex c6f4df0..bac6336 100644\n--- a/config/environments/development.rb\n+++ b/config/environments/development.rb\n@@ -55,7 +55,8 @@ Rails.application.configure do\n   config.baukis_kai = {\n       staff: { host: '0.0.0.0', path: 'staff' },\n       admin: { host: '0.0.0.0', path: 'admin' },\n-      customer: { host: '0.0.0.0', path: '' }\n+      customer: { host: '0.0.0.0', path: '' },\n+      restrict_ip_addresses: true\n   }\n\n   config.middleware.insert_after ActionDispatch::Static, Rack::LiveReload\n</code></pre>"},{"location":"journal/20170210/#_51","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170213/","title":"\u4f5c\u696d\u5c65\u6b74 2017-02-13","text":""},{"location":"journal/20170213/#_1","title":"\u6982\u8981","text":"<p>2017-02-13\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u65e5\u306f\u4e3b\u306b\u300cIP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u9650\u300d\u6a5f\u80fd\u306e\u5b9f\u88c5\u3092\u884c\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170213/#_2","title":"\u5b9f\u88c5\u5185\u5bb9\u306e\u8aac\u660e","text":""},{"location":"journal/20170213/#ip","title":"IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u9650","text":"<p>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5f37\u5316\u306e\u305f\u3081\u3001\u7279\u5b9a\u306eIP\u30a2\u30c9\u30ec\u30b9\u304b\u3089\u306e\u307f\u7ba1\u7406\u8005\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u5236\u9650\u3059\u308b\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u4e0d\u6b63\u30a2\u30af\u30bb\u30b9\u306e\u30ea\u30b9\u30af\u3092\u4f4e\u6e1b\u3057\u3001\u30b7\u30b9\u30c6\u30e0\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u5411\u4e0a\u3055\u305b\u3066\u3044\u307e\u3059\u3002</p> <p></p>"},{"location":"journal/20170213/#ip_1","title":"\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u7ba1\u7406\u6a5f\u80fd","text":"<p>\u7ba1\u7406\u8005\u304c\u8a31\u53ef\u3059\u308bIP\u30a2\u30c9\u30ec\u30b9\u3092\u8ffd\u52a0\u30fb\u524a\u9664\u3067\u304d\u308b\u7ba1\u7406\u6a5f\u80fd\u3082\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30b7\u30b9\u30c6\u30e0\u7ba1\u7406\u8005\u306f\u67d4\u8edf\u306b\u30a2\u30af\u30bb\u30b9\u5236\u9650\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"journal/20170213/#_3","title":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3068\u306e\u95a2\u9023","text":"<p>\u3053\u306e\u5b9f\u88c5\u306f\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6982\u8981\u306e\u300c8. \u8a8d\u8a3c\u30fb\u8a8d\u53ef\u30b7\u30b9\u30c6\u30e0\u300d\u304a\u3088\u3073\u300c10. \u958b\u767a\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3\u300d\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u95a2\u9023\u3057\u3066\u3044\u307e\u3059\u3002\u7279\u306b\u4ee5\u4e0b\u306e\u90e8\u5206\u3092\u5f37\u5316\u3059\u308b\u3082\u306e\u3067\u3059\uff1a</p> <pre><code>1. **\u540d\u524d\u7a7a\u9593\u306e\u5206\u96e2**: \u5404\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\uff08\u30b9\u30bf\u30c3\u30d5\u3001\u9867\u5ba2\u3001\u7ba1\u7406\u8005\uff09\u306e\u30b3\u30fc\u30c9\u306f\u540d\u524d\u7a7a\u9593\u3067\u660e\u78ba\u306b\u5206\u96e2\u3059\u308b\n...\n4. **\u30a2\u30af\u30bb\u30b9\u5236\u5fa1**: \u9069\u5207\u306a\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306b\u3088\u308a\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u78ba\u4fdd\u3059\u308b\n</code></pre>"},{"location":"journal/20170213/#_4","title":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3068\u306e\u95a2\u9023","text":"<p>\u3053\u306e\u5b9f\u88c5\u306f\u3001\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306e\u300c5.3. \u30b7\u30b9\u30c6\u30e0\u7ba1\u7406\u300d\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u4ee5\u4e0b\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u5b9f\u73fe\u3059\u308b\u3082\u306e\u3067\u3059\uff1a</p> <ul> <li>A-007: \u30a2\u30af\u30bb\u30b9\u5236\u9650IP\u30a2\u30c9\u30ec\u30b9\u7ba1\u7406</li> </ul> <p>\u3053\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3067\u306f\u3001\u7ba1\u7406\u8005\u304c\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\u3059\u308bIP\u30a2\u30c9\u30ec\u30b9\u3092\u7ba1\u7406\u3067\u304d\u308b\u3053\u3068\u304c\u8981\u4ef6\u3068\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20170213/#fb7a1a1","title":"\u30b3\u30df\u30c3\u30c8: fb7a1a1","text":""},{"location":"journal/20170213/#_5","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u7ba1\u7406 #28\n</code></pre>"},{"location":"journal/20170213/#_6","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/admin/top/index.html.erb</li> <li>M config/environments/production.rb</li> <li>M db/migrate/20170210034614_create_allowed_sources.rb</li> <li>A db/seed/development/allowed_sources.rb</li> <li>A db/seed/production/allowed_sources.rb</li> <li>M db/seeds.rb</li> </ul>"},{"location":"journal/20170213/#_7","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit fb7a1a1ff6cccfc207c779e1fd9a226319daeff3\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 13 18:51:43 2017 +0900\n\n    \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u7ba1\u7406 #28\n\ndiff --git a/app/views/admin/top/index.html.erb b/app/views/admin/top/index.html.erb\nindex bf2408e..4547f6c 100644\n--- a/app/views/admin/top/index.html.erb\n+++ b/app/views/admin/top/index.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-2-13\"&gt;2017.2.13&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;IP\u30a2\u30af\u30bb\u30b9\u5236\u9650\u6a5f\u80fd\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-2-2\"&gt;2017.2.2&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u30c7\u30fc\u30bf\u30d4\u30c3\u30ab\u30fc\u6a5f\u80fd\u8ffd\u52a0&lt;/span&gt;\ndiff --git a/config/environments/production.rb b/config/environments/production.rb\nindex 383c65c..5e2244c 100644\n--- a/config/environments/production.rb\n+++ b/config/environments/production.rb\n@@ -87,6 +87,7 @@ Rails.application.configure do\n   config.baukis_kai = {\n       staff: { host: ENV[\"PRD_URL\"] , path: 'staff' },\n       admin: { host: ENV[\"PRD_URL\"], path: 'admin' },\n-      customer: { host: ENV[\"PRD_URL\"], path: '' }\n+      customer: { host: ENV[\"PRD_URL\"], path: '' },\n+      restrict_ip_addresses: ENV[\"RESTRICT_IP\"]\n   }\n end\ndiff --git a/db/migrate/20170210034614_create_allowed_sources.rb b/db/migrate/20170210034614_create_allowed_sources.rb\nindex cac6b34..e6bcda0 100644\n--- a/db/migrate/20170210034614_create_allowed_sources.rb\n+++ b/db/migrate/20170210034614_create_allowed_sources.rb\n@@ -1,6 +1,6 @@\n class CreateAllowedSources &lt; ActiveRecord::Migration[5.0]\n   def change\n-    create_table :allowed_sources,options: 'ROW_FORMAT=DYNAMIC',comment:'IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650' do |t|\n+    create_table :allowed_sources, comment:'IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650' do |t|\n       t.string :namespace, null: false, comment:'\u540d\u524d\u7a7a\u9593'\n       t.integer :octet1, null: false, comment:'\u7b2c\uff11\u30aa\u30af\u30c6\u30c3\u30c8'\n       t.integer :octet2, null: false, comment:'\u7b2c\uff12\u30aa\u30af\u30c6\u30c3\u30c8'\ndiff --git a/db/seed/development/allowed_sources.rb b/db/seed/development/allowed_sources.rb\nnew file mode 100644\nindex 0000000..541d445\n--- /dev/null\n+++ b/db/seed/development/allowed_sources.rb\n@@ -0,0 +1,2 @@\n+AllowedSource.create(namespace: 'admin', ip_address: '127.0.0.1')\n+AllowedSource.create(namespace: 'staff', ip_address: '127.0.0.*')\n\\ No newline at end of file\ndiff --git a/db/seed/production/allowed_sources.rb b/db/seed/production/allowed_sources.rb\nnew file mode 100644\nindex 0000000..541d445\n--- /dev/null\n+++ b/db/seed/production/allowed_sources.rb\n@@ -0,0 +1,2 @@\n+AllowedSource.create(namespace: 'admin', ip_address: '127.0.0.1')\n+AllowedSource.create(namespace: 'staff', ip_address: '127.0.0.*')\n\\ No newline at end of file\ndiff --git a/db/seeds.rb b/db/seeds.rb\nindex 1de7b86..4b2cd20 100644\n--- a/db/seeds.rb\n+++ b/db/seeds.rb\n@@ -6,7 +6,7 @@\n\n #   movies = Movie.create([{ name: 'Star Wars' }, { name: 'Lord of the Rings' }])\n #   Character.create(name: 'Luke', movie: movies.first)\n-table_names = %w(staff_members administrators staff_events customers)\n+table_names = %w(staff_members administrators staff_events customers allowed_sources)\n table_names.each do |table_name|\n   path = Rails.root.join('db','seed',Rails.env, \"#{table_name}.rb\")\n   if File.exist?(path)\n</code></pre>"},{"location":"journal/20170213/#c5cc390","title":"\u30b3\u30df\u30c3\u30c8: c5cc390","text":""},{"location":"journal/20170213/#_8","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u7ba1\u7406\u8005\u30da\u30fc\u30b8\u306b\u5bfe\u3059\u308bIP\u30a2\u30af\u30bb\u30b9\u5236\u9650\u6a5f\u80fd\u8ffd\u52a0 #28\n</code></pre>"},{"location":"journal/20170213/#_9","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20170213/#_10","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c5cc390ce3e82909ebac4ecd7c729b23ffdb6829\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 13 18:50:38 2017 +0900\n\n    \u7ba1\u7406\u8005\u30da\u30fc\u30b8\u306b\u5bfe\u3059\u308bIP\u30a2\u30af\u30bb\u30b9\u5236\u9650\u6a5f\u80fd\u8ffd\u52a0 #28\n\ndiff --git a/README.md b/README.md\nindex fbf896e..dd7a38b 100644\n--- a/README.md\n+++ b/README.md\n@@ -659,6 +659,7 @@ git push heroku master\n\n #### \u6f14\u7fd2\u554f\u984c\n + \u7ba1\u7406\u8005\u30da\u30fc\u30b8\u306b\u5bfe\u3059\u308bIP\u30a2\u30af\u30bb\u30b9\u5236\u9650\uff08\u30c6\u30b9\u30c8\uff09\n++ \u7ba1\u7406\u8005\u30da\u30fc\u30b8\u306b\u5bfe\u3059\u308bIP\u30a2\u30af\u30bb\u30b9\u5236\u9650\u6a5f\u80fd\u8ffd\u52a0\n\n ### \u591a\u5bfe\u591a\u306e\u95a2\u9023\u4ed8\u3051\n #### \u591a\u5bfe\u591a\u306e\u95a2\u9023\u4ed8\u3051\n</code></pre>"},{"location":"journal/20170213/#d97e34f","title":"\u30b3\u30df\u30c3\u30c8: d97e34f","text":""},{"location":"journal/20170213/#_11","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u7ba1\u7406\u8005\u30da\u30fc\u30b8\u306b\u5bfe\u3059\u308bIP\u30a2\u30af\u30bb\u30b9\u5236\u9650\u6a5f\u80fd\u8ffd\u52a0 #28\n</code></pre>"},{"location":"journal/20170213/#_12","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/controllers/admin/base.rb</li> </ul>"},{"location":"journal/20170213/#_13","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit d97e34f44ac1e00fdc1b338603afed16216070d2\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 13 18:50:20 2017 +0900\n\n    \u7ba1\u7406\u8005\u30da\u30fc\u30b8\u306b\u5bfe\u3059\u308bIP\u30a2\u30af\u30bb\u30b9\u5236\u9650\u6a5f\u80fd\u8ffd\u52a0 #28\n\ndiff --git a/app/controllers/admin/base.rb b/app/controllers/admin/base.rb\nindex 65e022f..a69969f 100644\n--- a/app/controllers/admin/base.rb\n+++ b/app/controllers/admin/base.rb\n@@ -1,4 +1,5 @@\n class Admin::Base &lt; ApplicationController\n+  before_action :check_source_ip_address\n   before_action :authorize\n   before_action :check_account\n   before_action :check_timeout\n@@ -13,6 +14,10 @@ class Admin::Base &lt; ApplicationController\n\n   helper_method :current_administrator\n\n+  def check_source_ip_address\n+    raise IpAddressRejected unless AllowedSource.include?('admin',request.ip)\n+  end\n+\n   private\n   def authorize\n     unless current_administrator\n</code></pre>"},{"location":"journal/20170213/#_14","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170213/#67d016b","title":"\u30b3\u30df\u30c3\u30c8: 67d016b","text":""},{"location":"journal/20170213/#_15","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u7ba1\u7406\u8005\u30da\u30fc\u30b8\u306b\u5bfe\u3059\u308bIP\u30a2\u30af\u30bb\u30b9\u5236\u9650\uff08\u30c6\u30b9\u30c8\uff09 #28\n</code></pre>"},{"location":"journal/20170213/#_16","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M spec/controllers/admin/top_controller_spec.rb</li> </ul>"},{"location":"journal/20170213/#_17","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 67d016b0bca9ccdb85aa6bc48d5acbca4ea2ac6f\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 13 17:47:30 2017 +0900\n\n    \u7ba1\u7406\u8005\u30da\u30fc\u30b8\u306b\u5bfe\u3059\u308bIP\u30a2\u30af\u30bb\u30b9\u5236\u9650\uff08\u30c6\u30b9\u30c8\uff09 #28\n\ndiff --git a/README.md b/README.md\nindex a0749af..fbf896e 100644\n--- a/README.md\n+++ b/README.md\n@@ -658,6 +658,7 @@ git push heroku master\n + \u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u306e\u4e00\u62ec\u524a\u9664\n\n #### \u6f14\u7fd2\u554f\u984c\n++ \u7ba1\u7406\u8005\u30da\u30fc\u30b8\u306b\u5bfe\u3059\u308bIP\u30a2\u30af\u30bb\u30b9\u5236\u9650\uff08\u30c6\u30b9\u30c8\uff09\n\n ### \u591a\u5bfe\u591a\u306e\u95a2\u9023\u4ed8\u3051\n #### \u591a\u5bfe\u591a\u306e\u95a2\u9023\u4ed8\u3051\ndiff --git a/spec/controllers/admin/top_controller_spec.rb b/spec/controllers/admin/top_controller_spec.rb\nindex ab43961..55e040d 100644\n--- a/spec/controllers/admin/top_controller_spec.rb\n+++ b/spec/controllers/admin/top_controller_spec.rb\n@@ -3,6 +3,39 @@ require 'rails_helper'\n describe Admin::TopController, 'Before login' do\n   let(:administrator) { create(:administrator) }\n\n+  # IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u9650\n+  describe 'access restriction by IP address' do\n+    before do\n+      Rails.application.config.baukis_kai[:restrict_ip_addresses] = true\n+    end\n+\n+    # \u8a31\u53ef\n+    context 'with authorization' do\n+      it 'rendered top page' do\n+        AllowedSource.create!(namespace: 'admin', ip_address: '0.0.0.0')\n+        get :index\n+        expect(response).to render_template('admin/top/index')\n+      end\n+    end\n+\n+    # \u62d2\u5426\n+    context 'with rejection' do\n+      it 'rendered error page' do\n+        AllowedSource.create!(namespace: 'admin', ip_address: '192.168.0.*')\n+        get :index\n+        expect(response).to render_template('errors/forbidden')\n+      end\n+    end\n+\n+    after do\n+      Rails.application.config.baukis_kai[:restrict_ip_addresses] = false\n+    end\n+  end\n+end\n+\n+describe Admin::TopController, 'After login' do\n+  let(:administrator) { create(:administrator) }\n+\n   before do\n     session[:administrator_id] = administrator.id\n     session[:last_access_time] = 1.second.ago\n</code></pre>"},{"location":"journal/20170213/#_18","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170214/","title":"\u4f5c\u696d\u5c65\u6b74 2017-02-14","text":""},{"location":"journal/20170214/#_1","title":"\u6982\u8981","text":"<p>2017-02-14\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\u306e\u5b9f\u88c5\u306b\u95a2\u3059\u308b\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002\u4e3b\u306b\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u65b0\u898f\u767b\u9332\u30fb\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\u306e\u5b9f\u88c5\u3092\u884c\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170214/#_2","title":"\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\u306e\u69cb\u6210\u56f3","text":""},{"location":"journal/20170214/#_3","title":"\u4f5c\u696d\u5185\u5bb9","text":""},{"location":"journal/20170214/#_4","title":"\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\u306e\u5b9f\u88c5","text":"<p>\u8077\u54e1\u304c\u30d7\u30ed\u30b0\u30e9\u30e0\uff08\u30a4\u30d9\u30f3\u30c8\u3084\u30bb\u30df\u30ca\u30fc\u306a\u3069\uff09\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u4eca\u56de\u306f\u7279\u306b\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u65b0\u898f\u767b\u9332\u3068\u7de8\u96c6\u306e\u305f\u3081\u306e\u30d5\u30a9\u30fc\u30e0\u6a5f\u80fd\u306b\u7126\u70b9\u3092\u5f53\u3066\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20170214/#_5","title":"\u5909\u66f4\u70b9\u306e\u6982\u8981","text":"<ol> <li>\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5c0e\u5165</li> <li><code>Staff::ProgramForm</code> \u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3057\u3001\u8907\u96d1\u306a\u30d5\u30a9\u30fc\u30e0\u51e6\u7406\u3092\u30ab\u30d7\u30bb\u30eb\u5316</li> <li> <p>\u65e5\u4ed8\u3068\u6642\u523b\u306e\u5206\u96e2\u30fb\u7d50\u5408\u51e6\u7406\u3092\u5b9f\u88c5</p> </li> <li> <p>\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u306e\u62e1\u5f35</p> </li> <li><code>ProgramFormPresenter</code> \u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3057\u3001\u30d5\u30a9\u30fc\u30e0\u8868\u793a\u3092\u6574\u5f62</li> <li> <p>\u65e2\u5b58\u306e <code>FormPresenter</code> \u30af\u30e9\u30b9\u3092\u62e1\u5f35</p> </li> <li> <p>\u30d3\u30e5\u30fc\u306e\u5b9f\u88c5</p> </li> <li>\u65b0\u898f\u767b\u9332\u30fb\u7de8\u96c6\u7528\u306e\u30d3\u30e5\u30fc\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210</li> <li>\u90e8\u5206\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u6d3b\u7528\u3057\u3066\u5171\u901a\u90e8\u5206\u3092\u5171\u6709</li> </ol>"},{"location":"journal/20170214/#_6","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li>\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d1\u30bf\u30fc\u30f3\u3092\u4f7f\u7528\u3057\u3066\u8907\u96d1\u306a\u30d5\u30a9\u30fc\u30e0\u51e6\u7406\u3092\u5206\u96e2</li> <li>\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u30d1\u30bf\u30fc\u30f3\u3092\u4f7f\u7528\u3057\u3066\u30d3\u30e5\u30fc\u30ed\u30b8\u30c3\u30af\u3092\u5206\u96e2</li> <li>\u65e5\u4ed8\u3068\u6642\u523b\u306e\u5165\u529b\u3092\u5206\u3051\u3066\u3001\u4f7f\u3044\u3084\u3059\u3044UI\u3092\u5b9f\u73fe</li> <li>ActiveModel::Model\u3092\u4f7f\u7528\u3057\u3066\u3001\u30e2\u30c7\u30eb\u306e\u3088\u3046\u306b\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6271\u3048\u308b\u3088\u3046\u306b\u5b9f\u88c5</li> </ul>"},{"location":"journal/20170214/#d980c7f","title":"\u30b3\u30df\u30c3\u30c8: d980c7f","text":""},{"location":"journal/20170214/#_7","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u65b0\u898f\u767b\u9332\u30fb\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0 #26\n</code></pre>"},{"location":"journal/20170214/#_8","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/programs_controller.rb</li> <li>A app/forms/staff/program_form.rb</li> <li>M app/models/program.rb</li> <li>M app/presenters/form_presenter.rb</li> <li>A app/presenters/staff/program_form_presenter.rb</li> <li>A app/views/staff/programs/_form.html.erb</li> <li>A app/views/staff/programs/edit.html.erb</li> <li>A app/views/staff/programs/new.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170214/#_9","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit d980c7fc0a748c7d3606038ef76a9cac3d2084ba\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 14 19:41:37 2017 +0900\n\n    \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u65b0\u898f\u767b\u9332\u30fb\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0 #26\n\ndiff --git a/README.md b/README.md\nindex c74a2a4..5100173 100644\n--- a/README.md\n+++ b/README.md\n@@ -681,6 +681,9 @@ git push heroku master\n\n ### \u8907\u96d1\u306a\u30d5\u30a9\u30fc\u30e0\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\uff08\u5f8c\u7de8\uff09\n++ \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u30d5\u30a9\u30fc\u30e0\u306e\u4ed5\u69d8\n++ \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u65b0\u898f\u767b\u9332\u30fb\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\n+\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u6a5f\u80fd\n\n ### \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\ndiff --git a/app/controllers/staff/programs_controller.rb b/app/controllers/staff/programs_controller.rb\nindex 88fe271..980bf48 100644\n--- a/app/controllers/staff/programs_controller.rb\n+++ b/app/controllers/staff/programs_controller.rb\n@@ -6,4 +6,12 @@ class Staff::ProgramsController &lt; Staff::Base\n   def show\n     @program = Program.listing.find(params[:id])\n   end\n+\n+  def new\n+    @program_form = Staff::ProgramForm.new\n+  end\n+\n+  def edit\n+    @program_form = Staff::ProgramForm.new(Program.find(params[:id]))\n+  end\n end\ndiff --git a/app/forms/staff/program_form.rb b/app/forms/staff/program_form.rb\nnew file mode 100644\nindex 0000000..ef147e2\n--- /dev/null\n+++ b/app/forms/staff/program_form.rb\n@@ -0,0 +1,28 @@\n+class Staff::ProgramForm\n+  include ActiveModel::Model\n+\n+  attr_accessor :program\n+  delegate :persisted?,\n+           :save, to: :program\n+\n+  def initialize(progaram = nil)\n+    @program = progaram\n+    @program ||= Program.new\n+    if @program.application_start_time\n+      @program.application_start_date = @program.application_start_time.to_date.to_s\n+      @program.application_start_hour = sprintf('%02d', @program.application_start_time.hour)\n+      @program.application_start_minute = sprintf('%02d', @program.application_start_time.min)\n+    else\n+      @program.application_start_hour = '09'\n+      @program.application_start_minute = '00'\n+    end\n+    if @program.application_end_time\n+      @program.application_end_date = @program.application_end_time.to_date.to_s\n+      @program.application_end_hour = sprintf('%02d', @program.application_end_time.hour)\n+      @program.application_end_minute = sprintf('%02d', @program.application_end_time.min)\n+    else\n+      @program.application_end_hour = '17'\n+      @program.application_end_minute = '00'\n+    end\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/models/program.rb b/app/models/program.rb\nindex 2edf22a..46c9dd1 100644\n--- a/app/models/program.rb\n+++ b/app/models/program.rb\n@@ -24,6 +24,13 @@ class Program &lt; ApplicationRecord\n   has_many :applicants, through: :entries, source: :customer\n   belongs_to :registrant, class_name: 'StaffMember'\n\n+  attr_accessor :application_start_date,\n+                :application_start_hour,\n+                :application_start_minute,\n+                :application_end_date,\n+                :application_end_hour,\n+                :application_end_minute\n+\n   scope :listing, -&gt; {\n     joins('LEFT JOIN entries ON programs.id = entries.program_id')\n         .select('programs.*, COUNT(entries.id) AS number_of_applicants')\ndiff --git a/app/presenters/form_presenter.rb b/app/presenters/form_presenter.rb\nindex 545467e..88c57e2 100644\n--- a/app/presenters/form_presenter.rb\n+++ b/app/presenters/form_presenter.rb\n@@ -28,9 +28,24 @@ class FormPresenter\n     markup(:div, class: 'AppForm__input-block') do |m|\n       m &lt;&lt; decorated_label(name, label_text, options)\n       m &lt;&lt; text_field(name, hide_label: true, class: options[:required] ? 'required' : nil)\n+      if options[:maxlength]\n+        m.span \"(#{options[:maxlength]}\u6587\u5b57\u4ee5\u5185)\", class: 'instruction'\n+      end\n     end\n   end\n\n+  def number_field_block(name, label_text, options = {})\n+    markup(:div) do |m|\n+      m &lt;&lt; decorated_label(name, label_text, options)\n+      m &lt;&lt; form_builder.number_field(name, options.merge(skip_label: true))\n+      if options[:max]\n+        max = view_context.number_with_delimiter(options[:max].to_i)\n+        m.span \"(\u6700\u5927\u5024\uff1a #{max})\", class: 'instruction'\n+      end\n+    end\n+\n+  end\n+\n   def password_field_block(name, label_text, options = {})\n     markup(:div, class: 'AppForm__input-block') do |m|\n       m &lt;&lt; decorated_label(name, label_text, options)\ndiff --git a/app/presenters/staff/program_form_presenter.rb b/app/presenters/staff/program_form_presenter.rb\nnew file mode 100644\nindex 0000000..491dd3e\n--- /dev/null\n+++ b/app/presenters/staff/program_form_presenter.rb\n@@ -0,0 +1,27 @@\n+class Staff::ProgramFormPresenter &lt; FormPresenter\n+  def description\n+    markup(:div, class: 'AppForm__input-block') do |m|\n+      m &lt;&lt; decorated_label(:description, I18n.t('staff.programs.form.show'), required: true)\n+      m &lt;&lt; text_area(:description, hide_label: true, row: 6, style: 'width: 454px')\n+      m.span '(800\u6587\u5b57\u4ee5\u5185)', class: 'instruction', style: 'float: right'\n+    end\n+  end\n+\n+  def datetime_field_block(name, label_text, options = {})\n+    instruction = options.delete(:instruction)\n+    markup(:div, class: 'AppForm__input-block') do |m|\n+      m &lt;&lt; decorated_label(\"#{name}_date\", label_text, options)\n+      if options[:class].kind_of?(String)\n+        classes = options[:class].strip.split + [ 'datetimepicker' ]\n+        options[:class] = classes.uniq.join(' ')\n+      else\n+        options[:class] = 'datetimepicker'\n+      end\n+      m &lt;&lt; text_field(\"#{name}_date\", options.merge(hide_label: true))\n+      m &lt;&lt; form_builder.select(\"#{name}_hour\", ('00'..'23').to_a, skip_label: true)\n+      m &lt;&lt; ':'\n+      m &lt;&lt; form_builder.select(\"#{name}_minute\", ('00'..'59').to_a, skip_label: true)\n+      m.span \"(#{instruction})\", class: 'instruction' if instruction\n+    end\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/views/staff/programs/_form.html.erb b/app/views/staff/programs/_form.html.erb\nnew file mode 100644\nindex 0000000..c52cffe\n--- /dev/null\n+++ b/app/views/staff/programs/_form.html.erb\n@@ -0,0 +1,16 @@\n+&lt;%= f.fields_for :program, f.object.program do |ff| %&gt;\n+&lt;%= markup do |m|\n+  p = Staff::ProgramFormPresenter.new(ff, self)\n+  m &lt;&lt; p.notes\n+  p.with_options(required: true) do |q|\n+    m &lt;&lt; q.text_field_block(:title, I18n.t('staff.programs.form.title'), maxlength: 32)\n+    m &lt;&lt; q.datetime_field_block(:application_start, I18n.t('staff.programs.form.program_start'), instruction: I18n.t('staff.programs.form.program_start_instruction'))\n+    m &lt;&lt; q.datetime_field_block(:application_end, I18n.t('staff.programs.form.program_end'), instruction: I18n.t('staff.programs.form.program_end_instruction'))\n+  end\n+  p.with_options(size: 6) do |q|\n+    m &lt;&lt; q.number_field_block(:min_number_of_participants,I18n.t('staff.programs.form.program_min_entry'), max: 1000)\n+    m &lt;&lt; q.number_field_block(:max_number_of_participants,I18n.t('staff.programs.form.program_max_entry'), max: 1000)\n+  end\n+  m &lt;&lt; p.description\n+  end %&gt;\n+&lt;% end %&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/programs/edit.html.erb b/app/views/staff/programs/edit.html.erb\nnew file mode 100644\nindex 0000000..fbc2dca\n--- /dev/null\n+++ b/app/views/staff/programs/edit.html.erb\n@@ -0,0 +1,16 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column AppForm\"&gt;\n+  &lt;div class=\"AppForm__generic-form StaffAppForm__generic-form AppForm__customer-form\"&gt;\n+    &lt;%= bootstrap_form_for @program_form, as: 'form', url: [:staff, @program_form.program ] do |f| %&gt;\n+        &lt;%= render 'form', f: f %&gt;\n+        &lt;div class=\"AppForm__buttons\"&gt;\n+          &lt;%= f.submit t('.update') ,class: 'btn btn-default btn-lg'%&gt;\n+          &lt;%= link_to t('.cancel'), :staff_programs ,class: 'btn btn-default btn-lg'%&gt;\n+        &lt;/div&gt;\n+    &lt;% end %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\ndiff --git a/app/views/staff/programs/new.html.erb b/app/views/staff/programs/new.html.erb\nnew file mode 100644\nindex 0000000..a4f3a46\n--- /dev/null\n+++ b/app/views/staff/programs/new.html.erb\n@@ -0,0 +1,16 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column AppForm\"&gt;\n+  &lt;div class=\"AppForm__generic-form StaffAppForm__generic-form AppForm__customer-form\"&gt;\n+    &lt;%= bootstrap_form_for @program_form, as: 'form', url: :staff_programs do |f| %&gt;\n+        &lt;%= render 'form', f: f %&gt;\n+        &lt;div class=\"AppForm__buttons\"&gt;\n+          &lt;%= f.submit t('.create') ,class: 'btn btn-default btn-lg'%&gt;\n+          &lt;%= link_to t('.cancel'), :staff_programs ,class: 'btn btn-default btn-lg'%&gt;\n+        &lt;/div&gt;\n+    &lt;% end %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 8217fe9..280d466 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -121,10 +121,26 @@ ja:\n         program_max_entry: '\u6700\u5927\u53c2\u89b3\u8005\u6570'\n         program_entry_count: '\u7533\u3057\u8fbc\u307f\u4ef6\u6570'\n         program_staff: '\u767b\u9332\u8077\u54e1'\n+      new:\n+        title: '\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u65b0\u898f\u767b\u9332'\n+        create: '\u767b\u9332'\n+        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n+      edit:\n+        title: '\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u7de8\u96c6'\n+        update: '\u66f4\u65b0'\n+        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n       form:\n         show: '\u8a73\u7d30'\n         edit: '\u7de8\u96c6'\n         delete: '\u524a\u9664'\n+        title: '\u30bf\u30a4\u30c8\u30eb'\n+        program_start: '\u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5\u6642'\n+        program_start_instruction: '\u73fe\u5728\u304b\u30891\u5e74\u5f8c\u307e\u3067'\n+        program_end: '\u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5\u6642'\n+        program_end_instruction: '\u958b\u59cb\u65e5\u6642\u304b\u308990\u65e5\u5f8c\u307e\u3067'\n+        program_min_entry: '\u6700\u5c0f\u53c2\u52a0\u8005\u6570'\n+        program_max_entry: '\u6700\u5927\u53c2\u89b3\u8005\u6570'\n+\n   admin:\n     shared:\n       header:\n</code></pre>"},{"location":"journal/20170214/#_10","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170214/#ebecfd6","title":"\u30b3\u30df\u30c3\u30c8: ebecfd6","text":""},{"location":"journal/20170214/#_11","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30c6\u30fc\u30d6\u30eb\u306e\u5de6\u7d50\u5408(LEFT JOIN) #27\n</code></pre>"},{"location":"journal/20170214/#_12","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/program.rb</li> </ul>"},{"location":"journal/20170214/#_13","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit ebecfd6de8e26647e9b89feb39d6382808750bbe\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 14 18:36:09 2017 +0900\n\n    \u30c6\u30fc\u30d6\u30eb\u306e\u5de6\u7d50\u5408(LEFT JOIN) #27\n\ndiff --git a/README.md b/README.md\nindex 7ac388b..c74a2a4 100644\n--- a/README.md\n+++ b/README.md\n@@ -677,6 +677,7 @@ git push heroku master\n + \u30b9\u30b3\u30fc\u30d7\u306e\u5b9a\u7fa9\n + \u7de8\u96c6\u5bfe\u8c61\u306e\u5909\u66f4\u306b\u3088\u308b\u6539\u5584\n + \u30c6\u30fc\u30d6\u30eb\u306e\u5185\u90e8\u7d50\u5408(INNER JOIN)\n++ \u30c6\u30fc\u30d6\u30eb\u306e\u5de6\u7d50\u5408(LEFT JOIN)\n\n ### \u8907\u96d1\u306a\u30d5\u30a9\u30fc\u30e0\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\uff08\u5f8c\u7de8\uff09\ndiff --git a/app/models/program.rb b/app/models/program.rb\nindex ac5e61f..2edf22a 100644\n--- a/app/models/program.rb\n+++ b/app/models/program.rb\n@@ -25,7 +25,7 @@ class Program &lt; ApplicationRecord\n   belongs_to :registrant, class_name: 'StaffMember'\n\n   scope :listing, -&gt; {\n-    joins(:entries)\n+    joins('LEFT JOIN entries ON programs.id = entries.program_id')\n         .select('programs.*, COUNT(entries.id) AS number_of_applicants')\n         .group('programs.id')\n         .order(application_start_time: :desc)\n</code></pre>"},{"location":"journal/20170214/#_14","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170214/#0119800","title":"\u30b3\u30df\u30c3\u30c8: 0119800","text":""},{"location":"journal/20170214/#_15","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30c6\u30fc\u30d6\u30eb\u306e\u5185\u90e8\u7d50\u5408(INNER JOIN) #27\n</code></pre>"},{"location":"journal/20170214/#_16","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/programs_controller.rb</li> <li>M app/models/program.rb</li> <li>M app/presenters/staff/program_presenter.rb</li> </ul>"},{"location":"journal/20170214/#_17","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 0119800f1b83121dba9cc9fae0125e414401b991\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 14 18:34:09 2017 +0900\n\n    \u30c6\u30fc\u30d6\u30eb\u306e\u5185\u90e8\u7d50\u5408(INNER JOIN) #27\n\ndiff --git a/README.md b/README.md\nindex 563f1da..7ac388b 100644\n--- a/README.md\n+++ b/README.md\n@@ -676,6 +676,7 @@ git push heroku master\n + includes\u30e1\u30bd\u30c3\u30c9\u306b\u3088\u308b\u6539\u5584\n + \u30b9\u30b3\u30fc\u30d7\u306e\u5b9a\u7fa9\n + \u7de8\u96c6\u5bfe\u8c61\u306e\u5909\u66f4\u306b\u3088\u308b\u6539\u5584\n++ \u30c6\u30fc\u30d6\u30eb\u306e\u5185\u90e8\u7d50\u5408(INNER JOIN)\n\n ### \u8907\u96d1\u306a\u30d5\u30a9\u30fc\u30e0\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\uff08\u5f8c\u7de8\uff09\ndiff --git a/app/controllers/staff/programs_controller.rb b/app/controllers/staff/programs_controller.rb\nindex 2053134..88fe271 100644\n--- a/app/controllers/staff/programs_controller.rb\n+++ b/app/controllers/staff/programs_controller.rb\n@@ -4,6 +4,6 @@ class Staff::ProgramsController &lt; Staff::Base\n   end\n\n   def show\n-    @program = Program.find(params[:id])\n+    @program = Program.listing.find(params[:id])\n   end\n end\ndiff --git a/app/models/program.rb b/app/models/program.rb\nindex 802d487..ac5e61f 100644\n--- a/app/models/program.rb\n+++ b/app/models/program.rb\n@@ -25,6 +25,10 @@ class Program &lt; ApplicationRecord\n   belongs_to :registrant, class_name: 'StaffMember'\n\n   scope :listing, -&gt; {\n-    order(application_start_time: :desc).includes(:registrant)\n+    joins(:entries)\n+        .select('programs.*, COUNT(entries.id) AS number_of_applicants')\n+        .group('programs.id')\n+        .order(application_start_time: :desc)\n+        .includes(:registrant)\n   }\n end\ndiff --git a/app/presenters/staff/program_presenter.rb b/app/presenters/staff/program_presenter.rb\nindex 9af7a53..a3847ab 100644\n--- a/app/presenters/staff/program_presenter.rb\n+++ b/app/presenters/staff/program_presenter.rb\n@@ -23,7 +23,7 @@ class Staff::ProgramPresenter &lt; ModelPresenter\n   end\n\n   def number_of_applicants\n-    number_with_delimiter(object.entries.count)\n+    number_with_delimiter(object.number_of_applicants)\n   end\n\n   def registrant\n</code></pre>"},{"location":"journal/20170214/#_18","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170214/#de89b06","title":"\u30b3\u30df\u30c3\u30c8: de89b06","text":""},{"location":"journal/20170214/#_19","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u7de8\u96c6\u5bfe\u8c61\u306e\u5909\u66f4\u306b\u3088\u308b\u6539\u5584 #27\n</code></pre>"},{"location":"journal/20170214/#_20","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/presenters/staff/program_presenter.rb</li> </ul>"},{"location":"journal/20170214/#_21","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit de89b06c8bb4c4e3a4482d31b4896acdd03f6600\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 14 18:26:59 2017 +0900\n\n    \u7de8\u96c6\u5bfe\u8c61\u306e\u5909\u66f4\u306b\u3088\u308b\u6539\u5584 #27\n\ndiff --git a/README.md b/README.md\nindex 6c59a80..563f1da 100644\n--- a/README.md\n+++ b/README.md\n@@ -675,6 +675,7 @@ git push heroku master\n + \u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7\u8868\u6240\u6a5f\u80fd\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u6e2c\u5b9a\n + includes\u30e1\u30bd\u30c3\u30c9\u306b\u3088\u308b\u6539\u5584\n + \u30b9\u30b3\u30fc\u30d7\u306e\u5b9a\u7fa9\n++ \u7de8\u96c6\u5bfe\u8c61\u306e\u5909\u66f4\u306b\u3088\u308b\u6539\u5584\n\n ### \u8907\u96d1\u306a\u30d5\u30a9\u30fc\u30e0\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\uff08\u5f8c\u7de8\uff09\ndiff --git a/app/presenters/staff/program_presenter.rb b/app/presenters/staff/program_presenter.rb\nindex a46d511..9af7a53 100644\n--- a/app/presenters/staff/program_presenter.rb\n+++ b/app/presenters/staff/program_presenter.rb\n@@ -23,7 +23,7 @@ class Staff::ProgramPresenter &lt; ModelPresenter\n   end\n\n   def number_of_applicants\n-    number_with_delimiter(object.applicants.count)\n+    number_with_delimiter(object.entries.count)\n   end\n\n   def registrant\n</code></pre>"},{"location":"journal/20170214/#0e61a5c","title":"\u30b3\u30df\u30c3\u30c8: 0e61a5c","text":""},{"location":"journal/20170214/#_22","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b9\u30b3\u30fc\u30d7\u306e\u5b9a\u7fa9 #27\n</code></pre>"},{"location":"journal/20170214/#_23","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/programs_controller.rb</li> <li>M app/models/program.rb</li> </ul>"},{"location":"journal/20170214/#_24","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 0e61a5cefa8c709e6fd89c58d74c9a8c1e03bc6d\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 14 18:24:11 2017 +0900\n\n    \u30b9\u30b3\u30fc\u30d7\u306e\u5b9a\u7fa9 #27\n\ndiff --git a/README.md b/README.md\nindex e36f33f..6c59a80 100644\n--- a/README.md\n+++ b/README.md\n@@ -674,6 +674,7 @@ git push heroku master\n + \u30d9\u30f3\u30c1\u30de\u30fc\u30af\u6e2c\u5b9a\u306e\u6e96\u5099\n + \u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7\u8868\u6240\u6a5f\u80fd\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u6e2c\u5b9a\n + includes\u30e1\u30bd\u30c3\u30c9\u306b\u3088\u308b\u6539\u5584\n++ \u30b9\u30b3\u30fc\u30d7\u306e\u5b9a\u7fa9\n\n ### \u8907\u96d1\u306a\u30d5\u30a9\u30fc\u30e0\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\uff08\u5f8c\u7de8\uff09\ndiff --git a/app/controllers/staff/programs_controller.rb b/app/controllers/staff/programs_controller.rb\nindex bfda027..2053134 100644\n--- a/app/controllers/staff/programs_controller.rb\n+++ b/app/controllers/staff/programs_controller.rb\n@@ -1,6 +1,6 @@\n class Staff::ProgramsController &lt; Staff::Base\n   def index\n-    @programs = Program.order(application_start_time: :desc).includes(:registrant).page(params[:page])\n+    @programs = Program.listing.page(params[:page])\n   end\n\n   def show\ndiff --git a/app/models/program.rb b/app/models/program.rb\nindex 96125eb..802d487 100644\n--- a/app/models/program.rb\n+++ b/app/models/program.rb\n@@ -23,4 +23,8 @@ class Program &lt; ApplicationRecord\n   has_many :entries, dependent: :destroy\n   has_many :applicants, through: :entries, source: :customer\n   belongs_to :registrant, class_name: 'StaffMember'\n+\n+  scope :listing, -&gt; {\n+    order(application_start_time: :desc).includes(:registrant)\n+  }\n end\n</code></pre>"},{"location":"journal/20170214/#_25","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170214/#c2e4f02","title":"\u30b3\u30df\u30c3\u30c8: c2e4f02","text":""},{"location":"journal/20170214/#_26","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>includes\u30e1\u30bd\u30c3\u30c9\u306b\u3088\u308b\u6539\u5584  #27\n</code></pre>"},{"location":"journal/20170214/#_27","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/programs_controller.rb</li> </ul>"},{"location":"journal/20170214/#_28","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c2e4f02bfbccbf1681e06d76770fadd36606af8b\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 14 18:21:00 2017 +0900\n\n    includes\u30e1\u30bd\u30c3\u30c9\u306b\u3088\u308b\u6539\u5584  #27\n\ndiff --git a/README.md b/README.md\nindex 1ca0316..e36f33f 100644\n--- a/README.md\n+++ b/README.md\n@@ -673,6 +673,7 @@ git push heroku master\n #### \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6539\u5584\n + \u30d9\u30f3\u30c1\u30de\u30fc\u30af\u6e2c\u5b9a\u306e\u6e96\u5099\n + \u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7\u8868\u6240\u6a5f\u80fd\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u6e2c\u5b9a\n++ includes\u30e1\u30bd\u30c3\u30c9\u306b\u3088\u308b\u6539\u5584\n\n ### \u8907\u96d1\u306a\u30d5\u30a9\u30fc\u30e0\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\uff08\u5f8c\u7de8\uff09\ndiff --git a/app/controllers/staff/programs_controller.rb b/app/controllers/staff/programs_controller.rb\nindex 77ee323..bfda027 100644\n--- a/app/controllers/staff/programs_controller.rb\n+++ b/app/controllers/staff/programs_controller.rb\n@@ -1,6 +1,6 @@\n class Staff::ProgramsController &lt; Staff::Base\n   def index\n-    @programs = Program.order(application_start_time: :desc).page(params[:page])\n+    @programs = Program.order(application_start_time: :desc).includes(:registrant).page(params[:page])\n   end\n\n   def show\n</code></pre>"},{"location":"journal/20170214/#_29","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170214/#9548433","title":"\u30b3\u30df\u30c3\u30c8: 9548433","text":""},{"location":"journal/20170214/#_30","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7\u8868\u6240\u6a5f\u80fd\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u6e2c\u5b9a  #27\n</code></pre>"},{"location":"journal/20170214/#_31","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M spec/factories/programs.rb</li> <li>A spec/features/staff/program_management_spec.rb</li> </ul>"},{"location":"journal/20170214/#_32","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 954843309325d9fb08d3844ad264b97a4ce2a0c4\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 14 18:18:05 2017 +0900\n\n    \u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7\u8868\u6240\u6a5f\u80fd\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u6e2c\u5b9a  #27\n\ndiff --git a/README.md b/README.md\nindex fe7a4f2..1ca0316 100644\n--- a/README.md\n+++ b/README.md\n@@ -672,6 +672,7 @@ git push heroku master\n\n #### \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6539\u5584\n + \u30d9\u30f3\u30c1\u30de\u30fc\u30af\u6e2c\u5b9a\u306e\u6e96\u5099\n++ \u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7\u8868\u6240\u6a5f\u80fd\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u6e2c\u5b9a\n\n ### \u8907\u96d1\u306a\u30d5\u30a9\u30fc\u30e0\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\uff08\u5f8c\u7de8\uff09\ndiff --git a/spec/factories/programs.rb b/spec/factories/programs.rb\nindex 5819c1c..a14ab17 100644\n--- a/spec/factories/programs.rb\n+++ b/spec/factories/programs.rb\n@@ -21,6 +21,12 @@\n\n FactoryGirl.define do\n   factory :program do\n-    \n+    title 'Title'\n+    description 'Description'\n+    application_start_time { 5.days.ago.midnight }\n+    application_end_time { 2.days.from_now.midnight }\n+    min_number_of_participants 5\n+    max_number_of_participants 10\n+    registrant { create(:staff_member) }\n   end\n end\ndiff --git a/spec/features/staff/program_management_spec.rb b/spec/features/staff/program_management_spec.rb\nnew file mode 100644\nindex 0000000..9131037\n--- /dev/null\n+++ b/spec/features/staff/program_management_spec.rb\n@@ -0,0 +1,37 @@\n+require 'rails_helper'\n+\n+# \u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\n+feature 'Program management function', :performace do\n+  include FeaturesSpecHelper\n+  include PerformanceSpecHelper\n+  let(:staff_member) { create(:staff_member) }\n+\n+  before do\n+    20.times do |n|\n+      p  = create(:program, application_start_time: n.days.ago.midnight)\n+      if n &lt; 2\n+        p.applicants &lt;&lt; create(:customer)\n+        p.applicants &lt;&lt; create(:customer)\n+      end\n+    end\n+\n+    switch_namespace(:staff)\n+    login_as_staff_member(staff_member)\n+  end\n+\n+  # \u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7\n+  scenario 'Program list' do |example|\n+    visit staff_programs_path\n+    expect(page).to have_css('h1', text: I18n.t('staff.programs.index.title'))\n+\n+    elapsed = Benchmark.realtime do\n+      100.times do\n+        visit staff_programs_path\n+      end\n+    end\n+\n+    write_to_performance_log(example, elapsed)\n+    expect(elapsed).to be &lt; 100.0\n+  end\n+\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170214/#48490a4","title":"\u30b3\u30df\u30c3\u30c8: 48490a4","text":""},{"location":"journal/20170214/#_33","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u6e2c\u5b9a\u306e\u6e96\u5099  #27\n</code></pre>"},{"location":"journal/20170214/#_34","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M spec/rails_helper.rb</li> <li>A spec/support/performance_spec_helper.rb</li> </ul>"},{"location":"journal/20170214/#_35","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 48490a47002a893bfeb96946afc8d744907592d7\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 14 18:03:39 2017 +0900\n\n    \u30d9\u30f3\u30c1\u30de\u30fc\u30af\u6e2c\u5b9a\u306e\u6e96\u5099  #27\n\ndiff --git a/README.md b/README.md\nindex 08b8c41..fe7a4f2 100644\n--- a/README.md\n+++ b/README.md\n@@ -671,6 +671,7 @@ git push heroku master\n + \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u8a73\u7d30\u8868\u793a\n\n #### \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6539\u5584\n++ \u30d9\u30f3\u30c1\u30de\u30fc\u30af\u6e2c\u5b9a\u306e\u6e96\u5099\n\n ### \u8907\u96d1\u306a\u30d5\u30a9\u30fc\u30e0\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\uff08\u5f8c\u7de8\uff09\ndiff --git a/spec/rails_helper.rb b/spec/rails_helper.rb\nindex 8e3f5b2..52a3101 100644\n--- a/spec/rails_helper.rb\n+++ b/spec/rails_helper.rb\n@@ -52,6 +52,8 @@ RSpec.configure do |config|\n   # https://relishapp.com/rspec/rspec-rails/docs\n   config.infer_spec_type_from_file_location!\n\n+  config.filter_run_excluding :performance =&gt; true\n+\n   # Filter lines from Rails gems in backtraces.\n   config.filter_rails_from_backtrace!\n   # arbitrary gems may also be filtered via:\n@@ -62,4 +64,14 @@ RSpec.configure do |config|\n   config.before(:suite) do\n     FactoryGirl.reload\n   end\n+\n+  config.before(performance: true) do\n+    ActionController::Base.perform_caching = true\n+    ActiveSupport::Dependencies.mechanism = :require\n+    Rails.logger.level = ActiveSupport::Logger::INFO\n+  end\n+\n+  config.after do\n+    Rails.application.config.baukis_kai[:restrict_ip_addresses] = false\n+  end\n end\ndiff --git a/spec/support/performance_spec_helper.rb b/spec/support/performance_spec_helper.rb\nnew file mode 100644\nindex 0000000..278510d\n--- /dev/null\n+++ b/spec/support/performance_spec_helper.rb\n@@ -0,0 +1,8 @@\n+module PerformanceSpecHelper\n+  def write_to_performance_log(example, elapsed)\n+    @logger ||= ActiveSupport::Logger.new(\n+                                         Rails.root.join('log', 'performance_spec.log'))\n+    message = example.metadata[:example_group][:full_description] + '/' + example.description\n+    @logger.info sprintf('%s -- Elapsed: %2.3f seconds', message, elapsed)\n+  end\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170214/#eda6965","title":"\u30b3\u30df\u30c3\u30c8: eda6965","text":""},{"location":"journal/20170214/#_36","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u8a73\u7d30\u8868\u793a  #27\n</code></pre>"},{"location":"journal/20170214/#_37","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/stylesheets/components/common/_table.scss</li> <li>M app/controllers/staff/customers_controller.rb</li> <li>M app/controllers/staff/programs_controller.rb</li> <li>A app/views/staff/programs/show.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170214/#_38","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit eda6965670d643c856b82cea8a03f263fb5b5895\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 14 17:53:12 2017 +0900\n\n    \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u8a73\u7d30\u8868\u793a  #27\n\ndiff --git a/README.md b/README.md\nindex 6d26deb..08b8c41 100644\n--- a/README.md\n+++ b/README.md\n@@ -668,6 +668,7 @@ git push heroku master\n\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\uff08\u524d\u7de8\uff09\n + \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4e00\u89a7\u8868\u793a \n++ \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u8a73\u7d30\u8868\u793a\n\n #### \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6539\u5584\n\ndiff --git a/app/assets/stylesheets/components/common/_table.scss b/app/assets/stylesheets/components/common/_table.scss\nindex 8523b0f..66813e4 100644\n--- a/app/assets/stylesheets/components/common/_table.scss\n+++ b/app/assets/stylesheets/components/common/_table.scss\n@@ -27,6 +27,12 @@\n       th { padding-right: $moderate; width: 200px }\n       td { background-color: $very_light_gray }\n     }\n+\n+    &amp;--description {\n+      margin: $wide;\n+      padding: $wide;\n+      background-color: $very_light_gray;\n+    }\n   }\n\n   &amp;__th {\ndiff --git a/app/controllers/staff/customers_controller.rb b/app/controllers/staff/customers_controller.rb\nindex 9757ef6..6342b22 100644\n--- a/app/controllers/staff/customers_controller.rb\n+++ b/app/controllers/staff/customers_controller.rb\n@@ -5,7 +5,7 @@ class Staff::CustomersController &lt; Staff::Base\n     else\n       @search_form = Staff::CustomerSearchForm.new(search_params)\n     end\n-    @programs = @search_form.search.page(params[:page])\n+    @customers = @search_form.search.page(params[:page])\n   end\n\n   def show\ndiff --git a/app/controllers/staff/programs_controller.rb b/app/controllers/staff/programs_controller.rb\nindex b9c11ac..77ee323 100644\n--- a/app/controllers/staff/programs_controller.rb\n+++ b/app/controllers/staff/programs_controller.rb\n@@ -2,4 +2,8 @@ class Staff::ProgramsController &lt; Staff::Base\n   def index\n     @programs = Program.order(application_start_time: :desc).page(params[:page])\n   end\n+\n+  def show\n+    @program = Program.find(params[:id])\n+  end\n end\ndiff --git a/app/views/staff/programs/show.html.erb b/app/views/staff/programs/show.html.erb\nnew file mode 100644\nindex 0000000..8d7ee85\n--- /dev/null\n+++ b/app/views/staff/programs/show.html.erb\n@@ -0,0 +1,19 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column Table StaffTable\"&gt;\n+  &lt;table class=\"Table__body Table__body--attributes StaffTable__body\"&gt;\n+    &lt;% p = Staff::ProgramPresenter.new(@program, self) %&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.program_tiile') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.title %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.program_start') %&gt;&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p.application_start_time %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.program_end') %&gt;&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p.application_end_time %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.program_min_entry') %&gt;&lt;/th&gt;&lt;td class=\"Table__td--numeric\"&gt;&lt;%= p.min_number_of_participants %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.program_max_entry') %&gt;&lt;/th&gt;&lt;td class=\"Table__td--numeric\"&gt;&lt;%= p.max_number_of_participants %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.program_entry_count')%&gt;&lt;/th&gt;&lt;td class=\"Table__td--numeric\"&gt;&lt;%= p.number_of_applicants %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.program_staff') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.registrant %&gt;&lt;/td&gt;&lt;/tr&gt;\n+  &lt;/table&gt;\n+\n+  &lt;div class=\"Table__body--description\"&gt;&lt;%= @program.description %&gt;&lt;/div&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex e1c3095..8217fe9 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -112,6 +112,15 @@ ja:\n         program_entry_count: '\u7533\u3057\u8fbc\u307f\u4ef6\u6570'\n         program_staff: '\u767b\u9332\u8077\u54e1'\n         action: '\u30a2\u30af\u30b7\u30e7\u30f3'\n+      show:\n+        title: '\u30d7\u30ed\u30b0\u30e9\u30e0\u8a73\u7d30\u60c5\u5831'\n+        program_tiile: '\u30bf\u30a4\u30c8\u30eb'\n+        program_start: '\u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5\u6642'\n+        program_end: '\u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5\u6642'\n+        program_min_entry: '\u6700\u5c0f\u53c2\u52a0\u8005\u6570'\n+        program_max_entry: '\u6700\u5927\u53c2\u89b3\u8005\u6570'\n+        program_entry_count: '\u7533\u3057\u8fbc\u307f\u4ef6\u6570'\n+        program_staff: '\u767b\u9332\u8077\u54e1'\n       form:\n         show: '\u8a73\u7d30'\n         edit: '\u7de8\u96c6'\n</code></pre>"},{"location":"journal/20170214/#_39","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170214/#41724c0","title":"\u30b3\u30df\u30c3\u30c8: 41724c0","text":""},{"location":"journal/20170214/#_40","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4e00\u89a7\u8868\u793a  #27\n</code></pre>"},{"location":"journal/20170214/#_41","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/stylesheets/components/common/_table.scss</li> <li>M app/controllers/staff/customers_controller.rb</li> <li>A app/controllers/staff/programs_controller.rb</li> <li>A app/presenters/staff/program_presenter.rb</li> <li>A app/views/staff/programs/_program.html.erb</li> <li>A app/views/staff/programs/index.html.erb</li> <li>M app/views/staff/top/dashboard.html.erb</li> <li>M config/locales/views/ja.yml</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170214/#_42","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 41724c0ba2bd6c1ae63e729283e4a823d2f19cfa\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 14 17:38:19 2017 +0900\n\n    \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4e00\u89a7\u8868\u793a  #27\n\ndiff --git a/README.md b/README.md\nindex 00383a1..6d26deb 100644\n--- a/README.md\n+++ b/README.md\n@@ -667,6 +667,8 @@ git push heroku master\n + \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08\n\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\uff08\u524d\u7de8\uff09\n++ \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4e00\u89a7\u8868\u793a \n+\n #### \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6539\u5584\n\n ### \u8907\u96d1\u306a\u30d5\u30a9\u30fc\u30e0\ndiff --git a/app/assets/stylesheets/components/common/_table.scss b/app/assets/stylesheets/components/common/_table.scss\nindex 56ebb47..8523b0f 100644\n--- a/app/assets/stylesheets/components/common/_table.scss\n+++ b/app/assets/stylesheets/components/common/_table.scss\n@@ -60,6 +60,10 @@\n     &amp;--ip {\n       font-family: monospace;\n     }\n+\n+    &amp;--numeric {\n+      text-align: right;\n+    }\n   }\n }\n\ndiff --git a/app/controllers/staff/customers_controller.rb b/app/controllers/staff/customers_controller.rb\nindex 6342b22..9757ef6 100644\n--- a/app/controllers/staff/customers_controller.rb\n+++ b/app/controllers/staff/customers_controller.rb\n@@ -5,7 +5,7 @@ class Staff::CustomersController &lt; Staff::Base\n     else\n       @search_form = Staff::CustomerSearchForm.new(search_params)\n     end\n-    @customers = @search_form.search.page(params[:page])\n+    @programs = @search_form.search.page(params[:page])\n   end\n\n   def show\ndiff --git a/app/controllers/staff/programs_controller.rb b/app/controllers/staff/programs_controller.rb\nnew file mode 100644\nindex 0000000..b9c11ac\n--- /dev/null\n+++ b/app/controllers/staff/programs_controller.rb\n@@ -0,0 +1,5 @@\n+class Staff::ProgramsController &lt; Staff::Base\n+  def index\n+    @programs = Program.order(application_start_time: :desc).page(params[:page])\n+  end\n+end\ndiff --git a/app/presenters/staff/program_presenter.rb b/app/presenters/staff/program_presenter.rb\nnew file mode 100644\nindex 0000000..a46d511\n--- /dev/null\n+++ b/app/presenters/staff/program_presenter.rb\n@@ -0,0 +1,32 @@\n+class Staff::ProgramPresenter &lt; ModelPresenter\n+  delegate :title, :description, to: :object\n+  delegate :number_with_delimiter, to: :view_context\n+\n+  def application_start_time\n+    object.application_start_time.strftime('%Y-%m-%d %H:%M')\n+  end\n+\n+  def application_end_time\n+    object.application_end_time.strftime('%Y-%m-%d %H:%M')\n+  end\n+\n+  def max_number_of_participants\n+    if object.max_number_of_participants\n+      number_with_delimiter(object.max_number_of_participants)\n+    end\n+  end\n+\n+  def min_number_of_participants\n+    if object.min_number_of_participants\n+      number_with_delimiter(object.min_number_of_participants)\n+    end\n+  end\n+\n+  def number_of_applicants\n+    number_with_delimiter(object.applicants.count)\n+  end\n+\n+  def registrant\n+    object.registrant.family_name + ' ' + object.registrant.given_name\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/views/staff/programs/_program.html.erb b/app/views/staff/programs/_program.html.erb\nnew file mode 100644\nindex 0000000..91c2b43\n--- /dev/null\n+++ b/app/views/staff/programs/_program.html.erb\n@@ -0,0 +1,15 @@\n+&lt;% p = Staff::ProgramPresenter.new(program, self) %&gt;\n+&lt;tr class=\"Table__tr\"&gt;\n+  &lt;td class=\"Table__td\"&gt;&lt;%= p.title %&gt;&lt;/td&gt;\n+  &lt;td class=\"Table__td--date\"&gt;&lt;%= p.application_start_time %&gt;&lt;/td&gt;\n+  &lt;td class=\"Table__td--date\"&gt;&lt;%= p.application_end_time %&gt;&lt;/td&gt;\n+  &lt;td class=\"Table__td--numeric\"&gt;&lt;%= p.min_number_of_participants %&gt;&lt;/td&gt;\n+  &lt;td class=\"Table__td--numeric\"&gt;&lt;%= p.max_number_of_participants %&gt;&lt;/td&gt;\n+  &lt;td class=\"Table__td--numeric\"&gt;&lt;%= p.number_of_applicants %&gt;&lt;/td&gt;\n+  &lt;td class=\"Table__td\"&gt;&lt;%= p.registrant %&gt;&lt;/td&gt;\n+  &lt;td class=\"Table__td--action\"&gt;\n+    &lt;%= link_to t('staff.programs.form.show'), [ :staff, program ], class: 'btn btn-default btn-xs' %&gt;\n+    &lt;%= link_to t('staff.programs.form.edit'), [ :edit, :staff, program ], class: 'btn btn-default btn-xs' %&gt;\n+    &lt;%= link_to t('staff.programs.form.delete'), [ :staff, program ], method: :delete, data: { confirm: '\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b\uff1f'}, class: 'btn btn-default btn-xs' %&gt;\n+  &lt;/td&gt;\n+&lt;/tr&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/programs/index.html.erb b/app/views/staff/programs/index.html.erb\nnew file mode 100644\nindex 0000000..6b480a7\n--- /dev/null\n+++ b/app/views/staff/programs/index.html.erb\n@@ -0,0 +1,32 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column Table\"&gt;\n+  &lt;div class=\"Table__links\"&gt;\n+    &lt;%= link_to t('.new'), :new_staff_program, class: 'btn btn-default' %&gt;\n+  &lt;/div&gt;\n+\n+  &lt;%= paginate @programs %&gt;\n+\n+  &lt;table class=\"Table__body Table__body--listing StaffTable__body\"&gt;\n+    &lt;tr class=\"Table__tr\"&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.program_tiile') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.program_start') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.program_end') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.program_min_entry') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.program_max_entry') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.program_entry_count') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.program_staff') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.action') %&gt;&lt;/th&gt;\n+    &lt;/tr&gt;\n+    &lt;%= render partial: 'program', collection: @programs %&gt;\n+  &lt;/table&gt;\n+\n+  &lt;%= paginate @programs %&gt;\n+\n+  &lt;div class=\"Table__links\"&gt;\n+    &lt;%= link_to t('.new'), :new_staff_program, class: 'btn btn-default' %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/top/dashboard.html.erb b/app/views/staff/top/dashboard.html.erb\nindex a7cd915..432d6a8 100644\n--- a/app/views/staff/top/dashboard.html.erb\n+++ b/app/views/staff/top/dashboard.html.erb\n@@ -6,5 +6,6 @@\n &lt;section class=\"Section l-column DashBoard\"&gt;\n   &lt;ul class=\"DashBoard__menu\"&gt;\n     &lt;li&gt;&lt;%= link_to t('.staff_customers'), :staff_customers, class: 'btn btn-default' %&gt;&lt;/li&gt;\n+    &lt;li&gt;&lt;%= link_to t('.staff_programs'), :staff_programs, class: 'btn btn-default' %&gt;&lt;/li&gt;\n   &lt;/ul&gt;\n &lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 07e17d1..e1c3095 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -24,6 +24,7 @@ ja:\n       dashboard:\n         title: '\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9'\n         staff_customers: '\u9867\u5ba2\u7ba1\u7406'\n+        staff_programs: '\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406'\n     customers:\n       index:\n         title: '\u9867\u5ba2\u7ba1\u7406'\n@@ -99,6 +100,22 @@ ja:\n         title: '\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4'\n         submit: '\u5909\u66f4'\n         cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n+    programs:\n+      index:\n+        title: '\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406'\n+        new: '\u65b0\u898f\u767b\u9332'\n+        program_tiile: '\u30bf\u30a4\u30c8\u30eb'\n+        program_start: '\u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5\u6642'\n+        program_end: '\u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5\u6642'\n+        program_min_entry: '\u6700\u5c0f\u53c2\u52a0\u8005\u6570'\n+        program_max_entry: '\u6700\u5927\u53c2\u89b3\u8005\u6570'\n+        program_entry_count: '\u7533\u3057\u8fbc\u307f\u4ef6\u6570'\n+        program_staff: '\u767b\u9332\u8077\u54e1'\n+        action: '\u30a2\u30af\u30b7\u30e7\u30f3'\n+      form:\n+        show: '\u8a73\u7d30'\n+        edit: '\u7de8\u96c6'\n+        delete: '\u524a\u9664'\n   admin:\n     shared:\n       header:\ndiff --git a/config/routes.rb b/config/routes.rb\nindex dd9124e..1fe6a8a 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -21,6 +21,14 @@\n #                                 PATCH  /staff/customers/:id(.:format)                       staff/customers#update {:host=&gt;\"0.0.0.0\"}\n #                                 PUT    /staff/customers/:id(.:format)                       staff/customers#update {:host=&gt;\"0.0.0.0\"}\n #                                 DELETE /staff/customers/:id(.:format)                       staff/customers#destroy {:host=&gt;\"0.0.0.0\"}\n+#                  staff_programs GET    /staff/programs(.:format)                            staff/programs#index {:host=&gt;\"0.0.0.0\"}\n+#                                 POST   /staff/programs(.:format)                            staff/programs#create {:host=&gt;\"0.0.0.0\"}\n+#               new_staff_program GET    /staff/programs/new(.:format)                        staff/programs#new {:host=&gt;\"0.0.0.0\"}\n+#              edit_staff_program GET    /staff/programs/:id/edit(.:format)                   staff/programs#edit {:host=&gt;\"0.0.0.0\"}\n+#                   staff_program GET    /staff/programs/:id(.:format)                        staff/programs#show {:host=&gt;\"0.0.0.0\"}\n+#                                 PATCH  /staff/programs/:id(.:format)                        staff/programs#update {:host=&gt;\"0.0.0.0\"}\n+#                                 PUT    /staff/programs/:id(.:format)                        staff/programs#update {:host=&gt;\"0.0.0.0\"}\n+#                                 DELETE /staff/programs/:id(.:format)                        staff/programs#destroy {:host=&gt;\"0.0.0.0\"}\n #                      admin_root GET    /admin(.:format)                                     admin/top#index {:host=&gt;\"0.0.0.0\"}\n #                     admin_login GET    /admin/login(.:format)                               admin/sessions#new {:host=&gt;\"0.0.0.0\"}\n #                   admin_session DELETE /admin/session(.:format)                             admin/sessions#destroy {:host=&gt;\"0.0.0.0\"}\n@@ -64,6 +72,7 @@ Rails.application.routes.draw do\n       resource :account, only: [:show, :edit, :update]\n       resource :password, only: [:show, :edit, :update]\n       resources :customers\n+      resources :programs\n     end\n   end\n</code></pre>"},{"location":"journal/20170214/#_43","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170214/#73626b5","title":"\u30b3\u30df\u30c3\u30c8: 73626b5","text":""},{"location":"journal/20170214/#_44","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08 #27\n</code></pre>"},{"location":"journal/20170214/#_45","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M db/migrate/20170203051643_create_customers.rb</li> <li>M db/migrate/20170203051654_create_addresses.rb</li> <li>M db/migrate/20170206085929_create_phones.rb</li> <li>M db/migrate/20170207042109_alter_customers1.rb</li> <li>M db/migrate/20170214071032_create_entries.rb</li> </ul>"},{"location":"journal/20170214/#_46","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 73626b572e92229054b5a8f38e709b854fc8e3ca\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 14 17:26:11 2017 +0900\n\n    \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08 #27\n\ndiff --git a/db/migrate/20170203051643_create_customers.rb b/db/migrate/20170203051643_create_customers.rb\nindex df6f8d1..ad396e4 100644\n--- a/db/migrate/20170203051643_create_customers.rb\n+++ b/db/migrate/20170203051643_create_customers.rb\n@@ -1,6 +1,6 @@\n class CreateCustomers &lt; ActiveRecord::Migration[5.0]\n   def change\n-    create_table :customers,comment:'\u9867\u5ba2' do |t|\n+    create_table :programs, comment:'\u9867\u5ba2' do |t|\n       t.string :email, null: false, comment:'\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9'\n       t.string :email_for_index, null: false, comment:'\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9'\n       t.string :family_name, null: false, comment:'\u59d3'\ndiff --git a/db/migrate/20170203051654_create_addresses.rb b/db/migrate/20170203051654_create_addresses.rb\nindex e2da587..5d824f1 100644\n--- a/db/migrate/20170203051654_create_addresses.rb\n+++ b/db/migrate/20170203051654_create_addresses.rb\n@@ -15,6 +15,6 @@ class CreateAddresses &lt; ActiveRecord::Migration[5.0]\n     end\n\n     add_index :addresses, [:type, :customer_id], unique: true\n-    add_foreign_key :addresses, :customers\n+    add_foreign_key :addresses, :programs\n   end\n end\ndiff --git a/db/migrate/20170206085929_create_phones.rb b/db/migrate/20170206085929_create_phones.rb\nindex f9f0714..bb8c001 100644\n--- a/db/migrate/20170206085929_create_phones.rb\n+++ b/db/migrate/20170206085929_create_phones.rb\n@@ -11,7 +11,7 @@ class CreatePhones &lt; ActiveRecord::Migration[5.0]\n     end\n\n     add_index :phones, :number_for_index\n-    add_foreign_key :phones, :customers\n+    add_foreign_key :phones, :programs\n     add_foreign_key :phones, :addresses\n   end\n end\ndiff --git a/db/migrate/20170207042109_alter_customers1.rb b/db/migrate/20170207042109_alter_customers1.rb\nindex 1e0ffe5..49f274b 100644\n--- a/db/migrate/20170207042109_alter_customers1.rb\n+++ b/db/migrate/20170207042109_alter_customers1.rb\n@@ -1,8 +1,8 @@\n class AlterCustomers1 &lt; ActiveRecord::Migration[5.0]\n   def change\n-    add_column :customers, :birth_year, :integer, comment:'\u8a95\u751f\u5e74'\n-    add_column :customers, :birth_month, :integer, comment:'\u8a95\u751f\u6708'\n-    add_column :customers, :birth_mday, :integer, comment:'\u8a95\u751f\u65e5'\n+    add_column :programs, :birth_year, :integer, comment:'\u8a95\u751f\u5e74'\n+    add_column :programs, :birth_month, :integer, comment:'\u8a95\u751f\u6708'\n+    add_column :programs, :birth_mday, :integer, comment:'\u8a95\u751f\u65e5'\n\n     add_index :customers, [ :birth_year, :birth_month, :birth_mday ]\n     add_index :customers, [ :birth_month, :birth_mday ]\ndiff --git a/db/migrate/20170214071032_create_entries.rb b/db/migrate/20170214071032_create_entries.rb\nindex 312fce7..d8c4042 100644\n--- a/db/migrate/20170214071032_create_entries.rb\n+++ b/db/migrate/20170214071032_create_entries.rb\n@@ -11,6 +11,6 @@ class CreateEntries &lt; ActiveRecord::Migration[5.0]\n\n     add_index :entries, [ :program_id, :customer_id ], unique: true\n     add_foreign_key :entries, :programs\n-    add_foreign_key :entries, :customers\n+    add_foreign_key :entries, :programs\n   end\n end\n</code></pre>"},{"location":"journal/20170214/#e0e433b","title":"\u30b3\u30df\u30c3\u30c8: e0e433b","text":""},{"location":"journal/20170214/#_47","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08 #27\n</code></pre>"},{"location":"journal/20170214/#_48","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/admin/staff_members_controller.rb</li> <li>M app/models/customer.rb</li> <li>A app/models/entry.rb</li> <li>A app/models/program.rb</li> <li>M app/models/staff_member.rb</li> <li>M config/locales/controllers/ja.yml</li> <li>A db/migrate/20170214071011_create_programs.rb</li> <li>A db/migrate/20170214071032_create_entries.rb</li> <li>M db/schema.rb</li> <li>A db/seed/development/entries.rb</li> <li>A db/seed/development/programs.rb</li> <li>M db/seeds.rb</li> <li>A spec/factories/entries.rb</li> <li>A spec/factories/programs.rb</li> </ul>"},{"location":"journal/20170214/#_49","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit e0e433b3a86c330a8a66d603ffec5c704d982ff1\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Feb 14 16:58:15 2017 +0900\n\n    \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08 #27\n\ndiff --git a/README.md b/README.md\nindex dd7a38b..00383a1 100644\n--- a/README.md\n+++ b/README.md\n@@ -663,6 +663,9 @@ git push heroku master\n\n ### \u591a\u5bfe\u591a\u306e\u95a2\u9023\u4ed8\u3051\n #### \u591a\u5bfe\u591a\u306e\u95a2\u9023\u4ed8\u3051\n++ \u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\u306e\u6982\u8981\n++ \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08\n+\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\uff08\u524d\u7de8\uff09\n #### \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6539\u5584\n\ndiff --git a/app/controllers/admin/staff_members_controller.rb b/app/controllers/admin/staff_members_controller.rb\nindex 1855b32..e38e3f3 100644\n--- a/app/controllers/admin/staff_members_controller.rb\n+++ b/app/controllers/admin/staff_members_controller.rb\n@@ -40,8 +40,12 @@ class Admin::StaffMembersController &lt; Admin::Base\n\n   def destroy\n     staff_member = StaffMember.find(params[:id])\n-    staff_member.destroy!\n-    flash.notice = t('.flash_success')\n+    if staff_member.deletable?\n+      staff_member.destroy!\n+      flash.notice = t('.flash_success')\n+    else\n+      flash.alert = t('.flash_alert')\n+    end\n     redirect_to :admin_staff_members\n   end\n\ndiff --git a/app/models/customer.rb b/app/models/customer.rb\nindex 68bac7c..6e802b2 100644\n--- a/app/models/customer.rb\n+++ b/app/models/customer.rb\n@@ -44,6 +44,8 @@ class Customer &lt; ApplicationRecord\n   has_one :work_address, autosave: true\n   has_many :phones, dependent: :destroy\n   has_many :personal_phones, -&gt; { where(address_id: nil).order(:id) },class_name: 'Phone', autosave: true\n+  has_many :entries, dependent: :destroy\n+  has_many :programs, through: :entries\n\n   validates :gender, inclusion: { in: %w(male female), allow_blank: true }\n   validates :birthday, date: {\ndiff --git a/app/models/entry.rb b/app/models/entry.rb\nnew file mode 100644\nindex 0000000..8448da6\n--- /dev/null\n+++ b/app/models/entry.rb\n@@ -0,0 +1,23 @@\n+# == Schema Information\n+#\n+# Table name: entries # \u7533\u3057\u8fbc\u307f\n+#\n+#  id          :integer          not null, primary key\n+#  program_id  :integer          not null\n+#  customer_id :integer          not null\n+#  approved    :boolean          default(\"0\"), not null # \u627f\u8a8d\u6e08\u307f\u30d5\u30e9\u30b0\n+#  canceled    :boolean          default(\"0\"), not null # \u53d6\u308a\u6d88\u3057\u30d5\u30e9\u30b0\n+#  created_at  :datetime         not null\n+#  updated_at  :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_entries_on_customer_id                 (customer_id)\n+#  index_entries_on_program_id                  (program_id)\n+#  index_entries_on_program_id_and_customer_id  (program_id,customer_id) UNIQUE\n+#\n+\n+class Entry &lt; ApplicationRecord\n+  belongs_to :program\n+  belongs_to :customer\n+end\ndiff --git a/app/models/program.rb b/app/models/program.rb\nnew file mode 100644\nindex 0000000..96125eb\n--- /dev/null\n+++ b/app/models/program.rb\n@@ -0,0 +1,26 @@\n+# == Schema Information\n+#\n+# Table name: programs # \u30d7\u30ed\u30b0\u30e9\u30e0\n+#\n+#  id                         :integer          not null, primary key\n+#  registrant_id              :integer          not null              # \u767b\u9332\u8077\u54e1\uff08\u5916\u90e8\u30ad\u30fc\uff09\n+#  title                      :string(255)      not null              # \u30bf\u30a4\u30c8\u30eb\n+#  description                :text(65535)                            # \u8aac\u660e\n+#  application_start_time     :datetime         not null              # \u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5\n+#  application_end_time       :datetime         not null              # \u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5\n+#  min_number_of_participants :integer                                # \u6700\u5c0f\u53c2\u89b3\u8005\u6570\n+#  max_number_of_participants :integer                                # \u6700\u5927\u53c2\u89b3\u8005\u6570\n+#  created_at                 :datetime         not null\n+#  updated_at                 :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_programs_on_application_start_time  (application_start_time)\n+#  index_programs_on_registrant_id           (registrant_id)\n+#\n+\n+class Program &lt; ApplicationRecord\n+  has_many :entries, dependent: :destroy\n+  has_many :applicants, through: :entries, source: :customer\n+  belongs_to :registrant, class_name: 'StaffMember'\n+end\ndiff --git a/app/models/staff_member.rb b/app/models/staff_member.rb\nindex a6f0230..51e7549 100644\n--- a/app/models/staff_member.rb\n+++ b/app/models/staff_member.rb\n@@ -28,6 +28,7 @@ class StaffMember &lt; ApplicationRecord\n   include PasswordHolder\n\n   has_many :events, class_name: 'StaffEvent', dependent: :destroy\n+  has_many :programs, foreign_key: 'registrant_id', dependent: :restrict_with_exception\n\n   validates :start_date, presence: true, date: {\n       after_or_equal_to: Date.new(2000, 1, 1),\n@@ -44,4 +45,8 @@ class StaffMember &lt; ApplicationRecord\n     !suspended? &amp;&amp; start_date &lt;= Date.today &amp;&amp;\n         (end_date.nil? || end_date &gt; Date.today)\n   end\n+\n+  def deletable?\n+    programs.empty?\n+  end\n end\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 2faa88c..54638d6 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -42,6 +42,7 @@ ja:\n         flash_success: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n       destroy:\n         flash_success: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'\n+        flash_alert: '\u3053\u306e\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u524a\u9664\u3067\u304d\u307e\u305b\u3093\u3002'\n     allowed_sources:\n       create:\n         flash_notice: '\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002'\ndiff --git a/db/migrate/20170214071011_create_programs.rb b/db/migrate/20170214071011_create_programs.rb\nnew file mode 100644\nindex 0000000..957aa9a\n--- /dev/null\n+++ b/db/migrate/20170214071011_create_programs.rb\n@@ -0,0 +1,19 @@\n+class CreatePrograms &lt; ActiveRecord::Migration[5.0]\n+  def change\n+    create_table :programs, comment: '\u30d7\u30ed\u30b0\u30e9\u30e0' do |t|\n+      t.integer :registrant_id, null: false, comment: '\u767b\u9332\u8077\u54e1\uff08\u5916\u90e8\u30ad\u30fc\uff09'\n+      t.string :title, null: false, comment: '\u30bf\u30a4\u30c8\u30eb'\n+      t.text :description, comment: '\u8aac\u660e'\n+      t.datetime :application_start_time, null: false, comment: '\u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5'\n+      t.datetime :application_end_time, null: false, comment: '\u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5'\n+      t.integer :min_number_of_participants, comment: '\u6700\u5c0f\u53c2\u89b3\u8005\u6570'\n+      t.integer :max_number_of_participants, comment: '\u6700\u5927\u53c2\u89b3\u8005\u6570'\n+\n+      t.timestamps\n+    end\n+\n+    add_index :programs, :registrant_id\n+    add_index :programs, :application_start_time\n+    add_foreign_key :programs, :staff_members, column: 'registrant_id'\n+  end\n+end\ndiff --git a/db/migrate/20170214071032_create_entries.rb b/db/migrate/20170214071032_create_entries.rb\nnew file mode 100644\nindex 0000000..312fce7\n--- /dev/null\n+++ b/db/migrate/20170214071032_create_entries.rb\n@@ -0,0 +1,16 @@\n+class CreateEntries &lt; ActiveRecord::Migration[5.0]\n+  def change\n+    create_table :entries, comment:'\u7533\u3057\u8fbc\u307f' do |t|\n+      t.references :program, null: false\n+      t.references :customer, null: false\n+      t.boolean :approved, null: false, default: false, comment: '\u627f\u8a8d\u6e08\u307f\u30d5\u30e9\u30b0'\n+      t.boolean :canceled, null: false, default: false, comment: '\u53d6\u308a\u6d88\u3057\u30d5\u30e9\u30b0'\n+\n+      t.timestamps\n+    end\n+\n+    add_index :entries, [ :program_id, :customer_id ], unique: true\n+    add_foreign_key :entries, :programs\n+    add_foreign_key :entries, :customers\n+  end\n+end\ndiff --git a/db/schema.rb b/db/schema.rb\nindex e6570d9..ea83be8 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -10,7 +10,7 @@\n #\n # It's strongly recommended that you check this file into your version control system.\n\n-ActiveRecord::Schema.define(version: 20170210034614) do\n+ActiveRecord::Schema.define(version: 20170214071032) do\n\n   create_table \"addresses\", force: :cascade, comment: \"\u4f4f\u6240\" do |t|\n     t.integer  \"customer_id\",                null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n@@ -84,6 +84,18 @@ ActiveRecord::Schema.define(version: 20170210034614) do\n     t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\", using: :btree\n   end\n\n+  create_table \"entries\", force: :cascade, comment: \"\u7533\u3057\u8fbc\u307f\" do |t|\n+    t.integer  \"program_id\",                  null: false\n+    t.integer  \"customer_id\",                 null: false\n+    t.boolean  \"approved\",    default: false, null: false, comment: \"\u627f\u8a8d\u6e08\u307f\u30d5\u30e9\u30b0\"\n+    t.boolean  \"canceled\",    default: false, null: false, comment: \"\u53d6\u308a\u6d88\u3057\u30d5\u30e9\u30b0\"\n+    t.datetime \"created_at\",                  null: false\n+    t.datetime \"updated_at\",                  null: false\n+    t.index [\"customer_id\"], name: \"index_entries_on_customer_id\", using: :btree\n+    t.index [\"program_id\", \"customer_id\"], name: \"index_entries_on_program_id_and_customer_id\", unique: true, using: :btree\n+    t.index [\"program_id\"], name: \"index_entries_on_program_id\", using: :btree\n+  end\n+\n   create_table \"phones\", force: :cascade, comment: \"\u96fb\u8a71\" do |t|\n     t.integer  \"customer_id\",                      null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.integer  \"address_id\",                                    comment: \"\u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n@@ -99,6 +111,20 @@ ActiveRecord::Schema.define(version: 20170210034614) do\n     t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\", using: :btree\n   end\n\n+  create_table \"programs\", force: :cascade, comment: \"\u30d7\u30ed\u30b0\u30e9\u30e0\" do |t|\n+    t.integer  \"registrant_id\",                            null: false, comment: \"\u767b\u9332\u8077\u54e1\uff08\u5916\u90e8\u30ad\u30fc\uff09\"\n+    t.string   \"title\",                                    null: false, comment: \"\u30bf\u30a4\u30c8\u30eb\"\n+    t.text     \"description\",                limit: 65535,              comment: \"\u8aac\u660e\"\n+    t.datetime \"application_start_time\",                   null: false, comment: \"\u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5\"\n+    t.datetime \"application_end_time\",                     null: false, comment: \"\u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5\"\n+    t.integer  \"min_number_of_participants\",                            comment: \"\u6700\u5c0f\u53c2\u89b3\u8005\u6570\"\n+    t.integer  \"max_number_of_participants\",                            comment: \"\u6700\u5927\u53c2\u89b3\u8005\u6570\"\n+    t.datetime \"created_at\",                               null: false\n+    t.datetime \"updated_at\",                               null: false\n+    t.index [\"application_start_time\"], name: \"index_programs_on_application_start_time\", using: :btree\n+    t.index [\"registrant_id\"], name: \"index_programs_on_registrant_id\", using: :btree\n+  end\n+\n   create_table \"staff_events\", force: :cascade, comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n     t.integer  \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",            null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n@@ -126,7 +152,10 @@ ActiveRecord::Schema.define(version: 20170210034614) do\n   end\n\n   add_foreign_key \"addresses\", \"customers\"\n+  add_foreign_key \"entries\", \"customers\"\n+  add_foreign_key \"entries\", \"programs\"\n   add_foreign_key \"phones\", \"addresses\"\n   add_foreign_key \"phones\", \"customers\"\n+  add_foreign_key \"programs\", \"staff_members\", column: \"registrant_id\"\n   add_foreign_key \"staff_events\", \"staff_members\"\n end\ndiff --git a/db/seed/development/entries.rb b/db/seed/development/entries.rb\nnew file mode 100644\nindex 0000000..def0066\n--- /dev/null\n+++ b/db/seed/development/entries.rb\n@@ -0,0 +1,6 @@\n+programs = Program.where(['application_start_time &lt; ?', Time.current])\n+programs.order(id: :desc).limit(3).each_with_index do |p, i|\n+  Customer.order(:id).limit((i + 1) * 5).each do |c|\n+    p.applicants &lt;&lt; c\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/db/seed/development/programs.rb b/db/seed/development/programs.rb\nnew file mode 100644\nindex 0000000..ce3c032\n--- /dev/null\n+++ b/db/seed/development/programs.rb\n@@ -0,0 +1,12 @@\n+staff_members = StaffMember.order(:id)\n+\n+20.times do |n|\n+  t = (18 - n).weeks.ago.midnight\n+  Program.create!(\n+             title: \"\u30d7\u30ed\u30b0\u30e9\u30e0 No.#{n + 1}\",\n+             description: \"\u4f1a\u54e1\u5411\u3051\u7279\u5225\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3059\u3002\" * 10,\n+             application_start_time: t,\n+             application_end_time: t.advance(days: 7),\n+             registrant: staff_members.sample\n+  )\n+end\n\\ No newline at end of file\ndiff --git a/db/seeds.rb b/db/seeds.rb\nindex 4b2cd20..3f0d536 100644\n--- a/db/seeds.rb\n+++ b/db/seeds.rb\n@@ -6,7 +6,7 @@\n\n #   movies = Movie.create([{ name: 'Star Wars' }, { name: 'Lord of the Rings' }])\n #   Character.create(name: 'Luke', movie: movies.first)\n-table_names = %w(staff_members administrators staff_events customers allowed_sources)\n+table_names = %w(staff_members administrators staff_events customers allowed_sources programs entries)\n table_names.each do |table_name|\n   path = Rails.root.join('db','seed',Rails.env, \"#{table_name}.rb\")\n   if File.exist?(path)\ndiff --git a/spec/factories/entries.rb b/spec/factories/entries.rb\nnew file mode 100644\nindex 0000000..00ccc05\n--- /dev/null\n+++ b/spec/factories/entries.rb\n@@ -0,0 +1,24 @@\n+# == Schema Information\n+#\n+# Table name: entries # \u7533\u3057\u8fbc\u307f\n+#\n+#  id          :integer          not null, primary key\n+#  program_id  :integer          not null\n+#  customer_id :integer          not null\n+#  approved    :boolean          default(\"0\"), not null # \u627f\u8a8d\u6e08\u307f\u30d5\u30e9\u30b0\n+#  canceled    :boolean          default(\"0\"), not null # \u53d6\u308a\u6d88\u3057\u30d5\u30e9\u30b0\n+#  created_at  :datetime         not null\n+#  updated_at  :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_entries_on_customer_id                 (customer_id)\n+#  index_entries_on_program_id                  (program_id)\n+#  index_entries_on_program_id_and_customer_id  (program_id,customer_id) UNIQUE\n+#\n+\n+FactoryGirl.define do\n+  factory :entry do\n+    \n+  end\n+end\ndiff --git a/spec/factories/programs.rb b/spec/factories/programs.rb\nnew file mode 100644\nindex 0000000..5819c1c\n--- /dev/null\n+++ b/spec/factories/programs.rb\n@@ -0,0 +1,26 @@\n+# == Schema Information\n+#\n+# Table name: programs # \u30d7\u30ed\u30b0\u30e9\u30e0\n+#\n+#  id                         :integer          not null, primary key\n+#  registrant_id              :integer          not null              # \u767b\u9332\u8077\u54e1\uff08\u5916\u90e8\u30ad\u30fc\uff09\n+#  title                      :string(255)      not null              # \u30bf\u30a4\u30c8\u30eb\n+#  description                :text(65535)                            # \u8aac\u660e\n+#  application_start_time     :datetime         not null              # \u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5\n+#  application_end_time       :datetime         not null              # \u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5\n+#  min_number_of_participants :integer                                # \u6700\u5c0f\u53c2\u89b3\u8005\u6570\n+#  max_number_of_participants :integer                                # \u6700\u5927\u53c2\u89b3\u8005\u6570\n+#  created_at                 :datetime         not null\n+#  updated_at                 :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_programs_on_application_start_time  (application_start_time)\n+#  index_programs_on_registrant_id           (registrant_id)\n+#\n+\n+FactoryGirl.define do\n+  factory :program do\n+    \n+  end\n+end\n</code></pre>"},{"location":"journal/20170214/#_50","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170216/","title":"\u4f5c\u696d\u5c65\u6b74 2017-02-16","text":""},{"location":"journal/20170216/#_1","title":"\u6982\u8981","text":"<p>2017-02-16\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\u306e\u8a2d\u5b9a\u5909\u66f4\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\u306e\u5b9f\u88c5\u306a\u3069\u3092\u884c\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170216/#c951126-ip","title":"\u30b3\u30df\u30c3\u30c8: c951126 - \u672c\u756a\u74b0\u5883\u3067\u306eIP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\u3092\u56de\u907f\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b","text":""},{"location":"journal/20170216/#_2","title":"\u6982\u8981","text":"<p>\u672c\u756a\u74b0\u5883\u306b\u304a\u3044\u3066\u3001\u7279\u5b9a\u306eIP\u30a2\u30c9\u30ec\u30b9\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u672c\u756a\u74b0\u5883\u3067\u3082\u6307\u5b9a\u3055\u308c\u305fIP\u30a2\u30c9\u30ec\u30b9\u304b\u3089\u30b7\u30b9\u30c6\u30e0\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"journal/20170216/#_3","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li><code>allowed_sources</code>\u30c6\u30fc\u30d6\u30eb\u306b\u65b0\u3057\u3044IP\u30a2\u30c9\u30ec\u30b9\u306e\u30a8\u30f3\u30c8\u30ea\u3092\u8ffd\u52a0</li> <li>\u7ba1\u7406\u8005\u3068\u8077\u54e1\u306e\u4e21\u65b9\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u5bfe\u3057\u3066\u3001\u7279\u5b9a\u306eIP\u30a2\u30c9\u30ec\u30b9\uff08118.4.67.44\u304a\u3088\u3073118.4.67.*\uff09\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef</li> </ul>"},{"location":"journal/20170216/#_4","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M db/seed/production/allowed_sources.rb</li> </ul>"},{"location":"journal/20170216/#_5","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c951126b3c0a8e0635f0b08e5ca4772faed4ef9d\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 16 17:13:35 2017 +0900\n\n    \u672c\u756a\u74b0\u5883\u3067\u306eIP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\u3092\u56de\u907f\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\n\ndiff --git a/db/seed/production/allowed_sources.rb b/db/seed/production/allowed_sources.rb\nindex 541d445..a97f5de 100644\n--- a/db/seed/production/allowed_sources.rb\n+++ b/db/seed/production/allowed_sources.rb\n@@ -1,2 +1,4 @@\n AllowedSource.create(namespace: 'admin', ip_address: '127.0.0.1')\n-AllowedSource.create(namespace: 'staff', ip_address: '127.0.0.*')\n\\ No newline at end of file\n+AllowedSource.create(namespace: 'staff', ip_address: '127.0.0.*')\n+AllowedSource.create(namespace: 'admin', ip_address: '118.4.67.44')\n+AllowedSource.create(namespace: 'staff', ip_address: '118.4.67.*')\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170216/#_6","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170216/#c5c1282-","title":"\u30b3\u30df\u30c3\u30c8: c5c1282 - \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\u30df\u30b9\u4fee\u6b63","text":""},{"location":"journal/20170216/#_7","title":"\u6982\u8981","text":"<p>\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u5916\u90e8\u30ad\u30fc\u8a2d\u5b9a\u306b\u95a2\u3059\u308b\u8aa4\u308a\u3092\u4fee\u6b63\u3057\u307e\u3057\u305f\u3002\u30a8\u30f3\u30c8\u30ea\u30fc\u30c6\u30fc\u30d6\u30eb\u304c\u9867\u5ba2\u30c6\u30fc\u30d6\u30eb\u3092\u53c2\u7167\u3059\u308b\u305f\u3081\u306e\u5916\u90e8\u30ad\u30fc\u5236\u7d04\u304c\u6b63\u3057\u304f\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u304b\u3063\u305f\u554f\u984c\u3092\u89e3\u6c7a\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20170216/#_8","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li><code>entries</code>\u30c6\u30fc\u30d6\u30eb\u306e\u5916\u90e8\u30ad\u30fc\u8a2d\u5b9a\u3092\u4fee\u6b63</li> <li>\u8aa4\u3063\u3066\u540c\u3058\u30c6\u30fc\u30d6\u30eb\uff08programs\uff09\u30922\u56de\u53c2\u7167\u3057\u3066\u3044\u305f\u8a2d\u5b9a\u3092\u3001\u6b63\u3057\u304f<code>programs</code>\u3068<code>customers</code>\u3092\u53c2\u7167\u3059\u308b\u3088\u3046\u306b\u5909\u66f4</li> </ul>"},{"location":"journal/20170216/#_9","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M db/migrate/20170214071032_create_entries.rb</li> </ul>"},{"location":"journal/20170216/#_10","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c5c1282842c77ec02c86174c732003581eb53348\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 16 16:54:36 2017 +0900\n\n    \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\u30df\u30b9\u4fee\u6b63\n\ndiff --git a/db/migrate/20170214071032_create_entries.rb b/db/migrate/20170214071032_create_entries.rb\nindex d8c4042..312fce7 100644\n--- a/db/migrate/20170214071032_create_entries.rb\n+++ b/db/migrate/20170214071032_create_entries.rb\n@@ -11,6 +11,6 @@ class CreateEntries &lt; ActiveRecord::Migration[5.0]\n\n    add_index :entries, [ :program_id, :customer_id ], unique: true\n    add_foreign_key :entries, :programs\n-    add_foreign_key :entries, :programs\n+    add_foreign_key :entries, :customers\n   end\n end\n</code></pre>"},{"location":"journal/20170216/#_11","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170216/#6cf0216-","title":"\u30b3\u30df\u30c3\u30c8: 6cf0216 - \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08\u306e\u4fee\u6b63","text":""},{"location":"journal/20170216/#_12","title":"\u6982\u8981","text":"<p>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08\u306b\u95a2\u3059\u308b\u8aa4\u308a\u3092\u4fee\u6b63\u3057\u307e\u3057\u305f\u3002\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u5185\u3067\u9867\u5ba2\u30c6\u30fc\u30d6\u30eb\u304c\u8aa4\u3063\u3066<code>programs</code>\u3068\u3057\u3066\u4f5c\u6210\u3055\u308c\u3066\u3044\u305f\u554f\u984c\u3092\u89e3\u6c7a\u3057\u3001\u95a2\u9023\u3059\u308b\u5916\u90e8\u30ad\u30fc\u53c2\u7167\u3082\u4fee\u6b63\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20170216/#_13","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li>\u9867\u5ba2\u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\u6642\u306e\u30c6\u30fc\u30d6\u30eb\u540d\u3092<code>programs</code>\u304b\u3089<code>customers</code>\u306b\u4fee\u6b63</li> <li>\u4f4f\u6240\u30c6\u30fc\u30d6\u30eb\u3068\u96fb\u8a71\u756a\u53f7\u30c6\u30fc\u30d6\u30eb\u306e\u5916\u90e8\u30ad\u30fc\u53c2\u7167\u5148\u3092<code>programs</code>\u304b\u3089<code>customers</code>\u306b\u4fee\u6b63</li> <li>\u9867\u5ba2\u30c6\u30fc\u30d6\u30eb\u306e\u8a95\u751f\u65e5\u95a2\u9023\u30ab\u30e9\u30e0\u8ffd\u52a0\u5148\u3092<code>programs</code>\u304b\u3089<code>customers</code>\u306b\u4fee\u6b63</li> </ul>"},{"location":"journal/20170216/#_14","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M db/migrate/20170203051643_create_customers.rb</li> <li>M db/migrate/20170203051654_create_addresses.rb</li> <li>M db/migrate/20170206085929_create_phones.rb</li> <li>M db/migrate/20170207042109_alter_customers1.rb</li> </ul>"},{"location":"journal/20170216/#_15","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 6cf021608f059cd1c5ec02bfc744000cf7bf7244\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 16 16:54:25 2017 +0900\n\n    Revert: \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08 #27\n\ndiff --git a/db/migrate/20170203051643_create_customers.rb b/db/migrate/20170203051643_create_customers.rb\nindex ad396e4..1ffb208 100644\n--- a/db/migrate/20170203051643_create_customers.rb\n+++ b/db/migrate/20170203051643_create_customers.rb\n@@ -1,6 +1,6 @@\n class CreateCustomers &lt; ActiveRecord::Migration[5.0]\n   def change\n-    create_table :programs, comment:'\u9867\u5ba2' do |t|\n+    create_table :customers, comment:'\u9867\u5ba2' do |t|\n       t.string :email, null: false, comment:'\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9'\n       t.string :email_for_index, null: false, comment:'\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9'\n       t.string :family_name, null: false, comment:'\u59d3'\ndiff --git a/db/migrate/20170203051654_create_addresses.rb b/db/migrate/20170203051654_create_addresses.rb\nindex 5d824f1..e2da587 100644\n--- a/db/migrate/20170203051654_create_addresses.rb\n+++ b/db/migrate/20170203051654_create_addresses.rb\n@@ -15,6 +15,6 @@ class CreateAddresses &lt; ActiveRecord::Migration[5.0]\n     end\n\n     add_index :addresses, [:type, :customer_id], unique: true\n-    add_foreign_key :addresses, :programs\n+    add_foreign_key :addresses, :customers\n   end\n end\ndiff --git a/db/migrate/20170206085929_create_phones.rb b/db/migrate/20170206085929_create_phones.rb\nindex bb8c001..f9f0714 100644\n--- a/db/migrate/20170206085929_create_phones.rb\n+++ b/db/migrate/20170206085929_create_phones.rb\n@@ -11,7 +11,7 @@ class CreatePhones &lt; ActiveRecord::Migration[5.0]\n     end\n\n     add_index :phones, :number_for_index\n-    add_foreign_key :phones, :programs\n+    add_foreign_key :phones, :customers\n     add_foreign_key :phones, :addresses\n   end\n end\ndiff --git a/db/migrate/20170207042109_alter_customers1.rb b/db/migrate/20170207042109_alter_customers1.rb\nindex 49f274b..1e0ffe5 100644\n--- a/db/migrate/20170207042109_alter_customers1.rb\n+++ b/db/migrate/20170207042109_alter_customers1.rb\n@@ -1,8 +1,8 @@\n class AlterCustomers1 &lt; ActiveRecord::Migration[5.0]\n   def change\n-    add_column :programs, :birth_year, :integer, comment:'\u8a95\u751f\u5e74'\n-    add_column :programs, :birth_month, :integer, comment:'\u8a95\u751f\u6708'\n-    add_column :programs, :birth_mday, :integer, comment:'\u8a95\u751f\u65e5'\n+    add_column :customers, :birth_year, :integer, comment:'\u8a95\u751f\u5e74'\n+    add_column :customers, :birth_month, :integer, comment:'\u8a95\u751f\u6708'\n+    add_column :customers, :birth_mday, :integer, comment:'\u8a95\u751f\u65e5'\n\n     add_index :customers, [ :birth_year, :birth_month, :birth_mday ]\n     add_index :customers, [ :birth_month, :birth_mday ]\n</code></pre>"},{"location":"journal/20170216/#_16","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170216/#aaaa913-","title":"\u30b3\u30df\u30c3\u30c8: aaaa913 - \u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\u306e\u8ffd\u52a0","text":""},{"location":"journal/20170216/#_17","title":"\u6982\u8981","text":"<p>\u8077\u54e1\u5411\u3051\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u306e\u304a\u77e5\u3089\u305b\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\u304c\u8ffd\u52a0\u3055\u308c\u305f\u3053\u3068\u3092\u901a\u77e5\u3059\u308b\u30a8\u30f3\u30c8\u30ea\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30b7\u30b9\u30c6\u30e0\u30e6\u30fc\u30b6\u30fc\u306b\u65b0\u6a5f\u80fd\u306e\u8ffd\u52a0\u3092\u77e5\u3089\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"journal/20170216/#_18","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li>\u8077\u54e1\u5411\u3051\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u306e\u304a\u77e5\u3089\u305b\u30ea\u30b9\u30c8\u306b\u65b0\u3057\u3044\u30a8\u30f3\u30c8\u30ea\u3092\u8ffd\u52a0</li> <li>\u65b0\u3057\u3044\u30a8\u30f3\u30c8\u30ea\u306b\u306f\u65e5\u4ed8\uff082017-2-16\uff09\u3068\u30e1\u30c3\u30bb\u30fc\u30b8\uff08\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\u3092\u8ffd\u52a0\uff09\u3092\u542b\u3080</li> </ul>"},{"location":"journal/20170216/#_19","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170216/#_20","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit aaaa9133ff99415fd9a43cf930adb44df5ca00e4\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 16 16:24:51 2017 +0900\n\n    \u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\n\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex 4adfc9f..877666a 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-2-16\"&gt;2017.2.16&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-2-7\"&gt;2017.2.7&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u9867\u5ba2\u691c\u7d22\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n</code></pre>"},{"location":"journal/20170216/#_21","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170216/#0a6fbdf-","title":"\u30b3\u30df\u30c3\u30c8: 0a6fbdf - \u30d7\u30ed\u30b0\u30e9\u30e0\u524a\u9664\u6a5f\u80fd\u306e\u5b89\u5168\u6027\u5411\u4e0a","text":""},{"location":"journal/20170216/#_22","title":"\u6982\u8981","text":"<p>\u30d7\u30ed\u30b0\u30e9\u30e0\u524a\u9664\u6a5f\u80fd\u306b\u5b89\u5168\u6027\u30c1\u30a7\u30c3\u30af\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\u30a8\u30f3\u30c8\u30ea\u30fc\uff08\u7533\u3057\u8fbc\u307f\uff09\u304c\u5b58\u5728\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u524a\u9664\u3067\u304d\u306a\u3044\u3088\u3046\u306b\u3057\u3001\u95a2\u9023\u30c7\u30fc\u30bf\u306e\u6574\u5408\u6027\u3092\u4fdd\u8b77\u3059\u308b\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20170216/#_23","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li>\u30d7\u30ed\u30b0\u30e9\u30e0\u30e2\u30c7\u30eb\u306b<code>deletable?</code>\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\u3057\u3066\u3001\u30a8\u30f3\u30c8\u30ea\u30fc\u304c\u7a7a\u306e\u5834\u5408\u306e\u307f\u524a\u9664\u53ef\u80fd\u3068\u3059\u308b</li> <li>\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u95a2\u9023\u4ed8\u3051\u3092<code>dependent: :destroy</code>\u304b\u3089<code>dependent: :restrict_with_exception</code>\u306b\u5909\u66f4\u3057\u3001\u95a2\u9023\u30a8\u30f3\u30c8\u30ea\u30fc\u304c\u3042\u308b\u5834\u5408\u306f\u4f8b\u5916\u3092\u767a\u751f\u3055\u305b\u308b</li> <li>\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e<code>destroy</code>\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u4fee\u6b63\u3057\u3001\u524a\u9664\u53ef\u80fd\u306a\u5834\u5408\u306e\u307f\u524a\u9664\u3092\u5b9f\u884c</li> <li>\u524a\u9664\u3067\u304d\u306a\u3044\u5834\u5408\u306e\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8ffd\u52a0</li> </ul>"},{"location":"journal/20170216/#_24","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/controllers/staff/programs_controller.rb</li> <li>M app/models/program.rb</li> <li>M config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170216/#_25","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 0a6fbdf316b0f322bb5dc5466f727c1fbe5b2d49\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 16 16:20:39 2017 +0900\n\n    \u6f14\u7fd2\u554f\u984c #26\n\ndiff --git a/app/controllers/staff/programs_controller.rb b/app/controllers/staff/programs_controller.rb\nindex 715a9c2..072161a 100644\n--- a/app/controllers/staff/programs_controller.rb\n+++ b/app/controllers/staff/programs_controller.rb\n@@ -42,8 +42,11 @@ class Staff::ProgramsController &lt; Staff::Base\n\n   def destroy\n     program = Program.find(params[:id])\n-    program.destroy!\n-    flash.notice = t('.flash_notice')\n+    if program.deletable?\n+      program.destroy!\n+      flash.notice = t('.flash_notice')\n+    end\n+    flash.alert = t('.flash_alert')\n     redirect_to :staff_programs\n   end\n\ndiff --git a/app/models/program.rb b/app/models/program.rb\nindex 5c11919..905887b 100644\n--- a/app/models/program.rb\n+++ b/app/models/program.rb\n@@ -20,7 +20,7 @@\n #\n\n class Program &lt; ApplicationRecord\n-  has_many :entries, dependent: :destroy\n+  has_many :entries, dependent: :restrict_with_exception\n   has_many :applicants, through: :entries, source: :customer\n   belongs_to :registrant, class_name: 'StaffMember'\n\n@@ -70,6 +70,10 @@ class Program &lt; ApplicationRecord\n         .includes(:registrant)\n   }\n\n+  def deletable?\n+    entries.empty?\n+  end\n+\n   private\n   def set_application_start_time\n     return if application_start_date.blank?\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex e78bbd8..f6b50e3 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -40,6 +40,7 @@ ja:\n         flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n       destroy:\n         flash_notice: '\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'\n+        flash_alert: '\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u524a\u9664\u3067\u304d\u307e\u305b\u3093\u3002'\n       entries:\n         flash_notice: '\u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u306e\u30d5\u30e9\u30b0\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n   admin:\n</code></pre>"},{"location":"journal/20170216/#_26","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170216/#ca63ff0-","title":"\u30b3\u30df\u30c3\u30c8: ca63ff0 - \u30d7\u30ed\u30b0\u30e9\u30e0\u53c2\u52a0\u8005\u6570\u306e\u691c\u8a3c\u5f37\u5316","text":""},{"location":"journal/20170216/#_27","title":"\u6982\u8981","text":"<p>\u30d7\u30ed\u30b0\u30e9\u30e0\u30e2\u30c7\u30eb\u306b\u6700\u5927\u53c2\u52a0\u8005\u6570\u306e\u691c\u8a3c\u30eb\u30fc\u30eb\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u4f5c\u6210\u30fb\u66f4\u65b0\u6642\u306b\u6700\u5927\u53c2\u52a0\u8005\u6570\u304c\u9069\u5207\u306a\u7bc4\u56f2\u5185\u306b\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"journal/20170216/#_28","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li><code>max_number_of_participants</code>\uff08\u6700\u5927\u53c2\u52a0\u8005\u6570\uff09\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u6570\u5024\u691c\u8a3c\u3092\u8ffd\u52a0</li> <li>\u6574\u6570\u306e\u307f\u3092\u8a31\u53ef\u3057\u30011\u304b\u30891000\u306e\u7bc4\u56f2\u5185\u3067\u3042\u308b\u3053\u3068\u3092\u691c\u8a3c</li> <li>\u7a7a\u767d\u5024\u306f\u8a31\u5bb9\u3059\u308b\u8a2d\u5b9a</li> </ul>"},{"location":"journal/20170216/#_29","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/models/program.rb</li> </ul>"},{"location":"journal/20170216/#_30","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit ca63ff0d1867498d056378ef8793ea8d08e4a27e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 16 16:13:48 2017 +0900\n\n    \u6f14\u7fd2\u554f\u984c #26\n\ndiff --git a/app/models/program.rb b/app/models/program.rb\nindex dc9c294..5c11919 100644\n--- a/app/models/program.rb\n+++ b/app/models/program.rb\n@@ -52,6 +52,10 @@ class Program &lt; ApplicationRecord\n       only_integer: true, greater_than_or_equal_to: 1,\n       less_than_or_equal_to: 1000, allow_blank: true\n   }\n+  validates :max_number_of_participants, numericality: {\n+      only_integer: true, greater_than_or_equal_to: 1,\n+      less_than_or_equal_to: 1000, allow_blank: true\n+  }\n   validate do\n     if min_number_of_participants &amp;&amp; max_number_of_participants &amp;&amp; min_number_of_participants &gt; max_number_of_participants\n       errors.add(:max_number_of_participants, :less_than_min_number)\n</code></pre>"},{"location":"journal/20170216/#_31","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170216/#f0442a3-","title":"\u30b3\u30df\u30c3\u30c8: f0442a3 - \u591a\u6570\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4e00\u62ec\u66f4\u65b0\u51e6\u7406","text":""},{"location":"journal/20170216/#_32","title":"\u6982\u8981","text":"<p>\u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\uff08\u30a8\u30f3\u30c8\u30ea\u30fc\uff09\u306e\u4e00\u62ec\u66f4\u65b0\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u8077\u54e1\u306f\u8907\u6570\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u627f\u8a8d\u72b6\u614b\u3084\u30ad\u30e3\u30f3\u30bb\u30eb\u72b6\u614b\u3092\u4e00\u5ea6\u306b\u66f4\u65b0\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"journal/20170216/#_33","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li><code>EntriesForm</code>\u30af\u30e9\u30b9\u306b<code>assign_attributes</code>\u3068<code>save</code>\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0</li> <li>\u627f\u8a8d\u30fb\u975e\u627f\u8a8d\u30fb\u30ad\u30e3\u30f3\u30bb\u30eb\u30fb\u975e\u30ad\u30e3\u30f3\u30bb\u30eb\u306e\u5404\u72b6\u614b\u3092\u4e00\u62ec\u3067\u66f4\u65b0\u3059\u308b\u6a5f\u80fd\u3092\u5b9f\u88c5</li> <li>\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3001\u3059\u3079\u3066\u306e\u66f4\u65b0\u3092\u539f\u5b50\u7684\u306b\u51e6\u7406</li> <li><code>ProgramsController</code>\u306b<code>entries</code>\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3057\u3066\u3001\u4e00\u62ec\u66f4\u65b0\u51e6\u7406\u3092\u5b9f\u884c</li> <li>\u66f4\u65b0\u6210\u529f\u6642\u306e\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8ffd\u52a0</li> </ul>"},{"location":"journal/20170216/#_34","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/programs_controller.rb</li> <li>M app/forms/staff/entries_form.rb</li> <li>M config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170216/#_35","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit f0442a37db83f2a3bccfd496bd54305c55ead9a4\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 16 16:08:57 2017 +0900\n\n    \u591a\u6570\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4e00\u62ec\u66f4\u65b0\u51e6\u7406 #26\n\ndiff --git a/README.md b/README.md\nindex 3820bf1..d178a44 100644\n--- a/README.md\n+++ b/README.md\n@@ -690,6 +690,7 @@ git push heroku master\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u6a5f\u80fd\n + \u591a\u6570\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4e00\u62ec\u7de8\u96c6\u3059\u308b\u30d5\u30a9\u30fc\u30e0\n + \u96a0\u3057\u30d5\u30a3\u30fc\u30eb\u30c9\u3068CoffeeScript  \n++ \u591a\u6570\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4e00\u62ec\u66f4\u65b0\u51e6\u7406\n\n ### \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7\u8868\u793a\u30fb\u8a73\u7d30\u8868\u793a\u6a5f\u80fd\uff08\u9867\u5ba2\u5411\u3051)\ndiff --git a/app/controllers/staff/programs_controller.rb b/app/controllers/staff/programs_controller.rb\nindex 7f487e3..715a9c2 100644\n--- a/app/controllers/staff/programs_controller.rb\n+++ b/app/controllers/staff/programs_controller.rb\n@@ -46,4 +46,13 @@ class Staff::ProgramsController &lt; Staff::Base\n     flash.notice = t('.flash_notice')\n     redirect_to :staff_programs\n   end\n+\n+  # PATCH\n+  def entries\n+    entries_form = Staff::EntriesForm.new(Program.find(params[:id]))\n+    entries_form.assign_attributes(params[:form])\n+    entries_form.save\n+    flash.notice = t('.flash_notice')\n+    redirect_to :staff_programs\n+  end\n end\ndiff --git a/app/forms/staff/entries_form.rb b/app/forms/staff/entries_form.rb\nindex 144cd72..cccd26e 100644\n--- a/app/forms/staff/entries_form.rb\n+++ b/app/forms/staff/entries_form.rb\n@@ -10,4 +10,25 @@ class Staff::EntriesForm\n   def initialize(program)\n     @program = program\n   end\n+\n+  def assign_attributes(params)\n+    @approved = params[:approved]\n+    @not_approved = params[:not_approved]\n+    @canceled = params[:canceled]\n+    @not_canceled = params[:not_canceled]\n+  end\n+\n+  def save\n+    approved_entry_ids = @approved.split(':').map(&amp;:to_i)\n+    not_approved_entry_ids = @not_approved.split(':').map(&amp;:to_i)\n+    canceled_entry_ids = @canceled.split(':').map(&amp;:to_i)\n+    not_canceled_entry_ids = @not_canceled.split(':').map(&amp;:to_i)\n+\n+    ActiveRecord::Base.transaction do\n+      @program.entries.where(id: approved_entry_ids).update_all(approved: true)\n+      @program.entries.where(id: not_approved_entry_ids).update_all(approved: false)\n+      @program.entries.where(id: canceled_entry_ids).update_all(canceled: true)\n+      @program.entries.where(id: not_canceled_entry_ids).update_all(canceled: false)\n+    end\n+  end\n end\n\\ No newline at end of file\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 8b067bf..e78bbd8 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -40,6 +40,8 @@ ja:\n         flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n       destroy:\n         flash_notice: '\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'\n+      entries:\n+        flash_notice: '\u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u306e\u30d5\u30e9\u30b0\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n   admin:\n     base:\n       authrize:\n</code></pre>"},{"location":"journal/20170216/#_36","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170216/#5ebcb9e-coffeescript","title":"\u30b3\u30df\u30c3\u30c8: 5ebcb9e - \u96a0\u3057\u30d5\u30a3\u30fc\u30eb\u30c9\u3068CoffeeScript\u306b\u3088\u308b\u30d5\u30a9\u30fc\u30e0\u51e6\u7406","text":""},{"location":"journal/20170216/#_37","title":"\u6982\u8981","text":"<p>\u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\uff08\u30a8\u30f3\u30c8\u30ea\u30fc\uff09\u30d5\u30a9\u30fc\u30e0\u306bJavaScript\u3092\u4f7f\u3063\u305f\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002CoffeeScript\u3092\u4f7f\u7528\u3057\u3066\u3001\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306e\u72b6\u614b\u3092\u96a0\u3057\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u96c6\u7d04\u3057\u3001\u4e00\u62ec\u66f4\u65b0\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20170216/#_38","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li>CoffeeScript\u3067<code>EntriesForm</code>\u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3057\u3001\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306e\u72b6\u614b\u3092\u76e3\u8996</li> <li>\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306b<code>data-entry-id</code>\u5c5e\u6027\u3068CSS\u30af\u30e9\u30b9\u3092\u8ffd\u52a0\u3057\u3066\u8b58\u5225\u53ef\u80fd\u306b</li> <li>\u96a0\u3057\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u4f7f\u7528\u3057\u3066\u3001\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306e\u72b6\u614b\u3092\u30b5\u30fc\u30d0\u30fc\u306b\u9001\u4fe1</li> <li>\u66f4\u65b0\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0\u3057\u3001\u30af\u30ea\u30c3\u30af\u6642\u306b\u30d5\u30a9\u30fc\u30e0\u3092\u9001\u4fe1\u3059\u308b\u51e6\u7406\u3092\u5b9f\u88c5</li> <li>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u66f4\u65b0\u3057\u3066\u3001\u30a8\u30f3\u30c8\u30ea\u30fc\u66f4\u65b0\u7528\u306e\u30d1\u30b9\u3092\u8ffd\u52a0</li> </ul>"},{"location":"journal/20170216/#_39","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/assets/javascripts/staff/entries_form.coffee</li> <li>A app/forms/staff/entries_form.rb</li> <li>M app/views/staff/programs/_entries_form.html.erb</li> <li>M config/locales/views/ja.yml</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170216/#_40","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 5ebcb9eb9d89520d175fa5a1067d73cd60ef3891\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 16 15:40:22 2017 +0900\n\n    \u96a0\u3057\u30d5\u30a3\u30fc\u30eb\u30c9\u3068CoffeeScript #26\n\ndiff --git a/README.md b/README.md\nindex 6b5b55c..3820bf1 100644\n--- a/README.md\n+++ b/README.md\n@@ -689,6 +689,7 @@ git push heroku master\n\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u6a5f\u80fd\n + \u591a\u6570\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4e00\u62ec\u7de8\u96c6\u3059\u308b\u30d5\u30a9\u30fc\u30e0\n++ \u96a0\u3057\u30d5\u30a3\u30fc\u30eb\u30c9\u3068CoffeeScript  \n\n ### \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7\u8868\u793a\u30fb\u8a73\u7d30\u8868\u793a\u6a5f\u80fd\uff08\u9867\u5ba2\u5411\u3051)\ndiff --git a/app/assets/javascripts/staff/entries_form.coffee b/app/assets/javascripts/staff/entries_form.coffee\nnew file mode 100644\nindex 0000000..d3b1978\n--- /dev/null\n+++ b/app/assets/javascripts/staff/entries_form.coffee\n@@ -0,0 +1,33 @@\n+$(document).on \"turbolinks:load\", -&gt;\n+  do -&gt;\n+    new EntriesForm\n+\n+class EntriesForm\n+  constructor: -&gt;\n+    $('.AppEntryForm--button-wrapper button#update-entries-button').on\n+      'click': handleEntriesButton\n+\n+  handleEntriesButton = -&gt;\n+    approved = []\n+    not_approved = []\n+    canceled = []\n+    not_canceled = []\n+\n+    $('.AppEntryForm input.isApproved').each -&gt;\n+      if $(this).prop('checked')\n+        approved.push $(this).data('entry-id')\n+      else\n+        not_approved.push $(this).data('entry-id')\n+    $('#form_approved').val(approved.join(':'))\n+    $('#form_not_approved').val(not_approved.join(':'))\n+\n+    $('.AppEntryForm input.isCanceled').each -&gt;\n+      if $(this).prop('checked')\n+        canceled.push $(this).data('entry-id')\n+      else\n+        not_canceled.push $(this).data('entry-id')\n+    $('#form_canceled').val(canceled.join(':'))\n+    $('#form_not_canceled').val(not_canceled.join(':'))\n+\n+    $('.AppEntryForm--button-wrapper form').submit()\n+\ndiff --git a/app/forms/staff/entries_form.rb b/app/forms/staff/entries_form.rb\nnew file mode 100644\nindex 0000000..144cd72\n--- /dev/null\n+++ b/app/forms/staff/entries_form.rb\n@@ -0,0 +1,13 @@\n+class Staff::EntriesForm\n+  include ActiveModel::Model\n+\n+  attr_accessor :program,\n+                :approved,\n+                :not_approved,\n+                :canceled,\n+                :not_canceled\n+\n+  def initialize(program)\n+    @program = program\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/views/staff/programs/_entries_form.html.erb b/app/views/staff/programs/_entries_form.html.erb\nindex 82dfc46..f59c5ba 100644\n--- a/app/views/staff/programs/_entries_form.html.erb\n+++ b/app/views/staff/programs/_entries_form.html.erb\n@@ -18,16 +18,18 @@\n     &lt;% cols.times do |j| %&gt;\n         &lt;% index = i * cols + j %&gt;\n         &lt;% e = entries[index] || break %&gt;\n-        &lt;%= markup(:div, class: 'AppEntryForm__body') do |m|\n+        &lt;%= markup(:div) do |m|\n           m.th index + 1\n           m.td e.customer.family_name + ' ' + e.customer.given_name\n           m.td do\n-            attributes = { type: 'checkbox' }\n+            attributes = { type: 'checkbox', class: 'isApproved' }\n+            attributes['data-entry-id'] = e.id\n             attributes[:checked] = 'checked' if e.approved?\n             m.input attributes\n           end\n           m.td do\n-            attributes = { type: 'checkbox' }\n+            attributes = { type: 'checkbox', class: 'isCanceled' }\n+            attributes['data-entry-id'] = e.id\n             attributes[:checked] = 'checked' if e.canceled?\n             m.input attributes\n           end\n@@ -35,4 +37,14 @@\n       &lt;% end %&gt;\n   &lt;/tr&gt;\n   &lt;% end %&gt;\n-&lt;/table&gt;\n\\ No newline at end of file\n+&lt;/table&gt;\n+\n+&lt;div class=\"AppEntryForm--button-wrapper\"&gt;\n+  &lt;%= bootstrap_form_for Staff::EntriesForm.new(program: @program), as: 'form', url: [ :entries, :staff, @program ], html: { method: :patch } do |f| %&gt;\n+      &lt;%= f.hidden_field :approved %&gt;\n+      &lt;%= f.hidden_field :not_approved %&gt;\n+      &lt;%= f.hidden_field :canceled %&gt;\n+      &lt;%= f.hidden_field :not_canceled %&gt;\n+      &lt;%= button_tag t('staff.programs.entries_form.update'), type: 'button', id: 'update-entries-button', class: 'btn btn-default' %&gt;\n+  &lt;% end %&gt;\n+&lt;/div&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 00314d3..175ce07 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -144,6 +144,7 @@ ja:\n         name: '\u6c0f\u540d'\n         a: 'A'\n         c: 'C'\n+        update: '\u7533\u3057\u8fbc\u307f\u30d5\u30e9\u30b0\u3092\u66f4\u65b0\u3059\u308b'\n\n   admin:\n     shared:\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 1fe6a8a..8a753ed 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -21,6 +21,7 @@\n #                                 PATCH  /staff/customers/:id(.:format)                       staff/customers#update {:host=&gt;\"0.0.0.0\"}\n #                                 PUT    /staff/customers/:id(.:format)                       staff/customers#update {:host=&gt;\"0.0.0.0\"}\n #                                 DELETE /staff/customers/:id(.:format)                       staff/customers#destroy {:host=&gt;\"0.0.0.0\"}\n+#           entries_staff_program PATCH  /staff/programs/:id/entries(.:format)                staff/programs#entries {:host=&gt;\"0.0.0.0\"}\n #                  staff_programs GET    /staff/programs(.:format)                            staff/programs#index {:host=&gt;\"0.0.0.0\"}\n #                                 POST   /staff/programs(.:format)                            staff/programs#create {:host=&gt;\"0.0.0.0\"}\n #               new_staff_program GET    /staff/programs/new(.:format)                        staff/programs#new {:host=&gt;\"0.0.0.0\"}\n@@ -72,7 +73,9 @@ Rails.application.routes.draw do\n       resource :account, only: [:show, :edit, :update]\n       resource :password, only: [:show, :edit, :update]\n       resources :customers\n-      resources :programs\n+      resources :programs do\n+        patch :entries, on: :member\n+      end\n     end\n   end\n</code></pre>"},{"location":"journal/20170216/#_41","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170216/#1d20b95-","title":"\u30b3\u30df\u30c3\u30c8: 1d20b95 - \u591a\u6570\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4e00\u62ec\u7de8\u96c6\u3059\u308b\u30d5\u30a9\u30fc\u30e0","text":""},{"location":"journal/20170216/#_42","title":"\u6982\u8981","text":"<p>\u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\uff08\u30a8\u30f3\u30c8\u30ea\u30fc\uff09\u306e\u4e00\u62ec\u7de8\u96c6\u7528\u30d5\u30a9\u30fc\u30e0\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u8077\u54e1\u306f\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u8a73\u7d30\u30da\u30fc\u30b8\u3067\u8907\u6570\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u627f\u8a8d\u72b6\u614b\u3084\u30ad\u30e3\u30f3\u30bb\u30eb\u72b6\u614b\u3092\u4e00\u5ea6\u306b\u78ba\u8a8d\u30fb\u7de8\u96c6\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"journal/20170216/#_43","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li>\u30a8\u30f3\u30c8\u30ea\u30fc\u30d5\u30a9\u30fc\u30e0\u7528\u306e\u30b9\u30bf\u30a4\u30eb\u30b7\u30fc\u30c8\uff08<code>_appEntryForm.scss</code>\uff09\u3092\u4f5c\u6210</li> <li>\u30d7\u30ed\u30b0\u30e9\u30e0\u8a73\u7d30\u30da\u30fc\u30b8\u306b\u30a8\u30f3\u30c8\u30ea\u30fc\u30d5\u30a9\u30fc\u30e0\u3092\u8868\u793a\u3059\u308b\u90e8\u5206\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u8ffd\u52a0</li> <li>\u30a8\u30f3\u30c8\u30ea\u30fc\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u306e\u307f\u30d5\u30a9\u30fc\u30e0\u3092\u8868\u793a\u3059\u308b\u3088\u3046\u6761\u4ef6\u5206\u5c90\u3092\u8ffd\u52a0</li> <li>\u8868\u5f62\u5f0f\u3067\u30a8\u30f3\u30c8\u30ea\u30fc\u60c5\u5831\u3092\u8868\u793a\u3057\u3001\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u3067\u627f\u8a8d\u30fb\u30ad\u30e3\u30f3\u30bb\u30eb\u72b6\u614b\u3092\u7de8\u96c6\u53ef\u80fd\u306b</li> <li>\u591a\u8a00\u8a9e\u5bfe\u5fdc\u306e\u305f\u3081\u306e\u7ffb\u8a33\u30ad\u30fc\u3092\u8ffd\u52a0</li> </ul>"},{"location":"journal/20170216/#_44","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/assets/stylesheets/components/_appEntryForm.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>A app/views/staff/programs/_entries_form.html.erb</li> <li>M app/views/staff/programs/show.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170216/#_45","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 1d20b95eb0354914d95efe20d45072492224dcc3\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 16 14:34:14 2017 +0900\n\n    \u591a\u6570\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4e00\u62ec\u7de8\u96c6\u3059\u308b\u30d5\u30a9\u30fc\u30e0 #26\n\ndiff --git a/README.md b/README.md\nindex 9226786..6b5b55c 100644\n--- a/README.md\n+++ b/README.md\n@@ -688,6 +688,7 @@ git push heroku master\n + \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u524a\u9664\n\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u6a5f\u80fd\n++ \u591a\u6570\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4e00\u62ec\u7de8\u96c6\u3059\u308b\u30d5\u30a9\u30fc\u30e0\n\n ### \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7\u8868\u793a\u30fb\u8a73\u7d30\u8868\u793a\u6a5f\u80fd\uff08\u9867\u5ba2\u5411\u3051)\ndiff --git a/app/assets/stylesheets/components/_appEntryForm.scss b/app/assets/stylesheets/components/_appEntryForm.scss\nnew file mode 100644\nindex 0000000..fb61818\n--- /dev/null\n+++ b/app/assets/stylesheets/components/_appEntryForm.scss\n@@ -0,0 +1,31 @@\n+// =====================\n+// ApplicationEntryForm\n+// ---------------------\n+// \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7528\u30a8\u30f3\u30c8\u30ea\u30fc\u30d5\u30a9\u30fc\u30e0\n+// =====================\n+\n+\n+.AppEntryForm {\n+  background-color: $dark_gray;\n+\n+  tr:nth-child(1) {\n+    th {\n+      background-color: $dark_gray;\n+      color: $very_light_gray;\n+      text-align: center;\n+    }\n+  }\n+  tr {\n+    th:nth-child(4n+1) {\n+      padding: $moderate; width: 30px; text-align: right;\n+    }\n+    td { background-color: $very_light_gray }\n+  }\n+  &amp;--button-wrapper {\n+    margin: $wide;\n+    text-align: center;\n+    button { padding: $moderate }\n+  }\n+  &amp;__body {\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 82d9d5f..2b95725 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -75,6 +75,7 @@\n @import \"./components/appForm\";\n @import \"./components/adminAppForm\";\n @import \"./components/staffAppForm\";\n+@import \"./components/appEntryForm\";\n\n // \u30c6\u30fc\u30d6\u30eb\n @import \"./components/adminTable\";\ndiff --git a/app/views/staff/programs/_entries_form.html.erb b/app/views/staff/programs/_entries_form.html.erb\nnew file mode 100644\nindex 0000000..82dfc46\n--- /dev/null\n+++ b/app/views/staff/programs/_entries_form.html.erb\n@@ -0,0 +1,38 @@\n+&lt;%\n+  entries = @program.entries.includes(:customer).order('entries.id')\n+  cols = 4\n+  rows = entries.size / cols\n+  rows += 1 unless entries.size % cols == 0\n+%&gt;\n+&lt;table class=\"Table__body StaffTable__body AppEntryForm\"&gt;\n+  &lt;tr&gt;\n+    &lt;% cols.times do %&gt;\n+        &lt;th&gt;&lt;/th&gt;\n+        &lt;th&gt;&lt;%= t('staff.programs.entries_form.name') %&gt;&lt;/th&gt;\n+        &lt;th&gt;&lt;%= t('staff.programs.entries_form.a') %&gt;&lt;/th&gt;\n+        &lt;th&gt;&lt;%= t('staff.programs.entries_form.c') %&gt;&lt;/th&gt;\n+    &lt;% end %&gt;\n+  &lt;/tr&gt;\n+  &lt;% rows.times do |i| %&gt;\n+  &lt;tr&gt;\n+    &lt;% cols.times do |j| %&gt;\n+        &lt;% index = i * cols + j %&gt;\n+        &lt;% e = entries[index] || break %&gt;\n+        &lt;%= markup(:div, class: 'AppEntryForm__body') do |m|\n+          m.th index + 1\n+          m.td e.customer.family_name + ' ' + e.customer.given_name\n+          m.td do\n+            attributes = { type: 'checkbox' }\n+            attributes[:checked] = 'checked' if e.approved?\n+            m.input attributes\n+          end\n+          m.td do\n+            attributes = { type: 'checkbox' }\n+            attributes[:checked] = 'checked' if e.canceled?\n+            m.input attributes\n+          end\n+        end %&gt;\n+      &lt;% end %&gt;\n+  &lt;/tr&gt;\n+  &lt;% end %&gt;\n+&lt;/table&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/programs/show.html.erb b/app/views/staff/programs/show.html.erb\nindex 8d7ee85..ef453c3 100644\n--- a/app/views/staff/programs/show.html.erb\n+++ b/app/views/staff/programs/show.html.erb\n@@ -16,4 +16,6 @@\n   &lt;/table&gt;\n\n   &lt;div class=\"Table__body--description\"&gt;&lt;%= @program.description %&gt;&lt;/div&gt;\n+\n+  &lt;%= render 'entries_form' if @program.number_of_applicants &gt; 0 %&gt;\n &lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 280d466..00314d3 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -140,6 +140,10 @@ ja:\n         program_end_instruction: '\u958b\u59cb\u65e5\u6642\u304b\u308990\u65e5\u5f8c\u307e\u3067'\n         program_min_entry: '\u6700\u5c0f\u53c2\u52a0\u8005\u6570'\n         program_max_entry: '\u6700\u5927\u53c2\u89b3\u8005\u6570'\n+      entries_form:\n+        name: '\u6c0f\u540d'\n+        a: 'A'\n+        c: 'C'\n\n   admin:\n     shared:\n</code></pre>"},{"location":"journal/20170216/#_46","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170216/#6daf247-","title":"\u30b3\u30df\u30c3\u30c8: 6daf247 - \u30d7\u30ed\u30b0\u30e9\u30e0\u524a\u9664\u6a5f\u80fd\u306e\u5b9f\u88c5","text":""},{"location":"journal/20170216/#_47","title":"\u6982\u8981","text":"<p>\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u524a\u9664\u3059\u308b\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u8077\u54e1\u306f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u524a\u9664\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"journal/20170216/#_48","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li><code>ProgramsController</code>\u306b<code>destroy</code>\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0</li> <li>\u524a\u9664\u51e6\u7406\u5f8c\u306b\u6210\u529f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7\u30da\u30fc\u30b8\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8</li> <li>\u524a\u9664\u6210\u529f\u6642\u306e\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u591a\u8a00\u8a9e\u5bfe\u5fdc\u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u52a0</li> </ul>"},{"location":"journal/20170216/#_49","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/programs_controller.rb</li> <li>M config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170216/#_50","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 6daf247e353033716e7bafcc1733298276255fad\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 16 13:42:10 2017 +0900\n\n    \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u524a\u9664 #26\n\ndiff --git a/README.md b/README.md\nindex fe2195a..9226786 100644\n--- a/README.md\n+++ b/README.md\n@@ -685,6 +685,7 @@ git push heroku master\n + \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u65b0\u898f\u767b\u9332\u30fb\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\n + \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u65b0\u898f\u767b\u9332\u3068\u66f4\u65b0\n + \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n++ \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u524a\u9664\n\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u6a5f\u80fd\n\ndiff --git a/app/controllers/staff/programs_controller.rb b/app/controllers/staff/programs_controller.rb\nindex fb819a3..7f487e3 100644\n--- a/app/controllers/staff/programs_controller.rb\n+++ b/app/controllers/staff/programs_controller.rb\n@@ -39,4 +39,11 @@ class Staff::ProgramsController &lt; Staff::Base\n       render action: 'edit'\n     end\n   end\n+\n+  def destroy\n+    program = Program.find(params[:id])\n+    program.destroy!\n+    flash.notice = t('.flash_notice')\n+    redirect_to :staff_programs\n+  end\n end\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 2c5878e..8b067bf 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -38,6 +38,8 @@ ja:\n       update:\n         flash_notice: '\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n         flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n+      destroy:\n+        flash_notice: '\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'\n   admin:\n     base:\n       authrize:\n</code></pre>"},{"location":"journal/20170216/#_51","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170216/#59015b1-","title":"\u30b3\u30df\u30c3\u30c8: 59015b1 - \u30d7\u30ed\u30b0\u30e9\u30e0\u30e2\u30c7\u30eb\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u5f37\u5316","text":""},{"location":"journal/20170216/#_52","title":"\u6982\u8981","text":"<p>\u30d7\u30ed\u30b0\u30e9\u30e0\u30e2\u30c7\u30eb\u306b\u8a73\u7d30\u306a\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30eb\u30fc\u30eb\u3092\u8ffd\u52a0\u3057\u3001\u30d5\u30a9\u30fc\u30e0\u8868\u793a\u6642\u306e\u30a8\u30e9\u30fc\u8868\u793a\u6a5f\u80fd\u3092\u5f37\u5316\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u4f5c\u6210\u30fb\u66f4\u65b0\u6642\u306e\u30c7\u30fc\u30bf\u691c\u8a3c\u304c\u53b3\u5bc6\u306b\u306a\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u306b\u308f\u304b\u308a\u3084\u3059\u304f\u30a8\u30e9\u30fc\u3092\u8868\u793a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"journal/20170216/#_53","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li>\u30d7\u30ed\u30b0\u30e9\u30e0\u30e2\u30c7\u30eb\u306b\u5404\u7a2e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30eb\u30fc\u30eb\u3092\u8ffd\u52a0</li> <li>\u30bf\u30a4\u30c8\u30eb\u3068\u8aac\u660e\u6587\u306e\u5fc5\u9808\u30c1\u30a7\u30c3\u30af\u3068\u9577\u3055\u5236\u9650</li> <li>\u65e5\u4ed8\u6587\u5b57\u5217\u306e\u59a5\u5f53\u6027\u691c\u8a3c\u7528\u306e\u30ab\u30b9\u30bf\u30e0\u30d0\u30ea\u30c7\u30fc\u30bf\u3092\u4f5c\u6210</li> <li>\u7533\u3057\u8fbc\u307f\u958b\u59cb\u30fb\u7d42\u4e86\u65e5\u6642\u306e\u7bc4\u56f2\u30c1\u30a7\u30c3\u30af</li> <li>\u53c2\u52a0\u8005\u6570\u306e\u6570\u5024\u7bc4\u56f2\u30c1\u30a7\u30c3\u30af</li> <li>\u30d5\u30a9\u30fc\u30e0\u8868\u793a\u6642\u306e\u30a8\u30e9\u30fc\u8868\u793a\u6a5f\u80fd\u3092\u5f37\u5316</li> <li>\u30a8\u30e9\u30fc\u6642\u306e\u30b9\u30bf\u30a4\u30eb\uff08\u8d64\u8272\u306e\u30e9\u30d9\u30eb\u3068\u30d4\u30f3\u30af\u8272\u306e\u80cc\u666f\uff09\u3092\u8ffd\u52a0</li> <li>\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8868\u793a\u6a5f\u80fd\u3092\u8ffd\u52a0</li> <li>\u591a\u8a00\u8a9e\u5bfe\u5fdc\u306e\u305f\u3081\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8ffd\u52a0</li> </ul>"},{"location":"journal/20170216/#_54","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .idea/.generators</li> <li>M README.md</li> <li>M app/assets/stylesheets/components/_appForm.scss</li> <li>A app/lib/date_string_validator.rb</li> <li>M app/models/program.rb</li> <li>M app/presenters/staff/program_form_presenter.rb</li> <li>M config/locales/models/ja.yml</li> </ul>"},{"location":"journal/20170216/#_55","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 59015b15d50845516831a78dcc46852d600304c9\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 16 13:24:59 2017 +0900\n\n    \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3 #26\n\ndiff --git a/.idea/.generators b/.idea/.generators\nindex 1618976..a68204b 100644\n--- a/.idea/.generators\n+++ b/.idea/.generators\n@@ -5,4 +5,4 @@ You are allowed to:\n 2. Remove generators\n 3. Add installed generators\n To add new installed generators automatically delete this file and reload the project.\n---&gt;&lt;GeneratorsGroup&gt;&lt;Generator name=\"active_record:migration\" /&gt;&lt;Generator name=\"active_record:model\" /&gt;&lt;Generator name=\"active_record:observer\" /&gt;&lt;Generator name=\"active_record:session_migration\" /&gt;&lt;Generator name=\"controller\" /&gt;&lt;Generator name=\"erb:controller\" /&gt;&lt;Generator name=\"erb:mailer\" /&gt;&lt;Generator name=\"erb:scaffold\" /&gt;&lt;Generator name=\"generator\" /&gt;&lt;Generator name=\"helper\" /&gt;&lt;Generator name=\"integration_test\" /&gt;&lt;Generator name=\"mailer\" /&gt;&lt;Generator name=\"metal\" /&gt;&lt;Generator name=\"migration\" /&gt;&lt;Generator name=\"model\" /&gt;&lt;Generator name=\"model_subclass\" /&gt;&lt;Generator name=\"observer\" /&gt;&lt;Generator name=\"performance_test\" /&gt;&lt;Generator name=\"plugin\" /&gt;&lt;Generator name=\"resource\" /&gt;&lt;Generator name=\"scaffold\" /&gt;&lt;Generator name=\"scaffold_controller\" /&gt;&lt;Generator name=\"session_migration\" /&gt;&lt;Generator name=\"stylesheets\" /&gt;&lt;Generator name=\"test_unit:controller\" /&gt;&lt;Generator name=\"test_unit:helper\" /&gt;&lt;Generator name=\"test_unit:integration\" /&gt;&lt;Generator name=\"test_unit:mailer\" /&gt;&lt;Generator name=\"test_unit:model\" /&gt;&lt;Generator name=\"test_unit:observer\" /&gt;&lt;Generator name=\"test_unit:performance\" /&gt;&lt;Generator name=\"test_unit:plugin\" /&gt;&lt;Generator name=\"test_unit:scaffold\" /&gt;&lt;/GeneratorsGroup&gt;&lt;/Settings&gt;\n+--&gt;&lt;GeneratorsGroup&gt;&lt;Generator name=\"annotate:install\" /&gt;&lt;Generator name=\"assets\" /&gt;&lt;Generator name=\"channel\" /&gt;&lt;Generator name=\"coffee:assets\" /&gt;&lt;Generator name=\"controller\" /&gt;&lt;Generator name=\"erd:install\" /&gt;&lt;Generator name=\"factory_girl:model\" /&gt;&lt;Generator name=\"generator\" /&gt;&lt;Generator name=\"helper\" /&gt;&lt;Generator name=\"i18n\" /&gt;&lt;Generator name=\"i18n_locale\" /&gt;&lt;Generator name=\"i18n_translation\" /&gt;&lt;Generator name=\"integration_test\" /&gt;&lt;Generator name=\"jbuilder\" /&gt;&lt;Generator name=\"job\" /&gt;&lt;Generator name=\"js:assets\" /&gt;&lt;Generator name=\"kaminari:config\" /&gt;&lt;Generator name=\"kaminari:views\" /&gt;&lt;Generator name=\"mailer\" /&gt;&lt;Generator name=\"migration\" /&gt;&lt;Generator name=\"model\" /&gt;&lt;Generator name=\"rack:dev-mark:install\" /&gt;&lt;Generator name=\"resource\" /&gt;&lt;Generator name=\"rspec:controller\" /&gt;&lt;Generator name=\"rspec:feature\" /&gt;&lt;Generator name=\"rspec:helper\" /&gt;&lt;Generator name=\"rspec:install\" /&gt;&lt;Generator name=\"rspec:integration\" /&gt;&lt;Generator name=\"rspec:job\" /&gt;&lt;Generator name=\"rspec:mailer\" /&gt;&lt;Generator name=\"rspec:model\" /&gt;&lt;Generator name=\"rspec:observer\" /&gt;&lt;Generator name=\"rspec:request\" /&gt;&lt;Generator name=\"rspec:scaffold\" /&gt;&lt;Generator name=\"rspec:view\" /&gt;&lt;Generator name=\"scaffold\" /&gt;&lt;Generator name=\"scaffold_controller\" /&gt;&lt;Generator name=\"task\" /&gt;&lt;Generator name=\"test_unit:controller\" /&gt;&lt;Generator name=\"test_unit:generator\" /&gt;&lt;Generator name=\"test_unit:helper\" /&gt;&lt;Generator name=\"test_unit:integration\" /&gt;&lt;Generator name=\"test_unit:job\" /&gt;&lt;Generator name=\"test_unit:mailer\" /&gt;&lt;Generator name=\"test_unit:model\" /&gt;&lt;Generator name=\"test_unit:plugin\" /&gt;&lt;Generator name=\"test_unit:scaffold\" /&gt;&lt;/GeneratorsGroup&gt;&lt;/Settings&gt;\ndiff --git a/README.md b/README.md\nindex 7e53182..fe2195a 100644\n--- a/README.md\n+++ b/README.md\n@@ -684,6 +684,7 @@ git push heroku master\n + \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u30d5\u30a9\u30fc\u30e0\u306e\u4ed5\u69d8\n + \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u65b0\u898f\u767b\u9332\u30fb\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\n + \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u65b0\u898f\u767b\u9332\u3068\u66f4\u65b0\n++ \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u6a5f\u80fd\n\ndiff --git a/app/assets/stylesheets/components/_appForm.scss b/app/assets/stylesheets/components/_appForm.scss\nindex 591163e..420d4b5 100644\n--- a/app/assets/stylesheets/components/_appForm.scss\n+++ b/app/assets/stylesheets/components/_appForm.scss\n@@ -56,4 +56,8 @@\n       label { margin-right: $moderate }\n     }\n   }\n+  &amp;--with-errors {\n+    label { color: $red }\n+    input, select { background-color: $pink }\n+  }\n }\n\\ No newline at end of file\ndiff --git a/app/lib/date_string_validator.rb b/app/lib/date_string_validator.rb\nnew file mode 100644\nindex 0000000..fc89ae8\n--- /dev/null\n+++ b/app/lib/date_string_validator.rb\n@@ -0,0 +1,7 @@\n+class DateStringValidator &lt; ActiveModel::EachValidator\n+  def validate_each(record, attribute, value)\n+    Date.parse(value) if value.present?\n+  rescue ArgumentError\n+    record.errors.add(attribute, :invalid)\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/models/program.rb b/app/models/program.rb\nindex bd1ed70..dc9c294 100644\n--- a/app/models/program.rb\n+++ b/app/models/program.rb\n@@ -34,6 +34,30 @@ class Program &lt; ApplicationRecord\n   before_validation :set_application_start_time\n   before_validation :set_application_end_time\n\n+  validates :title, presence: true, length: { maximum: 32 }\n+  validates :description, presence: true, length: { maximum: 800 }\n+  validates :application_start_date, :application_end_date, date_string: true\n+  validates :application_start_time, date: {\n+      after_or_equal_to: Time.zone.local(2000, 1, 1),\n+      before: -&gt; (obj) { 1.year.from_now },\n+      allow_blank: true\n+  }\n+  validates :application_end_time, date: {\n+      after: :application_start_time,\n+      before: -&gt; (obj) { obj.application_start_time.advance(days: 90) },\n+      allow_blank: true,\n+      if: -&gt; (obj) { obj.application_start_time }\n+  }\n+  validates :min_number_of_participants, numericality: {\n+      only_integer: true, greater_than_or_equal_to: 1,\n+      less_than_or_equal_to: 1000, allow_blank: true\n+  }\n+  validate do\n+    if min_number_of_participants &amp;&amp; max_number_of_participants &amp;&amp; min_number_of_participants &gt; max_number_of_participants\n+      errors.add(:max_number_of_participants, :less_than_min_number)\n+    end\n+  end\n+\n   scope :listing, -&gt; {\n     joins('LEFT JOIN entries ON programs.id = entries.program_id')\n         .select('programs.*, COUNT(entries.id) AS number_of_applicants')\ndiff --git a/app/presenters/staff/program_form_presenter.rb b/app/presenters/staff/program_form_presenter.rb\nindex 491dd3e..1dd3ea4 100644\n--- a/app/presenters/staff/program_form_presenter.rb\n+++ b/app/presenters/staff/program_form_presenter.rb\n@@ -4,12 +4,18 @@ class Staff::ProgramFormPresenter &lt; FormPresenter\n       m &lt;&lt; decorated_label(:description, I18n.t('staff.programs.form.show'), required: true)\n       m &lt;&lt; text_area(:description, hide_label: true, row: 6, style: 'width: 454px')\n       m.span '(800\u6587\u5b57\u4ee5\u5185)', class: 'instruction', style: 'float: right'\n+      m &lt;&lt; error_message_for(:description)\n     end\n   end\n\n   def datetime_field_block(name, label_text, options = {})\n     instruction = options.delete(:instruction)\n-    markup(:div, class: 'AppForm__input-block') do |m|\n+    if object.errors.include?(\"#{name}_time\".to_sym)\n+      html_class = 'AppForm__input-block AppForm--with-errors'\n+    else\n+      html_class = 'AppForm__input-block'\n+    end\n+    markup(:div, class: 'AppForm__input-block html_class') do |m|\n       m &lt;&lt; decorated_label(\"#{name}_date\", label_text, options)\n       if options[:class].kind_of?(String)\n         classes = options[:class].strip.split + [ 'datetimepicker' ]\n@@ -22,6 +28,8 @@ class Staff::ProgramFormPresenter &lt; FormPresenter\n       m &lt;&lt; ':'\n       m &lt;&lt; form_builder.select(\"#{name}_minute\", ('00'..'59').to_a, skip_label: true)\n       m.span \"(#{instruction})\", class: 'instruction' if instruction\n+      m &lt;&lt; error_message_for(\"#{name}_time\".to_sym)\n+      m &lt;&lt; error_message_for(\"#{name}_date\".to_sym)\n     end\n   end\n end\n\\ No newline at end of file\ndiff --git a/config/locales/models/ja.yml b/config/locales/models/ja.yml\nindex b52d1db..95f4c93 100644\n--- a/config/locales/models/ja.yml\n+++ b/config/locales/models/ja.yml\n@@ -6,6 +6,7 @@ ja:\n       staff_event: \u8077\u54e1\u30a4\u30d9\u30f3\u30c8\n       customer: \u9867\u5ba2\n       address: \u4f4f\u6240\n+      program: \u30d7\u30ed\u30b0\u30e9\u30e0\n\n     attributes:\n       administrator:\n@@ -87,6 +88,19 @@ ja:\n         primary: \u512a\u5148\n         last_four_digits: \u96fb\u8a71\u756a\u53f7\u4e0b\uff14\u6841\n\n+      program:\n+        title: \u30bf\u30a4\u30c8\u30eb\n+        description: \u8a73\u7d30\n+        application_start_time: \u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5\u6642\n+        application_start_date: \u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5\n+        application_end_time: \u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5\u6642\n+        application_end_date: \u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5\n+        min_number_of_participants: \u6700\u5c0f\u53c2\u52a0\u8005\u6570\n+        max_number_of_participants: \u6700\u5927\u53c2\u52a0\u8005\u6570\n+        applicants: \u5fdc\u52df\u8005\n+        entries: \u30a8\u30f3\u30c8\u30ea\u30fc\n+        registrant: \u767b\u9332\u8005\n+\n     errors:\n       models:\n         staff_member:\n@@ -101,7 +115,6 @@ ja:\n                 before: \u306b\u306f1\u5e74\u5f8c\u306e\u65e5\u4ed8\u3088\u308a\u524d\u306e\u65e5\u4ed8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n                 after: \u306b\u306f\u958b\u59cb\u65e5\u3088\u308a\u5f8c\u306e\u65e5\u4ed8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n                 after: \u306b\u306f\u958b\u59cb\u65e5\u3088\u308a\u5f8c\u306e\u65e5\u4ed8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n-\n         customer:\n           attributes:\n             email:\n@@ -109,6 +122,17 @@ ja:\n               birthday:\n                 after_or_equal_to: \u306b\u306f1900\u5e741\u67081\u65e5\u4ee5\u964d\u306e\u65e5\u6642\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n                 before: \u304c\u672a\u6765\u306e\u65e5\u4ed8\u3067\u3059\u3002\n+        program:\n+          attributes:\n+            applicatin_start_time:\n+              after_or_equal_to: \u306b\u306f2000\u5e741\u67081\u65e5\u4ee5\u964d\u306e\u65e5\u4ed8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n+              before: \u306b\u306f\u73fe\u5728\u304b\u30891\u5e74\u5f8c\u307e\u3067\u306e\u65e5\u6642\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n+            application_end_time:\n+              after_or_equl_to: \u306b\u306f2000\u5e741\u67081\u65e5\u4ee5\u964d\u306e\u65e5\u4ed8\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n+              before: \u306b\u306f\u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5\u6642\u304b\u308990\u65e5\u4ee5\u5185\u306e\u65e5\u6642\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n+              after: \u306b\u306f\u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5\u6642\u3088\u308a\u3082\u5f8c\u306e\u65e5\u6642\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n+            max_number_of_participants:\n+              less_than_min_number: \u306b\u306f\u6700\u5c0f\u53c2\u52a0\u8005\u4ee5\u4e0a\u306e\u6570\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n   activemodel:\n     models:\n</code></pre>"},{"location":"journal/20170216/#_56","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170216/#2831d4b-","title":"\u30b3\u30df\u30c3\u30c8: 2831d4b - \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u65b0\u898f\u767b\u9332\u3068\u66f4\u65b0\u6a5f\u80fd","text":""},{"location":"journal/20170216/#_57","title":"\u6982\u8981","text":"<p>\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u65b0\u898f\u767b\u9332\u3068\u66f4\u65b0\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u8077\u54e1\u306f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f5c\u6210\u30fb\u7de8\u96c6\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"journal/20170216/#_58","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li><code>ProgramsController</code>\u306b<code>create</code>\u3068<code>update</code>\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0</li> <li><code>ProgramForm</code>\u30af\u30e9\u30b9\u306b<code>assign_attributes</code>\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\u3057\u3066\u30d5\u30a9\u30fc\u30e0\u30c7\u30fc\u30bf\u306e\u5272\u308a\u5f53\u3066\u51e6\u7406\u3092\u5b9f\u88c5</li> <li>\u30d7\u30ed\u30b0\u30e9\u30e0\u30e2\u30c7\u30eb\u306b\u65e5\u6642\u5909\u63db\u7528\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0</li> <li><code>set_application_start_time</code>: \u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5\u6642\u3092\u8a2d\u5b9a</li> <li><code>set_application_end_time</code>: \u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5\u6642\u3092\u8a2d\u5b9a</li> <li>\u6210\u529f\u30fb\u5931\u6557\u6642\u306e\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u591a\u8a00\u8a9e\u5bfe\u5fdc\u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u52a0</li> </ul>"},{"location":"journal/20170216/#_59","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/programs_controller.rb</li> <li>M app/forms/staff/program_form.rb</li> <li>M app/models/program.rb</li> <li>M config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170216/#_60","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 2831d4b78dc2208e4f4b7d222d5612252bb97ccd\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Feb 16 12:05:44 2017 +0900\n\n    \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u65b0\u898f\u767b\u9332\u3068\u66f4\u65b0 #26\n\ndiff --git a/README.md b/README.md\nindex 5100173..7e53182 100644\n--- a/README.md\n+++ b/README.md\n@@ -683,6 +683,7 @@ git push heroku master\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\uff08\u5f8c\u7de8\uff09\n + \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u65b0\u898f\u767b\u9332\u30fb\u66f4\u65b0\u30d5\u30a9\u30fc\u30e0\u306e\u4ed5\u69d8\n + \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u65b0\u898f\u767b\u9332\u30fb\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\n++ \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u65b0\u898f\u767b\u9332\u3068\u66f4\u65b0\n\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u6a5f\u80fd\n\ndiff --git a/app/controllers/staff/programs_controller.rb b/app/controllers/staff/programs_controller.rb\nindex 980bf48..fb819a3 100644\n--- a/app/controllers/staff/programs_controller.rb\n+++ b/app/controllers/staff/programs_controller.rb\n@@ -14,4 +14,29 @@ class Staff::ProgramsController &lt; Staff::Base\n   def edit\n     @program_form = Staff::ProgramForm.new(Program.find(params[:id]))\n   end\n+\n+  def create\n+    @program_form = Staff::ProgramForm.new\n+    @program_form.assign_attributes(params[:form])\n+    @program_form.program.registrant = current_staff_member\n+    if @program_form.save\n+      flash.notice = t('.flash_notice')\n+      redirect_to action: 'index'\n+    else\n+      flash.now.alert = t('.flash_alert')\n+      render action: 'new'\n+    end\n+  end\n+\n+  def update\n+    @program_form = Staff::ProgramForm.new(Program.find(params[:id]))\n+    @program_form.assign_attributes(params[:form])\n+    if @program_form.save\n+      flash.notice = t('.flash_notice')\n+      redirect_to action: 'index'\n+    else\n+      flash.now.alert = t('.flash_alert')\n+      render action: 'edit'\n+    end\n+  end\n end\ndiff --git a/app/forms/staff/program_form.rb b/app/forms/staff/program_form.rb\nindex ef147e2..55ef681 100644\n--- a/app/forms/staff/program_form.rb\n+++ b/app/forms/staff/program_form.rb\n@@ -25,4 +25,25 @@ class Staff::ProgramForm\n       @program.application_end_minute = '00'\n     end\n   end\n+\n+  def assign_attributes(params = {})\n+    @params = params\n+    program.assign_attributes(program_params)\n+  end\n+\n+  private\n+  def program_params\n+    @params.require(:program).permit(\n+                                 :title,\n+                                 :description,\n+                                 :application_start_date,\n+                                 :application_start_hour,\n+                                 :application_start_minute,\n+                                 :application_end_date,\n+                                 :application_end_hour,\n+                                 :application_end_minute,\n+                                 :min_number_of_participants,\n+                                 :max_number_of_participants\n+    )\n+  end\n end\n\\ No newline at end of file\ndiff --git a/app/models/program.rb b/app/models/program.rb\nindex 46c9dd1..bd1ed70 100644\n--- a/app/models/program.rb\n+++ b/app/models/program.rb\n@@ -31,6 +31,9 @@ class Program &lt; ApplicationRecord\n                 :application_end_hour,\n                 :application_end_minute\n\n+  before_validation :set_application_start_time\n+  before_validation :set_application_end_time\n+\n   scope :listing, -&gt; {\n     joins('LEFT JOIN entries ON programs.id = entries.program_id')\n         .select('programs.*, COUNT(entries.id) AS number_of_applicants')\n@@ -38,4 +41,31 @@ class Program &lt; ApplicationRecord\n         .order(application_start_time: :desc)\n         .includes(:registrant)\n   }\n+\n+  private\n+  def set_application_start_time\n+    return if application_start_date.blank?\n+    Date.parse(application_start_date)\n+    if t = Time.zone.parse(application_start_date)\n+      self.application_start_time = t.advance(\n+                                         hours: application_start_hour.to_i,\n+                                         minutes: application_start_minute.to_i\n+      )\n+    end\n+  rescue ArgumentError\n+    self.application_start_time = nil\n+  end\n+\n+  def set_application_end_time\n+    return if application_end_date.blank?\n+    Date.parse(application_end_date)\n+    if t = Time.zone.parse(application_end_date)\n+      self.application_end_time = t.advance(\n+          hours: application_end_hour.to_i,\n+          minutes: application_end_minute.to_i\n+      )\n+    end\n+  rescue ArgumentError\n+    self.application_end_time = nil\n+  end\n end\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 54638d6..2c5878e 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -31,6 +31,13 @@ ja:\n         flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n       destroy:\n         flash_notice: '\u9867\u5ba2\u3092\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'\n+    programs:\n+      create:\n+        flash_notice: '\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u767b\u9332\u3057\u307e\u3057\u305f\u3002'\n+        flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n+      update:\n+        flash_notice: '\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n+        flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n   admin:\n     base:\n       authrize:\n</code></pre>"},{"location":"journal/20170216/#_61","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170220/","title":"\u4f5c\u696d\u5c65\u6b74 2017-02-20","text":""},{"location":"journal/20170220/#_1","title":"\u6982\u8981","text":"<p>2017-02-20\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001Jenkins\u306eBuildPipeline\u306b\u5bfe\u5fdc\u3059\u308b\u305f\u3081\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u8ffd\u52a0\u3092\u884c\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170220/#5bf3ad4-jenkins-buildpipeline","title":"\u30b3\u30df\u30c3\u30c8: 5bf3ad4 - Jenkins BuildPipeline\u5bfe\u5fdc","text":""},{"location":"journal/20170220/#_2","title":"\u6982\u8981","text":"<p>\u7d99\u7d9a\u7684\u30a4\u30f3\u30c6\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\uff08CI\uff09\u74b0\u5883\u3092\u6574\u5099\u3059\u308b\u305f\u3081\u3001Jenkins\u306e\u30d3\u30eb\u30c9\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u8a2d\u5b9a\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30b3\u30fc\u30c9\u306e\u5909\u66f4\u304c\u81ea\u52d5\u7684\u306b\u30c6\u30b9\u30c8\u3055\u308c\u3001\u54c1\u8cea\u3092\u7dad\u6301\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"journal/20170220/#_3","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li>Jenkinsfile\u3092\u65b0\u898f\u4f5c\u6210\u3057\u3001\u30d3\u30eb\u30c9\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306e\u8a2d\u5b9a\u3092\u5b9a\u7fa9</li> <li>\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306f\u4ee5\u4e0b\u306e\u30b9\u30c6\u30fc\u30b8\u3067\u69cb\u6210:</li> <li>Checkout: GitHub\u304b\u3089\u30b3\u30fc\u30c9\u3092\u53d6\u5f97</li> <li>Prepare: Ruby\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\uff08rbenv\u4f7f\u7528\u3001Ruby 2.4.0\uff09</li> <li>Prepare test: \u4f9d\u5b58\u95a2\u4fc2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u30c6\u30b9\u30c8DB\u306e\u6e96\u5099</li> <li>Unit test: \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3001\u30e2\u30c7\u30eb\u3001\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3001\u30b5\u30fc\u30d3\u30b9\u306e\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u5b9f\u884c</li> <li>Integration test: \u7d71\u5408\u30c6\u30b9\u30c8\uff08\u6a5f\u80fd\u30c6\u30b9\u30c8\uff09\u306e\u5b9f\u884c</li> </ul>"},{"location":"journal/20170220/#_4","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A Jenkinsfile (\u65b0\u898f\u8ffd\u52a0)</li> </ul>"},{"location":"journal/20170220/#_5","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 5bf3ad49e159213652ad85b884564aa7d38a3588\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Feb 20 18:19:42 2017 +0900\n\n    Jenkins BuildPipeline\u5bfe\u5fdc\n\ndiff --git a/Jenkinsfile b/Jenkinsfile\nnew file mode 100644\nindex 0000000..098e206\n--- /dev/null\n+++ b/Jenkinsfile\n@@ -0,0 +1,24 @@\n+node('master') {\n+\n+  stage 'Checkout'\n+  git url: 'https://github.com/k2works/baukis-kai.git'\n+\n+  stage 'Prepare'\n+  env.PATH = '/usr/local/bin:$HOME/.rbenv/shims:$HOME/.rbenv/bin:$PATH'\n+  sh 'eval \"$(rbenv init -)\"'\n+  sh 'rbenv local 2.4.0'\n+\n+  stage 'Prepare test'\n+  sh \"bundle install\"\n+  sh \"bundle exec rake db:migrate\"\n+  sh \"bundle exec rake db:test:prepare\"\n+\n+  stage \"Unit test\"\n+  sh \"bundle exec rspec spec/controllers/*_spec.rb\"\n+  sh \"bundle exec rspec spec/models/*_spec.rb\"\n+  sh \"bundle exec rspec spec/routing/*_spec.rb\"\n+  sh \"bundle exec rspec spec/services/*_spec.rb\"\n+\n+  stage \"Integration test\"\n+  sh \"bundle exec rspec spec/features/*_spec.rb\"\n+}\n</code></pre>"},{"location":"journal/20170220/#cicd","title":"CI/CD\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306e\u69cb\u9020","text":""},{"location":"journal/20170317/","title":"\u4f5c\u696d\u5c65\u6b74 2017-03-17","text":""},{"location":"journal/20170317/#_1","title":"\u6982\u8981","text":"<p>2017-03-17\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u30d5\u30a9\u30fc\u30e0\u306e\u78ba\u8a8d\u753b\u9762\u6a5f\u80fd\u306e\u5b9f\u88c5\u3068\u3001\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6\u6a5f\u80fd\u306e\u30c6\u30b9\u30c8\u8ffd\u52a0\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u3053\u308c\u3089\u306e\u5909\u66f4\u306f\u30e6\u30fc\u30b6\u30fc\u4f53\u9a13\u306e\u5411\u4e0a\u3068\u30b3\u30fc\u30c9\u54c1\u8cea\u306e\u78ba\u4fdd\u3092\u76ee\u7684\u3068\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20170317/#22c4d8e-24","title":"\u30b3\u30df\u30c3\u30c8: 22c4d8e - \u30d5\u30a9\u30fc\u30e0\u306e\u78ba\u8a8d\u753b\u9762 #24","text":""},{"location":"journal/20170317/#_2","title":"\u6982\u8981","text":"<p>\u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u6539\u5584\u3059\u308b\u305f\u3081\u3001\u30d5\u30a9\u30fc\u30e0\u306e\u78ba\u8a8d\u753b\u9762\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u306f\u5165\u529b\u5185\u5bb9\u3092\u78ba\u8a8d\u3057\u3066\u304b\u3089\u9001\u4fe1\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u3001\u5165\u529b\u30df\u30b9\u3092\u6e1b\u3089\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"journal/20170317/#_3","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li>\u9867\u5ba2\u5411\u3051\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u300c\u9867\u5ba2\u81ea\u8eab\u306b\u3088\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\u8ffd\u52a0\u300d\u306e\u304a\u77e5\u3089\u305b\u3092\u8ffd\u52a0</li> <li>\u8077\u54e1\u5411\u3051\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u306b\u300c\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u7de8\u96c6\u6a5f\u80fd\u3092\u6539\u5584\u300d\u306e\u304a\u77e5\u3089\u305b\u3092\u8ffd\u52a0</li> <li>BEM\u8a18\u6cd5\u306b\u5f93\u3063\u305fHTML\u30de\u30fc\u30af\u30a2\u30c3\u30d7\u3092\u4f7f\u7528\uff08NewsList__item, NewsList__head, NewsList__body\u306a\u3069\uff09</li> </ul>"},{"location":"journal/20170317/#_4","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/customer/top/dashboard.html.erb</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170317/#_5","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 22c4d8e82e0a2a07d34ac1eb6f4ba9ce4c5cb9d9\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 18:39:20 2017 +0900\n\n    \u30d5\u30a9\u30fc\u30e0\u306e\u78ba\u8a8d\u753b\u9762  #24\n\ndiff --git a/app/views/customer/top/dashboard.html.erb b/app/views/customer/top/dashboard.html.erb\nindex fd60d28..ead0c5c 100644\n--- a/app/views/customer/top/dashboard.html.erb\n+++ b/app/views/customer/top/dashboard.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-3-17\"&gt;2017.3.17&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u9867\u5ba2\u81ea\u8eab\u306b\u3088\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-3-17\"&gt;2017.3.17&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u6a5f\u80fd\u8ffd\u52a0&lt;/span&gt;\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex 877666a..c0973b1 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-3-17\"&gt;2017.3.17&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u7de8\u96c6\u6a5f\u80fd\u3092\u6539\u5584&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-2-16\"&gt;2017.2.16&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n</code></pre>"},{"location":"journal/20170317/#_6","title":"\u304a\u77e5\u3089\u305b\u8868\u793a\u306e\u69cb\u9020","text":""},{"location":"journal/20170317/#f61e351-capybara-24","title":"\u30b3\u30df\u30c3\u30c8: f61e351 - \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6\u6a5f\u80fd\u306eCapybara\u30c6\u30b9\u30c8\u8ffd\u52a0 #24","text":""},{"location":"journal/20170317/#_7","title":"\u6982\u8981","text":"<p>\u8077\u54e1\u304c\u81ea\u5206\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\u6a5f\u80fd\u306b\u3064\u3044\u3066\u3001Capybara\u3092\u4f7f\u7528\u3057\u305f\u7d71\u5408\u30c6\u30b9\u30c8\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u8996\u70b9\u304b\u3089\u306e\u6a5f\u80fd\u306e\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u3001\u30ea\u30b0\u30ec\u30c3\u30b7\u30e7\u30f3\u3092\u9632\u6b62\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"journal/20170317/#_8","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li>README\u306b\u65b0\u3057\u3044\u30c6\u30b9\u30c8\u9805\u76ee\u3092\u8ffd\u52a0</li> <li>Capybara\u3092\u4f7f\u7528\u3057\u305f\u7d71\u5408\u30c6\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u65b0\u898f\u4f5c\u6210</li> <li>\u30c6\u30b9\u30c8\u3067\u306f\u4ee5\u4e0b\u306e\u30b7\u30ca\u30ea\u30aa\u3092\u30ab\u30d0\u30fc:</li> <li>\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u306e\u8868\u793a</li> <li>\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u306e\u7de8\u96c6</li> <li>\u78ba\u8a8d\u753b\u9762\u306e\u8868\u793a\u3068\u78ba\u8a8d</li> <li>\u60c5\u5831\u306e\u66f4\u65b0\u51e6\u7406</li> </ul>"},{"location":"journal/20170317/#_9","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A spec/features/staff/account_management_spec.rb (\u65b0\u898f\u4f5c\u6210)</li> </ul>"},{"location":"journal/20170317/#_10","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit f61e351caf90cf87121bd763f5c88b49d37793bd\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 18:36:08 2017 +0900\n\n    \u8077\u54e1\u304c\u81ea\u5206\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\u6a5f\u80fd\u306b\u95a2\u3059\u308bCapybara\u306b\u3088\u308b\u30c6\u30b9\u30c8\u3092\u4f5c\u6210 #24\n\ndiff --git a/README.md b/README.md\nindex 33304ad..3e956b6 100644\n--- a/README.md\n+++ b/README.md\n@@ -726,6 +726,7 @@ git push heroku master\n #### \u6f14\u7fd2\u554f\u984c\n + \u8077\u54e1\u304c\u81ea\u5206\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\u6a5f\u80fd\u306b\u78ba\u8a8d\u753b\u9762\u7528\u3092\u8ffd\u52a0\n + \u6a5f\u80fd\u8ffd\u52a0\u306b\u3088\u308a\u5931\u6557\u3059\u308b\u30c6\u30b9\u30c8\u306e\u4fee\u6b63\n++ \u8077\u54e1\u304c\u81ea\u5206\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\u6a5f\u80fd\u306b\u95a2\u3059\u308bCapybara\u306b\u3088\u308b\u30c6\u30b9\u30c8\u3092\u4f5c\u6210\n\n ### Ajax\n #### \u9867\u5ba2\u5411\u3051\u554f\u3044\u5408\u308f\u305b\u30d5\u30a9\u30fc\u30e0\ndiff --git a/spec/features/staff/account_management_spec.rb b/spec/features/staff/account_management_spec.rb\nnew file mode 100644\nindex 0000000..fef8918\n--- /dev/null\n+++ b/spec/features/staff/account_management_spec.rb\n</code></pre>"},{"location":"journal/20170317/#capybara","title":"Capybara\u30c6\u30b9\u30c8\u306e\u30d5\u30ed\u30fc","text":"<p> @@ -0,0 +1,34 @@ +require 'rails_helper' + +feature '\u8077\u54e1\u306b\u3088\u308b\u81ea\u5206\u81ea\u8eab\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406' do +  include FeaturesSpecHelper +  let(:staff_member) { create(:staff_member) } + +  before do +    switch_namespace(:staff) +    login_as_staff_member(staff_member) +    click_link I18n.t('staff.shared.header.account') +    click_link I18n.t('staff.accounts.show.edit') +  end + +  scenario '\u8077\u54e1\u304c\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3001\u6c0f\u540d\u3001\u30d5\u30ea\u30ac\u30ca\u3092\u66f4\u65b0\u3059\u308b' do +    fill_in I18n.t('activerecord.attributes.staff_member.email'), with: 'test@oiax.jp' +    fill_in 'staff_member_family_name', with: '\u8a66\u9a13' +    fill_in 'staff_member_given_name', with: '\u82b1\u5b50' +    fill_in 'staff_member_family_name_kana', with: '\u30b7\u30b1\u30f3' +    fill_in 'staff_member_given_name_kana', with: '\u30cf\u30ca\u30b3' +    click_button I18n.t('staff.accounts.edit.confirm') +    click_button I18n.t('staff.accounts.confirm.update') + +    staff_member.reload +    expect(staff_member.email).to eq('test@oiax.jp') +    expect(staff_member.family_name).to eq('\u8a66\u9a13') +    expect(staff_member.given_name_kana).to eq('\u30cf\u30ca\u30b3') +  end + +  scenario '\u8077\u54e1\u304c\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306b\u7121\u52b9\u306a\u5024\u3092\u5165\u529b\u3059\u308b' do +    fill_in I18n.t('activerecord.attributes.staff_member.email'), with: 'test@@oiax.jp' +    click_button I18n.t('staff.accounts.edit.confirm') +    expect(page).to have_css('.has-error span.help-block') +  end +end \\ No newline at end of file</p> <p><pre><code>## \u30b3\u30df\u30c3\u30c8: c89c40d\n\n### \u30e1\u30c3\u30bb\u30fc\u30b8\n</code></pre> \u6a5f\u80fd\u8ffd\u52a0\u306b\u3088\u308a\u5931\u6557\u3059\u308b\u30c6\u30b9\u30c8\u306e\u4fee\u6b63 #24 <pre><code>### \u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\n\n- M README.md\n- M spec/controllers/staff/accounts_controller_spec.rb\n\n### \u5909\u66f4\u5185\u5bb9\n\n```diff\ncommit c89c40d0829c19911bd1df5571596e371124f700\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 18:17:50 2017 +0900\n\n    \u6a5f\u80fd\u8ffd\u52a0\u306b\u3088\u308a\u5931\u6557\u3059\u308b\u30c6\u30b9\u30c8\u306e\u4fee\u6b63 #24\n\ndiff --git a/README.md b/README.md\nindex b7ade4f..33304ad 100644\n--- a/README.md\n+++ b/README.md\n@@ -725,6 +725,7 @@ git push heroku master\n\n #### \u6f14\u7fd2\u554f\u984c\n + \u8077\u54e1\u304c\u81ea\u5206\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\u6a5f\u80fd\u306b\u78ba\u8a8d\u753b\u9762\u7528\u3092\u8ffd\u52a0\n++ \u6a5f\u80fd\u8ffd\u52a0\u306b\u3088\u308a\u5931\u6557\u3059\u308b\u30c6\u30b9\u30c8\u306e\u4fee\u6b63\n\n ### Ajax\n #### \u9867\u5ba2\u5411\u3051\u554f\u3044\u5408\u308f\u305b\u30d5\u30a9\u30fc\u30e0\ndiff --git a/spec/controllers/staff/accounts_controller_spec.rb b/spec/controllers/staff/accounts_controller_spec.rb\nindex cf7ce64..bdce4d8 100644\n--- a/spec/controllers/staff/accounts_controller_spec.rb\n+++ b/spec/controllers/staff/accounts_controller_spec.rb\n@@ -17,7 +17,7 @@ describe Staff::AccountsController do\n     # email\u5c5e\u6027\u3092\u5909\u66f4\u3059\u308b\n     it 'should update email attributes' do\n       params_hash.merge!(email: 'test@example.com')\n-      patch :update, id: staff_member.id, staff_member: params_hash\n+      patch :update, id: staff_member.id, staff_member: params_hash, commit: '\u66f4\u65b0'\n       staff_member.reload\n       expect(staff_member.email).to eq('test@example.com')\n     end\n@@ -25,14 +25,14 @@ describe Staff::AccountsController do\n     # \u4f8b\u5916ActionController::ParameterMissing\u304c\u767a\u751f\n     it 'should throw ActionController::ParameterMissing exception' do\n       bypass_rescue\n-      expect { patch :update, id: staff_member.id}.to raise_error(ActionController::ParameterMissing)\n+      expect { patch :update, id: staff_member.id, commit: '\u66f4\u65b0'}.to raise_error(ActionController::ParameterMissing)\n     end\n\n     # end_date\u306e\u5024\u306f\u66f8\u304d\u63db\u3048\u4e0d\u53ef\n     it 'should writable end_data value' do\n       params_hash.merge!(end_date: Date.tomorrow)\n       expect {\n-        patch :update, id: staff_member.id, staff_member: params_hash\n+        patch :update, id: staff_member.id, staff_member: params_hash, commit: '\u66f4\u65b0'\n       }.not_to change { staff_member.end_date }\n     end\n   end\n</code></pre></p>"},{"location":"journal/20170317/#_11","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170317/#85a2dea","title":"\u30b3\u30df\u30c3\u30c8: 85a2dea","text":""},{"location":"journal/20170317/#_12","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8077\u54e1\u304c\u81ea\u5206\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\u6a5f\u80fd\u306b\u78ba\u8a8d\u753b\u9762\u7528\u3092\u8ffd\u52a0 #24\n</code></pre>"},{"location":"journal/20170317/#_13","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/controllers/staff/accounts_controller.rb</li> <li>A app/views/staff/accounts/_confirming_form.html.erb</li> <li>A app/views/staff/accounts/confirm.html.erb</li> <li>M app/views/staff/accounts/edit.html.erb</li> <li>M config/locales/views/ja.yml</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170317/#_14","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 85a2deaeed286efedf31d1d8eff7ec4fc37a88fc\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 18:13:26 2017 +0900\n\n    \u8077\u54e1\u304c\u81ea\u5206\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\u6a5f\u80fd\u306b\u78ba\u8a8d\u753b\u9762\u7528\u3092\u8ffd\u52a0 #24\n\ndiff --git a/app/controllers/staff/accounts_controller.rb b/app/controllers/staff/accounts_controller.rb\nindex 449f282..1b5b3ba 100644\n--- a/app/controllers/staff/accounts_controller.rb\n+++ b/app/controllers/staff/accounts_controller.rb\n@@ -7,12 +7,26 @@ class Staff::AccountsController &lt; Staff::Base\n     @staff_member = current_staff_member\n   end\n\n+  def confirm\n+    @staff_member = current_staff_member\n+    @staff_member.assign_attributes(staff_member_params)\n+    if @staff_member.valid?\n+      render action: 'confirm'\n+    else\n+      render action: 'edit'\n+    end\n+  end\n+\n   def update\n     @staff_member = current_staff_member\n     @staff_member.assign_attributes(staff_member_params)\n-    if @staff_member.save\n-      flash.notice = t('.flash_success')\n-      redirect_to :staff_account\n+    if params[:commit]\n+      if @staff_member.save\n+        flash.notice = t('.flash_success')\n+        redirect_to :staff_account\n+      else\n+        render action: 'edit'\n+      end\n     else\n       render action: 'edit'\n     end\ndiff --git a/app/views/staff/accounts/_confirming_form.html.erb b/app/views/staff/accounts/_confirming_form.html.erb\nnew file mode 100644\nindex 0000000..9229e00\n--- /dev/null\n+++ b/app/views/staff/accounts/_confirming_form.html.erb\n@@ -0,0 +1,8 @@\n+&lt;%= markup do |m|\n+  p = ConfirmingUserFormPresenter.new(f, self)\n+  p.with_options(required: true) do |q|\n+    m &lt;&lt; q.text_field_block(:email, t('activerecord.attributes.staff_member.email'))\n+    m &lt;&lt; q.full_name_block(:family_name, :given_name, '\u6c0f\u540d')\n+    m &lt;&lt; q.full_name_block(:family_name_kana, :given_name_kana, '\u30d5\u30ea\u30ac\u30ca')\n+  end\n+end %&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/accounts/confirm.html.erb b/app/views/staff/accounts/confirm.html.erb\nnew file mode 100644\nindex 0000000..c7960d8\n--- /dev/null\n+++ b/app/views/staff/accounts/confirm.html.erb\n@@ -0,0 +1,17 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column AppForm\"&gt;\n+  &lt;div class=\"AppForm__generic-form CustomerAppForm__generic-form AppForm__customer-form AppForm--isConfirmed\"&gt;\n+    &lt;%= bootstrap_form_for @staff_member, url: :staff_account do |f| %&gt;\n+        &lt;p&gt;&lt;%= t('.confirm_message')%&gt;&lt;/p&gt;\n+        &lt;%= render 'confirming_form', f: f %&gt;\n+        &lt;div class=\"AppForm__buttons\"&gt;\n+          &lt;%= f.submit t('.update'),class: 'btn btn-default btn-lg' %&gt;\n+          &lt;%= f.submit t('.correct'), name: 'correct', class: 'btn btn-default btn-lg' %&gt;\n+        &lt;/div&gt;\n+    &lt;% end %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\ndiff --git a/app/views/staff/accounts/edit.html.erb b/app/views/staff/accounts/edit.html.erb\nindex c60ac2e..ed7746f 100644\n--- a/app/views/staff/accounts/edit.html.erb\n+++ b/app/views/staff/accounts/edit.html.erb\n@@ -5,10 +5,10 @@\n\n &lt;section class=\"Section l-column AppForm\"&gt;\n   &lt;div class=\"AppForm__generic-form StaffAppForm__generic-form\"&gt;\n-    &lt;%= bootstrap_form_for @staff_member, url: :staff_account do |f| %&gt;\n+    &lt;%= bootstrap_form_for @staff_member, url: :confirm_staff_account do |f| %&gt;\n         &lt;%= render 'form', f: f %&gt;\n         &lt;div class=\"AppForm__buttons\"&gt;\n-          &lt;%= f.submit t('.update'),class: 'btn btn-default btn-lg' %&gt;\n+          &lt;%= f.submit t('.confirm'),class: 'btn btn-default btn-lg' %&gt;\n           &lt;%= link_to t('.cancel'), :staff_account, class: 'btn btn-default btn-lg' %&gt;\n         &lt;/div&gt;\n     &lt;% end %&gt;\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 7e19903..8e2bd2b 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -93,8 +93,14 @@ ja:\n         start_date: '\u958b\u59cb\u65e5'\n       edit:\n         title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u7de8\u96c6'\n+        confirm: '\u78ba\u8a8d\u753b\u9762\u3078\u9032\u3080'\n         update: '\u66f4\u65b0'\n         cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n+      confirm:\n+        title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u66f4\u65b0\uff08\u78ba\u8a8d\uff09'\n+        confirm_message: '\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f'\n+        update: '\u66f4\u65b0'\n+        correct: '\u8a02\u6b63'\n     passwords:\n       edit:\n         title: '\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4'\ndiff --git a/config/routes.rb b/config/routes.rb\nindex e003496..ab71ca9 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -79,7 +79,9 @@ Rails.application.routes.draw do\n     namespace :staff, path: config[:staff][:path] do\n       root   'top#index'\n       concerns :session_path\n-      resource :account, only: [:show, :edit, :update]\n+      resource :account, only: [:show, :edit, :update] do\n+        patch :confirm\n+      end\n       resource :password, only: [:show, :edit, :update]\n       resources :customers\n       resources :programs do\n</code></pre>"},{"location":"journal/20170317/#_15","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170317/#8c50d92","title":"\u30b3\u30df\u30c3\u30c8: 8c50d92","text":""},{"location":"journal/20170317/#_16","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u4e0d\u8981\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u524a\u9664\n</code></pre>"},{"location":"journal/20170317/#_17","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170317/#_18","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8c50d92232da1dc01e27a5403e02d64f42ae119a\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 17:58:37 2017 +0900\n\n    \u4e0d\u8981\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u524a\u9664\n\ndiff --git a/README.md b/README.md\nindex a80e7e8..b7ade4f 100644\n--- a/README.md\n+++ b/README.md\n@@ -724,6 +724,7 @@ git push heroku master\n + Capybara\u306b\u3088\u308b\u30c6\u30b9\u30c8\n\n #### \u6f14\u7fd2\u554f\u984c\n++ \u8077\u54e1\u304c\u81ea\u5206\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\u6a5f\u80fd\u306b\u78ba\u8a8d\u753b\u9762\u7528\u3092\u8ffd\u52a0\n\n ### Ajax\n #### \u9867\u5ba2\u5411\u3051\u554f\u3044\u5408\u308f\u305b\u30d5\u30a9\u30fc\u30e0\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 170bc41..e003496 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -1,9 +1,6 @@\n # == Route Map\n #\n #                          Prefix Verb   URI Pattern                                          Controller#Action\n-#         customer_entries_create GET    /customer/entries/create(.:format)                   customer/entries#create\n-#         customer_programs_index GET    /customer/programs/index(.:format)                   customer/programs#index\n-#          customer_programs_show GET    /customer/programs/show(.:format)                    customer/programs#show\n #                      staff_root GET    /staff(.:format)                                     staff/top#index {:host=&gt;\"0.0.0.0\"}\n #                     staff_login GET    /staff/login(.:format)                               staff/sessions#new {:host=&gt;\"0.0.0.0\"}\n #                   staff_session DELETE /staff/session(.:format)                             staff/sessions#destroy {:host=&gt;\"0.0.0.0\"}\n@@ -71,18 +68,6 @@\n #\n\n Rails.application.routes.draw do\n-  namespace :customer do\n-    get 'entries/create'\n-  end\n-\n-  namespace :customer do\n-    get 'programs/index'\n-  end\n-\n-  namespace :customer do\n-    get 'programs/show'\n-  end\n-\n   config = Rails.application.config.baukis_kai\n\n   concern :session_path do\n</code></pre>"},{"location":"journal/20170317/#47a8374","title":"\u30b3\u30df\u30c3\u30c8: 47a8374","text":""},{"location":"journal/20170317/#_19","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Capybara\u306b\u3088\u308b\u30c6\u30b9\u30c8 #24\n</code></pre>"},{"location":"journal/20170317/#_20","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A spec/features/customer/account_management_spec.rb</li> <li>M spec/support/features_spec_helper.rb</li> </ul>"},{"location":"journal/20170317/#_21","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 47a83749a8df70eafa3f2c1067907c95d1b10058\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 17:51:38 2017 +0900\n\n    Capybara\u306b\u3088\u308b\u30c6\u30b9\u30c8 #24\n\ndiff --git a/README.md b/README.md\nindex ff398fd..a80e7e8 100644\n--- a/README.md\n+++ b/README.md\n@@ -721,6 +721,7 @@ git push heroku master\n + \u78ba\u8a8d\u753b\u9762\u306e\u672c\u5b9f\u88c5\n + CoffeeScript\u306e\u4fee\u6b63\n + \u8a02\u6b63\u30dc\u30bf\u30f3\n++ Capybara\u306b\u3088\u308b\u30c6\u30b9\u30c8\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/spec/features/customer/account_management_spec.rb b/spec/features/customer/account_management_spec.rb\nnew file mode 100644\nindex 0000000..f497df1\n--- /dev/null\n+++ b/spec/features/customer/account_management_spec.rb\n@@ -0,0 +1,43 @@\n+require 'rails_helper'\n+\n+feature '\u9867\u5ba2\u306b\u3088\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406' do\n+  include FeaturesSpecHelper\n+  let(:customer) { create(:customer) }\n+\n+  before do\n+    switch_namespace(:customer)\n+    login_as_customer(customer)\n+    click_link I18n.t('customer.shared.header.account')\n+    click_link I18n.t('customer.accounts.show.edit')\n+  end\n+\n+  scenario '\u9867\u5ba2\u304c\u57fa\u672c\u60c5\u5831\u3001\u81ea\u5b85\u4f4f\u6240\u3001\u52e4\u52d9\u5148\u3092\u66f4\u65b0\u3059\u308b' do\n+    fill_in I18n.t('activerecord.attributes.customer.birthday'), with: '1980-04-01'\n+    within('fieldset#home-address-fields') do\n+      fill_in I18n.t('activerecord.attributes.home_address.postal_code'), with: '9999999'\n+    end\n+    click_button I18n.t('customer.accounts.edit.confirm')\n+    click_button I18n.t('customer.accounts.confirm.correct')\n+    within('fieldset#work-address-fields') do\n+      fill_in I18n.t('activerecord.attributes.work_address.company_name'), with: '\u30c6\u30b9\u30c8'\n+    end\n+    click_button I18n.t('customer.accounts.edit.confirm')\n+    click_button I18n.t('customer.accounts.edit.update')\n+\n+    customer.reload\n+    expect(customer.birthday).to eq(Date.new(1980,4,1))\n+    expect(customer.home_address.postal_code).to eq('9999999')\n+    expect(customer.work_address.company_name).to eq('\u30c6\u30b9\u30c8')\n+  end\n+\n+  scenario '\u9867\u5ba2\u304c\u751f\u5e74\u6708\u65e5\u3068\u81ea\u5b85\u306e\u90f5\u4fbf\u756a\u53f7\u306b\u7121\u52b9\u306a\u5024\u3092\u5165\u529b\u3059\u308b' do\n+    fill_in I18n.t('activerecord.attributes.customer.birthday'), with: '2100-01-01'\n+    within('fieldset#home-address-fields') do\n+      fill_in I18n.t('activerecord.attributes.home_address.postal_code'), with: 'XYZ'\n+    end\n+    click_button I18n.t('customer.accounts.edit.confirm')\n+\n+    expect(page).to have_css('header span.Flash__alert')\n+    expect(page).to have_css('.has-error span.help-block')\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/spec/support/features_spec_helper.rb b/spec/support/features_spec_helper.rb\nindex 54314d5..c17fb25 100644\n--- a/spec/support/features_spec_helper.rb\n+++ b/spec/support/features_spec_helper.rb\n@@ -12,4 +12,13 @@ module FeaturesSpecHelper\n       click_button I18n.t('staff.sessions.new.submit')\n     end\n   end\n+\n+  def login_as_customer(customer, password = 'pw')\n+    visit customer_login_path\n+    within('.Login--customer') do\n+      fill_in I18n.t('activemodel.attributes.customer/login_form.email'), with: customer.email\n+      fill_in I18n.t('activemodel.attributes.customer/login_form.password'), with: password\n+      click_button I18n.t('customer.sessions.new.submit')\n+    end\n+  end\n end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170317/#6fbc436","title":"\u30b3\u30df\u30c3\u30c8: 6fbc436","text":""},{"location":"journal/20170317/#_22","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8a02\u6b63\u30dc\u30bf\u30f3 #24\n</code></pre>"},{"location":"journal/20170317/#_23","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/customer/accounts_controller.rb</li> <li>M app/forms/customer/account_form.rb</li> </ul>"},{"location":"journal/20170317/#_24","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 6fbc436b4b27d691d44421dadc29413a13534433\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 17:00:29 2017 +0900\n\n    \u8a02\u6b63\u30dc\u30bf\u30f3 #24\n\ndiff --git a/README.md b/README.md\nindex bb54ab8..ff398fd 100644\n--- a/README.md\n+++ b/README.md\n@@ -720,6 +720,7 @@ git push heroku master\n + \u78ba\u8a8d\u753b\u9762\u7528\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u306e\u4f5c\u6210\n + \u78ba\u8a8d\u753b\u9762\u306e\u672c\u5b9f\u88c5\n + CoffeeScript\u306e\u4fee\u6b63\n++ \u8a02\u6b63\u30dc\u30bf\u30f3\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/controllers/customer/accounts_controller.rb b/app/controllers/customer/accounts_controller.rb\nindex e9dc219..9e383c7 100644\n--- a/app/controllers/customer/accounts_controller.rb\n+++ b/app/controllers/customer/accounts_controller.rb\n@@ -10,11 +10,15 @@ class Customer::AccountsController &lt; Customer::Base\n   def update\n     @customer_form = Customer::AccountForm.new(current_customer)\n     @customer_form.assign_attributes(params[:form])\n-    if @customer_form.save\n-      flash.notice = t('.flash_notice')\n-      redirect_to :staff_account\n+    if params[:commit]\n+      if @customer_form.save\n+        flash.notice = t('.flash_notice')\n+        redirect_to :staff_account\n+      else\n+        flash.now.alert = t('.flash_alert')\n+        render action: 'edit'\n+      end\n     else\n-      flash.now.alert = t('.flash_alert')\n       render action: 'edit'\n     end\n   end\ndiff --git a/app/forms/customer/account_form.rb b/app/forms/customer/account_form.rb\nindex 6aed1f5..23a98e1 100644\n--- a/app/forms/customer/account_form.rb\n+++ b/app/forms/customer/account_form.rb\n@@ -23,8 +23,8 @@ class Customer::AccountForm\n\n   def assign_attributes(params = {})\n     @params = params\n-    self.inputs_home_address = params[:inputs_home_address] == '1'\n-    self.inputs_work_address = params[:inputs_work_address] == '1'\n+    self.inputs_home_address = params[:inputs_home_address].in? [ '1', 'true']\n+    self.inputs_work_address = params[:inputs_work_address].in? [ '1', 'true']\n\n     customer.assign_attributes(customer_params)\n</code></pre>"},{"location":"journal/20170317/#_25","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170317/#8d64ce4","title":"\u30b3\u30df\u30c3\u30c8: 8d64ce4","text":""},{"location":"journal/20170317/#_26","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>CoffeeScript\u306e\u4fee\u6b63 #24\n</code></pre>"},{"location":"journal/20170317/#_27","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/javascripts/customer/account_form.coffee</li> <li>M app/assets/stylesheets/components/_appForm.scss</li> <li>M app/views/customer/accounts/confirm.html.erb</li> </ul>"},{"location":"journal/20170317/#_28","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8d64ce429cd7e24ddd31e49104c517b814ae4521\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 16:52:48 2017 +0900\n\n    CoffeeScript\u306e\u4fee\u6b63 #24\n\ndiff --git a/README.md b/README.md\nindex d8a8cde..bb54ab8 100644\n--- a/README.md\n+++ b/README.md\n@@ -719,6 +719,7 @@ git push heroku master\n + \u78ba\u8a8d\u753b\u9762\u306e\u4eee\u5b9f\u88c5\n + \u78ba\u8a8d\u753b\u9762\u7528\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u306e\u4f5c\u6210\n + \u78ba\u8a8d\u753b\u9762\u306e\u672c\u5b9f\u88c5\n++ CoffeeScript\u306e\u4fee\u6b63\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/assets/javascripts/customer/account_form.coffee b/app/assets/javascripts/customer/account_form.coffee\nindex 0db2be2..2e5cac4 100644\n--- a/app/assets/javascripts/customer/account_form.coffee\n+++ b/app/assets/javascripts/customer/account_form.coffee\n@@ -17,11 +17,13 @@ class AccountForm\n     toggleWorkAddressFields()\n\n   toggleHomeAddressFields = -&gt;\n+    return if $('.AppForm--isConfirmed').length\n     checked = $('input#form_inputs_home_address').prop('checked')\n     $('fieldset#home-address-fields input').prop('disabled', !checked)\n     $('fieldset#home-address-fields select').prop('disabled', !checked)\n     $('fieldset#home-address-fields').toggle(checked)\n   toggleWorkAddressFields = -&gt;\n+    return if $('.AppForm--isConfirmed').length\n     checked = $('input#form_inputs_work_address').prop('checked')\n     $('fieldset#work-address-fields input').prop('disabled', !checked)\n     $('fieldset#work-address-fields select').prop('disabled', !checked)\ndiff --git a/app/assets/stylesheets/components/_appForm.scss b/app/assets/stylesheets/components/_appForm.scss\nindex ae48fe4..0c5ecf2 100644\n--- a/app/assets/stylesheets/components/_appForm.scss\n+++ b/app/assets/stylesheets/components/_appForm.scss\n@@ -63,4 +63,5 @@\n   &amp;--field-value { margin-left: $wide; font-weight: bold;}\n   &amp;--readonly { color: $dark_gray; }\n   &amp;--field-value { font-weight: bold; }\n+  &amp;--isConfirmed {}\n }\n\\ No newline at end of file\ndiff --git a/app/views/customer/accounts/confirm.html.erb b/app/views/customer/accounts/confirm.html.erb\nindex 64ce9a4..743918e 100644\n--- a/app/views/customer/accounts/confirm.html.erb\n+++ b/app/views/customer/accounts/confirm.html.erb\n@@ -4,7 +4,7 @@\n &lt;/section&gt;\n\n &lt;section class=\"Section l-column AppForm\"&gt;\n-  &lt;div class=\"AppForm__generic-form CustomerAppForm__generic-form AppForm__customer-form\"&gt;\n+  &lt;div class=\"AppForm__generic-form CustomerAppForm__generic-form AppForm__customer-form AppForm--isConfirmed\"&gt;\n     &lt;%= bootstrap_form_for @customer_form, as: 'form', url: :customer_account do |f| %&gt;\n         &lt;p&gt;&lt;%= t('.confirm_message')%&gt;&lt;/p&gt;\n         &lt;%= render 'confirming_form', f: f %&gt;\n</code></pre>"},{"location":"journal/20170317/#dbe81c9","title":"\u30b3\u30df\u30c3\u30c8: dbe81c9","text":""},{"location":"journal/20170317/#_29","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u78ba\u8a8d\u753b\u9762\u306e\u672c\u5b9f\u88c5 #24\n</code></pre>"},{"location":"journal/20170317/#_30","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/javascripts/customer/account_form.coffee</li> <li>M app/assets/stylesheets/components/_appForm.scss</li> <li>M app/presenters/confirming_form_presenter.rb</li> <li>M app/presenters/confirming_user_form_presenter.rb</li> <li>M app/presenters/customer/confirming_address_form_presenter.rb</li> <li>M app/presenters/customer/confirming_customer_form_presenter.rb</li> <li>A app/views/customer/accounts/_confirming_form.html.erb</li> <li>A app/views/customer/accounts/_confirming_phone_fields.html.erb</li> <li>M app/views/customer/accounts/_customer_fields.html.erb</li> <li>M app/views/customer/accounts/_form.html.erb</li> <li>M app/views/customer/accounts/_home_address_fields.html.erb</li> <li>M app/views/customer/accounts/_work_address_fields.html.erb</li> <li>M app/views/customer/accounts/confirm.html.erb</li> </ul>"},{"location":"journal/20170317/#_31","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit dbe81c982dee60110305308051be0d38f6370050\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 16:37:22 2017 +0900\n\n    \u78ba\u8a8d\u753b\u9762\u306e\u672c\u5b9f\u88c5 #24\n\ndiff --git a/README.md b/README.md\nindex 269c058..d8a8cde 100644\n--- a/README.md\n+++ b/README.md\n@@ -718,6 +718,7 @@ git push heroku master\n + \u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\u306e\u4fee\u6b63\n + \u78ba\u8a8d\u753b\u9762\u306e\u4eee\u5b9f\u88c5\n + \u78ba\u8a8d\u753b\u9762\u7528\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u306e\u4f5c\u6210\n++ \u78ba\u8a8d\u753b\u9762\u306e\u672c\u5b9f\u88c5\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/assets/javascripts/customer/account_form.coffee b/app/assets/javascripts/customer/account_form.coffee\nindex 3db60a7..0db2be2 100644\n--- a/app/assets/javascripts/customer/account_form.coffee\n+++ b/app/assets/javascripts/customer/account_form.coffee\n@@ -4,6 +4,8 @@ $(document).on \"turbolinks:load\", -&gt;\n\n class AccountForm\n   constructor: -&gt;\n+    toggleHomeAddressFields()\n+    toggleWorkAddressFields()\n     $('.AppForm__customer-form input#form_inputs_home_address').on\n       'click' : handleHomeAddressFields\n     $('.AppForm__customer-form input#form_inputs_work_address').on\ndiff --git a/app/assets/stylesheets/components/_appForm.scss b/app/assets/stylesheets/components/_appForm.scss\nindex 420d4b5..ae48fe4 100644\n--- a/app/assets/stylesheets/components/_appForm.scss\n+++ b/app/assets/stylesheets/components/_appForm.scss\n@@ -60,4 +60,7 @@\n     label { color: $red }\n     input, select { background-color: $pink }\n   }\n+  &amp;--field-value { margin-left: $wide; font-weight: bold;}\n+  &amp;--readonly { color: $dark_gray; }\n+  &amp;--field-value { font-weight: bold; }\n }\n\\ No newline at end of file\ndiff --git a/app/presenters/confirming_form_presenter.rb b/app/presenters/confirming_form_presenter.rb\nindex 8fc536d..8811aaf 100644\n--- a/app/presenters/confirming_form_presenter.rb\n+++ b/app/presenters/confirming_form_presenter.rb\n@@ -2,7 +2,7 @@ class ConfirmingFormPresenter\n   include HtmlBuilder\n\n   attr_reader :form_builder, :view_context\n-  delegate :lable, :hidden_field, :object, to: :form_builder\n+  delegate :label, :hidden_field, :object, to: :form_builder\n\n   def initialize(form_builder, view_context)\n     @form_builder = form_builder\n@@ -13,9 +13,9 @@ class ConfirmingFormPresenter\n     markup(:div) do |m|\n       m &lt;&lt; decorated_label(name, label_text, options)\n       if options[:disabled]\n-        m.div(object.send(name), class: 'field-value readonly')\n+        m.div(object.send(name), class: 'AppForm--field-value AppForm--readonly')\n       else\n-        m.div(object.send(name), class: 'field-value')\n+        m.div(object.send(name), class: 'AppForm--field-value')\n         m &lt;&lt; hidden_field(name, options)\n       end\n     end\n@@ -24,7 +24,7 @@ class ConfirmingFormPresenter\n   def drop_down_list_block(name, label_text, choices, options = {})\n     markup(:div, class: 'AppForm__input-block') do |m|\n       m &lt;&lt; decorated_label(name, label_text, options)\n-      m.div(object.send(name), class: 'field-value')\n+      m.div(object.send(name), class: 'AppForm--field-value')\n       m &lt;&lt; hidden_field(name, options)\n     end\n   end\ndiff --git a/app/presenters/confirming_user_form_presenter.rb b/app/presenters/confirming_user_form_presenter.rb\nindex 942ef51..5ff1923 100644\n--- a/app/presenters/confirming_user_form_presenter.rb\n+++ b/app/presenters/confirming_user_form_presenter.rb\n@@ -2,7 +2,7 @@ class ConfirmingUserFormPresenter &lt; ConfirmingFormPresenter\n   def full_name_block(name1, name2, label_text, options = {})\n     markup(:div, class: 'AppForm__input-block') do |m|\n       m &lt;&lt; decorated_label(name1, label_text, options)\n-      m.div(object.send(name1) + ' ' + object.send(name2), class: 'field-value')\n+      m.div(object.send(name1) + ' ' + object.send(name2), class: 'AppForm--field-value')\n       m &lt;&lt; hidden_field(name1)\n       m &lt;&lt; hidden_field(name2)\n     end\ndiff --git a/app/presenters/customer/confirming_address_form_presenter.rb b/app/presenters/customer/confirming_address_form_presenter.rb\nindex 5693127..8cda7e5 100644\n--- a/app/presenters/customer/confirming_address_form_presenter.rb\n+++ b/app/presenters/customer/confirming_address_form_presenter.rb\n@@ -2,7 +2,7 @@ class Customer::ConfirmingAddressFormPresenter &lt; ConfirmingFormPresenter\n   def postal_code_block(name, label_text, options)\n     markup(:div, class: 'AppForm__input-block') do |m|\n       m &lt;&lt; decorated_label(name, label_text, options)\n-      m.div(object.send(name), class: 'field-value')\n+      m.div(object.send(name), class: 'AppForm--field-value')\n       m &lt;&lt; hidden_field(name, options)\n     end\n   end\ndiff --git a/app/presenters/customer/confirming_customer_form_presenter.rb b/app/presenters/customer/confirming_customer_form_presenter.rb\nindex d96f350..a35590c 100644\n--- a/app/presenters/customer/confirming_customer_form_presenter.rb\n+++ b/app/presenters/customer/confirming_customer_form_presenter.rb\n@@ -2,7 +2,7 @@ class Customer::ConfirmingCustomerFormPresenter &lt; ConfirmingUserFormPresenter\n   def birthday_field_block(name, label_text, options = {})\n     markup(:div, class: 'AppForm__input-block') do |m|\n       m &lt;&lt; decorated_label(name, label_text, options)\n-      m.div(object.send(name), class: 'field-value')\n+      m.div(object.send(name), class: 'AppForm--field-value')\n       m &lt;&lt; hidden_field(name)\n     end\n   end\n@@ -10,8 +10,8 @@ class Customer::ConfirmingCustomerFormPresenter &lt; ConfirmingUserFormPresenter\n   def gender_field_block\n     markup(:div, class: 'AppForm__input-block') do |m|\n       m &lt;&lt; decorated_label(:gender, '\u6027\u5225')\n-      m.div(object.gender == 'male' ? '\u7537\u6027' : '\u5973\u6027', class: 'field-value')\n-      m &lt;&lt; hidden_field\n+      m.div(object.gender == 'male' ? '\u7537\u6027' : '\u5973\u6027', class: 'AppForm--field-value')\n+      m &lt;&lt; hidden_field(:gender)\n     end\n   end\n end\n\\ No newline at end of file\ndiff --git a/app/views/customer/accounts/_confirming_form.html.erb b/app/views/customer/accounts/_confirming_form.html.erb\nnew file mode 100644\nindex 0000000..650862f\n--- /dev/null\n+++ b/app/views/customer/accounts/_confirming_form.html.erb\n@@ -0,0 +1,22 @@\n+&lt;fieldset id=\"customer-fields\"&gt;\n+  &lt;legend&gt;&lt;%= t('staff.customers.new.basic_info') %&gt;&lt;/legend&gt;\n+  &lt;%= render 'customer_fields', f: f, confirming: true %&gt;\n+&lt;/fieldset&gt;\n+&lt;% if f.object.inputs_home_address %&gt;\n+    &lt;div&gt;\n+      &lt;%= f.hidden_field :inputs_home_address %&gt;\n+    &lt;/div&gt;\n+    &lt;fieldset id=\"home-address-fields\"&gt;\n+      &lt;legend&gt;&lt;%= t('staff.customers.new.home_address') %&gt;&lt;/legend&gt;\n+      &lt;%= render 'home_address_fields', f: f, confirming: true %&gt;\n+    &lt;/fieldset&gt;\n+&lt;% end %&gt;\n+&lt;% if f.object.inputs_work_address %&gt;\n+    &lt;div&gt;\n+      &lt;%= f.hidden_field :inputs_work_address %&gt;\n+    &lt;/div&gt;\n+    &lt;fieldset id=\"work-address-fields\"&gt;\n+      &lt;legend&gt;&lt;%= t('staff.customers.new.work_address') %&gt;&lt;/legend&gt;\n+      &lt;%= render 'work_address_fields', f: f, confirming: true %&gt;\n+    &lt;/fieldset&gt;\n+&lt;% end %&gt;\n\\ No newline at end of file\ndiff --git a/app/views/customer/accounts/_confirming_phone_fields.html.erb b/app/views/customer/accounts/_confirming_phone_fields.html.erb\nnew file mode 100644\nindex 0000000..16c63b9\n--- /dev/null\n+++ b/app/views/customer/accounts/_confirming_phone_fields.html.erb\n@@ -0,0 +1,9 @@\n+&lt;%= f.fields_for :phones, phone, index: index do |ff| %&gt;\n+&lt;%= markup(:li) do |m|\n+  text = ff.object.number\n+  text += '(\u512a\u5148)' if ff.object.primary?\n+  m.span(text, class: 'field-value')\n+  m &lt;&lt; ff.hidden_field(:number)\n+  m &lt;&lt; ff.hidden_field(:primary)\n+  end %&gt;\n+&lt;% end %&gt;\n\\ No newline at end of file\ndiff --git a/app/views/customer/accounts/_customer_fields.html.erb b/app/views/customer/accounts/_customer_fields.html.erb\nindex 24ceba4..add1296 100644\n--- a/app/views/customer/accounts/_customer_fields.html.erb\n+++ b/app/views/customer/accounts/_customer_fields.html.erb\n@@ -1,6 +1,6 @@\n &lt;%= f.fields_for :customer, f.object.customer do |ff| %&gt;\n &lt;%= markup do |m|\n-  p = Staff::CustomerFormPresenter.new(ff,self)\n+  p = confirming ? Customer::ConfirmingCustomerFormPresenter.new(ff, self) : Staff::CustomerFormPresenter.new(ff, self)\n   p.with_options(required: true) do |q|\n     m &lt;&lt; q.text_field_block(:email, t('activerecord.attributes.customer.email'), size: 32)\n     m &lt;&lt; q.full_name_block(:family_name, :given_name, t('activerecord.attributes.customer.full_name'))\n@@ -11,7 +11,11 @@\n   m.div(class: 'AppForm__input-block') do\n     m.ol do\n       p.object.personal_phones.each_with_index do |phone, index|\n-        m &lt;&lt; render('phone_fields', f: ff, phone: phone, index: index)\n+        if confirming\n+          m &lt;&lt; render('confirming_phone_fields', f: ff, phone: phone, index: index)\n+        else\n+          m &lt;&lt; render('phone_fields', f: ff, phone: phone, index: index)\n+        end\n       end\n     end\n   end\ndiff --git a/app/views/customer/accounts/_form.html.erb b/app/views/customer/accounts/_form.html.erb\nindex 80eb496..a6b0f9d 100644\n--- a/app/views/customer/accounts/_form.html.erb\n+++ b/app/views/customer/accounts/_form.html.erb\n@@ -1,19 +1,19 @@\n &lt;%= FormPresenter.new(f,self).notes %&gt;\n &lt;fieldset id=\"customer-fields\"&gt;\n   &lt;legend&gt;&lt;%= t('staff.customers.new.basic_info') %&gt;&lt;/legend&gt;\n-  &lt;%= render 'customer_fields', f: f %&gt;\n+  &lt;%= render 'customer_fields', f: f, confirming: false %&gt;\n &lt;/fieldset&gt;\n &lt;div&gt;\n   &lt;%= f.check_box :inputs_home_address, label: t('staff.customers.new.home_address_inputs')  %&gt;\n &lt;/div&gt;\n &lt;fieldset id=\"home-address-fields\"&gt;\n   &lt;legend&gt;&lt;%= t('staff.customers.new.home_address') %&gt;&lt;/legend&gt;\n-  &lt;%= render 'home_address_fields', f: f %&gt;\n+  &lt;%= render 'home_address_fields', f: f, confirming: false %&gt;\n &lt;/fieldset&gt;\n &lt;div&gt;\n   &lt;%= f.check_box :inputs_work_address, label: t('staff.customers.new.work_address_inputs') %&gt;\n &lt;/div&gt;\n &lt;fieldset id=\"work-address-fields\"&gt;\n   &lt;legend&gt;&lt;%= t('staff.customers.new.work_address') %&gt;&lt;/legend&gt;\n-  &lt;%= render 'work_address_fields', f: f %&gt;\n+  &lt;%= render 'work_address_fields', f: f, confirming: false %&gt;\n &lt;/fieldset&gt;\ndiff --git a/app/views/customer/accounts/_home_address_fields.html.erb b/app/views/customer/accounts/_home_address_fields.html.erb\nindex 23aa061..2776012 100644\n--- a/app/views/customer/accounts/_home_address_fields.html.erb\n+++ b/app/views/customer/accounts/_home_address_fields.html.erb\n@@ -1,6 +1,6 @@\n &lt;%= f.fields_for :home_address, f.object.customer.home_address do |ff| %&gt;\n &lt;%= markup do |m|\n-  p = Staff::AddressFormPresenter.new(ff,self)\n+  p = confirming ? Customer::ConfirmingAddressFormPresenter.new(ff, self) : Staff::AddressFormPresenter.new(ff, self)\n   p.with_options(required: true) do |q|\n     m &lt;&lt; q.postal_code_block(:postal_code, t('activerecord.attributes.home_address.postal_code'), size: 7)\n     m &lt;&lt; q.drop_down_list_block(:prefecture, t('activerecord.attributes.home_address.prefecture'),Address::PREFECTURE_NAMES)\n@@ -11,9 +11,13 @@\n   m.div(class: 'FormApp__input-block') do\n     m.ol do\n       p.object.phones.each_with_index do |phone, index|\n-        m &lt;&lt; render('phone_fields', f: ff, phone: phone, index: index)\n+        if confirming\n+          m &lt;&lt; render('confirming_phone_fields', f: ff, phone: phone, index: index)\n+        else\n+          m &lt;&lt; render('phone_fields', f: ff, phone: phone, index: index)\n         end\n       end\n     end\n+  end\n end %&gt;\n &lt;% end %&gt;\ndiff --git a/app/views/customer/accounts/_work_address_fields.html.erb b/app/views/customer/accounts/_work_address_fields.html.erb\nindex b9e6cd3..d34f93e 100644\n--- a/app/views/customer/accounts/_work_address_fields.html.erb\n+++ b/app/views/customer/accounts/_work_address_fields.html.erb\n@@ -1,6 +1,6 @@\n &lt;%= f.fields_for :work_address, f.object.customer.work_address do |ff| %&gt;\n     &lt;%= markup do |m|\n-      p = Staff::AddressFormPresenter.new(ff,self)\n+      p = confirming ? Customer::ConfirmingAddressFormPresenter.new(ff, self) : Staff::AddressFormPresenter.new(ff,self)\n       m &lt;&lt; p.text_field_block(:company_name, t('activerecord.attributes.work_address.company_name'), size: 40, required: true)\n       m &lt;&lt; p.text_field_block(:division_name, t('activerecord.attributes.work_address.division_name'), size: 40)\n       m &lt;&lt; p.postal_code_block(:postal_code, t('activerecord.attributes.work_address.postal_code'), size: 7)\n@@ -11,7 +11,11 @@\n       m.div(class: 'FormApp__input-block') do\n         m.ol do\n           p.object.phones.each_with_index do |phone, index|\n-            m &lt;&lt; render('phone_fields', f: ff, phone: phone, index: index)\n+            if confirming\n+              m &lt;&lt; render('confirming_phone_fields', f: ff, phone: phone, index: index)\n+            else\n+              m &lt;&lt; render('phone_fields', f: ff, phone: phone, index: index)\n+            end\n           end\n         end\n       end\ndiff --git a/app/views/customer/accounts/confirm.html.erb b/app/views/customer/accounts/confirm.html.erb\nindex 5b2c3d7..64ce9a4 100644\n--- a/app/views/customer/accounts/confirm.html.erb\n+++ b/app/views/customer/accounts/confirm.html.erb\n@@ -1,3 +1,4 @@\n+&lt;% @title = t('.title') %&gt;\n &lt;section class=\"Section\"&gt;\n   &lt;h1 class=\"Customer__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n &lt;/section&gt;\n@@ -6,7 +7,7 @@\n   &lt;div class=\"AppForm__generic-form CustomerAppForm__generic-form AppForm__customer-form\"&gt;\n     &lt;%= bootstrap_form_for @customer_form, as: 'form', url: :customer_account do |f| %&gt;\n         &lt;p&gt;&lt;%= t('.confirm_message')%&gt;&lt;/p&gt;\n-        &lt;%= render 'form', f: f %&gt;\n+        &lt;%= render 'confirming_form', f: f %&gt;\n         &lt;div class=\"AppForm__buttons\"&gt;\n           &lt;%= f.submit t('.update'),class: 'btn btn-default btn-lg' %&gt;\n           &lt;%= f.submit t('.correct'), name: 'correct', class: 'btn btn-default btn-lg' %&gt;\n</code></pre>"},{"location":"journal/20170317/#7554c69","title":"\u30b3\u30df\u30c3\u30c8: 7554c69","text":""},{"location":"journal/20170317/#_32","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u78ba\u8a8d\u753b\u9762\u7528\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u306e\u4f5c\u6210 #24\n</code></pre>"},{"location":"journal/20170317/#_33","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/presenters/confirming_form_presenter.rb</li> <li>A app/presenters/confirming_user_form_presenter.rb</li> <li>A app/presenters/customer/confirming_address_form_presenter.rb</li> <li>A app/presenters/customer/confirming_customer_form_presenter.rb</li> </ul>"},{"location":"journal/20170317/#_34","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 7554c69713ab8351afff65a8688452514484fbad\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 15:19:49 2017 +0900\n\n    \u78ba\u8a8d\u753b\u9762\u7528\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u306e\u4f5c\u6210 #24\n\ndiff --git a/README.md b/README.md\nindex 6bde6a1..269c058 100644\n--- a/README.md\n+++ b/README.md\n@@ -717,6 +717,7 @@ git push heroku master\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n + \u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\u306e\u4fee\u6b63\n + \u78ba\u8a8d\u753b\u9762\u306e\u4eee\u5b9f\u88c5\n++ \u78ba\u8a8d\u753b\u9762\u7528\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u306e\u4f5c\u6210\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/presenters/confirming_form_presenter.rb b/app/presenters/confirming_form_presenter.rb\nnew file mode 100644\nindex 0000000..8fc536d\n--- /dev/null\n+++ b/app/presenters/confirming_form_presenter.rb\n@@ -0,0 +1,35 @@\n+class ConfirmingFormPresenter\n+  include HtmlBuilder\n+\n+  attr_reader :form_builder, :view_context\n+  delegate :lable, :hidden_field, :object, to: :form_builder\n+\n+  def initialize(form_builder, view_context)\n+    @form_builder = form_builder\n+    @view_context = view_context\n+  end\n+\n+  def text_field_block(name, label_text, options = {})\n+    markup(:div) do |m|\n+      m &lt;&lt; decorated_label(name, label_text, options)\n+      if options[:disabled]\n+        m.div(object.send(name), class: 'field-value readonly')\n+      else\n+        m.div(object.send(name), class: 'field-value')\n+        m &lt;&lt; hidden_field(name, options)\n+      end\n+    end\n+  end\n+\n+  def drop_down_list_block(name, label_text, choices, options = {})\n+    markup(:div, class: 'AppForm__input-block') do |m|\n+      m &lt;&lt; decorated_label(name, label_text, options)\n+      m.div(object.send(name), class: 'field-value')\n+      m &lt;&lt; hidden_field(name, options)\n+    end\n+  end\n+\n+  def decorated_label(name, label_text, options = {})\n+    label(name, label_text)\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/presenters/confirming_user_form_presenter.rb b/app/presenters/confirming_user_form_presenter.rb\nnew file mode 100644\nindex 0000000..942ef51\n--- /dev/null\n+++ b/app/presenters/confirming_user_form_presenter.rb\n@@ -0,0 +1,10 @@\n+class ConfirmingUserFormPresenter &lt; ConfirmingFormPresenter\n+  def full_name_block(name1, name2, label_text, options = {})\n+    markup(:div, class: 'AppForm__input-block') do |m|\n+      m &lt;&lt; decorated_label(name1, label_text, options)\n+      m.div(object.send(name1) + ' ' + object.send(name2), class: 'field-value')\n+      m &lt;&lt; hidden_field(name1)\n+      m &lt;&lt; hidden_field(name2)\n+    end\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/presenters/customer/confirming_address_form_presenter.rb b/app/presenters/customer/confirming_address_form_presenter.rb\nnew file mode 100644\nindex 0000000..5693127\n--- /dev/null\n+++ b/app/presenters/customer/confirming_address_form_presenter.rb\n@@ -0,0 +1,9 @@\n+class Customer::ConfirmingAddressFormPresenter &lt; ConfirmingFormPresenter\n+  def postal_code_block(name, label_text, options)\n+    markup(:div, class: 'AppForm__input-block') do |m|\n+      m &lt;&lt; decorated_label(name, label_text, options)\n+      m.div(object.send(name), class: 'field-value')\n+      m &lt;&lt; hidden_field(name, options)\n+    end\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/presenters/customer/confirming_customer_form_presenter.rb b/app/presenters/customer/confirming_customer_form_presenter.rb\nnew file mode 100644\nindex 0000000..d96f350\n--- /dev/null\n+++ b/app/presenters/customer/confirming_customer_form_presenter.rb\n@@ -0,0 +1,17 @@\n+class Customer::ConfirmingCustomerFormPresenter &lt; ConfirmingUserFormPresenter\n+  def birthday_field_block(name, label_text, options = {})\n+    markup(:div, class: 'AppForm__input-block') do |m|\n+      m &lt;&lt; decorated_label(name, label_text, options)\n+      m.div(object.send(name), class: 'field-value')\n+      m &lt;&lt; hidden_field(name)\n+    end\n+  end\n+\n+  def gender_field_block\n+    markup(:div, class: 'AppForm__input-block') do |m|\n+      m &lt;&lt; decorated_label(:gender, '\u6027\u5225')\n+      m.div(object.gender == 'male' ? '\u7537\u6027' : '\u5973\u6027', class: 'field-value')\n+      m &lt;&lt; hidden_field\n+    end\n+  end\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170317/#5d1bb3a","title":"\u30b3\u30df\u30c3\u30c8: 5d1bb3a","text":""},{"location":"journal/20170317/#_35","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u78ba\u8a8d\u753b\u9762\u306e\u4eee\u5b9f\u88c5 #24\n</code></pre>"},{"location":"journal/20170317/#_36","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/customer/accounts_controller.rb</li> <li>M app/forms/customer/account_form.rb</li> <li>A app/views/customer/accounts/confirm.html.erb</li> <li>M config/locales/controllers/ja.yml</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170317/#_37","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 5d1bb3a632f7abd4b4c32514f15cc4644331464b\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 14:45:49 2017 +0900\n\n    \u78ba\u8a8d\u753b\u9762\u306e\u4eee\u5b9f\u88c5 #24\n\ndiff --git a/README.md b/README.md\nindex 651f73b..6bde6a1 100644\n--- a/README.md\n+++ b/README.md\n@@ -716,6 +716,7 @@ git push heroku master\n #### \u78ba\u8a8d\u753b\u9762\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n + \u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\u306e\u4fee\u6b63\n++ \u78ba\u8a8d\u753b\u9762\u306e\u4eee\u5b9f\u88c5\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/controllers/customer/accounts_controller.rb b/app/controllers/customer/accounts_controller.rb\nindex e964c59..e9dc219 100644\n--- a/app/controllers/customer/accounts_controller.rb\n+++ b/app/controllers/customer/accounts_controller.rb\n@@ -18,4 +18,16 @@ class Customer::AccountsController &lt; Customer::Base\n       render action: 'edit'\n     end\n   end\n+\n+  # PATCH\n+  def confirm\n+    @customer_form = Customer::AccountForm.new(current_customer)\n+    @customer_form.assign_attributes(params[:form])\n+    if @customer_form.valid?\n+      render action: 'confirm'\n+    else\n+      flash.now.alert = t('.flash_alert')\n+      render action: 'edit'\n+    end\n+  end\n end\ndiff --git a/app/forms/customer/account_form.rb b/app/forms/customer/account_form.rb\nindex 42dd17d..6aed1f5 100644\n--- a/app/forms/customer/account_form.rb\n+++ b/app/forms/customer/account_form.rb\n@@ -2,7 +2,7 @@ class Customer::AccountForm\n   include ActiveModel::Model\n\n   attr_accessor :customer, :inputs_home_address, :inputs_work_address\n-  delegate :persisted?, :save, to: :customer\n+  delegate :persisted?, :valid?, :save, to: :customer\n\n   def initialize(customer)\n     @customer = customer\ndiff --git a/app/views/customer/accounts/confirm.html.erb b/app/views/customer/accounts/confirm.html.erb\nnew file mode 100644\nindex 0000000..5b2c3d7\n--- /dev/null\n+++ b/app/views/customer/accounts/confirm.html.erb\n@@ -0,0 +1,16 @@\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Customer__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column AppForm\"&gt;\n+  &lt;div class=\"AppForm__generic-form CustomerAppForm__generic-form AppForm__customer-form\"&gt;\n+    &lt;%= bootstrap_form_for @customer_form, as: 'form', url: :customer_account do |f| %&gt;\n+        &lt;p&gt;&lt;%= t('.confirm_message')%&gt;&lt;/p&gt;\n+        &lt;%= render 'form', f: f %&gt;\n+        &lt;div class=\"AppForm__buttons\"&gt;\n+          &lt;%= f.submit t('.update'),class: 'btn btn-default btn-lg' %&gt;\n+          &lt;%= f.submit t('.correct'), name: 'correct', class: 'btn btn-default btn-lg' %&gt;\n+        &lt;/div&gt;\n+    &lt;% end %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 3d7309e..0da1ba1 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -77,3 +77,5 @@ ja:\n       update:\n         flash_notice: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n         flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n+      confirm:\n+        flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 714130d..7e19903 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -279,4 +279,9 @@ ja:\n         title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u7de8\u96c6'\n         confirm: '\u78ba\u8a8d\u753b\u9762\u3078\u9032\u3080'\n         update: '\u66f4\u65b0'\n-        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n\\ No newline at end of file\n+        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n+      confirm:\n+        title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u66f4\u65b0\uff08\u78ba\u8a8d\uff09'\n+        confirm_message: '\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f'\n+        update: '\u66f4\u65b0'\n+        correct: '\u8a02\u6b63'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170317/#_38","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170317/#476f49a","title":"\u30b3\u30df\u30c3\u30c8: 476f49a","text":""},{"location":"journal/20170317/#_39","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\u306e\u4fee\u6b63 #24\n</code></pre>"},{"location":"journal/20170317/#_40","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/views/customer/accounts/edit.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170317/#_41","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 476f49adffb81b6f4f51239a440067f57df0500f\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 14:25:10 2017 +0900\n\n    \u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\u306e\u4fee\u6b63 #24\n\ndiff --git a/README.md b/README.md\nindex 2202f59..651f73b 100644\n--- a/README.md\n+++ b/README.md\n@@ -715,6 +715,7 @@ git push heroku master\n\n #### \u78ba\u8a8d\u753b\u9762\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n++ \u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\u306e\u4fee\u6b63\n\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/views/customer/accounts/edit.html.erb b/app/views/customer/accounts/edit.html.erb\nindex a169648..8ad70cc 100644\n--- a/app/views/customer/accounts/edit.html.erb\n+++ b/app/views/customer/accounts/edit.html.erb\n@@ -5,10 +5,10 @@\n\n &lt;section class=\"Section l-column AppForm\"&gt;\n   &lt;div class=\"AppForm__generic-form CustomerAppForm__generic-form AppForm__customer-form\"&gt;\n-    &lt;%= bootstrap_form_for @customer_form, as: 'form', url: :customer_account do |f| %&gt;\n+    &lt;%= bootstrap_form_for @customer_form, as: 'form', url: :confirm_customer_account do |f| %&gt;\n         &lt;%= render 'form', f: f %&gt;\n         &lt;div class=\"AppForm__buttons\"&gt;\n-          &lt;%= f.submit t('.update'),class: 'btn btn-default btn-lg' %&gt;\n+          &lt;%= f.submit t('.confirm'),class: 'btn btn-default btn-lg' %&gt;\n           &lt;%= link_to t('.cancel'), :customer_account,class: 'btn btn-default btn-lg' %&gt;\n         &lt;/div&gt;\n     &lt;% end %&gt;\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex f414caf..714130d 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -277,5 +277,6 @@ ja:\n         edit: '\u7de8\u96c6'\n       edit:\n         title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u7de8\u96c6'\n+        confirm: '\u78ba\u8a8d\u753b\u9762\u3078\u9032\u3080'\n         update: '\u66f4\u65b0'\n         cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170317/#3146c73","title":"\u30b3\u30df\u30c3\u30c8: 3146c73","text":""},{"location":"journal/20170317/#_42","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #24\n</code></pre>"},{"location":"journal/20170317/#_43","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170317/#_44","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 3146c736dd8faad1394e159a8ca52bcb93c9ce1d\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 14:17:59 2017 +0900\n\n    \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #24\n\ndiff --git a/README.md b/README.md\nindex a4c205b..2202f59 100644\n--- a/README.md\n+++ b/README.md\n@@ -714,6 +714,8 @@ git push heroku master\n + \u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6\u6a5f\u80fd\n\n #### \u78ba\u8a8d\u753b\u9762\n++ \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n+\n #### \u6f14\u7fd2\u554f\u984c\n\n ### Ajax\ndiff --git a/config/routes.rb b/config/routes.rb\nindex ee7c8e3..170bc41 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -57,6 +57,7 @@\n #                  customer_login GET    /login(.:format)                                     customer/sessions#new {:host=&gt;\"0.0.0.0\"}\n #                customer_session DELETE /session(.:format)                                   customer/sessions#destroy {:host=&gt;\"0.0.0.0\"}\n #                                 POST   /session(.:format)                                   customer/sessions#create {:host=&gt;\"0.0.0.0\"}\n+#        confirm_customer_account PATCH  /account/confirm(.:format)                           customer/accounts#confirm {:host=&gt;\"0.0.0.0\"}\n #           edit_customer_account GET    /account/edit(.:format)                              customer/accounts#edit {:host=&gt;\"0.0.0.0\"}\n #                customer_account GET    /account(.:format)                                   customer/accounts#show {:host=&gt;\"0.0.0.0\"}\n #                                 PATCH  /account(.:format)                                   customer/accounts#update {:host=&gt;\"0.0.0.0\"}\n@@ -124,7 +125,9 @@ Rails.application.routes.draw do\n       get 'campaign_submit', to: 'campaign#submit'\n       get 'login' =&gt; 'sessions#new', as: :login\n       resource :session, only: [ :create, :destroy ]\n-      resource :account, except: [ :new, :create, :destroy ]\n+      resource :account, except: [ :new, :create, :destroy ] do\n+        patch :confirm\n+      end\n       resources :programs, only: [ :index, :show ] do\n         resources :entries, only: [ :create ] do\n           patch :cancel, on: :member\n</code></pre>"},{"location":"journal/20170317/#a60faf5","title":"\u30b3\u30df\u30c3\u30c8: a60faf5","text":""},{"location":"journal/20170317/#_45","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6\u6a5f\u80fd #24\n</code></pre>"},{"location":"journal/20170317/#_46","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/assets/javascripts/customer/account_form.coffee</li> <li>A app/assets/stylesheets/components/_customerAppForm.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/controllers/customer/accounts_controller.rb</li> <li>A app/forms/customer/account_form.rb</li> <li>A app/views/customer/accounts/_customer_fields.html.erb</li> <li>A app/views/customer/accounts/_form.html.erb</li> <li>A app/views/customer/accounts/_home_address_fields.html.erb</li> <li>A app/views/customer/accounts/_phone_fields.html.erb</li> <li>A app/views/customer/accounts/_work_address_fields.html.erb</li> <li>A app/views/customer/accounts/edit.html.erb</li> <li>M app/views/customer/accounts/show.html.erb</li> <li>M config/locales/controllers/ja.yml</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170317/#_47","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit a60faf5434ad3744b5c19653ca4ba312d9502bc9\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 14:13:06 2017 +0900\n\n    \u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6\u6a5f\u80fd #24\n\ndiff --git a/README.md b/README.md\nindex b6e2467..a4c205b 100644\n--- a/README.md\n+++ b/README.md\n@@ -711,6 +711,7 @@ git push heroku master\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n + \u9867\u5ba2\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u306e\u4fee\u6b63\n + \u30a2\u30ab\u30a6\u30f3\u30c8\u8a73\u7d30\u8868\u793a\n++ \u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6\u6a5f\u80fd\n\n #### \u78ba\u8a8d\u753b\u9762\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/assets/javascripts/customer/account_form.coffee b/app/assets/javascripts/customer/account_form.coffee\nnew file mode 100644\nindex 0000000..3db60a7\n--- /dev/null\n+++ b/app/assets/javascripts/customer/account_form.coffee\n@@ -0,0 +1,26 @@\n+$(document).on \"turbolinks:load\", -&gt;\n+  do -&gt;\n+    new AccountForm\n+\n+class AccountForm\n+  constructor: -&gt;\n+    $('.AppForm__customer-form input#form_inputs_home_address').on\n+      'click' : handleHomeAddressFields\n+    $('.AppForm__customer-form input#form_inputs_work_address').on\n+      'click' : handleWorkAddrssFields\n+\n+  handleHomeAddressFields = -&gt;\n+    toggleHomeAddressFields()\n+  handleWorkAddrssFields = -&gt;\n+    toggleWorkAddressFields()\n+\n+  toggleHomeAddressFields = -&gt;\n+    checked = $('input#form_inputs_home_address').prop('checked')\n+    $('fieldset#home-address-fields input').prop('disabled', !checked)\n+    $('fieldset#home-address-fields select').prop('disabled', !checked)\n+    $('fieldset#home-address-fields').toggle(checked)\n+  toggleWorkAddressFields = -&gt;\n+    checked = $('input#form_inputs_work_address').prop('checked')\n+    $('fieldset#work-address-fields input').prop('disabled', !checked)\n+    $('fieldset#work-address-fields select').prop('disabled', !checked)\n+    $('fieldset#work-address-fields').toggle(checked)\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/components/_customerAppForm.scss b/app/assets/stylesheets/components/_customerAppForm.scss\nnew file mode 100644\nindex 0000000..eea83d8\n--- /dev/null\n+++ b/app/assets/stylesheets/components/_customerAppForm.scss\n@@ -0,0 +1,12 @@\n+// =====================\n+// CustomerApplicationForm\n+// ---------------------\n+// \u9867\u5ba2\u7528\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7528\u30d5\u30a9\u30fc\u30e0\n+// =====================\n+\n+\n+.CustomerAppForm {\n+  &amp;__generic-form {\n+    border: solid 4px $dark_yellow;\n+    }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 6293d9d..b0f45e1 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -75,6 +75,7 @@\n @import \"./components/appForm\";\n @import \"./components/adminAppForm\";\n @import \"./components/staffAppForm\";\n+@import \"./components/customerAppForm\";\n @import \"./components/appEntryForm\";\n\n // \u30c6\u30fc\u30d6\u30eb\ndiff --git a/app/controllers/customer/accounts_controller.rb b/app/controllers/customer/accounts_controller.rb\nindex e6d6b32..e964c59 100644\n--- a/app/controllers/customer/accounts_controller.rb\n+++ b/app/controllers/customer/accounts_controller.rb\n@@ -2,4 +2,20 @@ class Customer::AccountsController &lt; Customer::Base\n   def show\n     @customer = current_customer\n   end\n+\n+  def edit\n+    @customer_form = Customer::AccountForm.new(current_customer)\n+  end\n+\n+  def update\n+    @customer_form = Customer::AccountForm.new(current_customer)\n+    @customer_form.assign_attributes(params[:form])\n+    if @customer_form.save\n+      flash.notice = t('.flash_notice')\n+      redirect_to :staff_account\n+    else\n+      flash.now.alert = t('.flash_alert')\n+      render action: 'edit'\n+    end\n+  end\n end\ndiff --git a/app/forms/customer/account_form.rb b/app/forms/customer/account_form.rb\nnew file mode 100644\nindex 0000000..42dd17d\n--- /dev/null\n+++ b/app/forms/customer/account_form.rb\n@@ -0,0 +1,110 @@\n+class Customer::AccountForm\n+  include ActiveModel::Model\n+\n+  attr_accessor :customer, :inputs_home_address, :inputs_work_address\n+  delegate :persisted?, :save, to: :customer\n+\n+  def initialize(customer)\n+    @customer = customer\n+    (2 - @customer.personal_phones.size).times do\n+      @customer.personal_phones.build\n+    end\n+    self.inputs_home_address = @customer.home_address.present?\n+    self.inputs_work_address = @customer.work_address.present?\n+    @customer.build_home_address unless @customer.home_address\n+    @customer.build_work_address unless @customer.work_address\n+    (2 - @customer.home_address.phones.size).times do\n+      @customer.home_address.phones.build\n+    end\n+    (2 - @customer.work_address.phones.size).times do\n+      @customer.work_address.phones.build\n+    end\n+  end\n+\n+  def assign_attributes(params = {})\n+    @params = params\n+    self.inputs_home_address = params[:inputs_home_address] == '1'\n+    self.inputs_work_address = params[:inputs_work_address] == '1'\n+\n+    customer.assign_attributes(customer_params)\n+\n+    phones = phone_params(:customer).fetch(:phones)\n+    customer.personal_phones.size.times do |index|\n+      attributes = phones[index.to_s]\n+      if attributes &amp;&amp; attributes[:number].present?\n+        customer.personal_phones[index].assign_attributes(attributes)\n+      else\n+        customer.personal_phones[index].mark_for_destruction\n+      end\n+    end\n+\n+    if inputs_home_address\n+      customer.home_address.assign_attributes(home_address_params)\n+\n+      phones = phone_params(:home_address).fetch(:phones)\n+      customer.home_address.phones.size.times do |index|\n+        attributes = phones[index.to_s]\n+        if attributes &amp;&amp; attributes[:number].present?\n+          customer.home_address.phones[index].assign_attributes(attributes)\n+        else\n+          customer.home_address.phones[index].mark_for_destruction\n+        end\n+      end\n+    else\n+      customer.home_address.mark_for_destruction\n+    end\n+    if inputs_work_address\n+      customer.work_address.assign_attributes(work_address_params)\n+\n+      phones = phone_params(:work_address).fetch(:phones)\n+      customer.work_address.phones.size.times do |index|\n+        attributes = phones[index.to_s]\n+        if attributes &amp;&amp; attributes[:number].present?\n+          customer.work_address.phones[index].assign_attributes(attributes)\n+        else\n+          customer.work_address.phones[index].mark_for_destruction\n+        end\n+      end\n+    else\n+      customer.work_address.mark_for_destruction\n+    end\n+  end\n+\n+  private\n+  def customer_params\n+    @params.require(:customer).permit(\n+                                  :family_name,\n+                                  :given_name,\n+                                  :family_name_kana,\n+                                  :given_name_kana,\n+                                  :birthday,\n+                                  :gender\n+    )\n+  end\n+\n+  def home_address_params\n+    @params.require(:home_address).permit(\n+                                     :postal_code,\n+                                     :prefecture,\n+                                     :city,\n+                                     :address1,\n+                                     :address2,\n+    )\n+  end\n+\n+  def work_address_params\n+    @params.require(:work_address).permit(\n+                                      :postal_code,\n+                                      :prefecture,\n+                                      :city,\n+                                      :address1,\n+                                      :address2,\n+                                      :company_name,\n+                                      :division_name\n+    )\n+  end\n+\n+  def phone_params(record_name)\n+    @params.require(record_name).permit(phones: [ :number, :primary ])\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/views/customer/accounts/_customer_fields.html.erb b/app/views/customer/accounts/_customer_fields.html.erb\nnew file mode 100644\nindex 0000000..24ceba4\n--- /dev/null\n+++ b/app/views/customer/accounts/_customer_fields.html.erb\n@@ -0,0 +1,19 @@\n+&lt;%= f.fields_for :customer, f.object.customer do |ff| %&gt;\n+&lt;%= markup do |m|\n+  p = Staff::CustomerFormPresenter.new(ff,self)\n+  p.with_options(required: true) do |q|\n+    m &lt;&lt; q.text_field_block(:email, t('activerecord.attributes.customer.email'), size: 32)\n+    m &lt;&lt; q.full_name_block(:family_name, :given_name, t('activerecord.attributes.customer.full_name'))\n+    m &lt;&lt; q.full_name_block(:family_name_kana, :given_name_kana, t('activerecord.attributes.customer.full_name_kana'))\n+  end\n+  m &lt;&lt; p.birthday_field_block(:birthday, t('activerecord.attributes.customer.birthday'))\n+  m &lt;&lt; p.gender_field_block\n+  m.div(class: 'AppForm__input-block') do\n+    m.ol do\n+      p.object.personal_phones.each_with_index do |phone, index|\n+        m &lt;&lt; render('phone_fields', f: ff, phone: phone, index: index)\n+      end\n+    end\n+  end\n+  end %&gt;\n+&lt;% end %&gt;\n\\ No newline at end of file\ndiff --git a/app/views/customer/accounts/_form.html.erb b/app/views/customer/accounts/_form.html.erb\nnew file mode 100644\nindex 0000000..80eb496\n--- /dev/null\n+++ b/app/views/customer/accounts/_form.html.erb\n@@ -0,0 +1,19 @@\n+&lt;%= FormPresenter.new(f,self).notes %&gt;\n+&lt;fieldset id=\"customer-fields\"&gt;\n+  &lt;legend&gt;&lt;%= t('staff.customers.new.basic_info') %&gt;&lt;/legend&gt;\n+  &lt;%= render 'customer_fields', f: f %&gt;\n+&lt;/fieldset&gt;\n+&lt;div&gt;\n+  &lt;%= f.check_box :inputs_home_address, label: t('staff.customers.new.home_address_inputs')  %&gt;\n+&lt;/div&gt;\n+&lt;fieldset id=\"home-address-fields\"&gt;\n+  &lt;legend&gt;&lt;%= t('staff.customers.new.home_address') %&gt;&lt;/legend&gt;\n+  &lt;%= render 'home_address_fields', f: f %&gt;\n+&lt;/fieldset&gt;\n+&lt;div&gt;\n+  &lt;%= f.check_box :inputs_work_address, label: t('staff.customers.new.work_address_inputs') %&gt;\n+&lt;/div&gt;\n+&lt;fieldset id=\"work-address-fields\"&gt;\n+  &lt;legend&gt;&lt;%= t('staff.customers.new.work_address') %&gt;&lt;/legend&gt;\n+  &lt;%= render 'work_address_fields', f: f %&gt;\n+&lt;/fieldset&gt;\ndiff --git a/app/views/customer/accounts/_home_address_fields.html.erb b/app/views/customer/accounts/_home_address_fields.html.erb\nnew file mode 100644\nindex 0000000..23aa061\n--- /dev/null\n+++ b/app/views/customer/accounts/_home_address_fields.html.erb\n@@ -0,0 +1,19 @@\n+&lt;%= f.fields_for :home_address, f.object.customer.home_address do |ff| %&gt;\n+&lt;%= markup do |m|\n+  p = Staff::AddressFormPresenter.new(ff,self)\n+  p.with_options(required: true) do |q|\n+    m &lt;&lt; q.postal_code_block(:postal_code, t('activerecord.attributes.home_address.postal_code'), size: 7)\n+    m &lt;&lt; q.drop_down_list_block(:prefecture, t('activerecord.attributes.home_address.prefecture'),Address::PREFECTURE_NAMES)\n+    m &lt;&lt; q.text_field_block(:city, t('activerecord.attributes.home_address.city'), size: 16)\n+    m &lt;&lt; q.text_field_block(:address1, t('activerecord.attributes.home_address.address1'), size: 40)\n+  end\n+  m &lt;&lt; p.text_field_block(:address2, t('activerecord.attributes.home_address.address2'), size: 40)\n+  m.div(class: 'FormApp__input-block') do\n+    m.ol do\n+      p.object.phones.each_with_index do |phone, index|\n+        m &lt;&lt; render('phone_fields', f: ff, phone: phone, index: index)\n+        end\n+      end\n+    end\n+end %&gt;\n+&lt;% end %&gt;\ndiff --git a/app/views/customer/accounts/_phone_fields.html.erb b/app/views/customer/accounts/_phone_fields.html.erb\nnew file mode 100644\nindex 0000000..a5f6749\n--- /dev/null\n+++ b/app/views/customer/accounts/_phone_fields.html.erb\n@@ -0,0 +1,6 @@\n+&lt;%= f.fields_for :phones, phone, index: index do |ff| %&gt;\n+    &lt;%= markup(:li) do |m|\n+      m &lt;&lt; ff.text_field(:number, skip_required: true)\n+      m &lt;&lt; ff.check_box(:primary, label: t('activerecord.attributes.phone.primary'))\n+      end %&gt;\n+&lt;% end %&gt;\n\\ No newline at end of file\ndiff --git a/app/views/customer/accounts/_work_address_fields.html.erb b/app/views/customer/accounts/_work_address_fields.html.erb\nnew file mode 100644\nindex 0000000..b9e6cd3\n--- /dev/null\n+++ b/app/views/customer/accounts/_work_address_fields.html.erb\n@@ -0,0 +1,19 @@\n+&lt;%= f.fields_for :work_address, f.object.customer.work_address do |ff| %&gt;\n+    &lt;%= markup do |m|\n+      p = Staff::AddressFormPresenter.new(ff,self)\n+      m &lt;&lt; p.text_field_block(:company_name, t('activerecord.attributes.work_address.company_name'), size: 40, required: true)\n+      m &lt;&lt; p.text_field_block(:division_name, t('activerecord.attributes.work_address.division_name'), size: 40)\n+      m &lt;&lt; p.postal_code_block(:postal_code, t('activerecord.attributes.work_address.postal_code'), size: 7)\n+      m &lt;&lt; p.drop_down_list_block(:prefecture, t('activerecord.attributes.work_address.prefecture'),Address::PREFECTURE_NAMES)\n+      m &lt;&lt; p.text_field_block(:city, t('activerecord.attributes.work_address.city'), size: 16)\n+      m &lt;&lt; p.text_field_block(:address1, t('activerecord.attributes.work_address.address1'), size: 40)\n+      m &lt;&lt; p.text_field_block(:address2, t('activerecord.attributes.work_address.address2'), size: 40)\n+      m.div(class: 'FormApp__input-block') do\n+        m.ol do\n+          p.object.phones.each_with_index do |phone, index|\n+            m &lt;&lt; render('phone_fields', f: ff, phone: phone, index: index)\n+          end\n+        end\n+      end\n+    end %&gt;\n+&lt;% end %&gt;\ndiff --git a/app/views/customer/accounts/edit.html.erb b/app/views/customer/accounts/edit.html.erb\nnew file mode 100644\nindex 0000000..a169648\n--- /dev/null\n+++ b/app/views/customer/accounts/edit.html.erb\n@@ -0,0 +1,16 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Customer__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column AppForm\"&gt;\n+  &lt;div class=\"AppForm__generic-form CustomerAppForm__generic-form AppForm__customer-form\"&gt;\n+    &lt;%= bootstrap_form_for @customer_form, as: 'form', url: :customer_account do |f| %&gt;\n+        &lt;%= render 'form', f: f %&gt;\n+        &lt;div class=\"AppForm__buttons\"&gt;\n+          &lt;%= f.submit t('.update'),class: 'btn btn-default btn-lg' %&gt;\n+          &lt;%= link_to t('.cancel'), :customer_account,class: 'btn btn-default btn-lg' %&gt;\n+        &lt;/div&gt;\n+    &lt;% end %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\ndiff --git a/app/views/customer/accounts/show.html.erb b/app/views/customer/accounts/show.html.erb\nindex 469002d..5bbb464 100644\n--- a/app/views/customer/accounts/show.html.erb\n+++ b/app/views/customer/accounts/show.html.erb\n@@ -1,9 +1,12 @@\n &lt;% @title = t('.title') %&gt;\n &lt;section class=\"Section\"&gt;\n-  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+  &lt;h1 class=\"Customer__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n &lt;/section&gt;\n\n &lt;section class=\"Section l-column Table StaffTable\"&gt;\n+  &lt;div class=\"Table__links\"&gt;\n+    &lt;%= link_to t('.edit'), :edit_customer_account , class: 'btn btn-default' %&gt;\n+  &lt;/div&gt;\n   &lt;table class=\"Table__body Table__body--attributes StaffTable__body\"&gt;\n     &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\" colspan=\"2\"&gt;&lt;%= t('.basic_info') %&gt;&lt;/th&gt;&lt;/tr&gt;\n     &lt;% p1 = Staff::CustomerPresenter.new(@customer, self) %&gt;\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex facc37e..3d7309e 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -72,4 +72,8 @@ ja:\n         flash_alert: '\u30d7\u30ed\u30b0\u30e9\u30e0\u3078\u306e\u7533\u8fbc\u8005\u6570\u304c\u4e0a\u9650\u306b\u9054\u3057\u307e\u3057\u305f\u3002'\n         flash_alert_close: '\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u7533\u3057\u8fbc\u307f\u671f\u9650\u304c\u7d42\u4e86\u3057\u307e\u3057\u305f\u3002'\n       cancel:\n-        flash_notice: '\u30d7\u30ed\u30b0\u30e9\u30e0\u3078\u306e\u7533\u8fbc\u307f\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3057\u307e\u3057\u305f\u3002'\n\\ No newline at end of file\n+        flash_notice: '\u30d7\u30ed\u30b0\u30e9\u30e0\u3078\u306e\u7533\u8fbc\u307f\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3057\u307e\u3057\u305f\u3002'\n+    accounts:\n+      update:\n+        flash_notice: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n+        flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex b57c221..f414caf 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -246,7 +246,7 @@ ja:\n         confirm: '\u672c\u5f53\u306b\u7533\u3057\u8fbc\u307f\u307e\u3059\u304b\uff1f'\n     accounts:\n       show:\n-        title: '\u9867\u5ba2\u8a73\u7d30\u60c5\u5831'\n+        title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831'\n         basic_info: '\u57fa\u672c\u60c5\u5831'\n         home_address: '\u81ea\u5b85\u4f4f\u6240'\n         work_address: '\u52e4\u52d9\u5148'\n@@ -273,4 +273,9 @@ ja:\n         work_address_address1: '\u753a\u57df\u3001\u756a\u5730\u7b49'\n         work_address_address2: '\u5efa\u7269\u540d\u3001\u90e8\u5c4b\u756a\u53f7'\n         work_address_phones_1: '\u52e4\u52d9\u5148\u96fb\u8a71\u756a\u53f7\uff08\uff11\uff09'\n-        work_address_phones_2: '\u52e4\u52d9\u5148\u96fb\u8a71\u756a\u53f7\uff08\uff12\uff09'\n\\ No newline at end of file\n+        work_address_phones_2: '\u52e4\u52d9\u5148\u96fb\u8a71\u756a\u53f7\uff08\uff12\uff09'\n+        edit: '\u7de8\u96c6'\n+      edit:\n+        title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u7de8\u96c6'\n+        update: '\u66f4\u65b0'\n+        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170317/#_48","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170317/#9c56504","title":"\u30b3\u30df\u30c3\u30c8: 9c56504","text":""},{"location":"journal/20170317/#_49","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30a2\u30ab\u30a6\u30f3\u30c8\u8a73\u7d30\u8868\u793a #24\n</code></pre>"},{"location":"journal/20170317/#_50","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/controllers/customer/accounts_controller.rb</li> <li>A app/views/customer/accounts/show.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170317/#_51","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 9c565041849fe1a7f1683c5304cfb265d631eb03\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 13:31:39 2017 +0900\n\n    \u30a2\u30ab\u30a6\u30f3\u30c8\u8a73\u7d30\u8868\u793a #24\n\ndiff --git a/README.md b/README.md\nindex 548c321..b6e2467 100644\n--- a/README.md\n+++ b/README.md\n@@ -710,6 +710,7 @@ git push heroku master\n #### \u9867\u5ba2\u81ea\u8eab\u306b\u3088\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n + \u9867\u5ba2\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u306e\u4fee\u6b63\n++ \u30a2\u30ab\u30a6\u30f3\u30c8\u8a73\u7d30\u8868\u793a\n\n #### \u78ba\u8a8d\u753b\u9762\n #### \u6f14\u7fd2\u554f\u984c\ndiff --git a/app/controllers/customer/accounts_controller.rb b/app/controllers/customer/accounts_controller.rb\nnew file mode 100644\nindex 0000000..e6d6b32\n--- /dev/null\n+++ b/app/controllers/customer/accounts_controller.rb\n@@ -0,0 +1,5 @@\n+class Customer::AccountsController &lt; Customer::Base\n+  def show\n+    @customer = current_customer\n+  end\n+end\ndiff --git a/app/views/customer/accounts/show.html.erb b/app/views/customer/accounts/show.html.erb\nnew file mode 100644\nindex 0000000..469002d\n--- /dev/null\n+++ b/app/views/customer/accounts/show.html.erb\n@@ -0,0 +1,41 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column Table StaffTable\"&gt;\n+  &lt;table class=\"Table__body Table__body--attributes StaffTable__body\"&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\" colspan=\"2\"&gt;&lt;%= t('.basic_info') %&gt;&lt;/th&gt;&lt;/tr&gt;\n+    &lt;% p1 = Staff::CustomerPresenter.new(@customer, self) %&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.full_name') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p1.full_name %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.full_name_kana') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p1.full_name_kana %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.birthday') %&gt;&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p1.birthday %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.gender') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p1.gender %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.personal_phones_1') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p1.personal_phones[0] %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.personal_phones_2') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p1.personal_phones[1] %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;% if @customer.home_address %&gt;\n+        &lt;% p2 = Staff::AddressPresenter.new(@customer.home_address, self) %&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\" colspan=\"2\"&gt;&lt;%= t('.home_address') %&gt;&lt;/th&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_postal_code') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.postal_code %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_prefecture') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.prefecture %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_city') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.city %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_address1') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.address1 %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_address2') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.address2 %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_phones_1') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.phones[0] %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.home_address_phones_2') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p2.phones[1] %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;% end %&gt;\n+    &lt;% if @customer.work_address %&gt;\n+        &lt;% p3 = Staff::AddressPresenter.new(@customer.work_address, self) %&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\" colspan=\"2\"&gt;&lt;%= t('.work_address') %&gt;&lt;/th&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_company_name') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.company_name %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_division_name') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.division_name %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_postal_code') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.postal_code %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_prefecture')%&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.prefecture %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_city') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.city %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_address1') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.address1 %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_address2') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.address2 %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_phones_1') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.phones[0] %&gt;&lt;/td&gt;&lt;/tr&gt;\n+        &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.work_address_phones_2') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p3.phones[1] %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;% end %&gt;\n+  &lt;/table&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 23cb9c2..b57c221 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -243,4 +243,34 @@ ja:\n         confirm_cancel: '\u672c\u5f53\u306b\u30ad\u30e3\u30f3\u30bb\u30eb\u3057\u307e\u3059\u304b\uff1f'\n         closed: '\u52df\u96c6\u7d42\u4e86'\n         apply: '\u7533\u3057\u8fbc\u3080'\n-        confirm: '\u672c\u5f53\u306b\u7533\u3057\u8fbc\u307f\u307e\u3059\u304b\uff1f'\n\\ No newline at end of file\n+        confirm: '\u672c\u5f53\u306b\u7533\u3057\u8fbc\u307f\u307e\u3059\u304b\uff1f'\n+    accounts:\n+      show:\n+        title: '\u9867\u5ba2\u8a73\u7d30\u60c5\u5831'\n+        basic_info: '\u57fa\u672c\u60c5\u5831'\n+        home_address: '\u81ea\u5b85\u4f4f\u6240'\n+        work_address: '\u52e4\u52d9\u5148'\n+        full_name: '\u6c0f\u540d'\n+        full_name_kana: '\u30d5\u30ea\u30ac\u30ca'\n+        birthday: '\u751f\u5e74\u6708\u65e5'\n+        gender: '\u6027\u5225'\n+        create_at: '\u767b\u9332\u65e5\u6642'\n+        update_at: '\u66f4\u65b0\u65e5\u6642'\n+        personal_phones_1: '\u500b\u4eba\u96fb\u8a71\u756a\u53f7\uff08\uff11\uff09'\n+        personal_phones_2: '\u500b\u4eba\u96fb\u8a71\u756a\u53f7\uff08\uff12\uff09'\n+        home_address_postal_code: '\u90f5\u4fbf\u756a\u53f7'\n+        home_address_prefecture: '\u90fd\u9053\u5e9c\u770c'\n+        home_address_city: '\u5e02\u533a\u753a\u6751'\n+        home_address_address1: '\u753a\u57df\u3001\u756a\u5730\u7b49'\n+        home_address_address2: '\u5efa\u7269\u540d\u3001\u90e8\u5c4b\u756a\u53f7'\n+        home_address_phones_1: '\u81ea\u5b85\u96fb\u8a71\u756a\u53f7\uff08\uff11\uff09'\n+        home_address_phones_2: '\u81ea\u5b85\u96fb\u8a71\u756a\u53f7\uff08\uff12\uff09'\n+        work_address_company_name: '\u4f1a\u793e\u540d'\n+        work_address_division_name: '\u90e8\u7f72\u540d'\n+        work_address_postal_code: '\u90f5\u4fbf\u756a\u53f7'\n+        work_address_prefecture: '\u90fd\u9053\u5e9c\u770c'\n+        work_address_city: '\u5e02\u533a\u753a\u6751'\n+        work_address_address1: '\u753a\u57df\u3001\u756a\u5730\u7b49'\n+        work_address_address2: '\u5efa\u7269\u540d\u3001\u90e8\u5c4b\u756a\u53f7'\n+        work_address_phones_1: '\u52e4\u52d9\u5148\u96fb\u8a71\u756a\u53f7\uff08\uff11\uff09'\n+        work_address_phones_2: '\u52e4\u52d9\u5148\u96fb\u8a71\u756a\u53f7\uff08\uff12\uff09'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170317/#_52","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170317/#bcc4f1b","title":"\u30b3\u30df\u30c3\u30c8: bcc4f1b","text":""},{"location":"journal/20170317/#_53","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u9867\u5ba2\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u306e\u4fee\u6b63 #24\n</code></pre>"},{"location":"journal/20170317/#_54","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/stylesheets/components/common/_header.scss</li> <li>M app/views/customer/shared/_header_login.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170317/#_55","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit bcc4f1b373144efe7e83f17e28e9b153a7e63dea\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 13:11:49 2017 +0900\n\n    \u9867\u5ba2\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u306e\u4fee\u6b63 #24\n\ndiff --git a/README.md b/README.md\nindex 27d50a1..548c321 100644\n--- a/README.md\n+++ b/README.md\n@@ -709,6 +709,8 @@ git push heroku master\n ### \u30d5\u30a9\u30fc\u30e0\u306e\u78ba\u8a8d\u753b\u9762 \n #### \u9867\u5ba2\u81ea\u8eab\u306b\u3088\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n++ \u9867\u5ba2\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u306e\u4fee\u6b63\n+\n #### \u78ba\u8a8d\u753b\u9762\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/app/assets/stylesheets/components/common/_header.scss b/app/assets/stylesheets/components/common/_header.scss\nindex 2a68577..a91cc29 100644\n--- a/app/assets/stylesheets/components/common/_header.scss\n+++ b/app/assets/stylesheets/components/common/_header.scss\n@@ -23,4 +23,7 @@\n       font-size: 22px;\n     }\n   }\n+  &amp;__account {\n+    margin-left: $wide;\n+  }\n }\n\\ No newline at end of file\ndiff --git a/app/views/customer/shared/_header_login.html.erb b/app/views/customer/shared/_header_login.html.erb\nindex d957b92..0bc79c2 100644\n--- a/app/views/customer/shared/_header_login.html.erb\n+++ b/app/views/customer/shared/_header_login.html.erb\n@@ -22,4 +22,5 @@\n         link_to t('customer.shared.header.login'), :customer_login, class: 'btn btn-default'\n       end\n   %&gt;\n+  &lt;%= link_to t('customer.shared.header.account'), :customer_account, class: 'btn btn-default Header__account' if current_customer %&gt;\n &lt;/header&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 4084d1a..23cb9c2 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -211,6 +211,7 @@ ja:\n       header:\n         login: '\u30ed\u30b0\u30a4\u30f3'\n         logout: '\u30ed\u30b0\u30a2\u30a6\u30c8'\n+        account: '\u30a2\u30ab\u30a6\u30f3\u30c8'\n     sessions:\n       new:\n         title: '\u30ed\u30b0\u30a4\u30f3'\n</code></pre>"},{"location":"journal/20170317/#9f635a9","title":"\u30b3\u30df\u30c3\u30c8: 9f635a9","text":""},{"location":"journal/20170317/#_56","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #24\n</code></pre>"},{"location":"journal/20170317/#_57","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170317/#_58","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 9f635a9525593d2466393a1db44375197606e8b1\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 12:51:21 2017 +0900\n\n    \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #24\n\ndiff --git a/README.md b/README.md\nindex cad918c..27d50a1 100644\n--- a/README.md\n+++ b/README.md\n@@ -708,6 +708,7 @@ git push heroku master\n\n ### \u30d5\u30a9\u30fc\u30e0\u306e\u78ba\u8a8d\u753b\u9762 \n #### \u9867\u5ba2\u81ea\u8eab\u306b\u3088\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\n++ \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n #### \u78ba\u8a8d\u753b\u9762\n #### \u6f14\u7fd2\u554f\u984c\n\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 829ed42..ee7c8e3 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -1,6 +1,9 @@\n # == Route Map\n #\n #                          Prefix Verb   URI Pattern                                          Controller#Action\n+#         customer_entries_create GET    /customer/entries/create(.:format)                   customer/entries#create\n+#         customer_programs_index GET    /customer/programs/index(.:format)                   customer/programs#index\n+#          customer_programs_show GET    /customer/programs/show(.:format)                    customer/programs#show\n #                      staff_root GET    /staff(.:format)                                     staff/top#index {:host=&gt;\"0.0.0.0\"}\n #                     staff_login GET    /staff/login(.:format)                               staff/sessions#new {:host=&gt;\"0.0.0.0\"}\n #                   staff_session DELETE /staff/session(.:format)                             staff/sessions#destroy {:host=&gt;\"0.0.0.0\"}\n@@ -54,6 +57,12 @@\n #                  customer_login GET    /login(.:format)                                     customer/sessions#new {:host=&gt;\"0.0.0.0\"}\n #                customer_session DELETE /session(.:format)                                   customer/sessions#destroy {:host=&gt;\"0.0.0.0\"}\n #                                 POST   /session(.:format)                                   customer/sessions#create {:host=&gt;\"0.0.0.0\"}\n+#           edit_customer_account GET    /account/edit(.:format)                              customer/accounts#edit {:host=&gt;\"0.0.0.0\"}\n+#                customer_account GET    /account(.:format)                                   customer/accounts#show {:host=&gt;\"0.0.0.0\"}\n+#                                 PATCH  /account(.:format)                                   customer/accounts#update {:host=&gt;\"0.0.0.0\"}\n+#                                 PUT    /account(.:format)                                   customer/accounts#update {:host=&gt;\"0.0.0.0\"}\n+#   cancel_customer_program_entry PATCH  /programs/:program_id/entries/:id/cancel(.:format)   customer/entries#cancel {:host=&gt;\"0.0.0.0\"}\n+#        customer_program_entries POST   /programs/:program_id/entries(.:format)              customer/entries#create {:host=&gt;\"0.0.0.0\"}\n #               customer_programs GET    /programs(.:format)                                  customer/programs#index {:host=&gt;\"0.0.0.0\"}\n #                customer_program GET    /programs/:id(.:format)                              customer/programs#show {:host=&gt;\"0.0.0.0\"}\n #                            root GET    /                                                    errors#routing_error\n@@ -115,6 +124,7 @@ Rails.application.routes.draw do\n       get 'campaign_submit', to: 'campaign#submit'\n       get 'login' =&gt; 'sessions#new', as: :login\n       resource :session, only: [ :create, :destroy ]\n+      resource :account, except: [ :new, :create, :destroy ]\n       resources :programs, only: [ :index, :show ] do\n         resources :entries, only: [ :create ] do\n           patch :cancel, on: :member\n</code></pre>"},{"location":"journal/20170317/#b48c9a1","title":"\u30b3\u30df\u30c3\u30c8: b48c9a1","text":""},{"location":"journal/20170317/#_59","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af #25\n</code></pre>"},{"location":"journal/20170317/#_60","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/customer/top/dashboard.html.erb</li> </ul>"},{"location":"journal/20170317/#_61","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit b48c9a1cd9145150e646028709e20471b5dcaac7\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 12:35:11 2017 +0900\n\n    \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af #25\n\ndiff --git a/app/views/customer/top/dashboard.html.erb b/app/views/customer/top/dashboard.html.erb\nindex 83a0f41..fd60d28 100644\n--- a/app/views/customer/top/dashboard.html.erb\n+++ b/app/views/customer/top/dashboard.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-3-17\"&gt;2017.3.17&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u6a5f\u80fd\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-2-9\"&gt;2017.2.9&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u9867\u5ba2\u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u6a5f\u80fd\u8ffd\u52a0&lt;/span&gt;\n</code></pre>"},{"location":"journal/20170317/#1569069","title":"\u30b3\u30df\u30c3\u30c8: 1569069","text":""},{"location":"journal/20170317/#_62","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u7533\u3057\u8fbc\u307f\u306e\u30ad\u30e3\u30f3\u30bb\u30eb #25\n</code></pre>"},{"location":"journal/20170317/#_63","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/customer/entries_controller.rb</li> <li>M app/presenters/customer/program_presenter.rb</li> <li>M config/locales/controllers/ja.yml</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170317/#_64","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 1569069f69cf3a283370394db1d768d8f2a0abc8\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 12:31:15 2017 +0900\n\n    \u7533\u3057\u8fbc\u307f\u306e\u30ad\u30e3\u30f3\u30bb\u30eb #25\n\ndiff --git a/README.md b/README.md\nindex c648b7d..cad918c 100644\n--- a/README.md\n+++ b/README.md\n@@ -704,6 +704,7 @@ git push heroku master\n + \u7533\u8fbc\u307f\u3092\u53d7\u3051\u4ed8\u3051\u308b\n + \u6392\u4ed6\u5236\u5fa1\n + \u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u6a5f\u80fd\u306e\u4ed5\u4e0a\u3052\n++ \u7533\u3057\u8fbc\u307f\u306e\u30ad\u30e3\u30f3\u30bb\u30eb\n\n ### \u30d5\u30a9\u30fc\u30e0\u306e\u78ba\u8a8d\u753b\u9762 \n #### \u9867\u5ba2\u81ea\u8eab\u306b\u3088\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\ndiff --git a/app/controllers/customer/entries_controller.rb b/app/controllers/customer/entries_controller.rb\nindex 7951433..8de2e01 100644\n--- a/app/controllers/customer/entries_controller.rb\n+++ b/app/controllers/customer/entries_controller.rb\n@@ -11,4 +11,13 @@ class Customer::EntriesController &lt; Customer::Base\n       end\n     redirect_to [ :customer, program ]\n   end\n+\n+  # PATCH\n+  def cancel\n+    program = Program.published.find(params[:program_id])\n+    entry = program.entries.where(customer_id: current_customer.id).first!\n+    entry.update_column(:canceled, true)\n+    flash.notice = t('.flash_notice')\n+    redirect_to [:customer, program ]\n+  end\n end\ndiff --git a/app/presenters/customer/program_presenter.rb b/app/presenters/customer/program_presenter.rb\nindex da482cb..ec7ec6c 100644\n--- a/app/presenters/customer/program_presenter.rb\n+++ b/app/presenters/customer/program_presenter.rb\n@@ -2,6 +2,7 @@ class Customer::ProgramPresenter &lt; ModelPresenter\n   delegate :title,\n            :description, to: :object\n   delegate :number_with_delimiter,\n+           :current_customer,\n            :button_to, to: :view_context\n\n   def initialize(object, view_context)\n@@ -26,8 +27,13 @@ class Customer::ProgramPresenter &lt; ModelPresenter\n   end\n\n   def apply_or_cancel_button\n-    closed = object.application_end_time &lt; Time.current\n-    label_text = closed ? I18n.t('customer.programs.show.closed') : I18n.t('customer.programs.show.apply')\n-    button_to label_text, [ :customer, object, :entries ], disabled: closed, method: :post, class: 'btn btn-default', data: { confirm: I18n.t('customer.programs.show.confirm')}\n+    if entry = object.entries.where(customer_id: current_customer.id).first\n+      label_text = entry.canceled? ? I18n.t('customer.programs.show.canceled') : I18n.t('customer.programs.show.cancel')\n+      button_to label_text, [ :cancel, :customer, object, entry ], disabled: entry.canceled?, method: :patch, class: 'btn btn-default', data: { confirm: I18n.t('customer.programs.show.confirm_cancel') }\n+    else\n+      closed = object.application_end_time &lt; Time.current\n+      label_text = closed ? I18n.t('customer.programs.show.closed') : I18n.t('customer.programs.show.apply')\n+      button_to label_text, [ :customer, object, :entries ], disabled: closed, method: :post, class: 'btn btn-default', data: { confirm: I18n.t('customer.programs.show.confirm')}\n+    end\n   end\n end\n\\ No newline at end of file\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 75054a5..facc37e 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -70,4 +70,6 @@ ja:\n       create:\n         flash_notice: '\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u7533\u3057\u8fbc\u307f\u307e\u3057\u305f\u3002'\n         flash_alert: '\u30d7\u30ed\u30b0\u30e9\u30e0\u3078\u306e\u7533\u8fbc\u8005\u6570\u304c\u4e0a\u9650\u306b\u9054\u3057\u307e\u3057\u305f\u3002'\n-        flash_alert_close: '\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u7533\u3057\u8fbc\u307f\u671f\u9650\u304c\u7d42\u4e86\u3057\u307e\u3057\u305f\u3002'\n\\ No newline at end of file\n+        flash_alert_close: '\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u7533\u3057\u8fbc\u307f\u671f\u9650\u304c\u7d42\u4e86\u3057\u307e\u3057\u305f\u3002'\n+      cancel:\n+        flash_notice: '\u30d7\u30ed\u30b0\u30e9\u30e0\u3078\u306e\u7533\u8fbc\u307f\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3057\u307e\u3057\u305f\u3002'\n\\ No newline at end of file\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex b7b7b1b..4084d1a 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -237,6 +237,9 @@ ja:\n         program_end: '\u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5\u6642'\n         program_min_entry: '\u6700\u5c0f\u53c2\u52a0\u8005\u6570'\n         program_max_entry: '\u6700\u5927\u53c2\u89b3\u8005\u6570'\n+        canceled: '\u30ad\u30e3\u30f3\u30bb\u30eb\u6e08\u307f'\n+        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb\u3059\u308b'\n+        confirm_cancel: '\u672c\u5f53\u306b\u30ad\u30e3\u30f3\u30bb\u30eb\u3057\u307e\u3059\u304b\uff1f'\n         closed: '\u52df\u96c6\u7d42\u4e86'\n         apply: '\u7533\u3057\u8fbc\u3080'\n         confirm: '\u672c\u5f53\u306b\u7533\u3057\u8fbc\u307f\u307e\u3059\u304b\uff1f'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170317/#_65","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170317/#954b550","title":"\u30b3\u30df\u30c3\u30c8: 954b550","text":""},{"location":"journal/20170317/#_66","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u6a5f\u80fd\u306e\u4ed5\u4e0a\u3052 #25\n</code></pre>"},{"location":"journal/20170317/#_67","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/customer/entries_controller.rb</li> <li>M app/services/customer/entry_acceptor.rb</li> <li>M config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170317/#_68","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 954b550a87d6a874091654ce91ea5d07e9a5c209\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 12:11:50 2017 +0900\n\n    \u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u6a5f\u80fd\u306e\u4ed5\u4e0a\u3052 #25\n\ndiff --git a/README.md b/README.md\nindex bad088c..c648b7d 100644\n--- a/README.md\n+++ b/README.md\n@@ -703,6 +703,7 @@ git push heroku master\n + \u300c\u7533\u3057\u8fbc\u3080\u300d\u30dc\u30bf\u30f3\u306e\u8a2d\u7f6e\n + \u7533\u8fbc\u307f\u3092\u53d7\u3051\u4ed8\u3051\u308b\n + \u6392\u4ed6\u5236\u5fa1\n++ \u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u6a5f\u80fd\u306e\u4ed5\u4e0a\u3052\n\n ### \u30d5\u30a9\u30fc\u30e0\u306e\u78ba\u8a8d\u753b\u9762 \n #### \u9867\u5ba2\u81ea\u8eab\u306b\u3088\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\ndiff --git a/app/controllers/customer/entries_controller.rb b/app/controllers/customer/entries_controller.rb\nindex 987bacb..7951433 100644\n--- a/app/controllers/customer/entries_controller.rb\n+++ b/app/controllers/customer/entries_controller.rb\n@@ -6,6 +6,8 @@ class Customer::EntriesController &lt; Customer::Base\n         flash.notice = t('.flash_notice')\n       when :full\n         flash.alert = t('.flash_alert')\n+      when :closed\n+        flash.alert =  t('.flash_alert_close')\n       end\n     redirect_to [ :customer, program ]\n   end\ndiff --git a/app/services/customer/entry_acceptor.rb b/app/services/customer/entry_acceptor.rb\nindex 95870d4..14acf50 100644\n--- a/app/services/customer/entry_acceptor.rb\n+++ b/app/services/customer/entry_acceptor.rb\n@@ -4,9 +4,13 @@ class Customer::EntryAcceptor\n   end\n\n   def accept(program)\n+    raise if Time.current &lt; program.application_start_time\n+    return :closed if Time.current &gt;= program.application_end_time\n     ActiveRecord::Base.transaction do\n       program.lock!\n-      if max = program.max_number_of_participants\n+      if program.entries.where(customer_id: @customer.id).exists?\n+        return :accepted\n+      elsif max = program.max_number_of_participants\n         if program.entries.where(canceled: false).count &lt; max\n           program.entries.create!(customer: @customer)\n           return :accepted\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex ea7b0af..75054a5 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -69,4 +69,5 @@ ja:\n     entries:\n       create:\n         flash_notice: '\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u7533\u3057\u8fbc\u307f\u307e\u3057\u305f\u3002'\n-        flash_alert: '\u30d7\u30ed\u30b0\u30e9\u30e0\u3078\u306e\u7533\u8fbc\u8005\u6570\u304c\u4e0a\u9650\u306b\u9054\u3057\u307e\u3057\u305f\u3002'\n\\ No newline at end of file\n+        flash_alert: '\u30d7\u30ed\u30b0\u30e9\u30e0\u3078\u306e\u7533\u8fbc\u8005\u6570\u304c\u4e0a\u9650\u306b\u9054\u3057\u307e\u3057\u305f\u3002'\n+        flash_alert_close: '\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u7533\u3057\u8fbc\u307f\u671f\u9650\u304c\u7d42\u4e86\u3057\u307e\u3057\u305f\u3002'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170317/#_69","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170317/#2b2bac2","title":"\u30b3\u30df\u30c3\u30c8: 2b2bac2","text":""},{"location":"journal/20170317/#_70","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6392\u4ed6\u5236\u5fa1 #25\n</code></pre>"},{"location":"journal/20170317/#_71","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/services/customer/entry_acceptor.rb</li> </ul>"},{"location":"journal/20170317/#_72","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 2b2bac21b78c8e9ca99bf63846dffcece916bb1f\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 11:48:13 2017 +0900\n\n    \u6392\u4ed6\u5236\u5fa1 #25\n\ndiff --git a/README.md b/README.md\nindex c516ed6..bad088c 100644\n--- a/README.md\n+++ b/README.md\n@@ -702,6 +702,7 @@ git push heroku master\n + \u4ed5\u69d8\u306e\u78ba\u8a8d\n + \u300c\u7533\u3057\u8fbc\u3080\u300d\u30dc\u30bf\u30f3\u306e\u8a2d\u7f6e\n + \u7533\u8fbc\u307f\u3092\u53d7\u3051\u4ed8\u3051\u308b\n++ \u6392\u4ed6\u5236\u5fa1\n\n ### \u30d5\u30a9\u30fc\u30e0\u306e\u78ba\u8a8d\u753b\u9762 \n #### \u9867\u5ba2\u81ea\u8eab\u306b\u3088\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\ndiff --git a/app/services/customer/entry_acceptor.rb b/app/services/customer/entry_acceptor.rb\nindex f5ad52c..95870d4 100644\n--- a/app/services/customer/entry_acceptor.rb\n+++ b/app/services/customer/entry_acceptor.rb\n@@ -4,16 +4,19 @@ class Customer::EntryAcceptor\n   end\n\n   def accept(program)\n-    if max = program.max_number_of_participants\n-      if program.entries.where(canceled: false).count &lt; max\n+    ActiveRecord::Base.transaction do\n+      program.lock!\n+      if max = program.max_number_of_participants\n+        if program.entries.where(canceled: false).count &lt; max\n+          program.entries.create!(customer: @customer)\n+          return :accepted\n+        else\n+          return :full\n+        end\n+      else\n         program.entries.create!(customer: @customer)\n         return :accepted\n-      else\n-        return :full\n       end\n-    else\n-      program.entries.create!(customer: @customer)\n-      return :accepted\n     end\n   end\n end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170317/#_73","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170317/#0c95ec6","title":"\u30b3\u30df\u30c3\u30c8: 0c95ec6","text":""},{"location":"journal/20170317/#_74","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u7533\u8fbc\u307f\u3092\u53d7\u3051\u4ed8\u3051\u308b #25\n</code></pre>"},{"location":"journal/20170317/#_75","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/controllers/customer/entries_controller.rb</li> <li>A app/services/customer/entry_acceptor.rb</li> <li>M config/locales/controllers/ja.yml</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170317/#_76","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 0c95ec6a6eb165af9bdcd8c7acf9e159001068d4\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 11:40:36 2017 +0900\n\n    \u7533\u8fbc\u307f\u3092\u53d7\u3051\u4ed8\u3051\u308b #25\n\ndiff --git a/README.md b/README.md\nindex 3c44fce..c516ed6 100644\n--- a/README.md\n+++ b/README.md\n@@ -701,6 +701,7 @@ git push heroku master\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u6a5f\u80fd\n + \u4ed5\u69d8\u306e\u78ba\u8a8d\n + \u300c\u7533\u3057\u8fbc\u3080\u300d\u30dc\u30bf\u30f3\u306e\u8a2d\u7f6e\n++ \u7533\u8fbc\u307f\u3092\u53d7\u3051\u4ed8\u3051\u308b\n\n ### \u30d5\u30a9\u30fc\u30e0\u306e\u78ba\u8a8d\u753b\u9762 \n #### \u9867\u5ba2\u81ea\u8eab\u306b\u3088\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\ndiff --git a/app/controllers/customer/entries_controller.rb b/app/controllers/customer/entries_controller.rb\nnew file mode 100644\nindex 0000000..987bacb\n--- /dev/null\n+++ b/app/controllers/customer/entries_controller.rb\n@@ -0,0 +1,12 @@\n+class Customer::EntriesController &lt; Customer::Base\n+  def create\n+    program = Program.published.find(params[:program_id])\n+    case Customer::EntryAcceptor.new(current_customer).accept(program)\n+      when :accepted\n+        flash.notice = t('.flash_notice')\n+      when :full\n+        flash.alert = t('.flash_alert')\n+      end\n+    redirect_to [ :customer, program ]\n+  end\n+end\ndiff --git a/app/services/customer/entry_acceptor.rb b/app/services/customer/entry_acceptor.rb\nnew file mode 100644\nindex 0000000..f5ad52c\n--- /dev/null\n+++ b/app/services/customer/entry_acceptor.rb\n@@ -0,0 +1,19 @@\n+class Customer::EntryAcceptor\n+  def initialize(customer)\n+    @customer = customer\n+  end\n+\n+  def accept(program)\n+    if max = program.max_number_of_participants\n+      if program.entries.where(canceled: false).count &lt; max\n+        program.entries.create!(customer: @customer)\n+        return :accepted\n+      else\n+        return :full\n+      end\n+    else\n+      program.entries.create!(customer: @customer)\n+      return :accepted\n+    end\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex f6b50e3..ea7b0af 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -65,4 +65,8 @@ ja:\n   customer:\n     base:\n       authrize:\n-        flash_alert: '\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002'\n\\ No newline at end of file\n+        flash_alert: '\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002'\n+    entries:\n+      create:\n+        flash_notice: '\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u7533\u3057\u8fbc\u307f\u307e\u3057\u305f\u3002'\n+        flash_alert: '\u30d7\u30ed\u30b0\u30e9\u30e0\u3078\u306e\u7533\u8fbc\u8005\u6570\u304c\u4e0a\u9650\u306b\u9054\u3057\u307e\u3057\u305f\u3002'\n\\ No newline at end of file\ndiff --git a/config/routes.rb b/config/routes.rb\nindex f9f2b3d..829ed42 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -61,6 +61,10 @@\n #\n\n Rails.application.routes.draw do\n+  namespace :customer do\n+    get 'entries/create'\n+  end\n+\n   namespace :customer do\n     get 'programs/index'\n   end\n</code></pre>"},{"location":"journal/20170317/#_77","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170317/#ac3058e","title":"\u30b3\u30df\u30c3\u30c8: ac3058e","text":""},{"location":"journal/20170317/#_78","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u300c\u7533\u3057\u8fbc\u3080\u300d\u30dc\u30bf\u30f3\u306e\u8a2d\u7f6e #25\n</code></pre>"},{"location":"journal/20170317/#_79","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/presenters/customer/program_presenter.rb</li> <li>M app/views/customer/programs/show.html.erb</li> <li>M config/locales/views/ja.yml</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170317/#_80","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit ac3058e33d597933520183e8edf99ab73b0d74ae\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 11:16:30 2017 +0900\n\n    \u300c\u7533\u3057\u8fbc\u3080\u300d\u30dc\u30bf\u30f3\u306e\u8a2d\u7f6e #25\n\ndiff --git a/README.md b/README.md\nindex f1e6f2b..3c44fce 100644\n--- a/README.md\n+++ b/README.md\n@@ -699,6 +699,8 @@ git push heroku master\n + \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4e00\u89a7\u3068\u8a73\u7d30\n\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u6a5f\u80fd\n++ \u4ed5\u69d8\u306e\u78ba\u8a8d\n++ \u300c\u7533\u3057\u8fbc\u3080\u300d\u30dc\u30bf\u30f3\u306e\u8a2d\u7f6e\n\n ### \u30d5\u30a9\u30fc\u30e0\u306e\u78ba\u8a8d\u753b\u9762 \n #### \u9867\u5ba2\u81ea\u8eab\u306b\u3088\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\ndiff --git a/app/presenters/customer/program_presenter.rb b/app/presenters/customer/program_presenter.rb\nindex 1e63019..da482cb 100644\n--- a/app/presenters/customer/program_presenter.rb\n+++ b/app/presenters/customer/program_presenter.rb\n@@ -1,6 +1,8 @@\n class Customer::ProgramPresenter &lt; ModelPresenter\n-  delegate :title, :description, to: :object\n-  delegate :number_with_delimiter, to: :view_context\n+  delegate :title,\n+           :description, to: :object\n+  delegate :number_with_delimiter,\n+           :button_to, to: :view_context\n\n   def initialize(object, view_context)\n     super\n@@ -22,4 +24,10 @@ class Customer::ProgramPresenter &lt; ModelPresenter\n   def min_number_of_participants\n     @delegated_presenter.min_number_of_participants\n   end\n+\n+  def apply_or_cancel_button\n+    closed = object.application_end_time &lt; Time.current\n+    label_text = closed ? I18n.t('customer.programs.show.closed') : I18n.t('customer.programs.show.apply')\n+    button_to label_text, [ :customer, object, :entries ], disabled: closed, method: :post, class: 'btn btn-default', data: { confirm: I18n.t('customer.programs.show.confirm')}\n+  end\n end\n\\ No newline at end of file\ndiff --git a/app/views/customer/programs/show.html.erb b/app/views/customer/programs/show.html.erb\nindex 4e603f1..243debe 100644\n--- a/app/views/customer/programs/show.html.erb\n+++ b/app/views/customer/programs/show.html.erb\n@@ -14,4 +14,6 @@\n   &lt;/table&gt;\n\n   &lt;div class=\"Table__body--description\"&gt;&lt;%= @program.description %&gt;&lt;/div&gt;\n+\n+  &lt;div&gt;&lt;%= p.apply_or_cancel_button %&gt;&lt;/div&gt;\n &lt;/section&gt;\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex c9e5a7a..b7b7b1b 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -236,4 +236,7 @@ ja:\n         program_start: '\u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5\u6642'\n         program_end: '\u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5\u6642'\n         program_min_entry: '\u6700\u5c0f\u53c2\u52a0\u8005\u6570'\n-        program_max_entry: '\u6700\u5927\u53c2\u89b3\u8005\u6570'\n\\ No newline at end of file\n+        program_max_entry: '\u6700\u5927\u53c2\u89b3\u8005\u6570'\n+        closed: '\u52df\u96c6\u7d42\u4e86'\n+        apply: '\u7533\u3057\u8fbc\u3080'\n+        confirm: '\u672c\u5f53\u306b\u7533\u3057\u8fbc\u307f\u307e\u3059\u304b\uff1f'\n\\ No newline at end of file\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 45c887c..f9f2b3d 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -111,7 +111,11 @@ Rails.application.routes.draw do\n       get 'campaign_submit', to: 'campaign#submit'\n       get 'login' =&gt; 'sessions#new', as: :login\n       resource :session, only: [ :create, :destroy ]\n-      resources :programs, only: [ :index, :show ]\n+      resources :programs, only: [ :index, :show ] do\n+        resources :entries, only: [ :create ] do\n+          patch :cancel, on: :member\n+        end\n+      end\n     end\n   end\n</code></pre>"},{"location":"journal/20170317/#da405c2","title":"\u30b3\u30df\u30c3\u30c8: da405c2","text":""},{"location":"journal/20170317/#_81","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4e00\u89a7\u3068\u8a73\u7d30 #25\n</code></pre>"},{"location":"journal/20170317/#_82","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/assets/stylesheets/components/_customerTable.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>A app/controllers/customer/programs_controller.rb</li> <li>M app/models/program.rb</li> <li>A app/presenters/customer/program_presenter.rb</li> <li>A app/views/customer/programs/_program.html.erb</li> <li>A app/views/customer/programs/index.html.erb</li> <li>A app/views/customer/programs/show.html.erb</li> <li>M config/locales/views/ja.yml</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170317/#_83","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit da405c27febe1e5924f52348b344aaac7e89494e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 10:51:38 2017 +0900\n\n    \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4e00\u89a7\u3068\u8a73\u7d30 #25\n\ndiff --git a/README.md b/README.md\nindex 31b1423..f1e6f2b 100644\n--- a/README.md\n+++ b/README.md\n@@ -696,6 +696,7 @@ git push heroku master\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7\u8868\u793a\u30fb\u8a73\u7d30\u8868\u793a\u6a5f\u80fd\uff08\u9867\u5ba2\u5411\u3051)\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n + \u9867\u5ba2\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u306e\u4fee\u6b63\n++ \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4e00\u89a7\u3068\u8a73\u7d30\n\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u6a5f\u80fd\n\ndiff --git a/app/assets/stylesheets/components/_customerTable.scss b/app/assets/stylesheets/components/_customerTable.scss\nnew file mode 100644\nindex 0000000..3d2d4b8\n--- /dev/null\n+++ b/app/assets/stylesheets/components/_customerTable.scss\n@@ -0,0 +1,6 @@\n+.CustomerTable {\n+  &amp;__body {\n+    margin: $moderate auto 0;\n+    border: solid $moderate $very_dark_yellow;\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 2b95725..6293d9d 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -80,6 +80,7 @@\n // \u30c6\u30fc\u30d6\u30eb\n @import \"./components/adminTable\";\n @import \"./components/staffTable\";\n+@import \"./components/customerTable\";\n\n //font-awesome\n @import \"font-awesome\";\ndiff --git a/app/controllers/customer/programs_controller.rb b/app/controllers/customer/programs_controller.rb\nnew file mode 100644\nindex 0000000..0cf4a1e\n--- /dev/null\n+++ b/app/controllers/customer/programs_controller.rb\n@@ -0,0 +1,9 @@\n+class Customer::ProgramsController &lt; Customer::Base\n+  def index\n+    @programs = Program.published.page(params[:page])\n+  end\n+\n+  def show\n+    @program = Program.published.find(params[:id])\n+  end\n+end\ndiff --git a/app/models/program.rb b/app/models/program.rb\nindex 905887b..bc3c1d7 100644\n--- a/app/models/program.rb\n+++ b/app/models/program.rb\n@@ -69,6 +69,10 @@ class Program &lt; ApplicationRecord\n         .order(application_start_time: :desc)\n         .includes(:registrant)\n   }\n+  scope :published, -&gt; {\n+    where('application_start_time &lt;= ?', Time.current)\n+    .order(application_start_time: :desc)\n+  }\n\n   def deletable?\n     entries.empty?\ndiff --git a/app/presenters/customer/program_presenter.rb b/app/presenters/customer/program_presenter.rb\nnew file mode 100644\nindex 0000000..1e63019\n--- /dev/null\n+++ b/app/presenters/customer/program_presenter.rb\n@@ -0,0 +1,25 @@\n+class Customer::ProgramPresenter &lt; ModelPresenter\n+  delegate :title, :description, to: :object\n+  delegate :number_with_delimiter, to: :view_context\n+\n+  def initialize(object, view_context)\n+    super\n+    @delegated_presenter = Staff::ProgramPresenter.new(@object, @view_context)\n+  end\n+\n+  def application_start_time\n+    @delegated_presenter.application_start_time\n+  end\n+\n+  def application_end_time\n+    @delegated_presenter.application_end_time\n+  end\n+\n+  def max_number_of_participants\n+    @delegated_presenter.max_number_of_participants\n+  end\n+\n+  def min_number_of_participants\n+    @delegated_presenter.min_number_of_participants\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/views/customer/programs/_program.html.erb b/app/views/customer/programs/_program.html.erb\nnew file mode 100644\nindex 0000000..c1a9a33\n--- /dev/null\n+++ b/app/views/customer/programs/_program.html.erb\n@@ -0,0 +1,11 @@\n+&lt;% p = Customer::ProgramPresenter.new(program, self) %&gt;\n+&lt;tr class=\"Table__tr\"&gt;\n+  &lt;td class=\"Table__td\"&gt;&lt;%= p.title %&gt;&lt;/td&gt;\n+  &lt;td class=\"Table__td--date\"&gt;&lt;%= p.application_start_time %&gt;&lt;/td&gt;\n+  &lt;td class=\"Table__td--date\"&gt;&lt;%= p.application_end_time %&gt;&lt;/td&gt;\n+  &lt;td class=\"Table__td--numeric\"&gt;&lt;%= p.min_number_of_participants %&gt;&lt;/td&gt;\n+  &lt;td class=\"Table__td--numeric\"&gt;&lt;%= p.max_number_of_participants %&gt;&lt;/td&gt;\n+  &lt;td class=\"Table__td--action\"&gt;\n+    &lt;%= link_to t('staff.programs.form.show'), [ :customer, program ], class: 'btn btn-default btn-xs' %&gt;\n+  &lt;/td&gt;\n+&lt;/tr&gt;\n\\ No newline at end of file\ndiff --git a/app/views/customer/programs/index.html.erb b/app/views/customer/programs/index.html.erb\nnew file mode 100644\nindex 0000000..65da552\n--- /dev/null\n+++ b/app/views/customer/programs/index.html.erb\n@@ -0,0 +1,22 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Customer__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column Table\"&gt;\n+  &lt;%= paginate @programs %&gt;\n+\n+  &lt;table class=\"Table__body Table__body--listing CustomerTable__body\"&gt;\n+    &lt;tr class=\"Table__tr\"&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.program_tiile') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.program_start') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.program_end') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.program_min_entry') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.program_max_entry') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('.action') %&gt;&lt;/th&gt;\n+    &lt;/tr&gt;\n+    &lt;%= render partial: 'program', collection: @programs %&gt;\n+  &lt;/table&gt;\n+\n+  &lt;%= paginate @programs %&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/app/views/customer/programs/show.html.erb b/app/views/customer/programs/show.html.erb\nnew file mode 100644\nindex 0000000..4e603f1\n--- /dev/null\n+++ b/app/views/customer/programs/show.html.erb\n@@ -0,0 +1,17 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column Table CustomerTable\"&gt;\n+  &lt;table class=\"Table__body Table__body--attributes CustomerTable__body\"&gt;\n+    &lt;% p = Customer::ProgramPresenter.new(@program, self) %&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.program_tiile') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.title %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.program_start') %&gt;&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p.application_start_time %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.program_end') %&gt;&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p.application_end_time %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.program_min_entry') %&gt;&lt;/th&gt;&lt;td class=\"Table__td--numeric\"&gt;&lt;%= p.min_number_of_participants %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.program_max_entry') %&gt;&lt;/th&gt;&lt;td class=\"Table__td--numeric\"&gt;&lt;%= p.max_number_of_participants %&gt;&lt;/td&gt;&lt;/tr&gt;\n+  &lt;/table&gt;\n+\n+  &lt;div class=\"Table__body--description\"&gt;&lt;%= @program.description %&gt;&lt;/div&gt;\n+&lt;/section&gt;\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 95f102c..c9e5a7a 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -219,4 +219,21 @@ ja:\n     top:\n       dashboard:\n         title: '\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9'\n-        customer_programs: '\u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7'\n\\ No newline at end of file\n+        customer_programs: '\u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7'\n+    programs:\n+      index:\n+        title: '\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406'\n+        new: '\u65b0\u898f\u767b\u9332'\n+        program_tiile: '\u30bf\u30a4\u30c8\u30eb'\n+        program_start: '\u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5\u6642'\n+        program_end: '\u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5\u6642'\n+        program_min_entry: '\u6700\u5c0f\u53c2\u52a0\u8005\u6570'\n+        program_max_entry: '\u6700\u5927\u53c2\u89b3\u8005\u6570'\n+        action: '\u30a2\u30af\u30b7\u30e7\u30f3'\n+      show:\n+        title: '\u30d7\u30ed\u30b0\u30e9\u30e0\u8a73\u7d30\u60c5\u5831'\n+        program_tiile: '\u30bf\u30a4\u30c8\u30eb'\n+        program_start: '\u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5\u6642'\n+        program_end: '\u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5\u6642'\n+        program_min_entry: '\u6700\u5c0f\u53c2\u52a0\u8005\u6570'\n+        program_max_entry: '\u6700\u5927\u53c2\u89b3\u8005\u6570'\n\\ No newline at end of file\ndiff --git a/config/routes.rb b/config/routes.rb\nindex dd3aa14..45c887c 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -61,6 +61,14 @@\n #\n\n Rails.application.routes.draw do\n+  namespace :customer do\n+    get 'programs/index'\n+  end\n+\n+  namespace :customer do\n+    get 'programs/show'\n+  end\n+\n   config = Rails.application.config.baukis_kai\n\n   concern :session_path do\n</code></pre>"},{"location":"journal/20170317/#_84","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170317/#248cbeb","title":"\u30b3\u30df\u30c3\u30c8: 248cbeb","text":""},{"location":"journal/20170317/#_85","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u9867\u5ba2\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u306e\u4fee\u6b63 #25\n</code></pre>"},{"location":"journal/20170317/#_86","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/views/customer/top/dashboard.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170317/#_87","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 248cbeb85d8489e22be7d6eec1b63b911d8c317c\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 09:41:18 2017 +0900\n\n    \u9867\u5ba2\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u306e\u4fee\u6b63 #25\n\ndiff --git a/README.md b/README.md\nindex eea5c34..31b1423 100644\n--- a/README.md\n+++ b/README.md\n@@ -695,6 +695,7 @@ git push heroku master\n ### \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7\u8868\u793a\u30fb\u8a73\u7d30\u8868\u793a\u6a5f\u80fd\uff08\u9867\u5ba2\u5411\u3051)\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n++ \u9867\u5ba2\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u306e\u4fee\u6b63\n\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u6a5f\u80fd\n\ndiff --git a/app/views/customer/top/dashboard.html.erb b/app/views/customer/top/dashboard.html.erb\nindex 6aa1334..83a0f41 100644\n--- a/app/views/customer/top/dashboard.html.erb\n+++ b/app/views/customer/top/dashboard.html.erb\n@@ -13,4 +13,10 @@\n       &lt;span class=\"NewsList__body\"&gt;\u9867\u5ba2\u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u6a5f\u80fd\u8ffd\u52a0&lt;/span&gt;\n     &lt;/li&gt;\n   &lt;/ol&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column DashBoard\"&gt;\n+  &lt;ul class=\"DashBoard__menu\"&gt;\n+    &lt;li&gt;&lt;%= link_to t('.customer_programs'), :customer_programs, class: 'btn btn-default' %&gt;&lt;/li&gt;\n+  &lt;/ul&gt;\n &lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 175ce07..95f102c 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -218,4 +218,5 @@ ja:\n         remember: '\u6b21\u56de\u304b\u3089\u81ea\u52d5\u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b'\n     top:\n       dashboard:\n-        title: '\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9'\n\\ No newline at end of file\n+        title: '\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9'\n+        customer_programs: '\u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170317/#8a01ab7","title":"\u30b3\u30df\u30c3\u30c8: 8a01ab7","text":""},{"location":"journal/20170317/#_88","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #25\n</code></pre>"},{"location":"journal/20170317/#_89","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170317/#_90","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8a01ab7c664ac41681ae5614016ed274e72a63a1\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Fri Mar 17 09:30:00 2017 +0900\n\n    \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #25\n\ndiff --git a/README.md b/README.md\nindex d178a44..eea5c34 100644\n--- a/README.md\n+++ b/README.md\n@@ -694,6 +694,8 @@ git push heroku master\n\n ### \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7\u8868\u793a\u30fb\u8a73\u7d30\u8868\u793a\u6a5f\u80fd\uff08\u9867\u5ba2\u5411\u3051)\n++ \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n+\n #### \u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u6a5f\u80fd\n\n ### \u30d5\u30a9\u30fc\u30e0\u306e\u78ba\u8a8d\u753b\u9762 \ndiff --git a/config/routes.rb b/config/routes.rb\nindex 8a753ed..dd3aa14 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -54,6 +54,8 @@\n #                  customer_login GET    /login(.:format)                                     customer/sessions#new {:host=&gt;\"0.0.0.0\"}\n #                customer_session DELETE /session(.:format)                                   customer/sessions#destroy {:host=&gt;\"0.0.0.0\"}\n #                                 POST   /session(.:format)                                   customer/sessions#create {:host=&gt;\"0.0.0.0\"}\n+#               customer_programs GET    /programs(.:format)                                  customer/programs#index {:host=&gt;\"0.0.0.0\"}\n+#                customer_program GET    /programs/:id(.:format)                              customer/programs#show {:host=&gt;\"0.0.0.0\"}\n #                            root GET    /                                                    errors#routing_error\n #                                 GET    /*anything(.:format)                                 errors#routing_error\n #\n@@ -101,6 +103,7 @@ Rails.application.routes.draw do\n       get 'campaign_submit', to: 'campaign#submit'\n       get 'login' =&gt; 'sessions#new', as: :login\n       resource :session, only: [ :create, :destroy ]\n+      resources :programs, only: [ :index, :show ]\n     end\n   end\n</code></pre>"},{"location":"journal/20170318/","title":"\u4f5c\u696d\u5c65\u6b74 2017-03-18","text":""},{"location":"journal/20170318/#_1","title":"\u6982\u8981","text":"<p>2017-03-18\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30bf\u30b0\u4ed8\u3051\u6a5f\u80fd\u306e\u5b9f\u88c5\u306b\u95a2\u9023\u3059\u308b\u4f5c\u696d\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u5177\u4f53\u7684\u306b\u306f\u3001\u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\u3084\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08\u306a\u3069\u3092\u5b9f\u65bd\u3057\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u30bf\u30b0\u3092\u95a2\u9023\u4ed8\u3051\u308b\u6a5f\u80fd\u306e\u57fa\u76e4\u3092\u69cb\u7bc9\u3057\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170318/#ca2c3eb-21","title":"\u30b3\u30df\u30c3\u30c8: ca2c3eb - \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051 #21","text":""},{"location":"journal/20170318/#_2","title":"\u6982\u8981","text":"<p>\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u30bf\u30b0\u3092\u4ed8\u3051\u308b\u6a5f\u80fd\u3092\u5b9f\u88c5\u3059\u308b\u305f\u3081\u3001Message\u3001Tag\u3001MessageTagLink\u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\u3092\u8a2d\u5b9a\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u8907\u6570\u306e\u30bf\u30b0\u3092\u4ed8\u3051\u305f\u308a\u3001\u30bf\u30b0\u3067\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"journal/20170318/#_3","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li>\u591a\u5bfe\u591a\u306e\u95a2\u9023\u4ed8\u3051\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306b\u4e2d\u9593\u30c6\u30fc\u30d6\u30eb\uff08MessageTagLink\uff09\u3092\u4f7f\u7528</li> <li>Message\u30e2\u30c7\u30eb\u306b\u4ee5\u4e0b\u306e\u95a2\u9023\u3092\u8ffd\u52a0:</li> <li><code>has_many :message_tag_links</code> - \u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u30bf\u30b0\u306e\u95a2\u9023\u4ed8\u3051\u3092\u7ba1\u7406</li> <li><code>has_many :tags, through: :message_tag_links</code> - \u30bf\u30b0\u3078\u306e\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u3092\u53ef\u80fd\u306b</li> <li>Tag\u30e2\u30c7\u30eb\u306b\u4ee5\u4e0b\u306e\u95a2\u9023\u3092\u8ffd\u52a0:</li> <li><code>has_many :message_tag_links</code> - \u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u30bf\u30b0\u306e\u95a2\u9023\u4ed8\u3051\u3092\u7ba1\u7406</li> <li><code>has_many :messages, through: :message_tag_links</code> - \u30e1\u30c3\u30bb\u30fc\u30b8\u3078\u306e\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u3092\u53ef\u80fd\u306b</li> <li>MessageTagLink\u30e2\u30c7\u30eb\u306b\u4ee5\u4e0b\u306e\u95a2\u9023\u3092\u8ffd\u52a0:</li> <li><code>belongs_to :message</code> - \u30e1\u30c3\u30bb\u30fc\u30b8\u3078\u306e\u53c2\u7167</li> <li><code>belongs_to :tag</code> - \u30bf\u30b0\u3078\u306e\u53c2\u7167</li> </ul>"},{"location":"journal/20170318/#_4","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/message.rb</li> <li>M app/models/message_tag_link.rb</li> <li>M app/models/tag.rb</li> </ul>"},{"location":"journal/20170318/#_5","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit ca2c3eb4650d19e3eee9e35cf3659da8c061fe2c\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 18:51:04 2017 +0900\n\n    \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051 #21\n\ndiff --git a/README.md b/README.md\nindex 5d17afe..480e469 100644\n--- a/README.md\n+++ b/README.md\n@@ -771,6 +771,7 @@ git push heroku master\n\n #### \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30bf\u30b0\u4ed8\u3051\n + \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08\n++ \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\n\n #### \u4e00\u610f\u5236\u7d04\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\n #### \u6f14\u7fd2\u554f\u984c  \ndiff --git a/app/models/message.rb b/app/models/message.rb\nindex cade141..ecc8a44 100644\n--- a/app/models/message.rb\n+++ b/app/models/message.rb\n@@ -35,6 +35,8 @@ class Message &lt; ApplicationRecord\n   belongs_to :staff_member\n   belongs_to :root, class_name: 'Message', foreign_key: 'root_id'\n   belongs_to :parent, class_name: 'Message', foreign_key: 'parent_id'\n+  has_many :message_tag_links, dependent: :destroy\n+  has_many :tags, -&gt; { order(:value)}, through: :message_tag_links\n\n   validates :subject, :body, presence: true\n   validates :subject, length: { maximum: 80, allow_blank: true }\ndiff --git a/app/models/message_tag_link.rb b/app/models/message_tag_link.rb\nindex 2a52ae5..5b88619 100644\n--- a/app/models/message_tag_link.rb\n+++ b/app/models/message_tag_link.rb\n@@ -14,4 +14,6 @@\n #\n\n class MessageTagLink &lt; ApplicationRecord\n+  belongs_to :message\n+  belongs_to :tag\n end\ndiff --git a/app/models/tag.rb b/app/models/tag.rb\nindex c8071ee..2c83b3d 100644\n--- a/app/models/tag.rb\n+++ b/app/models/tag.rb\n@@ -13,4 +13,6 @@\n #\n\n class Tag &lt; ApplicationRecord\n+  has_many :message_tag_links, dependent: :destroy\n+  has_many :messages, through: :message_tag_links\n end\n</code></pre>"},{"location":"journal/20170318/#_6","title":"\u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\u69cb\u9020","text":""},{"location":"journal/20170318/#3e42f39","title":"\u30b3\u30df\u30c3\u30c8: 3e42f39","text":""},{"location":"journal/20170318/#_7","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08 #21\n</code></pre>"},{"location":"journal/20170318/#_8","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/customer_message.rb</li> <li>A app/models/message_tag_link.rb</li> <li>M app/models/staff_message.rb</li> <li>A app/models/tag.rb</li> <li>A db/migrate/20170318093346_create_tags.rb</li> <li>A db/migrate/20170318093830_create_message_tag_links.rb</li> <li>M db/schema.rb</li> <li>A spec/factories/message_tag_links.rb</li> <li>A spec/factories/tags.rb</li> <li>A spec/models/message_tag_link_spec.rb</li> <li>A spec/models/tag_spec.rb</li> </ul>"},{"location":"journal/20170318/#_9","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 3e42f393063a90bb58f016f74e1c4b031ee303de\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 18:40:42 2017 +0900\n\n    \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08 #21\n\ndiff --git a/README.md b/README.md\nindex 7097aa0..5d17afe 100644\n--- a/README.md\n+++ b/README.md\n@@ -770,6 +770,8 @@ git push heroku master\n + \u8fd4\u4fe1\u306e\u9001\u4fe1\n\n #### \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30bf\u30b0\u4ed8\u3051\n++ \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08\n+\n #### \u4e00\u610f\u5236\u7d04\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\n #### \u6f14\u7fd2\u554f\u984c  \n\ndiff --git a/app/models/customer_message.rb b/app/models/customer_message.rb\nindex faeaa3f..ff7247a 100644\n--- a/app/models/customer_message.rb\n+++ b/app/models/customer_message.rb\n@@ -1,3 +1,35 @@\n+# == Schema Information\n+#\n+# Table name: messages # \u554f\u3044\u5408\u308f\u305b\n+#\n+#  id              :integer          not null, primary key\n+#  customer_id     :integer          not null\n+#  staff_member_id :integer\n+#  root_id         :integer                                   # Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  parent_id       :integer                                   # Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  type            :string(255)      not null                 # \u7d99\u627f\u30ab\u30e9\u30e0\n+#  status          :string(255)      default(\"new\"), not null # \u72b6\u614b\uff08\u8077\u54e1\u5411\u3051\uff09\n+#  subject         :string(255)      not null                 # \u4ef6\u540d\n+#  body            :text(65535)                               # \u672c\u6587\n+#  remarks         :text(65535)                               # \u5099\u8003\uff08\u8077\u54e1\u5411\u3051\uff09\n+#  discarded       :boolean          default(\"0\"), not null   # \u9867\u5ba2\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\n+#  deleted         :boolean          default(\"0\"), not null   # \u8077\u54e1\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\n+#  created_at      :datetime         not null\n+#  updated_at      :datetime         not null\n+#\n+# Indexes\n+#\n+#  fk_rails_aafcb31dbf                                         (parent_id)\n+#  index_messages_on_c_d_s_c                                   (customer_id,deleted,status,created_at)\n+#  index_messages_on_customer_id                               (customer_id)\n+#  index_messages_on_customer_id_and_deleted_and_created_at    (customer_id,deleted,created_at)\n+#  index_messages_on_customer_id_and_discarded_and_created_at  (customer_id,discarded,created_at)\n+#  index_messages_on_root_id_and_deleted_and_created_at        (root_id,deleted,created_at)\n+#  index_messages_on_staff_member_id                           (staff_member_id)\n+#  index_messages_on_type_and_customer_id                      (type,customer_id)\n+#  index_messages_on_type_and_staff_member_id                  (type,staff_member_id)\n+#\n+\n class CustomerMessage &lt; Message\n   scope :unprocessed, -&gt; { where(status: 'new', deleted: false) }\n-end\n\\ No newline at end of file\n+end\ndiff --git a/app/models/message_tag_link.rb b/app/models/message_tag_link.rb\nnew file mode 100644\nindex 0000000..2a52ae5\n--- /dev/null\n+++ b/app/models/message_tag_link.rb\n@@ -0,0 +1,17 @@\n+# == Schema Information\n+#\n+# Table name: message_tag_links # \u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb\n+#\n+#  id         :integer          not null, primary key\n+#  message_id :integer          not null\n+#  tag_id     :integer          not null\n+#\n+# Indexes\n+#\n+#  index_message_tag_links_on_message_id             (message_id)\n+#  index_message_tag_links_on_message_id_and_tag_id  (message_id,tag_id) UNIQUE\n+#  index_message_tag_links_on_tag_id                 (tag_id)\n+#\n+\n+class MessageTagLink &lt; ApplicationRecord\n+end\ndiff --git a/app/models/staff_message.rb b/app/models/staff_message.rb\nindex 660acae..ae7b6ca 100644\n--- a/app/models/staff_message.rb\n+++ b/app/models/staff_message.rb\n@@ -1,2 +1,34 @@\n+# == Schema Information\n+#\n+# Table name: messages # \u554f\u3044\u5408\u308f\u305b\n+#\n+#  id              :integer          not null, primary key\n+#  customer_id     :integer          not null\n+#  staff_member_id :integer\n+#  root_id         :integer                                   # Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  parent_id       :integer                                   # Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  type            :string(255)      not null                 # \u7d99\u627f\u30ab\u30e9\u30e0\n+#  status          :string(255)      default(\"new\"), not null # \u72b6\u614b\uff08\u8077\u54e1\u5411\u3051\uff09\n+#  subject         :string(255)      not null                 # \u4ef6\u540d\n+#  body            :text(65535)                               # \u672c\u6587\n+#  remarks         :text(65535)                               # \u5099\u8003\uff08\u8077\u54e1\u5411\u3051\uff09\n+#  discarded       :boolean          default(\"0\"), not null   # \u9867\u5ba2\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\n+#  deleted         :boolean          default(\"0\"), not null   # \u8077\u54e1\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\n+#  created_at      :datetime         not null\n+#  updated_at      :datetime         not null\n+#\n+# Indexes\n+#\n+#  fk_rails_aafcb31dbf                                         (parent_id)\n+#  index_messages_on_c_d_s_c                                   (customer_id,deleted,status,created_at)\n+#  index_messages_on_customer_id                               (customer_id)\n+#  index_messages_on_customer_id_and_deleted_and_created_at    (customer_id,deleted,created_at)\n+#  index_messages_on_customer_id_and_discarded_and_created_at  (customer_id,discarded,created_at)\n+#  index_messages_on_root_id_and_deleted_and_created_at        (root_id,deleted,created_at)\n+#  index_messages_on_staff_member_id                           (staff_member_id)\n+#  index_messages_on_type_and_customer_id                      (type,customer_id)\n+#  index_messages_on_type_and_staff_member_id                  (type,staff_member_id)\n+#\n+\n class StaffMessage &lt; Message\n-end\n\\ No newline at end of file\n+end\ndiff --git a/app/models/tag.rb b/app/models/tag.rb\nnew file mode 100644\nindex 0000000..c8071ee\n--- /dev/null\n+++ b/app/models/tag.rb\n@@ -0,0 +1,16 @@\n+# == Schema Information\n+#\n+# Table name: tags # \u30bf\u30b0\n+#\n+#  id         :integer          not null, primary key\n+#  value      :string(255)      not null\n+#  created_at :datetime         not null\n+#  updated_at :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_tags_on_value  (value) UNIQUE\n+#\n+\n+class Tag &lt; ApplicationRecord\n+end\ndiff --git a/db/migrate/20170318093346_create_tags.rb b/db/migrate/20170318093346_create_tags.rb\nnew file mode 100644\nindex 0000000..e991f75\n--- /dev/null\n+++ b/db/migrate/20170318093346_create_tags.rb\n@@ -0,0 +1,10 @@\n+class CreateTags &lt; ActiveRecord::Migration[5.0]\n+  def change\n+    create_table :tags,comment:'\u30bf\u30b0' do |t|\n+      t.string :value, null: false, commet:'\u30bf\u30b0\u5024'\n+      t.timestamps\n+    end\n+\n+    add_index :tags, :value, unique:true\n+  end\n+end\ndiff --git a/db/migrate/20170318093830_create_message_tag_links.rb b/db/migrate/20170318093830_create_message_tag_links.rb\nnew file mode 100644\nindex 0000000..76e5255\n--- /dev/null\n+++ b/db/migrate/20170318093830_create_message_tag_links.rb\n@@ -0,0 +1,10 @@\n+class CreateMessageTagLinks &lt; ActiveRecord::Migration[5.0]\n+  def change\n+    create_table :message_tag_links,comment:'\u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb' do |t|\n+      t.references :message, null: false\n+      t.references :tag, null: false\n+    end\n+\n+    add_index :message_tag_links, [ :message_id, :tag_id ], unique: true\n+  end\n+end\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 35e4f1c..1086b9a 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -10,7 +10,7 @@\n #\n # It's strongly recommended that you check this file into your version control system.\n\n-ActiveRecord::Schema.define(version: 20170318002915) do\n+ActiveRecord::Schema.define(version: 20170318093830) do\n\n   create_table \"addresses\", force: :cascade, comment: \"\u4f4f\u6240\" do |t|\n     t.integer  \"customer_id\",                null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n@@ -96,6 +96,14 @@ ActiveRecord::Schema.define(version: 20170318002915) do\n     t.index [\"program_id\"], name: \"index_entries_on_program_id\", using: :btree\n   end\n\n+  create_table \"message_tag_links\", force: :cascade, comment: \"\u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb\" do |t|\n+    t.integer \"message_id\", null: false\n+    t.integer \"tag_id\",     null: false\n+    t.index [\"message_id\", \"tag_id\"], name: \"index_message_tag_links_on_message_id_and_tag_id\", unique: true, using: :btree\n+    t.index [\"message_id\"], name: \"index_message_tag_links_on_message_id\", using: :btree\n+    t.index [\"tag_id\"], name: \"index_message_tag_links_on_tag_id\", using: :btree\n+  end\n+\n   create_table \"messages\", force: :cascade, comment: \"\u554f\u3044\u5408\u308f\u305b\" do |t|\n     t.integer  \"customer_id\",                                   null: false\n     t.integer  \"staff_member_id\"\n@@ -176,6 +184,13 @@ ActiveRecord::Schema.define(version: 20170318002915) do\n     t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\", using: :btree\n   end\n\n+  create_table \"tags\", force: :cascade, comment: \"\u30bf\u30b0\" do |t|\n+    t.string   \"value\",      null: false\n+    t.datetime \"created_at\", null: false\n+    t.datetime \"updated_at\", null: false\n+    t.index [\"value\"], name: \"index_tags_on_value\", unique: true, using: :btree\n+  end\n+\n   add_foreign_key \"addresses\", \"customers\"\n   add_foreign_key \"entries\", \"customers\"\n   add_foreign_key \"entries\", \"programs\"\ndiff --git a/spec/factories/message_tag_links.rb b/spec/factories/message_tag_links.rb\nnew file mode 100644\nindex 0000000..013cedc\n--- /dev/null\n+++ b/spec/factories/message_tag_links.rb\n@@ -0,0 +1,20 @@\n+# == Schema Information\n+#\n+# Table name: message_tag_links # \u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb\n+#\n+#  id         :integer          not null, primary key\n+#  message_id :integer          not null\n+#  tag_id     :integer          not null\n+#\n+# Indexes\n+#\n+#  index_message_tag_links_on_message_id             (message_id)\n+#  index_message_tag_links_on_message_id_and_tag_id  (message_id,tag_id) UNIQUE\n+#  index_message_tag_links_on_tag_id                 (tag_id)\n+#\n+\n+FactoryGirl.define do\n+  factory :message_tag_link do\n+    \n+  end\n+end\ndiff --git a/spec/factories/tags.rb b/spec/factories/tags.rb\nnew file mode 100644\nindex 0000000..32a0e92\n--- /dev/null\n+++ b/spec/factories/tags.rb\n@@ -0,0 +1,19 @@\n+# == Schema Information\n+#\n+# Table name: tags # \u30bf\u30b0\n+#\n+#  id         :integer          not null, primary key\n+#  value      :string(255)      not null\n+#  created_at :datetime         not null\n+#  updated_at :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_tags_on_value  (value) UNIQUE\n+#\n+\n+FactoryGirl.define do\n+  factory :tag do\n+    \n+  end\n+end\ndiff --git a/spec/models/message_tag_link_spec.rb b/spec/models/message_tag_link_spec.rb\nnew file mode 100644\nindex 0000000..224b8c3\n--- /dev/null\n+++ b/spec/models/message_tag_link_spec.rb\n@@ -0,0 +1,20 @@\n+# == Schema Information\n+#\n+# Table name: message_tag_links # \u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb\n+#\n+#  id         :integer          not null, primary key\n+#  message_id :integer          not null\n+#  tag_id     :integer          not null\n+#\n+# Indexes\n+#\n+#  index_message_tag_links_on_message_id             (message_id)\n+#  index_message_tag_links_on_message_id_and_tag_id  (message_id,tag_id) UNIQUE\n+#  index_message_tag_links_on_tag_id                 (tag_id)\n+#\n+\n+require 'rails_helper'\n+\n+RSpec.describe MessageTagLink, type: :model do\n+  pending \"add some examples to (or delete) #{__FILE__}\"\n+end\ndiff --git a/spec/models/tag_spec.rb b/spec/models/tag_spec.rb\nnew file mode 100644\nindex 0000000..08d9a3a\n--- /dev/null\n+++ b/spec/models/tag_spec.rb\n@@ -0,0 +1,19 @@\n+# == Schema Information\n+#\n+# Table name: tags # \u30bf\u30b0\n+#\n+#  id         :integer          not null, primary key\n+#  value      :string(255)      not null\n+#  created_at :datetime         not null\n+#  updated_at :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_tags_on_value  (value) UNIQUE\n+#\n+\n+require 'rails_helper'\n+\n+RSpec.describe Tag, type: :model do\n+  pending \"add some examples to (or delete) #{__FILE__}\"\n+end\n</code></pre>"},{"location":"journal/20170318/#_10","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170318/#47d7d65","title":"\u30b3\u30df\u30c3\u30c8: 47d7d65","text":""},{"location":"journal/20170318/#_11","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8fd4\u4fe1\u306e\u9001\u4fe1 #21\n</code></pre>"},{"location":"journal/20170318/#_12","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/replies_controller.rb</li> <li>M app/models/message.rb</li> <li>M config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170318/#_13","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 47d7d658bfbf1c3fddcf2909da1b4f4b0a79f676\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 18:31:28 2017 +0900\n\n    \u8fd4\u4fe1\u306e\u9001\u4fe1 #21\n\ndiff --git a/README.md b/README.md\nindex 00aa21c..7097aa0 100644\n--- a/README.md\n+++ b/README.md\n@@ -767,6 +767,7 @@ git push heroku master\n + \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e\n + \u8fd4\u4fe1\u5185\u5bb9\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\n + \u78ba\u8a8d\u753b\u9762\n++ \u8fd4\u4fe1\u306e\u9001\u4fe1\n\n #### \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30bf\u30b0\u4ed8\u3051\n #### \u4e00\u610f\u5236\u7d04\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\ndiff --git a/app/controllers/staff/replies_controller.rb b/app/controllers/staff/replies_controller.rb\nindex ca1f722..c7c7798 100644\n--- a/app/controllers/staff/replies_controller.rb\n+++ b/app/controllers/staff/replies_controller.rb\n@@ -16,6 +16,23 @@ class Staff::RepliesController &lt; Staff::Base\n     end\n   end\n\n+  def create\n+    @reply = StaffMessage.new(staff_message_params)\n+    if params[:commit]\n+      @reply.staff_member = current_staff_member\n+      @reply.parent = @message\n+      if @reply.save\n+        flash.notice = t('.flash_notice')\n+        redirect_to :outbound_staff_messages\n+      else\n+        flash.now.alert = t('.flash_alert')\n+        render action: 'new'\n+      end\n+    else\n+      render action: 'new'\n+    end\n+  end\n+\n   private\n   def prepare_message\n     @message = CustomerMessage.find(params[:message_id])\ndiff --git a/app/models/message.rb b/app/models/message.rb\nindex 4525b64..cade141 100644\n--- a/app/models/message.rb\n+++ b/app/models/message.rb\n@@ -49,6 +49,13 @@ class Message &lt; ApplicationRecord\n\n   default_scope { order(created_at: :desc) }\n\n+  before_validation do\n+    if parent\n+      self.root = parent.root || parent\n+      self.customer = parent.customer\n+    end\n+  end\n+\n   attr_accessor :child_nodes\n\n   def tree\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 02399aa..a67b2aa 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -46,9 +46,12 @@ ja:\n     messages:\n       destroy:\n         flash_notice: '\u554f\u3044\u5408\u308f\u305b\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'\n-    replieds:\n+    replies:\n       confirm:\n         flash_notice: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n+      create:\n+        flash_notice: '\u554f\u3044\u5408\u308f\u305b\u306b\u8fd4\u4fe1\u3057\u307e\u3057\u305f\u3002'\n+        flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n\n   admin:\n     base:\n</code></pre>"},{"location":"journal/20170318/#_14","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170318/#8535a3b","title":"\u30b3\u30df\u30c3\u30c8: 8535a3b","text":""},{"location":"journal/20170318/#_15","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u78ba\u8a8d\u753b\u9762 #21\n</code></pre>"},{"location":"journal/20170318/#_16","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/replies_controller.rb</li> <li>A app/views/staff/replies/_confirming_form.html.erb</li> <li>A app/views/staff/replies/confirm.html.erb</li> <li>M config/locales/controllers/ja.yml</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170318/#_17","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8535a3b1dac2be6760952ade76335f6f871121c2\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 18:20:32 2017 +0900\n\n    \u78ba\u8a8d\u753b\u9762 #21\n\ndiff --git a/README.md b/README.md\nindex d45a644..00aa21c 100644\n--- a/README.md\n+++ b/README.md\n@@ -766,6 +766,7 @@ git push heroku master\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n + \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e\n + \u8fd4\u4fe1\u5185\u5bb9\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\n++ \u78ba\u8a8d\u753b\u9762\n\n #### \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30bf\u30b0\u4ed8\u3051\n #### \u4e00\u610f\u5236\u7d04\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\ndiff --git a/app/controllers/staff/replies_controller.rb b/app/controllers/staff/replies_controller.rb\nindex 108446e..ca1f722 100644\n--- a/app/controllers/staff/replies_controller.rb\n+++ b/app/controllers/staff/replies_controller.rb\n@@ -5,8 +5,26 @@ class Staff::RepliesController &lt; Staff::Base\n     @reply = StaffMessage.new\n   end\n\n+  # POST\n+  def confirm\n+    @reply = StaffMessage.new(staff_message_params)\n+    if @reply.valid?\n+      render action: 'confirm'\n+    else\n+      flash.now.alert = t('.flash_notice')\n+      render action: 'new'\n+    end\n+  end\n+\n   private\n   def prepare_message\n     @message = CustomerMessage.find(params[:message_id])\n   end\n+\n+  def staff_message_params\n+    params.require(:staff_message).permit(\n+        :subject,\n+        :body\n+    )\n+  end\n end\ndiff --git a/app/views/staff/replies/_confirming_form.html.erb b/app/views/staff/replies/_confirming_form.html.erb\nnew file mode 100644\nindex 0000000..0565e90\n--- /dev/null\n+++ b/app/views/staff/replies/_confirming_form.html.erb\n@@ -0,0 +1,6 @@\n+&lt;%= markup(:div, id: 'confirming-panel') do |m|\n+  p = ConfirmingFormPresenter.new(f, self)\n+  m.div t('staff.replies.confirm.confirm_message')\n+  m &lt;&lt; p.text_field_block(:subject, t('activerecord.attributes.message.subject'))\n+  m &lt;&lt; p.text_area_block(:body, t('activerecord.attributes.message.body'))\n+end %&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/replies/confirm.html.erb b/app/views/staff/replies/confirm.html.erb\nnew file mode 100644\nindex 0000000..a487e66\n--- /dev/null\n+++ b/app/views/staff/replies/confirm.html.erb\n@@ -0,0 +1,18 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column AppForm\"&gt;\n+  &lt;div class=\"AppForm__generic-form StaffAppForm__generic-form AppForm__customer-form\"&gt;\n+    &lt;%= bootstrap_form_for @reply, url: staff_message_reply_path(@message) do |f| %&gt;\n+        &lt;%= render 'confirming_form', f: f %&gt;\n+        &lt;div class=\"AppForm__buttons\"&gt;\n+          &lt;%= f.submit t('.send'),class: 'btn btn-default btn-lg' %&gt;\n+          &lt;%= f.submit t('.correct'), name: 'correct', class: 'btn btn-default btn-lg' %&gt;\n+          &lt;%= link_to t('.cancel'), :staff_messages, class: 'btn btn-default btn-lg' %&gt;\n+        &lt;/div&gt;\n+    &lt;% end %&gt;\n+    &lt;%= render 'message' %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 47e8297..02399aa 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -46,6 +46,9 @@ ja:\n     messages:\n       destroy:\n         flash_notice: '\u554f\u3044\u5408\u308f\u305b\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'\n+    replieds:\n+      confirm:\n+        flash_notice: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n\n   admin:\n     base:\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex e69869c..f2a92dd 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -187,7 +187,12 @@ ja:\n         sender: '\u9001\u4fe1\u8005'\n         subject: '\u4ef6\u540d'\n         created_at: '\u4f5c\u6210\u65e5\u6642'\n-\n+      confirm:\n+        title: '\u554f\u3044\u5408\u308f\u305b\u3078\u306e\u8fd4\u4fe1\uff08\u78ba\u8a8d\uff09'\n+        send: '\u9001\u4fe1'\n+        correct: '\u8a02\u6b63'\n+        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n+        confirm_message: '\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067\u8fd4\u4fe1\u3057\u307e\u3059\u3002\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f'\n\n   admin:\n     shared:\n</code></pre>"},{"location":"journal/20170318/#_18","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170318/#484df9b","title":"\u30b3\u30df\u30c3\u30c8: 484df9b","text":""},{"location":"journal/20170318/#_19","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u8fd4\u4fe1\u5185\u5bb9\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0 #21\n</code></pre>"},{"location":"journal/20170318/#_20","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/controllers/staff/replies_controller.rb</li> <li>A app/views/staff/replies/_form.html.erb</li> <li>A app/views/staff/replies/_message.erb</li> <li>A app/views/staff/replies/new.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170318/#_21","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 484df9baf5c070f5bcf5bda2e48959774d5e7c6b\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 17:57:16 2017 +0900\n\n    \u8fd4\u4fe1\u5185\u5bb9\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0 #21\n\ndiff --git a/README.md b/README.md\nindex 5a9fb6a..d45a644 100644\n--- a/README.md\n+++ b/README.md\n@@ -765,6 +765,7 @@ git push heroku master\n #### \u554f\u3044\u5408\u308f\u305b\u306e\u8fd4\u4fe1\u6a5f\u80fd\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n + \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e\n++ \u8fd4\u4fe1\u5185\u5bb9\u7de8\u96c6\u30d5\u30a9\u30fc\u30e0\n\n #### \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30bf\u30b0\u4ed8\u3051\n #### \u4e00\u610f\u5236\u7d04\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\ndiff --git a/app/controllers/staff/replies_controller.rb b/app/controllers/staff/replies_controller.rb\nnew file mode 100644\nindex 0000000..108446e\n--- /dev/null\n+++ b/app/controllers/staff/replies_controller.rb\n@@ -0,0 +1,12 @@\n+class Staff::RepliesController &lt; Staff::Base\n+  before_action :prepare_message\n+\n+  def new\n+    @reply = StaffMessage.new\n+  end\n+\n+  private\n+  def prepare_message\n+    @message = CustomerMessage.find(params[:message_id])\n+  end\n+end\ndiff --git a/app/views/staff/replies/_form.html.erb b/app/views/staff/replies/_form.html.erb\nnew file mode 100644\nindex 0000000..a678e0b\n--- /dev/null\n+++ b/app/views/staff/replies/_form.html.erb\n@@ -0,0 +1,11 @@\n+&lt;%= markup do |m|\n+  p = FormPresenter.new(f, self)\n+  p.with_options(required: true) do |q|\n+    m &lt;&lt; q.text_field_block(:subject, t('activerecord.attributes.message.subject'), size: 40, maxlength: 80)\n+    m.div(class: 'AppForm__input-block') do |m|\n+      m &lt;&lt; q.decorated_label(:body, t('activerecord.attributes.message.body'))\n+      m &lt;&lt; q.text_area(:body, rows: 6, style: 'widh: 45px')\n+      m.span '(800\u6587\u5b57\u4ee5\u5185)', class: 'instruction', style: 'float: rigth'\n+    end\n+  end\n+end %&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/replies/_message.erb b/app/views/staff/replies/_message.erb\nnew file mode 100644\nindex 0000000..fbbb693\n--- /dev/null\n+++ b/app/views/staff/replies/_message.erb\n@@ -0,0 +1,11 @@\n+&lt;% p = Staff::MessagePresenter.new(@message, self) %&gt;\n+&lt;section class=\"Section l-column Table StaffTable\"&gt;\n+  &lt;table class=\"Table__body Table__body--attributes StaffTable__body\"&gt;\n+    &lt;% p = Staff::MessagePresenter.new(@message, self) %&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('staff.replies.new.sender') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.sender %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('staff.replies.new.subject') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.subject %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('staff.replies.new.created_at') %&gt;&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p.created_at %&gt;&lt;/td&gt;&lt;/tr&gt;\n+  &lt;/table&gt;\n+\n+  &lt;div class=\"Table__body--description\"&gt;&lt;%= p.formatted_body %&gt;&lt;/div&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/replies/new.html.erb b/app/views/staff/replies/new.html.erb\nnew file mode 100644\nindex 0000000..0fbbe43\n--- /dev/null\n+++ b/app/views/staff/replies/new.html.erb\n@@ -0,0 +1,17 @@\n+&lt;% @title = t('staff.replies.new.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column AppForm\"&gt;\n+  &lt;div class=\"AppForm__generic-form StaffAppForm__generic-form AppForm__customer-form\"&gt;\n+    &lt;%= bootstrap_form_for @reply, url: confirm_staff_message_reply_path(@message) do |f| %&gt;\n+        &lt;%= render 'form', f: f %&gt;\n+        &lt;div class=\"AppForm__buttons\"&gt;\n+          &lt;%= f.submit t('staff.replies.new.confirm') ,class: 'btn btn-default btn-lg'%&gt;\n+          &lt;%= link_to t('staff.replies.new.cancel'), :staff_programs ,class: 'btn btn-default btn-lg'%&gt;\n+        &lt;/div&gt;\n+    &lt;% end %&gt;\n+    &lt;%= render 'message' %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex ba71b60..e69869c 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -179,6 +179,15 @@ ja:\n         subject: '\u4ef6\u540d'\n         created_at: '\u4f5c\u6210\u65e5\u6642'\n         reply: '\u8fd4\u4fe1\u3059\u308b'\n+    replies:\n+      new:\n+        title: '\u554f\u3044\u5408\u308f\u305b\u3078\u306e\u8fd4\u4fe1'\n+        confirm: '\u78ba\u8a8d\u753b\u9762\u7528\u3078\u9032\u3080'\n+        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n+        sender: '\u9001\u4fe1\u8005'\n+        subject: '\u4ef6\u540d'\n+        created_at: '\u4f5c\u6210\u65e5\u6642'\n+\n\n   admin:\n     shared:\n</code></pre>"},{"location":"journal/20170318/#_22","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170318/#1b76fe5","title":"\u30b3\u30df\u30c3\u30c8: 1b76fe5","text":""},{"location":"journal/20170318/#_23","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ea\u30f3\u30af\u306e\u8a2d\u7f6e #21\n</code></pre>"},{"location":"journal/20170318/#_24","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/views/staff/messages/show.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170318/#_25","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 1b76fe5035535ccb762b72acd9a5fa1e7346d9cf\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 17:29:04 2017 +0900\n\n    \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e #21\n\ndiff --git a/README.md b/README.md\nindex 22de8f3..5a9fb6a 100644\n--- a/README.md\n+++ b/README.md\n@@ -764,6 +764,7 @@ git push heroku master\n ### \u30bf\u30b0\u4ed8\u3051\n #### \u554f\u3044\u5408\u308f\u305b\u306e\u8fd4\u4fe1\u6a5f\u80fd\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n++ \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e\n\n #### \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30bf\u30b0\u4ed8\u3051\n #### \u4e00\u610f\u5236\u7d04\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\ndiff --git a/app/views/staff/messages/show.html.erb b/app/views/staff/messages/show.html.erb\nindex 3365cf5..bfc7d1a 100644\n--- a/app/views/staff/messages/show.html.erb\n+++ b/app/views/staff/messages/show.html.erb\n@@ -5,6 +5,11 @@\n\n &lt;section class=\"Section l-column Table StaffTable\"&gt;\n   &lt;table class=\"Table__body Table__body--attributes StaffTable__body\"&gt;\n+    &lt;% if @message.kind_of?(CustomerMessage) %&gt;\n+        &lt;div class=\"Table__links\"&gt;\n+          &lt;%= link_to t('.reply'), new_staff_message_reply_path(@message), class:'btn btn-default' %&gt;\n+        &lt;/div&gt;\n+    &lt;% end %&gt;\n     &lt;% p = Staff::MessagePresenter.new(@message, self) %&gt;\n     &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.type') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.type %&gt;&lt;/td&gt;&lt;/tr&gt;\n     &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.sender') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.sender %&gt;&lt;/td&gt;&lt;/tr&gt;\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 3151807..ba71b60 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -178,6 +178,7 @@ ja:\n         receiver: '\u53d7\u4fe1\u8005'\n         subject: '\u4ef6\u540d'\n         created_at: '\u4f5c\u6210\u65e5\u6642'\n+        reply: '\u8fd4\u4fe1\u3059\u308b'\n\n   admin:\n     shared:\n</code></pre>"},{"location":"journal/20170318/#64e42d9","title":"\u30b3\u30df\u30c3\u30c8: 64e42d9","text":""},{"location":"journal/20170318/#_26","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #21\n</code></pre>"},{"location":"journal/20170318/#_27","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170318/#_28","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 64e42d9f1448a40d1e1357ee96a5ea5d8f300080\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 17:23:44 2017 +0900\n\n    \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #21\n\ndiff --git a/README.md b/README.md\nindex e813d90..22de8f3 100644\n--- a/README.md\n+++ b/README.md\n@@ -763,6 +763,8 @@ git push heroku master\n\n ### \u30bf\u30b0\u4ed8\u3051\n #### \u554f\u3044\u5408\u308f\u305b\u306e\u8fd4\u4fe1\u6a5f\u80fd\n++ \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n+\n #### \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30bf\u30b0\u4ed8\u3051\n #### \u4e00\u610f\u5236\u7d04\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\n #### \u6f14\u7fd2\u554f\u984c  \ndiff --git a/config/routes.rb b/config/routes.rb\nindex c0f31c5..089b548 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -35,6 +35,9 @@\n #         outbound_staff_messages GET    /staff/messages/outbound(.:format)                   staff/messages#outbound {:host=&gt;\"0.0.0.0\"}\n #          deleted_staff_messages GET    /staff/messages/deleted(.:format)                    staff/messages#deleted {:host=&gt;\"0.0.0.0\"}\n #            count_staff_messages GET    /staff/messages/count(.:format)                      staff/messages#count {:host=&gt;\"0.0.0.0\"}\n+#     confirm_staff_message_reply POST   /staff/messages/:message_id/reply/confirm(.:format)  staff/replies#confirm {:host=&gt;\"0.0.0.0\"}\n+#         new_staff_message_reply GET    /staff/messages/:message_id/reply/new(.:format)      staff/replies#new {:host=&gt;\"0.0.0.0\"}\n+#             staff_message_reply POST   /staff/messages/:message_id/reply(.:format)          staff/replies#create {:host=&gt;\"0.0.0.0\"}\n #                  staff_messages GET    /staff/messages(.:format)                            staff/messages#index {:host=&gt;\"0.0.0.0\"}\n #                   staff_message GET    /staff/messages/:id(.:format)                        staff/messages#show {:host=&gt;\"0.0.0.0\"}\n #                                 DELETE /staff/messages/:id(.:format)                        staff/messages#destroy {:host=&gt;\"0.0.0.0\"}\n@@ -100,6 +103,9 @@ Rails.application.routes.draw do\n       end\n       resources :messages, only: [ :index, :show, :destroy ] do\n         get :inbound, :outbound, :deleted, :count, on: :collection\n+        resource :reply, only: [ :new, :create ] do\n+          post :confirm\n+        end\n       end\n     end\n   end\n</code></pre>"},{"location":"journal/20170318/#e44b817","title":"\u30b3\u30df\u30c3\u30c8: e44b817","text":""},{"location":"journal/20170318/#_29","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u554f\u3044\u5408\u308f\u305b\u306e\u524a\u9664 #22\n</code></pre>"},{"location":"journal/20170318/#_30","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/messages_controller.rb</li> <li>M config/locales/controllers/ja.yml</li> </ul>"},{"location":"journal/20170318/#_31","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit e44b81757b72b71042af403569e0cfe08db9c946\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 17:14:24 2017 +0900\n\n    \u554f\u3044\u5408\u308f\u305b\u306e\u524a\u9664 #22\n\ndiff --git a/README.md b/README.md\nindex 613fd7f..e813d90 100644\n--- a/README.md\n+++ b/README.md\n@@ -751,6 +751,7 @@ git push heroku master\n + \u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\n + \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u306e\u6295\u5165\n + \u52d5\u4f5c\u78ba\u8a8d\n++ \u554f\u3044\u5408\u308f\u305b\u306e\u524a\u9664\n\n #### \u30e1\u30c3\u30bb\u30fc\u30b8\u30c4\u30ea\u30fc\u306e\u8868\u793a\n + show\u30a2\u30af\u30b7\u30e7\u30f3\ndiff --git a/app/controllers/staff/messages_controller.rb b/app/controllers/staff/messages_controller.rb\nindex 86d1289..641ebf1 100644\n--- a/app/controllers/staff/messages_controller.rb\n+++ b/app/controllers/staff/messages_controller.rb\n@@ -31,4 +31,11 @@ class Staff::MessagesController &lt; Staff::Base\n   def show\n     @message = Message.find(params[:id])\n   end\n+\n+  def destroy\n+    message = CustomerMessage.find(params[:id])\n+    message.update_column(:deleted, true)\n+    flash.notice = t('.flash_notice')\n+    redirect_to :back\n+  end\n end\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 239cdf9..47e8297 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -43,6 +43,10 @@ ja:\n         flash_alert: '\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u524a\u9664\u3067\u304d\u307e\u305b\u3093\u3002'\n       entries:\n         flash_notice: '\u30d7\u30ed\u30b0\u30e9\u30e0\u7533\u3057\u8fbc\u307f\u306e\u30d5\u30e9\u30b0\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n+    messages:\n+      destroy:\n+        flash_notice: '\u554f\u3044\u5408\u308f\u305b\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'\n+\n   admin:\n     base:\n       authrize:\n</code></pre>"},{"location":"journal/20170318/#_32","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170318/#b1895a9","title":"\u30b3\u30df\u30c3\u30c8: b1895a9","text":""},{"location":"journal/20170318/#_33","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30c4\u30ea\u30fc\u69cb\u9020 #22\n</code></pre>"},{"location":"journal/20170318/#_34","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170318/#_35","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit b1895a936b13eb32694273f77159f8e60e5f823b\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 17:02:26 2017 +0900\n\n    \u30c4\u30ea\u30fc\u69cb\u9020 #22\n\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex 6890631..5677faf 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-3-18\"&gt;2017.3.18&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u554f\u3044\u5408\u308f\u305b\u306e\u4e00\u89a7\u8868\u793a\u3068\u524a\u9664\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-3-18\"&gt;2017.3.18&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u554f\u3044\u5408\u308f\u305b\u5230\u7740\u306e\u901a\u77e5\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n</code></pre>"},{"location":"journal/20170318/#9c9e2cd","title":"\u30b3\u30df\u30c3\u30c8: 9c9e2cd","text":""},{"location":"journal/20170318/#_36","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u5411\u4e0a\u7b56 #22\n</code></pre>"},{"location":"journal/20170318/#_37","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/lib/simple_tree.rb</li> <li>M app/models/message.rb</li> <li>M app/presenters/staff/message_presenter.rb</li> </ul>"},{"location":"journal/20170318/#_38","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 9c9e2cd25c2b965cfb03c4c5d378dff0680e2c29\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 17:00:08 2017 +0900\n\n    \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u5411\u4e0a\u7b56 #22\n\ndiff --git a/README.md b/README.md\nindex d66ebbd..613fd7f 100644\n--- a/README.md\n+++ b/README.md\n@@ -758,6 +758,7 @@ git push heroku master\n\n #### \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\n + \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u8a08\u6e2c\n++ \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u5411\u4e0a\u7b56\n\n ### \u30bf\u30b0\u4ed8\u3051\n #### \u554f\u3044\u5408\u308f\u305b\u306e\u8fd4\u4fe1\u6a5f\u80fd\ndiff --git a/app/lib/simple_tree.rb b/app/lib/simple_tree.rb\nnew file mode 100644\nindex 0000000..dfecf20\n--- /dev/null\n+++ b/app/lib/simple_tree.rb\n@@ -0,0 +1,18 @@\n+class SimpleTree\n+  attr_reader :root, :nodes\n+\n+  def initialize(root, descendants)\n+    @root = root\n+    @descendants = descendants\n+\n+    @nodes = {}\n+    ([ @root ] + @descendants).each do |d|\n+      d.child_nodes = []\n+      @nodes[d.id] = d\n+    end\n+\n+    @descendants.each do |d|\n+      @nodes[d.parent_id].child_nodes &lt;&lt; @nodes[d.id]\n+    end\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/models/message.rb b/app/models/message.rb\nindex 32ce378..4525b64 100644\n--- a/app/models/message.rb\n+++ b/app/models/message.rb\n@@ -35,7 +35,6 @@ class Message &lt; ApplicationRecord\n   belongs_to :staff_member\n   belongs_to :root, class_name: 'Message', foreign_key: 'root_id'\n   belongs_to :parent, class_name: 'Message', foreign_key: 'parent_id'\n-  has_many :children, class_name: 'Message', foreign_key: 'parent_id'\n\n   validates :subject, :body, presence: true\n   validates :subject, length: { maximum: 80, allow_blank: true }\n@@ -49,4 +48,13 @@ class Message &lt; ApplicationRecord\n   end\n\n   default_scope { order(created_at: :desc) }\n+\n+  attr_accessor :child_nodes\n+\n+  def tree\n+    return @tree if @tree\n+    r = root || self\n+    messages = Message.where(root_id: r.id).select(:id, :parent_id, :subject)\n+    @tree = SimpleTree.new(r,messages)\n+  end\n end\ndiff --git a/app/presenters/staff/message_presenter.rb b/app/presenters/staff/message_presenter.rb\nindex 98c5a29..0a77e7d 100644\n--- a/app/presenters/staff/message_presenter.rb\n+++ b/app/presenters/staff/message_presenter.rb\n@@ -53,7 +53,7 @@ class Staff::MessagePresenter &lt; ModelPresenter\n   end\n\n   def tree\n-    expand(object.root || object)\n+    expand(object.tree.root)\n   end\n\n   private\n@@ -65,7 +65,7 @@ class Staff::MessagePresenter &lt; ModelPresenter\n         else\n           m &lt;&lt; link_to(node.subject, view_context.staff_message_path(node))\n         end\n-        node.children.each do |c|\n+        node.child_nodes.each do |c|\n           m &lt;&lt; expand(c)\n         end\n       end\n</code></pre>"},{"location":"journal/20170318/#_39","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170318/#73d442a","title":"\u30b3\u30df\u30c3\u30c8: 73d442a","text":""},{"location":"journal/20170318/#_40","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u8a08\u6e2c #22\n</code></pre>"},{"location":"journal/20170318/#_41","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M spec/factories/messages.rb</li> <li>A spec/features/staff/message_management_spec.rb</li> </ul>"},{"location":"journal/20170318/#_42","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 73d442a1574a2bdc6e2c6509948fbdba0ce34885\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 16:45:22 2017 +0900\n\n    \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u8a08\u6e2c #22\n\ndiff --git a/README.md b/README.md\nindex be02577..d66ebbd 100644\n--- a/README.md\n+++ b/README.md\n@@ -756,6 +756,9 @@ git push heroku master\n + show\u30a2\u30af\u30b7\u30e7\u30f3\n + \u30e1\u30c3\u30bb\u30fc\u30b8\u30c4\u30ea\u30fc\u306e\u8868\u793a\n\n+#### \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\n++ \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u8a08\u6e2c\n+\n ### \u30bf\u30b0\u4ed8\u3051\n #### \u554f\u3044\u5408\u308f\u305b\u306e\u8fd4\u4fe1\u6a5f\u80fd\n #### \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30bf\u30b0\u4ed8\u3051\ndiff --git a/spec/factories/messages.rb b/spec/factories/messages.rb\nindex d0bec84..374c483 100644\n--- a/spec/factories/messages.rb\n+++ b/spec/factories/messages.rb\n@@ -31,7 +31,16 @@\n #\n\n FactoryGirl.define do\n-  factory :message do\n-    \n+  factory :customer_message do\n+    subject 'Subject'\n+    body \"Body.\\nBody.\"\n+    customer\n+  end\n+\n+  factory :staff_message do\n+    subject 'Subject'\n+    body \"Body.\\nBody.\"\n+    parent { FactoryGirl.create(:customer_message)}\n+    staff_member\n   end\n end\ndiff --git a/spec/features/staff/message_management_spec.rb b/spec/features/staff/message_management_spec.rb\nnew file mode 100644\nindex 0000000..763d243\n--- /dev/null\n+++ b/spec/features/staff/message_management_spec.rb\n@@ -0,0 +1,34 @@\n+require 'rails_helper'\n+\n+feature '\u30e1\u30c3\u30bb\u30fc\u30b8\u7ba1\u7406\u6a5f\u80fd' do\n+  include FeaturesSpecHelper\n+  include PerformanceSpecHelper\n+  let(:staff_member) { create(:staff_member) }\n+  let!(:root_message) { create(:customer_message, subject: 'Hello') }\n+  let!(:reply1) { create(:staff_message, parent: root_message) }\n+  let!(:message1) { create(:customer_message, parent: reply1) }\n+  let!(:message2) { create(:customer_message, parent: reply1) }\n+  let!(:reply2) { create(:staff_message, parent: message1) }\n+  let!(:reply3) { create(:staff_message, parent: message1) }\n+  let!(:message3) { create(:customer_message, parent: reply3) }\n+\n+  before do\n+    switch_namespace(:staff)\n+    login_as_staff_member(staff_member)\n+  end\n+\n+  scenario '\u30e1\u30c3\u30bb\u30fc\u30b8\u30c4\u30ea\u30fc\u306e\u8868\u793a', :performance do |example|\n+    visit staff_message_path(message1)\n+    expect(page).to have_css('h1', text: '\u30e1\u30c3\u30bb\u30fc\u30b8\u8a73\u7d30')\n+    expect(page).to have_css('li a', text: 'Hello')\n+\n+    elapsed = Benchmark.realtime do\n+      100.times do\n+        visit staff_message_path(message1)\n+      end\n+    end\n+\n+    write_to_performance_log(example, elapsed)\n+    expect(elapsed).to be &lt; 100.0\n+  end\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170318/#b579141","title":"\u30b3\u30df\u30c3\u30c8: b579141","text":""},{"location":"journal/20170318/#_43","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30e1\u30c3\u30bb\u30fc\u30b8\u30c4\u30ea\u30fc\u306e\u8868\u793a #22\n</code></pre>"},{"location":"journal/20170318/#_44","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/message.rb</li> <li>M app/presenters/staff/message_presenter.rb</li> <li>M app/views/staff/messages/show.html.erb</li> <li>M db/seed/development/messages.rb</li> </ul>"},{"location":"journal/20170318/#_45","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit b579141e185c625df0f56e486bffdd3c6b001090\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 16:21:06 2017 +0900\n\n    \u30e1\u30c3\u30bb\u30fc\u30b8\u30c4\u30ea\u30fc\u306e\u8868\u793a #22\n\ndiff --git a/README.md b/README.md\nindex 30f1daa..be02577 100644\n--- a/README.md\n+++ b/README.md\n@@ -754,6 +754,7 @@ git push heroku master\n\n #### \u30e1\u30c3\u30bb\u30fc\u30b8\u30c4\u30ea\u30fc\u306e\u8868\u793a\n + show\u30a2\u30af\u30b7\u30e7\u30f3\n++ \u30e1\u30c3\u30bb\u30fc\u30b8\u30c4\u30ea\u30fc\u306e\u8868\u793a\n\n ### \u30bf\u30b0\u4ed8\u3051\n #### \u554f\u3044\u5408\u308f\u305b\u306e\u8fd4\u4fe1\u6a5f\u80fd\ndiff --git a/app/models/message.rb b/app/models/message.rb\nindex aa3668f..32ce378 100644\n--- a/app/models/message.rb\n+++ b/app/models/message.rb\n@@ -35,6 +35,7 @@ class Message &lt; ApplicationRecord\n   belongs_to :staff_member\n   belongs_to :root, class_name: 'Message', foreign_key: 'root_id'\n   belongs_to :parent, class_name: 'Message', foreign_key: 'parent_id'\n+  has_many :children, class_name: 'Message', foreign_key: 'parent_id'\n\n   validates :subject, :body, presence: true\n   validates :subject, length: { maximum: 80, allow_blank: true }\ndiff --git a/app/presenters/staff/message_presenter.rb b/app/presenters/staff/message_presenter.rb\nindex ff22f25..98c5a29 100644\n--- a/app/presenters/staff/message_presenter.rb\n+++ b/app/presenters/staff/message_presenter.rb\n@@ -51,4 +51,24 @@ class Staff::MessagePresenter &lt; ModelPresenter\n   def formatted_body\n     ERB::Util.html_escape(body).gsub(/\\n/, '&lt;br /&gt;').html_safe\n   end\n+\n+  def tree\n+    expand(object.root || object)\n+  end\n+\n+  private\n+  def expand(node)\n+    markup(:ul) do |m|\n+      m.li do\n+        if node.id == object.id\n+          m.strong(node.subject)\n+        else\n+          m &lt;&lt; link_to(node.subject, view_context.staff_message_path(node))\n+        end\n+        node.children.each do |c|\n+          m &lt;&lt; expand(c)\n+        end\n+      end\n+    end\n+  end\n end\n\\ No newline at end of file\ndiff --git a/app/views/staff/messages/show.html.erb b/app/views/staff/messages/show.html.erb\nindex b87136d..3365cf5 100644\n--- a/app/views/staff/messages/show.html.erb\n+++ b/app/views/staff/messages/show.html.erb\n@@ -13,5 +13,6 @@\n     &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.created_at') %&gt;&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p.created_at %&gt;&lt;/td&gt;&lt;/tr&gt;\n   &lt;/table&gt;\n\n+  &lt;div class=\"tree\"&gt;&lt;%= p.tree %&gt;&lt;/div&gt;\n   &lt;div class=\"Table__body--description\"&gt;&lt;%= p.formatted_body %&gt;&lt;/div&gt;\n &lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/db/seed/development/messages.rb b/db/seed/development/messages.rb\nindex c3e3d2c..f4e81cb 100644\n--- a/db/seed/development/messages.rb\n+++ b/db/seed/development/messages.rb\n@@ -6,7 +6,7 @@ s = 2.years.ago\n   m = CustomerMessage.create!(\n                          customer: customers.sample,\n                          subject: '\u3053\u308c\u306f\u554f\u3044\u5408\u308f\u305b\u3067\u3059\u3002' * 4,\n-                         body: '\u3053\u308c\u306f\u554f\u3044\u5408\u308f\u305b\u3067\u3059\u3002\\n' * 8,\n+                         body: \"\u3053\u308c\u306f\u554f\u3044\u5408\u308f\u305b\u3067\u3059\u3002\\n\" * 8,\n                          created_at: s.advance(months: n)\n   )\n   r = StaffMessage.create!(\n</code></pre>"},{"location":"journal/20170318/#_46","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170318/#17e096b","title":"\u30b3\u30df\u30c3\u30c8: 17e096b","text":""},{"location":"journal/20170318/#_47","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>show\u30a2\u30af\u30b7\u30e7\u30f3 #22\n</code></pre>"},{"location":"journal/20170318/#_48","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/messages_controller.rb</li> <li>M app/presenters/staff/message_presenter.rb</li> <li>M app/views/staff/messages/index.html.erb</li> <li>A app/views/staff/messages/show.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170318/#_49","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 17e096bfa82f0c9d4ad22ed948c384c46c924201\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 16:05:15 2017 +0900\n\n    show\u30a2\u30af\u30b7\u30e7\u30f3 #22\n\ndiff --git a/README.md b/README.md\nindex 5697be0..30f1daa 100644\n--- a/README.md\n+++ b/README.md\n@@ -753,6 +753,7 @@ git push heroku master\n + \u52d5\u4f5c\u78ba\u8a8d\n\n #### \u30e1\u30c3\u30bb\u30fc\u30b8\u30c4\u30ea\u30fc\u306e\u8868\u793a\n++ show\u30a2\u30af\u30b7\u30e7\u30f3\n\n ### \u30bf\u30b0\u4ed8\u3051\n #### \u554f\u3044\u5408\u308f\u305b\u306e\u8fd4\u4fe1\u6a5f\u80fd\ndiff --git a/app/controllers/staff/messages_controller.rb b/app/controllers/staff/messages_controller.rb\nindex 22550ac..86d1289 100644\n--- a/app/controllers/staff/messages_controller.rb\n+++ b/app/controllers/staff/messages_controller.rb\n@@ -27,4 +27,8 @@ class Staff::MessagesController &lt; Staff::Base\n   def count\n     render text: CustomerMessage.unprocessed.count\n   end\n+\n+  def show\n+    @message = Message.find(params[:id])\n+  end\n end\ndiff --git a/app/presenters/staff/message_presenter.rb b/app/presenters/staff/message_presenter.rb\nindex b342ebd..ff22f25 100644\n--- a/app/presenters/staff/message_presenter.rb\n+++ b/app/presenters/staff/message_presenter.rb\n@@ -47,4 +47,8 @@ class Staff::MessagePresenter &lt; ModelPresenter\n       object.created_at.strftime('%Y/%m/%d %H:%M')\n     end\n   end\n+\n+  def formatted_body\n+    ERB::Util.html_escape(body).gsub(/\\n/, '&lt;br /&gt;').html_safe\n+  end\n end\n\\ No newline at end of file\ndiff --git a/app/views/staff/messages/index.html.erb b/app/views/staff/messages/index.html.erb\nindex 2c8e4cd..ceb696e 100644\n--- a/app/views/staff/messages/index.html.erb\n+++ b/app/views/staff/messages/index.html.erb\n@@ -1,8 +1,8 @@\n &lt;% @title = case params[:action]\n-              when 'index'; t('customer.messages.index.title_index')\n-              when 'inbound'; t('customer.messages.index.title_inbound')\n-              when 'outbound'; t('customer.messages.index.title_outbound')\n-              when 'deleted'; t('customer.messages.index.title_deleted')\n+              when 'index'; t('staff.messages.index.title_index')\n+              when 'inbound'; t('staff.messages.index.title_inbound')\n+              when 'outbound'; t('staff.messages.index.title_outbound')\n+              when 'deleted'; t('staff.messages.index.title_deleted')\n               else; raise\n             end\n %&gt;\n@@ -15,12 +15,12 @@\n\n   &lt;table class=\"Table__body Table__body--listing StaffTable__body\"&gt;\n     &lt;tr class=\"Table__tr\"&gt;\n-      &lt;th class=\"Table__th\"&gt;&lt;%= t('customer.messages.index.type') %&gt;&lt;/th&gt;\n-      &lt;th class=\"Table__th\"&gt;&lt;%= t('customer.messages.index.sender') %&gt;&lt;/th&gt;\n-      &lt;th class=\"Table__th\"&gt;&lt;%= t('customer.messages.index.receiver') %&gt;&lt;/th&gt;\n-      &lt;th class=\"Table__th\"&gt;&lt;%= t('customer.messages.index.subject') %&gt;&lt;/th&gt;\n-      &lt;th class=\"Table__th\"&gt;&lt;%= t('customer.messages.index.created_at') %&gt;&lt;/th&gt;\n-      &lt;th class=\"Table__th\"&gt;&lt;%= t('customer.messages.index.action') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('staff.messages.index.type') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('staff.messages.index.sender') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('staff.messages.index.receiver') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('staff.messages.index.subject') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('staff.messages.index.created_at') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('staff.messages.index.action') %&gt;&lt;/th&gt;\n     &lt;/tr&gt;\n     &lt;% @messages.each do |m| %&gt;\n         &lt;% p = Staff::MessagePresenter.new(m, self) %&gt;\n@@ -31,8 +31,8 @@\n           &lt;td class=\"Table__td\"&gt;&lt;%= p.truncated_subject %&gt;&lt;/td&gt;\n           &lt;td class=\"Table__td--date\"&gt;&lt;%= p.created_at %&gt;&lt;/td&gt;\n           &lt;td class=\"Table__td--action\"&gt;\n-            &lt;%= link_to t('customer.messages.index.detail'), staff_message_path(m), class: 'btn btn-default btn-xs' %&gt;\n-            &lt;%= link_to_if m.kind_of?(CustomerMessage), t('customer.messages.index.delete'), staff_message_path(m), method: :delete, class: 'btn btn-default btn-xs' %&gt;\n+            &lt;%= link_to t('staff.messages.index.detail'), staff_message_path(m), class: 'btn btn-default btn-xs' %&gt;\n+            &lt;%= link_to_if m.kind_of?(CustomerMessage), t('staff.messages.index.delete'), staff_message_path(m), method: :delete, class: 'btn btn-default btn-xs' %&gt;\n           &lt;/td&gt;\n         &lt;/tr&gt;\n     &lt;% end %&gt;\ndiff --git a/app/views/staff/messages/show.html.erb b/app/views/staff/messages/show.html.erb\nnew file mode 100644\nindex 0000000..b87136d\n--- /dev/null\n+++ b/app/views/staff/messages/show.html.erb\n@@ -0,0 +1,17 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column Table StaffTable\"&gt;\n+  &lt;table class=\"Table__body Table__body--attributes StaffTable__body\"&gt;\n+    &lt;% p = Staff::MessagePresenter.new(@message, self) %&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.type') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.type %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.sender') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.sender %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.receiver') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.receiver %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.subject') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.subject %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.created_at') %&gt;&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p.created_at %&gt;&lt;/td&gt;&lt;/tr&gt;\n+  &lt;/table&gt;\n+\n+  &lt;div class=\"Table__body--description\"&gt;&lt;%= p.formatted_body %&gt;&lt;/div&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 91cf7c5..3151807 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -157,6 +157,27 @@ ja:\n         a: 'A'\n         c: 'C'\n         update: '\u7533\u3057\u8fbc\u307f\u30d5\u30e9\u30b0\u3092\u66f4\u65b0\u3059\u308b'\n+    messages:\n+      index:\n+        title_index: '\u5168\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7'\n+        title_inbound: '\u554f\u3044\u5408\u308f\u305b\u4e00\u89a7'\n+        title_outbound: '\u8fd4\u4fe1\u4e00\u89a7'\n+        title_deleted: '\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\uff08\u30b4\u30df\u7bb1\uff09'\n+        type: '\u7a2e\u985e'\n+        sender: '\u9001\u4fe1\u8005'\n+        receiver: '\u53d7\u4fe1\u8005'\n+        subject: '\u4ef6\u540d'\n+        created_at: '\u4f5c\u6210\u65e5\u6642'\n+        action: '\u30a2\u30af\u30b7\u30e7\u30f3'\n+        detail: '\u8a73\u7d30'\n+        delete: '\u524a\u9664'\n+      show:\n+        title: '\u30e1\u30c3\u30bb\u30fc\u30b8\u8a73\u7d30'\n+        type: '\u7a2e\u985e'\n+        sender: '\u9001\u4fe1\u8005'\n+        receiver: '\u53d7\u4fe1\u8005'\n+        subject: '\u4ef6\u540d'\n+        created_at: '\u4f5c\u6210\u65e5\u6642'\n\n   admin:\n     shared:\n@@ -307,17 +328,4 @@ ja:\n         title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u66f4\u65b0\uff08\u78ba\u8a8d\uff09'\n         confirm_message: '\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f'\n         update: '\u9001\u4fe1'\n-        correct: '\u8a02\u6b63'\n-      index:\n-        title_index: '\u5168\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7'\n-        title_inbound: '\u554f\u3044\u5408\u308f\u305b\u4e00\u89a7'\n-        title_outbound: '\u8fd4\u4fe1\u4e00\u89a7'\n-        title_deleted: '\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\uff08\u30b4\u30df\u7bb1\uff09'\n-        type: '\u7a2e\u985e'\n-        sender: '\u9001\u4fe1\u8005'\n-        receiver: '\u53d7\u4fe1\u8005'\n-        subject: '\u4ef6\u540d'\n-        created_at: '\u4f5c\u6210\u65e5\u6642'\n-        action: '\u30a2\u30af\u30b7\u30e7\u30f3'\n-        detail: '\u8a73\u7d30'\n-        delete: '\u524a\u9664'\n\\ No newline at end of file\n+        correct: '\u8a02\u6b63'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170318/#_50","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170318/#ba772ff","title":"\u30b3\u30df\u30c3\u30c8: ba772ff","text":""},{"location":"journal/20170318/#_51","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u52d5\u4f5c\u78ba\u8a8d #22\n</code></pre>"},{"location":"journal/20170318/#_52","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/presenters/staff/message_presenter.rb</li> </ul>"},{"location":"journal/20170318/#_53","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit ba772ffb453b0691524da05cc791c3f562ef8129\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 15:44:02 2017 +0900\n\n    \u52d5\u4f5c\u78ba\u8a8d #22\n\ndiff --git a/README.md b/README.md\nindex 2bb1332..5697be0 100644\n--- a/README.md\n+++ b/README.md\n@@ -750,6 +750,7 @@ git push heroku master\n + \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e\n + \u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\n + \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u306e\u6295\u5165\n++ \u52d5\u4f5c\u78ba\u8a8d\n\n #### \u30e1\u30c3\u30bb\u30fc\u30b8\u30c4\u30ea\u30fc\u306e\u8868\u793a\n\ndiff --git a/app/presenters/staff/message_presenter.rb b/app/presenters/staff/message_presenter.rb\nindex 6e59d3d..b342ebd 100644\n--- a/app/presenters/staff/message_presenter.rb\n+++ b/app/presenters/staff/message_presenter.rb\n@@ -5,7 +5,7 @@ class Staff::MessagePresenter &lt; ModelPresenter\n     case object\n       when CustomerMessage\n         '\u554f\u3044\u5408\u308f\u305b'\n-      when StaffMember\n+      when StaffMessage\n         '\u8fd4\u4fe1'\n       else\n         raise\n@@ -16,7 +16,7 @@ class Staff::MessagePresenter &lt; ModelPresenter\n     case object\n       when CustomerMessage\n         object.customer.family_name + ' ' + object.customer.given_name\n-      when StaffMember\n+      when StaffMessage\n         object.staff_member.family_name + ' ' + object.staff_member.given_name\n       else\n         raise\n@@ -27,7 +27,7 @@ class Staff::MessagePresenter &lt; ModelPresenter\n     case object\n       when CustomerMessage\n         ''\n-      when StaffMember\n+      when StaffMessage\n         object.customer.family_name + ' ' + object.customer.given_name\n       else\n         raise\n</code></pre>"},{"location":"journal/20170318/#4702627","title":"\u30b3\u30df\u30c3\u30c8: 4702627","text":""},{"location":"journal/20170318/#_54","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u306e\u6295\u5165 #22\n</code></pre>"},{"location":"journal/20170318/#_55","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A db/seed/development/messages.rb</li> <li>M db/seeds.rb</li> </ul>"},{"location":"journal/20170318/#_56","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 4702627fde3ce64212b18eb427a3e788c6ed93af\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 15:35:50 2017 +0900\n\n    \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u306e\u6295\u5165 #22\n\ndiff --git a/README.md b/README.md\nindex 1580160..2bb1332 100644\n--- a/README.md\n+++ b/README.md\n@@ -749,6 +749,7 @@ git push heroku master\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n + \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e\n + \u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\n++ \u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u306e\u6295\u5165\n\n #### \u30e1\u30c3\u30bb\u30fc\u30b8\u30c4\u30ea\u30fc\u306e\u8868\u793a\n\ndiff --git a/db/seed/development/messages.rb b/db/seed/development/messages.rb\nnew file mode 100644\nindex 0000000..c3e3d2c\n--- /dev/null\n+++ b/db/seed/development/messages.rb\n@@ -0,0 +1,50 @@\n+customers = Customer.all\n+staff_members = StaffMember.where(suspended: false).all\n+\n+s = 2.years.ago\n+23.times do |n|\n+  m = CustomerMessage.create!(\n+                         customer: customers.sample,\n+                         subject: '\u3053\u308c\u306f\u554f\u3044\u5408\u308f\u305b\u3067\u3059\u3002' * 4,\n+                         body: '\u3053\u308c\u306f\u554f\u3044\u5408\u308f\u305b\u3067\u3059\u3002\\n' * 8,\n+                         created_at: s.advance(months: n)\n+  )\n+  r = StaffMessage.create!(\n+                      customer: m.customer,\n+                      staff_member: staff_members.sample,\n+                      root: m,\n+                      parent: m,\n+                      subject: '\u3053\u308c\u306f\u8fd4\u4fe1\u3067\u3059\u3002' * 4,\n+                      body: \"\u3053\u308c\u306f\u8fd4\u4fe1\u3067\u3059\u3002\\n\" * 8,\n+                      created_at: s.advance(months: n, hours: 1)\n+  )\n+  if n % 6 == 0\n+    m2 = CustomerMessage.create!(\n+                            customer: r.customer,\n+                            root: m,\n+                            parent: r,\n+                            subject: '\u3053\u308c\u306f\u8fd4\u4fe1\u3078\u306e\u8fd4\u4fe1\u3067\u3059\u3002',\n+                            body: \"\u3053\u308c\u306f\u8fd4\u4fe1\u3078\u306e\u8fd4\u4fe1\u3067\u3059\u3002\",\n+                            created_at: s.advance(months: n, hours: 2)\n+    )\n+    StaffMessage.create!(\n+                    customer: m2.customer,\n+                    staff_member: staff_members.sample,\n+                    root: m,\n+                    parent: m2,\n+                    subject: '\u3053\u308c\u306f\u8fd4\u4fe1\u306e\u8fd4\u4fe1\u3078\u306e\u8fd4\u4fe1\u3067\u3059\u3002',\n+                    body: \"\u3053\u308c\u306f\u8fd4\u4fe1\u306e\u8fd4\u4fe1\u3078\u306e\u8fd4\u4fe1\u3067\u3059\u3002\",\n+                    created_at: s.advance(months: n, hours: 3)\n+    )\n+  end\n+end\n+\n+s = 24.hours.ago\n+8.times do |n|\n+  CustomerMessage.create!(\n+                     customer: customers.sample,\n+                     subject: '\u3053\u308c\u306f\u554f\u3044\u5408\u308f\u305b\u3067\u3059\u3002' * 4,\n+                     body: \"\u3053\u308c\u306f\u554f\u3044\u5408\u308f\u305b\u3002\\n\" * 8,\n+                     created_at: s.advance(hours: n * 3)\n+  )\n+end\n\\ No newline at end of file\ndiff --git a/db/seeds.rb b/db/seeds.rb\nindex 3f0d536..beeaf0f 100644\n--- a/db/seeds.rb\n+++ b/db/seeds.rb\n@@ -6,7 +6,7 @@\n\n #   movies = Movie.create([{ name: 'Star Wars' }, { name: 'Lord of the Rings' }])\n #   Character.create(name: 'Luke', movie: movies.first)\n-table_names = %w(staff_members administrators staff_events customers allowed_sources programs entries)\n+table_names = %w(staff_members administrators staff_events customers allowed_sources programs entries messages)\n table_names.each do |table_name|\n   path = Rails.root.join('db','seed',Rails.env, \"#{table_name}.rb\")\n   if File.exist?(path)\n</code></pre>"},{"location":"journal/20170318/#146393f","title":"\u30b3\u30df\u30c3\u30c8: 146393f","text":""},{"location":"journal/20170318/#_57","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7 #22\n</code></pre>"},{"location":"journal/20170318/#_58","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/messages_controller.rb</li> <li>M app/models/message.rb</li> <li>A app/presenters/staff/message_presenter.rb</li> <li>A app/views/staff/messages/index.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170318/#_59","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 146393f6985a8c05b4f82b0afd751d48722fcfae\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 15:11:32 2017 +0900\n\n    \u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7 #22\n\ndiff --git a/README.md b/README.md\nindex d2e2090..1580160 100644\n--- a/README.md\n+++ b/README.md\n@@ -748,6 +748,7 @@ git push heroku master\n #### \u554f\u3044\u5408\u308f\u305b\u306e\u4e00\u89a7\u8868\u793a\u3068\u524a\u9664\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n + \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e\n++ \u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\n\n #### \u30e1\u30c3\u30bb\u30fc\u30b8\u30c4\u30ea\u30fc\u306e\u8868\u793a\n\ndiff --git a/app/controllers/staff/messages_controller.rb b/app/controllers/staff/messages_controller.rb\nindex 24f7336..22550ac 100644\n--- a/app/controllers/staff/messages_controller.rb\n+++ b/app/controllers/staff/messages_controller.rb\n@@ -1,6 +1,28 @@\n class Staff::MessagesController &lt; Staff::Base\n   before_action :reject_non_xhr, only: [ :count ]\n\n+  def index\n+    @messages = Message.where(deleted: false).page(params[:page])\n+  end\n+\n+  # GET\n+  def inbound\n+    @messages = CustomerMessage.where(deleted: false).page(params[:page])\n+    render action: 'index'\n+  end\n+\n+  # GET\n+  def outbound\n+    @messages = StaffMessage.where(deleted: false).page(params[:page])\n+    render action: 'index'\n+  end\n+\n+  # GET\n+  def deleted\n+    @messages = Message.where(deleted: true).page(params[:page])\n+    render action: 'index'\n+  end\n+\n   # GET\n   def count\n     render text: CustomerMessage.unprocessed.count\ndiff --git a/app/models/message.rb b/app/models/message.rb\nindex ac307fa..aa3668f 100644\n--- a/app/models/message.rb\n+++ b/app/models/message.rb\n@@ -46,4 +46,6 @@ class Message &lt; ApplicationRecord\n       self.root = parent.root || parent\n     end\n   end\n+\n+  default_scope { order(created_at: :desc) }\n end\ndiff --git a/app/presenters/staff/message_presenter.rb b/app/presenters/staff/message_presenter.rb\nnew file mode 100644\nindex 0000000..6e59d3d\n--- /dev/null\n+++ b/app/presenters/staff/message_presenter.rb\n@@ -0,0 +1,50 @@\n+class Staff::MessagePresenter &lt; ModelPresenter\n+  delegate :subject, :body, to: :object\n+\n+  def type\n+    case object\n+      when CustomerMessage\n+        '\u554f\u3044\u5408\u308f\u305b'\n+      when StaffMember\n+        '\u8fd4\u4fe1'\n+      else\n+        raise\n+    end\n+  end\n+\n+  def sender\n+    case object\n+      when CustomerMessage\n+        object.customer.family_name + ' ' + object.customer.given_name\n+      when StaffMember\n+        object.staff_member.family_name + ' ' + object.staff_member.given_name\n+      else\n+        raise\n+    end\n+  end\n+\n+  def receiver\n+    case object\n+      when CustomerMessage\n+        ''\n+      when StaffMember\n+        object.customer.family_name + ' ' + object.customer.given_name\n+      else\n+        raise\n+    end\n+  end\n+\n+  def truncated_subject\n+    view_context.truncate(subject, length: 20)\n+  end\n+\n+  def created_at\n+    if object.created_at &gt; Time.current.midnight\n+      object.created_at.strftime('%H:%M:%S')\n+    elsif object.created_at &gt; 5.months.ago.beginning_of_month\n+      object.created_at.strftime('%m/%d %H:%M')\n+    else\n+      object.created_at.strftime('%Y/%m/%d %H:%M')\n+    end\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/views/staff/messages/index.html.erb b/app/views/staff/messages/index.html.erb\nnew file mode 100644\nindex 0000000..2c8e4cd\n--- /dev/null\n+++ b/app/views/staff/messages/index.html.erb\n@@ -0,0 +1,42 @@\n+&lt;% @title = case params[:action]\n+              when 'index'; t('customer.messages.index.title_index')\n+              when 'inbound'; t('customer.messages.index.title_inbound')\n+              when 'outbound'; t('customer.messages.index.title_outbound')\n+              when 'deleted'; t('customer.messages.index.title_deleted')\n+              else; raise\n+            end\n+%&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column Table\"&gt;\n+  &lt;%= paginate @messages %&gt;\n+\n+  &lt;table class=\"Table__body Table__body--listing StaffTable__body\"&gt;\n+    &lt;tr class=\"Table__tr\"&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('customer.messages.index.type') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('customer.messages.index.sender') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('customer.messages.index.receiver') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('customer.messages.index.subject') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('customer.messages.index.created_at') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('customer.messages.index.action') %&gt;&lt;/th&gt;\n+    &lt;/tr&gt;\n+    &lt;% @messages.each do |m| %&gt;\n+        &lt;% p = Staff::MessagePresenter.new(m, self) %&gt;\n+        &lt;tr class=\"Table__tr\"&gt;\n+          &lt;td class=\"Table__td\"&gt;&lt;%= p.type %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td\"&gt;&lt;%= p.sender %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td\"&gt;&lt;%= p.receiver %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td\"&gt;&lt;%= p.truncated_subject %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td--date\"&gt;&lt;%= p.created_at %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td--action\"&gt;\n+            &lt;%= link_to t('customer.messages.index.detail'), staff_message_path(m), class: 'btn btn-default btn-xs' %&gt;\n+            &lt;%= link_to_if m.kind_of?(CustomerMessage), t('customer.messages.index.delete'), staff_message_path(m), method: :delete, class: 'btn btn-default btn-xs' %&gt;\n+          &lt;/td&gt;\n+        &lt;/tr&gt;\n+    &lt;% end %&gt;\n+  &lt;/table&gt;\n+\n+  &lt;%= paginate @messages %&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex b8dace7..91cf7c5 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -307,4 +307,17 @@ ja:\n         title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u66f4\u65b0\uff08\u78ba\u8a8d\uff09'\n         confirm_message: '\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f'\n         update: '\u9001\u4fe1'\n-        correct: '\u8a02\u6b63'\n\\ No newline at end of file\n+        correct: '\u8a02\u6b63'\n+      index:\n+        title_index: '\u5168\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7'\n+        title_inbound: '\u554f\u3044\u5408\u308f\u305b\u4e00\u89a7'\n+        title_outbound: '\u8fd4\u4fe1\u4e00\u89a7'\n+        title_deleted: '\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\uff08\u30b4\u30df\u7bb1\uff09'\n+        type: '\u7a2e\u985e'\n+        sender: '\u9001\u4fe1\u8005'\n+        receiver: '\u53d7\u4fe1\u8005'\n+        subject: '\u4ef6\u540d'\n+        created_at: '\u4f5c\u6210\u65e5\u6642'\n+        action: '\u30a2\u30af\u30b7\u30e7\u30f3'\n+        detail: '\u8a73\u7d30'\n+        delete: '\u524a\u9664'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170318/#_60","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170318/#61d1e52","title":"\u30b3\u30df\u30c3\u30c8: 61d1e52","text":""},{"location":"journal/20170318/#_61","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ea\u30f3\u30af\u306e\u8a2d\u7f6e #22\n</code></pre>"},{"location":"journal/20170318/#_62","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/helpers/staff_helper.rb</li> <li>M app/views/staff/top/dashboard.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170318/#_63","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 61d1e52ec559aabc8ff397e209d72978fbf5cdbb\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 14:21:45 2017 +0900\n\n    \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e #22\n\ndiff --git a/README.md b/README.md\nindex 66c7098..d2e2090 100644\n--- a/README.md\n+++ b/README.md\n@@ -747,6 +747,7 @@ git push heroku master\n ### \u30c4\u30ea\u30fc\u69cb\u9020\n #### \u554f\u3044\u5408\u308f\u305b\u306e\u4e00\u89a7\u8868\u793a\u3068\u524a\u9664\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n++ \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e\n\n #### \u30e1\u30c3\u30bb\u30fc\u30b8\u30c4\u30ea\u30fc\u306e\u8868\u793a\n\ndiff --git a/app/helpers/staff_helper.rb b/app/helpers/staff_helper.rb\nindex 8b02516..114b44e 100644\n--- a/app/helpers/staff_helper.rb\n+++ b/app/helpers/staff_helper.rb\n@@ -3,8 +3,8 @@ module StaffHelper\n\n   def number_of_unprocessed_messages\n     markup do |m|\n-      m.a({href: '#', class:'unprocessedMessages'}) do\n-        m &lt;&lt; '\u65b0\u898f\u554f\u3044\u5408\u308f\u305b'\n+      m.a({href: inbound_staff_messages_path, class:'unprocessedMessages'}) do\n+        m &lt;&lt; I18n.t('staff.top.dashboard.unprocessed_messages')\n         if (c = CustomerMessage.unprocessed.count) &gt; 0\n           anchor_text = \"(#{c})\"\n         else\ndiff --git a/app/views/staff/top/dashboard.html.erb b/app/views/staff/top/dashboard.html.erb\nindex 432d6a8..7a0a46c 100644\n--- a/app/views/staff/top/dashboard.html.erb\n+++ b/app/views/staff/top/dashboard.html.erb\n@@ -7,5 +7,13 @@\n   &lt;ul class=\"DashBoard__menu\"&gt;\n     &lt;li&gt;&lt;%= link_to t('.staff_customers'), :staff_customers, class: 'btn btn-default' %&gt;&lt;/li&gt;\n     &lt;li&gt;&lt;%= link_to t('.staff_programs'), :staff_programs, class: 'btn btn-default' %&gt;&lt;/li&gt;\n+    &lt;li&gt;&lt;%= t('.messages') %&gt;\n+      &lt;ul&gt;\n+        &lt;li&gt;&lt;%= link_to t('.inbound_staff_messages'), :inbound_staff_messages, class: 'btn btn-default' %&gt;&lt;/li&gt;\n+        &lt;li&gt;&lt;%= link_to t('.outbound_staff_messages'), :outbound_staff_messages, class: 'btn btn-default' %&gt;&lt;/li&gt;\n+        &lt;li&gt;&lt;%= link_to t('.staff_messages'), :staff_messages, class: 'btn btn-default' %&gt;&lt;/li&gt;\n+        &lt;li&gt;&lt;%= link_to t('.deleted_staff_messages'), :deleted_staff_messages, class: 'btn btn-default' %&gt;&lt;/li&gt;\n+      &lt;/ul&gt;\n+    &lt;/li&gt;\n   &lt;/ul&gt;\n &lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 4ab558b..b8dace7 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -25,6 +25,12 @@ ja:\n         title: '\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9'\n         staff_customers: '\u9867\u5ba2\u7ba1\u7406'\n         staff_programs: '\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406'\n+        unprocessed_messages: '\u65b0\u898f\u554f\u3044\u5408\u308f\u305b'\n+        messages: '\u30e1\u30c3\u30bb\u30fc\u30b8\u7ba1\u7406'\n+        inbound_staff_messages: '\u554f\u3044\u5408\u308f\u305b\u4e00\u89a7'\n+        outbound_staff_messages: '\u8fd4\u4fe1\u4e00\u89a7'\n+        staff_messages: '\u5168\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7'\n+        deleted_staff_messages: '\u30b4\u30df\u7bb1'\n     customers:\n       index:\n         title: '\u9867\u5ba2\u7ba1\u7406'\n</code></pre>"},{"location":"journal/20170318/#975d132","title":"\u30b3\u30df\u30c3\u30c8: 975d132","text":""},{"location":"journal/20170318/#_64","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #22\n</code></pre>"},{"location":"journal/20170318/#_65","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170318/#_66","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 975d132a7a69dc0b3747c44e66ac1d0f97355449\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 14:01:48 2017 +0900\n\n    \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #22\n\ndiff --git a/README.md b/README.md\nindex d38de71..66c7098 100644\n--- a/README.md\n+++ b/README.md\n@@ -746,6 +746,8 @@ git push heroku master\n\n ### \u30c4\u30ea\u30fc\u69cb\u9020\n #### \u554f\u3044\u5408\u308f\u305b\u306e\u4e00\u89a7\u8868\u793a\u3068\u524a\u9664\n++ \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n+\n #### \u30e1\u30c3\u30bb\u30fc\u30b8\u30c4\u30ea\u30fc\u306e\u8868\u793a\n\n ### \u30bf\u30b0\u4ed8\u3051\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 791c1bb..c0f31c5 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -31,7 +31,13 @@\n #                                 PATCH  /staff/programs/:id(.:format)                        staff/programs#update {:host=&gt;\"0.0.0.0\"}\n #                                 PUT    /staff/programs/:id(.:format)                        staff/programs#update {:host=&gt;\"0.0.0.0\"}\n #                                 DELETE /staff/programs/:id(.:format)                        staff/programs#destroy {:host=&gt;\"0.0.0.0\"}\n+#          inbound_staff_messages GET    /staff/messages/inbound(.:format)                    staff/messages#inbound {:host=&gt;\"0.0.0.0\"}\n+#         outbound_staff_messages GET    /staff/messages/outbound(.:format)                   staff/messages#outbound {:host=&gt;\"0.0.0.0\"}\n+#          deleted_staff_messages GET    /staff/messages/deleted(.:format)                    staff/messages#deleted {:host=&gt;\"0.0.0.0\"}\n #            count_staff_messages GET    /staff/messages/count(.:format)                      staff/messages#count {:host=&gt;\"0.0.0.0\"}\n+#                  staff_messages GET    /staff/messages(.:format)                            staff/messages#index {:host=&gt;\"0.0.0.0\"}\n+#                   staff_message GET    /staff/messages/:id(.:format)                        staff/messages#show {:host=&gt;\"0.0.0.0\"}\n+#                                 DELETE /staff/messages/:id(.:format)                        staff/messages#destroy {:host=&gt;\"0.0.0.0\"}\n #                      admin_root GET    /admin(.:format)                                     admin/top#index {:host=&gt;\"0.0.0.0\"}\n #                     admin_login GET    /admin/login(.:format)                               admin/sessions#new {:host=&gt;\"0.0.0.0\"}\n #                   admin_session DELETE /admin/session(.:format)                             admin/sessions#destroy {:host=&gt;\"0.0.0.0\"}\n@@ -92,8 +98,8 @@ Rails.application.routes.draw do\n       resources :programs do\n         patch :entries, on: :member\n       end\n-      resources :messages, only: [] do\n-        get :count, on: :collection\n+      resources :messages, only: [ :index, :show, :destroy ] do\n+        get :inbound, :outbound, :deleted, :count, on: :collection\n       end\n     end\n   end\n</code></pre>"},{"location":"journal/20170318/#9a2bdcb","title":"\u30b3\u30df\u30c3\u30c8: 9a2bdcb","text":""},{"location":"journal/20170318/#_67","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Ajax #23\n</code></pre>"},{"location":"journal/20170318/#_68","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/customer/top/dashboard.html.erb</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170318/#_69","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 9a2bdcbc7255ba53f24fcc604b97655c41cc6cba\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 13:51:47 2017 +0900\n\n    Ajax #23\n\ndiff --git a/app/views/customer/top/dashboard.html.erb b/app/views/customer/top/dashboard.html.erb\nindex ead0c5c..933e904 100644\n--- a/app/views/customer/top/dashboard.html.erb\n+++ b/app/views/customer/top/dashboard.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-3-18\"&gt;2017.3.18&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u554f\u3044\u5408\u308f\u305b\u6a5f\u80fd\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-3-17\"&gt;2017.3.17&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u9867\u5ba2\u81ea\u8eab\u306b\u3088\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u6a5f\u80fd\u8ffd\u52a0&lt;/span&gt;\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex c0973b1..6890631 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-3-18\"&gt;2017.3.18&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u554f\u3044\u5408\u308f\u305b\u5230\u7740\u306e\u901a\u77e5\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-3-17\"&gt;2017.3.17&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u7de8\u96c6\u6a5f\u80fd\u3092\u6539\u5584&lt;/span&gt;\n</code></pre>"},{"location":"journal/20170318/#9d23faa","title":"\u30b3\u30df\u30c3\u30c8: 9d23faa","text":""},{"location":"journal/20170318/#_70","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30a2\u30af\u30bb\u30b9\u5236\u9650 #23\n</code></pre>"},{"location":"journal/20170318/#_71","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/application_controller.rb</li> <li>M app/controllers/concerns/error_handlers.rb</li> <li>M app/controllers/staff/messages_controller.rb</li> </ul>"},{"location":"journal/20170318/#_72","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 9d23faab5d08adb4e6076eaa5bf1705bd25adf0c\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 13:46:36 2017 +0900\n\n    \u30a2\u30af\u30bb\u30b9\u5236\u9650 #23\n\ndiff --git a/README.md b/README.md\nindex cf9bc49..d38de71 100644\n--- a/README.md\n+++ b/README.md\n@@ -742,6 +742,7 @@ git push heroku master\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n + count\u30a2\u30af\u30b7\u30e7\u30f3\n + Ajax\n++ \u30a2\u30af\u30bb\u30b9\u5236\u9650\n\n ### \u30c4\u30ea\u30fc\u69cb\u9020\n #### \u554f\u3044\u5408\u308f\u305b\u306e\u4e00\u89a7\u8868\u793a\u3068\u524a\u9664\ndiff --git a/app/controllers/application_controller.rb b/app/controllers/application_controller.rb\nindex d1ed053..b5a081c 100644\n--- a/app/controllers/application_controller.rb\n+++ b/app/controllers/application_controller.rb\n@@ -24,4 +24,8 @@ class ApplicationController &lt; ActionController::Base\n     render 'errors/forbidden', status: 403\n   end\n\n+  def reject_non_xhr\n+    raise ActionController::BadRequest unless request.xhr?\n+  end\n+\n end\ndiff --git a/app/controllers/concerns/error_handlers.rb b/app/controllers/concerns/error_handlers.rb\nindex 09ca974..e215b42 100644\n--- a/app/controllers/concerns/error_handlers.rb\n+++ b/app/controllers/concerns/error_handlers.rb\n@@ -3,6 +3,7 @@ module ErrorHandlers\n\n   included do\n     rescue_from Exception, with: :rescue500\n+    rescue_from ActionController::BadRequest, with: :rescue400\n     rescue_from ActionController::ParameterMissing, with: :rescue400\n     rescue_from ActionController::RoutingError, with: :rescue404\n     rescue_from ActiveRecord::RecordNotFound, with: :rescue404\ndiff --git a/app/controllers/staff/messages_controller.rb b/app/controllers/staff/messages_controller.rb\nindex b28f2aa..24f7336 100644\n--- a/app/controllers/staff/messages_controller.rb\n+++ b/app/controllers/staff/messages_controller.rb\n@@ -1,4 +1,6 @@\n class Staff::MessagesController &lt; Staff::Base\n+  before_action :reject_non_xhr, only: [ :count ]\n+\n   # GET\n   def count\n     render text: CustomerMessage.unprocessed.count\n</code></pre>"},{"location":"journal/20170318/#_73","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170318/#aa8310b","title":"\u30b3\u30df\u30c3\u30c8: aa8310b","text":""},{"location":"journal/20170318/#_74","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Ajax #23\n</code></pre>"},{"location":"journal/20170318/#_75","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/assets/javascripts/staff/messages.coffee</li> <li>A app/assets/javascripts/staff/paths.coffee.erb</li> <li>A app/controllers/staff/messages_controller.rb</li> <li>M config/initializers/assets.rb</li> </ul>"},{"location":"journal/20170318/#_76","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit aa8310ba70d807be3a1b278235aff5f9a84bfbe5\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 13:39:00 2017 +0900\n\n    Ajax #23\n\ndiff --git a/README.md b/README.md\nindex 013c39c..cf9bc49 100644\n--- a/README.md\n+++ b/README.md\n@@ -741,6 +741,7 @@ git push heroku master\n #### \u554f\u3044\u5408\u308f\u305b\u5230\u7740\u306e\u901a\u77e5\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n + count\u30a2\u30af\u30b7\u30e7\u30f3\n++ Ajax\n\n ### \u30c4\u30ea\u30fc\u69cb\u9020\n #### \u554f\u3044\u5408\u308f\u305b\u306e\u4e00\u89a7\u8868\u793a\u3068\u524a\u9664\ndiff --git a/app/assets/javascripts/staff/messages.coffee b/app/assets/javascripts/staff/messages.coffee\nnew file mode 100644\nindex 0000000..c6f7f19\n--- /dev/null\n+++ b/app/assets/javascripts/staff/messages.coffee\n@@ -0,0 +1,12 @@\n+$(document).on \"turbolinks:load\", -&gt;\n+  do -&gt;\n+    new Message\n+\n+class Message\n+  constructor: -&gt;\n+    if $('#number-of-unprocessed-messages').length\n+      window.setInterval(update_number_of_unprocessed_messages, 100 * 60)\n+\n+  update_number_of_unprocessed_messages = -&gt;\n+    $.get window.paths.number_of_unprocessed_messages, (data) -&gt;\n+      $('#number-of-unprocessed-messages').text \"(#{data})\"\n\\ No newline at end of file\ndiff --git a/app/assets/javascripts/staff/paths.coffee.erb b/app/assets/javascripts/staff/paths.coffee.erb\nnew file mode 100644\nindex 0000000..b1a8104\n--- /dev/null\n+++ b/app/assets/javascripts/staff/paths.coffee.erb\n@@ -0,0 +1,2 @@\n+window.paths = new Object\n+window.paths.number_of_unprocessed_messages = \"&lt;%= count_staff_messages_path %&gt;\"\n\\ No newline at end of file\ndiff --git a/app/controllers/staff/messages_controller.rb b/app/controllers/staff/messages_controller.rb\nnew file mode 100644\nindex 0000000..b28f2aa\n--- /dev/null\n+++ b/app/controllers/staff/messages_controller.rb\n@@ -0,0 +1,6 @@\n+class Staff::MessagesController &lt; Staff::Base\n+  # GET\n+  def count\n+    render text: CustomerMessage.unprocessed.count\n+  end\n+end\ndiff --git a/config/initializers/assets.rb b/config/initializers/assets.rb\nindex 87e894e..f9bd5a5 100644\n--- a/config/initializers/assets.rb\n+++ b/config/initializers/assets.rb\n@@ -10,3 +10,5 @@ Rails.application.config.assets.version = '1.0'\n # application.js, application.css, and all non-JS/CSS in app/assets folder are already added.\n Rails.application.config.assets.precompile += %w( staff.js admin.js customer.js )\n Rails.application.config.assets.paths &lt;&lt; Rails.root.join(\"app\", \"assets\", \"fonts\")\n+\n+Sprockets::Context.send(:include, Rails.application.routes.url_helpers)\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170318/#_77","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170318/#20f71d4","title":"\u30b3\u30df\u30c3\u30c8: 20f71d4","text":""},{"location":"journal/20170318/#_78","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>count\u30a2\u30af\u30b7\u30e7\u30f3 #23\n</code></pre>"},{"location":"journal/20170318/#_79","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/stylesheets/components/parts/_labels.scss</li> <li>A app/helpers/staff_helper.rb</li> <li>M app/models/customer_message.rb</li> <li>M app/views/staff/shared/_header.html.erb</li> </ul>"},{"location":"journal/20170318/#_80","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 20f71d4b59339ccf68f04a6405af6e524c888274\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 12:57:47 2017 +0900\n\n    count\u30a2\u30af\u30b7\u30e7\u30f3 #23\n\ndiff --git a/README.md b/README.md\nindex e3c8c2a..013c39c 100644\n--- a/README.md\n+++ b/README.md\n@@ -740,6 +740,7 @@ git push heroku master\n\n #### \u554f\u3044\u5408\u308f\u305b\u5230\u7740\u306e\u901a\u77e5\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n++ count\u30a2\u30af\u30b7\u30e7\u30f3\n\n ### \u30c4\u30ea\u30fc\u69cb\u9020\n #### \u554f\u3044\u5408\u308f\u305b\u306e\u4e00\u89a7\u8868\u793a\u3068\u524a\u9664\ndiff --git a/app/assets/stylesheets/components/parts/_labels.scss b/app/assets/stylesheets/components/parts/_labels.scss\nindex 4ca79c0..cb293da 100644\n--- a/app/assets/stylesheets/components/parts/_labels.scss\n+++ b/app/assets/stylesheets/components/parts/_labels.scss\n@@ -56,4 +56,8 @@\n   padding: 40px 0 20px;\n   font-weight: normal;\n   font-size: 26px;\n+}\n+\n+.unprocessedMessages {\n+  color: $color-white;\n }\n\\ No newline at end of file\ndiff --git a/app/helpers/staff_helper.rb b/app/helpers/staff_helper.rb\nnew file mode 100644\nindex 0000000..8b02516\n--- /dev/null\n+++ b/app/helpers/staff_helper.rb\n@@ -0,0 +1,17 @@\n+module StaffHelper\n+  include HtmlBuilder\n+\n+  def number_of_unprocessed_messages\n+    markup do |m|\n+      m.a({href: '#', class:'unprocessedMessages'}) do\n+        m &lt;&lt; '\u65b0\u898f\u554f\u3044\u5408\u308f\u305b'\n+        if (c = CustomerMessage.unprocessed.count) &gt; 0\n+          anchor_text = \"(#{c})\"\n+        else\n+          anchor_text = ''\n+        end\n+        m.span(anchor_text, id: 'number-of-unprocessed-messages')\n+      end\n+    end\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/app/models/customer_message.rb b/app/models/customer_message.rb\nindex f7bb10f..faeaa3f 100644\n--- a/app/models/customer_message.rb\n+++ b/app/models/customer_message.rb\n@@ -1,2 +1,3 @@\n class CustomerMessage &lt; Message\n+  scope :unprocessed, -&gt; { where(status: 'new', deleted: false) }\n end\n\\ No newline at end of file\ndiff --git a/app/views/staff/shared/_header.html.erb b/app/views/staff/shared/_header.html.erb\nindex 0e430e2..a5d0864 100644\n--- a/app/views/staff/shared/_header.html.erb\n+++ b/app/views/staff/shared/_header.html.erb\n@@ -16,14 +16,12 @@\n       &lt;li class=\"Menu__item\"&gt;&lt;a href=\"#\"&gt;&lt;/a&gt;&lt;/li&gt;\n     &lt;/ul&gt;\n   &lt;/nav&gt;\n+  &lt;%= number_of_unprocessed_messages if current_staff_member %&gt;\n   &lt;%= if current_staff_member\n         link_to t('staff.shared.header.logout'), :staff_session, method: :delete, class: 'btn btn-default'\n       else\n         link_to t('staff.shared.header.login'), :staff_login, class: 'btn btn-default'\n       end\n     %&gt;\n-  &lt;%= if current_staff_member\n-        link_to t('staff.shared.header.account'), :staff_account , class: 'btn btn-default'\n-      end\n-  %&gt;\n+  &lt;%= link_to t('staff.shared.header.account'), :staff_account , class: 'btn btn-default' if current_staff_member %&gt;\n &lt;/header&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170318/#_81","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170318/#235b8ad","title":"\u30b3\u30df\u30c3\u30c8: 235b8ad","text":""},{"location":"journal/20170318/#_82","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #23\n</code></pre>"},{"location":"journal/20170318/#_83","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170318/#_84","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 235b8ad56a9dea08d294641d5dc1ace0052877a6\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 12:42:54 2017 +0900\n\n    \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #23\n\ndiff --git a/README.md b/README.md\nindex f03ff72..e3c8c2a 100644\n--- a/README.md\n+++ b/README.md\n@@ -739,6 +739,7 @@ git push heroku master\n + create\u30a2\u30af\u30b7\u30e7\u30f3\n\n #### \u554f\u3044\u5408\u308f\u305b\u5230\u7740\u306e\u901a\u77e5\n++ \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n\n ### \u30c4\u30ea\u30fc\u69cb\u9020\n #### \u554f\u3044\u5408\u308f\u305b\u306e\u4e00\u89a7\u8868\u793a\u3068\u524a\u9664\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 775fea1..791c1bb 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -31,6 +31,7 @@\n #                                 PATCH  /staff/programs/:id(.:format)                        staff/programs#update {:host=&gt;\"0.0.0.0\"}\n #                                 PUT    /staff/programs/:id(.:format)                        staff/programs#update {:host=&gt;\"0.0.0.0\"}\n #                                 DELETE /staff/programs/:id(.:format)                        staff/programs#destroy {:host=&gt;\"0.0.0.0\"}\n+#            count_staff_messages GET    /staff/messages/count(.:format)                      staff/messages#count {:host=&gt;\"0.0.0.0\"}\n #                      admin_root GET    /admin(.:format)                                     admin/top#index {:host=&gt;\"0.0.0.0\"}\n #                     admin_login GET    /admin/login(.:format)                               admin/sessions#new {:host=&gt;\"0.0.0.0\"}\n #                   admin_session DELETE /admin/session(.:format)                             admin/sessions#destroy {:host=&gt;\"0.0.0.0\"}\n@@ -72,10 +73,6 @@\n #\n\n Rails.application.routes.draw do\n-  namespace :customer do\n-    get 'messagges/new'\n-  end\n-\n   config = Rails.application.config.baukis_kai\n\n   concern :session_path do\n@@ -95,6 +92,9 @@ Rails.application.routes.draw do\n       resources :programs do\n         patch :entries, on: :member\n       end\n+      resources :messages, only: [] do\n+        get :count, on: :collection\n+      end\n     end\n   end\n</code></pre>"},{"location":"journal/20170318/#367664c","title":"\u30b3\u30df\u30c3\u30c8: 367664c","text":""},{"location":"journal/20170318/#_85","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>create\u30a2\u30af\u30b7\u30e7\u30f3 #23\n</code></pre>"},{"location":"journal/20170318/#_86","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/customer/messages_controller.rb</li> <li>M config/locales/controllers/ja.yml</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170318/#_87","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 367664cfe3ac22f48ea321b6addc0f8b6aa35257\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 12:34:20 2017 +0900\n\n    create\u30a2\u30af\u30b7\u30e7\u30f3 #23\n\ndiff --git a/README.md b/README.md\nindex 087cd37..f03ff72 100644\n--- a/README.md\n+++ b/README.md\n@@ -736,6 +736,7 @@ git push heroku master\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n + new\u30a2\u30af\u30b7\u30e7\u30f3\n + confirm\u30a2\u30af\u30b7\u30e7\u30f3\n++ create\u30a2\u30af\u30b7\u30e7\u30f3\n\n #### \u554f\u3044\u5408\u308f\u305b\u5230\u7740\u306e\u901a\u77e5\n\ndiff --git a/app/controllers/customer/messages_controller.rb b/app/controllers/customer/messages_controller.rb\nindex 94afa9c..3b0c70e 100644\n--- a/app/controllers/customer/messages_controller.rb\n+++ b/app/controllers/customer/messages_controller.rb\n@@ -14,6 +14,22 @@ class Customer::MessagesController &lt; Customer::Base\n     end\n   end\n\n+  def create\n+    @message = CustomerMessage.new(customer_message_params)\n+    if params[:commit]\n+      @message.customer = current_customer\n+      if @message.save\n+        flash.notice = t('.flash_notice')\n+        redirect_to :customer_root\n+      else\n+        flash.now.alert = t('.flash_alert')\n+        render action: 'new'\n+      end\n+    else\n+      render action: 'new'\n+    end\n+  end\n+\n   private\n   def customer_message_params\n     params.require(:customer_message).permit(\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 055aaaf..239cdf9 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -82,4 +82,7 @@ ja:\n     messages:\n       confirm:\n         flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n+      create:\n+        flash_notice: '\u554f\u3044\u5408\u308f\u305b\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f\u3002'\n+        flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex fe10849..4ab558b 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -300,5 +300,5 @@ ja:\n       confirm:\n         title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u66f4\u65b0\uff08\u78ba\u8a8d\uff09'\n         confirm_message: '\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f'\n-        update: '\u66f4\u65b0'\n+        update: '\u9001\u4fe1'\n         correct: '\u8a02\u6b63'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170318/#_88","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170318/#14f953c","title":"\u30b3\u30df\u30c3\u30c8: 14f953c","text":""},{"location":"journal/20170318/#_89","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>confirm\u30a2\u30af\u30b7\u30e7\u30f3 #23\n</code></pre>"},{"location":"journal/20170318/#_90","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/customer/messages_controller.rb</li> <li>M app/presenters/confirming_form_presenter.rb</li> <li>A app/views/customer/messages/_confirming_form.html.erb</li> <li>A app/views/customer/messages/confirm.html.erb</li> <li>M app/views/customer/messages/new.html.erb</li> <li>M config/locales/controllers/ja.yml</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170318/#_91","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 14f953c2585aee480e0ca390092cea634e9eb494\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 12:28:34 2017 +0900\n\n    confirm\u30a2\u30af\u30b7\u30e7\u30f3 #23\n\ndiff --git a/README.md b/README.md\nindex 85b69bc..087cd37 100644\n--- a/README.md\n+++ b/README.md\n@@ -735,6 +735,7 @@ git push heroku master\n + \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u7b49\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n + new\u30a2\u30af\u30b7\u30e7\u30f3\n++ confirm\u30a2\u30af\u30b7\u30e7\u30f3\n\n #### \u554f\u3044\u5408\u308f\u305b\u5230\u7740\u306e\u901a\u77e5\n\ndiff --git a/app/controllers/customer/messages_controller.rb b/app/controllers/customer/messages_controller.rb\nindex 0a614d9..94afa9c 100644\n--- a/app/controllers/customer/messages_controller.rb\n+++ b/app/controllers/customer/messages_controller.rb\n@@ -2,4 +2,23 @@ class Customer::MessagesController &lt; Customer::Base\n   def new\n     @message = CustomerMessage.new\n   end\n+\n+  # POST\n+  def confirm\n+    @message = CustomerMessage.new(customer_message_params)\n+    if @message.valid?\n+      render action: 'confirm'\n+    else\n+      flash.now.alert = t('.flash_alert')\n+      render action: 'new'\n+    end\n+  end\n+\n+  private\n+  def customer_message_params\n+    params.require(:customer_message).permit(\n+        :subject,\n+        :body\n+    )\n+  end\n end\ndiff --git a/app/presenters/confirming_form_presenter.rb b/app/presenters/confirming_form_presenter.rb\nindex 8811aaf..7c26499 100644\n--- a/app/presenters/confirming_form_presenter.rb\n+++ b/app/presenters/confirming_form_presenter.rb\n@@ -29,6 +29,17 @@ class ConfirmingFormPresenter\n     end\n   end\n\n+  def text_area_block(name, label_text, options = {})\n+    markup(:div) do |m|\n+      m &lt;&lt; decorated_label(name, label_text, options)\n+      value = object.send(name)\n+      m.div(class: 'AppForm--field-value') do\n+        m &lt;&lt; ERB::Util.html_escape(value).gsub(/\\n/, '&lt;br /&gt;')\n+      end\n+      m &lt;&lt; hidden_field(name, options)\n+    end\n+  end\n+\n   def decorated_label(name, label_text, options = {})\n     label(name, label_text)\n   end\ndiff --git a/app/views/customer/messages/_confirming_form.html.erb b/app/views/customer/messages/_confirming_form.html.erb\nnew file mode 100644\nindex 0000000..08a0d2f\n--- /dev/null\n+++ b/app/views/customer/messages/_confirming_form.html.erb\n@@ -0,0 +1,6 @@\n+&lt;%= markup(:div, id: 'confirming-panel') do |m|\n+  p = ConfirmingFormPresenter.new(f, self)\n+  m.div t('customer.messages.confirm.confirm_message')\n+  m &lt;&lt; p.text_field_block(:subject, t('activerecord.attributes.message.subject'))\n+  m &lt;&lt; p.text_area_block(:body, t('activerecord.attributes.message.body'))\n+end %&gt;\n\\ No newline at end of file\ndiff --git a/app/views/customer/messages/confirm.html.erb b/app/views/customer/messages/confirm.html.erb\nnew file mode 100644\nindex 0000000..cfb52c7\n--- /dev/null\n+++ b/app/views/customer/messages/confirm.html.erb\n@@ -0,0 +1,16 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Customer__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column AppForm\"&gt;\n+  &lt;div class=\"AppForm__generic-form CustomerAppForm__generic-form\"&gt;\n+    &lt;%= bootstrap_form_for @message, url: :customer_messages do |f| %&gt;\n+        &lt;%= render 'confirming_form', f: f %&gt;\n+        &lt;div class=\"AppForm__buttons\"&gt;\n+          &lt;%= f.submit t('.update'),class: 'btn btn-default btn-lg' %&gt;\n+          &lt;%= f.submit t('.correct'), name: 'correct', class: 'btn btn-default btn-lg' %&gt;\n+        &lt;/div&gt;\n+    &lt;% end %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/app/views/customer/messages/new.html.erb b/app/views/customer/messages/new.html.erb\nindex 97c379e..5af5566 100644\n--- a/app/views/customer/messages/new.html.erb\n+++ b/app/views/customer/messages/new.html.erb\n@@ -9,7 +9,7 @@\n         &lt;%= render 'form', f: f %&gt;\n         &lt;div class=\"AppForm__buttons\"&gt;\n           &lt;%= f.submit t('.submit') ,class: 'btn btn-default btn-lg'%&gt;\n-          &lt;%= link_to t('.cancel'), :staff_programs ,class: 'btn btn-default btn-lg'%&gt;\n+          &lt;%= link_to t('.cancel'), :customer_root ,class: 'btn btn-default btn-lg'%&gt;\n         &lt;/div&gt;\n     &lt;% end %&gt;\n   &lt;/div&gt;\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 0da1ba1..055aaaf 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -79,3 +79,7 @@ ja:\n         flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n       confirm:\n         flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n+    messages:\n+      confirm:\n+        flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n+\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex b975297..fe10849 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -296,4 +296,9 @@ ja:\n       new:\n         title: '\u65b0\u898f\u554f\u3044\u5408\u308f\u305b'\n         submit: '\u78ba\u8a8d\u753b\u9762\u3078\u9032\u3080'\n-        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n\\ No newline at end of file\n+        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n+      confirm:\n+        title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u66f4\u65b0\uff08\u78ba\u8a8d\uff09'\n+        confirm_message: '\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f'\n+        update: '\u66f4\u65b0'\n+        correct: '\u8a02\u6b63'\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170318/#_92","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170318/#8243f45","title":"\u30b3\u30df\u30c3\u30c8: 8243f45","text":""},{"location":"journal/20170318/#_93","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>new\u30a2\u30af\u30b7\u30e7\u30f3 #23\n</code></pre>"},{"location":"journal/20170318/#_94","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/controllers/customer/messages_controller.rb</li> <li>M app/models/message.rb</li> <li>A app/views/customer/messages/_form.html.erb</li> <li>A app/views/customer/messages/new.html.erb</li> <li>M app/views/customer/shared/_header_login.html.erb</li> <li>M config/locales/models/ja.yml</li> <li>M config/locales/views/ja.yml</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170318/#_95","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8243f45c65bfc5662689723f5b699578ebf6d7af\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 11:37:38 2017 +0900\n\n    new\u30a2\u30af\u30b7\u30e7\u30f3 #23\n\ndiff --git a/README.md b/README.md\nindex 8aba67e..85b69bc 100644\n--- a/README.md\n+++ b/README.md\n@@ -734,6 +734,7 @@ git push heroku master\n + \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\n + \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u7b49\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n++ new\u30a2\u30af\u30b7\u30e7\u30f3\n\n #### \u554f\u3044\u5408\u308f\u305b\u5230\u7740\u306e\u901a\u77e5\n\ndiff --git a/app/controllers/customer/messages_controller.rb b/app/controllers/customer/messages_controller.rb\nnew file mode 100644\nindex 0000000..0a614d9\n--- /dev/null\n+++ b/app/controllers/customer/messages_controller.rb\n@@ -0,0 +1,5 @@\n+class Customer::MessagesController &lt; Customer::Base\n+  def new\n+    @message = CustomerMessage.new\n+  end\n+end\ndiff --git a/app/models/message.rb b/app/models/message.rb\nindex f024258..ac307fa 100644\n--- a/app/models/message.rb\n+++ b/app/models/message.rb\n@@ -37,8 +37,8 @@ class Message &lt; ApplicationRecord\n   belongs_to :parent, class_name: 'Message', foreign_key: 'parent_id'\n\n   validates :subject, :body, presence: true\n-  validates :subject, length: [ maximum: 80, allow_blank: true ]\n-  validates :body, length: [ maximum: 800, allow_blank: true ]\n+  validates :subject, length: { maximum: 80, allow_blank: true }\n+  validates :body, length: { maximum: 800, allow_blank: true }\n\n   before_create do\n     if parent\ndiff --git a/app/views/customer/messages/_form.html.erb b/app/views/customer/messages/_form.html.erb\nnew file mode 100644\nindex 0000000..063ddc9\n--- /dev/null\n+++ b/app/views/customer/messages/_form.html.erb\n@@ -0,0 +1,10 @@\n+&lt;%= markup do |m|\n+  p = FormPresenter.new(f, self)\n+  p.with_options(required: true) do |q|\n+    m &lt;&lt; q.text_field_block(:subject, t('activerecord.attributes.message.subject'), size: 40, maxlength: 80)\n+    m.div(class: 'AppForm__input-block') do |m|\n+      m &lt;&lt; q.text_area(:body, rows: 6, style: 'with: 454px')\n+      m.span '(800\u6587\u5b57\u4ee5\u5185)', class: 'instruction', style: 'flaot; rigth'\n+    end\n+  end\n+end %&gt;\n\\ No newline at end of file\ndiff --git a/app/views/customer/messages/new.html.erb b/app/views/customer/messages/new.html.erb\nnew file mode 100644\nindex 0000000..97c379e\n--- /dev/null\n+++ b/app/views/customer/messages/new.html.erb\n@@ -0,0 +1,16 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Customer__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column AppForm\"&gt;\n+  &lt;div class=\"AppForm__generic-form CustomerAppForm__generic-form\"&gt;\n+    &lt;%= bootstrap_form_for @message, url: :confirm_customer_messages do |f| %&gt;\n+        &lt;%= render 'form', f: f %&gt;\n+        &lt;div class=\"AppForm__buttons\"&gt;\n+          &lt;%= f.submit t('.submit') ,class: 'btn btn-default btn-lg'%&gt;\n+          &lt;%= link_to t('.cancel'), :staff_programs ,class: 'btn btn-default btn-lg'%&gt;\n+        &lt;/div&gt;\n+    &lt;% end %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\ndiff --git a/app/views/customer/shared/_header_login.html.erb b/app/views/customer/shared/_header_login.html.erb\nindex 0bc79c2..7b44e98 100644\n--- a/app/views/customer/shared/_header_login.html.erb\n+++ b/app/views/customer/shared/_header_login.html.erb\n@@ -23,4 +23,5 @@\n       end\n   %&gt;\n   &lt;%= link_to t('customer.shared.header.account'), :customer_account, class: 'btn btn-default Header__account' if current_customer %&gt;\n+  &lt;%= link_to t('customer.shared.header.message'), :new_customer_message, class: 'btn btn-default Header__account' if current_customer %&gt;\n &lt;/header&gt;\n\\ No newline at end of file\ndiff --git a/config/locales/models/ja.yml b/config/locales/models/ja.yml\nindex 95f4c93..d6f3d9e 100644\n--- a/config/locales/models/ja.yml\n+++ b/config/locales/models/ja.yml\n@@ -7,6 +7,7 @@ ja:\n       customer: \u9867\u5ba2\n       address: \u4f4f\u6240\n       program: \u30d7\u30ed\u30b0\u30e9\u30e0\n+      message: \u554f\u3044\u5408\u308f\u305b\n\n     attributes:\n       administrator:\n@@ -101,6 +102,14 @@ ja:\n         entries: \u30a8\u30f3\u30c8\u30ea\u30fc\n         registrant: \u767b\u9332\u8005\n\n+      message:\n+        status: \u72b6\u614b\uff08\u8077\u54e1\u5411\u3051\uff09\n+        subject: \u4ef6\u540d\n+        body: \u672c\u6587\n+        remarks: \u5099\u8003\uff08\u8077\u54e1\u5411\u3051\uff09\n+        discarded: \u9867\u5ba2\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\n+        deleted: \u8077\u54e1\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\n+\n     errors:\n       models:\n         staff_member:\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 8e2bd2b..b975297 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -218,6 +218,7 @@ ja:\n         login: '\u30ed\u30b0\u30a4\u30f3'\n         logout: '\u30ed\u30b0\u30a2\u30a6\u30c8'\n         account: '\u30a2\u30ab\u30a6\u30f3\u30c8'\n+        message: '\u554f\u3044\u5408\u308f\u305b'\n     sessions:\n       new:\n         title: '\u30ed\u30b0\u30a4\u30f3'\n@@ -290,4 +291,9 @@ ja:\n         title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u66f4\u65b0\uff08\u78ba\u8a8d\uff09'\n         confirm_message: '\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f'\n         update: '\u66f4\u65b0'\n-        correct: '\u8a02\u6b63'\n\\ No newline at end of file\n+        correct: '\u8a02\u6b63'\n+    messages:\n+      new:\n+        title: '\u65b0\u898f\u554f\u3044\u5408\u308f\u305b'\n+        submit: '\u78ba\u8a8d\u753b\u9762\u3078\u9032\u3080'\n+        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n\\ No newline at end of file\ndiff --git a/config/routes.rb b/config/routes.rb\nindex b36dc1e..775fea1 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -72,6 +72,10 @@\n #\n\n Rails.application.routes.draw do\n+  namespace :customer do\n+    get 'messagges/new'\n+  end\n+\n   config = Rails.application.config.baukis_kai\n\n   concern :session_path do\n</code></pre>"},{"location":"journal/20170318/#_96","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170318/#6584a17","title":"\u30b3\u30df\u30c3\u30c8: 6584a17","text":""},{"location":"journal/20170318/#_97","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #23\n</code></pre>"},{"location":"journal/20170318/#_98","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170318/#_99","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 6584a177c87ccbcff055a60a0f14f9fdbc830d45\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 11:09:49 2017 +0900\n\n    \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #23\n\ndiff --git a/README.md b/README.md\nindex 2bd9094..8aba67e 100644\n--- a/README.md\n+++ b/README.md\n@@ -733,6 +733,7 @@ git push heroku master\n + \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08\n + \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\n + \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u7b49\n++ \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n\n #### \u554f\u3044\u5408\u308f\u305b\u5230\u7740\u306e\u901a\u77e5\n\ndiff --git a/config/routes.rb b/config/routes.rb\nindex ab71ca9..b36dc1e 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -5,6 +5,7 @@\n #                     staff_login GET    /staff/login(.:format)                               staff/sessions#new {:host=&gt;\"0.0.0.0\"}\n #                   staff_session DELETE /staff/session(.:format)                             staff/sessions#destroy {:host=&gt;\"0.0.0.0\"}\n #                                 POST   /staff/session(.:format)                             staff/sessions#create {:host=&gt;\"0.0.0.0\"}\n+#           confirm_staff_account PATCH  /staff/account/confirm(.:format)                     staff/accounts#confirm {:host=&gt;\"0.0.0.0\"}\n #              edit_staff_account GET    /staff/account/edit(.:format)                        staff/accounts#edit {:host=&gt;\"0.0.0.0\"}\n #                   staff_account GET    /staff/account(.:format)                             staff/accounts#show {:host=&gt;\"0.0.0.0\"}\n #                                 PATCH  /staff/account(.:format)                             staff/accounts#update {:host=&gt;\"0.0.0.0\"}\n@@ -63,6 +64,9 @@\n #        customer_program_entries POST   /programs/:program_id/entries(.:format)              customer/entries#create {:host=&gt;\"0.0.0.0\"}\n #               customer_programs GET    /programs(.:format)                                  customer/programs#index {:host=&gt;\"0.0.0.0\"}\n #                customer_program GET    /programs/:id(.:format)                              customer/programs#show {:host=&gt;\"0.0.0.0\"}\n+#       confirm_customer_messages POST   /messages/confirm(.:format)                          customer/messages#confirm {:host=&gt;\"0.0.0.0\"}\n+#               customer_messages POST   /messages(.:format)                                  customer/messages#create {:host=&gt;\"0.0.0.0\"}\n+#            new_customer_message GET    /messages/new(.:format)                              customer/messages#new {:host=&gt;\"0.0.0.0\"}\n #                            root GET    /                                                    errors#routing_error\n #                                 GET    /*anything(.:format)                                 errors#routing_error\n #\n@@ -120,6 +124,9 @@ Rails.application.routes.draw do\n           patch :cancel, on: :member\n         end\n       end\n+      resources :messages, only: [ :new, :create ] do\n+        post :confirm, on: :collection\n+      end\n     end\n   end\n</code></pre>"},{"location":"journal/20170318/#5149a27","title":"\u30b3\u30df\u30c3\u30c8: 5149a27","text":""},{"location":"journal/20170318/#_100","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u7b49 #23\n</code></pre>"},{"location":"journal/20170318/#_101","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/models/message.rb</li> </ul>"},{"location":"journal/20170318/#_102","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 5149a279ce43f05f2bcacc713438b9fbfe51cc81\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 11:06:59 2017 +0900\n\n    \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u7b49 #23\n\ndiff --git a/README.md b/README.md\nindex c9d5647..2bd9094 100644\n--- a/README.md\n+++ b/README.md\n@@ -732,6 +732,7 @@ git push heroku master\n #### \u9867\u5ba2\u5411\u3051\u554f\u3044\u5408\u308f\u305b\u30d5\u30a9\u30fc\u30e0\n + \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08\n + \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\n++ \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u7b49\n\n #### \u554f\u3044\u5408\u308f\u305b\u5230\u7740\u306e\u901a\u77e5\n\ndiff --git a/app/models/message.rb b/app/models/message.rb\nindex 6fee098..f024258 100644\n--- a/app/models/message.rb\n+++ b/app/models/message.rb\n@@ -35,4 +35,15 @@ class Message &lt; ApplicationRecord\n   belongs_to :staff_member\n   belongs_to :root, class_name: 'Message', foreign_key: 'root_id'\n   belongs_to :parent, class_name: 'Message', foreign_key: 'parent_id'\n+\n+  validates :subject, :body, presence: true\n+  validates :subject, length: [ maximum: 80, allow_blank: true ]\n+  validates :body, length: [ maximum: 800, allow_blank: true ]\n+\n+  before_create do\n+    if parent\n+      self.customer = parent.customer\n+      self.root = parent.root || parent\n+    end\n+  end\n end\n</code></pre>"},{"location":"journal/20170318/#_103","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170318/#23455f6","title":"\u30b3\u30df\u30c3\u30c8: 23455f6","text":""},{"location":"journal/20170318/#_104","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051 #23\n</code></pre>"},{"location":"journal/20170318/#_105","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/models/customer.rb</li> <li>A app/models/customer_message.rb</li> <li>M app/models/message.rb</li> <li>A app/models/staff_message.rb</li> </ul>"},{"location":"journal/20170318/#_106","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 23455f67ba96ed916db36e32d8d96801e074671e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 10:53:14 2017 +0900\n\n    \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051 #23\n\ndiff --git a/app/models/customer.rb b/app/models/customer.rb\nindex 6e802b2..1b01fa2 100644\n--- a/app/models/customer.rb\n+++ b/app/models/customer.rb\n@@ -46,6 +46,9 @@ class Customer &lt; ApplicationRecord\n   has_many :personal_phones, -&gt; { where(address_id: nil).order(:id) },class_name: 'Phone', autosave: true\n   has_many :entries, dependent: :destroy\n   has_many :programs, through: :entries\n+  has_many :messages\n+  has_many :outbound_messages, class_name: 'CustomerMessage', foreign_key: 'customer_id'\n+  has_many :inbound_messages, class_name: 'StaffMember', foreign_key: 'customer_id'\n\n   validates :gender, inclusion: { in: %w(male female), allow_blank: true }\n   validates :birthday, date: {\ndiff --git a/app/models/customer_message.rb b/app/models/customer_message.rb\nnew file mode 100644\nindex 0000000..f7bb10f\n--- /dev/null\n+++ b/app/models/customer_message.rb\n@@ -0,0 +1,2 @@\n+class CustomerMessage &lt; Message\n+end\n\\ No newline at end of file\ndiff --git a/app/models/message.rb b/app/models/message.rb\nindex ae8222b..6fee098 100644\n--- a/app/models/message.rb\n+++ b/app/models/message.rb\n@@ -31,4 +31,8 @@\n #\n\n class Message &lt; ApplicationRecord\n+  belongs_to :customer\n+  belongs_to :staff_member\n+  belongs_to :root, class_name: 'Message', foreign_key: 'root_id'\n+  belongs_to :parent, class_name: 'Message', foreign_key: 'parent_id'\n end\ndiff --git a/app/models/staff_message.rb b/app/models/staff_message.rb\nnew file mode 100644\nindex 0000000..660acae\n--- /dev/null\n+++ b/app/models/staff_message.rb\n@@ -0,0 +1,2 @@\n+class StaffMessage &lt; Message\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170318/#_107","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170318/#20e7f75","title":"\u30b3\u30df\u30c3\u30c8: 20e7f75","text":""},{"location":"journal/20170318/#_108","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08 #23\n</code></pre>"},{"location":"journal/20170318/#_109","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/models/message.rb</li> <li>A db/migrate/20170318002915_create_messages.rb</li> <li>M db/schema.rb</li> <li>A spec/factories/messages.rb</li> <li>A spec/models/message_spec.rb</li> </ul>"},{"location":"journal/20170318/#_110","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 20e7f75022295c157099c37ab20ab249569d5da7\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 18 10:37:56 2017 +0900\n\n    \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08 #23\n\ndiff --git a/README.md b/README.md\nindex 3e956b6..c9d5647 100644\n--- a/README.md\n+++ b/README.md\n@@ -730,6 +730,9 @@ git push heroku master\n\n ### Ajax\n #### \u9867\u5ba2\u5411\u3051\u554f\u3044\u5408\u308f\u305b\u30d5\u30a9\u30fc\u30e0\n++ \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08\n++ \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\n+\n #### \u554f\u3044\u5408\u308f\u305b\u5230\u7740\u306e\u901a\u77e5\n\n ### \u30c4\u30ea\u30fc\u69cb\u9020\ndiff --git a/app/models/message.rb b/app/models/message.rb\nnew file mode 100644\nindex 0000000..ae8222b\n--- /dev/null\n+++ b/app/models/message.rb\n@@ -0,0 +1,34 @@\n+# == Schema Information\n+#\n+# Table name: messages # \u554f\u3044\u5408\u308f\u305b\n+#\n+#  id              :integer          not null, primary key\n+#  customer_id     :integer          not null\n+#  staff_member_id :integer\n+#  root_id         :integer                                   # Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  parent_id       :integer                                   # Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  type            :string(255)      not null                 # \u7d99\u627f\u30ab\u30e9\u30e0\n+#  status          :string(255)      default(\"new\"), not null # \u72b6\u614b\uff08\u8077\u54e1\u5411\u3051\uff09\n+#  subject         :string(255)      not null                 # \u4ef6\u540d\n+#  body            :text(65535)                               # \u672c\u6587\n+#  remarks         :text(65535)                               # \u5099\u8003\uff08\u8077\u54e1\u5411\u3051\uff09\n+#  discarded       :boolean          default(\"0\"), not null   # \u9867\u5ba2\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\n+#  deleted         :boolean          default(\"0\"), not null   # \u8077\u54e1\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\n+#  created_at      :datetime         not null\n+#  updated_at      :datetime         not null\n+#\n+# Indexes\n+#\n+#  fk_rails_aafcb31dbf                                         (parent_id)\n+#  index_messages_on_c_d_s_c                                   (customer_id,deleted,status,created_at)\n+#  index_messages_on_customer_id                               (customer_id)\n+#  index_messages_on_customer_id_and_deleted_and_created_at    (customer_id,deleted,created_at)\n+#  index_messages_on_customer_id_and_discarded_and_created_at  (customer_id,discarded,created_at)\n+#  index_messages_on_root_id_and_deleted_and_created_at        (root_id,deleted,created_at)\n+#  index_messages_on_staff_member_id                           (staff_member_id)\n+#  index_messages_on_type_and_customer_id                      (type,customer_id)\n+#  index_messages_on_type_and_staff_member_id                  (type,staff_member_id)\n+#\n+\n+class Message &lt; ApplicationRecord\n+end\ndiff --git a/db/migrate/20170318002915_create_messages.rb b/db/migrate/20170318002915_create_messages.rb\nnew file mode 100644\nindex 0000000..8bd233d\n--- /dev/null\n+++ b/db/migrate/20170318002915_create_messages.rb\n@@ -0,0 +1,30 @@\n+class CreateMessages &lt; ActiveRecord::Migration[5.0]\n+  def change\n+    create_table :messages,comment: '\u554f\u3044\u5408\u308f\u305b' do |t|\n+      t.references :customer, null: false\n+      t.references :staff_member\n+      t.integer :root_id, comment: 'Message\u3078\u306e\u5916\u90e8\u30ad\u30fc'\n+      t.integer :parent_id, comment: 'Message\u3078\u306e\u5916\u90e8\u30ad\u30fc'\n+      t.string :type, null: false, comment: '\u7d99\u627f\u30ab\u30e9\u30e0'\n+      t.string :status, null: false, default: 'new', comment: '\u72b6\u614b\uff08\u8077\u54e1\u5411\u3051\uff09'\n+      t.string :subject, null: false, comment: '\u4ef6\u540d'\n+      t.text :body, comment: '\u672c\u6587'\n+      t.text :remarks, comment: '\u5099\u8003\uff08\u8077\u54e1\u5411\u3051\uff09'\n+      t.boolean :discarded, null: false, default: false, comment: '\u9867\u5ba2\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0'\n+      t.boolean :deleted, null: false, default: false, comment: '\u8077\u54e1\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0'\n+\n+      t.timestamps\n+    end\n+    add_index :messages, [ :type, :customer_id ]\n+    add_index :messages, [ :customer_id, :discarded, :created_at ]\n+    add_index :messages, [ :type, :staff_member_id ]\n+    add_index :messages, [ :customer_id, :deleted, :created_at ]\n+    add_index :messages, [ :customer_id, :deleted, :status, :created_at ], name: 'index_messages_on_c_d_s_c'\n+    add_index :messages, [ :root_id, :deleted, :created_at ]\n+\n+    add_foreign_key :messages, :customers\n+    add_foreign_key :messages, :staff_members\n+    add_foreign_key :messages, :messages, column: 'root_id'\n+    add_foreign_key :messages, :messages, column: 'parent_id'\n+  end\n+end\ndiff --git a/db/schema.rb b/db/schema.rb\nindex ea83be8..35e4f1c 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -10,7 +10,7 @@\n #\n # It's strongly recommended that you check this file into your version control system.\n\n-ActiveRecord::Schema.define(version: 20170214071032) do\n+ActiveRecord::Schema.define(version: 20170318002915) do\n\n   create_table \"addresses\", force: :cascade, comment: \"\u4f4f\u6240\" do |t|\n     t.integer  \"customer_id\",                null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n@@ -96,6 +96,31 @@ ActiveRecord::Schema.define(version: 20170214071032) do\n     t.index [\"program_id\"], name: \"index_entries_on_program_id\", using: :btree\n   end\n\n+  create_table \"messages\", force: :cascade, comment: \"\u554f\u3044\u5408\u308f\u305b\" do |t|\n+    t.integer  \"customer_id\",                                   null: false\n+    t.integer  \"staff_member_id\"\n+    t.integer  \"root_id\",                                                    comment: \"Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.integer  \"parent_id\",                                                  comment: \"Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.string   \"type\",                                          null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n+    t.string   \"status\",                        default: \"new\", null: false, comment: \"\u72b6\u614b\uff08\u8077\u54e1\u5411\u3051\uff09\"\n+    t.string   \"subject\",                                       null: false, comment: \"\u4ef6\u540d\"\n+    t.text     \"body\",            limit: 65535,                              comment: \"\u672c\u6587\"\n+    t.text     \"remarks\",         limit: 65535,                              comment: \"\u5099\u8003\uff08\u8077\u54e1\u5411\u3051\uff09\"\n+    t.boolean  \"discarded\",                     default: false, null: false, comment: \"\u9867\u5ba2\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\"\n+    t.boolean  \"deleted\",                       default: false, null: false, comment: \"\u8077\u54e1\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\"\n+    t.datetime \"created_at\",                                    null: false\n+    t.datetime \"updated_at\",                                    null: false\n+    t.index [\"customer_id\", \"deleted\", \"created_at\"], name: \"index_messages_on_customer_id_and_deleted_and_created_at\", using: :btree\n+    t.index [\"customer_id\", \"deleted\", \"status\", \"created_at\"], name: \"index_messages_on_c_d_s_c\", using: :btree\n+    t.index [\"customer_id\", \"discarded\", \"created_at\"], name: \"index_messages_on_customer_id_and_discarded_and_created_at\", using: :btree\n+    t.index [\"customer_id\"], name: \"index_messages_on_customer_id\", using: :btree\n+    t.index [\"parent_id\"], name: \"fk_rails_aafcb31dbf\", using: :btree\n+    t.index [\"root_id\", \"deleted\", \"created_at\"], name: \"index_messages_on_root_id_and_deleted_and_created_at\", using: :btree\n+    t.index [\"staff_member_id\"], name: \"index_messages_on_staff_member_id\", using: :btree\n+    t.index [\"type\", \"customer_id\"], name: \"index_messages_on_type_and_customer_id\", using: :btree\n+    t.index [\"type\", \"staff_member_id\"], name: \"index_messages_on_type_and_staff_member_id\", using: :btree\n+  end\n+\n   create_table \"phones\", force: :cascade, comment: \"\u96fb\u8a71\" do |t|\n     t.integer  \"customer_id\",                      null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.integer  \"address_id\",                                    comment: \"\u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n@@ -154,6 +179,10 @@ ActiveRecord::Schema.define(version: 20170214071032) do\n   add_foreign_key \"addresses\", \"customers\"\n   add_foreign_key \"entries\", \"customers\"\n   add_foreign_key \"entries\", \"programs\"\n+  add_foreign_key \"messages\", \"customers\"\n+  add_foreign_key \"messages\", \"messages\", column: \"parent_id\"\n+  add_foreign_key \"messages\", \"messages\", column: \"root_id\"\n+  add_foreign_key \"messages\", \"staff_members\"\n   add_foreign_key \"phones\", \"addresses\"\n   add_foreign_key \"phones\", \"customers\"\n   add_foreign_key \"programs\", \"staff_members\", column: \"registrant_id\"\ndiff --git a/spec/factories/messages.rb b/spec/factories/messages.rb\nnew file mode 100644\nindex 0000000..d0bec84\n--- /dev/null\n+++ b/spec/factories/messages.rb\n@@ -0,0 +1,37 @@\n+# == Schema Information\n+#\n+# Table name: messages # \u554f\u3044\u5408\u308f\u305b\n+#\n+#  id              :integer          not null, primary key\n+#  customer_id     :integer          not null\n+#  staff_member_id :integer\n+#  root_id         :integer                                   # Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  parent_id       :integer                                   # Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  type            :string(255)      not null                 # \u7d99\u627f\u30ab\u30e9\u30e0\n+#  status          :string(255)      default(\"new\"), not null # \u72b6\u614b\uff08\u8077\u54e1\u5411\u3051\uff09\n+#  subject         :string(255)      not null                 # \u4ef6\u540d\n+#  body            :text(65535)                               # \u672c\u6587\n+#  remarks         :text(65535)                               # \u5099\u8003\uff08\u8077\u54e1\u5411\u3051\uff09\n+#  discarded       :boolean          default(\"0\"), not null   # \u9867\u5ba2\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\n+#  deleted         :boolean          default(\"0\"), not null   # \u8077\u54e1\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\n+#  created_at      :datetime         not null\n+#  updated_at      :datetime         not null\n+#\n+# Indexes\n+#\n+#  fk_rails_aafcb31dbf                                         (parent_id)\n+#  index_messages_on_c_d_s_c                                   (customer_id,deleted,status,created_at)\n+#  index_messages_on_customer_id                               (customer_id)\n+#  index_messages_on_customer_id_and_deleted_and_created_at    (customer_id,deleted,created_at)\n+#  index_messages_on_customer_id_and_discarded_and_created_at  (customer_id,discarded,created_at)\n+#  index_messages_on_root_id_and_deleted_and_created_at        (root_id,deleted,created_at)\n+#  index_messages_on_staff_member_id                           (staff_member_id)\n+#  index_messages_on_type_and_customer_id                      (type,customer_id)\n+#  index_messages_on_type_and_staff_member_id                  (type,staff_member_id)\n+#\n+\n+FactoryGirl.define do\n+  factory :message do\n+    \n+  end\n+end\ndiff --git a/spec/models/message_spec.rb b/spec/models/message_spec.rb\nnew file mode 100644\nindex 0000000..271a842\n--- /dev/null\n+++ b/spec/models/message_spec.rb\n@@ -0,0 +1,37 @@\n+# == Schema Information\n+#\n+# Table name: messages # \u554f\u3044\u5408\u308f\u305b\n+#\n+#  id              :integer          not null, primary key\n+#  customer_id     :integer          not null\n+#  staff_member_id :integer\n+#  root_id         :integer                                   # Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  parent_id       :integer                                   # Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\n+#  type            :string(255)      not null                 # \u7d99\u627f\u30ab\u30e9\u30e0\n+#  status          :string(255)      default(\"new\"), not null # \u72b6\u614b\uff08\u8077\u54e1\u5411\u3051\uff09\n+#  subject         :string(255)      not null                 # \u4ef6\u540d\n+#  body            :text(65535)                               # \u672c\u6587\n+#  remarks         :text(65535)                               # \u5099\u8003\uff08\u8077\u54e1\u5411\u3051\uff09\n+#  discarded       :boolean          default(\"0\"), not null   # \u9867\u5ba2\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\n+#  deleted         :boolean          default(\"0\"), not null   # \u8077\u54e1\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\n+#  created_at      :datetime         not null\n+#  updated_at      :datetime         not null\n+#\n+# Indexes\n+#\n+#  fk_rails_aafcb31dbf                                         (parent_id)\n+#  index_messages_on_c_d_s_c                                   (customer_id,deleted,status,created_at)\n+#  index_messages_on_customer_id                               (customer_id)\n+#  index_messages_on_customer_id_and_deleted_and_created_at    (customer_id,deleted,created_at)\n+#  index_messages_on_customer_id_and_discarded_and_created_at  (customer_id,discarded,created_at)\n+#  index_messages_on_root_id_and_deleted_and_created_at        (root_id,deleted,created_at)\n+#  index_messages_on_staff_member_id                           (staff_member_id)\n+#  index_messages_on_type_and_customer_id                      (type,customer_id)\n+#  index_messages_on_type_and_staff_member_id                  (type,staff_member_id)\n+#\n+\n+require 'rails_helper'\n+\n+RSpec.describe Message, type: :model do\n+  pending \"add some examples to (or delete) #{__FILE__}\"\n+end\n</code></pre>"},{"location":"journal/20170318/#_111","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170325/","title":"\u4f5c\u696d\u5c65\u6b74 2017-03-25","text":""},{"location":"journal/20170325/#_1","title":"\u6982\u8981","text":"<p>2017-03-25\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30bf\u30b0\u4ed8\u3051\u6a5f\u80fd\u306b\u95a2\u9023\u3059\u308b\u6539\u5584\u3068\u62e1\u5f35\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u5177\u4f53\u7684\u306b\u306f\u3001\u30bf\u30b0\u306b\u3088\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u7d5e\u308a\u8fbc\u307f\u6a5f\u80fd\u306e\u5b9f\u88c5\u3001JavaScript\u306e\u6539\u5584\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u7167\u5408\u9806\u5e8f\u306e\u5909\u66f4\u306a\u3069\u3092\u5b9f\u65bd\u3057\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u7ba1\u7406\u6a5f\u80fd\u306e\u4f7f\u3044\u3084\u3059\u3055\u3068\u4fdd\u5b88\u6027\u3092\u5411\u4e0a\u3055\u305b\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170325/#3a25da2-staffmessages-21","title":"\u30b3\u30df\u30c3\u30c8: 3a25da2 - staff/messages\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9 #21","text":""},{"location":"journal/20170325/#_2","title":"\u6982\u8981","text":"<p>\u30e1\u30c3\u30bb\u30fc\u30b8\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30b3\u30fc\u30c9\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3057\u3001\u30bf\u30b0\u306b\u3088\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u7d5e\u308a\u8fbc\u307f\u6a5f\u80fd\u3092\u5168\u3066\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\uff08\u901a\u5e38\u3001\u53d7\u4fe1\u3001\u9001\u4fe1\u3001\u524a\u9664\u6e08\u307f\uff09\u306b\u9069\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u306f\u3069\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\u753b\u9762\u3067\u3082\u30bf\u30b0\u3092\u4f7f\u3063\u3066\u52b9\u7387\u7684\u306b\u60c5\u5831\u3092\u7d5e\u308a\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"journal/20170325/#_3","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li>\u91cd\u8907\u3057\u3066\u3044\u305f\u30bf\u30b0\u306b\u3088\u308b\u7d5e\u308a\u8fbc\u307f\u30ed\u30b8\u30c3\u30af\u3092<code>narrow_down</code>\u3068\u3044\u3046\u5171\u901a\u306e\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306b\u62bd\u51fa</li> <li>\u5404\u30a2\u30af\u30b7\u30e7\u30f3\uff08index, inbound, outbound, deleted\uff09\u3067<code>narrow_down</code>\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u3088\u3046\u306b\u4fee\u6b63</li> <li>\u5168\u3066\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3067\u660e\u793a\u7684\u306b<code>render action: 'index'</code>\u3092\u6307\u5b9a\u3057\u3001\u4e00\u8cab\u6027\u3092\u78ba\u4fdd</li> <li>\u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\u306e\u9069\u7528\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u7d71\u4e00\uff08\u7d5e\u308a\u8fbc\u307f\u5f8c\u306b\u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\uff09</li> </ul>"},{"location":"journal/20170325/#_4","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/staff/messages_controller.rb</li> </ul>"},{"location":"journal/20170325/#_5","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 3a25da28aee8e59eb7edd383f742b3e4e36fa0b0\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 25 18:20:05 2017 +0900\n\n    staff/messages\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9 #21\n\ndiff --git a/README.md b/README.md\nindex 5d11bd6..d9c1c78 100644\n--- a/README.md\n+++ b/README.md\n@@ -782,6 +782,7 @@ git push heroku master\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n + index\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u5909\u66f4\n + \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e\n++ staff/messages\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\n\n #### \u4e00\u610f\u5236\u7d04\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\n #### \u6f14\u7fd2\u554f\u984c  \ndiff --git a/app/controllers/staff/messages_controller.rb b/app/controllers/staff/messages_controller.rb\nindex 8c8bddf..00b5e99 100644\n--- a/app/controllers/staff/messages_controller.rb\n+++ b/app/controllers/staff/messages_controller.rb\n@@ -3,27 +3,32 @@ class Staff::MessagesController &lt; Staff::Base\n\n   def index\n     @messages = Message.where(deleted: false).page(params[:page])\n-    if params[:tag_id]\n-      @messages = @messages.joins(:message_tag_links).where('message_tag_links.tag_id' =&gt; params[:tag_id])\n-    end\n+    narrow_down\n     @messages = @messages.page(params[:page])\n+    render action: 'index'\n   end\n\n   # GET\n   def inbound\n     @messages = CustomerMessage.where(deleted: false).page(params[:page])\n+    narrow_down\n+    @messages = @messages.page(params[:page])\n     render action: 'index'\n   end\n\n   # GET\n   def outbound\n     @messages = StaffMessage.where(deleted: false).page(params[:page])\n+    narrow_down\n+    @messages = @messages.page(params[:page])\n     render action: 'index'\n   end\n\n   # GET\n   def deleted\n     @messages = Message.where(deleted: true).page(params[:page])\n+    narrow_down\n+    @messages = @messages.page(params[:page])\n     render action: 'index'\n   end\n\n@@ -55,4 +60,11 @@ class Staff::MessagesController &lt; Staff::Base\n     end\n     render text: 'OK'\n   end\n+\n+  private\n+  def narrow_down\n+    if params[:tag_id]\n+      @messages = @messages.joins(:message_tag_links).where('message_tag_links.tag_id' =&gt; params[:tag_id])\n+    end\n+  end\n end\n</code></pre>"},{"location":"journal/20170325/#_6","title":"\u30e1\u30c3\u30bb\u30fc\u30b8\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u69cb\u9020","text":""},{"location":"journal/20170325/#40d84d3","title":"\u30b3\u30df\u30c3\u30c8: 40d84d3","text":""},{"location":"journal/20170325/#_7","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30ea\u30f3\u30af\u306e\u8a2d\u7f6e #21\n</code></pre>"},{"location":"journal/20170325/#_8","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/views/staff/messages/_links.html.erb</li> <li>M app/views/staff/messages/index.html.erb</li> <li>M app/views/staff/messages/show.html.erb</li> <li>M config/locales/views/ja.yml</li> </ul>"},{"location":"journal/20170325/#_9","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 40d84d3d6982ec0faed3bb128cf2011078fffc2e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 25 18:15:10 2017 +0900\n\n    \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e #21\n\ndiff --git a/README.md b/README.md\nindex 289b68b..5d11bd6 100644\n--- a/README.md\n+++ b/README.md\n@@ -781,6 +781,7 @@ git push heroku master\n #### \u30bf\u30b0\u306b\u3088\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u7d5e\u8fbc\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n + index\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u5909\u66f4\n++ \u30ea\u30f3\u30af\u306e\u8a2d\u7f6e\n\n #### \u4e00\u610f\u5236\u7d04\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\n #### \u6f14\u7fd2\u554f\u984c  \ndiff --git a/app/views/staff/messages/_links.html.erb b/app/views/staff/messages/_links.html.erb\nnew file mode 100644\nindex 0000000..cbd6e03\n--- /dev/null\n+++ b/app/views/staff/messages/_links.html.erb\n@@ -0,0 +1,9 @@\n+&lt;div class=\"links\"&gt;\n+  &lt;%= link_to t('staff.messages.links.inboud_staff_messages'), :inbound_staff_messages, class:'btn btn-default btn-xs' %&gt;\n+  &lt;%= link_to t('staff.messages.links.outbound_staff_messages'), :outbound_staff_messages, class:'btn btn-default btn-xs' %&gt;\n+  &lt;%= link_to t('staff.messages.links.staff_messages'), :staff_messages, class:'btn btn-default btn-xs' %&gt;\n+  &lt;%= link_to t('staff.messages.links.deleted_staff_messages'), :deleted_staff_messages, class:'btn btn-default btn-xs' %&gt;\n+  &lt;% if @message.kind_of?(CustomerMessage) %&gt;\n+    &lt;%= link_to t('staff.messages.links.replay'), new_staff_message_reply_path(@message), class:'btn btn-default btn-xs' %&gt;\n+  &lt;% end %&gt;\n+&lt;/div&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/messages/index.html.erb b/app/views/staff/messages/index.html.erb\nindex 7a46542..29fcdac 100644\n--- a/app/views/staff/messages/index.html.erb\n+++ b/app/views/staff/messages/index.html.erb\n@@ -11,6 +11,7 @@\n &lt;/section&gt;\n\n &lt;section class=\"Section l-column Table\"&gt;\n+  &lt;%= render 'links'%&gt;\n   &lt;%= paginate @messages %&gt;\n\n   &lt;table class=\"Table__body Table__body--listing StaffTable__body\"&gt;\ndiff --git a/app/views/staff/messages/show.html.erb b/app/views/staff/messages/show.html.erb\nindex 3cbc59b..a2d7653 100644\n--- a/app/views/staff/messages/show.html.erb\n+++ b/app/views/staff/messages/show.html.erb\n@@ -4,6 +4,7 @@\n &lt;/section&gt;\n\n &lt;section class=\"Section l-column Table StaffTable\"&gt;\n+  &lt;%= render 'links' %&gt;\n   &lt;table class=\"Table__body Table__body--attributes StaffTable__body\"&gt;\n     &lt;% if @message.kind_of?(CustomerMessage) %&gt;\n         &lt;div class=\"Table__links\"&gt;\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex f2a92dd..efba53a 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -179,6 +179,12 @@ ja:\n         subject: '\u4ef6\u540d'\n         created_at: '\u4f5c\u6210\u65e5\u6642'\n         reply: '\u8fd4\u4fe1\u3059\u308b'\n+      links:\n+        inboud_staff_messages: '\u554f\u3044\u5408\u308f\u305b\u4e00\u89a7'\n+        outbound_staff_messages: '\u8fd4\u4fe1\u4e00\u89a7'\n+        staff_messages: '\u5168\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7'\n+        deleted_staff_messages: '\u30b4\u30df\u7bb1'\n+        replay: '\u8fd4\u4fe1\u3059\u308b'\n     replies:\n       new:\n         title: '\u554f\u3044\u5408\u308f\u305b\u3078\u306e\u8fd4\u4fe1'\n</code></pre>"},{"location":"journal/20170325/#70c3a8c","title":"\u30b3\u30df\u30c3\u30c8: 70c3a8c","text":""},{"location":"journal/20170325/#_10","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>index\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u5909\u66f4 #21\n</code></pre>"},{"location":"journal/20170325/#_11","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/assets/stylesheets/components/_tags.scss</li> <li>M app/assets/stylesheets/main.scss</li> <li>M app/controllers/staff/messages_controller.rb</li> <li>A app/views/staff/messages/_tags.html.erb</li> <li>M app/views/staff/messages/index.html.erb</li> </ul>"},{"location":"journal/20170325/#_12","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 70c3a8c5815e273fbd2c16ad773c732c62e819ef\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 25 18:02:02 2017 +0900\n\n    index\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u5909\u66f4 #21\n\ndiff --git a/README.md b/README.md\nindex abf077e..289b68b 100644\n--- a/README.md\n+++ b/README.md\n@@ -780,6 +780,7 @@ git push heroku master\n\n #### \u30bf\u30b0\u306b\u3088\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u7d5e\u8fbc\n + \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n++ index\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u5909\u66f4\n\n #### \u4e00\u610f\u5236\u7d04\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\n #### \u6f14\u7fd2\u554f\u984c  \ndiff --git a/app/assets/stylesheets/components/_tags.scss b/app/assets/stylesheets/components/_tags.scss\nnew file mode 100644\nindex 0000000..49f0f7b\n--- /dev/null\n+++ b/app/assets/stylesheets/components/_tags.scss\n@@ -0,0 +1,8 @@\n+.Tags {\n+  margin: $wide 0;\n+  padding: $wide;\n+  background-color: $very_light_gray;\n+  &amp;__current_tag {\n+    font-weight: bold;\n+  }\n+}\n\\ No newline at end of file\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex 6a01807..1296dc4 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -83,6 +83,9 @@\n @import \"./components/staffTable\";\n @import \"./components/customerTable\";\n\n+// \u30bf\u30b0\n+@import \"./components/tags\";\n+\n //font-awesome\n @import \"font-awesome\";\n\ndiff --git a/app/controllers/staff/messages_controller.rb b/app/controllers/staff/messages_controller.rb\nindex 7e3768d..8c8bddf 100644\n--- a/app/controllers/staff/messages_controller.rb\n+++ b/app/controllers/staff/messages_controller.rb\n@@ -3,6 +3,10 @@ class Staff::MessagesController &lt; Staff::Base\n\n   def index\n     @messages = Message.where(deleted: false).page(params[:page])\n+    if params[:tag_id]\n+      @messages = @messages.joins(:message_tag_links).where('message_tag_links.tag_id' =&gt; params[:tag_id])\n+    end\n+    @messages = @messages.page(params[:page])\n   end\n\n   # GET\ndiff --git a/app/views/staff/messages/_tags.html.erb b/app/views/staff/messages/_tags.html.erb\nnew file mode 100644\nindex 0000000..14fda43\n--- /dev/null\n+++ b/app/views/staff/messages/_tags.html.erb\n@@ -0,0 +1,10 @@\n+&lt;div class=\"Tags\"&gt;\n+  \u30bf\u30b0:\n+  &lt;% Tag.all.each do |tag| %&gt;\n+      &lt;% if tag.id == params[:tag_id].to_i %&gt;\n+          &lt;span class=\"Tags__current_tag\"&gt;&lt;%= tag.value %&gt;&lt;/span&gt;\n+      &lt;% else %&gt;\n+          &lt;%= link_to tag.value, [ :staff, tag, :messages ] %&gt;\n+      &lt;% end %&gt;\n+  &lt;% end %&gt;\n+&lt;/div&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/messages/index.html.erb b/app/views/staff/messages/index.html.erb\nindex ceb696e..7a46542 100644\n--- a/app/views/staff/messages/index.html.erb\n+++ b/app/views/staff/messages/index.html.erb\n@@ -39,4 +39,6 @@\n   &lt;/table&gt;\n\n   &lt;%= paginate @messages %&gt;\n+\n+  &lt;%= render 'tags' %&gt;\n &lt;/section&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20170325/#_13","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170325/#9079487","title":"\u30b3\u30df\u30c3\u30c8: 9079487","text":""},{"location":"journal/20170325/#_14","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #21\n</code></pre>"},{"location":"journal/20170325/#_15","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170325/#_16","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 90794874b0c923e9af6c514d0902548e9b65af1a\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 25 17:48:19 2017 +0900\n\n    \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0 #21\n\ndiff --git a/README.md b/README.md\nindex 0ab32e8..abf077e 100644\n--- a/README.md\n+++ b/README.md\n@@ -778,6 +778,9 @@ git push heroku master\n + JavaScript\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u6539\u5584\n + \u7167\u5408\u9806\u5e8f\u306e\u5909\u66f4\n\n+#### \u30bf\u30b0\u306b\u3088\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u7d5e\u8fbc\n++ \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n+\n #### \u4e00\u610f\u5236\u7d04\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\n #### \u6f14\u7fd2\u554f\u984c  \n\ndiff --git a/config/routes.rb b/config/routes.rb\nindex e6360a5..3b44fdd 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -43,6 +43,10 @@\n #                  staff_messages GET    /staff/messages(.:format)                            staff/messages#index {:host=&gt;\"0.0.0.0\"}\n #                   staff_message GET    /staff/messages/:id(.:format)                        staff/messages#show {:host=&gt;\"0.0.0.0\"}\n #                                 DELETE /staff/messages/:id(.:format)                        staff/messages#destroy {:host=&gt;\"0.0.0.0\"}\n+#      inbound_staff_tag_messages GET    /staff/tags/:tag_id/messages/inbound(.:format)       staff/messages#inbound {:host=&gt;\"0.0.0.0\"}\n+#     outbound_staff_tag_messages GET    /staff/tags/:tag_id/messages/outbound(.:format)      staff/messages#outbound {:host=&gt;\"0.0.0.0\"}\n+#      deleted_staff_tag_messages GET    /staff/tags/:tag_id/messages/deleted(.:format)       staff/messages#deleted {:host=&gt;\"0.0.0.0\"}\n+#              staff_tag_messages GET    /staff/tags/:tag_id/messages(.:format)               staff/messages#index {:host=&gt;\"0.0.0.0\"}\n #                      admin_root GET    /admin(.:format)                                     admin/top#index {:host=&gt;\"0.0.0.0\"}\n #                     admin_login GET    /admin/login(.:format)                               admin/sessions#new {:host=&gt;\"0.0.0.0\"}\n #                   admin_session DELETE /admin/session(.:format)                             admin/sessions#destroy {:host=&gt;\"0.0.0.0\"}\n@@ -111,6 +115,11 @@ Rails.application.routes.draw do\n           post :confirm\n         end\n       end\n+      resources :tags, only: [] do\n+        resources :messages, only: [ :index ] do\n+          get :inbound, :outbound, :deleted, on: :collection\n+        end\n+      end\n     end\n   end\n</code></pre>"},{"location":"journal/20170325/#1dc1b6a","title":"\u30b3\u30df\u30c3\u30c8: 1dc1b6a","text":""},{"location":"journal/20170325/#_17","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b9\u30ad\u30fc\u30de\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u4e0d\u5177\u5408\u4fee\u6b63 #21\n</code></pre>"},{"location":"journal/20170325/#_18","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M db/schema.rb</li> </ul>"},{"location":"journal/20170325/#_19","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 1dc1b6a114bdbb66a162c2911f3be8814810f7bc\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 25 17:41:17 2017 +0900\n\n    \u30b9\u30ad\u30fc\u30de\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u4e0d\u5177\u5408\u4fee\u6b63 #21\n\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 9788eac..0154c4b 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -12,7 +12,7 @@\n\n ActiveRecord::Schema.define(version: 20170325081203) do\n\n-  create_table \"addresses\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u4f4f\u6240\" do |t|\n+  create_table \"addresses\", force: :cascade, comment: \"\u4f4f\u6240\" do |t|\n     t.integer  \"customer_id\",                null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",                       null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n     t.string   \"postal_code\",                null: false, comment: \"\u90f5\u4fbf\u756a\u53f7\"\n@@ -33,7 +33,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"type\", \"prefecture\", \"city\"], name: \"index_addresses_on_type_and_prefecture_and_city\", using: :btree\n   end\n\n-  create_table \"administrators\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u7ba1\u7406\u8005\" do |t|\n+  create_table \"administrators\", force: :cascade, comment: \"\u7ba1\u7406\u8005\" do |t|\n     t.string   \"email\",                           null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"hashed_password\",                              comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n@@ -43,7 +43,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true, using: :btree\n   end\n\n-  create_table \"allowed_sources\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\" do |t|\n+  create_table \"allowed_sources\", force: :cascade, comment: \"IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\" do |t|\n     t.string   \"namespace\",                  null: false, comment: \"\u540d\u524d\u7a7a\u9593\"\n     t.integer  \"octet1\",                     null: false, comment: \"\u7b2c\uff11\u30aa\u30af\u30c6\u30c3\u30c8\"\n     t.integer  \"octet2\",                     null: false, comment: \"\u7b2c\uff12\u30aa\u30af\u30c6\u30c3\u30c8\"\n@@ -55,7 +55,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"namespace\", \"octet1\", \"octet2\", \"octet3\", \"octet4\"], name: \"index_allowed_sources_on_namespace_and_octets\", unique: true, using: :btree\n   end\n\n-  create_table \"customers\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u9867\u5ba2\" do |t|\n+  create_table \"customers\", force: :cascade, comment: \"\u9867\u5ba2\" do |t|\n     t.string   \"email\",            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",  null: false, comment: \"\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",      null: false, comment: \"\u59d3\"\n@@ -84,7 +84,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\", using: :btree\n   end\n\n-  create_table \"entries\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u7533\u3057\u8fbc\u307f\" do |t|\n+  create_table \"entries\", force: :cascade, comment: \"\u7533\u3057\u8fbc\u307f\" do |t|\n     t.integer  \"program_id\",                  null: false\n     t.integer  \"customer_id\",                 null: false\n     t.boolean  \"approved\",    default: false, null: false, comment: \"\u627f\u8a8d\u6e08\u307f\u30d5\u30e9\u30b0\"\n@@ -96,7 +96,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"program_id\"], name: \"index_entries_on_program_id\", using: :btree\n   end\n\n-  create_table \"message_tag_links\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb\" do |t|\n+  create_table \"message_tag_links\", force: :cascade, comment: \"\u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb\" do |t|\n     t.integer \"message_id\", null: false\n     t.integer \"tag_id\",     null: false\n     t.index [\"message_id\", \"tag_id\"], name: \"index_message_tag_links_on_message_id_and_tag_id\", unique: true, using: :btree\n@@ -104,7 +104,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"tag_id\"], name: \"index_message_tag_links_on_tag_id\", using: :btree\n   end\n\n-  create_table \"messages\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u554f\u3044\u5408\u308f\u305b\" do |t|\n+  create_table \"messages\", force: :cascade, comment: \"\u554f\u3044\u5408\u308f\u305b\" do |t|\n     t.integer  \"customer_id\",                                   null: false\n     t.integer  \"staff_member_id\"\n     t.integer  \"root_id\",                                                    comment: \"Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n@@ -129,7 +129,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"type\", \"staff_member_id\"], name: \"index_messages_on_type_and_staff_member_id\", using: :btree\n   end\n\n-  create_table \"phones\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u96fb\u8a71\" do |t|\n+  create_table \"phones\", force: :cascade, comment: \"\u96fb\u8a71\" do |t|\n     t.integer  \"customer_id\",                      null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.integer  \"address_id\",                                    comment: \"\u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"number\",                           null: false, comment: \"\u96fb\u8a71\u756a\u53f7\"\n@@ -144,7 +144,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\", using: :btree\n   end\n\n-  create_table \"programs\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u30d7\u30ed\u30b0\u30e9\u30e0\" do |t|\n+  create_table \"programs\", force: :cascade, comment: \"\u30d7\u30ed\u30b0\u30e9\u30e0\" do |t|\n     t.integer  \"registrant_id\",                            null: false, comment: \"\u767b\u9332\u8077\u54e1\uff08\u5916\u90e8\u30ad\u30fc\uff09\"\n     t.string   \"title\",                                    null: false, comment: \"\u30bf\u30a4\u30c8\u30eb\"\n     t.text     \"description\",                limit: 65535,              comment: \"\u8aac\u660e\"\n@@ -158,7 +158,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"registrant_id\"], name: \"index_programs_on_registrant_id\", using: :btree\n   end\n\n-  create_table \"staff_events\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n+  create_table \"staff_events\", force: :cascade, comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n     t.integer  \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",            null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n     t.datetime \"created_at\",      null: false, comment: \"\u767a\u751f\u6642\u523b\"\n@@ -167,7 +167,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\", using: :btree\n   end\n\n-  create_table \"staff_members\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\" do |t|\n+  create_table \"staff_members\", force: :cascade, comment: \"\u8077\u54e1\" do |t|\n     t.string   \"email\",                            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                  null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",                      null: false, comment: \"\u59d3\"\n@@ -184,7 +184,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\", using: :btree\n   end\n\n-  create_table \"tags\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u30bf\u30b0\" do |t|\n+  create_table \"tags\", force: :cascade, comment: \"\u30bf\u30b0\" do |t|\n     t.string   \"value\",      null: false\n     t.datetime \"created_at\", null: false\n     t.datetime \"updated_at\", null: false\n</code></pre>"},{"location":"journal/20170325/#80dd166","title":"\u30b3\u30df\u30c3\u30c8: 80dd166","text":""},{"location":"journal/20170325/#_20","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30bf\u30b0\u306e\u8ffd\u52a0\u30fb\u524a\u9664\u306e\u4e0d\u5177\u5408\u4fee\u6b63 #21\n</code></pre>"},{"location":"journal/20170325/#_21","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/models/message.rb</li> <li>M db/schema.rb</li> </ul>"},{"location":"journal/20170325/#_22","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 80dd166b08845b6576064a92d66278e9c809efe8\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 25 17:38:04 2017 +0900\n\n    \u30bf\u30b0\u306e\u8ffd\u52a0\u30fb\u524a\u9664\u306e\u4e0d\u5177\u5408\u4fee\u6b63 #21\n\ndiff --git a/app/models/message.rb b/app/models/message.rb\nindex 19e47e1..723f9f9 100644\n--- a/app/models/message.rb\n+++ b/app/models/message.rb\n@@ -69,7 +69,7 @@ class Message &lt; ApplicationRecord\n\n   def add_tag(label)\n     self.class.transaction do\n-      tag = Tag.find_by_created_at(value: label)\n+      tag = Tag.find_by(value: label)\n       tag ||= Tag.create!(value: label)\n       unless message_tag_links.where(tag_id: tag.id).exists?\n         message_tag_links.create!(tag_id: tag.id)\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 2ea53dd..9788eac 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -10,9 +10,9 @@\n #\n # It's strongly recommended that you check this file into your version control system.\n\n-ActiveRecord::Schema.define(version: 20170318093830) do\n+ActiveRecord::Schema.define(version: 20170325081203) do\n\n-  create_table \"addresses\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u4f4f\u6240\" do |t|\n+  create_table \"addresses\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u4f4f\u6240\" do |t|\n     t.integer  \"customer_id\",                null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",                       null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n     t.string   \"postal_code\",                null: false, comment: \"\u90f5\u4fbf\u756a\u53f7\"\n@@ -33,7 +33,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"type\", \"prefecture\", \"city\"], name: \"index_addresses_on_type_and_prefecture_and_city\", using: :btree\n   end\n\n-  create_table \"administrators\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u7ba1\u7406\u8005\" do |t|\n+  create_table \"administrators\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u7ba1\u7406\u8005\" do |t|\n     t.string   \"email\",                           null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"hashed_password\",                              comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n@@ -43,7 +43,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true, using: :btree\n   end\n\n-  create_table \"allowed_sources\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\" do |t|\n+  create_table \"allowed_sources\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\" do |t|\n     t.string   \"namespace\",                  null: false, comment: \"\u540d\u524d\u7a7a\u9593\"\n     t.integer  \"octet1\",                     null: false, comment: \"\u7b2c\uff11\u30aa\u30af\u30c6\u30c3\u30c8\"\n     t.integer  \"octet2\",                     null: false, comment: \"\u7b2c\uff12\u30aa\u30af\u30c6\u30c3\u30c8\"\n@@ -55,7 +55,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"namespace\", \"octet1\", \"octet2\", \"octet3\", \"octet4\"], name: \"index_allowed_sources_on_namespace_and_octets\", unique: true, using: :btree\n   end\n\n-  create_table \"customers\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u9867\u5ba2\" do |t|\n+  create_table \"customers\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u9867\u5ba2\" do |t|\n     t.string   \"email\",            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",  null: false, comment: \"\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",      null: false, comment: \"\u59d3\"\n@@ -84,7 +84,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\", using: :btree\n   end\n\n-  create_table \"entries\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u7533\u3057\u8fbc\u307f\" do |t|\n+  create_table \"entries\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u7533\u3057\u8fbc\u307f\" do |t|\n     t.integer  \"program_id\",                  null: false\n     t.integer  \"customer_id\",                 null: false\n     t.boolean  \"approved\",    default: false, null: false, comment: \"\u627f\u8a8d\u6e08\u307f\u30d5\u30e9\u30b0\"\n@@ -96,7 +96,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"program_id\"], name: \"index_entries_on_program_id\", using: :btree\n   end\n\n-  create_table \"message_tag_links\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb\" do |t|\n+  create_table \"message_tag_links\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb\" do |t|\n     t.integer \"message_id\", null: false\n     t.integer \"tag_id\",     null: false\n     t.index [\"message_id\", \"tag_id\"], name: \"index_message_tag_links_on_message_id_and_tag_id\", unique: true, using: :btree\n@@ -104,7 +104,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"tag_id\"], name: \"index_message_tag_links_on_tag_id\", using: :btree\n   end\n\n-  create_table \"messages\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u554f\u3044\u5408\u308f\u305b\" do |t|\n+  create_table \"messages\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u554f\u3044\u5408\u308f\u305b\" do |t|\n     t.integer  \"customer_id\",                                   null: false\n     t.integer  \"staff_member_id\"\n     t.integer  \"root_id\",                                                    comment: \"Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n@@ -129,7 +129,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"type\", \"staff_member_id\"], name: \"index_messages_on_type_and_staff_member_id\", using: :btree\n   end\n\n-  create_table \"phones\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u96fb\u8a71\" do |t|\n+  create_table \"phones\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u96fb\u8a71\" do |t|\n     t.integer  \"customer_id\",                      null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.integer  \"address_id\",                                    comment: \"\u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"number\",                           null: false, comment: \"\u96fb\u8a71\u756a\u53f7\"\n@@ -144,7 +144,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\", using: :btree\n   end\n\n-  create_table \"programs\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u30d7\u30ed\u30b0\u30e9\u30e0\" do |t|\n+  create_table \"programs\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u30d7\u30ed\u30b0\u30e9\u30e0\" do |t|\n     t.integer  \"registrant_id\",                            null: false, comment: \"\u767b\u9332\u8077\u54e1\uff08\u5916\u90e8\u30ad\u30fc\uff09\"\n     t.string   \"title\",                                    null: false, comment: \"\u30bf\u30a4\u30c8\u30eb\"\n     t.text     \"description\",                limit: 65535,              comment: \"\u8aac\u660e\"\n@@ -158,7 +158,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"registrant_id\"], name: \"index_programs_on_registrant_id\", using: :btree\n   end\n\n-  create_table \"staff_events\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n+  create_table \"staff_events\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n     t.integer  \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",            null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n     t.datetime \"created_at\",      null: false, comment: \"\u767a\u751f\u6642\u523b\"\n@@ -167,7 +167,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\", using: :btree\n   end\n\n-  create_table \"staff_members\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u8077\u54e1\" do |t|\n+  create_table \"staff_members\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\" do |t|\n     t.string   \"email\",                            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                  null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",                      null: false, comment: \"\u59d3\"\n@@ -184,7 +184,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\", using: :btree\n   end\n\n-  create_table \"tags\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u30bf\u30b0\" do |t|\n+  create_table \"tags\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u30bf\u30b0\" do |t|\n     t.string   \"value\",      null: false\n     t.datetime \"created_at\", null: false\n     t.datetime \"updated_at\", null: false\n</code></pre>"},{"location":"journal/20170325/#_23","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170325/#e0ff568","title":"\u30b3\u30df\u30c3\u30c8: e0ff568","text":""},{"location":"journal/20170325/#_24","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u7167\u5408\u9806\u5e8f\u306e\u5909\u66f4 #21\n</code></pre>"},{"location":"journal/20170325/#_25","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M config/database.yml</li> <li>A db/migrate/20170325081203_change_collations.rb</li> <li>M db/schema.rb</li> </ul>"},{"location":"journal/20170325/#_26","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit e0ff56864f2f782ab7972a0aba81c5718f5c6b73\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 25 17:21:29 2017 +0900\n\n    \u7167\u5408\u9806\u5e8f\u306e\u5909\u66f4 #21\n\ndiff --git a/README.md b/README.md\nindex 00b29d6..0ab32e8 100644\n--- a/README.md\n+++ b/README.md\n@@ -776,6 +776,7 @@ git push heroku master\n + \u30bf\u30b0\u306e\u8ffd\u52a0\u30fb\u524a\u9664\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\n + \u30bf\u30b0\u306e\u8ffd\u52a0\u30fb\u524a\u9664\n + JavaScript\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u6539\u5584\n++ \u7167\u5408\u9806\u5e8f\u306e\u5909\u66f4\n\n #### \u4e00\u610f\u5236\u7d04\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\n #### \u6f14\u7fd2\u554f\u984c  \ndiff --git a/config/database.yml b/config/database.yml\nindex aaf01f7..544640b 100644\n--- a/config/database.yml\n+++ b/config/database.yml\n@@ -12,6 +12,7 @@\n default: &amp;default\n   adapter: mysql2\n   encoding: utf8\n+  collation: utf8_general_ci\n   pool: 5\n   username: root\n   password: password\ndiff --git a/db/migrate/20170325081203_change_collations.rb b/db/migrate/20170325081203_change_collations.rb\nnew file mode 100644\nindex 0000000..55cf7d1\n--- /dev/null\n+++ b/db/migrate/20170325081203_change_collations.rb\n@@ -0,0 +1,21 @@\n+class ChangeCollations &lt; ActiveRecord::Migration[5.0]\n+  def up\n+    if ActiveRecord::Base.connection.adapter_name == \"Mysql2\"\n+      ActiveRecord::Base.connection.tables.each do |table|\n+        execute(%Q{\n+                    ALTER TABLE #{table} CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci\n+                })\n+      end\n+    end\n+  end\n+\n+  def down\n+    if ActiveRecord::Base.connection.adapter_name == \"Mysql2\"\n+      ActiveRecord::Base.connection.tables.each do |table|\n+        execute(%Q{\n+                    ALTER TABLE #{table} CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci\n+                })\n+      end\n+    end\n+  end\n+end\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 1086b9a..2ea53dd 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -12,7 +12,7 @@\n\n ActiveRecord::Schema.define(version: 20170318093830) do\n\n-  create_table \"addresses\", force: :cascade, comment: \"\u4f4f\u6240\" do |t|\n+  create_table \"addresses\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u4f4f\u6240\" do |t|\n     t.integer  \"customer_id\",                null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",                       null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n     t.string   \"postal_code\",                null: false, comment: \"\u90f5\u4fbf\u756a\u53f7\"\n@@ -33,7 +33,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"type\", \"prefecture\", \"city\"], name: \"index_addresses_on_type_and_prefecture_and_city\", using: :btree\n   end\n\n-  create_table \"administrators\", force: :cascade, comment: \"\u7ba1\u7406\u8005\" do |t|\n+  create_table \"administrators\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u7ba1\u7406\u8005\" do |t|\n     t.string   \"email\",                           null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"hashed_password\",                              comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n@@ -43,7 +43,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true, using: :btree\n   end\n\n-  create_table \"allowed_sources\", force: :cascade, comment: \"IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\" do |t|\n+  create_table \"allowed_sources\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\" do |t|\n     t.string   \"namespace\",                  null: false, comment: \"\u540d\u524d\u7a7a\u9593\"\n     t.integer  \"octet1\",                     null: false, comment: \"\u7b2c\uff11\u30aa\u30af\u30c6\u30c3\u30c8\"\n     t.integer  \"octet2\",                     null: false, comment: \"\u7b2c\uff12\u30aa\u30af\u30c6\u30c3\u30c8\"\n@@ -55,7 +55,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"namespace\", \"octet1\", \"octet2\", \"octet3\", \"octet4\"], name: \"index_allowed_sources_on_namespace_and_octets\", unique: true, using: :btree\n   end\n\n-  create_table \"customers\", force: :cascade, comment: \"\u9867\u5ba2\" do |t|\n+  create_table \"customers\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u9867\u5ba2\" do |t|\n     t.string   \"email\",            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",  null: false, comment: \"\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",      null: false, comment: \"\u59d3\"\n@@ -84,7 +84,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\", using: :btree\n   end\n\n-  create_table \"entries\", force: :cascade, comment: \"\u7533\u3057\u8fbc\u307f\" do |t|\n+  create_table \"entries\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u7533\u3057\u8fbc\u307f\" do |t|\n     t.integer  \"program_id\",                  null: false\n     t.integer  \"customer_id\",                 null: false\n     t.boolean  \"approved\",    default: false, null: false, comment: \"\u627f\u8a8d\u6e08\u307f\u30d5\u30e9\u30b0\"\n@@ -96,7 +96,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"program_id\"], name: \"index_entries_on_program_id\", using: :btree\n   end\n\n-  create_table \"message_tag_links\", force: :cascade, comment: \"\u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb\" do |t|\n+  create_table \"message_tag_links\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb\" do |t|\n     t.integer \"message_id\", null: false\n     t.integer \"tag_id\",     null: false\n     t.index [\"message_id\", \"tag_id\"], name: \"index_message_tag_links_on_message_id_and_tag_id\", unique: true, using: :btree\n@@ -104,7 +104,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"tag_id\"], name: \"index_message_tag_links_on_tag_id\", using: :btree\n   end\n\n-  create_table \"messages\", force: :cascade, comment: \"\u554f\u3044\u5408\u308f\u305b\" do |t|\n+  create_table \"messages\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u554f\u3044\u5408\u308f\u305b\" do |t|\n     t.integer  \"customer_id\",                                   null: false\n     t.integer  \"staff_member_id\"\n     t.integer  \"root_id\",                                                    comment: \"Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n@@ -129,7 +129,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"type\", \"staff_member_id\"], name: \"index_messages_on_type_and_staff_member_id\", using: :btree\n   end\n\n-  create_table \"phones\", force: :cascade, comment: \"\u96fb\u8a71\" do |t|\n+  create_table \"phones\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u96fb\u8a71\" do |t|\n     t.integer  \"customer_id\",                      null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.integer  \"address_id\",                                    comment: \"\u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"number\",                           null: false, comment: \"\u96fb\u8a71\u756a\u53f7\"\n@@ -144,7 +144,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\", using: :btree\n   end\n\n-  create_table \"programs\", force: :cascade, comment: \"\u30d7\u30ed\u30b0\u30e9\u30e0\" do |t|\n+  create_table \"programs\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u30d7\u30ed\u30b0\u30e9\u30e0\" do |t|\n     t.integer  \"registrant_id\",                            null: false, comment: \"\u767b\u9332\u8077\u54e1\uff08\u5916\u90e8\u30ad\u30fc\uff09\"\n     t.string   \"title\",                                    null: false, comment: \"\u30bf\u30a4\u30c8\u30eb\"\n     t.text     \"description\",                limit: 65535,              comment: \"\u8aac\u660e\"\n@@ -158,7 +158,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"registrant_id\"], name: \"index_programs_on_registrant_id\", using: :btree\n   end\n\n-  create_table \"staff_events\", force: :cascade, comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n+  create_table \"staff_events\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n     t.integer  \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",            null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n     t.datetime \"created_at\",      null: false, comment: \"\u767a\u751f\u6642\u523b\"\n@@ -167,7 +167,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\", using: :btree\n   end\n\n-  create_table \"staff_members\", force: :cascade, comment: \"\u8077\u54e1\" do |t|\n+  create_table \"staff_members\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u8077\u54e1\" do |t|\n     t.string   \"email\",                            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                  null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",                      null: false, comment: \"\u59d3\"\n@@ -184,7 +184,7 @@ ActiveRecord::Schema.define(version: 20170318093830) do\n     t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\", using: :btree\n   end\n\n-  create_table \"tags\", force: :cascade, comment: \"\u30bf\u30b0\" do |t|\n+  create_table \"tags\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\", comment: \"\u30bf\u30b0\" do |t|\n     t.string   \"value\",      null: false\n     t.datetime \"created_at\", null: false\n     t.datetime \"updated_at\", null: false\n</code></pre>"},{"location":"journal/20170325/#4b6e490","title":"\u30b3\u30df\u30c3\u30c8: 4b6e490","text":""},{"location":"journal/20170325/#_27","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>JavaScript\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u6539\u5584 #21\n</code></pre>"},{"location":"journal/20170325/#_28","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/javascripts/staff/messages.coffee</li> <li>M app/assets/javascripts/staff/paths.coffee.erb</li> <li>M app/assets/javascripts/staff/tag-it.coffee</li> </ul>"},{"location":"journal/20170325/#_29","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 4b6e490065326cd194890c645250e5e4bf527015\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 25 17:06:28 2017 +0900\n\n    JavaScript\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u6539\u5584 #21\n\ndiff --git a/README.md b/README.md\nindex fce025b..00b29d6 100644\n--- a/README.md\n+++ b/README.md\n@@ -775,6 +775,7 @@ git push heroku master\n + Tag-it\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n + \u30bf\u30b0\u306e\u8ffd\u52a0\u30fb\u524a\u9664\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\n + \u30bf\u30b0\u306e\u8ffd\u52a0\u30fb\u524a\u9664\n++ JavaScript\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u6539\u5584\n\n #### \u4e00\u610f\u5236\u7d04\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\n #### \u6f14\u7fd2\u554f\u984c  \ndiff --git a/app/assets/javascripts/staff/messages.coffee b/app/assets/javascripts/staff/messages.coffee\nindex c6f7f19..85dbe8f 100644\n--- a/app/assets/javascripts/staff/messages.coffee\n+++ b/app/assets/javascripts/staff/messages.coffee\n@@ -8,5 +8,5 @@ class Message\n       window.setInterval(update_number_of_unprocessed_messages, 100 * 60)\n\n   update_number_of_unprocessed_messages = -&gt;\n-    $.get window.paths.number_of_unprocessed_messages, (data) -&gt;\n+    $.get window.path_for(\"count_staff_messages\"), (data) -&gt;\n       $('#number-of-unprocessed-messages').text \"(#{data})\"\n\\ No newline at end of file\ndiff --git a/app/assets/javascripts/staff/paths.coffee.erb b/app/assets/javascripts/staff/paths.coffee.erb\nindex 39cbdb5..e3965cc 100644\n--- a/app/assets/javascripts/staff/paths.coffee.erb\n+++ b/app/assets/javascripts/staff/paths.coffee.erb\n@@ -1,3 +1,12 @@\n-window.paths = new Object\n-window.paths.number_of_unprocessed_messages = \"&lt;%= count_staff_messages_path %&gt;\"\n-window.paths.staff_root = \"&lt;%= staff_root_path.sub(%r{/\\z}, '') %&gt;\"\n\\ No newline at end of file\n+window.named_paths = []\n+&lt;% %w(count_staff_messages tag_staff_message).each do |name| %&gt;\n+&lt;% route = Rails.application.routes.named_routes[name] %&gt;\n+&lt;%= \"window.named_paths['#{name}'] = '#{route.path.spec.to_s}'\\n\" %&gt;\n+&lt;% end %&gt;\n+\n+window.path_for = (name, ids = {}) -&gt;\n+  path = window.named_paths[name]\n+  path = path.replace(/\\(\\.:format\\)$/, '')\n+  for key, id of ids\n+    path = path.replace(new RegExp(\":#{key}\\\\b\"), id)\n+  path\n\\ No newline at end of file\ndiff --git a/app/assets/javascripts/staff/tag-it.coffee b/app/assets/javascripts/staff/tag-it.coffee\nindex 3024be0..29279d2 100644\n--- a/app/assets/javascripts/staff/tag-it.coffee\n+++ b/app/assets/javascripts/staff/tag-it.coffee\n@@ -8,11 +8,11 @@ class TagIt\n       afterTagAdded: (e, ui) -&gt;\n         unless ui.duringInitialization\n           message_id = $(\"#tag-it\").data('message-id')\n-          path = \"#{window.paths.staff_root}/messages/#{message_id}/tag\"\n+          path = window.path_for(\"tag_staff_message\", { id: message_id })\n           $.post(path, {label: ui.tagLabel})\n       afterTagRemoved: (e, ui) -&gt;\n         unless ui.duringInitialization\n           message_id = $(\"#tag-it\").data('message-id')\n-          path = \"#{window.paths.staff_root}/messages/#{message_id}/tag\"\n+          path = window.path_for(\"tag_staff_message\", { id: message_id})\n           $.ajax(type: 'DELETE', url: path, data: { label: ui.tagLabel})\n     )\n</code></pre>"},{"location":"journal/20170325/#5d9ae1a","title":"\u30b3\u30df\u30c3\u30c8: 5d9ae1a","text":""},{"location":"journal/20170325/#_30","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30bf\u30b0\u306e\u8ffd\u52a0\u30fb\u524a\u9664 #21\n</code></pre>"},{"location":"journal/20170325/#_31","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/assets/javascripts/staff/paths.coffee.erb</li> <li>M app/assets/javascripts/staff/tag-it.coffee</li> <li>M app/controllers/staff/messages_controller.rb</li> <li>M app/models/message.rb</li> <li>M app/views/staff/messages/show.html.erb</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170325/#_32","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 5d9ae1a10822d97729d643cc8c620f9dc140a0f0\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 25 16:12:30 2017 +0900\n\n    \u30bf\u30b0\u306e\u8ffd\u52a0\u30fb\u524a\u9664 #21\n\ndiff --git a/README.md b/README.md\nindex 138dd5f..fce025b 100644\n--- a/README.md\n+++ b/README.md\n@@ -774,6 +774,7 @@ git push heroku master\n + \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\n + Tag-it\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n + \u30bf\u30b0\u306e\u8ffd\u52a0\u30fb\u524a\u9664\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\n++ \u30bf\u30b0\u306e\u8ffd\u52a0\u30fb\u524a\u9664\n\n #### \u4e00\u610f\u5236\u7d04\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\n #### \u6f14\u7fd2\u554f\u984c  \ndiff --git a/app/assets/javascripts/staff/paths.coffee.erb b/app/assets/javascripts/staff/paths.coffee.erb\nindex b1a8104..39cbdb5 100644\n--- a/app/assets/javascripts/staff/paths.coffee.erb\n+++ b/app/assets/javascripts/staff/paths.coffee.erb\n@@ -1,2 +1,3 @@\n window.paths = new Object\n-window.paths.number_of_unprocessed_messages = \"&lt;%= count_staff_messages_path %&gt;\"\n\\ No newline at end of file\n+window.paths.number_of_unprocessed_messages = \"&lt;%= count_staff_messages_path %&gt;\"\n+window.paths.staff_root = \"&lt;%= staff_root_path.sub(%r{/\\z}, '') %&gt;\"\n\\ No newline at end of file\ndiff --git a/app/assets/javascripts/staff/tag-it.coffee b/app/assets/javascripts/staff/tag-it.coffee\nindex 2df1d97..3024be0 100644\n--- a/app/assets/javascripts/staff/tag-it.coffee\n+++ b/app/assets/javascripts/staff/tag-it.coffee\n@@ -4,4 +4,15 @@ $(document).on \"turbolinks:load\", -&gt;\n\n class TagIt\n   constructor: -&gt;\n-    $(\"#tag-it\").tagit()\n+    $(\"#tag-it\").tagit(\n+      afterTagAdded: (e, ui) -&gt;\n+        unless ui.duringInitialization\n+          message_id = $(\"#tag-it\").data('message-id')\n+          path = \"#{window.paths.staff_root}/messages/#{message_id}/tag\"\n+          $.post(path, {label: ui.tagLabel})\n+      afterTagRemoved: (e, ui) -&gt;\n+        unless ui.duringInitialization\n+          message_id = $(\"#tag-it\").data('message-id')\n+          path = \"#{window.paths.staff_root}/messages/#{message_id}/tag\"\n+          $.ajax(type: 'DELETE', url: path, data: { label: ui.tagLabel})\n+    )\ndiff --git a/app/controllers/staff/messages_controller.rb b/app/controllers/staff/messages_controller.rb\nindex 641ebf1..7e3768d 100644\n--- a/app/controllers/staff/messages_controller.rb\n+++ b/app/controllers/staff/messages_controller.rb\n@@ -38,4 +38,17 @@ class Staff::MessagesController &lt; Staff::Base\n     flash.notice = t('.flash_notice')\n     redirect_to :back\n   end\n+\n+  # POST/DELETE\n+  def tag\n+    message = CustomerMessage.find(params[:id])\n+    if request.post?\n+      message.add_tag(params[:label])\n+    elsif request.delete?\n+      message.remove_tag(params[:label])\n+    else\n+      raise\n+    end\n+    render text: 'OK'\n+  end\n end\ndiff --git a/app/models/message.rb b/app/models/message.rb\nindex ecc8a44..19e47e1 100644\n--- a/app/models/message.rb\n+++ b/app/models/message.rb\n@@ -66,4 +66,25 @@ class Message &lt; ApplicationRecord\n     messages = Message.where(root_id: r.id).select(:id, :parent_id, :subject)\n     @tree = SimpleTree.new(r,messages)\n   end\n+\n+  def add_tag(label)\n+    self.class.transaction do\n+      tag = Tag.find_by_created_at(value: label)\n+      tag ||= Tag.create!(value: label)\n+      unless message_tag_links.where(tag_id: tag.id).exists?\n+        message_tag_links.create!(tag_id: tag.id)\n+      end\n+    end\n+  end\n+\n+  def remove_tag(label)\n+    self.class.transaction do\n+      if tag = Tag.find_by(value: label)\n+        message_tag_links.find_by(tag_id: tag.id).destroy\n+        if tag.message_tag_links.empty?\n+          tag.destroy\n+        end\n+      end\n+    end\n+  end\n end\ndiff --git a/app/views/staff/messages/show.html.erb b/app/views/staff/messages/show.html.erb\nindex 82cd9da..3cbc59b 100644\n--- a/app/views/staff/messages/show.html.erb\n+++ b/app/views/staff/messages/show.html.erb\n@@ -19,7 +19,7 @@\n     &lt;tr class=\"Table__tr\"&gt;\n       &lt;th  class=\"Table__th\"&gt;\u30bf\u30b0&lt;/th&gt;\n       &lt;td&gt;\n-        &lt;%= markup(:ul, id: 'tag-it') do |m|\n+        &lt;%= markup(:ul, id: 'tag-it', 'data-message-id' =&gt; @message.id) do |m|\n           @message.tags.each do |tag|\n             m.li tag.value\n           end\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 089b548..e6360a5 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -35,6 +35,8 @@\n #         outbound_staff_messages GET    /staff/messages/outbound(.:format)                   staff/messages#outbound {:host=&gt;\"0.0.0.0\"}\n #          deleted_staff_messages GET    /staff/messages/deleted(.:format)                    staff/messages#deleted {:host=&gt;\"0.0.0.0\"}\n #            count_staff_messages GET    /staff/messages/count(.:format)                      staff/messages#count {:host=&gt;\"0.0.0.0\"}\n+#               tag_staff_message POST   /staff/messages/:id/tag(.:format)                    staff/messages#tag {:host=&gt;\"0.0.0.0\"}\n+#                                 DELETE /staff/messages/:id/tag(.:format)                    staff/messages#tag {:host=&gt;\"0.0.0.0\"}\n #     confirm_staff_message_reply POST   /staff/messages/:message_id/reply/confirm(.:format)  staff/replies#confirm {:host=&gt;\"0.0.0.0\"}\n #         new_staff_message_reply GET    /staff/messages/:message_id/reply/new(.:format)      staff/replies#new {:host=&gt;\"0.0.0.0\"}\n #             staff_message_reply POST   /staff/messages/:message_id/reply(.:format)          staff/replies#create {:host=&gt;\"0.0.0.0\"}\n@@ -103,6 +105,8 @@ Rails.application.routes.draw do\n       end\n       resources :messages, only: [ :index, :show, :destroy ] do\n         get :inbound, :outbound, :deleted, :count, on: :collection\n+        post :tag, on: :member\n+        delete :tag, on: :member\n         resource :reply, only: [ :new, :create ] do\n           post :confirm\n         end\n</code></pre>"},{"location":"journal/20170325/#_33","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170325/#59ac04f","title":"\u30b3\u30df\u30c3\u30c8: 59ac04f","text":""},{"location":"journal/20170325/#_34","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30bf\u30b0\u306e\u8ffd\u52a0\u30fb\u524a\u9664\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 #21\n</code></pre>"},{"location":"journal/20170325/#_35","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/views/staff/messages/show.html.erb</li> </ul>"},{"location":"journal/20170325/#_36","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 59ac04f28c872d0bc237048d6a31e6e27815f631\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 25 15:40:22 2017 +0900\n\n    \u30bf\u30b0\u306e\u8ffd\u52a0\u30fb\u524a\u9664\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 #21\n\ndiff --git a/README.md b/README.md\nindex eb6ea81..138dd5f 100644\n--- a/README.md\n+++ b/README.md\n@@ -773,6 +773,7 @@ git push heroku master\n + \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08\n + \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\n + Tag-it\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n++ \u30bf\u30b0\u306e\u8ffd\u52a0\u30fb\u524a\u9664\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\n\n #### \u4e00\u610f\u5236\u7d04\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\n #### \u6f14\u7fd2\u554f\u984c  \ndiff --git a/app/views/staff/messages/show.html.erb b/app/views/staff/messages/show.html.erb\nindex bfc7d1a..82cd9da 100644\n--- a/app/views/staff/messages/show.html.erb\n+++ b/app/views/staff/messages/show.html.erb\n@@ -16,6 +16,16 @@\n     &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.receiver') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.receiver %&gt;&lt;/td&gt;&lt;/tr&gt;\n     &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.subject') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.subject %&gt;&lt;/td&gt;&lt;/tr&gt;\n     &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.created_at') %&gt;&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p.created_at %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;\n+      &lt;th  class=\"Table__th\"&gt;\u30bf\u30b0&lt;/th&gt;\n+      &lt;td&gt;\n+        &lt;%= markup(:ul, id: 'tag-it') do |m|\n+          @message.tags.each do |tag|\n+            m.li tag.value\n+          end\n+        end %&gt;\n+      &lt;/td&gt;\n+    &lt;/tr&gt;\n   &lt;/table&gt;\n\n   &lt;div class=\"tree\"&gt;&lt;%= p.tree %&gt;&lt;/div&gt;\n</code></pre>"},{"location":"journal/20170325/#7899110","title":"\u30b3\u30df\u30c3\u30c8: 7899110","text":""},{"location":"journal/20170325/#_37","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Tag-it\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb #21\n</code></pre>"},{"location":"journal/20170325/#_38","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M baukis-kai.iml</li> </ul>"},{"location":"journal/20170325/#_39","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 78991103ebaa0b8012bff6dd956ff73dfdd92a13\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 25 15:29:28 2017 +0900\n\n    Tag-it\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb #21\n\ndiff --git a/baukis-kai.iml b/baukis-kai.iml\nindex 7961602..fe5c0f2 100644\n--- a/baukis-kai.iml\n+++ b/baukis-kai.iml\n@@ -142,6 +142,7 @@\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets (v3.7.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets-rails (v3.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sqlite3 (v1.3.12, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n+    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tag-it-rails (v2.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thor (v0.19.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thread_safe (v0.3.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n     &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tilt (v2.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n</code></pre>"},{"location":"journal/20170325/#9822a10","title":"\u30b3\u30df\u30c3\u30c8: 9822a10","text":""},{"location":"journal/20170325/#_40","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Tag-it\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb #21\n</code></pre>"},{"location":"journal/20170325/#_41","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>M README.md</li> <li>M app/assets/javascripts/staff.js</li> <li>A app/assets/javascripts/staff/tag-it.coffee</li> <li>M app/assets/stylesheets/main.scss</li> </ul>"},{"location":"journal/20170325/#_42","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 9822a102b0c59ff3862fda2335cbfa6e7bb49e18\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Mar 25 15:29:15 2017 +0900\n\n    Tag-it\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb #21\n\ndiff --git a/Gemfile b/Gemfile\nindex 4da1b83..7d8acb2 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -94,4 +94,5 @@ gem 'email_validator', '~&gt; 1.6'\n gem 'jquery-ui-rails', '~&gt; 5.0', '&gt;= 5.0.5'\n gem 'momentjs-rails'\n gem 'bootstrap3-datetimepicker-rails'\n+gem 'tag-it-rails'\n\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex 2610cc3..ac11a7f 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -286,6 +286,9 @@ GEM\n       activesupport (&gt;= 4.0)\n       sprockets (&gt;= 3.0.0)\n     sqlite3 (1.3.12)\n+    tag-it-rails (2.0.0)\n+      jquery-ui-rails\n+      railties\n     thor (0.19.4)\n     thread_safe (0.3.5)\n     tilt (2.0.5)\n@@ -361,6 +364,7 @@ DEPENDENCIES\n   spring-commands-rspec\n   spring-watcher-listen (~&gt; 2.0.0)\n   sqlite3\n+  tag-it-rails\n   turbolinks (~&gt; 5)\n   tzinfo-data\n   uglifier (&gt;= 1.3.0)\ndiff --git a/README.md b/README.md\nindex 480e469..eb6ea81 100644\n--- a/README.md\n+++ b/README.md\n@@ -772,6 +772,7 @@ git push heroku master\n #### \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30bf\u30b0\u4ed8\u3051\n + \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08\n + \u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051\n++ Tag-it\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n #### \u4e00\u610f\u5236\u7d04\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\n #### \u6f14\u7fd2\u554f\u984c  \ndiff --git a/app/assets/javascripts/staff.js b/app/assets/javascripts/staff.js\nindex aa1bf0e..e746e87 100644\n--- a/app/assets/javascripts/staff.js\n+++ b/app/assets/javascripts/staff.js\n@@ -20,5 +20,7 @@\n //= require jquery-ui/datepicker-ja\n //= require moment\n //= require moment/ja\n+//= require jquery-ui\n+//= require tag-it\n //= require bootstrap-datetimepicker\n //= require_tree ./staff\ndiff --git a/app/assets/javascripts/staff/tag-it.coffee b/app/assets/javascripts/staff/tag-it.coffee\nnew file mode 100644\nindex 0000000..2df1d97\n--- /dev/null\n+++ b/app/assets/javascripts/staff/tag-it.coffee\n@@ -0,0 +1,7 @@\n+$(document).on \"turbolinks:load\", -&gt;\n+  do -&gt;\n+    new TagIt\n+\n+class TagIt\n+  constructor: -&gt;\n+    $(\"#tag-it\").tagit()\ndiff --git a/app/assets/stylesheets/main.scss b/app/assets/stylesheets/main.scss\nindex b0f45e1..6a01807 100644\n--- a/app/assets/stylesheets/main.scss\n+++ b/app/assets/stylesheets/main.scss\n@@ -93,6 +93,8 @@\n\n //jQuery\n @import \"jquery-ui/datepicker\";\n+@import \"jquery-ui\";\n+@import \"jquery.tagit\";\n // ===========================\n // Pages\n // ===========================\n</code></pre>"},{"location":"journal/20170327/","title":"\u4f5c\u696d\u5c65\u6b74 2017-03-27","text":""},{"location":"journal/20170327/#_1","title":"\u6982\u8981","text":"<p>2017-03-27\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u9867\u5ba2\u5411\u3051\u30e1\u30c3\u30bb\u30fc\u30b8\u7ba1\u7406\u6a5f\u80fd\u306e\u62e1\u5f35\u3068\u6539\u5584\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u5177\u4f53\u7684\u306b\u306f\u3001\u9867\u5ba2\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u524a\u9664\u3067\u304d\u308b\u6a5f\u80fd\u306e\u8ffd\u52a0\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u8a73\u7d30\u8868\u793a\u6a5f\u80fd\u306e\u5b9f\u88c5\u3001\u53d7\u4fe1\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\u8868\u793a\u6a5f\u80fd\u306e\u5b9f\u88c5\u306a\u3069\u3092\u884c\u3044\u3001\u9867\u5ba2\u3068\u30b9\u30bf\u30c3\u30d5\u9593\u306e\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3\u6a5f\u80fd\u3092\u5f37\u5316\u3057\u307e\u3057\u305f\u3002\u307e\u305f\u3001\u30bf\u30b0\u4ed8\u3051\u6a5f\u80fd\u306b\u304a\u3051\u308b\u6392\u4ed6\u5236\u5fa1\u306e\u554f\u984c\u3092\u89e3\u6c7a\u3059\u308b\u305f\u3081\u306e\u5c02\u7528\u30c6\u30fc\u30d6\u30eb\u3082\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170327/#026976f-","title":"\u30b3\u30df\u30c3\u30c8: 026976f - \u9867\u5ba2\u306b\u3088\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u524a\u9664\u6a5f\u80fd\u306e\u5b9f\u88c5","text":""},{"location":"journal/20170327/#_2","title":"\u6982\u8981","text":"<p>\u9867\u5ba2\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u524a\u9664\u3067\u304d\u308b\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u3053\u306e\u6a5f\u80fd\u306b\u3088\u308a\u3001\u9867\u5ba2\u306f\u53d7\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u524a\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u5b9f\u969b\u306b\u306f\u7269\u7406\u524a\u9664\u3067\u306f\u306a\u304f\u3001<code>discarded</code>\u30d5\u30e9\u30b0\u3092<code>true</code>\u306b\u8a2d\u5b9a\u3059\u308b\u8ad6\u7406\u524a\u9664\u3092\u63a1\u7528\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20170327/#_3","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li>\u9867\u5ba2\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\u753b\u9762\u306b\u524a\u9664\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0</li> <li><code>destroy</code>\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u88c5\u3057\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306e<code>discarded</code>\u30d5\u30e9\u30b0\u3092\u66f4\u65b0</li> <li>\u4e00\u89a7\u8868\u793a\u6642\u306b<code>discarded: false</code>\u306e\u6761\u4ef6\u3092\u8ffd\u52a0\u3057\u3066\u524a\u9664\u6e08\u307f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u975e\u8868\u793a\u306b</li> <li>\u524a\u9664\u78ba\u8a8d\u30c0\u30a4\u30a2\u30ed\u30b0\u3068\u6210\u529f\u6642\u306e\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8ffd\u52a0</li> </ul>"},{"location":"journal/20170327/#_4","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u554f3 #21\n</code></pre>"},{"location":"journal/20170327/#_5","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/customer/messages_controller.rb</li> <li>M app/views/customer/messages/index.html.erb</li> <li>M config/locales/controllers/ja.yml</li> <li>M config/locales/views/ja.yml</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170327/#_6","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170327/#_7","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 026976f2859694f60d7e26a25f2478fb6cd972dd\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Mar 27 18:58:56 2017 +0900\n\n    \u554f3 #21\n\ndiff --git a/README.md b/README.md\nindex 247365f..868fde6 100644\n--- a/README.md\n+++ b/README.md\n@@ -791,6 +791,7 @@ git push heroku master\n #### \u6f14\u7fd2\u554f\u984c  \n + \u554f\uff11\n + \u554f\uff12\n++ \u554f\uff13\n\n\n **[\u2b06 back to top](#\u69cb\u6210)**\ndiff --git a/app/controllers/customer/messages_controller.rb b/app/controllers/customer/messages_controller.rb\nindex f5e738a..2877f1e 100644\n--- a/app/controllers/customer/messages_controller.rb\n+++ b/app/controllers/customer/messages_controller.rb\n@@ -1,6 +1,6 @@\n class Customer::MessagesController &lt; Customer::Base\n   def index\n-    @messages = current_customer.inbound_messages.page(params[:page])\n+    @messages = current_customer.inbound_messages.where(discarded: false).page(params[:page])\n   end\n\n   def show\n@@ -38,6 +38,13 @@ class Customer::MessagesController &lt; Customer::Base\n     end\n   end\n\n+  def destroy\n+    message = StaffMessage.find(params[:id])\n+    message.update_column(:discarded, true)\n+    flash.notice = t('.flash_notice')\n+    redirect_to :back\n+  end\n+\n   private\n   def customer_message_params\n     params.require(:customer_message).permit(\ndiff --git a/app/views/customer/messages/index.html.erb b/app/views/customer/messages/index.html.erb\nindex 66ca706..e6b43c0 100644\n--- a/app/views/customer/messages/index.html.erb\n+++ b/app/views/customer/messages/index.html.erb\n@@ -20,6 +20,7 @@\n           &lt;td class=\"Table__td--date\"&gt;&lt;%= p.created_at %&gt;&lt;/td&gt;\n           &lt;td class=\"Table__td--action\"&gt;\n             &lt;%= link_to t('customer.messages.index.detail'), customer_message_path(m), class: 'btn btn-default btn-xs' %&gt;\n+            &lt;%= link_to t('customer.messages.index.delete'), customer_message_path(m), method: :delete, data: { confirm: t('.delete_confirm')},class: 'btn btn-default btn-xs' %&gt;\n           &lt;/td&gt;\n         &lt;/tr&gt;\n     &lt;% end %&gt;\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex a67b2aa..4a4b989 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -95,4 +95,6 @@ ja:\n       create:\n         flash_notice: '\u554f\u3044\u5408\u308f\u305b\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f\u3002'\n         flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n+      destroy:\n+        flash_notice: '\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'\n\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 761bdf3..7428b9e 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -348,6 +348,8 @@ ja:\n         created_at: '\u4f5c\u6210\u65e5\u6642'\n         action: '\u30a2\u30af\u30b7\u30e7\u30f3'\n         detail: '\u8a73\u7d30'\n+        delete: '\u524a\u9664'\n+        delete_confirm: '\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b?'\n       show:\n         title: '\u30e1\u30c3\u30bb\u30fc\u30b8\u8a73\u7d30'\n         sender: '\u9001\u4fe1\u8005'\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 3270c80..66b0ef3 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -85,6 +85,7 @@\n #                                 POST   /messages(.:format)                                  customer/messages#create {:host=&gt;\"0.0.0.0\"}\n #            new_customer_message GET    /messages/new(.:format)                              customer/messages#new {:host=&gt;\"0.0.0.0\"}\n #                customer_message GET    /messages/:id(.:format)                              customer/messages#show {:host=&gt;\"0.0.0.0\"}\n+#                                 DELETE /messages/:id(.:format)                              customer/messages#destroy {:host=&gt;\"0.0.0.0\"}\n #                            root GET    /                                                    errors#routing_error\n #                                 GET    /*anything(.:format)                                 errors#routing_error\n #\n@@ -155,7 +156,7 @@ Rails.application.routes.draw do\n           patch :cancel, on: :member\n         end\n       end\n-      resources :messages, only: [ :index, :show, :new, :create ] do\n+      resources :messages, except: [ :edit, :update ] do\n         post :confirm, on: :collection\n       end\n     end\n</code></pre>"},{"location":"journal/20170327/#_8","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170327/#1ab342f-","title":"\u30b3\u30df\u30c3\u30c8: 1ab342f - \u30e1\u30c3\u30bb\u30fc\u30b8\u8a73\u7d30\u8868\u793a\u6a5f\u80fd\u306e\u5b9f\u88c5","text":""},{"location":"journal/20170327/#_9","title":"\u6982\u8981","text":"<p>\u9867\u5ba2\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8a73\u7d30\u3092\u95b2\u89a7\u3067\u304d\u308b\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u9867\u5ba2\u306f\u53d7\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u5168\u6587\u3084\u8a73\u7d30\u60c5\u5831\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\u753b\u9762\u304b\u3089\u8a73\u7d30\u753b\u9762\u3078\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u3082\u6539\u5584\u3057\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170327/#_10","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li><code>show</code>\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u88c5\u3057\u3001\u9867\u5ba2\u306e\u53d7\u4fe1\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d6\u5f97\u3057\u3066\u8868\u793a</li> <li>\u30e1\u30c3\u30bb\u30fc\u30b8\u8a73\u7d30\u8868\u793a\u7528\u306e\u30d3\u30e5\u30fc\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u65b0\u898f\u4f5c\u6210</li> <li>\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\u753b\u9762\u306b\u8a73\u7d30\u30da\u30fc\u30b8\u3078\u306e\u30ea\u30f3\u30af\u3092\u8ffd\u52a0</li> <li>\u30b9\u30bf\u30a4\u30eb\u306e\u8abf\u6574\uff08Customer\u7528\u306e\u30b9\u30bf\u30a4\u30eb\u30af\u30e9\u30b9\u3092\u9069\u7528\uff09</li> <li>\u5171\u901a\u306eMessagePresenter\u3092\u4f7f\u7528\u3057\u3066\u30b3\u30fc\u30c9\u306e\u91cd\u8907\u3092\u524a\u6e1b</li> </ul>"},{"location":"journal/20170327/#_11","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u554f2 #21\n</code></pre>"},{"location":"journal/20170327/#_12","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/customer/messages_controller.rb</li> <li>M app/views/customer/messages/index.html.erb</li> <li>A app/views/customer/messages/show.html.erb</li> <li>M app/views/staff/replies/_message.erb</li> <li>M config/locales/views/ja.yml</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170327/#_13","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170327/#_14","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 1ab342f87ced4276136100728a1ef8982858e4c4\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Mar 27 18:40:22 2017 +0900\n\n    \u554f2 #21\n\ndiff --git a/README.md b/README.md\nindex a7d1c40..247365f 100644\n--- a/README.md\n+++ b/README.md\n@@ -790,6 +790,8 @@ git push heroku master\n\n #### \u6f14\u7fd2\u554f\u984c  \n + \u554f\uff11\n++ \u554f\uff12\n+\n\n **[\u2b06 back to top](#\u69cb\u6210)**\n\ndiff --git a/app/controllers/customer/messages_controller.rb b/app/controllers/customer/messages_controller.rb\nindex 5044849..f5e738a 100644\n--- a/app/controllers/customer/messages_controller.rb\n+++ b/app/controllers/customer/messages_controller.rb\n@@ -3,6 +3,10 @@ class Customer::MessagesController &lt; Customer::Base\n     @messages = current_customer.inbound_messages.page(params[:page])\n   end\n\n+  def show\n+    @message = current_customer.inbound_messages.find(params[:id])\n+  end\n+\n   def new\n     @message = CustomerMessage.new\n   end\ndiff --git a/app/views/customer/messages/index.html.erb b/app/views/customer/messages/index.html.erb\nindex 130fd34..66ca706 100644\n--- a/app/views/customer/messages/index.html.erb\n+++ b/app/views/customer/messages/index.html.erb\n@@ -1,15 +1,16 @@\n &lt;section class=\"Section\"&gt;\n-  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+  &lt;h1 class=\"Customer__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n &lt;/section&gt;\n\n &lt;section class=\"Section l-column Table\"&gt;\n   &lt;%= paginate @messages %&gt;\n\n-  &lt;table class=\"Table__body Table__body--listing StaffTable__body\"&gt;\n+  &lt;table class=\"Table__body Table__body--listing CustomerTable__body\"&gt;\n     &lt;tr class=\"Table__tr\"&gt;\n       &lt;th class=\"Table__th\"&gt;&lt;%= t('customer.messages.index.sender') %&gt;&lt;/th&gt;\n       &lt;th class=\"Table__th\"&gt;&lt;%= t('customer.messages.index.subject') %&gt;&lt;/th&gt;\n       &lt;th class=\"Table__th\"&gt;&lt;%= t('customer.messages.index.created_at') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('customer.messages.index.action') %&gt;&lt;/th&gt;\n     &lt;/tr&gt;\n     &lt;% @messages.each do |m| %&gt;\n         &lt;% p = MessagePresenter.new(m, self) %&gt;\n@@ -17,6 +18,9 @@\n           &lt;td class=\"Table__td\"&gt;&lt;%= p.sender %&gt;&lt;/td&gt;\n           &lt;td class=\"Table__td\"&gt;&lt;%= p.truncated_subject %&gt;&lt;/td&gt;\n           &lt;td class=\"Table__td--date\"&gt;&lt;%= p.created_at %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td--action\"&gt;\n+            &lt;%= link_to t('customer.messages.index.detail'), customer_message_path(m), class: 'btn btn-default btn-xs' %&gt;\n+          &lt;/td&gt;\n         &lt;/tr&gt;\n     &lt;% end %&gt;\n   &lt;/table&gt;\ndiff --git a/app/views/customer/messages/show.html.erb b/app/views/customer/messages/show.html.erb\nnew file mode 100644\nindex 0000000..1fc6004\n--- /dev/null\n+++ b/app/views/customer/messages/show.html.erb\n@@ -0,0 +1,14 @@\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Customer__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column Table CustomerTable\"&gt;\n+  &lt;table class=\"Table__body Table__body--attributes CustomerTable__body\"&gt;\n+    &lt;% p = MessagePresenter.new(@message, self) %&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.sender') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.sender %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.subject') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.subject %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.created_at') %&gt;&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p.created_at %&gt;&lt;/td&gt;&lt;/tr&gt;\n+  &lt;/table&gt;\n+\n+  &lt;div class=\"Table__body--description\"&gt;&lt;%= p.formatted_body %&gt;&lt;/div&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/replies/_message.erb b/app/views/staff/replies/_message.erb\nindex fbbb693..b6c7a5f 100644\n--- a/app/views/staff/replies/_message.erb\n+++ b/app/views/staff/replies/_message.erb\n@@ -1,7 +1,7 @@\n-&lt;% p = Staff::MessagePresenter.new(@message, self) %&gt;\n+&lt;% p = MessagePresenter.new(@message, self) %&gt;\n &lt;section class=\"Section l-column Table StaffTable\"&gt;\n   &lt;table class=\"Table__body Table__body--attributes StaffTable__body\"&gt;\n-    &lt;% p = Staff::MessagePresenter.new(@message, self) %&gt;\n+    &lt;% p = MessagePresenter.new(@message, self) %&gt;\n     &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('staff.replies.new.sender') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.sender %&gt;&lt;/td&gt;&lt;/tr&gt;\n     &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('staff.replies.new.subject') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.subject %&gt;&lt;/td&gt;&lt;/tr&gt;\n     &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('staff.replies.new.created_at') %&gt;&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p.created_at %&gt;&lt;/td&gt;&lt;/tr&gt;\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 4aafbaf..761bdf3 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -346,6 +346,13 @@ ja:\n         sender: '\u9001\u4fe1\u8005'\n         subject: '\u4ef6\u540d'\n         created_at: '\u4f5c\u6210\u65e5\u6642'\n+        action: '\u30a2\u30af\u30b7\u30e7\u30f3'\n+        detail: '\u8a73\u7d30'\n+      show:\n+        title: '\u30e1\u30c3\u30bb\u30fc\u30b8\u8a73\u7d30'\n+        sender: '\u9001\u4fe1\u8005'\n+        subject: '\u4ef6\u540d'\n+        created_at: '\u4f5c\u6210\u65e5\u6642'\n       new:\n         title: '\u65b0\u898f\u554f\u3044\u5408\u308f\u305b'\n         submit: '\u78ba\u8a8d\u753b\u9762\u3078\u9032\u3080'\ndiff --git a/config/routes.rb b/config/routes.rb\nindex a63affc..3270c80 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -84,6 +84,7 @@\n #               customer_messages GET    /messages(.:format)                                  customer/messages#index {:host=&gt;\"0.0.0.0\"}\n #                                 POST   /messages(.:format)                                  customer/messages#create {:host=&gt;\"0.0.0.0\"}\n #            new_customer_message GET    /messages/new(.:format)                              customer/messages#new {:host=&gt;\"0.0.0.0\"}\n+#                customer_message GET    /messages/:id(.:format)                              customer/messages#show {:host=&gt;\"0.0.0.0\"}\n #                            root GET    /                                                    errors#routing_error\n #                                 GET    /*anything(.:format)                                 errors#routing_error\n #\n@@ -154,7 +155,7 @@ Rails.application.routes.draw do\n           patch :cancel, on: :member\n         end\n       end\n-      resources :messages, only: [ :index, :new, :create ] do\n+      resources :messages, only: [ :index, :show, :new, :create ] do\n         post :confirm, on: :collection\n       end\n     end\n</code></pre>"},{"location":"journal/20170327/#_15","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170327/#346173e-","title":"\u30b3\u30df\u30c3\u30c8: 346173e - \u9867\u5ba2\u5411\u3051\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\u8868\u793a\u6a5f\u80fd\u306e\u5b9f\u88c5","text":""},{"location":"journal/20170327/#_16","title":"\u6982\u8981","text":"<p>\u9867\u5ba2\u304c\u53d7\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u9867\u5ba2\u306f\u30b9\u30bf\u30c3\u30d5\u304b\u3089\u9001\u3089\u308c\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u4e00\u89a7\u3067\u78ba\u8a8d\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u95a2\u9023\u306e\u30b3\u30fc\u30c9\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3057\u3001\u30b9\u30bf\u30c3\u30d5\u5411\u3051\u3068\u9867\u5ba2\u5411\u3051\u3067\u5171\u901a\u306e\u30d7\u30ec\u30bc\u30f3\u30bf\u30fc\u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u6539\u5584\u3057\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20170327/#_17","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li><code>index</code>\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u88c5\u3057\u3001\u9867\u5ba2\u306e\u53d7\u4fe1\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d6\u5f97\u3057\u3066\u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\u4ed8\u304d\u3067\u8868\u793a</li> <li>\u9867\u5ba2\u30e2\u30c7\u30eb\u306e<code>inbound_messages</code>\u95a2\u9023\u4ed8\u3051\u3092\u4fee\u6b63\uff08<code>StaffMember</code>\u304b\u3089<code>StaffMessage</code>\u306b\u5909\u66f4\uff09</li> <li>\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\u8868\u793a\u7528\u306e\u30d3\u30e5\u30fc\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u65b0\u898f\u4f5c\u6210</li> <li>\u9867\u5ba2\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\u3078\u306e\u30ea\u30f3\u30af\u3092\u8ffd\u52a0</li> <li>\u30b9\u30bf\u30c3\u30d5\u5c02\u7528\u306eMessagePresenter\u3092\u5171\u901a\u306eMessagePresenter\u306b\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0</li> <li>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u66f4\u65b0\u3057\u3001\u9867\u5ba2\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u8a2d\u5b9a</li> </ul>"},{"location":"journal/20170327/#_18","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u554f1 #21\n</code></pre>"},{"location":"journal/20170327/#_19","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>M app/controllers/customer/messages_controller.rb</li> <li>M app/models/customer.rb</li> <li>A app/views/customer/messages/index.html.erb</li> <li>M app/views/customer/top/dashboard.html.erb</li> <li>M app/views/staff/messages/index.html.erb</li> <li>M app/views/staff/messages/show.html.erb</li> <li>M config/locales/views/ja.yml</li> <li>M config/routes.rb</li> </ul>"},{"location":"journal/20170327/#_20","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170327/#_21","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 346173e6d35656056ee64a02738f8aec563456e1\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Mar 27 18:25:09 2017 +0900\n\n    \u554f1 #21\n\ndiff --git a/README.md b/README.md\nindex 267bd7f..a7d1c40 100644\n--- a/README.md\n+++ b/README.md\n@@ -789,6 +789,7 @@ git push heroku master\n + \u6392\u4ed6\u5236\u5fa1\u306e\u305f\u3081\u306e\u5c02\u7528\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u308b\n\n #### \u6f14\u7fd2\u554f\u984c  \n++ \u554f\uff11\n\n **[\u2b06 back to top](#\u69cb\u6210)**\n\ndiff --git a/app/controllers/customer/messages_controller.rb b/app/controllers/customer/messages_controller.rb\nindex 3b0c70e..5044849 100644\n--- a/app/controllers/customer/messages_controller.rb\n+++ b/app/controllers/customer/messages_controller.rb\n@@ -1,4 +1,8 @@\n class Customer::MessagesController &lt; Customer::Base\n+  def index\n+    @messages = current_customer.inbound_messages.page(params[:page])\n+  end\n+\n   def new\n     @message = CustomerMessage.new\n   end\ndiff --git a/app/models/customer.rb b/app/models/customer.rb\nindex 1b01fa2..6c97b91 100644\n--- a/app/models/customer.rb\n+++ b/app/models/customer.rb\n@@ -48,7 +48,7 @@ class Customer &lt; ApplicationRecord\n   has_many :programs, through: :entries\n   has_many :messages\n   has_many :outbound_messages, class_name: 'CustomerMessage', foreign_key: 'customer_id'\n-  has_many :inbound_messages, class_name: 'StaffMember', foreign_key: 'customer_id'\n+  has_many :inbound_messages, class_name: 'StaffMessage', foreign_key: 'customer_id'\n\n   validates :gender, inclusion: { in: %w(male female), allow_blank: true }\n   validates :birthday, date: {\ndiff --git a/app/presenters/staff/message_presenter.rb b/app/presenters/message_presenter.rb\nsimilarity index 97%\nrename from app/presenters/staff/message_presenter.rb\nrename to app/presenters/message_presenter.rb\nindex 0a77e7d..207ec97 100644\n--- a/app/presenters/staff/message_presenter.rb\n+++ b/app/presenters/message_presenter.rb\n@@ -1,4 +1,4 @@\n-class Staff::MessagePresenter &lt; ModelPresenter\n+class MessagePresenter &lt; ModelPresenter\n   delegate :subject, :body, to: :object\n\n   def type\ndiff --git a/app/views/customer/messages/index.html.erb b/app/views/customer/messages/index.html.erb\nnew file mode 100644\nindex 0000000..130fd34\n--- /dev/null\n+++ b/app/views/customer/messages/index.html.erb\n@@ -0,0 +1,25 @@\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column Table\"&gt;\n+  &lt;%= paginate @messages %&gt;\n+\n+  &lt;table class=\"Table__body Table__body--listing StaffTable__body\"&gt;\n+    &lt;tr class=\"Table__tr\"&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('customer.messages.index.sender') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('customer.messages.index.subject') %&gt;&lt;/th&gt;\n+      &lt;th class=\"Table__th\"&gt;&lt;%= t('customer.messages.index.created_at') %&gt;&lt;/th&gt;\n+    &lt;/tr&gt;\n+    &lt;% @messages.each do |m| %&gt;\n+        &lt;% p = MessagePresenter.new(m, self) %&gt;\n+        &lt;tr class=\"Table__tr\"&gt;\n+          &lt;td class=\"Table__td\"&gt;&lt;%= p.sender %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td\"&gt;&lt;%= p.truncated_subject %&gt;&lt;/td&gt;\n+          &lt;td class=\"Table__td--date\"&gt;&lt;%= p.created_at %&gt;&lt;/td&gt;\n+        &lt;/tr&gt;\n+    &lt;% end %&gt;\n+  &lt;/table&gt;\n+\n+  &lt;%= paginate @messages %&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/app/views/customer/top/dashboard.html.erb b/app/views/customer/top/dashboard.html.erb\nindex 933e904..c1db441 100644\n--- a/app/views/customer/top/dashboard.html.erb\n+++ b/app/views/customer/top/dashboard.html.erb\n@@ -30,5 +30,6 @@\n &lt;section class=\"Section l-column DashBoard\"&gt;\n   &lt;ul class=\"DashBoard__menu\"&gt;\n     &lt;li&gt;&lt;%= link_to t('.customer_programs'), :customer_programs, class: 'btn btn-default' %&gt;&lt;/li&gt;\n+    &lt;li&gt;&lt;%= link_to t('.customer_messages'), :customer_messages, class: 'btn btn-default' %&gt;&lt;/li&gt;\n   &lt;/ul&gt;\n &lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/messages/index.html.erb b/app/views/staff/messages/index.html.erb\nindex 29fcdac..e97b4a1 100644\n--- a/app/views/staff/messages/index.html.erb\n+++ b/app/views/staff/messages/index.html.erb\n@@ -24,7 +24,7 @@\n       &lt;th class=\"Table__th\"&gt;&lt;%= t('staff.messages.index.action') %&gt;&lt;/th&gt;\n     &lt;/tr&gt;\n     &lt;% @messages.each do |m| %&gt;\n-        &lt;% p = Staff::MessagePresenter.new(m, self) %&gt;\n+        &lt;% p = MessagePresenter.new(m, self) %&gt;\n         &lt;tr class=\"Table__tr\"&gt;\n           &lt;td class=\"Table__td\"&gt;&lt;%= p.type %&gt;&lt;/td&gt;\n           &lt;td class=\"Table__td\"&gt;&lt;%= p.sender %&gt;&lt;/td&gt;\ndiff --git a/app/views/staff/messages/show.html.erb b/app/views/staff/messages/show.html.erb\nindex a2d7653..8dec7ec 100644\n--- a/app/views/staff/messages/show.html.erb\n+++ b/app/views/staff/messages/show.html.erb\n@@ -11,7 +11,7 @@\n           &lt;%= link_to t('.reply'), new_staff_message_reply_path(@message), class:'btn btn-default' %&gt;\n         &lt;/div&gt;\n     &lt;% end %&gt;\n-    &lt;% p = Staff::MessagePresenter.new(@message, self) %&gt;\n+    &lt;% p = MessagePresenter.new(@message, self) %&gt;\n     &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.type') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.type %&gt;&lt;/td&gt;&lt;/tr&gt;\n     &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.sender') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.sender %&gt;&lt;/td&gt;&lt;/tr&gt;\n     &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.receiver') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.receiver %&gt;&lt;/td&gt;&lt;/tr&gt;\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex efba53a..4aafbaf 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -276,6 +276,7 @@ ja:\n       dashboard:\n         title: '\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9'\n         customer_programs: '\u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7'\n+        customer_messages: '\u53d7\u4fe1\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7'\n     programs:\n       index:\n         title: '\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406'\n@@ -341,6 +342,10 @@ ja:\n         update: '\u66f4\u65b0'\n         correct: '\u8a02\u6b63'\n     messages:\n+      index:\n+        sender: '\u9001\u4fe1\u8005'\n+        subject: '\u4ef6\u540d'\n+        created_at: '\u4f5c\u6210\u65e5\u6642'\n       new:\n         title: '\u65b0\u898f\u554f\u3044\u5408\u308f\u305b'\n         submit: '\u78ba\u8a8d\u753b\u9762\u3078\u9032\u3080'\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 3b44fdd..a63affc 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -81,7 +81,8 @@\n #               customer_programs GET    /programs(.:format)                                  customer/programs#index {:host=&gt;\"0.0.0.0\"}\n #                customer_program GET    /programs/:id(.:format)                              customer/programs#show {:host=&gt;\"0.0.0.0\"}\n #       confirm_customer_messages POST   /messages/confirm(.:format)                          customer/messages#confirm {:host=&gt;\"0.0.0.0\"}\n-#               customer_messages POST   /messages(.:format)                                  customer/messages#create {:host=&gt;\"0.0.0.0\"}\n+#               customer_messages GET    /messages(.:format)                                  customer/messages#index {:host=&gt;\"0.0.0.0\"}\n+#                                 POST   /messages(.:format)                                  customer/messages#create {:host=&gt;\"0.0.0.0\"}\n #            new_customer_message GET    /messages/new(.:format)                              customer/messages#new {:host=&gt;\"0.0.0.0\"}\n #                            root GET    /                                                    errors#routing_error\n #                                 GET    /*anything(.:format)                                 errors#routing_error\n@@ -153,7 +154,7 @@ Rails.application.routes.draw do\n           patch :cancel, on: :member\n         end\n       end\n-      resources :messages, only: [ :new, :create ] do\n+      resources :messages, only: [ :index, :new, :create ] do\n         post :confirm, on: :collection\n       end\n     end\n</code></pre>"},{"location":"journal/20170327/#_22","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170327/#6d6f908-","title":"\u30b3\u30df\u30c3\u30c8: 6d6f908 - \u30bf\u30b0\u4ed8\u3051\u6a5f\u80fd\u306e\u305f\u3081\u306e\u6392\u4ed6\u5236\u5fa1\u306e\u5b9f\u88c5","text":""},{"location":"journal/20170327/#_23","title":"\u6982\u8981","text":"<p>\u30bf\u30b0\u306e\u8ffd\u52a0\u30fb\u524a\u9664\u51e6\u7406\u306b\u304a\u3051\u308b\u7af6\u5408\u72b6\u614b\uff08race condition\uff09\u3092\u89e3\u6c7a\u3059\u308b\u305f\u3081\u3001\u6392\u4ed6\u5236\u5fa1\u306e\u305f\u3081\u306e\u5c02\u7528\u30c6\u30fc\u30d6\u30eb\uff08HashLock\uff09\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u8907\u6570\u306e\u30e6\u30fc\u30b6\u30fc\u304c\u540c\u6642\u306b\u540c\u3058\u30bf\u30b0\u3092\u64cd\u4f5c\u3057\u305f\u5834\u5408\u3067\u3082\u3001\u30c7\u30fc\u30bf\u306e\u6574\u5408\u6027\u304c\u4fdd\u305f\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"journal/20170327/#_24","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li>\u6392\u4ed6\u5236\u5fa1\u7528\u306e<code>hash_locks</code>\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210</li> <li><code>HashLock</code>\u30e2\u30c7\u30eb\u3092\u5b9f\u88c5\u3057\u3001\u30c6\u30fc\u30d6\u30eb\u540d\u30fb\u30ab\u30e9\u30e0\u540d\u30fb\u30ad\u30fc\u306e\u7d44\u307f\u5408\u308f\u305b\u306b\u3088\u308b\u30ed\u30c3\u30af\u6a5f\u80fd\u3092\u63d0\u4f9b</li> <li>\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30bf\u30b0\u8ffd\u52a0\u30fb\u524a\u9664\u30e1\u30bd\u30c3\u30c9\u306b\u30ed\u30c3\u30af\u51e6\u7406\u3092\u8ffd\u52a0</li> <li>MD5\u30cf\u30c3\u30b7\u30e5\u306e\u5148\u982d2\u6587\u5b57\u3092\u4f7f\u7528\u3057\u3066\u3001256\u7a2e\u985e\u306e\u30ed\u30c3\u30af\u30ad\u30fc\u3092\u751f\u6210</li> <li>\u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u3068\u3057\u3066256\u500b\u306e\u30ed\u30c3\u30af\u30ec\u30b3\u30fc\u30c9\u3092\u4e8b\u524d\u306b\u4f5c\u6210</li> <li>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30b9\u30ad\u30fc\u30de\u8a2d\u5b9a\u3092\u8abf\u6574\uff08\u7167\u5408\u9806\u5e8f\u306e\u5909\u66f4\uff09</li> </ul>"},{"location":"journal/20170327/#_25","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u6392\u4ed6\u5236\u5fa1\u306e\u305f\u3081\u306e\u5c02\u7528\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u308b #21\n</code></pre>"},{"location":"journal/20170327/#_26","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/models/hash_lock.rb</li> <li>M app/models/message.rb</li> <li>A db/migrate/20170327081649_create_hash_locks.rb</li> <li>M db/schema.rb</li> <li>A db/seed/hash_locks.rb</li> <li>M db/seeds.rb</li> <li>A spec/factories/hash_locks.rb</li> <li>A spec/models/hash_lock_spec.rb</li> </ul>"},{"location":"journal/20170327/#_27","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170327/#_28","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 6d6f908f7f88e6f6e55b268126497b0c5558365b\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Mar 27 17:37:42 2017 +0900\n\n    \u6392\u4ed6\u5236\u5fa1\u306e\u305f\u3081\u306e\u5c02\u7528\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u308b #21\n\ndiff --git a/README.md b/README.md\nindex d9c1c78..267bd7f 100644\n--- a/README.md\n+++ b/README.md\n@@ -785,6 +785,9 @@ git push heroku master\n + staff/messages\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\n\n #### \u4e00\u610f\u5236\u7d04\u3068\u6392\u4ed6\u7684\u30ed\u30c3\u30af\n++ \u554f\u984c\u306e\u6240\u5728\n++ \u6392\u4ed6\u5236\u5fa1\u306e\u305f\u3081\u306e\u5c02\u7528\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u308b\n+\n #### \u6f14\u7fd2\u554f\u984c  \n\n **[\u2b06 back to top](#\u69cb\u6210)**\ndiff --git a/app/models/hash_lock.rb b/app/models/hash_lock.rb\nnew file mode 100644\nindex 0000000..432a9c5\n--- /dev/null\n+++ b/app/models/hash_lock.rb\n@@ -0,0 +1,26 @@\n+# == Schema Information\n+#\n+# Table name: hash_locks # \u6392\u4ed6\u5236\u5fa1\n+#\n+#  id         :integer          not null, primary key\n+#  table      :string(255)      not null              # \u30c6\u30fc\u30d6\u30eb\n+#  column     :string(255)      not null              # \u30ab\u30e9\u30e0\n+#  key        :string(255)      not null              # \u30ad\u30fc\n+#  created_at :datetime         not null\n+#  updated_at :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_hash_locks_on_table_and_column_and_key  (table,column,key) UNIQUE\n+#\n+\n+class HashLock &lt; ApplicationRecord\n+  class &lt;&lt; self\n+    def acquire(table, column, value)\n+      HashLock.where(table: table,\n+                     column: column,\n+                     key: Digest::MD5.hexdigest(value)[0,2]\n+      ).lock(true).first!\n+    end\n+  end\n+end\ndiff --git a/app/models/message.rb b/app/models/message.rb\nindex 723f9f9..3364e95 100644\n--- a/app/models/message.rb\n+++ b/app/models/message.rb\n@@ -69,6 +69,7 @@ class Message &lt; ApplicationRecord\n\n   def add_tag(label)\n     self.class.transaction do\n+      HashLock.acquire('tags','value',label)\n       tag = Tag.find_by(value: label)\n       tag ||= Tag.create!(value: label)\n       unless message_tag_links.where(tag_id: tag.id).exists?\n@@ -79,6 +80,7 @@ class Message &lt; ApplicationRecord\n\n   def remove_tag(label)\n     self.class.transaction do\n+      HashLock.acquire('tags','value',label)\n       if tag = Tag.find_by(value: label)\n         message_tag_links.find_by(tag_id: tag.id).destroy\n         if tag.message_tag_links.empty?\ndiff --git a/db/migrate/20170327081649_create_hash_locks.rb b/db/migrate/20170327081649_create_hash_locks.rb\nnew file mode 100644\nindex 0000000..a3e5e56\n--- /dev/null\n+++ b/db/migrate/20170327081649_create_hash_locks.rb\n@@ -0,0 +1,12 @@\n+class CreateHashLocks &lt; ActiveRecord::Migration[5.0]\n+  def change\n+    create_table :hash_locks, comment:'\u6392\u4ed6\u5236\u5fa1' do |t|\n+      t.string :table, null: false, comment: '\u30c6\u30fc\u30d6\u30eb'\n+      t.string :column, null: false, comment: '\u30ab\u30e9\u30e0'\n+      t.string :key, null: false, comment: '\u30ad\u30fc'\n+      t.timestamps\n+    end\n+\n+    add_index :hash_locks, [ :table, :column, :key ], unique: true\n+  end\n+end\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 0154c4b..27f7a1c 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -10,9 +10,9 @@\n #\n # It's strongly recommended that you check this file into your version control system.\n\n-ActiveRecord::Schema.define(version: 20170325081203) do\n+ActiveRecord::Schema.define(version: 20170327081649) do\n\n-  create_table \"addresses\", force: :cascade, comment: \"\u4f4f\u6240\" do |t|\n+  create_table \"addresses\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u4f4f\u6240\" do |t|\n     t.integer  \"customer_id\",                null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",                       null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n     t.string   \"postal_code\",                null: false, comment: \"\u90f5\u4fbf\u756a\u53f7\"\n@@ -33,7 +33,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"type\", \"prefecture\", \"city\"], name: \"index_addresses_on_type_and_prefecture_and_city\", using: :btree\n   end\n\n-  create_table \"administrators\", force: :cascade, comment: \"\u7ba1\u7406\u8005\" do |t|\n+  create_table \"administrators\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u7ba1\u7406\u8005\" do |t|\n     t.string   \"email\",                           null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"hashed_password\",                              comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n@@ -43,7 +43,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true, using: :btree\n   end\n\n-  create_table \"allowed_sources\", force: :cascade, comment: \"IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\" do |t|\n+  create_table \"allowed_sources\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\" do |t|\n     t.string   \"namespace\",                  null: false, comment: \"\u540d\u524d\u7a7a\u9593\"\n     t.integer  \"octet1\",                     null: false, comment: \"\u7b2c\uff11\u30aa\u30af\u30c6\u30c3\u30c8\"\n     t.integer  \"octet2\",                     null: false, comment: \"\u7b2c\uff12\u30aa\u30af\u30c6\u30c3\u30c8\"\n@@ -55,7 +55,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"namespace\", \"octet1\", \"octet2\", \"octet3\", \"octet4\"], name: \"index_allowed_sources_on_namespace_and_octets\", unique: true, using: :btree\n   end\n\n-  create_table \"customers\", force: :cascade, comment: \"\u9867\u5ba2\" do |t|\n+  create_table \"customers\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u9867\u5ba2\" do |t|\n     t.string   \"email\",            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",  null: false, comment: \"\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",      null: false, comment: \"\u59d3\"\n@@ -84,7 +84,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\", using: :btree\n   end\n\n-  create_table \"entries\", force: :cascade, comment: \"\u7533\u3057\u8fbc\u307f\" do |t|\n+  create_table \"entries\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u7533\u3057\u8fbc\u307f\" do |t|\n     t.integer  \"program_id\",                  null: false\n     t.integer  \"customer_id\",                 null: false\n     t.boolean  \"approved\",    default: false, null: false, comment: \"\u627f\u8a8d\u6e08\u307f\u30d5\u30e9\u30b0\"\n@@ -96,7 +96,16 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"program_id\"], name: \"index_entries_on_program_id\", using: :btree\n   end\n\n-  create_table \"message_tag_links\", force: :cascade, comment: \"\u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb\" do |t|\n+  create_table \"hash_locks\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u6392\u4ed6\u5236\u5fa1\" do |t|\n+    t.string   \"table\",      null: false, comment: \"\u30c6\u30fc\u30d6\u30eb\"\n+    t.string   \"column\",     null: false, comment: \"\u30ab\u30e9\u30e0\"\n+    t.string   \"key\",        null: false, comment: \"\u30ad\u30fc\"\n+    t.datetime \"created_at\", null: false\n+    t.datetime \"updated_at\", null: false\n+    t.index [\"table\", \"column\", \"key\"], name: \"index_hash_locks_on_table_and_column_and_key\", unique: true, using: :btree\n+  end\n+\n+  create_table \"message_tag_links\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb\" do |t|\n     t.integer \"message_id\", null: false\n     t.integer \"tag_id\",     null: false\n     t.index [\"message_id\", \"tag_id\"], name: \"index_message_tag_links_on_message_id_and_tag_id\", unique: true, using: :btree\n@@ -104,7 +113,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"tag_id\"], name: \"index_message_tag_links_on_tag_id\", using: :btree\n   end\n\n-  create_table \"messages\", force: :cascade, comment: \"\u554f\u3044\u5408\u308f\u305b\" do |t|\n+  create_table \"messages\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u554f\u3044\u5408\u308f\u305b\" do |t|\n     t.integer  \"customer_id\",                                   null: false\n     t.integer  \"staff_member_id\"\n     t.integer  \"root_id\",                                                    comment: \"Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n@@ -129,7 +138,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"type\", \"staff_member_id\"], name: \"index_messages_on_type_and_staff_member_id\", using: :btree\n   end\n\n-  create_table \"phones\", force: :cascade, comment: \"\u96fb\u8a71\" do |t|\n+  create_table \"phones\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u96fb\u8a71\" do |t|\n     t.integer  \"customer_id\",                      null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.integer  \"address_id\",                                    comment: \"\u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"number\",                           null: false, comment: \"\u96fb\u8a71\u756a\u53f7\"\n@@ -144,7 +153,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\", using: :btree\n   end\n\n-  create_table \"programs\", force: :cascade, comment: \"\u30d7\u30ed\u30b0\u30e9\u30e0\" do |t|\n+  create_table \"programs\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u30d7\u30ed\u30b0\u30e9\u30e0\" do |t|\n     t.integer  \"registrant_id\",                            null: false, comment: \"\u767b\u9332\u8077\u54e1\uff08\u5916\u90e8\u30ad\u30fc\uff09\"\n     t.string   \"title\",                                    null: false, comment: \"\u30bf\u30a4\u30c8\u30eb\"\n     t.text     \"description\",                limit: 65535,              comment: \"\u8aac\u660e\"\n@@ -158,7 +167,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"registrant_id\"], name: \"index_programs_on_registrant_id\", using: :btree\n   end\n\n-  create_table \"staff_events\", force: :cascade, comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n+  create_table \"staff_events\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n     t.integer  \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",            null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n     t.datetime \"created_at\",      null: false, comment: \"\u767a\u751f\u6642\u523b\"\n@@ -167,7 +176,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\", using: :btree\n   end\n\n-  create_table \"staff_members\", force: :cascade, comment: \"\u8077\u54e1\" do |t|\n+  create_table \"staff_members\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\" do |t|\n     t.string   \"email\",                            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                  null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",                      null: false, comment: \"\u59d3\"\n@@ -184,7 +193,7 @@ ActiveRecord::Schema.define(version: 20170325081203) do\n     t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\", using: :btree\n   end\n\n-  create_table \"tags\", force: :cascade, comment: \"\u30bf\u30b0\" do |t|\n+  create_table \"tags\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u30bf\u30b0\" do |t|\n     t.string   \"value\",      null: false\n     t.datetime \"created_at\", null: false\n     t.datetime \"updated_at\", null: false\ndiff --git a/db/seed/hash_locks.rb b/db/seed/hash_locks.rb\nnew file mode 100644\nindex 0000000..788a86b\n--- /dev/null\n+++ b/db/seed/hash_locks.rb\n@@ -0,0 +1,3 @@\n+256.times do |i|\n+  HashLock.create!(table: 'tags', column: 'value', key: sprintf('%02x',i))\n+end\n\\ No newline at end of file\ndiff --git a/db/seeds.rb b/db/seeds.rb\nindex beeaf0f..51e0dc6 100644\n--- a/db/seeds.rb\n+++ b/db/seeds.rb\n@@ -6,6 +6,15 @@\n\n #   movies = Movie.create([{ name: 'Star Wars' }, { name: 'Lord of the Rings' }])\n #   Character.create(name: 'Luke', movie: movies.first)\n+common_table_names = %w(hash_locks)\n+common_table_names.each do |table_name|\n+  path = Rails.root.join('db', 'seeds', \"#{table_name}.rb\")\n+  if File.exist?(path)\n+    puts \"Creating #{table_name}....\"\n+    require(path)\n+  end\n+end\n+\n table_names = %w(staff_members administrators staff_events customers allowed_sources programs entries messages)\n table_names.each do |table_name|\n   path = Rails.root.join('db','seed',Rails.env, \"#{table_name}.rb\")\ndiff --git a/spec/factories/hash_locks.rb b/spec/factories/hash_locks.rb\nnew file mode 100644\nindex 0000000..3300220\n--- /dev/null\n+++ b/spec/factories/hash_locks.rb\n@@ -0,0 +1,21 @@\n+# == Schema Information\n+#\n+# Table name: hash_locks # \u6392\u4ed6\u5236\u5fa1\n+#\n+#  id         :integer          not null, primary key\n+#  table      :string(255)      not null              # \u30c6\u30fc\u30d6\u30eb\n+#  column     :string(255)      not null              # \u30ab\u30e9\u30e0\n+#  key        :string(255)      not null              # \u30ad\u30fc\n+#  created_at :datetime         not null\n+#  updated_at :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_hash_locks_on_table_and_column_and_key  (table,column,key) UNIQUE\n+#\n+\n+FactoryGirl.define do\n+  factory :hash_lock do\n+    \n+  end\n+end\ndiff --git a/spec/models/hash_lock_spec.rb b/spec/models/hash_lock_spec.rb\nnew file mode 100644\nindex 0000000..89576ad\n--- /dev/null\n+++ b/spec/models/hash_lock_spec.rb\n@@ -0,0 +1,21 @@\n+# == Schema Information\n+#\n+# Table name: hash_locks # \u6392\u4ed6\u5236\u5fa1\n+#\n+#  id         :integer          not null, primary key\n+#  table      :string(255)      not null              # \u30c6\u30fc\u30d6\u30eb\n+#  column     :string(255)      not null              # \u30ab\u30e9\u30e0\n+#  key        :string(255)      not null              # \u30ad\u30fc\n+#  created_at :datetime         not null\n+#  updated_at :datetime         not null\n+#\n+# Indexes\n+#\n+#  index_hash_locks_on_table_and_column_and_key  (table,column,key) UNIQUE\n+#\n+\n+require 'rails_helper'\n+\n+RSpec.describe HashLock, type: :model do\n+  pending \"add some examples to (or delete) #{__FILE__}\"\n+end\n</code></pre>"},{"location":"journal/20170327/#_29","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20170328/","title":"\u4f5c\u696d\u5c65\u6b74 2017-03-28","text":""},{"location":"journal/20170328/#_1","title":"\u6982\u8981","text":"<p>2017-03-28\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u30f3\u30b0\u6a5f\u80fd\u306e\u62e1\u5f35\u3068\u3057\u3066\u3001\u9867\u5ba2\u304c\u554f\u3044\u5408\u308f\u305b\u306b\u5bfe\u3057\u3066\u8fd4\u4fe1\u3067\u304d\u308b\u6a5f\u80fd\u306e\u5b9f\u88c5\u306b\u95a2\u3059\u308b\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20170328/#_2","title":"\u30e1\u30c3\u30bb\u30fc\u30b8\u30f3\u30b0\u6a5f\u80fd\u306e\u69cb\u6210\u56f3","text":""},{"location":"journal/20170328/#_3","title":"\u4f5c\u696d\u5185\u5bb9","text":""},{"location":"journal/20170328/#_4","title":"\u9867\u5ba2\u5411\u3051\u554f\u3044\u5408\u308f\u305b\u8fd4\u4fe1\u6a5f\u80fd\u306e\u5b9f\u88c5","text":"<p>\u9867\u5ba2\u304c\u8077\u54e1\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u5bfe\u3057\u3066\u8fd4\u4fe1\u3067\u304d\u308b\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u53cc\u65b9\u5411\u306e\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u53ef\u80fd\u306b\u306a\u308a\u3001\u9867\u5ba2\u30b5\u30fc\u30d3\u30b9\u306e\u8cea\u304c\u5411\u4e0a\u3057\u307e\u3059\u3002</p>"},{"location":"journal/20170328/#_5","title":"\u5909\u66f4\u70b9\u306e\u6982\u8981","text":"<ol> <li>\u8fd4\u4fe1\u6a5f\u80fd\u306e\u8ffd\u52a0</li> <li>\u9867\u5ba2\u304c\u8077\u54e1\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u8fd4\u4fe1\u3067\u304d\u308b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u5b9f\u88c5</li> <li>\u8fd4\u4fe1\u30d5\u30a9\u30fc\u30e0\u3068\u78ba\u8a8d\u753b\u9762\u306e\u30d3\u30e5\u30fc\u3092\u4f5c\u6210</li> <li> <p>\u8fd4\u4fe1\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8868\u793a\u6a5f\u80fd\u3092\u8ffd\u52a0</p> </li> <li> <p>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u8a2d\u5b9a</p> </li> <li>\u9867\u5ba2\u306e\u8fd4\u4fe1\u6a5f\u80fd\u306b\u5fc5\u8981\u306a\u30eb\u30fc\u30c8\u3092\u8ffd\u52a0</li> <li> <p>RESTful\u306a\u30ea\u30bd\u30fc\u30b9\u8a2d\u8a08\u306b\u57fa\u3065\u3044\u305f\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0</p> </li> <li> <p>\u591a\u8a00\u8a9e\u5bfe\u5fdc</p> </li> <li>\u65e5\u672c\u8a9e\u30ea\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306b\u8fd4\u4fe1\u6a5f\u80fd\u95a2\u9023\u306e\u7ffb\u8a33\u3092\u8ffd\u52a0</li> </ol>"},{"location":"journal/20170328/#_6","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li>\u78ba\u8a8d\u753b\u9762\u3092\u542b\u30802\u6bb5\u968e\u306e\u9001\u4fe1\u30d7\u30ed\u30bb\u30b9\u3092\u5b9f\u88c5</li> <li>\u90e8\u5206\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u6d3b\u7528\u3057\u3066\u5171\u901a\u90e8\u5206\u3092\u5171\u6709</li> <li>\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u89aa\u5b50\u95a2\u4fc2\u3092\u6d3b\u7528\u3057\u305f\u8fd4\u4fe1\u30b9\u30ec\u30c3\u30c9\u306e\u7ba1\u7406</li> <li>BEM\u306b\u57fa\u3065\u3044\u305fCSS\u30af\u30e9\u30b9\u8a2d\u8a08\u306e\u7d99\u7d9a\u7684\u306a\u9069\u7528</li> </ul>"},{"location":"journal/20170328/#a8091d0","title":"\u30b3\u30df\u30c3\u30c8: a8091d0","text":""},{"location":"journal/20170328/#_7","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u30b3\u30e1\u30f3\u30c8\u8fd4\u4fe1\u6a5f\u80fd\n</code></pre>"},{"location":"journal/20170328/#_8","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/customer/top/dashboard.html.erb</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20170328/#_9","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit a8091d00ddbbd0cfee0f162da5f522e4e18503ad\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Mar 28 13:07:44 2017 +0900\n\n    \u30b3\u30e1\u30f3\u30c8\u8fd4\u4fe1\u6a5f\u80fd\n\ndiff --git a/app/views/customer/top/dashboard.html.erb b/app/views/customer/top/dashboard.html.erb\nindex c1db441..a819b2a 100644\n--- a/app/views/customer/top/dashboard.html.erb\n+++ b/app/views/customer/top/dashboard.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-3-28\"&gt;2017.3.28&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u554f\u3044\u5408\u308f\u305b\u8fd4\u4fe1\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-3-18\"&gt;2017.3.18&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u554f\u3044\u5408\u308f\u305b\u6a5f\u80fd\u8ffd\u52a0&lt;/span&gt;\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex 5677faf..dee2081 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2017-3-28\"&gt;2017.3.28&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u554f\u3044\u5408\u308f\u305b\u8fd4\u4fe1\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-3-18\"&gt;2017.3.18&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u554f\u3044\u5408\u308f\u305b\u306e\u4e00\u89a7\u8868\u793a\u3068\u524a\u9664\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n</code></pre>"},{"location":"journal/20170328/#616e47b","title":"\u30b3\u30df\u30c3\u30c8: 616e47b","text":""},{"location":"journal/20170328/#_10","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>\u554f4 #21\n</code></pre>"},{"location":"journal/20170328/#_11","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>A app/controllers/customer/replies_controller.rb</li> <li>M app/views/customer/messages/show.html.erb</li> <li>A app/views/customer/replies/_confirming_form.html.erb</li> <li>A app/views/customer/replies/_form.html.erb</li> <li>A app/views/customer/replies/_message.erb</li> <li>A app/views/customer/replies/confirm.html.erb</li> <li>A app/views/customer/replies/new.html.erb</li> <li>M config/locales/controllers/ja.yml</li> <li>M config/locales/views/ja.yml</li> <li>M config/routes.rb</li> <li>M db/schema.rb</li> </ul>"},{"location":"journal/20170328/#_12","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 616e47baf9d21ef430a3ce9a14ecb6c62d982de0\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Mar 28 12:49:53 2017 +0900\n\n    \u554f4 #21\n\ndiff --git a/README.md b/README.md\nindex 868fde6..14a6731 100644\n--- a/README.md\n+++ b/README.md\n@@ -792,7 +792,7 @@ git push heroku master\n + \u554f\uff11\n + \u554f\uff12\n + \u554f\uff13\n-\n++ \u554f\uff14\n\n **[\u2b06 back to top](#\u69cb\u6210)**\n\ndiff --git a/app/controllers/customer/replies_controller.rb b/app/controllers/customer/replies_controller.rb\nnew file mode 100644\nindex 0000000..d6c2a7d\n--- /dev/null\n+++ b/app/controllers/customer/replies_controller.rb\n@@ -0,0 +1,44 @@\n+class Customer::RepliesController &lt; Customer::Base\n+  before_action :prepare_message\n+\n+  def new\n+    @reply = CustomerMessage.new\n+  end\n+\n+  # POST\n+  def confirm\n+    @reply = CustomerMessage.new(customer_message_params)\n+    if @reply.valid?\n+      render action: 'confirm'\n+    else\n+      flash.now.alert = t('.flash_alert')\n+      render action: 'new'\n+    end\n+  end\n+\n+  def create\n+    @reply = CustomerMessage.new(customer_message_params)\n+    if params[:commit]\n+      @reply.parent = @message\n+      if @reply.save\n+        flash.notice = t('.flash_notice')\n+        redirect_to :customer_messages\n+      else\n+        flash.now.alert = t('.flash_alert')\n+        render action: 'new'\n+      end\n+    else\n+      render action: 'new'\n+    end\n+  end\n+\n+  private\n+  def prepare_message\n+    @message = StaffMessage.find(params[:message_id])\n+  end\n+\n+  def customer_message_params\n+    params.require(:customer_message).permit(:subject, :body)\n+  end\n+\n+end\ndiff --git a/app/views/customer/messages/show.html.erb b/app/views/customer/messages/show.html.erb\nindex 1fc6004..72fe615 100644\n--- a/app/views/customer/messages/show.html.erb\n+++ b/app/views/customer/messages/show.html.erb\n@@ -3,6 +3,9 @@\n &lt;/section&gt;\n\n &lt;section class=\"Section l-column Table CustomerTable\"&gt;\n+  &lt;div class=\"Table__links\"&gt;\n+    &lt;%= link_to t('.reply'), new_customer_message_reply_path(@message), class:'btn btn-default' %&gt;\n+  &lt;/div&gt;\n   &lt;table class=\"Table__body Table__body--attributes CustomerTable__body\"&gt;\n     &lt;% p = MessagePresenter.new(@message, self) %&gt;\n     &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('.sender') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.sender %&gt;&lt;/td&gt;&lt;/tr&gt;\ndiff --git a/app/views/customer/replies/_confirming_form.html.erb b/app/views/customer/replies/_confirming_form.html.erb\nnew file mode 100644\nindex 0000000..1ae2ce7\n--- /dev/null\n+++ b/app/views/customer/replies/_confirming_form.html.erb\n@@ -0,0 +1,6 @@\n+&lt;%= markup(:div, id: 'confirming-panel') do |m|\n+  p = ConfirmingFormPresenter.new(f, self)\n+  m.div t('customer.replies.confirm.confirm_message')\n+  m &lt;&lt; p.text_field_block(:subject, t('activerecord.attributes.message.subject'))\n+  m &lt;&lt; p.text_area_block(:body, t('activerecord.attributes.message.body'))\n+end %&gt;\n\\ No newline at end of file\ndiff --git a/app/views/customer/replies/_form.html.erb b/app/views/customer/replies/_form.html.erb\nnew file mode 100644\nindex 0000000..063ddc9\n--- /dev/null\n+++ b/app/views/customer/replies/_form.html.erb\n@@ -0,0 +1,10 @@\n+&lt;%= markup do |m|\n+  p = FormPresenter.new(f, self)\n+  p.with_options(required: true) do |q|\n+    m &lt;&lt; q.text_field_block(:subject, t('activerecord.attributes.message.subject'), size: 40, maxlength: 80)\n+    m.div(class: 'AppForm__input-block') do |m|\n+      m &lt;&lt; q.text_area(:body, rows: 6, style: 'with: 454px')\n+      m.span '(800\u6587\u5b57\u4ee5\u5185)', class: 'instruction', style: 'flaot; rigth'\n+    end\n+  end\n+end %&gt;\n\\ No newline at end of file\ndiff --git a/app/views/customer/replies/_message.erb b/app/views/customer/replies/_message.erb\nnew file mode 100644\nindex 0000000..24c01d8\n--- /dev/null\n+++ b/app/views/customer/replies/_message.erb\n@@ -0,0 +1,11 @@\n+&lt;% p = MessagePresenter.new(@message, self) %&gt;\n+&lt;section class=\"Section l-column Table StaffTable\"&gt;\n+  &lt;table class=\"Table__body Table__body--attributes StaffTable__body\"&gt;\n+    &lt;% p = MessagePresenter.new(@message, self) %&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('customer.replies.new.sender') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.sender %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('customer.replies.new.subject') %&gt;&lt;/th&gt;&lt;td&gt;&lt;%= p.subject %&gt;&lt;/td&gt;&lt;/tr&gt;\n+    &lt;tr class=\"Table__tr\"&gt;&lt;th class=\"Table__th\"&gt;&lt;%= t('customer.replies.new.created_at') %&gt;&lt;/th&gt;&lt;td class=\"Table__td--date\"&gt;&lt;%= p.created_at %&gt;&lt;/td&gt;&lt;/tr&gt;\n+  &lt;/table&gt;\n+\n+  &lt;div class=\"Table__body--description\"&gt;&lt;%= p.formatted_body %&gt;&lt;/div&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/app/views/customer/replies/confirm.html.erb b/app/views/customer/replies/confirm.html.erb\nnew file mode 100644\nindex 0000000..6d57333\n--- /dev/null\n+++ b/app/views/customer/replies/confirm.html.erb\n@@ -0,0 +1,18 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Staff__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column AppForm\"&gt;\n+  &lt;div class=\"AppForm__generic-form StaffAppForm__generic-form AppForm__customer-form\"&gt;\n+    &lt;%= bootstrap_form_for @reply, url: customer_message_reply_path(@message) do |f| %&gt;\n+        &lt;%= render 'confirming_form', f: f %&gt;\n+        &lt;div class=\"AppForm__buttons\"&gt;\n+          &lt;%= f.submit t('.send'),class: 'btn btn-default btn-lg' %&gt;\n+          &lt;%= f.submit t('.correct'), name: 'correct', class: 'btn btn-default btn-lg' %&gt;\n+          &lt;%= link_to t('.cancel'), :customer_messages, class: 'btn btn-default btn-lg' %&gt;\n+        &lt;/div&gt;\n+    &lt;% end %&gt;\n+    &lt;%= render 'message' %&gt;\n+  &lt;/div&gt;\n+&lt;/section&gt;\n\\ No newline at end of file\ndiff --git a/app/views/customer/replies/new.html.erb b/app/views/customer/replies/new.html.erb\nnew file mode 100644\nindex 0000000..f046c15\n--- /dev/null\n+++ b/app/views/customer/replies/new.html.erb\n@@ -0,0 +1,17 @@\n+&lt;% @title = t('.title') %&gt;\n+&lt;section class=\"Section\"&gt;\n+  &lt;h1 class=\"Customer__title\"&gt;&lt;%= @title %&gt;&lt;/h1&gt;\n+&lt;/section&gt;\n+\n+&lt;section class=\"Section l-column AppForm\"&gt;\n+  &lt;div class=\"AppForm__generic-form CustomerAppForm__generic-form\"&gt;\n+    &lt;%= bootstrap_form_for @reply, url: confirm_customer_message_reply_path(@message) do |f| %&gt;\n+        &lt;%= render 'form', f: f %&gt;\n+        &lt;div class=\"AppForm__buttons\"&gt;\n+          &lt;%= f.submit t('.submit') ,class: 'btn btn-default btn-lg'%&gt;\n+          &lt;%= link_to t('.cancel'), :customer_root ,class: 'btn btn-default btn-lg'%&gt;\n+        &lt;/div&gt;\n+    &lt;% end %&gt;\n+  &lt;/div&gt;\n+  &lt;%= render 'message' %&gt;\n+&lt;/section&gt;\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 4a4b989..97ff6e3 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -97,4 +97,11 @@ ja:\n         flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n       destroy:\n         flash_notice: '\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'\n+    replies:\n+      confirm:\n+        flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n+      create:\n+        flash_notice: '\u30e1\u30c3\u30bb\u30fc\u30b8\u8fd4\u4fe1\u3057\u307e\u3057\u305f\u3002'\n+        flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n+\n\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 7428b9e..94c8e8f 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -355,6 +355,7 @@ ja:\n         sender: '\u9001\u4fe1\u8005'\n         subject: '\u4ef6\u540d'\n         created_at: '\u4f5c\u6210\u65e5\u6642'\n+        reply: '\u56de\u7b54\u3059\u308b'\n       new:\n         title: '\u65b0\u898f\u554f\u3044\u5408\u308f\u305b'\n         submit: '\u78ba\u8a8d\u753b\u9762\u3078\u9032\u3080'\n@@ -363,4 +364,18 @@ ja:\n         title: '\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u66f4\u65b0\uff08\u78ba\u8a8d\uff09'\n         confirm_message: '\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f'\n         update: '\u9001\u4fe1'\n-        correct: '\u8a02\u6b63'\n\\ No newline at end of file\n+        correct: '\u8a02\u6b63'\n+    replies:\n+      new:\n+        title: '\u30e1\u30c3\u30bb\u30fc\u30b8\u3078\u306e\u8fd4\u4fe1'\n+        submit: '\u78ba\u8a8d\u753b\u9762\u3078\u9032\u3080'\n+        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n+        sender: '\u9001\u4fe1\u8005'\n+        subject: '\u4ef6\u540d'\n+        created_at: '\u4f5c\u6210\u65e5\u6642'\n+      confirm:\n+        title: '\u554f\u3044\u5408\u308f\u305b\u3078\u306e\u8fd4\u4fe1\uff08\u78ba\u8a8d\uff09'\n+        send: '\u9001\u4fe1'\n+        correct: '\u8a02\u6b63'\n+        cancel: '\u30ad\u30e3\u30f3\u30bb\u30eb'\n+        confirm_message: '\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067\u8fd4\u4fe1\u3057\u307e\u3059\u3002\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f'\n\\ No newline at end of file\ndiff --git a/config/routes.rb b/config/routes.rb\nindex 66b0ef3..1c70e53 100644\n--- a/config/routes.rb\n+++ b/config/routes.rb\n@@ -81,6 +81,9 @@\n #               customer_programs GET    /programs(.:format)                                  customer/programs#index {:host=&gt;\"0.0.0.0\"}\n #                customer_program GET    /programs/:id(.:format)                              customer/programs#show {:host=&gt;\"0.0.0.0\"}\n #       confirm_customer_messages POST   /messages/confirm(.:format)                          customer/messages#confirm {:host=&gt;\"0.0.0.0\"}\n+#  confirm_customer_message_reply POST   /messages/:message_id/reply/confirm(.:format)        customer/replies#confirm {:host=&gt;\"0.0.0.0\"}\n+#      new_customer_message_reply GET    /messages/:message_id/reply/new(.:format)            customer/replies#new {:host=&gt;\"0.0.0.0\"}\n+#          customer_message_reply POST   /messages/:message_id/reply(.:format)                customer/replies#create {:host=&gt;\"0.0.0.0\"}\n #               customer_messages GET    /messages(.:format)                                  customer/messages#index {:host=&gt;\"0.0.0.0\"}\n #                                 POST   /messages(.:format)                                  customer/messages#create {:host=&gt;\"0.0.0.0\"}\n #            new_customer_message GET    /messages/new(.:format)                              customer/messages#new {:host=&gt;\"0.0.0.0\"}\n@@ -158,6 +161,9 @@ Rails.application.routes.draw do\n       end\n       resources :messages, except: [ :edit, :update ] do\n         post :confirm, on: :collection\n+        resource :reply, only: [ :new, :create ] do\n+          post :confirm\n+        end\n       end\n     end\n   end\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 27f7a1c..14ca97f 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -12,7 +12,7 @@\n\n ActiveRecord::Schema.define(version: 20170327081649) do\n\n-  create_table \"addresses\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u4f4f\u6240\" do |t|\n+  create_table \"addresses\", force: :cascade, comment: \"\u4f4f\u6240\" do |t|\n     t.integer  \"customer_id\",                null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",                       null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n     t.string   \"postal_code\",                null: false, comment: \"\u90f5\u4fbf\u756a\u53f7\"\n@@ -33,7 +33,7 @@ ActiveRecord::Schema.define(version: 20170327081649) do\n     t.index [\"type\", \"prefecture\", \"city\"], name: \"index_addresses_on_type_and_prefecture_and_city\", using: :btree\n   end\n\n-  create_table \"administrators\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u7ba1\u7406\u8005\" do |t|\n+  create_table \"administrators\", force: :cascade, comment: \"\u7ba1\u7406\u8005\" do |t|\n     t.string   \"email\",                           null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"hashed_password\",                              comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n@@ -43,7 +43,7 @@ ActiveRecord::Schema.define(version: 20170327081649) do\n     t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true, using: :btree\n   end\n\n-  create_table \"allowed_sources\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\" do |t|\n+  create_table \"allowed_sources\", force: :cascade, comment: \"IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\" do |t|\n     t.string   \"namespace\",                  null: false, comment: \"\u540d\u524d\u7a7a\u9593\"\n     t.integer  \"octet1\",                     null: false, comment: \"\u7b2c\uff11\u30aa\u30af\u30c6\u30c3\u30c8\"\n     t.integer  \"octet2\",                     null: false, comment: \"\u7b2c\uff12\u30aa\u30af\u30c6\u30c3\u30c8\"\n@@ -55,7 +55,7 @@ ActiveRecord::Schema.define(version: 20170327081649) do\n     t.index [\"namespace\", \"octet1\", \"octet2\", \"octet3\", \"octet4\"], name: \"index_allowed_sources_on_namespace_and_octets\", unique: true, using: :btree\n   end\n\n-  create_table \"customers\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u9867\u5ba2\" do |t|\n+  create_table \"customers\", force: :cascade, comment: \"\u9867\u5ba2\" do |t|\n     t.string   \"email\",            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",  null: false, comment: \"\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",      null: false, comment: \"\u59d3\"\n@@ -84,7 +84,7 @@ ActiveRecord::Schema.define(version: 20170327081649) do\n     t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\", using: :btree\n   end\n\n-  create_table \"entries\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u7533\u3057\u8fbc\u307f\" do |t|\n+  create_table \"entries\", force: :cascade, comment: \"\u7533\u3057\u8fbc\u307f\" do |t|\n     t.integer  \"program_id\",                  null: false\n     t.integer  \"customer_id\",                 null: false\n     t.boolean  \"approved\",    default: false, null: false, comment: \"\u627f\u8a8d\u6e08\u307f\u30d5\u30e9\u30b0\"\n@@ -96,7 +96,7 @@ ActiveRecord::Schema.define(version: 20170327081649) do\n     t.index [\"program_id\"], name: \"index_entries_on_program_id\", using: :btree\n   end\n\n-  create_table \"hash_locks\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u6392\u4ed6\u5236\u5fa1\" do |t|\n+  create_table \"hash_locks\", force: :cascade, comment: \"\u6392\u4ed6\u5236\u5fa1\" do |t|\n     t.string   \"table\",      null: false, comment: \"\u30c6\u30fc\u30d6\u30eb\"\n     t.string   \"column\",     null: false, comment: \"\u30ab\u30e9\u30e0\"\n     t.string   \"key\",        null: false, comment: \"\u30ad\u30fc\"\n@@ -105,7 +105,7 @@ ActiveRecord::Schema.define(version: 20170327081649) do\n     t.index [\"table\", \"column\", \"key\"], name: \"index_hash_locks_on_table_and_column_and_key\", unique: true, using: :btree\n   end\n\n-  create_table \"message_tag_links\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb\" do |t|\n+  create_table \"message_tag_links\", force: :cascade, comment: \"\u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb\" do |t|\n     t.integer \"message_id\", null: false\n     t.integer \"tag_id\",     null: false\n     t.index [\"message_id\", \"tag_id\"], name: \"index_message_tag_links_on_message_id_and_tag_id\", unique: true, using: :btree\n@@ -113,7 +113,7 @@ ActiveRecord::Schema.define(version: 20170327081649) do\n     t.index [\"tag_id\"], name: \"index_message_tag_links_on_tag_id\", using: :btree\n   end\n\n-  create_table \"messages\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u554f\u3044\u5408\u308f\u305b\" do |t|\n+  create_table \"messages\", force: :cascade, comment: \"\u554f\u3044\u5408\u308f\u305b\" do |t|\n     t.integer  \"customer_id\",                                   null: false\n     t.integer  \"staff_member_id\"\n     t.integer  \"root_id\",                                                    comment: \"Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n@@ -138,7 +138,7 @@ ActiveRecord::Schema.define(version: 20170327081649) do\n     t.index [\"type\", \"staff_member_id\"], name: \"index_messages_on_type_and_staff_member_id\", using: :btree\n   end\n\n-  create_table \"phones\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u96fb\u8a71\" do |t|\n+  create_table \"phones\", force: :cascade, comment: \"\u96fb\u8a71\" do |t|\n     t.integer  \"customer_id\",                      null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.integer  \"address_id\",                                    comment: \"\u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"number\",                           null: false, comment: \"\u96fb\u8a71\u756a\u53f7\"\n@@ -153,7 +153,7 @@ ActiveRecord::Schema.define(version: 20170327081649) do\n     t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\", using: :btree\n   end\n\n-  create_table \"programs\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u30d7\u30ed\u30b0\u30e9\u30e0\" do |t|\n+  create_table \"programs\", force: :cascade, comment: \"\u30d7\u30ed\u30b0\u30e9\u30e0\" do |t|\n     t.integer  \"registrant_id\",                            null: false, comment: \"\u767b\u9332\u8077\u54e1\uff08\u5916\u90e8\u30ad\u30fc\uff09\"\n     t.string   \"title\",                                    null: false, comment: \"\u30bf\u30a4\u30c8\u30eb\"\n     t.text     \"description\",                limit: 65535,              comment: \"\u8aac\u660e\"\n@@ -167,7 +167,7 @@ ActiveRecord::Schema.define(version: 20170327081649) do\n     t.index [\"registrant_id\"], name: \"index_programs_on_registrant_id\", using: :btree\n   end\n\n-  create_table \"staff_events\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n+  create_table \"staff_events\", force: :cascade, comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n     t.integer  \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string   \"type\",            null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n     t.datetime \"created_at\",      null: false, comment: \"\u767a\u751f\u6642\u523b\"\n@@ -176,7 +176,7 @@ ActiveRecord::Schema.define(version: 20170327081649) do\n     t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\", using: :btree\n   end\n\n-  create_table \"staff_members\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u8077\u54e1\" do |t|\n+  create_table \"staff_members\", force: :cascade, comment: \"\u8077\u54e1\" do |t|\n     t.string   \"email\",                            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"email_for_index\",                  null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string   \"family_name\",                      null: false, comment: \"\u59d3\"\n@@ -193,7 +193,7 @@ ActiveRecord::Schema.define(version: 20170327081649) do\n     t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\", using: :btree\n   end\n\n-  create_table \"tags\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", comment: \"\u30bf\u30b0\" do |t|\n+  create_table \"tags\", force: :cascade, comment: \"\u30bf\u30b0\" do |t|\n     t.string   \"value\",      null: false\n     t.datetime \"created_at\", null: false\n     t.datetime \"updated_at\", null: false\n</code></pre>"},{"location":"journal/20170328/#_13","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20250424/","title":"\u4f5c\u696d\u5c65\u6b74 2025-04-24","text":""},{"location":"journal/20250424/#_1","title":"\u6982\u8981","text":"<p>2025-04-24\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u30b7\u30b9\u30c6\u30e0\u306e\u73fe\u72b6\u5206\u6790\u3068\u3057\u3066\u300c\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6982\u8981\u300d\u3068\u300c\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u300d\u306e2\u3064\u306e\u91cd\u8981\u306a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u3089\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u3001Baukis-Kai\u30b7\u30b9\u30c6\u30e0\u306e\u69cb\u9020\u3001\u6a5f\u80fd\u3001\u304a\u3088\u3073\u5229\u7528\u30d1\u30bf\u30fc\u30f3\u3092\u5305\u62ec\u7684\u306b\u8aac\u660e\u3057\u3001\u958b\u767a\u30c1\u30fc\u30e0\u3084\u65b0\u3057\u3044\u30e1\u30f3\u30d0\u30fc\u304c\u30b7\u30b9\u30c6\u30e0\u3092\u7406\u89e3\u3059\u308b\u305f\u3081\u306e\u57fa\u76e4\u3068\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"journal/20250424/#49163f7-","title":"\u30b3\u30df\u30c3\u30c8: 49163f7 - \u30b7\u30b9\u30c6\u30e0\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u4f5c\u6210","text":""},{"location":"journal/20250424/#_2","title":"\u6982\u8981","text":"<p>\u30b7\u30b9\u30c6\u30e0\u306e\u73fe\u72b6\u5206\u6790\u3068\u3057\u3066\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3068\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u95a2\u3059\u308b\u8a73\u7d30\u306a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u3089\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u3001\u30b7\u30b9\u30c6\u30e0\u306e\u5168\u4f53\u50cf\u3092\u628a\u63e1\u3057\u3001\u4eca\u5f8c\u306e\u958b\u767a\u3084\u4fdd\u5b88\u4f5c\u696d\u306e\u6307\u91dd\u3068\u306a\u308b\u3053\u3068\u3092\u76ee\u7684\u3068\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20250424/#_3","title":"\u6280\u8853\u7684\u8a73\u7d30","text":"<ul> <li>\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6982\u8981: \u30b7\u30b9\u30c6\u30e0\u306e\u69cb\u9020\u3001\u5c64\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u9593\u306e\u95a2\u4fc2\u3092\u8a73\u7d30\u306b\u8aac\u660e</li> <li>\u30b7\u30b9\u30c6\u30e0\u6982\u8981\u3068\u4e3b\u8981\u6a5f\u80fd</li> <li>3\u3064\u306e\u4e3b\u8981\u30b5\u30d6\u30b7\u30b9\u30c6\u30e0\uff08\u30b9\u30bf\u30c3\u30d5\u3001\u9867\u5ba2\u3001\u7ba1\u7406\u8005\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\uff09</li> <li>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5c64\u69cb\u9020\uff08MVC\u62e1\u5f35\uff09</li> <li>\u540d\u524d\u7a7a\u9593\u3068\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u69cb\u9020</li> <li>\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3068\u305d\u306e\u95a2\u9023</li> <li>\u30d3\u30b8\u30cd\u30b9\u30d5\u30ed\u30fc</li> <li>\u8a8d\u8a3c\u30fb\u8a8d\u53ef\u30b7\u30b9\u30c6\u30e0</li> <li>\u914d\u7f6e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3</li> <li> <p>\u958b\u767a\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3</p> </li> <li> <p>\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9: \u30b7\u30b9\u30c6\u30e0\u306e\u5229\u7528\u30d1\u30bf\u30fc\u30f3\u3092\u8a73\u7d30\u306b\u8aac\u660e</p> </li> <li>\u30a2\u30af\u30bf\u30fc\uff08\u8077\u54e1\u3001\u9867\u5ba2\u3001\u7ba1\u7406\u8005\uff09\u306e\u5b9a\u7fa9</li> <li>\u5404\u30a2\u30af\u30bf\u30fc\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u8a73\u7d30</li> <li>\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u95a2\u9023\u56f3</li> </ul>"},{"location":"journal/20250424/#_4","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>docs:\u73fe\u72b6\u5206\u6790\n</code></pre>"},{"location":"journal/20250424/#_5","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A \"docs/\\343\\202\\242\\343\\203\\274\\343\\202\\255\\343\\203\\206\\343\\202\\257\\343\\203\\201\\343\\203\\243\\346\\246\\202\\350\\246\\201.md\"</li> <li>A \"docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\"</li> </ul>"},{"location":"journal/20250424/#_6","title":"\u5909\u66f4\u5185\u5bb9","text":"<p><pre><code>commit 49163f777eaed28780efdfe817f6749908e196cd\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Apr 24 18:47:02 2025 +0900\n\n    docs:\u73fe\u72b6\u5206\u6790\n\ndiff --git \"a/docs/\\343\\202\\242\\343\\203\\274\\343\\202\\255\\343\\203\\206\\343\\202\\257\\343\\203\\201\\343\\203\\243\\346\\246\\202\\350\\246\\201.md\" \"b/docs/\\343\\202\\242\\343\\203\\274\\343\\202\\255\\343\\203\\206\\343\\202\\257\\343\\203\\201\\343\\203\\243\\346\\246\\202\\350\\246\\201.md\"\nnew file mode 100644\nindex 0000000..d91f3e0\n--- /dev/null\n+++ \"b/docs/\\343\\202\\242\\343\\203\\274\\343\\202\\255\\343\\203\\206\\343\\202\\257\\343\\203\\201\\343\\203\\243\\346\\246\\202\\350\\246\\201.md\"\n@@ -0,0 +1,412 @@\n+# Baukis-Kai \u30b7\u30b9\u30c6\u30e0\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6982\u8981\n+\n+## 1. \u30b7\u30b9\u30c6\u30e0\u6982\u8981\n+\n+Baukis-Kai\u306f\u9867\u5ba2\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u3067\u3001\u4e3b\u306b\u4ee5\u4e0b\u306e\u6a5f\u80fd\u3092\u63d0\u4f9b\u3057\u307e\u3059:\n+\n+- \u30b9\u30bf\u30c3\u30d5\u306b\u3088\u308b\u9867\u5ba2\u60c5\u5831\u7ba1\u7406\n+- \u9867\u5ba2\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u4e88\u7d04\u304a\u3088\u3073\u53c2\u52a0\u7ba1\u7406\n+- \u9867\u5ba2\u3068\u30b9\u30bf\u30c3\u30d5\u9593\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0\n+- \u7ba1\u7406\u8005\u306b\u3088\u308b\u30b9\u30bf\u30c3\u30d5\u7ba1\u7406\u3068\u30b7\u30b9\u30c6\u30e0\u8a2d\u5b9a\n+\n+## 2. \u30b7\u30b9\u30c6\u30e0\u69cb\u6210\n+\n+\u30b7\u30b9\u30c6\u30e0\u306f\u4ee5\u4e0b\u306e3\u3064\u306e\u4e3b\u8981\u306a\u30b5\u30d6\u30b7\u30b9\u30c6\u30e0\u306b\u5206\u304b\u308c\u3066\u3044\u307e\u3059:\n+\n+1. **\u30b9\u30bf\u30c3\u30d5\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9**: \u30b9\u30bf\u30c3\u30d5\u304c\u9867\u5ba2\u60c5\u5831\u3084\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\n+2. **\u9867\u5ba2\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9**: \u9867\u5ba2\u304c\u81ea\u8eab\u306e\u60c5\u5831\u3001\u4e88\u7d04\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\n+3. **\u7ba1\u7406\u8005\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9**: \u30b7\u30b9\u30c6\u30e0\u5168\u4f53\u3068\u30b9\u30bf\u30c3\u30d5\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u7ba1\u7406\u8005\u7528\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\n+\n+## 3. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5c64\u69cb\u9020\n+\n+Rails\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u62e1\u5f35\u7248MVC\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u57fa\u3065\u3044\u3066\u304a\u308a\u3001\u4ee5\u4e0b\u306e\u5c64\u306b\u5206\u304b\u308c\u3066\u3044\u307e\u3059:\n+\n+&lt;img src=\"data:image/svg+xml;base64,PCFkb2N0eXBlIGh0bWw+PGh0bWwgbGFuZz0iZW4iPjxoZWFkPjxzY3JpcHQ+dmFyIF9fZXpIdHRwQ29uc2VudD17c2V0QnlDYXQ6ZnVuY3Rpb24oc3JjLHRhZ1R5cGUsYXR0cmlidXRlcyxjYXRlZ29yeSxmb3JjZSxjdXN0b21TZXRTY3JpcHRGbj1udWxsKXt2YXIgc2V0U2NyaXB0PWZ1bmN0aW9uKCl7aWYoZm9yY2V8fHdpbmRvdy5lelRjZkNvbnNlbnRbY2F0ZWdvcnldKXtpZih0eXBlb2YgY3VzdG9tU2V0U2NyaXB0Rm49PT0nZnVuY3Rpb24nKXtjdXN0b21TZXRTY3JpcHRGbigpO31lbHNle3ZhciBzY3JpcHRFbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnVHlwZSk7c2NyaXB0RWxlbWVudC5zcmM9c3JjO2F0dHJpYnV0ZXMuZm9yRWFjaChmdW5jdGlvbihhdHRyKXtmb3IodmFyIGtleSBpbiBhdHRyKXtpZihhdHRyLmhhc093blByb3BlcnR5KGtleSkpe3NjcmlwdEVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSxhdHRyW2tleV0pO319fSk7dmFyIGZpcnN0U2NyaXB0PWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZ1R5cGUpWzBdO2ZpcnN0U2NyaXB0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNjcmlwdEVsZW1lbnQsZmlyc3RTY3JpcHQpO319fTtpZihmb3JjZXx8KHdpbmRvdy5lelRjZkNvbnNlbnQmJndpbmRvdy5lelRjZkNvbnNlbnQubG9hZGVkKSl7c2V0U2NyaXB0KCk7fWVsc2UgaWYodHlwZW9mIGdldEV6Q29uc2VudERhdGE9PT0iZnVuY3Rpb24iKXtnZXRFekNvbnNlbnREYXRhKCkudGhlbihmdW5jdGlvbihlelRjZkNvbnNlbnQpe2lmKGV6VGNmQ29uc2VudCYmZXpUY2ZDb25zZW50LmxvYWRlZCl7c2V0U2NyaXB0KCk7fWVsc2V7Y29uc29sZS5lcnJvcigiY2Fubm90IGdldCBleiBjb25zZW50IGRhdGEiKTtmb3JjZT10cnVlO3NldFNjcmlwdCgpO319KTt9ZWxzZXtmb3JjZT10cnVlO3NldFNjcmlwdCgpO2NvbnNvbGUuZXJyb3IoImdldEV6Q29uc2VudERhdGEgaXMgbm90IGEgZnVuY3Rpb24iKTt9fSx9Ozwvc2NyaXB0Pgo8c2NyaXB0PnZhciBlelRjZkNvbnNlbnQ9d2luZG93LmV6VGNmQ29uc2VudD93aW5kb3cuZXpUY2ZDb25zZW50Ontsb2FkZWQ6ZmFsc2Usc3RvcmVfaW5mbzpmYWxzZSxkZXZlbG9wX2FuZF9pbXByb3ZlX3NlcnZpY2VzOmZhbHNlLG1lYXN1cmVfYWRfcGVyZm9ybWFuY2U6ZmFsc2UsbWVhc3VyZV9jb250ZW50X3BlcmZvcm1hbmNlOmZhbHNlLHNlbGVjdF9iYXNpY19hZHM6ZmFsc2UsY3JlYXRlX2FkX3Byb2ZpbGU6ZmFsc2Usc2VsZWN0X3BlcnNvbmFsaXplZF9hZHM6ZmFsc2UsY3JlYXRlX2NvbnRlbnRfcHJvZmlsZTpmYWxzZSxzZWxlY3RfcGVyc29uYWxpemVkX2NvbnRlbnQ6ZmFsc2UsdW5kZXJzdGFuZF9hdWRpZW5jZXM6ZmFsc2UsdXNlX2xpbWl0ZWRfZGF0YV90b19zZWxlY3RfY29udGVudDpmYWxzZSx9O2Z1bmN0aW9uIGdldEV6Q29uc2VudERhdGEoKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiZXpDb25zZW50RXZlbnQiLGZ1bmN0aW9uKGV2ZW50KXt2YXIgZXpUY2ZDb25zZW50PWV2ZW50LmRldGFpbC5lelRjZkNvbnNlbnQ7cmVzb2x2ZShlelRjZkNvbnNlbnQpO30pO30pO308L3NjcmlwdD4KPHNjcmlwdD5pZih0eXBlb2YgX3NldEV6Q29va2llcyE9PSdmdW5jdGlvbicpe2Z1bmN0aW9uIF9zZXRFekNvb2tpZXMoZXpDb25zZW50RGF0YSl7dmFyIGNvb2tpZXM9d2luZG93LmV6Q29va2llUXVldWU7Zm9yKHZhciBpPTA7aTxjb29raWVzLmxlbmd0aDtpKyspe3ZhciBjb29raWU9Y29va2llc1tpXTtpZihlekNvbnNlbnREYXRhJiZlekNvbnNlbnREYXRhLmxvYWRlZCYmZXpDb25zZW50RGF0YVtjb29raWUudGNmQ2F0ZWdvcnldKXtkb2N1bWVudC5jb29raWU9Y29va2llLm5hbWUrIj0iK2Nvb2tpZS52YWx1ZTt9fX19CndpbmRvdy5lekNvb2tpZVF1ZXVlPXdpbmRvdy5lekNvb2tpZVF1ZXVlfHxbXTtpZih0eXBlb2YgYWRkRXpDb29raWVzIT09J2Z1bmN0aW9uJyl7ZnVuY3Rpb24gYWRkRXpDb29raWVzKGFycil7d2luZG93LmV6Q29va2llUXVldWU9Wy4uLndpbmRvdy5lekNvb2tpZVF1ZXVlLC4uLmFycl07fX0KYWRkRXpDb29raWVzKFtdKTtpZih3aW5kb3cuZXpUY2ZDb25zZW50JiZ3aW5kb3cuZXpUY2ZDb25zZW50LmxvYWRlZCl7X3NldEV6Q29va2llcyh3aW5kb3cuZXpUY2ZDb25zZW50KTt9ZWxzZSBpZih0eXBlb2YgZ2V0RXpDb25zZW50RGF0YT09PSJmdW5jdGlvbiIpe2dldEV6Q29uc2VudERhdGEoKS50aGVuKGZ1bmN0aW9uKGV6VGNmQ29uc2VudCl7aWYoZXpUY2ZDb25zZW50JiZlelRjZkNvbnNlbnQubG9hZGVkKXtfc2V0RXpDb29raWVzKHdpbmRvdy5lelRjZkNvbnNlbnQpO31lbHNle2NvbnNvbGUuZXJyb3IoImNhbm5vdCBnZXQgZXogY29uc2VudCBkYXRhIik7X3NldEV6Q29va2llcyh3aW5kb3cuZXpUY2ZDb25zZW50KTt9fSk7fWVsc2V7Y29uc29sZS5lcnJvcigiZ2V0RXpDb25zZW50RGF0YSBpcyBub3QgYSBmdW5jdGlvbiIpO19zZXRFekNvb2tpZXMod2luZG93LmV6VGNmQ29uc2VudCk7fTwvc2NyaXB0Pjx0aXRsZT5IVFRQIFN0YXR1cyA0MDAg4oCTIEJhZCBSZXF1ZXN0PC90aXRsZT48c3R5bGUgdHlwZT0idGV4dC9jc3MiPmJvZHkge2ZvbnQtZmFtaWx5OlRhaG9tYSxBcmlhbCxzYW5zLXNlcmlmO30gaDEsIGgyLCBoMywgYiB7Y29sb3I6d2hpdGU7YmFja2dyb3VuZC1jb2xvcjojNTI1RDc2O30gaDEge2ZvbnQtc2l6ZToyMnB4O30gaDIge2ZvbnQtc2l6ZToxNnB4O30gaDMge2ZvbnQtc2l6ZToxNHB4O30gcCB7Zm9udC1zaXplOjEycHg7fSBhIHtjb2xvcjpibGFjazt9IC5saW5lIHtoZWlnaHQ6MXB4O2JhY2tncm91bmQtY29sb3I6IzUyNUQ3Njtib3JkZXI6bm9uZTt9PC9zdHlsZT48L2hlYWQ+PGJvZHk+PGgxPkhUVFAgU3RhdHVzIDQwMCDigJMgQmFkIFJlcXVlc3Q8L2gxPjxociBjbGFzcz0ibGluZSIgLz48cD48Yj5UeXBlPC9iPiBFeGNlcHRpb24gUmVwb3J0PC9wPjxwPjxiPk1lc3NhZ2U8L2I+IFJlcXVlc3QgaGVhZGVyIGlzIHRvbyBsYXJnZTwvcD48cD48Yj5EZXNjcmlwdGlvbjwvYj4gVGhlIHNlcnZlciBjYW5ub3Qgb3Igd2lsbCBub3QgcHJvY2VzcyB0aGUgcmVxdWVzdCBkdWUgdG8gc29tZXRoaW5nIHRoYXQgaXMgcGVyY2VpdmVkIHRvIGJlIGEgY2xpZW50IGVycm9yIChlLmcuLCBtYWxmb3JtZWQgcmVxdWVzdCBzeW50YXgsIGludmFsaWQgcmVxdWVzdCBtZXNzYWdlIGZyYW1pbmcsIG9yIGRlY2VwdGl2ZSByZXF1ZXN0IHJvdXRpbmcpLjwvcD48cD48Yj5FeGNlcHRpb248L2I+PC9wPjxwcmU+amF2YS5sYW5nLklsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbjogUmVxdWVzdCBoZWFkZXIgaXMgdG9vIGxhcmdlCglvcmcuYXBhY2hlLmNveW90ZS5odHRwMTEuSHR0cDExSW5wdXRCdWZmZXIuZmlsbChIdHRwMTFJbnB1dEJ1ZmZlci5qYXZhOjc3OCkKCW9yZy5hcGFjaGUuY295b3RlLmh0dHAxMS5IdHRwMTFJbnB1dEJ1ZmZlci5wYXJzZVJlcXVlc3RMaW5lKEh0dHAxMUlucHV0QnVmZmVyLmphdmE6NDQyKQoJb3JnLmFwYWNoZS5jb3lvdGUuaHR0cDExLkh0dHAxMVByb2Nlc3Nvci5zZXJ2aWNlKEh0dHAxMVByb2Nlc3Nvci5qYXZhOjI1NikKCW9yZy5hcGFjaGUuY295b3RlLkFic3RyYWN0UHJvY2Vzc29yTGlnaHQucHJvY2VzcyhBYnN0cmFjdFByb2Nlc3NvckxpZ2h0LmphdmE6NjMpCglvcmcuYXBhY2hlLmNveW90ZS5BYnN0cmFjdFByb3RvY29sJENvbm5lY3Rpb25IYW5kbGVyLnByb2Nlc3MoQWJzdHJhY3RQcm90b2NvbC5qYXZhOjkzNykKCW9yZy5hcGFjaGUudG9tY2F0LnV0aWwubmV0Lk5pb0VuZHBvaW50JFNvY2tldFByb2Nlc3Nvci5kb1J1bihOaW9FbmRwb2ludC5qYXZhOjE3OTEpCglvcmcuYXBhY2hlLnRvbWNhdC51dGlsLm5ldC5Tb2NrZXRQcm9jZXNzb3JCYXNlLnJ1bihTb2NrZXRQcm9jZXNzb3JCYXNlLmphdmE6NTIpCglvcmcuYXBhY2hlLnRvbWNhdC51dGlsLnRocmVhZHMuVGhyZWFkUG9vbEV4ZWN1dG9yLnJ1bldvcmtlcihUaHJlYWRQb29sRXhlY3V0b3IuamF2YToxMTkwKQoJb3JnLmFwYWNoZS50b21jYXQudXRpbC50aHJlYWRzLlRocmVhZFBvb2xFeGVjdXRvciRXb3JrZXIucnVuKFRocmVhZFBvb2xFeGVjdXRvci5qYXZhOjY1OSkKCW9yZy5hcGFjaGUudG9tY2F0LnV0aWwudGhyZWFkcy5UYXNrVGhyZWFkJFdyYXBwaW5nUnVubmFibGUucnVuKFRhc2tUaHJlYWQuamF2YTo2MykKCWphdmEuYmFzZSYjNDc7amF2YS5sYW5nLlRocmVhZC5ydW4oVGhyZWFkLmphdmE6ODI5KQo8L3ByZT48cD48Yj5Ob3RlPC9iPiBUaGUgZnVsbCBzdGFjayB0cmFjZSBvZiB0aGUgcm9vdCBjYXVzZSBpcyBhdmFpbGFibGUgaW4gdGhlIHNlcnZlciBsb2dzLjwvcD48aHIgY2xhc3M9ImxpbmUiIC8+PGgzPkFwYWNoZSBUb21jYXQvOS4wLjk1PC9oMz48c2NyaXB0IGRhdGEtY2Zhc3luYz0iZmFsc2UiPmZ1bmN0aW9uIF9lbWl0RXpDb25zZW50RXZlbnQoKXt2YXIgY3VzdG9tRXZlbnQ9bmV3IEN1c3RvbUV2ZW50KCJlekNvbnNlbnRFdmVudCIse2RldGFpbDp7ZXpUY2ZDb25zZW50OndpbmRvdy5lelRjZkNvbnNlbnR9LGJ1YmJsZXM6dHJ1ZSxjYW5jZWxhYmxlOnRydWUsfSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7fQooZnVuY3Rpb24od2luZG93LGRvY3VtZW50KXtmdW5jdGlvbiBfc2V0QWxsRXpDb25zZW50VHJ1ZSgpe3dpbmRvdy5lelRjZkNvbnNlbnQubG9hZGVkPXRydWU7d2luZG93LmV6VGNmQ29uc2VudC5zdG9yZV9pbmZvPXRydWU7d2luZG93LmV6VGNmQ29uc2VudC5kZXZlbG9wX2FuZF9pbXByb3ZlX3NlcnZpY2VzPXRydWU7d2luZG93LmV6VGNmQ29uc2VudC5tZWFzdXJlX2FkX3BlcmZvcm1hbmNlPXRydWU7d2luZG93LmV6VGNmQ29uc2VudC5tZWFzdXJlX2NvbnRlbnRfcGVyZm9ybWFuY2U9dHJ1ZTt3aW5kb3cuZXpUY2ZDb25zZW50LnNlbGVjdF9iYXNpY19hZHM9dHJ1ZTt3aW5kb3cuZXpUY2ZDb25zZW50LmNyZWF0ZV9hZF9wcm9maWxlPXRydWU7d2luZG93LmV6VGNmQ29uc2VudC5zZWxlY3RfcGVyc29uYWxpemVkX2Fkcz10cnVlO3dpbmRvdy5lelRjZkNvbnNlbnQuY3JlYXRlX2NvbnRlbnRfcHJvZmlsZT10cnVlO3dpbmRvdy5lelRjZkNvbnNlbnQuc2VsZWN0X3BlcnNvbmFsaXplZF9jb250ZW50PXRydWU7d2luZG93LmV6VGNmQ29uc2VudC51bmRlcnN0YW5kX2F1ZGllbmNlcz10cnVlO3dpbmRvdy5lelRjZkNvbnNlbnQudXNlX2xpbWl0ZWRfZGF0YV90b19zZWxlY3RfY29udGVudD10cnVlO3dpbmRvdy5lelRjZkNvbnNlbnQuc2VsZWN0X3BlcnNvbmFsaXplZF9jb250ZW50PXRydWU7fQpmdW5jdGlvbiBfY2xlYXJFekNvbnNlbnRDb29raWUoKXtkb2N1bWVudC5jb29raWU9ImV6Q01QQ29va2llQ29uc2VudD10Y2YyO0RvbWFpbj0ucGxhbnR1bWwuY29tO1BhdGg9LztleHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDAgR01UIjt9Cl9jbGVhckV6Q29uc2VudENvb2tpZSgpO2lmKHR5cGVvZiB3aW5kb3cuX190Y2ZhcGkhPT0idW5kZWZpbmVkIil7d2luZG93LmV6Z2NvbnNlbnQ9ZmFsc2U7dmFyIGFtYXpvbkhhc1J1bj1mYWxzZTtmdW5jdGlvbiBfZXpBbGxvd2VkKHRjZGF0YSxwdXJwb3NlKXtyZXR1cm4odGNkYXRhLnB1cnBvc2UuY29uc2VudHNbcHVycG9zZV18fHRjZGF0YS5wdXJwb3NlLmxlZ2l0aW1hdGVJbnRlcmVzdHNbcHVycG9zZV0pO30KZnVuY3Rpb24gX2hhbmRsZUNvbnNlbnREZWNpc2lvbih0Y2RhdGEpe3dpbmRvdy5lelRjZkNvbnNlbnQubG9hZGVkPXRydWU7aWYoIXRjZGF0YS52ZW5kb3IuY29uc2VudHNbIjM0NyJdJiYhdGNkYXRhLnZlbmRvci5sZWdpdGltYXRlSW50ZXJlc3RzWyIzNDciXSl7d2luZG93Ll9lbWl0RXpDb25zZW50RXZlbnQoKTtyZXR1cm47fQp3aW5kb3cuZXpUY2ZDb25zZW50LnN0b3JlX2luZm89X2V6QWxsb3dlZCh0Y2RhdGEsIjEiKTt3aW5kb3cuZXpUY2ZDb25zZW50LmRldmVsb3BfYW5kX2ltcHJvdmVfc2VydmljZXM9X2V6QWxsb3dlZCh0Y2RhdGEsIjEwIik7d2luZG93LmV6VGNmQ29uc2VudC5tZWFzdXJlX2NvbnRlbnRfcGVyZm9ybWFuY2U9X2V6QWxsb3dlZCh0Y2RhdGEsIjgiKTt3aW5kb3cuZXpUY2ZDb25zZW50LnNlbGVjdF9iYXNpY19hZHM9X2V6QWxsb3dlZCh0Y2RhdGEsIjIiKTt3aW5kb3cuZXpUY2ZDb25zZW50LmNyZWF0ZV9hZF9wcm9maWxlPV9lekFsbG93ZWQodGNkYXRhLCIzIik7d2luZG93LmV6VGNmQ29uc2VudC5zZWxlY3RfcGVyc29uYWxpemVkX2Fkcz1fZXpBbGxvd2VkKHRjZGF0YSwiNCIpO3dpbmRvdy5lelRjZkNvbnNlbnQuY3JlYXRlX2NvbnRlbnRfcHJvZmlsZT1fZXpBbGxvd2VkKHRjZGF0YSwiNSIpO3dpbmRvdy5lelRjZkNvbnNlbnQubWVhc3VyZV9hZF9wZXJmb3JtYW5jZT1fZXpBbGxvd2VkKHRjZGF0YSwiNyIpO3dpbmRvdy5lelRjZkNvbnNlbnQudXNlX2xpbWl0ZWRfZGF0YV90b19zZWxlY3RfY29udGVudD1fZXpBbGxvd2VkKHRjZGF0YSwiMTEiKTt3aW5kb3cuZXpUY2ZDb25zZW50LnNlbGVjdF9wZXJzb25hbGl6ZWRfY29udGVudD1fZXpBbGxvd2VkKHRjZGF0YSwiNiIpO3dpbmRvdy5lelRjZkNvbnNlbnQudW5kZXJzdGFuZF9hdWRpZW5jZXM9X2V6QWxsb3dlZCh0Y2RhdGEsIjkiKTt3aW5kb3cuX2VtaXRFekNvbnNlbnRFdmVudCgpO30KZnVuY3Rpb24gX2hhbmRsZUdvb2dsZUNvbnNlbnRWMih0Y2RhdGEpe2lmKCF0Y2RhdGF8fCF0Y2RhdGEucHVycG9zZXx8IXRjZGF0YS5wdXJwb3NlLmNvbnNlbnRzKXtyZXR1cm47fQp2YXIgZ29vZ0NvbnNlbnRWMj17fTtpZih0Y2RhdGEucHVycG9zZS5jb25zZW50c1sxXSl7Z29vZ0NvbnNlbnRWMi5hZF9zdG9yYWdlPSdncmFudGVkJztnb29nQ29uc2VudFYyLmFuYWx5dGljc19zdG9yYWdlPSdncmFudGVkJzt9CmlmKHRjZGF0YS5wdXJwb3NlLmNvbnNlbnRzWzNdJiZ0Y2RhdGEucHVycG9zZS5jb25zZW50c1s0XSl7Z29vZ0NvbnNlbnRWMi5hZF9wZXJzb25hbGl6YXRpb249J2dyYW50ZWQnO30KaWYodGNkYXRhLnB1cnBvc2UuY29uc2VudHNbMV0mJnRjZGF0YS5wdXJwb3NlLmNvbnNlbnRzWzddKXtnb29nQ29uc2VudFYyLmFkX3VzZXJfZGF0YT0nZ3JhbnRlZCc7fQppZihnb29nQ29uc2VudFYyLmFuYWx5dGljc19zdG9yYWdlPT0nZGVuaWVkJyl7Z3RhZygnc2V0JywndXJsX3Bhc3N0aHJvdWdoJyx0cnVlKTt9Cmd0YWcoJ2NvbnNlbnQnLCd1cGRhdGUnLGdvb2dDb25zZW50VjIpO30KX190Y2ZhcGkoImFkZEV2ZW50TGlzdGVuZXIiLDIsZnVuY3Rpb24odGNkYXRhLHN1Y2Nlc3Mpe2lmKCFzdWNjZXNzfHwhdGNkYXRhKXt3aW5kb3cuX2VtaXRFekNvbnNlbnRFdmVudCgpO3JldHVybjt9CmlmKCF0Y2RhdGEuZ2RwckFwcGxpZXMpe19zZXRBbGxFekNvbnNlbnRUcnVlKCk7d2luZG93Ll9lbWl0RXpDb25zZW50RXZlbnQoKTtyZXR1cm47fQppZih0Y2RhdGEuZXZlbnRTdGF0dXM9PT0idXNlcmFjdGlvbmNvbXBsZXRlInx8dGNkYXRhLmV2ZW50U3RhdHVzPT09InRjbG9hZGVkIil7aWYodHlwZW9mIGd0YWchPSd1bmRlZmluZWQnKXtfaGFuZGxlR29vZ2xlQ29uc2VudFYyKHRjZGF0YSk7fQpfaGFuZGxlQ29uc2VudERlY2lzaW9uKHRjZGF0YSk7aWYodGNkYXRhLnB1cnBvc2UuY29uc2VudHNbIjEiXT09PXRydWUmJnRjZGF0YS52ZW5kb3IuY29uc2VudHNbIjc1NSJdIT09ZmFsc2Upe3dpbmRvdy5lemdjb25zZW50PXRydWU7KGFkc2J5Z29vZ2xlPXdpbmRvdy5hZHNieWdvb2dsZXx8W10pLnBhdXNlQWRSZXF1ZXN0cz0wO30KaWYod2luZG93Ll9fZXpjb25zZW50KXtfX2V6Y29uc2VudC5zZXRFem9pY0NvbnNlbnRTZXR0aW5ncyhlekNvbnNlbnRDYXRlZ29yaWVzKTt9Cl9fdGNmYXBpKCJyZW1vdmVFdmVudExpc3RlbmVyIiwyLGZ1bmN0aW9uKHN1Y2Nlc3Mpe3JldHVybiBudWxsO30sdGNkYXRhLmxpc3RlbmVySWQpO2lmKCEodGNkYXRhLnB1cnBvc2UuY29uc2VudHNbIjEiXT09PXRydWUmJl9lekFsbG93ZWQodGNkYXRhLCIyIikmJl9lekFsbG93ZWQodGNkYXRhLCIzIikmJl9lekFsbG93ZWQodGNkYXRhLCI0IikpKXtpZih0eXBlb2YgX19lej09Im9iamVjdCImJnR5cGVvZiBfX2V6LmJpdD09Im9iamVjdCImJnR5cGVvZiB3aW5kb3dbIl9lemFxIl09PSJvYmplY3QiJiZ0eXBlb2Ygd2luZG93WyJfZXphcSJdWyJwYWdlX3ZpZXdfaWQiXT09InN0cmluZyIpe19fZXouYml0LkFkZCh3aW5kb3dbIl9lemFxIl1bInBhZ2Vfdmlld19pZCJdLFtuZXcgX19lekRvdERhdGEoIm5vbl9wZXJzb25hbGl6ZWRfYWRzIix0cnVlKSxdKTt9fX19KTt9ZWxzZXtfc2V0QWxsRXpDb25zZW50VHJ1ZSgpO3dpbmRvdy5fZW1pdEV6Q29uc2VudEV2ZW50KCk7fX0pKHdpbmRvdyxkb2N1bWVudCk7PC9zY3JpcHQ+PC9ib2R5PjwvaHRtbD4=\" class=\"uml\" alt=\"uml diagram\" title=\"\" /&gt;\n\n## \u30b3\u30df\u30c3\u30c8: f6d663a\n\n### \u30e1\u30c3\u30bb\u30fc\u30b8\n</code></pre> build:\u30ec\u30b9\u30c8\u30a2 <pre><code>### \u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\n\n- M .devcontainer/devcontainer.json\n- M Dockerfile\n- A Dockerfile-base\n- M README.md\n- M docker-compose.yml\n\n### \u5909\u66f4\u5185\u5bb9\n\n```diff\ncommit f6d663a639d8545e7b41788280fa5da2561c8291\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Apr 24 17:13:56 2025 +0900\n\n    build:\u30ec\u30b9\u30c8\u30a2\n\ndiff --git a/.devcontainer/devcontainer.json b/.devcontainer/devcontainer.json\nindex 52f7251..55a3816 100644\n--- a/.devcontainer/devcontainer.json\n+++ b/.devcontainer/devcontainer.json\n@@ -2,7 +2,6 @@\n // README at: https://github.com/devcontainers/templates/tree/main/src/docker-in-docker\n {\n    \"name\": \"Docker in Docker\",\n-   // Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile\n    \"image\": \"baukis-kai\",\n\n    \"features\": {\ndiff --git a/Dockerfile b/Dockerfile\nindex 91daa36..c68b6cd 100644\n--- a/Dockerfile\n+++ b/Dockerfile\n@@ -1,90 +1,4 @@\n-FROM ubuntu:18.04\n-\n-# Setup locale\n-RUN \\\n-apt-get -yq update &amp;&amp; \\\n-apt-get install -y language-pack-ja-base language-pack-ja\n-RUN update-locale LANG=ja_JP.UTF-8 LANGUAGE=ja_JP:ja\n-ENV LANG=ja_JP.UTF-8\n-ENV LC_ALL=ja_JP.UTF-8\n-ENV LC_CTYPE=ja_JP.UTF-8\n-\n-RUN apt-get update &amp;&amp; \\\n-    apt-get install -y \\\n-           sudo \\\n-           build-essential \\\n-           zip \\\n-           unzip \\\n-           git \\\n-           curl \\\n-           wget \\\n-           git-core \\\n-           libssl-dev \\\n-           libqt4-dev \\\n-           libc6-dev \\\n-           automake \\\n-           libtool \\\n-           libyaml-dev \\\n-           zlib1g \\\n-           zlib1g-dev \\\n-           openssl \\\n-           libreadline-dev \\\n-           libxml2-dev \\\n-           libxslt1-dev \\\n-           libncurses5-dev \\\n-           pkg-config \\\n-           chrpath \\\n-           libfontconfig1-dev \\\n-           libxft-dev \\\n-           libpq-dev \\\n-           libsqlite3-dev \\\n-           libmysqlclient-dev \\\n-           default-mysql-client \\\n-           postgresql-client \\\n-           xvfb \\\n-           qtbase5-dev \\\n-           libqt5webkit5-dev \\\n-           libqtwebkit-dev \\\n-           xauth \\\n-           libcurl4-openssl-dev \\\n-           software-properties-common \\\n-           libffi-dev \\\n-           libgdbm5 \\\n-           libgdbm-dev \\\n-           libdb-dev \\\n-           lsof \\\n-           vim\n-\n-# Ruby\n-ENV RUBY_VER 2.4.0\n-ENV BUNDLER_VER 1.13.7\n-RUN rm -rf ~/.rbenv\n-RUN git clone https://github.com/sstephenson/rbenv ~/.rbenv\n-RUN git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\n-RUN ~/.rbenv/plugins/ruby-build/install.sh\n-RUN echo 'export PATH=\"/$HOME/.rbenv/bin:$PATH\"' &gt;&gt; ~/.bash_profile\n-RUN echo 'eval \"$(rbenv init -)\"' &gt;&gt; ~/.bash_profile\n-RUN . ~/.bash_profile &amp;&amp; \\\n-         rbenv install $RUBY_VER  &amp;&amp; \\\n-         rbenv global $RUBY_VER\n-ENV PATH ~/.rbenv/shims:$PATH\n-RUN ~/.rbenv/shims/gem install bundler:$BUNDLER_VER\n-\n-# Node\n-ENV NODE_VER 16\n-RUN curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash\n-RUN . $HOME/.nvm/nvm.sh &amp;&amp; \\\n-    nvm install $NODE_VER &amp;&amp; \\\n-    nvm use $NODE_VER &amp;&amp; \\\n-    node -v &amp;&amp; npm -v &amp;&amp; \\\n-    npm i -g yarn\n-RUN apt install -y nodejs\n-\n-# Workaround for Ruby\n-RUN apt-get install -y libmysqlclient-dev\n-RUN ~/.rbenv/shims/gem install mysql2 -v '0.4.5' --source 'https://rubygems.org/'\n-RUN apt-get install -y libssl1.0-dev\n-RUN ~/.rbenv/shims/gem install puma -v '3.6.0' --source 'https://rubygems.org/'\n+FROM baukis-kai\n\n # Bundle install\n WORKDIR /srv\n@@ -92,4 +6,6 @@ COPY Gemfile /srv/Gemfile\n COPY Gemfile.lock /srv/Gemfile.lock\n RUN ~/.rbenv/shims/bundle install\n\n-SHELL [\"/bin/bash\", \"-c\"]\n\\ No newline at end of file\n+COPY . /srv\n+\n+CMD [\"bash\", \"-c\", \"bundle exec rake assets:precompile &amp;&amp; bundle exec rake db:migrate &amp;&amp; bundle exec rails server -b 0.0.0.0\"]\ndiff --git a/Dockerfile-base b/Dockerfile-base\nnew file mode 100644\nindex 0000000..91daa36\n--- /dev/null\n+++ b/Dockerfile-base\n@@ -0,0 +1,95 @@\n+FROM ubuntu:18.04\n+\n+# Setup locale\n+RUN \\\n+apt-get -yq update &amp;&amp; \\\n+apt-get install -y language-pack-ja-base language-pack-ja\n+RUN update-locale LANG=ja_JP.UTF-8 LANGUAGE=ja_JP:ja\n+ENV LANG=ja_JP.UTF-8\n+ENV LC_ALL=ja_JP.UTF-8\n+ENV LC_CTYPE=ja_JP.UTF-8\n+\n+RUN apt-get update &amp;&amp; \\\n+    apt-get install -y \\\n+           sudo \\\n+           build-essential \\\n+           zip \\\n+           unzip \\\n+           git \\\n+           curl \\\n+           wget \\\n+           git-core \\\n+           libssl-dev \\\n+           libqt4-dev \\\n+           libc6-dev \\\n+           automake \\\n+           libtool \\\n+           libyaml-dev \\\n+           zlib1g \\\n+           zlib1g-dev \\\n+           openssl \\\n+           libreadline-dev \\\n+           libxml2-dev \\\n+           libxslt1-dev \\\n+           libncurses5-dev \\\n+           pkg-config \\\n+           chrpath \\\n+           libfontconfig1-dev \\\n+           libxft-dev \\\n+           libpq-dev \\\n+           libsqlite3-dev \\\n+           libmysqlclient-dev \\\n+           default-mysql-client \\\n+           postgresql-client \\\n+           xvfb \\\n+           qtbase5-dev \\\n+           libqt5webkit5-dev \\\n+           libqtwebkit-dev \\\n+           xauth \\\n+           libcurl4-openssl-dev \\\n+           software-properties-common \\\n+           libffi-dev \\\n+           libgdbm5 \\\n+           libgdbm-dev \\\n+           libdb-dev \\\n+           lsof \\\n+           vim\n+\n+# Ruby\n+ENV RUBY_VER 2.4.0\n+ENV BUNDLER_VER 1.13.7\n+RUN rm -rf ~/.rbenv\n+RUN git clone https://github.com/sstephenson/rbenv ~/.rbenv\n+RUN git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\n+RUN ~/.rbenv/plugins/ruby-build/install.sh\n+RUN echo 'export PATH=\"/$HOME/.rbenv/bin:$PATH\"' &gt;&gt; ~/.bash_profile\n+RUN echo 'eval \"$(rbenv init -)\"' &gt;&gt; ~/.bash_profile\n+RUN . ~/.bash_profile &amp;&amp; \\\n+         rbenv install $RUBY_VER  &amp;&amp; \\\n+         rbenv global $RUBY_VER\n+ENV PATH ~/.rbenv/shims:$PATH\n+RUN ~/.rbenv/shims/gem install bundler:$BUNDLER_VER\n+\n+# Node\n+ENV NODE_VER 16\n+RUN curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash\n+RUN . $HOME/.nvm/nvm.sh &amp;&amp; \\\n+    nvm install $NODE_VER &amp;&amp; \\\n+    nvm use $NODE_VER &amp;&amp; \\\n+    node -v &amp;&amp; npm -v &amp;&amp; \\\n+    npm i -g yarn\n+RUN apt install -y nodejs\n+\n+# Workaround for Ruby\n+RUN apt-get install -y libmysqlclient-dev\n+RUN ~/.rbenv/shims/gem install mysql2 -v '0.4.5' --source 'https://rubygems.org/'\n+RUN apt-get install -y libssl1.0-dev\n+RUN ~/.rbenv/shims/gem install puma -v '3.6.0' --source 'https://rubygems.org/'\n+\n+# Bundle install\n+WORKDIR /srv\n+COPY Gemfile /srv/Gemfile\n+COPY Gemfile.lock /srv/Gemfile.lock\n+RUN ~/.rbenv/shims/bundle install\n+\n+SHELL [\"/bin/bash\", \"-c\"]\n\\ No newline at end of file\ndiff --git a/README.md b/README.md\nindex 20b3b14..8067995 100644\n--- a/README.md\n+++ b/README.md\n@@ -42,16 +42,12 @@ Baukis \u6539\n    1. [\u691c\u7d22\u30d5\u30a9\u30fc\u30e0](#\u691c\u7d22\u30d5\u30a9\u30fc\u30e0)\n\n ## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u69cb\u7bc9\n-### Vagarnt\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n-```\n-vagrant up\n-vagrant ssh\n-```\n\n ### Docker\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n ```\n-cd /vagrant/\n-docker-compose build\n+docker build -t baukis-kai -f Dockerfile-base .\n+docker compose build\n+docker compose up -d\n ```\n\n ### \u8ffd\u52a0Gem\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\ndiff --git a/docker-compose.yml b/docker-compose.yml\nindex f15c0d7..1c4c872 100644\n--- a/docker-compose.yml\n+++ b/docker-compose.yml\n@@ -1,5 +1,18 @@\n version: '2'\n services:\n+  app:\n+    build:\n+      context: .\n+    depends_on:\n+      - db\n+    environment:\n+      MYSQL_HOST: db\n+      MYSQL_PORT: 3306\n+      MYSQL_USER: user\n+      MYSQL_PASSWORD: pass\n+      MYSQL_DATABASE: app_development\n+    ports:\n+      - \"3000:3000\"\n   db:\n     image: mysql:5.7\n     environment:\n@@ -10,33 +23,11 @@ services:\n       - 3306:3306\n     volumes:\n       - mysql-db:/var/lib/mysql\n-  web:\n-    build: .\n-    environment:\n-      - RAILS_ENV=production\n-      - RAILS_SERVE_STATIC_FILES=public\n-      - SECRET_KEY_BASE=8ea360b9c9f1fd8686e20bcf0e02ddcbcd78ad5984559739e04f343d79e44d3cecb09a2b930d0c78bfc5778026b7905a414222f43dd24db86fc076e43e4c35fa\n-      - DATABASE_URL=db\n-    command: bundle exec rails s -p 3000 -b '0.0.0.0'\n-    volumes:\n-      - .:/myapp\n-    ports:\n-      - \"3000:3000\"\n-    depends_on:\n-      - db\n-  proxy:\n-    image: nginx:1.11\n-    ports:\n-      - \"80:80\"\n-    depends_on:\n-      - web\n-    volumes:\n-      - ./nginx_default.conf:/etc/nginx/conf.d/default.conf\n\n   console:\n     build:\n       context: .\n-      dockerfile: ./Dockerfile\n+      dockerfile: Dockerfile-base\n     environment:\n       MYSQL_HOST: db\n       MYSQL_PORT: 3306\n</code></pre></p>"},{"location":"journal/20250424/#826251b","title":"\u30b3\u30df\u30c3\u30c8: 826251b","text":""},{"location":"journal/20250424/#_7","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>build:\u30d5\u30a1\u30a4\u30eb\u306e\u6574\u7406\n</code></pre>"},{"location":"journal/20250424/#_8","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .gitignore</li> <li>D .idea/.generators</li> <li>D .idea/.rakeTasks</li> <li>D .idea/misc.xml</li> <li>D .idea/modules.xml</li> <li>D .idea/vagrant.xml</li> <li>D .idea/vcs.xml</li> <li>D Jenkinsfile</li> <li>M README.md</li> <li>D Vagrantfile</li> <li>D circle.yml</li> </ul>"},{"location":"journal/20250424/#_9","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 826251ba59558977a2b089cb862f1c21b7d57cbe\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Apr 24 16:35:17 2025 +0900\n\n    build:\u30d5\u30a1\u30a4\u30eb\u306e\u6574\u7406\n\ndiff --git a/.gitignore b/.gitignore\nindex 05ce7cf..40045d9 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -106,4 +106,6 @@ bower.json\n # Ignore Byebug command history file.\n .byebug_history\n\n-public/assets/\n\\ No newline at end of file\n+public/assets/\n+.idea/\n+*.iml\n\\ No newline at end of file\ndiff --git a/.idea/.generators b/.idea/.generators\ndeleted file mode 100644\nindex a68204b..0000000\n--- a/.idea/.generators\n+++ /dev/null\n@@ -1,8 +0,0 @@\n-&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n-&lt;Settings&gt;&lt;!--This file was automatically generated by Ruby plugin.\n-You are allowed to: \n-1. Reorder generators\n-2. Remove generators\n-3. Add installed generators\n-To add new installed generators automatically delete this file and reload the project.\n---&gt;&lt;GeneratorsGroup&gt;&lt;Generator name=\"annotate:install\" /&gt;&lt;Generator name=\"assets\" /&gt;&lt;Generator name=\"channel\" /&gt;&lt;Generator name=\"coffee:assets\" /&gt;&lt;Generator name=\"controller\" /&gt;&lt;Generator name=\"erd:install\" /&gt;&lt;Generator name=\"factory_girl:model\" /&gt;&lt;Generator name=\"generator\" /&gt;&lt;Generator name=\"helper\" /&gt;&lt;Generator name=\"i18n\" /&gt;&lt;Generator name=\"i18n_locale\" /&gt;&lt;Generator name=\"i18n_translation\" /&gt;&lt;Generator name=\"integration_test\" /&gt;&lt;Generator name=\"jbuilder\" /&gt;&lt;Generator name=\"job\" /&gt;&lt;Generator name=\"js:assets\" /&gt;&lt;Generator name=\"kaminari:config\" /&gt;&lt;Generator name=\"kaminari:views\" /&gt;&lt;Generator name=\"mailer\" /&gt;&lt;Generator name=\"migration\" /&gt;&lt;Generator name=\"model\" /&gt;&lt;Generator name=\"rack:dev-mark:install\" /&gt;&lt;Generator name=\"resource\" /&gt;&lt;Generator name=\"rspec:controller\" /&gt;&lt;Generator name=\"rspec:feature\" /&gt;&lt;Generator name=\"rspec:helper\" /&gt;&lt;Generator name=\"rspec:install\" /&gt;&lt;Generator name=\"rspec:integration\" /&gt;&lt;Generator name=\"rspec:job\" /&gt;&lt;Generator name=\"rspec:mailer\" /&gt;&lt;Generator name=\"rspec:model\" /&gt;&lt;Generator name=\"rspec:observer\" /&gt;&lt;Generator name=\"rspec:request\" /&gt;&lt;Generator name=\"rspec:scaffold\" /&gt;&lt;Generator name=\"rspec:view\" /&gt;&lt;Generator name=\"scaffold\" /&gt;&lt;Generator name=\"scaffold_controller\" /&gt;&lt;Generator name=\"task\" /&gt;&lt;Generator name=\"test_unit:controller\" /&gt;&lt;Generator name=\"test_unit:generator\" /&gt;&lt;Generator name=\"test_unit:helper\" /&gt;&lt;Generator name=\"test_unit:integration\" /&gt;&lt;Generator name=\"test_unit:job\" /&gt;&lt;Generator name=\"test_unit:mailer\" /&gt;&lt;Generator name=\"test_unit:model\" /&gt;&lt;Generator name=\"test_unit:plugin\" /&gt;&lt;Generator name=\"test_unit:scaffold\" /&gt;&lt;/GeneratorsGroup&gt;&lt;/Settings&gt;\ndiff --git a/.idea/.rakeTasks b/.idea/.rakeTasks\ndeleted file mode 100644\nindex 435f846..0000000\n--- a/.idea/.rakeTasks\n+++ /dev/null\n@@ -1,7 +0,0 @@\n-&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n-&lt;Settings&gt;&lt;!--This file was automatically generated by Ruby plugin.\n-You are allowed to: \n-1. Remove rake task\n-2. Add existing rake tasks\n-To add existing rake tasks automatically delete this file and reload the project.\n---&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rake\"&gt;&lt;RakeTask description=\"List versions of all Rails frameworks and the environment\" fullCmd=\"about\" taksId=\"about\" /&gt;&lt;RakeTask description=\"Add schema information (as comments) to model and fixture files\" fullCmd=\"annotate_models\" taksId=\"annotate_models\" /&gt;&lt;RakeTask description=\"Adds the route map to routes.rb\" fullCmd=\"annotate_routes\" taksId=\"annotate_routes\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"app\"&gt;&lt;RakeTask description=\"Applies the template supplied by LOCATION=(/path/to/template) or URL\" fullCmd=\"app:template\" taksId=\"template\" /&gt;&lt;RakeTask description=\"Update configs and some other initially generated files (or use just update:configs or update:bin)\" fullCmd=\"app:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:configs\" taksId=\"configs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"app:update:upgrade_guide_info\" taksId=\"upgrade_guide_info\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"assets\"&gt;&lt;RakeTask description=\"Remove old compiled assets\" fullCmd=\"assets:clean[keep]\" taksId=\"clean[keep]\" /&gt;&lt;RakeTask description=\"Remove compiled assets\" fullCmd=\"assets:clobber\" taksId=\"clobber\" /&gt;&lt;RakeTask description=\"Load asset compile environment\" fullCmd=\"assets:environment\" taksId=\"environment\" /&gt;&lt;RakeTask description=\"Compile all the assets named in config.assets.precompile\" fullCmd=\"assets:precompile\" taksId=\"precompile\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"assets:clean\" taksId=\"clean\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache_digests\"&gt;&lt;RakeTask description=\"Lookup first-level dependencies for TEMPLATE (like messages/show or comments/_comment.html)\" fullCmd=\"cache_digests:dependencies\" taksId=\"dependencies\" /&gt;&lt;RakeTask description=\"Lookup nested dependencies for TEMPLATE (like messages/show or comments/_comment.html)\" fullCmd=\"cache_digests:nested_dependencies\" taksId=\"nested_dependencies\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"db\"&gt;&lt;RakeTask description=\"Creates the database from DATABASE_URL or config/database.yml for the current RAILS_ENV (use db:create:all to create all databases in the config). Without RAILS_ENV or when RAILS_ENV is development, it defaults to creating the development and test databases\" fullCmd=\"db:create\" taksId=\"create\" /&gt;&lt;RakeTask description=\"Drops the database from DATABASE_URL or config/database.yml for the current RAILS_ENV (use db:drop:all to drop all databases in the config). Without RAILS_ENV or when RAILS_ENV is development, it defaults to dropping the development and test databases\" fullCmd=\"db:drop\" taksId=\"drop\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"environment\"&gt;&lt;RakeTask description=\"Set the environment value for the database\" fullCmd=\"db:environment:set\" taksId=\"set\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"fixtures\"&gt;&lt;RakeTask description=\"Loads fixtures into the current environment's database\" fullCmd=\"db:fixtures:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:fixtures:identify\" taksId=\"identify\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Migrate the database (options: VERSION=x, VERBOSE=false, SCOPE=blog)\" fullCmd=\"db:migrate\" taksId=\"migrate\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"migrate\"&gt;&lt;RakeTask description=\"Display status of migrations\" fullCmd=\"db:migrate:status\" taksId=\"status\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:change\" taksId=\"change\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:down\" taksId=\"down\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:redo\" taksId=\"redo\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:reset\" taksId=\"reset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:migrate:up\" taksId=\"up\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Rolls the schema back to the previous version (specify steps w/ STEP=n)\" fullCmd=\"db:rollback\" taksId=\"rollback\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"schema\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"Clears a db/schema_cache.dump file\" fullCmd=\"db:schema:cache:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"Creates a db/schema_cache.dump file\" fullCmd=\"db:schema:cache:dump\" taksId=\"dump\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Creates a db/schema.rb file that is portable against any DB supported by Active Record\" fullCmd=\"db:schema:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"Loads a schema.rb file into the database\" fullCmd=\"db:schema:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:schema:load_if_ruby\" taksId=\"load_if_ruby\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Loads the seed data from db/seeds.rb\" fullCmd=\"db:seed\" taksId=\"seed\" /&gt;&lt;RakeTask description=\"Creates the database, loads the schema, and initializes with the seed data (use db:reset to also drop the database first)\" fullCmd=\"db:setup\" taksId=\"setup\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"structure\"&gt;&lt;RakeTask description=\"Dumps the database structure to db/structure.sql\" fullCmd=\"db:structure:dump\" taksId=\"dump\" /&gt;&lt;RakeTask description=\"Recreates the databases from the structure.sql file\" fullCmd=\"db:structure:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:structure:load_if_sql\" taksId=\"load_if_sql\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Retrieves the current schema version number\" fullCmd=\"db:version\" taksId=\"version\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:_dump\" taksId=\"_dump\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:abort_if_pending_migrations\" taksId=\"abort_if_pending_migrations\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:charset\" taksId=\"charset\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:check_protected_environments\" taksId=\"check_protected_environments\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:collation\" taksId=\"collation\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"create\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:create:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"drop\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:_unsafe\" taksId=\"_unsafe\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:drop:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:forward\" taksId=\"forward\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:load_config\" taksId=\"load_config\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge\" taksId=\"purge\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"purge\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:purge:all\" taksId=\"all\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"db:reset\" taksId=\"reset\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone\" taksId=\"clone\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_schema\" taksId=\"clone_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:clone_structure\" taksId=\"clone_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:deprecated\" taksId=\"deprecated\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load\" taksId=\"load\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_schema\" taksId=\"load_schema\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:load_structure\" taksId=\"load_structure\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"db:test:purge\" taksId=\"purge\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"dev\"&gt;&lt;RakeTask description=\"Toggle development mode caching on/off\" fullCmd=\"dev:cache\" taksId=\"cache\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Generate an Entity-Relationship Diagram based on your models\" fullCmd=\"erd\" taksId=\"erd\" /&gt;&lt;RakeTask description=\"Print out all defined initializers in the order they are invoked by Rails\" fullCmd=\"initializers\" taksId=\"initializers\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"log\"&gt;&lt;RakeTask description=\"Truncates all/specified *.log files in log/ to zero bytes (specify which logs with LOGS=test,development)\" fullCmd=\"log:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Prints out your Rack middleware stack\" fullCmd=\"middleware\" taksId=\"middleware\" /&gt;&lt;RakeTask description=\"Enumerate all annotations (use notes:optimize, :fixme, :todo for focus)\" fullCmd=\"notes\" taksId=\"notes\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"notes\"&gt;&lt;RakeTask description=\"Enumerate a custom annotation, specify with ANNOTATION=CUSTOM\" fullCmd=\"notes:custom\" taksId=\"custom\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:fixme\" taksId=\"fixme\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:optimize\" taksId=\"optimize\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"notes:todo\" taksId=\"todo\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Remove schema information from model and fixture files\" fullCmd=\"remove_annotation\" taksId=\"remove_annotation\" /&gt;&lt;RakeTask description=\"Removes the route map from routes.rb\" fullCmd=\"remove_routes\" taksId=\"remove_routes\" /&gt;&lt;RakeTask description=\"Restart app by touching tmp/restart.txt\" fullCmd=\"restart\" taksId=\"restart\" /&gt;&lt;RakeTask description=\"Print out all defined routes in match order, with names\" fullCmd=\"routes\" taksId=\"routes\" /&gt;&lt;RakeTask description=\"Generate a cryptographically secure secret key (this is typically used to generate a secret for cookie sessions)\" fullCmd=\"secret\" taksId=\"secret\" /&gt;&lt;RakeTask description=\"Run all specs in spec directory (excluding plugin specs)\" fullCmd=\"spec\" taksId=\"spec\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"spec\"&gt;&lt;RakeTask description=\"Run the code examples in spec/controllers\" fullCmd=\"spec:controllers\" taksId=\"controllers\" /&gt;&lt;RakeTask description=\"Run the code examples in spec/features\" fullCmd=\"spec:features\" taksId=\"features\" /&gt;&lt;RakeTask description=\"Run the code examples in spec/models\" fullCmd=\"spec:models\" taksId=\"models\" /&gt;&lt;RakeTask description=\"Run the code examples in spec/routing\" fullCmd=\"spec:routing\" taksId=\"routing\" /&gt;&lt;RakeTask description=\"Run the code examples in spec/services\" fullCmd=\"spec:services\" taksId=\"services\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"spec:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"spec:statsetup\" taksId=\"statsetup\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"Report code statistics (KLOCs, etc) from the application or engine\" fullCmd=\"stats\" taksId=\"stats\" /&gt;&lt;RakeTask description=\"Runs all tests in test folder\" fullCmd=\"test\" taksId=\"test\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"test\"&gt;&lt;RakeTask description=\"Run tests quickly, but also reset db\" fullCmd=\"test:db\" taksId=\"db\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:controllers\" taksId=\"controllers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:functionals\" taksId=\"functionals\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:generators\" taksId=\"generators\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:helpers\" taksId=\"helpers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:integration\" taksId=\"integration\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:jobs\" taksId=\"jobs\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:mailers\" taksId=\"mailers\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:models\" taksId=\"models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:prepare\" taksId=\"prepare\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:run\" taksId=\"run\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"test:units\" taksId=\"units\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"time\"&gt;&lt;RakeTask description=\"List all time zones, list by two-letter country code (`rails time:zones[US]`), or list by UTC offset (`rails time:zones[-8]`)\" fullCmd=\"time:zones[country_or_offset]\" taksId=\"zones[country_or_offset]\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones\" taksId=\"zones\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"zones\"&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:all\" taksId=\"all\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:local\" taksId=\"local\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"time:zones:us\" taksId=\"us\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"tmp\"&gt;&lt;RakeTask description=\"Clear cache and socket files from tmp/ (narrow w/ tmp:cache:clear, tmp:sockets:clear)\" fullCmd=\"tmp:clear\" taksId=\"clear\" /&gt;&lt;RakeTask description=\"Creates tmp directories for cache, sockets, and pids\" fullCmd=\"tmp:create\" taksId=\"create\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"cache\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:cache:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"pids\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:pids:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"sockets\"&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp:sockets:clear\" taksId=\"clear\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"default\" taksId=\"default\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"environment\" taksId=\"environment\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"erd\"&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:generate\" taksId=\"generate\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:load_models\" taksId=\"load_models\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"erd:options\" taksId=\"options\" /&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"rails\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:template\" taksId=\"template\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"templates\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:templates:copy\" taksId=\"copy\" /&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update\" taksId=\"update\" /&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"update\"&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:bin\" taksId=\"bin\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"rails:update:configs\" taksId=\"configs\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"railties\"&gt;&lt;RakeGroup description=\"\" fullCmd=\"\" taksId=\"install\"&gt;&lt;RakeTask description=\"\" fullCmd=\"railties:install:migrations\" taksId=\"migrations\" /&gt;&lt;/RakeGroup&gt;&lt;/RakeGroup&gt;&lt;RakeTask description=\"\" fullCmd=\"set_annotation_options\" taksId=\"set_annotation_options\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp\" taksId=\"tmp\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache\" taksId=\"tmp/cache\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/cache/assets\" taksId=\"tmp/cache/assets\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/pids\" taksId=\"tmp/pids\" /&gt;&lt;RakeTask description=\"\" fullCmd=\"tmp/sockets\" taksId=\"tmp/sockets\" /&gt;&lt;/RakeGroup&gt;&lt;/Settings&gt;\ndiff --git a/.idea/misc.xml b/.idea/misc.xml\ndeleted file mode 100644\nindex 5e26784..0000000\n--- a/.idea/misc.xml\n+++ /dev/null\n@@ -1,6 +0,0 @@\n-&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n-&lt;project version=\"4\"&gt;\n-  &lt;component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_1_3\" default=\"false\" project-jdk-name=\"rbenv: 2.4.0\" project-jdk-type=\"RUBY_SDK\"&gt;\n-    &lt;output url=\"file://$PROJECT_DIR$/out\" /&gt;\n-  &lt;/component&gt;\n-&lt;/project&gt;\n\\ No newline at end of file\ndiff --git a/.idea/modules.xml b/.idea/modules.xml\ndeleted file mode 100644\nindex 1f69da7..0000000\n--- a/.idea/modules.xml\n+++ /dev/null\n@@ -1,8 +0,0 @@\n-&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n-&lt;project version=\"4\"&gt;\n-  &lt;component name=\"ProjectModuleManager\"&gt;\n-    &lt;modules&gt;\n-      &lt;module fileurl=\"file://$PROJECT_DIR$/baukis-kai.iml\" filepath=\"$PROJECT_DIR$/baukis-kai.iml\" /&gt;\n-    &lt;/modules&gt;\n-  &lt;/component&gt;\n-&lt;/project&gt;\n\\ No newline at end of file\ndiff --git a/.idea/vagrant.xml b/.idea/vagrant.xml\ndeleted file mode 100644\nindex c6e2d31..0000000\n--- a/.idea/vagrant.xml\n+++ /dev/null\n@@ -1,6 +0,0 @@\n-&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n-&lt;project version=\"4\"&gt;\n-  &lt;component name=\"VagrantProjectSettings\"&gt;\n-    &lt;option name=\"instanceFolder\" value=\"$PROJECT_DIR$\" /&gt;\n-  &lt;/component&gt;\n-&lt;/project&gt;\n\\ No newline at end of file\ndiff --git a/.idea/vcs.xml b/.idea/vcs.xml\ndeleted file mode 100644\nindex 35eb1dd..0000000\n--- a/.idea/vcs.xml\n+++ /dev/null\n@@ -1,6 +0,0 @@\n-&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n-&lt;project version=\"4\"&gt;\n-  &lt;component name=\"VcsDirectoryMappings\"&gt;\n-    &lt;mapping directory=\"\" vcs=\"Git\" /&gt;\n-  &lt;/component&gt;\n-&lt;/project&gt;\n\\ No newline at end of file\ndiff --git a/Jenkinsfile b/Jenkinsfile\ndeleted file mode 100644\nindex 098e206..0000000\n--- a/Jenkinsfile\n+++ /dev/null\n@@ -1,24 +0,0 @@\n-node('master') {\n-\n-  stage 'Checkout'\n-  git url: 'https://github.com/k2works/baukis-kai.git'\n-\n-  stage 'Prepare'\n-  env.PATH = '/usr/local/bin:$HOME/.rbenv/shims:$HOME/.rbenv/bin:$PATH'\n-  sh 'eval \"$(rbenv init -)\"'\n-  sh 'rbenv local 2.4.0'\n-\n-  stage 'Prepare test'\n-  sh \"bundle install\"\n-  sh \"bundle exec rake db:migrate\"\n-  sh \"bundle exec rake db:test:prepare\"\n-\n-  stage \"Unit test\"\n-  sh \"bundle exec rspec spec/controllers/*_spec.rb\"\n-  sh \"bundle exec rspec spec/models/*_spec.rb\"\n-  sh \"bundle exec rspec spec/routing/*_spec.rb\"\n-  sh \"bundle exec rspec spec/services/*_spec.rb\"\n-\n-  stage \"Integration test\"\n-  sh \"bundle exec rspec spec/features/*_spec.rb\"\n-}\ndiff --git a/README.md b/README.md\nindex 14a6731..20b3b14 100644\n--- a/README.md\n+++ b/README.md\n@@ -10,7 +10,6 @@ Baukis \u6539\n |:---------------|:-------------|:------------|\n | ruby           |2.4.0    |             |\n | rails          |5.0.1    |             |\n-| vagrant        |1.8.7    |             |\n | docker         |1.12.5    |             |\n | docker-compose |1.8.0    |             |\n\ndiff --git a/Vagrantfile b/Vagrantfile\ndeleted file mode 100644\nindex b27838b..0000000\n--- a/Vagrantfile\n+++ /dev/null\n@@ -1,27 +0,0 @@\n-# -*- mode: ruby -*-\n-# vi: set ft=ruby :\n-\n-Vagrant.configure(\"2\") do |config|\n-  config.vm.box = \"hiroshima-arc/manhattan\"\n-  config.vm.box_version = \"1.0.0\"\n-\n-  config.vm.network :forwarded_port, guest:80, host:8888, id:\"nginx\"\n-  config.vm.network :forwarded_port, guest:3000, host:3000, id:\"rails\"\n-  config.vm.network :forwarded_port, guest:3306, host:3306, id:\"mysql\"\n-  config.vm.network :forwarded_port, guest:5432, host:5432, id:\"postgresql\"\n-  config.vm.network :forwarded_port, guest:6379, host:6379, id:\"redis\"\n-  config.vm.network :forwarded_port, guest:27017, host:27017, id:\"mongodb\"\n-  config.vm.network :forwarded_port, guest:8080, host:8080, id:\"jenkins\"\n-  config.vm.network :private_network, ip:\"127.0.0.1\"\n-\n-  config.vm.synced_folder \".\", \"/vagrant\", mount_options: ['dmode=777','fmode=777']\n-\n-  config.vm.provider \"virtualbox\" do |vb|\n-    vb.gui = false\n-\n-    # Use VBoxManage to customize the VM. For example to change memory:\n-    vb.customize [\"modifyvm\", :id, \"--memory\", \"4096\"]\n-    vb.customize [\"modifyvm\", :id, \"--vram\", \"128\"]\n-    vb.customize [\"modifyvm\", :id, \"--accelerate3d\", \"on\"]\n-  end\n-end\n\\ No newline at end of file\ndiff --git a/circle.yml b/circle.yml\ndeleted file mode 100644\nindex 150a280..0000000\n--- a/circle.yml\n+++ /dev/null\n@@ -1,5 +0,0 @@\n-deployment:\n-  staging:\n-    branch: master\n-    heroku:\n-      appname: baukis-kai\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20250424/#835dfd2","title":"\u30b3\u30df\u30c3\u30c8: 835dfd2","text":""},{"location":"journal/20250424/#_10","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>build:devcontainer\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n</code></pre>"},{"location":"journal/20250424/#_11","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A .devcontainer/devcontainer.json</li> </ul>"},{"location":"journal/20250424/#_12","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 835dfd2f8375a81df83e71c3b6b91ffbd65b6448\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Apr 24 16:29:16 2025 +0900\n\n    build:devcontainer\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\ndiff --git a/.devcontainer/devcontainer.json b/.devcontainer/devcontainer.json\nnew file mode 100644\nindex 0000000..52f7251\n--- /dev/null\n+++ b/.devcontainer/devcontainer.json\n@@ -0,0 +1,31 @@\n+// For format details, see https://aka.ms/devcontainer.json. For config options, see the\n+// README at: https://github.com/devcontainers/templates/tree/main/src/docker-in-docker\n+{\n+   \"name\": \"Docker in Docker\",\n+   // Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile\n+   \"image\": \"baukis-kai\",\n+\n+   \"features\": {\n+       \"ghcr.io/devcontainers/features/docker-in-docker:2\": {\n+           \"version\": \"latest\",\n+           \"enableNonRootDocker\": \"true\",\n+           \"moby\": \"true\"\n+       }\n+   },\n+\n+   // Use 'forwardPorts' to make a list of ports inside the container available locally.\n+   // \"forwardPorts\": [],\n+\n+   // Use 'postCreateCommand' to run commands after the container is created.\n+   // \"postCreateCommand\": \"docker --version\",\n+\n+   // Configure tool-specific properties.\n+  \"customizations\" : {\n+    \"jetbrains\" : {\n+      \"backend\" : \"IntelliJ\"\n+    }\n+  },\n+\n+   // Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root.\n+   // \"remoteUser\": \"root\"\n+}\n</code></pre>"},{"location":"journal/20250424/#5517d0b","title":"\u30b3\u30df\u30c3\u30c8: 5517d0b","text":""},{"location":"journal/20250424/#_13","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>build:\u30ec\u30b9\u30c8\u30a2\n</code></pre>"},{"location":"journal/20250424/#_14","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M Dockerfile</li> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>M config/database.yml</li> <li>M config/environments/development.rb</li> <li>M docker-compose.yml</li> </ul>"},{"location":"journal/20250424/#_15","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 5517d0b74d777666bfef08aad9a3a87b14bf6c0e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Apr 24 16:00:48 2025 +0900\n\n    build:\u30ec\u30b9\u30c8\u30a2\n\ndiff --git a/Dockerfile b/Dockerfile\nindex de3b64d..91daa36 100644\n--- a/Dockerfile\n+++ b/Dockerfile\n@@ -1,9 +1,95 @@\n-FROM ruby:2.4\n-\n-RUN apt-get update -qq &amp;&amp; apt-get install -y build-essential libpq-dev nodejs\n-RUN mkdir /myapp\n-WORKDIR /myapp\n-ADD Gemfile /myapp/Gemfile\n-ADD Gemfile.lock /myapp/Gemfile.lock\n-RUN bundle install\n-ADD . /myapp\n\\ No newline at end of file\n+FROM ubuntu:18.04\n+\n+# Setup locale\n+RUN \\\n+apt-get -yq update &amp;&amp; \\\n+apt-get install -y language-pack-ja-base language-pack-ja\n+RUN update-locale LANG=ja_JP.UTF-8 LANGUAGE=ja_JP:ja\n+ENV LANG=ja_JP.UTF-8\n+ENV LC_ALL=ja_JP.UTF-8\n+ENV LC_CTYPE=ja_JP.UTF-8\n+\n+RUN apt-get update &amp;&amp; \\\n+    apt-get install -y \\\n+           sudo \\\n+           build-essential \\\n+           zip \\\n+           unzip \\\n+           git \\\n+           curl \\\n+           wget \\\n+           git-core \\\n+           libssl-dev \\\n+           libqt4-dev \\\n+           libc6-dev \\\n+           automake \\\n+           libtool \\\n+           libyaml-dev \\\n+           zlib1g \\\n+           zlib1g-dev \\\n+           openssl \\\n+           libreadline-dev \\\n+           libxml2-dev \\\n+           libxslt1-dev \\\n+           libncurses5-dev \\\n+           pkg-config \\\n+           chrpath \\\n+           libfontconfig1-dev \\\n+           libxft-dev \\\n+           libpq-dev \\\n+           libsqlite3-dev \\\n+           libmysqlclient-dev \\\n+           default-mysql-client \\\n+           postgresql-client \\\n+           xvfb \\\n+           qtbase5-dev \\\n+           libqt5webkit5-dev \\\n+           libqtwebkit-dev \\\n+           xauth \\\n+           libcurl4-openssl-dev \\\n+           software-properties-common \\\n+           libffi-dev \\\n+           libgdbm5 \\\n+           libgdbm-dev \\\n+           libdb-dev \\\n+           lsof \\\n+           vim\n+\n+# Ruby\n+ENV RUBY_VER 2.4.0\n+ENV BUNDLER_VER 1.13.7\n+RUN rm -rf ~/.rbenv\n+RUN git clone https://github.com/sstephenson/rbenv ~/.rbenv\n+RUN git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\n+RUN ~/.rbenv/plugins/ruby-build/install.sh\n+RUN echo 'export PATH=\"/$HOME/.rbenv/bin:$PATH\"' &gt;&gt; ~/.bash_profile\n+RUN echo 'eval \"$(rbenv init -)\"' &gt;&gt; ~/.bash_profile\n+RUN . ~/.bash_profile &amp;&amp; \\\n+         rbenv install $RUBY_VER  &amp;&amp; \\\n+         rbenv global $RUBY_VER\n+ENV PATH ~/.rbenv/shims:$PATH\n+RUN ~/.rbenv/shims/gem install bundler:$BUNDLER_VER\n+\n+# Node\n+ENV NODE_VER 16\n+RUN curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash\n+RUN . $HOME/.nvm/nvm.sh &amp;&amp; \\\n+    nvm install $NODE_VER &amp;&amp; \\\n+    nvm use $NODE_VER &amp;&amp; \\\n+    node -v &amp;&amp; npm -v &amp;&amp; \\\n+    npm i -g yarn\n+RUN apt install -y nodejs\n+\n+# Workaround for Ruby\n+RUN apt-get install -y libmysqlclient-dev\n+RUN ~/.rbenv/shims/gem install mysql2 -v '0.4.5' --source 'https://rubygems.org/'\n+RUN apt-get install -y libssl1.0-dev\n+RUN ~/.rbenv/shims/gem install puma -v '3.6.0' --source 'https://rubygems.org/'\n+\n+# Bundle install\n+WORKDIR /srv\n+COPY Gemfile /srv/Gemfile\n+COPY Gemfile.lock /srv/Gemfile.lock\n+RUN ~/.rbenv/shims/bundle install\n+\n+SHELL [\"/bin/bash\", \"-c\"]\n\\ No newline at end of file\ndiff --git a/Gemfile b/Gemfile\nindex 7d8acb2..40c2377 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -79,7 +79,7 @@ group :test do\n end\n\n # Windows does not include zoneinfo files, so bundle the tzinfo-data gem\n-gem 'tzinfo-data', platforms: [:mingw, :mswin, :x64_mingw, :jruby]\n+gem 'tzinfo-data'\n\n gem 'font-awesome-rails'\n gem 'rails_12factor', group: :production\n@@ -94,5 +94,4 @@ gem 'email_validator', '~&gt; 1.6'\n gem 'jquery-ui-rails', '~&gt; 5.0', '&gt;= 5.0.5'\n gem 'momentjs-rails'\n gem 'bootstrap3-datetimepicker-rails'\n-gem 'tag-it-rails'\n-\n+gem 'tag-it-rails'\n\\ No newline at end of file\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex ac11a7f..600d0fd 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -297,6 +297,8 @@ GEM\n     turbolinks-source (5.0.0)\n     tzinfo (1.2.2)\n       thread_safe (~&gt; 0.1)\n+    tzinfo-data (1.2025.2)\n+      tzinfo (&gt;= 1.0.0)\n     uglifier (3.0.4)\n       execjs (&gt;= 0.3.0, &lt; 3)\n     web-console (3.4.0)\ndiff --git a/config/database.yml b/config/database.yml\nindex 544640b..c44d192 100644\n--- a/config/database.yml\n+++ b/config/database.yml\n@@ -16,7 +16,7 @@ default: &amp;default\n   pool: 5\n   username: root\n   password: password\n-  host: 127.0.0.1\n+  host: &lt;%= ENV.fetch(\"MYSQL_HOST\", \"127.0.0.1\") %&gt;\n\n development:\n   &lt;&lt;: *default\ndiff --git a/config/environments/development.rb b/config/environments/development.rb\nindex 63bc608..cfacff4 100644\n--- a/config/environments/development.rb\n+++ b/config/environments/development.rb\n@@ -53,9 +53,9 @@ Rails.application.configure do\n   config.file_watcher = ActiveSupport::EventedFileUpdateChecker\n\n   config.baukis_kai = {\n-      staff: { host: '0.0.0.0', path: 'staff' },\n-      admin: { host: '0.0.0.0', path: 'admin' },\n-      customer: { host: '0.0.0.0', path: '' },\n+      staff: { host: '127.0.0.1', path: 'staff' },\n+      admin: { host: '127.0.0.1', path: 'admin' },\n+      customer: { host: '127.0.0.1', path: '' },\n       restrict_ip_addresses: false\n   }\n\ndiff --git a/docker-compose.yml b/docker-compose.yml\nindex 52da61d..f15c0d7 100644\n--- a/docker-compose.yml\n+++ b/docker-compose.yml\n@@ -1,7 +1,15 @@\n version: '2'\n services:\n   db:\n-    image: mysql\n+    image: mysql:5.7\n+    environment:\n+      MYSQL_ROOT_PASSWORD: password\n+      MYSQL_USER: user\n+      MYSQL_PASSWORD: pass\n+    ports:\n+      - 3306:3306\n+    volumes:\n+      - mysql-db:/var/lib/mysql\n   web:\n     build: .\n     environment:\n@@ -23,4 +31,24 @@ services:\n     depends_on:\n       - web\n     volumes:\n-      - ./nginx_default.conf:/etc/nginx/conf.d/default.conf\n\\ No newline at end of file\n+      - ./nginx_default.conf:/etc/nginx/conf.d/default.conf\n+\n+  console:\n+    build:\n+      context: .\n+      dockerfile: ./Dockerfile\n+    environment:\n+      MYSQL_HOST: db\n+      MYSQL_PORT: 3306\n+      MYSQL_USER: user\n+      MYSQL_PASSWORD: pass\n+      MYSQL_DATABASE: app_development\n+    volumes:\n+      - .:/srv\n+    depends_on:\n+      - db\n+    stdin_open: true\n+\n+volumes:\n+  mysql-db:\n+    driver: local\n</code></pre>"},{"location":"journal/20250510/","title":"\u4f5c\u696d\u5c65\u6b74 2025-05-10","text":""},{"location":"journal/20250510/#_1","title":"\u6982\u8981","text":"<p>2025-05-10\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u958b\u767a\u74b0\u5883\u306e\u6539\u5584\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b9\u30ad\u30fc\u30de\u306e\u6700\u9069\u5316\u306b\u95a2\u3059\u308b\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20250510/#_2","title":"\u958b\u767a\u74b0\u5883\u69cb\u6210\u56f3","text":""},{"location":"journal/20250510/#_3","title":"\u4f5c\u696d\u5185\u5bb9","text":""},{"location":"journal/20250510/#_4","title":"\u958b\u767a\u30b3\u30f3\u30c6\u30ca\u306e\u6539\u5584","text":"<p>\u958b\u767a\u74b0\u5883\u306e\u52b9\u7387\u5316\u3068\u4e00\u8cab\u6027\u3092\u78ba\u4fdd\u3059\u308b\u305f\u3081\u3001Docker\u74b0\u5883\u306e\u8a2d\u5b9a\u3092\u898b\u76f4\u3057\u307e\u3057\u305f\u3002\u7279\u306b\u3001\u4f5c\u696d\u7528\u30b3\u30f3\u30c6\u30ca\u306e\u8ffd\u52a0\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b9\u30ad\u30fc\u30de\u306e\u6700\u9069\u5316\u3092\u884c\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20250510/#_5","title":"\u5909\u66f4\u70b9\u306e\u6982\u8981","text":"<ol> <li>\u4f5c\u696d\u7528\u30b3\u30f3\u30c6\u30ca\uff08console\uff09\u306e\u8ffd\u52a0</li> <li>AWS CLI\u3001Terraform\u3001Packer\u306a\u3069\u306e\u904b\u7528\u30c4\u30fc\u30eb\u3092\u542b\u3080</li> <li> <p>\u958b\u767a\u74b0\u5883\u3068\u672c\u756a\u74b0\u5883\u306e\u4e00\u8cab\u6027\u3092\u78ba\u4fdd</p> </li> <li> <p>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b9\u30ad\u30fc\u30de\u306e\u6700\u9069\u5316</p> </li> <li>\u30b3\u30e1\u30f3\u30c8\u90e8\u5206\u306e\u6574\u7406</li> <li>\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u8a2d\u5b9a\u306e\u7d71\u4e00</li> </ol>"},{"location":"journal/20250510/#750fb96","title":"\u30b3\u30df\u30c3\u30c8: 750fb96","text":""},{"location":"journal/20250510/#_6","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>chore:\u958b\u767a\u30b3\u30f3\u30c6\u30ca\u4fee\u6b63\n</code></pre>"},{"location":"journal/20250510/#_7","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M db/schema.rb</li> <li>M docker-compose.yml</li> </ul>"},{"location":"journal/20250510/#_8","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 750fb96d904d90c8dd77e59ed647d0a6f2aabf25\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat May 10 13:36:59 2025 +0900\n\n    chore:\u958b\u767a\u30b3\u30f3\u30c6\u30ca\u4fee\u6b63\n\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 14ca97f..04e130c 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -12,203 +12,192 @@\n\n ActiveRecord::Schema.define(version: 20170327081649) do\n\n-  create_table \"addresses\", force: :cascade, comment: \"\u4f4f\u6240\" do |t|\n-    t.integer  \"customer_id\",                null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n-    t.string   \"type\",                       null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n-    t.string   \"postal_code\",                null: false, comment: \"\u90f5\u4fbf\u756a\u53f7\"\n-    t.string   \"prefecture\",                 null: false, comment: \"\u90fd\u9053\u5e9c\u770c\"\n-    t.string   \"city\",                       null: false, comment: \"\u5e02\u533a\u753a\u6751\"\n-    t.string   \"address1\",                   null: false, comment: \"\u753a\u57df\u30fb\u756a\u5730\u7b49\"\n-    t.string   \"address2\",                   null: false, comment: \"\u5efa\u7269\u540d\u30fb\u90e8\u5c4b\u756a\u53f7\"\n-    t.string   \"company_name\",  default: \"\", null: false, comment: \"\u4f1a\u793e\u540d\"\n-    t.string   \"division_name\", default: \"\", null: false, comment: \"\u90e8\u7f72\u540d\"\n+  create_table \"addresses\", force: :cascade do |t|\n+    t.integer  \"customer_id\",                null: false\n+    t.string   \"type\",                       null: false\n+    t.string   \"postal_code\",                null: false\n+    t.string   \"prefecture\",                 null: false\n+    t.string   \"city\",                       null: false\n+    t.string   \"address1\",                   null: false\n+    t.string   \"address2\",                   null: false\n+    t.string   \"company_name\",  default: \"\", null: false\n+    t.string   \"division_name\", default: \"\", null: false\n     t.datetime \"created_at\",                 null: false\n     t.datetime \"updated_at\",                 null: false\n-    t.index [\"city\"], name: \"index_addresses_on_city\", using: :btree\n-    t.index [\"customer_id\"], name: \"index_addresses_on_customer_id\", using: :btree\n-    t.index [\"postal_code\"], name: \"index_addresses_on_postal_code\", using: :btree\n-    t.index [\"prefecture\", \"city\"], name: \"index_addresses_on_prefecture_and_city\", using: :btree\n-    t.index [\"type\", \"city\"], name: \"index_addresses_on_type_and_city\", using: :btree\n-    t.index [\"type\", \"customer_id\"], name: \"index_addresses_on_type_and_customer_id\", unique: true, using: :btree\n-    t.index [\"type\", \"prefecture\", \"city\"], name: \"index_addresses_on_type_and_prefecture_and_city\", using: :btree\n+    t.index [\"city\"], name: \"index_addresses_on_city\"\n+    t.index [\"customer_id\"], name: \"index_addresses_on_customer_id\"\n+    t.index [\"postal_code\"], name: \"index_addresses_on_postal_code\"\n+    t.index [\"prefecture\", \"city\"], name: \"index_addresses_on_prefecture_and_city\"\n+    t.index [\"type\", \"city\"], name: \"index_addresses_on_type_and_city\"\n+    t.index [\"type\", \"customer_id\"], name: \"index_addresses_on_type_and_customer_id\", unique: true\n+    t.index [\"type\", \"prefecture\", \"city\"], name: \"index_addresses_on_type_and_prefecture_and_city\"\n   end\n\n-  create_table \"administrators\", force: :cascade, comment: \"\u7ba1\u7406\u8005\" do |t|\n-    t.string   \"email\",                           null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n-    t.string   \"email_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n-    t.string   \"hashed_password\",                              comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n-    t.boolean  \"suspended\",       default: false, null: false, comment: \"\u505c\u6b62\u30d5\u30e9\u30b0\"\n+  create_table \"administrators\", force: :cascade do |t|\n+    t.string   \"email\",                           null: false\n+    t.string   \"email_for_index\",                 null: false\n+    t.string   \"hashed_password\"\n+    t.boolean  \"suspended\",       default: false, null: false\n     t.datetime \"created_at\",                      null: false\n     t.datetime \"updated_at\",                      null: false\n-    t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true, using: :btree\n+    t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true\n   end\n\n-  create_table \"allowed_sources\", force: :cascade, comment: \"IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\" do |t|\n-    t.string   \"namespace\",                  null: false, comment: \"\u540d\u524d\u7a7a\u9593\"\n-    t.integer  \"octet1\",                     null: false, comment: \"\u7b2c\uff11\u30aa\u30af\u30c6\u30c3\u30c8\"\n-    t.integer  \"octet2\",                     null: false, comment: \"\u7b2c\uff12\u30aa\u30af\u30c6\u30c3\u30c8\"\n-    t.integer  \"octet3\",                     null: false, comment: \"\u7b2c\uff13\u30aa\u30af\u30c6\u30c3\u30c8\"\n-    t.integer  \"octet4\",                     null: false, comment: \"\u7b2c\uff14\u30aa\u30af\u30c6\u30c3\u30c8\"\n-    t.boolean  \"wildcard\",   default: false, null: false, comment: \"\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\"\n+  create_table \"allowed_sources\", force: :cascade do |t|\n+    t.string   \"namespace\",                  null: false\n+    t.integer  \"octet1\",                     null: false\n+    t.integer  \"octet2\",                     null: false\n+    t.integer  \"octet3\",                     null: false\n+    t.integer  \"octet4\",                     null: false\n+    t.boolean  \"wildcard\",   default: false, null: false\n     t.datetime \"created_at\",                 null: false\n     t.datetime \"updated_at\",                 null: false\n-    t.index [\"namespace\", \"octet1\", \"octet2\", \"octet3\", \"octet4\"], name: \"index_allowed_sources_on_namespace_and_octets\", unique: true, using: :btree\n+    t.index [\"namespace\", \"octet1\", \"octet2\", \"octet3\", \"octet4\"], name: \"index_allowed_sources_on_namespace_and_octets\", unique: true\n   end\n\n-  create_table \"customers\", force: :cascade, comment: \"\u9867\u5ba2\" do |t|\n-    t.string   \"email\",            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n-    t.string   \"email_for_index\",  null: false, comment: \"\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n-    t.string   \"family_name\",      null: false, comment: \"\u59d3\"\n-    t.string   \"given_name\",       null: false, comment: \"\u540d\"\n-    t.string   \"family_name_kana\", null: false, comment: \"\u59d3\uff08\u30ab\u30ca\uff09\"\n-    t.string   \"given_name_kana\",  null: false, comment: \"\u540d\uff08\u30ab\u30ca\uff09\"\n-    t.string   \"gender\",                        comment: \"\u6027\u5225\"\n-    t.date     \"birthday\",                      comment: \"\u8a95\u751f\u65e5\"\n-    t.string   \"hashed_password\",               comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n+  create_table \"customers\", force: :cascade do |t|\n+    t.string   \"email\",            null: false\n+    t.string   \"email_for_index\",  null: false\n+    t.string   \"family_name\",      null: false\n+    t.string   \"given_name\",       null: false\n+    t.string   \"family_name_kana\", null: false\n+    t.string   \"given_name_kana\",  null: false\n+    t.string   \"gender\"\n+    t.date     \"birthday\"\n+    t.string   \"hashed_password\"\n     t.datetime \"created_at\",       null: false\n     t.datetime \"updated_at\",       null: false\n-    t.integer  \"birth_year\",                    comment: \"\u8a95\u751f\u5e74\"\n-    t.integer  \"birth_month\",                   comment: \"\u8a95\u751f\u6708\"\n-    t.integer  \"birth_mday\",                    comment: \"\u8a95\u751f\u65e5\"\n-    t.index [\"birth_mday\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_furigana\", using: :btree\n-    t.index [\"birth_mday\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_given_name_kana\", using: :btree\n-    t.index [\"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_month_and_birth_mday\", using: :btree\n-    t.index [\"birth_month\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_furigana\", using: :btree\n-    t.index [\"birth_month\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_given_name_kana\", using: :btree\n-    t.index [\"birth_year\", \"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_year_and_birth_month_and_birth_mday\", using: :btree\n-    t.index [\"birth_year\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_furigana\", using: :btree\n-    t.index [\"birth_year\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_given_name_kana\", using: :btree\n-    t.index [\"email_for_index\"], name: \"index_customers_on_email_for_index\", unique: true, using: :btree\n-    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_family_name_kana_and_given_name_kana\", using: :btree\n-    t.index [\"gender\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_gender_and_furigana\", using: :btree\n-    t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\", using: :btree\n+    t.integer  \"birth_year\"\n+    t.integer  \"birth_month\"\n+    t.integer  \"birth_mday\"\n+    t.index [\"birth_mday\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_furigana\"\n+    t.index [\"birth_mday\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_given_name_kana\"\n+    t.index [\"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_month_and_birth_mday\"\n+    t.index [\"birth_month\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_furigana\"\n+    t.index [\"birth_month\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_given_name_kana\"\n+    t.index [\"birth_year\", \"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_year_and_birth_month_and_birth_mday\"\n+    t.index [\"birth_year\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_furigana\"\n+    t.index [\"birth_year\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_given_name_kana\"\n+    t.index [\"email_for_index\"], name: \"index_customers_on_email_for_index\", unique: true\n+    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_family_name_kana_and_given_name_kana\"\n+    t.index [\"gender\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_gender_and_furigana\"\n+    t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\"\n   end\n\n-  create_table \"entries\", force: :cascade, comment: \"\u7533\u3057\u8fbc\u307f\" do |t|\n+  create_table \"entries\", force: :cascade do |t|\n     t.integer  \"program_id\",                  null: false\n     t.integer  \"customer_id\",                 null: false\n-    t.boolean  \"approved\",    default: false, null: false, comment: \"\u627f\u8a8d\u6e08\u307f\u30d5\u30e9\u30b0\"\n-    t.boolean  \"canceled\",    default: false, null: false, comment: \"\u53d6\u308a\u6d88\u3057\u30d5\u30e9\u30b0\"\n+    t.boolean  \"approved\",    default: false, null: false\n+    t.boolean  \"canceled\",    default: false, null: false\n     t.datetime \"created_at\",                  null: false\n     t.datetime \"updated_at\",                  null: false\n-    t.index [\"customer_id\"], name: \"index_entries_on_customer_id\", using: :btree\n-    t.index [\"program_id\", \"customer_id\"], name: \"index_entries_on_program_id_and_customer_id\", unique: true, using: :btree\n-    t.index [\"program_id\"], name: \"index_entries_on_program_id\", using: :btree\n+    t.index [\"customer_id\"], name: \"index_entries_on_customer_id\"\n+    t.index [\"program_id\", \"customer_id\"], name: \"index_entries_on_program_id_and_customer_id\", unique: true\n+    t.index [\"program_id\"], name: \"index_entries_on_program_id\"\n   end\n\n-  create_table \"hash_locks\", force: :cascade, comment: \"\u6392\u4ed6\u5236\u5fa1\" do |t|\n-    t.string   \"table\",      null: false, comment: \"\u30c6\u30fc\u30d6\u30eb\"\n-    t.string   \"column\",     null: false, comment: \"\u30ab\u30e9\u30e0\"\n-    t.string   \"key\",        null: false, comment: \"\u30ad\u30fc\"\n+  create_table \"hash_locks\", force: :cascade do |t|\n+    t.string   \"table\",      null: false\n+    t.string   \"column\",     null: false\n+    t.string   \"key\",        null: false\n     t.datetime \"created_at\", null: false\n     t.datetime \"updated_at\", null: false\n-    t.index [\"table\", \"column\", \"key\"], name: \"index_hash_locks_on_table_and_column_and_key\", unique: true, using: :btree\n+    t.index [\"table\", \"column\", \"key\"], name: \"index_hash_locks_on_table_and_column_and_key\", unique: true\n   end\n\n-  create_table \"message_tag_links\", force: :cascade, comment: \"\u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb\" do |t|\n+  create_table \"message_tag_links\", force: :cascade do |t|\n     t.integer \"message_id\", null: false\n     t.integer \"tag_id\",     null: false\n-    t.index [\"message_id\", \"tag_id\"], name: \"index_message_tag_links_on_message_id_and_tag_id\", unique: true, using: :btree\n-    t.index [\"message_id\"], name: \"index_message_tag_links_on_message_id\", using: :btree\n-    t.index [\"tag_id\"], name: \"index_message_tag_links_on_tag_id\", using: :btree\n+    t.index [\"message_id\", \"tag_id\"], name: \"index_message_tag_links_on_message_id_and_tag_id\", unique: true\n+    t.index [\"message_id\"], name: \"index_message_tag_links_on_message_id\"\n+    t.index [\"tag_id\"], name: \"index_message_tag_links_on_tag_id\"\n   end\n\n-  create_table \"messages\", force: :cascade, comment: \"\u554f\u3044\u5408\u308f\u305b\" do |t|\n+  create_table \"messages\", force: :cascade do |t|\n     t.integer  \"customer_id\",                                   null: false\n     t.integer  \"staff_member_id\"\n-    t.integer  \"root_id\",                                                    comment: \"Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n-    t.integer  \"parent_id\",                                                  comment: \"Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n-    t.string   \"type\",                                          null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n-    t.string   \"status\",                        default: \"new\", null: false, comment: \"\u72b6\u614b\uff08\u8077\u54e1\u5411\u3051\uff09\"\n-    t.string   \"subject\",                                       null: false, comment: \"\u4ef6\u540d\"\n-    t.text     \"body\",            limit: 65535,                              comment: \"\u672c\u6587\"\n-    t.text     \"remarks\",         limit: 65535,                              comment: \"\u5099\u8003\uff08\u8077\u54e1\u5411\u3051\uff09\"\n-    t.boolean  \"discarded\",                     default: false, null: false, comment: \"\u9867\u5ba2\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\"\n-    t.boolean  \"deleted\",                       default: false, null: false, comment: \"\u8077\u54e1\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\"\n+    t.integer  \"root_id\"\n+    t.integer  \"parent_id\"\n+    t.string   \"type\",                                          null: false\n+    t.string   \"status\",                        default: \"new\", null: false\n+    t.string   \"subject\",                                       null: false\n+    t.text     \"body\",            limit: 65535\n+    t.text     \"remarks\",         limit: 65535\n+    t.boolean  \"discarded\",                     default: false, null: false\n+    t.boolean  \"deleted\",                       default: false, null: false\n     t.datetime \"created_at\",                                    null: false\n     t.datetime \"updated_at\",                                    null: false\n-    t.index [\"customer_id\", \"deleted\", \"created_at\"], name: \"index_messages_on_customer_id_and_deleted_and_created_at\", using: :btree\n-    t.index [\"customer_id\", \"deleted\", \"status\", \"created_at\"], name: \"index_messages_on_c_d_s_c\", using: :btree\n-    t.index [\"customer_id\", \"discarded\", \"created_at\"], name: \"index_messages_on_customer_id_and_discarded_and_created_at\", using: :btree\n-    t.index [\"customer_id\"], name: \"index_messages_on_customer_id\", using: :btree\n-    t.index [\"parent_id\"], name: \"fk_rails_aafcb31dbf\", using: :btree\n-    t.index [\"root_id\", \"deleted\", \"created_at\"], name: \"index_messages_on_root_id_and_deleted_and_created_at\", using: :btree\n-    t.index [\"staff_member_id\"], name: \"index_messages_on_staff_member_id\", using: :btree\n-    t.index [\"type\", \"customer_id\"], name: \"index_messages_on_type_and_customer_id\", using: :btree\n-    t.index [\"type\", \"staff_member_id\"], name: \"index_messages_on_type_and_staff_member_id\", using: :btree\n+    t.index [\"customer_id\", \"deleted\", \"created_at\"], name: \"index_messages_on_customer_id_and_deleted_and_created_at\"\n+    t.index [\"customer_id\", \"deleted\", \"status\", \"created_at\"], name: \"index_messages_on_c_d_s_c\"\n+    t.index [\"customer_id\", \"discarded\", \"created_at\"], name: \"index_messages_on_customer_id_and_discarded_and_created_at\"\n+    t.index [\"customer_id\"], name: \"index_messages_on_customer_id\"\n+    t.index [\"parent_id\"], name: \"fk_rails_aafcb31dbf\"\n+    t.index [\"root_id\", \"deleted\", \"created_at\"], name: \"index_messages_on_root_id_and_deleted_and_created_at\"\n+    t.index [\"staff_member_id\"], name: \"index_messages_on_staff_member_id\"\n+    t.index [\"type\", \"customer_id\"], name: \"index_messages_on_type_and_customer_id\"\n+    t.index [\"type\", \"staff_member_id\"], name: \"index_messages_on_type_and_staff_member_id\"\n   end\n\n-  create_table \"phones\", force: :cascade, comment: \"\u96fb\u8a71\" do |t|\n-    t.integer  \"customer_id\",                      null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n-    t.integer  \"address_id\",                                    comment: \"\u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n-    t.string   \"number\",                           null: false, comment: \"\u96fb\u8a71\u756a\u53f7\"\n-    t.string   \"number_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u96fb\u8a71\u756a\u53f7\"\n-    t.boolean  \"primary\",          default: false, null: false, comment: \"\u512a\u5148\u30d5\u30e9\u30b0\"\n+  create_table \"phones\", force: :cascade do |t|\n+    t.integer  \"customer_id\",                      null: false\n+    t.integer  \"address_id\"\n+    t.string   \"number\",                           null: false\n+    t.string   \"number_for_index\",                 null: false\n+    t.boolean  \"primary\",          default: false, null: false\n     t.datetime \"created_at\",                       null: false\n     t.datetime \"updated_at\",                       null: false\n-    t.string   \"last_four_digits\",                              comment: \"\u96fb\u8a71\u756a\u53f7\u4e0b\uff14\u6841\"\n-    t.index [\"address_id\"], name: \"index_phones_on_address_id\", using: :btree\n-    t.index [\"customer_id\"], name: \"index_phones_on_customer_id\", using: :btree\n-    t.index [\"last_four_digits\"], name: \"index_phones_on_last_four_digits\", using: :btree\n-    t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\", using: :btree\n+    t.string   \"last_four_digits\"\n+    t.index [\"address_id\"], name: \"index_phones_on_address_id\"\n+    t.index [\"customer_id\"], name: \"index_phones_on_customer_id\"\n+    t.index [\"last_four_digits\"], name: \"index_phones_on_last_four_digits\"\n+    t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\"\n   end\n\n-  create_table \"programs\", force: :cascade, comment: \"\u30d7\u30ed\u30b0\u30e9\u30e0\" do |t|\n-    t.integer  \"registrant_id\",                            null: false, comment: \"\u767b\u9332\u8077\u54e1\uff08\u5916\u90e8\u30ad\u30fc\uff09\"\n-    t.string   \"title\",                                    null: false, comment: \"\u30bf\u30a4\u30c8\u30eb\"\n-    t.text     \"description\",                limit: 65535,              comment: \"\u8aac\u660e\"\n-    t.datetime \"application_start_time\",                   null: false, comment: \"\u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5\"\n-    t.datetime \"application_end_time\",                     null: false, comment: \"\u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5\"\n-    t.integer  \"min_number_of_participants\",                            comment: \"\u6700\u5c0f\u53c2\u89b3\u8005\u6570\"\n-    t.integer  \"max_number_of_participants\",                            comment: \"\u6700\u5927\u53c2\u89b3\u8005\u6570\"\n+  create_table \"programs\", force: :cascade do |t|\n+    t.integer  \"registrant_id\",                            null: false\n+    t.string   \"title\",                                    null: false\n+    t.text     \"description\",                limit: 65535\n+    t.datetime \"application_start_time\",                   null: false\n+    t.datetime \"application_end_time\",                     null: false\n+    t.integer  \"min_number_of_participants\"\n+    t.integer  \"max_number_of_participants\"\n     t.datetime \"created_at\",                               null: false\n     t.datetime \"updated_at\",                               null: false\n-    t.index [\"application_start_time\"], name: \"index_programs_on_application_start_time\", using: :btree\n-    t.index [\"registrant_id\"], name: \"index_programs_on_registrant_id\", using: :btree\n+    t.index [\"application_start_time\"], name: \"index_programs_on_application_start_time\"\n+    t.index [\"registrant_id\"], name: \"index_programs_on_registrant_id\"\n   end\n\n-  create_table \"staff_events\", force: :cascade, comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n-    t.integer  \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n-    t.string   \"type\",            null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n-    t.datetime \"created_at\",      null: false, comment: \"\u767a\u751f\u6642\u523b\"\n-    t.index [\"created_at\"], name: \"index_staff_events_on_created_at\", using: :btree\n-    t.index [\"staff_member_id\", \"created_at\"], name: \"index_staff_events_on_staff_member_id_and_created_at\", using: :btree\n-    t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\", using: :btree\n+  create_table \"staff_events\", force: :cascade do |t|\n+    t.integer  \"staff_member_id\", null: false\n+    t.string   \"type\",            null: false\n+    t.datetime \"created_at\",      null: false\n+    t.index [\"created_at\"], name: \"index_staff_events_on_created_at\"\n+    t.index [\"staff_member_id\", \"created_at\"], name: \"index_staff_events_on_staff_member_id_and_created_at\"\n+    t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\"\n   end\n\n-  create_table \"staff_members\", force: :cascade, comment: \"\u8077\u54e1\" do |t|\n-    t.string   \"email\",                            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n-    t.string   \"email_for_index\",                  null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n-    t.string   \"family_name\",                      null: false, comment: \"\u59d3\"\n-    t.string   \"given_name\",                       null: false, comment: \"\u540d\"\n-    t.string   \"family_name_kana\",                 null: false, comment: \"\u59d3\uff08\u30ab\u30ca\uff09\"\n-    t.string   \"given_name_kana\",                  null: false, comment: \"\u540d\uff08\u30ab\u30ca\uff09\"\n-    t.string   \"hashed_password\",                               comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n-    t.date     \"start_date\",                       null: false, comment: \"\u958b\u59cb\u65e5\"\n-    t.date     \"end_date\",                                      comment: \"\u7d42\u4e86\u65e5\"\n-    t.boolean  \"suspended\",        default: false, null: false, comment: \"\u505c\u6b62\u30d5\u30e9\u30b0\"\n+  create_table \"staff_members\", force: :cascade do |t|\n+    t.string   \"email\",                            null: false\n+    t.string   \"email_for_index\",                  null: false\n+    t.string   \"family_name\",                      null: false\n+    t.string   \"given_name\",                       null: false\n+    t.string   \"family_name_kana\",                 null: false\n+    t.string   \"given_name_kana\",                  null: false\n+    t.string   \"hashed_password\"\n+    t.date     \"start_date\",                       null: false\n+    t.date     \"end_date\"\n+    t.boolean  \"suspended\",        default: false, null: false\n     t.datetime \"created_at\",                       null: false\n     t.datetime \"updated_at\",                       null: false\n-    t.index [\"email_for_index\"], name: \"index_staff_members_on_email_for_index\", unique: true, using: :btree\n-    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\", using: :btree\n+    t.index [\"email_for_index\"], name: \"index_staff_members_on_email_for_index\", unique: true\n+    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\"\n   end\n\n-  create_table \"tags\", force: :cascade, comment: \"\u30bf\u30b0\" do |t|\n+  create_table \"tags\", force: :cascade do |t|\n     t.string   \"value\",      null: false\n     t.datetime \"created_at\", null: false\n     t.datetime \"updated_at\", null: false\n-    t.index [\"value\"], name: \"index_tags_on_value\", unique: true, using: :btree\n+    t.index [\"value\"], name: \"index_tags_on_value\", unique: true\n   end\n\n-  add_foreign_key \"addresses\", \"customers\"\n-  add_foreign_key \"entries\", \"customers\"\n-  add_foreign_key \"entries\", \"programs\"\n-  add_foreign_key \"messages\", \"customers\"\n-  add_foreign_key \"messages\", \"messages\", column: \"parent_id\"\n-  add_foreign_key \"messages\", \"messages\", column: \"root_id\"\n-  add_foreign_key \"messages\", \"staff_members\"\n-  add_foreign_key \"phones\", \"addresses\"\n-  add_foreign_key \"phones\", \"customers\"\n-  add_foreign_key \"programs\", \"staff_members\", column: \"registrant_id\"\n-  add_foreign_key \"staff_events\", \"staff_members\"\n end\ndiff --git a/docker-compose.yml b/docker-compose.yml\nindex d6064ce..60075e0 100644\n--- a/docker-compose.yml\n+++ b/docker-compose.yml\n@@ -1,4 +1,3 @@\n-version: '2'\n services:\n   app:\n     build:\n@@ -13,6 +12,9 @@ services:\n       MYSQL_DATABASE: app_development\n     ports:\n       - \"3000:3000\"\n+    working_dir: /app\n+    volumes:\n+      - ./:/app\n   db:\n     image: mysql:5.7\n     environment:\n@@ -35,11 +37,12 @@ services:\n       MYSQL_PASSWORD: pass\n       MYSQL_DATABASE: app_development\n     volumes:\n-      - .:/srv\n+      - ./:/srv\n+    working_dir: /srv\n     depends_on:\n       - db\n     stdin_open: true\n\n volumes:\n   mysql-db:\n-    driver: local\n+    driver: local\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20250510/#5e7d60a","title":"\u30b3\u30df\u30c3\u30c8: 5e7d60a","text":""},{"location":"journal/20250510/#_9","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>build:\u4f5c\u696d\u30b3\u30f3\u30c6\u30ca\u8ffd\u52a0\n</code></pre>"},{"location":"journal/20250510/#_10","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A Dockerfile-console</li> <li>M docker-compose.yml</li> </ul>"},{"location":"journal/20250510/#_11","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 5e7d60adbe97b6dd33ce89ac65f94355abc01282\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat May 10 11:30:06 2025 +0900\n\n    build:\u4f5c\u696d\u30b3\u30f3\u30c6\u30ca\u8ffd\u52a0\n\ndiff --git a/Dockerfile-console b/Dockerfile-console\nnew file mode 100644\nindex 0000000..f9c8976\n--- /dev/null\n+++ b/Dockerfile-console\n@@ -0,0 +1,85 @@\n+FROM baukis-kai\n+\n+# \u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a\u3092\u975e\u5bfe\u8a71\u7684\u306b\u884c\u3046\u305f\u3081\u306e\u74b0\u5883\u5909\u6570\n+ENV DEBIAN_FRONTEND=noninteractive\n+ENV TZ=Asia/Tokyo\n+\n+# PATH\u5909\u6570\u306b ~/.local/bin \u3092\u8ffd\u52a0\n+ENV PATH=\"$PATH:/root/.local/bin\"\n+\n+# \u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\n+ENV PACKER_VERSION=1.9.2\n+ENV TERRAFORM_VERSION=1.6.6\n+\n+# \u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n+RUN apt-get update &amp;&amp; \\\n+    apt-get install -y \\\n+    curl \\\n+    unzip \\\n+    sudo \\\n+    ansible \\\n+    rsync \\\n+    vim \\\n+    &amp;&amp; apt-get clean \\\n+    &amp;&amp; rm -rf /var/lib/apt/lists/*\n+\n+# AWS CLI\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n+RUN curl \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" -o \"awscliv2.zip\" &amp;&amp; \\\n+    unzip awscliv2.zip &amp;&amp; \\\n+    sudo ./aws/install &amp;&amp; \\\n+    rm -rf awscliv2.zip aws\n+\n+# EB CLI\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n+RUN curl -O https://bootstrap.pypa.io/pip/3.6/get-pip.py\n+RUN python3 get-pip.py --user\n+RUN ~/.local/bin/pip install awsebcli --upgrade --user\n+\n+# Packer\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n+RUN curl -fsSL https://releases.hashicorp.com/packer/${PACKER_VERSION}/packer_${PACKER_VERSION}_linux_amd64.zip -o packer.zip &amp;&amp; \\\n+    unzip packer.zip -d /usr/local/bin &amp;&amp; \\\n+    rm packer.zip\n+\n+# Terraform\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n+RUN curl -fsSL https://releases.hashicorp.com/terraform/${TERRAFORM_VERSION}/terraform_${TERRAFORM_VERSION}_linux_amd64.zip -o terraform.zip &amp;&amp; \\\n+    unzip terraform.zip -d /usr/local/bin &amp;&amp; \\\n+    rm terraform.zip\n+\n+# Ubuntu\u7279\u6709\u306eEasyRSA\u30d1\u30b9\u3092\u78ba\u8a8d\n+RUN apt-get update &amp;&amp; apt-get install -y easy-rsa &amp;&amp; \\\n+    EASYRSA_PATH=$(find /usr -name \"easyrsa\" -type f | head -1) &amp;&amp; \\\n+    if [ -n \"$EASYRSA_PATH\" ]; then \\\n+    echo \"Found EasyRSA at $EASYRSA_PATH\"; \\\n+    EASYRSA_DIR=$(dirname $EASYRSA_PATH); \\\n+    mkdir -p /home/vscode/easy-rsa; \\\n+    cp -r $EASYRSA_DIR/* /home/vscode/easy-rsa/; \\\n+    else \\\n+    echo \"EasyRSA not found in standard locations, downloading...\"; \\\n+    mkdir -p /home/vscode/easy-rsa; \\\n+    wget -qO- https://github.com/OpenVPN/easy-rsa/releases/download/v3.1.5/EasyRSA-3.1.5.tgz | tar xz -C /home/vscode/easy-rsa/ --strip-components=1; \\\n+    fi &amp;&amp; \\\n+    mkdir -p /home/vscode &amp;&amp; \\\n+    useradd -m vscode || true &amp;&amp; \\\n+    chown -R vscode:vscode /home/vscode/easy-rsa &amp;&amp; \\\n+    chmod -R 755 /home/vscode/easy-rsa\n+\n+# \u30d8\u30eb\u30d1\u30fc\u30b3\u30de\u30f3\u30c9\u306e\u4f5c\u6210\n+RUN echo '#!/bin/bash\\necho \"Checking for EasyRSA:\"\\nfind /usr -name \"easyrsa\" -type f\\necho \"\"\\necho \"Checking for OpenSSL configs:\"\\nfind /usr -name \"openssl-*.cnf\"' &gt; /usr/local/bin/check-easyrsa &amp;&amp; \\\n+    chmod +x /usr/local/bin/check-easyrsa\n+\n+# Homebrew\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n+RUN apt-get update &amp;&amp; apt-get install -y build-essential procps curl file git\n+RUN /bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\" || true\n+RUN echo 'eval \"$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\"' &gt;&gt; /root/.bashrc\n+RUN eval \"$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\"\n+ENV PATH=\"/home/linuxbrew/.linuxbrew/bin:${PATH}\"\n+\n+# aws-vault\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n+RUN /bin/bash -c \"source /root/.bashrc &amp;&amp; brew install aws-vault\"\n+\n+# Bundle install\n+WORKDIR /srv\n+COPY Gemfile /srv/Gemfile\n+COPY Gemfile.lock /srv/Gemfile.lock\n+RUN ~/.rbenv/shims/bundle install\n+\n+SHELL [\"/bin/bash\", \"-c\"]\n\\ No newline at end of file\ndiff --git a/docker-compose.yml b/docker-compose.yml\nindex 1c4c872..d6064ce 100644\n--- a/docker-compose.yml\n+++ b/docker-compose.yml\n@@ -27,7 +27,7 @@ services:\n   console:\n     build:\n       context: .\n-      dockerfile: Dockerfile-base\n+      dockerfile: Dockerfile-console\n     environment:\n       MYSQL_HOST: db\n       MYSQL_PORT: 3306\n</code></pre>"},{"location":"journal/20250607/","title":"\u4f5c\u696d\u5c65\u6b74 2025-06-07","text":""},{"location":"journal/20250607/#_1","title":"\u6982\u8981","text":"<p>2025-06-07\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u4f5c\u696d\u3001\u7279\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u8a2d\u5b9a\u306e\u6539\u5584\u306b\u95a2\u3059\u308b\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20250607/#_2","title":"\u30ea\u30dd\u30b8\u30c8\u30ea\u69cb\u6210\u56f3","text":""},{"location":"journal/20250607/#_3","title":"\u4f5c\u696d\u5185\u5bb9","text":""},{"location":"journal/20250607/#_4","title":"\u30ea\u30dd\u30b8\u30c8\u30ea\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9","text":"<p>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u3092\u6539\u5584\u3059\u308b\u305f\u3081\u3001.gitignore\u30d5\u30a1\u30a4\u30eb\u306e\u66f4\u65b0\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u7279\u306b\u3001IDE\uff08\u7d71\u5408\u958b\u767a\u74b0\u5883\uff09\u56fa\u6709\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u9664\u5916\u3059\u308b\u3053\u3068\u3067\u3001\u7570\u306a\u308b\u958b\u767a\u74b0\u5883\u9593\u3067\u306e\u7af6\u5408\u3092\u9632\u304e\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u3088\u308a\u30af\u30ea\u30fc\u30f3\u306b\u4fdd\u3064\u3053\u3068\u3092\u76ee\u7684\u3068\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20250607/#_5","title":"\u5909\u66f4\u70b9\u306e\u6982\u8981","text":"<ol> <li>.gitignore\u30d5\u30a1\u30a4\u30eb\u306e\u66f4\u65b0</li> <li>IntelliJ IDEA\u95a2\u9023\u30d5\u30a1\u30a4\u30eb\uff08*.iml\uff09\u306e\u9664\u5916\u8a2d\u5b9a\u8ffd\u52a0</li> <li> <p>.idea\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u9664\u5916\u8a2d\u5b9a\u8ffd\u52a0</p> </li> <li> <p>\u8aa4\u3063\u3066\u30b3\u30df\u30c3\u30c8\u3055\u308c\u305fIDE\u30d5\u30a1\u30a4\u30eb\u306e\u524a\u9664</p> </li> <li>baukis-kai.iml\u30d5\u30a1\u30a4\u30eb\u3092\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u524a\u9664</li> </ol>"},{"location":"journal/20250607/#3428919","title":"\u30b3\u30df\u30c3\u30c8: 3428919","text":""},{"location":"journal/20250607/#_6","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>chore:\u30b3\u30df\u30c3\u30c8\u7ba1\u7406\u5bfe\u8c61\u5916\n</code></pre>"},{"location":"journal/20250607/#_7","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .gitignore</li> <li>D baukis-kai.iml</li> </ul>"},{"location":"journal/20250607/#_8","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 342891950ccc982c76ff6607baa78bd01be127fe\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jun 7 22:29:08 2025 +0900\n\n    chore:\u30b3\u30df\u30c3\u30c8\u7ba1\u7406\u5bfe\u8c61\u5916\n\ndiff --git a/.gitignore b/.gitignore\nindex 05ce7cf..13a797c 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -106,4 +106,6 @@ bower.json\n # Ignore Byebug command history file.\n .byebug_history\n\n-public/assets/\n\\ No newline at end of file\n+public/assets/\n+*.iml\n+.idea\n\\ No newline at end of file\ndiff --git a/baukis-kai.iml b/baukis-kai.iml\ndeleted file mode 100644\nindex fe5c0f2..0000000\n--- a/baukis-kai.iml\n+++ /dev/null\n@@ -1,164 +0,0 @@\n-&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n-&lt;module type=\"RUBY_MODULE\" version=\"4\"&gt;\n-  &lt;component name=\"FacetManager\"&gt;\n-    &lt;facet type=\"RailsFacetType\" name=\"Ruby on Rails\"&gt;\n-      &lt;configuration&gt;\n-        &lt;RAILS_FACET_CONFIG_ID NAME=\"RAILS_FACET_SUPPORT_REMOVED\" VALUE=\"false\" /&gt;\n-        &lt;RAILS_FACET_CONFIG_ID NAME=\"RAILS_TESTS_SOURCES_PATCHED\" VALUE=\"true\" /&gt;\n-        &lt;RAILS_FACET_CONFIG_ID NAME=\"RAILS_FACET_APPLICATION_ROOT\" VALUE=\"$MODULE_DIR$\" /&gt;\n-      &lt;/configuration&gt;\n-    &lt;/facet&gt;\n-  &lt;/component&gt;\n-  &lt;component name=\"NewModuleRootManager\" inherit-compiler-output=\"true\"&gt;\n-    &lt;exclude-output /&gt;\n-    &lt;content url=\"file://$MODULE_DIR$\"&gt;\n-      &lt;sourceFolder url=\"file://$MODULE_DIR$/test\" isTestSource=\"true\" /&gt;\n-      &lt;sourceFolder url=\"file://$MODULE_DIR$/spec\" isTestSource=\"true\" /&gt;\n-      &lt;excludeFolder url=\"file://$MODULE_DIR$/.bundle\" /&gt;\n-      &lt;excludeFolder url=\"file://$MODULE_DIR$/components\" /&gt;\n-      &lt;excludeFolder url=\"file://$MODULE_DIR$/public/system\" /&gt;\n-      &lt;excludeFolder url=\"file://$MODULE_DIR$/tmp\" /&gt;\n-      &lt;excludeFolder url=\"file://$MODULE_DIR$/vendor/bundle\" /&gt;\n-    &lt;/content&gt;\n-    &lt;orderEntry type=\"jdk\" jdkName=\"rbenv: 2.4.0\" jdkType=\"RUBY_SDK\" /&gt;\n-    &lt;orderEntry type=\"sourceFolder\" forTests=\"false\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actioncable (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionmailer (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionpack (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionview (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activejob (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activemodel (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activerecord (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activesupport (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"addressable (v2.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"annotate (v2.6.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"arel (v7.1.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"autoprefixer-rails (v6.6.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bcrypt (v3.1.11, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"better_errors (v2.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"binding_of_caller (v0.7.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bootstrap-sass (v3.3.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bootstrap3-datetimepicker-rails (v4.17.43, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bootstrap_form (v2.5.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"builder (v3.2.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bundler (v1.13.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"byebug (v9.0.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara (v2.12.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-screenshot (v1.0.14, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-webkit (v1.12.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"childprocess (v0.5.9, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"choice (v0.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coderay (v1.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-rails (v4.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script (v2.4.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script-source (v1.12.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"concurrent-ruby (v1.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"database_cleaner (v1.3.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"date_validator (v0.9.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase (v0.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase-ruby_core_source (v0.9.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debug_inspector (v0.0.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"diff-lcs (v1.2.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"dotenv (v2.1.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"dotenv-rails (v2.1.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"em-websocket (v0.5.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"email_validator (v1.6.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"enum_help (v0.0.16, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"erubis (v2.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"eventmachine (v1.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"execjs (v2.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl (v4.8.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl_rails (v4.8.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"faker (v1.4.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ffi (v1.9.14, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"font-awesome-rails (v4.7.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"formatador (v0.2.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"globalid (v0.3.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard (v2.14.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard-compat (v1.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard-livereload (v2.5.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"http_parser.rb (v0.6.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n (v0.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n_generators (v2.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jbuilder (v2.6.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jquery-rails (v4.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jquery-ui-rails (v5.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"json (v2.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"kaminari (v0.17.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"launchy (v2.4.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"listen (v3.0.8, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"loofah (v2.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"lumberjack (v1.0.11, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mail (v2.6.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"method_source (v0.8.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"migration_comments (v0.4.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types (v3.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types-data (v3.2016.0521, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mini_portile2 (v2.1.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"minitest (v5.10.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"momentjs-rails (v2.17.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"multi_json (v1.12.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mysql2 (v0.4.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nenv (v0.3.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nio4r (v1.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nokogiri (v1.7.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"notiffany (v0.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"pg (v0.19.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"pry (v0.10.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"public_suffix (v2.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"puma (v3.6.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack (v2.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-dev-mark (v0.7.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-livereload (v0.3.16, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-test (v0.6.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-controller-testing (v1.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-dom-testing (v2.0.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-erd (v1.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-html-sanitizer (v1.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_12factor (v0.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_serve_static_assets (v0.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_stdout_logging (v0.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"railties (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rake (v12.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-fsevent (v0.9.8, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-inotify (v0.9.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-core (v3.5.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-expectations (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-mocks (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-rails (v3.5.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-support (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ruby-graphviz (v1.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rubyzip (v1.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass (v3.4.23, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass-rails (v5.0.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"selenium-webdriver (v3.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"shellany (v0.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"shoulda-matchers (v2.6.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"slop (v3.6.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring (v2.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-commands-rspec (v1.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-watcher-listen (v2.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets (v3.7.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets-rails (v3.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sqlite3 (v1.3.12, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tag-it-rails (v2.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thor (v0.19.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thread_safe (v0.3.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tilt (v2.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks-source (v5.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tzinfo (v1.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"uglifier (v3.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"web-console (v3.4.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket (v1.2.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-driver (v0.6.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-extensions (v0.1.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"xpath (v2.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"yard (v0.9.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-  &lt;/component&gt;\n-  &lt;component name=\"RModuleSettingsStorage\"&gt;\n-    &lt;LOAD_PATH number=\"0\" /&gt;\n-    &lt;I18N_FOLDERS number=\"1\" string0=\"$MODULE_DIR$/config/locales\" /&gt;\n-  &lt;/component&gt;\n-&lt;/module&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20250607/#a0f057f","title":"\u30b3\u30df\u30c3\u30c8: a0f057f","text":""},{"location":"journal/20250607/#_9","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>fix:\u5358\u4f53\u30c6\u30b9\u30c8\n</code></pre>"},{"location":"journal/20250607/#_10","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/controllers/staff/customers_controller.rb</li> <li>D baukis-kai.iml</li> </ul>"},{"location":"journal/20250607/#_11","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit a0f057ffd463bed53ea2a5b1a2e5ce9c9c3279d3\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jun 7 22:26:21 2025 +0900\n\n    fix:\u5358\u4f53\u30c6\u30b9\u30c8\n\ndiff --git a/app/controllers/staff/customers_controller.rb b/app/controllers/staff/customers_controller.rb\nindex 6342b22..2414e30 100644\n--- a/app/controllers/staff/customers_controller.rb\n+++ b/app/controllers/staff/customers_controller.rb\n@@ -22,7 +22,7 @@ class Staff::CustomersController &lt; Staff::Base\n\n   def create\n     @customer_form = Staff::CustomerForm.new\n-    @customer_form.assign_attributes(params[:form])\n+    @customer_form.assign_attributes(params.require(:form))\n     if @customer_form.save\n       flash.notice = t('.flash_notice')\n       redirect_to action: 'index'\n@@ -34,7 +34,7 @@ class Staff::CustomersController &lt; Staff::Base\n\n   def update\n     @customer_form = Staff::CustomerForm.new(Customer.find(params[:id]))\n-    @customer_form.assign_attributes(params[:form])\n+    @customer_form.assign_attributes(params.require(:form))\n     if @customer_form.save\n       flash.notice = t('.flash_notice')\n       redirect_to action: 'index'\ndiff --git a/baukis-kai.iml b/baukis-kai.iml\ndeleted file mode 100644\nindex fe5c0f2..0000000\n--- a/baukis-kai.iml\n+++ /dev/null\n@@ -1,164 +0,0 @@\n-&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n-&lt;module type=\"RUBY_MODULE\" version=\"4\"&gt;\n-  &lt;component name=\"FacetManager\"&gt;\n-    &lt;facet type=\"RailsFacetType\" name=\"Ruby on Rails\"&gt;\n-      &lt;configuration&gt;\n-        &lt;RAILS_FACET_CONFIG_ID NAME=\"RAILS_FACET_SUPPORT_REMOVED\" VALUE=\"false\" /&gt;\n-        &lt;RAILS_FACET_CONFIG_ID NAME=\"RAILS_TESTS_SOURCES_PATCHED\" VALUE=\"true\" /&gt;\n-        &lt;RAILS_FACET_CONFIG_ID NAME=\"RAILS_FACET_APPLICATION_ROOT\" VALUE=\"$MODULE_DIR$\" /&gt;\n-      &lt;/configuration&gt;\n-    &lt;/facet&gt;\n-  &lt;/component&gt;\n-  &lt;component name=\"NewModuleRootManager\" inherit-compiler-output=\"true\"&gt;\n-    &lt;exclude-output /&gt;\n-    &lt;content url=\"file://$MODULE_DIR$\"&gt;\n-      &lt;sourceFolder url=\"file://$MODULE_DIR$/test\" isTestSource=\"true\" /&gt;\n-      &lt;sourceFolder url=\"file://$MODULE_DIR$/spec\" isTestSource=\"true\" /&gt;\n-      &lt;excludeFolder url=\"file://$MODULE_DIR$/.bundle\" /&gt;\n-      &lt;excludeFolder url=\"file://$MODULE_DIR$/components\" /&gt;\n-      &lt;excludeFolder url=\"file://$MODULE_DIR$/public/system\" /&gt;\n-      &lt;excludeFolder url=\"file://$MODULE_DIR$/tmp\" /&gt;\n-      &lt;excludeFolder url=\"file://$MODULE_DIR$/vendor/bundle\" /&gt;\n-    &lt;/content&gt;\n-    &lt;orderEntry type=\"jdk\" jdkName=\"rbenv: 2.4.0\" jdkType=\"RUBY_SDK\" /&gt;\n-    &lt;orderEntry type=\"sourceFolder\" forTests=\"false\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actioncable (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionmailer (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionpack (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"actionview (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activejob (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activemodel (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activerecord (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"activesupport (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"addressable (v2.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"annotate (v2.6.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"arel (v7.1.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"autoprefixer-rails (v6.6.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bcrypt (v3.1.11, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"better_errors (v2.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"binding_of_caller (v0.7.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bootstrap-sass (v3.3.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bootstrap3-datetimepicker-rails (v4.17.43, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bootstrap_form (v2.5.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"builder (v3.2.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"bundler (v1.13.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"byebug (v9.0.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara (v2.12.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-screenshot (v1.0.14, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"capybara-webkit (v1.12.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"childprocess (v0.5.9, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"choice (v0.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coderay (v1.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-rails (v4.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script (v2.4.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"coffee-script-source (v1.12.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"concurrent-ruby (v1.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"database_cleaner (v1.3.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"date_validator (v0.9.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase (v0.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debase-ruby_core_source (v0.9.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"debug_inspector (v0.0.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"diff-lcs (v1.2.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"dotenv (v2.1.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"dotenv-rails (v2.1.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"em-websocket (v0.5.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"email_validator (v1.6.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"enum_help (v0.0.16, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"erubis (v2.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"eventmachine (v1.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"execjs (v2.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl (v4.8.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"factory_girl_rails (v4.8.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"faker (v1.4.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ffi (v1.9.14, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"font-awesome-rails (v4.7.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"formatador (v0.2.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"globalid (v0.3.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard (v2.14.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard-compat (v1.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"guard-livereload (v2.5.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"http_parser.rb (v0.6.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n (v0.7.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"i18n_generators (v2.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jbuilder (v2.6.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jquery-rails (v4.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"jquery-ui-rails (v5.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"json (v2.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"kaminari (v0.17.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"launchy (v2.4.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"listen (v3.0.8, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"loofah (v2.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"lumberjack (v1.0.11, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mail (v2.6.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"method_source (v0.8.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"migration_comments (v0.4.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types (v3.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mime-types-data (v3.2016.0521, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mini_portile2 (v2.1.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"minitest (v5.10.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"momentjs-rails (v2.17.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"multi_json (v1.12.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"mysql2 (v0.4.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nenv (v0.3.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nio4r (v1.2.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"nokogiri (v1.7.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"notiffany (v0.1.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"pg (v0.19.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"pry (v0.10.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"public_suffix (v2.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"puma (v3.6.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack (v2.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-dev-mark (v0.7.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-livereload (v0.3.16, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rack-test (v0.6.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-controller-testing (v1.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-dom-testing (v2.0.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-erd (v1.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails-html-sanitizer (v1.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_12factor (v0.0.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_serve_static_assets (v0.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rails_stdout_logging (v0.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"railties (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rake (v12.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-fsevent (v0.9.8, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rb-inotify (v0.9.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-core (v3.5.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-expectations (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-mocks (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-rails (v3.5.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rspec-support (v3.5.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"ruby-graphviz (v1.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"rubyzip (v1.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass (v3.4.23, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sass-rails (v5.0.6, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"selenium-webdriver (v3.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"shellany (v0.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"shoulda-matchers (v2.6.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"slop (v3.6.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring (v2.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-commands-rspec (v1.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"spring-watcher-listen (v2.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets (v3.7.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sprockets-rails (v3.2.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"sqlite3 (v1.3.12, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tag-it-rails (v2.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thor (v0.19.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"thread_safe (v0.3.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tilt (v2.0.5, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks (v5.0.1, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"turbolinks-source (v5.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"tzinfo (v1.2.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"uglifier (v3.0.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"web-console (v3.4.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket (v1.2.3, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-driver (v0.6.4, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"websocket-extensions (v0.1.2, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"xpath (v2.0.0, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-    &lt;orderEntry type=\"library\" scope=\"PROVIDED\" name=\"yard (v0.9.7, rbenv: 2.4.0) [gem]\" level=\"application\" /&gt;\n-  &lt;/component&gt;\n-  &lt;component name=\"RModuleSettingsStorage\"&gt;\n-    &lt;LOAD_PATH number=\"0\" /&gt;\n-    &lt;I18N_FOLDERS number=\"1\" string0=\"$MODULE_DIR$/config/locales\" /&gt;\n-  &lt;/component&gt;\n-&lt;/module&gt;\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20250607/#_12","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20250607/#331f4e9","title":"\u30b3\u30df\u30c3\u30c8: 331f4e9","text":""},{"location":"journal/20250607/#_13","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>fix:\u5358\u4f53\u30c6\u30b9\u30c8\n</code></pre>"},{"location":"journal/20250607/#_14","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/controllers/concerns/email_holder.rb</li> <li>M app/validators/email_validator.rb</li> </ul>"},{"location":"journal/20250607/#_15","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 331f4e94172b25c73ba95e58951ffbba5183b1ad\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jun 7 22:13:15 2025 +0900\n\n    fix:\u5358\u4f53\u30c6\u30b9\u30c8\n\ndiff --git a/app/controllers/concerns/email_holder.rb b/app/controllers/concerns/email_holder.rb\nindex e16d6b8..1ef3019 100644\n--- a/app/controllers/concerns/email_holder.rb\n+++ b/app/controllers/concerns/email_holder.rb\n@@ -11,7 +11,13 @@ module EmailHolder\n\n     validates :email, presence: true, email: { allow_blank: true }\n     validates :email_for_index, uniqueness: { allow_blank: true }\n-\n+    validates :email,\n+              presence: true,\n+              email: { allow_blank: true },\n+              format: {\n+                with: /\\A[^@]+@[^@]+\\z/,\n+                message: \"\u306f1\u3064\u306e@\u306e\u307f\u4f7f\u7528\u3067\u304d\u307e\u3059\"\n+              }\n     after_validation do\n       if errors.include?(:email_for_index)\n         errors.add(:email, :taken)\ndiff --git a/app/validators/email_validator.rb b/app/validators/email_validator.rb\nindex 37e9148..c595f4c 100644\n--- a/app/validators/email_validator.rb\n+++ b/app/validators/email_validator.rb\n@@ -1,6 +1,10 @@\n class EmailValidator &lt; ActiveModel::EachValidator\n   def validate_each(record, attribute, value)\n-    unless value =~ /\\A([^@\\s]+)@((?:[-a-z0-9]+\\.)+[a-z]{2,})\\z/i\n+      unless value.present? &amp;&amp; value.count('@') == 1 &amp;&amp; value =~ /\\A([^@\\s]+)@((?:[-a-z0-9]+\\.)+[a-z]{2,})\\z/i\n+      record.errors.add(attribute, :invalid)\n+    end\n+\n+    if value.present? &amp;&amp; value.count('@') != 1\n       record.errors.add(attribute, :invalid)\n     end\n   end\n</code></pre>"},{"location":"journal/20250607/#_16","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20250607/#5e86ade","title":"\u30b3\u30df\u30c3\u30c8: 5e86ade","text":""},{"location":"journal/20250607/#_17","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>fix:\u5358\u4f53\u30c6\u30b9\u30c8\n</code></pre>"},{"location":"journal/20250607/#_18","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/customer/accounts/_phone_fields.html.erb</li> <li>M app/views/staff/customers/_phone_fields.html.erb</li> </ul>"},{"location":"journal/20250607/#_19","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 5e86adeedc7a54c950c5782ae2809acac1f241fc\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jun 7 19:15:50 2025 +0900\n\n    fix:\u5358\u4f53\u30c6\u30b9\u30c8\n\ndiff --git a/app/views/customer/accounts/_phone_fields.html.erb b/app/views/customer/accounts/_phone_fields.html.erb\nindex a5f6749..37a3c46 100644\n--- a/app/views/customer/accounts/_phone_fields.html.erb\n+++ b/app/views/customer/accounts/_phone_fields.html.erb\n@@ -1,6 +1,6 @@\n &lt;%= f.fields_for :phones, phone, index: index do |ff| %&gt;\n     &lt;%= markup(:li) do |m|\n-      m &lt;&lt; ff.text_field(:number, skip_required: true)\n+      m &lt;&lt; ff.text_field(:number, required: false)\n       m &lt;&lt; ff.check_box(:primary, label: t('activerecord.attributes.phone.primary'))\n       end %&gt;\n-&lt;% end %&gt;\n\\ No newline at end of file\n+&lt;% end %&gt;\ndiff --git a/app/views/staff/customers/_phone_fields.html.erb b/app/views/staff/customers/_phone_fields.html.erb\nindex a5f6749..37a3c46 100644\n--- a/app/views/staff/customers/_phone_fields.html.erb\n+++ b/app/views/staff/customers/_phone_fields.html.erb\n@@ -1,6 +1,6 @@\n &lt;%= f.fields_for :phones, phone, index: index do |ff| %&gt;\n     &lt;%= markup(:li) do |m|\n-      m &lt;&lt; ff.text_field(:number, skip_required: true)\n+      m &lt;&lt; ff.text_field(:number, required: false)\n       m &lt;&lt; ff.check_box(:primary, label: t('activerecord.attributes.phone.primary'))\n       end %&gt;\n-&lt;% end %&gt;\n\\ No newline at end of file\n+&lt;% end %&gt;\n</code></pre>"},{"location":"journal/20250607/#c2146d7","title":"\u30b3\u30df\u30c3\u30c8: c2146d7","text":""},{"location":"journal/20250607/#_20","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>fix:\u5358\u4f53\u30c6\u30b9\u30c8\n</code></pre>"},{"location":"journal/20250607/#_21","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/controllers/concerns/email_holder.rb</li> <li>M app/forms/staff/customer_form.rb</li> <li>M app/models/customer.rb</li> <li>M app/presenters/form_presenter.rb</li> <li>M app/presenters/staff/address_form_presenter.rb</li> <li>M app/presenters/staff/customer_form_presenter.rb</li> <li>M app/presenters/user_form_presenter.rb</li> <li>A app/validators/email_validator.rb</li> <li>M app/views/staff/accounts/_form.html.erb</li> <li>M db/seed/development/customers.rb</li> <li>M db/seed/development/staff_members.rb</li> </ul>"},{"location":"journal/20250607/#_22","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c2146d74efdb2f7eaed916147c13945d7d3a2131\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jun 7 19:04:01 2025 +0900\n\n    fix:\u5358\u4f53\u30c6\u30b9\u30c8\n\ndiff --git a/app/controllers/concerns/email_holder.rb b/app/controllers/concerns/email_holder.rb\nindex 8f636f7..e16d6b8 100644\n--- a/app/controllers/concerns/email_holder.rb\n+++ b/app/controllers/concerns/email_holder.rb\n@@ -9,7 +9,7 @@ module EmailHolder\n       self.email_for_index = email.downcase if email\n     end\n\n-    validates :email, presence: true, email: { alllow_blank: true }\n+    validates :email, presence: true, email: { allow_blank: true }\n     validates :email_for_index, uniqueness: { allow_blank: true }\n\n     after_validation do\n@@ -19,4 +19,4 @@ module EmailHolder\n       end\n     end\n   end\n-end\n\\ No newline at end of file\n+end\ndiff --git a/app/forms/staff/customer_form.rb b/app/forms/staff/customer_form.rb\nindex 89ca635..af0ff3d 100644\n--- a/app/forms/staff/customer_form.rb\n+++ b/app/forms/staff/customer_form.rb\n@@ -29,7 +29,7 @@ class Staff::CustomerForm\n\n     customer.assign_attributes(customer_params)\n\n-    phones = phone_params(:customer).fetch(:phones)\n+    phones = phone_params(:customer)[:phones] || {}\n     customer.personal_phones.size.times do |index|\n       attributes = phones[index.to_s]\n       if attributes &amp;&amp; attributes[:number].present?\n@@ -42,7 +42,7 @@ class Staff::CustomerForm\n     if inputs_home_address\n       customer.home_address.assign_attributes(home_address_params)\n\n-      phones = phone_params(:home_address).fetch(:phones)\n+      phones = phone_params(:home_address)[:phones] || {}\n       customer.home_address.phones.size.times do |index|\n         attributes = phones[index.to_s]\n         if attributes &amp;&amp; attributes[:number].present?\n@@ -57,7 +57,7 @@ class Staff::CustomerForm\n     if inputs_work_address\n       customer.work_address.assign_attributes(work_address_params)\n\n-      phones = phone_params(:work_address).fetch(:phones)\n+      phones = phone_params(:work_address)[:phones] || {}\n       customer.work_address.phones.size.times do |index|\n         attributes = phones[index.to_s]\n         if attributes &amp;&amp; attributes[:number].present?\n@@ -109,5 +109,8 @@ class Staff::CustomerForm\n\n   def phone_params(record_name)\n     @params.require(record_name).permit(phones: [ :number, :primary ])\n+  rescue ActionController::ParameterMissing\n+    # If the phones parameter is missing, return an empty hash with phones key\n+    { phones: {} }\n   end\n-end\n\\ No newline at end of file\n+end\ndiff --git a/app/models/customer.rb b/app/models/customer.rb\nindex 6c97b91..9497b11 100644\n--- a/app/models/customer.rb\n+++ b/app/models/customer.rb\n@@ -40,8 +40,8 @@ class Customer &lt; ApplicationRecord\n   include PasswordHolder\n\n   has_many :addresses, dependent: :destroy\n-  has_one :home_address, autosave: true\n-  has_one :work_address, autosave: true\n+  has_one :home_address, class_name: 'HomeAddress', autosave: true\n+  has_one :work_address, class_name: 'WorkAddress', autosave: true\n   has_many :phones, dependent: :destroy\n   has_many :personal_phones, -&gt; { where(address_id: nil).order(:id) },class_name: 'Phone', autosave: true\n   has_many :entries, dependent: :destroy\ndiff --git a/app/presenters/form_presenter.rb b/app/presenters/form_presenter.rb\nindex 88c57e2..ea5761a 100644\n--- a/app/presenters/form_presenter.rb\n+++ b/app/presenters/form_presenter.rb\n@@ -31,6 +31,7 @@ class FormPresenter\n       if options[:maxlength]\n         m.span \"(#{options[:maxlength]}\u6587\u5b57\u4ee5\u5185)\", class: 'instruction'\n       end\n+      m &lt;&lt; error_message_for(name)\n     end\n   end\n\n@@ -42,14 +43,15 @@ class FormPresenter\n         max = view_context.number_with_delimiter(options[:max].to_i)\n         m.span \"(\u6700\u5927\u5024\uff1a #{max})\", class: 'instruction'\n       end\n+      m &lt;&lt; error_message_for(name)\n     end\n-\n   end\n\n   def password_field_block(name, label_text, options = {})\n     markup(:div, class: 'AppForm__input-block') do |m|\n       m &lt;&lt; decorated_label(name, label_text, options)\n       m &lt;&lt; password_field(name, hide_label: true, class: options[:required] ? 'required' : nil)\n+      m &lt;&lt; error_message_for(name)\n     end\n   end\n\n@@ -63,20 +65,22 @@ class FormPresenter\n         options[:class] = 'datetimepicker'\n       end\n       m &lt;&lt; text_field(name, options.merge(hide_label: true))\n+      m &lt;&lt; error_message_for(name)\n     end\n   end\n\n   def drop_down_list_block(name, label_text, choices, options ={})\n     markup(:div, class: 'AppForm__input-block') do |m|\n       m &lt;&lt; form_builder.select(name, choices, options.merge(include_blank: true).merge(label: label_text))\n+      m &lt;&lt; error_message_for(name)\n     end\n   end\n\n   def error_message_for(name)\n     markup do |m|\n       object.errors.full_messages_for(name).each do |message|\n-        m.div(class: 'error-message') do |m|\n-          m.text message\n+        m.div(class: 'has-error') do |m|\n+          m.span(message, class: 'help-block')\n         end\n       end\n     end\n@@ -86,4 +90,4 @@ class FormPresenter\n     label(name, label_text, class: options[:required] ? 'AppForm__label required' : 'AppForm__label')\n   end\n\n-end\n\\ No newline at end of file\n+end\ndiff --git a/app/presenters/staff/address_form_presenter.rb b/app/presenters/staff/address_form_presenter.rb\nindex 2500e50..65dab3b 100644\n--- a/app/presenters/staff/address_form_presenter.rb\n+++ b/app/presenters/staff/address_form_presenter.rb\n@@ -4,6 +4,7 @@ class Staff::AddressFormPresenter &lt; FormPresenter\n       m &lt;&lt; decorated_label(name, label_text, options)\n       m &lt;&lt; text_field(name, hide_label: true, class: options[:required] ? 'required' : nil)\n       m.span '(7\u6841\u306e\u534a\u89d2\u6570\u5b57\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002)', class: 'AppForm__notes'\n+      m &lt;&lt; error_message_for(name)\n     end\n   end\n-end\n\\ No newline at end of file\n+end\ndiff --git a/app/presenters/staff/customer_form_presenter.rb b/app/presenters/staff/customer_form_presenter.rb\nindex 8fc0c0f..1f5b15b 100644\n--- a/app/presenters/staff/customer_form_presenter.rb\n+++ b/app/presenters/staff/customer_form_presenter.rb\n@@ -9,6 +9,7 @@ class Staff::CustomerFormPresenter &lt; UserFormPresenter\n         options[:class] = 'birthday-picker'\n       end\n       m &lt;&lt; text_field(name, options.merge(hide_label: true))\n+      m &lt;&lt; error_message_for(name)\n     end\n   end\n\n@@ -19,6 +20,7 @@ class Staff::CustomerFormPresenter &lt; UserFormPresenter\n       m &lt;&lt; label(:gender_male, '\u7537\u6027')\n       m &lt;&lt; radio_button(:gender, 'female')\n       m &lt;&lt; label(:gender_female, '\u5973\u6027')\n+      m &lt;&lt; error_message_for(:gender)\n     end\n   end\n-end\n\\ No newline at end of file\n+end\ndiff --git a/app/presenters/user_form_presenter.rb b/app/presenters/user_form_presenter.rb\nindex 1528dfc..0167004 100644\n--- a/app/presenters/user_form_presenter.rb\n+++ b/app/presenters/user_form_presenter.rb\n@@ -13,10 +13,12 @@ class UserFormPresenter &lt; FormPresenter\n   end\n\n   def full_name_block(name1, name2, label_text, options = {})\n-    markup(:dvi,class: 'AppForm__input-block') do |m|\n+    markup(:div, class: 'AppForm__input-block') do |m|\n       m &lt;&lt; decorated_label(name1, label_text, options)\n       m &lt;&lt; text_field(name1, hide_label: true, class: options[:required] ? 'required' : nil)\n       m &lt;&lt; text_field(name2, hide_label: true, class: options[:required] ? 'required' : nil)\n+      m &lt;&lt; error_message_for(name1)\n+      m &lt;&lt; error_message_for(name2)\n     end\n   end\n-end\n\\ No newline at end of file\n+end\ndiff --git a/app/validators/email_validator.rb b/app/validators/email_validator.rb\nnew file mode 100644\nindex 0000000..37e9148\n--- /dev/null\n+++ b/app/validators/email_validator.rb\n@@ -0,0 +1,7 @@\n+class EmailValidator &lt; ActiveModel::EachValidator\n+  def validate_each(record, attribute, value)\n+    unless value =~ /\\A([^@\\s]+)@((?:[-a-z0-9]+\\.)+[a-z]{2,})\\z/i\n+      record.errors.add(attribute, :invalid)\n+    end\n+  end\n+end\ndiff --git a/app/views/staff/accounts/_form.html.erb b/app/views/staff/accounts/_form.html.erb\nindex ebbcca0..68987a2 100644\n--- a/app/views/staff/accounts/_form.html.erb\n+++ b/app/views/staff/accounts/_form.html.erb\n@@ -4,6 +4,11 @@\n &lt;div&gt;\n   &lt;%= f.label :email, t('activerecord.attributes.staff_member.email'), class: 'AppForm__label required' %&gt;\n   &lt;%= f.text_field :email, hide_label: true, size: 32, required: true %&gt;\n+  &lt;% if @staff_member.errors.include?(:email) %&gt;\n+    &lt;div class=\"has-error\"&gt;\n+      &lt;span class=\"help-block\"&gt;&lt;%= @staff_member.errors.full_messages_for(:email).first %&gt;&lt;/span&gt;\n+    &lt;/div&gt;\n+  &lt;% end %&gt;\n &lt;/div&gt;\n &lt;div&gt;\n   &lt;%= f.label :family_name, '\u6c0f\u540d', class: 'required' %&gt;\n@@ -14,4 +19,4 @@\n   &lt;%= f.label :family_name_kana, '\u30d5\u30ea\u30ac\u30ca', class: 'required' %&gt;\n   &lt;%= f.text_field :family_name_kana, hide_label: true, required: true %&gt;\n   &lt;%= f.text_field :given_name_kana, hide_label: true, required: true %&gt;\n-&lt;/div&gt;\n\\ No newline at end of file\n+&lt;/div&gt;\ndiff --git a/db/seed/development/customers.rb b/db/seed/development/customers.rb\nindex 674ffe3..0d14c3f 100644\n--- a/db/seed/development/customers.rb\n+++ b/db/seed/development/customers.rb\n@@ -34,7 +34,7 @@ company_names = %w(OIAX ABC XYZ)\n     gn = given_names[m].split(':')\n\n     c = Customer.create!(\n-        email: \"#{fn[2]}.#{gn[2]}@example.jp\",\n+        email: \"#{fn[2]}.#{gn[2]}-#{n}@example.jp\",\n         family_name: fn[0],\n         given_name: gn[0],\n         family_name_kana: fn[1],\ndiff --git a/db/seed/development/staff_members.rb b/db/seed/development/staff_members.rb\nindex 1be8731..9abae9c 100644\n--- a/db/seed/development/staff_members.rb\n+++ b/db/seed/development/staff_members.rb\n@@ -28,7 +28,7 @@ given_name = %w{\n   gn = given_name[n % 5].split(':')\n\n   StaffMember.create!(\n-                 email: \"#{fn[2]}.#{gn[2]}@example.com\",\n+                 email: \"#{fn[2]}.#{gn[2]}-#{n}@example.com\",\n                  family_name: fn[0],\n                  given_name: gn[0],\n                  family_name_kana: fn[1],\n</code></pre>"},{"location":"journal/20250607/#_23","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20250607/#584ff54","title":"\u30b3\u30df\u30c3\u30c8: 584ff54","text":""},{"location":"journal/20250607/#_24","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>fix:\u5358\u4f53\u30c6\u30b9\u30c8\n</code></pre>"},{"location":"journal/20250607/#_25","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M spec/controllers/admin/staff_masters_controller_spec.rb</li> <li>M spec/controllers/customer/session_controller_spec.rb</li> <li>M spec/controllers/staff/accounts_controller_spec.rb</li> <li>M spec/models/staff_member_spec.rb</li> <li>M spec/support/shared_examples_for_admin_controllers.rb</li> <li>M spec/support/shared_examples_for_staff_controllers.rb</li> </ul>"},{"location":"journal/20250607/#_26","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 584ff54225cbdac96fae1ac9c7dd2790d01e734f\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jun 7 18:30:42 2025 +0900\n\n    fix:\u5358\u4f53\u30c6\u30b9\u30c8\n\ndiff --git a/spec/controllers/admin/staff_masters_controller_spec.rb b/spec/controllers/admin/staff_masters_controller_spec.rb\nindex 5f14598..27db4c9 100644\n--- a/spec/controllers/admin/staff_masters_controller_spec.rb\n+++ b/spec/controllers/admin/staff_masters_controller_spec.rb\n@@ -16,14 +16,14 @@ describe Admin::StaffMembersController do\n   describe '#create' do\n     # \u8077\u54e1\u4e00\u89a7\u30da\u30fc\u30b8\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n     it 'should redirect to StaffMember index page' do\n-      post :create, staff_member: params_hash\n+      post :create, params: { staff_member: params_hash }\n       expect(response).to redirect_to(admin_staff_members_url)\n     end\n\n     # \u4f8b\u5916ActionController::ParameterMissing\u304c\u767a\u751f\n     it 'should raise ActionController::ParameterMissing exception' do\n       bypass_rescue\n-      expect { post :create}.to raise_error(ActionController::ParameterMissing)\n+      expect { post :create, params: {} }.to raise_error(ActionController::ParameterMissing)\n     end\n   end\n\n@@ -33,7 +33,7 @@ describe Admin::StaffMembersController do\n     # suspended\u30d5\u30e9\u30b0\u3092\u30bb\u30c3\u30c8\u3059\u308b\n     it 'should set suspended flag' do\n       params_hash.merge!(suspended: true)\n-      patch :update, id: staff_member.id, staff_member: params_hash\n+      patch :update, params: { id: staff_member.id, staff_member: params_hash }\n       staff_member.reload\n       expect(staff_member).to be_suspended\n     end\n@@ -43,7 +43,7 @@ describe Admin::StaffMembersController do\n       params_hash.delete(:password)\n       params_hash.merge!(hashed_password: 'x')\n       expect {\n-      patch :update, id: staff_member.id, staff_member: params_hash\n+      patch :update, params: { id: staff_member.id, staff_member: params_hash }\n       }.not_to change { staff_member.hashed_password.to_s }\n     end\n   end\ndiff --git a/spec/controllers/customer/session_controller_spec.rb b/spec/controllers/customer/session_controller_spec.rb\nindex 5a0f323..f90ff06 100644\n--- a/spec/controllers/customer/session_controller_spec.rb\n+++ b/spec/controllers/customer/session_controller_spec.rb\n@@ -6,21 +6,21 @@ describe Customer::SessionsController do\n\n     # [\u6b21\u56de\u304b\u3089\u81ea\u52d5\u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b]\u306b\u30c1\u30a7\u30c3\u30af\u305b\u305a\u30ed\u30b0\u30a4\u30f3\n     it 'Do not check \"\u6b21\u56de\u304b\u3089\u81ea\u52d5\u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b\" Login' do\n-      post :create, customer_login_form: {\n+      post :create, params: { customer_login_form: {\n           email: customer.email,\n           password: 'password'\n-      }\n+      } }\n       expect(session[:customer_id]).to eq(customer.id)\n       expect(response.cookies).not_to have_key('custoemr_id')\n     end\n\n     # [\u6b21\u56de\u304b\u3089\u81ea\u52d5\u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b]\u306b\u30c1\u30a7\u30c3\u30af\u3057\u3066\u30ed\u30b0\u30a4\u30f3\n     it 'Do check \"\u6b21\u56de\u304b\u3089\u81ea\u52d5\u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b\" Login' do\n-      post :create, customer_login_form: {\n+      post :create, params: { customer_login_form: {\n           email: customer.email,\n           password: 'password',\n           remember_me: '1'\n-      }\n+      } }\n\n       expect(session).not_to have_key(:customer_id)\n       expect(response.cookies['customer_id']).to match(/[0-9a-f]{40}\\z/)\n@@ -29,4 +29,4 @@ describe Customer::SessionsController do\n       expect(cookies['customer_id'][:expires]).to be &gt; 19.years.from_now\n     end\n   end\n-end\n\\ No newline at end of file\n+end\ndiff --git a/spec/controllers/staff/accounts_controller_spec.rb b/spec/controllers/staff/accounts_controller_spec.rb\nindex bdce4d8..d1338e9 100644\n--- a/spec/controllers/staff/accounts_controller_spec.rb\n+++ b/spec/controllers/staff/accounts_controller_spec.rb\n@@ -17,7 +17,7 @@ describe Staff::AccountsController do\n     # email\u5c5e\u6027\u3092\u5909\u66f4\u3059\u308b\n     it 'should update email attributes' do\n       params_hash.merge!(email: 'test@example.com')\n-      patch :update, id: staff_member.id, staff_member: params_hash, commit: '\u66f4\u65b0'\n+      patch :update, params: { id: staff_member.id, staff_member: params_hash, commit: '\u66f4\u65b0' }\n       staff_member.reload\n       expect(staff_member.email).to eq('test@example.com')\n     end\n@@ -25,14 +25,14 @@ describe Staff::AccountsController do\n     # \u4f8b\u5916ActionController::ParameterMissing\u304c\u767a\u751f\n     it 'should throw ActionController::ParameterMissing exception' do\n       bypass_rescue\n-      expect { patch :update, id: staff_member.id, commit: '\u66f4\u65b0'}.to raise_error(ActionController::ParameterMissing)\n+      expect { patch :update, params: { id: staff_member.id, commit: '\u66f4\u65b0' } }.to raise_error(ActionController::ParameterMissing)\n     end\n\n     # end_date\u306e\u5024\u306f\u66f8\u304d\u63db\u3048\u4e0d\u53ef\n     it 'should writable end_data value' do\n       params_hash.merge!(end_date: Date.tomorrow)\n       expect {\n-        patch :update, id: staff_member.id, staff_member: params_hash, commit: '\u66f4\u65b0'\n+        patch :update, params: { id: staff_member.id, staff_member: params_hash, commit: '\u66f4\u65b0' }\n       }.not_to change { staff_member.end_date }\n     end\n   end\ndiff --git a/spec/models/staff_member_spec.rb b/spec/models/staff_member_spec.rb\nindex 4d72fe7..6006926 100644\n--- a/spec/models/staff_member_spec.rb\n+++ b/spec/models/staff_member_spec.rb\n@@ -77,8 +77,8 @@ RSpec.describe StaffMember, type: :model do\n   describe 'validation' do\n     # @\u30922\u500b\u542b\u3080email\u306f\u7121\u52b9\n     it 'invalid email containing 2 @' do\n-      memeber = build(:staff_member, email: 'test@@example.com')\n-      expect(memeber).not_to be_valid\n+      member = build(:staff_member, email: 'test@@example.com')\n+      expect(member).not_to be_valid\n     end\n\n     # \u6f22\u5b57\u3092\u542b\u3080family_name_kana\u306f\u7121\u52b9\ndiff --git a/spec/support/shared_examples_for_admin_controllers.rb b/spec/support/shared_examples_for_admin_controllers.rb\nindex d788479..8068f9e 100644\n--- a/spec/support/shared_examples_for_admin_controllers.rb\n+++ b/spec/support/shared_examples_for_admin_controllers.rb\n@@ -10,7 +10,7 @@ shared_examples 'a protected admin controller' do\n   describe '#show' do\n     # \u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n     it 'should redirect to login form' do\n-      get :show, id: 1\n+      get :show, params: { id: 1 }\n       expect(response).to redirect_to(admin_login_url)\n     end\n   end\n@@ -24,4 +24,4 @@ shared_examples 'a protected singular admin controller' do\n       expect(response).to redirect_to(admin_login_url)\n     end\n   end\n-end\n\\ No newline at end of file\n+end\ndiff --git a/spec/support/shared_examples_for_staff_controllers.rb b/spec/support/shared_examples_for_staff_controllers.rb\nindex d4c14b8..e342053 100644\n--- a/spec/support/shared_examples_for_staff_controllers.rb\n+++ b/spec/support/shared_examples_for_staff_controllers.rb\n@@ -10,7 +10,7 @@ shared_examples 'a protected staff controller' do\n   describe '#show' do\n     # \u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n     it 'should redirect to login form' do\n-      get :show, id: 1\n+      get :show, params: { id: 1 }\n       expect(response).to redirect_to(staff_login_url)\n     end\n   end\n@@ -24,4 +24,4 @@ shared_examples 'a protected singular staff controller' do\n       expect(response).to redirect_to(staff_login_url)\n     end\n   end\n-end\n\\ No newline at end of file\n+end\n</code></pre>"},{"location":"journal/20250607/#_27","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20250607/#24949da","title":"\u30b3\u30df\u30c3\u30c8: 24949da","text":""},{"location":"journal/20250607/#_28","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>CI:github action\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n</code></pre>"},{"location":"journal/20250607/#_29","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A .github/workflows/CI.yml</li> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>M spec/rails_helper.rb</li> </ul>"},{"location":"journal/20250607/#_30","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 24949dab3b2699e518f4016918df8a63a9e1b35c\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jun 7 18:26:05 2025 +0900\n\n    CI:github action\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\ndiff --git a/.github/workflows/CI.yml b/.github/workflows/CI.yml\nnew file mode 100644\nindex 0000000..a71f2b1\n--- /dev/null\n+++ b/.github/workflows/CI.yml\n@@ -0,0 +1,44 @@\n+name: Ruby Application CI\n+\n+on:\n+  push:\n+  pull_request:\n+    branches: [ master ]\n+\n+jobs:\n+  test:\n+    runs-on: ubuntu-latest\n+\n+    services:\n+      mysql:\n+        image: mysql:8.0\n+        env:\n+          MYSQL_ROOT_PASSWORD: password\n+        ports:\n+          - 3306:3306\n+        options: --health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3\n+\n+    steps:\n+      - uses: actions/checkout@v4\n+      - name: Set up Ruby\n+        uses: ruby/setup-ruby@v1\n+        with:\n+          ruby-version: 3.4.4\n+          bundler-cache: true\n+\n+      - name: Setup Database\n+        env:\n+          RAILS_ENV: test\n+          DATABASE_URL: mysql2://root:password@127.0.0.1:3306/baukis-kai_test\n+        run: |\n+          bundle config set --local path vendor/bundle\n+          bundle install --jobs 4 --retry 3\n+          bundle exec rake db:create RAILS_ENV=test\n+          bundle exec rake db:migrate RAILS_ENV=test\n+\n+      - name: Run tests\n+        env:\n+          RAILS_ENV: test\n+          DATABASE_URL: mysql2://root:password@127.0.0.1:3306/baukis-kai_test\n+        run: |\n+          bundle exec rake spec\ndiff --git a/Gemfile b/Gemfile\nindex 3910ebd..e85164d 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -67,10 +67,11 @@ end\n group :test do\n   gem 'faker'\n   gem 'capybara'\n-  gem 'capybara-webkit'\n   gem 'database_cleaner'\n   gem 'launchy'\n+  gem 'capybara'\n   gem 'selenium-webdriver'\n+  gem 'webdrivers'\n   gem 'shoulda-matchers'\n   gem 'capybara-screenshot'\n   gem 'rails-controller-testing'\n@@ -104,4 +105,5 @@ gem 'drb'\n gem 'ostruct'\n gem 'base64'\n gem 'csv'\n-gem 'nkf'\n\\ No newline at end of file\n+gem 'nkf'\n+\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex 862d79a..944d710 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -112,9 +112,6 @@ GEM\n     capybara-screenshot (1.0.26)\n       capybara (&gt;= 1.0, &lt; 4)\n       launchy\n-    capybara-webkit (1.15.1)\n-      capybara (&gt;= 2.3, &lt; 4.0)\n-      json\n     childprocess (5.1.0)\n       logger (~&gt; 1.5)\n     choice (0.2.0)\n@@ -211,7 +208,6 @@ GEM\n       thor (&gt;= 0.14, &lt; 2.0)\n     jquery-ui-rails (8.0.0)\n       railties (&gt;= 3.2.16)\n-    json (2.12.2)\n     kaminari (1.2.2)\n       activesupport (&gt;= 4.1.0)\n       kaminari-actionview (= 1.2.2)\n@@ -441,6 +437,10 @@ GEM\n       activemodel (&gt;= 6.0.0)\n       bindex (&gt;= 0.4.0)\n       railties (&gt;= 6.0.0)\n+    webdrivers (5.2.0)\n+      nokogiri (~&gt; 1.6)\n+      rubyzip (&gt;= 1.3.0)\n+      selenium-webdriver (~&gt; 4.0)\n     webrick (1.9.1)\n     websocket (1.2.11)\n     websocket-driver (0.8.0)\n@@ -475,7 +475,6 @@ DEPENDENCIES\n   byebug\n   capybara\n   capybara-screenshot\n-  capybara-webkit\n   coffee-rails\n   concurrent-ruby (= 1.3.4)\n   csv\n@@ -524,6 +523,7 @@ DEPENDENCIES\n   tzinfo-data\n   uglifier\n   web-console\n+  webdrivers\n   webrick\n   yard\n\ndiff --git a/spec/rails_helper.rb b/spec/rails_helper.rb\nindex a0c868b..bd111bc 100644\n--- a/spec/rails_helper.rb\n+++ b/spec/rails_helper.rb\n@@ -7,6 +7,48 @@ require 'spec_helper'\n require 'rspec/rails'\n # Add additional requires below this line. Rails is not loaded until this point!\n\n+# Capybara \u3068Selenium WebDriver\u306e\u8a2d\u5b9a\n+require 'capybara/rails'\n+require 'capybara/rspec'\n+require 'selenium-webdriver'\n+\n+# Chrome Headless\u8a2d\u5b9a\n+Capybara.register_driver :selenium_chrome_headless do |app|\n+  options = Selenium::WebDriver::Chrome::Options.new\n+  options.add_argument('--headless')\n+  options.add_argument('--no-sandbox')\n+  options.add_argument('--disable-dev-shm-usage')\n+  options.add_argument('--disable-gpu')\n+  options.add_argument('--remote-debugging-port=9222')\n+  options.add_argument('--window-size=1400,1400')\n+  options.add_argument('--disable-features=VizDisplayCompositor')\n+\n+  Capybara::Selenium::Driver.new(app, browser: :chrome, options: options)\n+end\n+\n+# Chrome\u8a2d\u5b9a\uff08\u30c7\u30d0\u30c3\u30b0\u7528\uff09\n+Capybara.register_driver :selenium_chrome do |app|\n+  options = Selenium::WebDriver::Chrome::Options.new\n+  options.add_argument('--no-sandbox')\n+  options.add_argument('--disable-dev-shm-usage')\n+  options.add_argument('--window-size=1400,1400')\n+\n+  Capybara::Selenium::Driver.new(app, browser: :chrome, options: options)\n+end\n+\n+# \u74b0\u5883\u306b\u5fdc\u3058\u3066\u30c9\u30e9\u30a4\u30d0\u30fc\u3092\u5207\u308a\u66ff\u3048\n+if ENV['HEADLESS'] || ENV['CI']\n+  Capybara.javascript_driver = :selenium_chrome_headless\n+else\n+  Capybara.javascript_driver = :selenium_chrome\n+end\n+\n+# Capybara\u8a2d\u5b9a\n+Capybara.default_driver = :rack_test\n+Capybara.default_max_wait_time = 5\n+Capybara.server_host = '0.0.0.0'\n+Capybara.server_port = 3001\n+\n # Requires supporting ruby files with custom matchers and macros, etc, in\n # spec/support/ and its subdirectories. Files matching `spec/**/*_spec.rb` are\n # run as spec files by default. This means that files in spec/support that end\n@@ -22,15 +64,13 @@ require 'rspec/rails'\n #\n Dir[Rails.root.join('spec/support/**/*.rb')].each { |f| require f }\n\n-Capybara.javascript_driver = :webkit\n-\n # Checks for pending migration and applies them before tests are run.\n # If you are not using ActiveRecord, you can remove this line.\n ActiveRecord::Migration.maintain_test_schema!\n\n RSpec.configure do |config|\n   # Remove this line if you're not using ActiveRecord or ActiveRecord fixtures\n-  config.fixture_path = \"#{::Rails.root}/spec/fixtures\"\n+  config.fixture_paths = [\"#{::Rails.root}/spec/fixtures\"]\n\n   # If you're not using ActiveRecord, or you'd prefer not to run each of your\n   # examples within a transaction, remove the following line or assign false\n@@ -74,4 +114,13 @@ RSpec.configure do |config|\n   config.after do\n     Rails.application.config.baukis_kai[:restrict_ip_addresses] = false\n   end\n+\n+  # System test configuration\n+  config.before(:each, type: :system) do\n+    if ENV['HEADLESS'] || ENV['CI']\n+      driven_by :selenium_chrome_headless\n+    else\n+      driven_by :selenium_chrome\n+    end\n+  end\n end\n</code></pre>"},{"location":"journal/20250607/#f5bb451","title":"\u30b3\u30df\u30c3\u30c8: f5bb451","text":""},{"location":"journal/20250607/#_31","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>chore:Rails\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\n</code></pre>"},{"location":"journal/20250607/#_32","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>M db/schema.rb</li> <li>M spec/factories/addresses.rb</li> <li>M spec/factories/administrators.rb</li> <li>M spec/factories/allowed_sources.rb</li> <li>M spec/factories/customers.rb</li> <li>M spec/factories/entries.rb</li> <li>M spec/factories/hash_locks.rb</li> <li>M spec/factories/message_tag_links.rb</li> <li>M spec/factories/messages.rb</li> <li>M spec/factories/phones.rb</li> <li>M spec/factories/programs.rb</li> <li>M spec/factories/staff_events.rb</li> <li>M spec/factories/staff_members.rb</li> <li>M spec/factories/tags.rb</li> <li>M spec/rails_helper.rb</li> </ul>"},{"location":"journal/20250607/#_33","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit f5bb4516b0bf6b3b2d22e769e6a8f6fb883180ea\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jun 7 17:03:01 2025 +0900\n\n    chore:Rails\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\n\ndiff --git a/Gemfile b/Gemfile\nindex 677ed7b..3910ebd 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -8,7 +8,7 @@ end\n\n\n # Bundle edge Rails instead: gem 'rails', github: 'rails/rails'\n-gem 'rails', '~&gt; 6.1.7.10'\n+gem 'rails', '~&gt; 7.2.2.1'\n # Use mysql as the database for Active Record\n gem 'pg'\n # Use Puma as the app server\n@@ -41,7 +41,7 @@ group :development, :test do\n   gem 'byebug', platform: :mri\n   gem 'rspec-rails'\n   gem 'spring-commands-rspec'\n-  gem 'factory_girl_rails'\n+  gem 'factory_bot_rails'\n   gem 'debase'\n end\n\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex f1822a7..862d79a 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -1,65 +1,77 @@\n GEM\n   remote: https://rubygems.org/\n   specs:\n-    actioncable (6.1.7.10)\n-      actionpack (= 6.1.7.10)\n-      activesupport (= 6.1.7.10)\n+    actioncable (7.2.2.1)\n+      actionpack (= 7.2.2.1)\n+      activesupport (= 7.2.2.1)\n       nio4r (~&gt; 2.0)\n       websocket-driver (&gt;= 0.6.1)\n-    actionmailbox (6.1.7.10)\n-      actionpack (= 6.1.7.10)\n-      activejob (= 6.1.7.10)\n-      activerecord (= 6.1.7.10)\n-      activestorage (= 6.1.7.10)\n-      activesupport (= 6.1.7.10)\n-      mail (&gt;= 2.7.1)\n-    actionmailer (6.1.7.10)\n-      actionpack (= 6.1.7.10)\n-      actionview (= 6.1.7.10)\n-      activejob (= 6.1.7.10)\n-      activesupport (= 6.1.7.10)\n-      mail (~&gt; 2.5, &gt;= 2.5.4)\n-      rails-dom-testing (~&gt; 2.0)\n-    actionpack (6.1.7.10)\n-      actionview (= 6.1.7.10)\n-      activesupport (= 6.1.7.10)\n-      rack (~&gt; 2.0, &gt;= 2.0.9)\n+      zeitwerk (~&gt; 2.6)\n+    actionmailbox (7.2.2.1)\n+      actionpack (= 7.2.2.1)\n+      activejob (= 7.2.2.1)\n+      activerecord (= 7.2.2.1)\n+      activestorage (= 7.2.2.1)\n+      activesupport (= 7.2.2.1)\n+      mail (&gt;= 2.8.0)\n+    actionmailer (7.2.2.1)\n+      actionpack (= 7.2.2.1)\n+      actionview (= 7.2.2.1)\n+      activejob (= 7.2.2.1)\n+      activesupport (= 7.2.2.1)\n+      mail (&gt;= 2.8.0)\n+      rails-dom-testing (~&gt; 2.2)\n+    actionpack (7.2.2.1)\n+      actionview (= 7.2.2.1)\n+      activesupport (= 7.2.2.1)\n+      nokogiri (&gt;= 1.8.5)\n+      racc\n+      rack (&gt;= 2.2.4, &lt; 3.2)\n+      rack-session (&gt;= 1.0.1)\n       rack-test (&gt;= 0.6.3)\n-      rails-dom-testing (~&gt; 2.0)\n-      rails-html-sanitizer (~&gt; 1.0, &gt;= 1.2.0)\n-    actiontext (6.1.7.10)\n-      actionpack (= 6.1.7.10)\n-      activerecord (= 6.1.7.10)\n-      activestorage (= 6.1.7.10)\n-      activesupport (= 6.1.7.10)\n+      rails-dom-testing (~&gt; 2.2)\n+      rails-html-sanitizer (~&gt; 1.6)\n+      useragent (~&gt; 0.16)\n+    actiontext (7.2.2.1)\n+      actionpack (= 7.2.2.1)\n+      activerecord (= 7.2.2.1)\n+      activestorage (= 7.2.2.1)\n+      activesupport (= 7.2.2.1)\n+      globalid (&gt;= 0.6.0)\n       nokogiri (&gt;= 1.8.5)\n-    actionview (6.1.7.10)\n-      activesupport (= 6.1.7.10)\n+    actionview (7.2.2.1)\n+      activesupport (= 7.2.2.1)\n       builder (~&gt; 3.1)\n-      erubi (~&gt; 1.4)\n-      rails-dom-testing (~&gt; 2.0)\n-      rails-html-sanitizer (~&gt; 1.1, &gt;= 1.2.0)\n-    activejob (6.1.7.10)\n-      activesupport (= 6.1.7.10)\n+      erubi (~&gt; 1.11)\n+      rails-dom-testing (~&gt; 2.2)\n+      rails-html-sanitizer (~&gt; 1.6)\n+    activejob (7.2.2.1)\n+      activesupport (= 7.2.2.1)\n       globalid (&gt;= 0.3.6)\n-    activemodel (6.1.7.10)\n-      activesupport (= 6.1.7.10)\n-    activerecord (6.1.7.10)\n-      activemodel (= 6.1.7.10)\n-      activesupport (= 6.1.7.10)\n-    activestorage (6.1.7.10)\n-      actionpack (= 6.1.7.10)\n-      activejob (= 6.1.7.10)\n-      activerecord (= 6.1.7.10)\n-      activesupport (= 6.1.7.10)\n+    activemodel (7.2.2.1)\n+      activesupport (= 7.2.2.1)\n+    activerecord (7.2.2.1)\n+      activemodel (= 7.2.2.1)\n+      activesupport (= 7.2.2.1)\n+      timeout (&gt;= 0.4.0)\n+    activestorage (7.2.2.1)\n+      actionpack (= 7.2.2.1)\n+      activejob (= 7.2.2.1)\n+      activerecord (= 7.2.2.1)\n+      activesupport (= 7.2.2.1)\n       marcel (~&gt; 1.0)\n-      mini_mime (&gt;= 1.1.0)\n-    activesupport (6.1.7.10)\n-      concurrent-ruby (~&gt; 1.0, &gt;= 1.0.2)\n+    activesupport (7.2.2.1)\n+      base64\n+      benchmark (&gt;= 0.3)\n+      bigdecimal\n+      concurrent-ruby (~&gt; 1.0, &gt;= 1.3.1)\n+      connection_pool (&gt;= 2.2.5)\n+      drb\n       i18n (&gt;= 1.6, &lt; 2)\n+      logger (&gt;= 1.4.2)\n       minitest (&gt;= 5.1)\n-      tzinfo (~&gt; 2.0)\n-      zeitwerk (~&gt; 2.3)\n+      securerandom (&gt;= 0.3)\n+      tzinfo (~&gt; 2.0, &gt;= 2.0.5)\n     addressable (2.8.7)\n       public_suffix (&gt;= 2.0.2, &lt; 7.0)\n     annotate (3.2.0)\n@@ -69,6 +81,7 @@ GEM\n       execjs (~&gt; 2)\n     base64 (0.3.0)\n     bcrypt (3.1.20)\n+    benchmark (0.4.1)\n     better_errors (2.10.1)\n       erubi (&gt;= 1.0.0)\n       rack (&gt;= 0.9.0)\n@@ -114,6 +127,7 @@ GEM\n       execjs\n     coffee-script-source (1.12.2)\n     concurrent-ruby (1.3.4)\n+    connection_pool (2.5.3)\n     crass (1.0.6)\n     csv (3.3.5)\n     database_cleaner (2.1.0)\n@@ -143,14 +157,15 @@ GEM\n       activemodel\n     enum_help (0.0.19)\n       activesupport (&gt;= 3.0.0)\n+    erb (5.0.1)\n     erubi (1.13.1)\n     eventmachine (1.2.7)\n     execjs (2.10.0)\n-    factory_girl (4.9.0)\n-      activesupport (&gt;= 3.0.0)\n-    factory_girl_rails (4.9.0)\n-      factory_girl (~&gt; 4.9.0)\n-      railties (&gt;= 3.0.0)\n+    factory_bot (6.5.3)\n+      activesupport (&gt;= 6.1.0)\n+    factory_bot_rails (6.4.4)\n+      factory_bot (~&gt; 6.5)\n+      railties (&gt;= 5.0.0)\n     faker (3.5.1)\n       i18n (&gt;= 1.8.11, &lt; 2)\n     ffi (1.15.5)\n@@ -182,6 +197,11 @@ GEM\n     i18n_generators (2.2.2)\n       activerecord (&gt;= 3.0.0)\n       railties (&gt;= 3.0.0)\n+    io-console (0.8.0)\n+    irb (1.15.2)\n+      pp (&gt;= 0.6.0)\n+      rdoc (&gt;= 4.0.0)\n+      reline (&gt;= 0.4.2)\n     jbuilder (2.13.0)\n       actionview (&gt;= 5.0.0)\n       activesupport (&gt;= 5.0.0)\n@@ -265,9 +285,15 @@ GEM\n     observer (0.1.2)\n     ostruct (0.6.1)\n     pg (1.5.9)\n+    pp (0.6.2)\n+      prettyprint\n+    prettyprint (0.2.0)\n     pry (0.15.2)\n       coderay (~&gt; 1.1)\n       method_source (~&gt; 1.0)\n+    psych (5.2.6)\n+      date\n+      stringio\n     public_suffix (6.0.2)\n     puma (6.6.0)\n       nio4r (~&gt; 2.0)\n@@ -277,23 +303,27 @@ GEM\n       rack (&gt;= 1.1, &lt; 4.0)\n     rack-livereload (0.5.2)\n       rack (&lt; 3)\n+    rack-session (1.0.2)\n+      rack (&lt; 3)\n     rack-test (2.2.0)\n       rack (&gt;= 1.3)\n-    rails (6.1.7.10)\n-      actioncable (= 6.1.7.10)\n-      actionmailbox (= 6.1.7.10)\n-      actionmailer (= 6.1.7.10)\n-      actionpack (= 6.1.7.10)\n-      actiontext (= 6.1.7.10)\n-      actionview (= 6.1.7.10)\n-      activejob (= 6.1.7.10)\n-      activemodel (= 6.1.7.10)\n-      activerecord (= 6.1.7.10)\n-      activestorage (= 6.1.7.10)\n-      activesupport (= 6.1.7.10)\n+    rackup (1.0.1)\n+      rack (&lt; 3)\n+      webrick\n+    rails (7.2.2.1)\n+      actioncable (= 7.2.2.1)\n+      actionmailbox (= 7.2.2.1)\n+      actionmailer (= 7.2.2.1)\n+      actionpack (= 7.2.2.1)\n+      actiontext (= 7.2.2.1)\n+      actionview (= 7.2.2.1)\n+      activejob (= 7.2.2.1)\n+      activemodel (= 7.2.2.1)\n+      activerecord (= 7.2.2.1)\n+      activestorage (= 7.2.2.1)\n+      activesupport (= 7.2.2.1)\n       bundler (&gt;= 1.15.0)\n-      railties (= 6.1.7.10)\n-      sprockets-rails (&gt;= 2.0.0)\n+      railties (= 7.2.2.1)\n     rails-controller-testing (1.0.5)\n       actionpack (&gt;= 5.0.1.rc1)\n       actionview (&gt;= 5.0.1.rc1)\n@@ -315,17 +345,24 @@ GEM\n       rails_stdout_logging\n     rails_serve_static_assets (0.0.5)\n     rails_stdout_logging (0.0.5)\n-    railties (6.1.7.10)\n-      actionpack (= 6.1.7.10)\n-      activesupport (= 6.1.7.10)\n-      method_source\n+    railties (7.2.2.1)\n+      actionpack (= 7.2.2.1)\n+      activesupport (= 7.2.2.1)\n+      irb (~&gt; 1.13)\n+      rackup (&gt;= 1.0.0)\n       rake (&gt;= 12.2)\n-      thor (~&gt; 1.0)\n+      thor (~&gt; 1.0, &gt;= 1.2.2)\n+      zeitwerk (~&gt; 2.6)\n     rake (13.3.0)\n     rb-fsevent (0.11.2)\n     rb-inotify (0.11.1)\n       ffi (~&gt; 1.0)\n+    rdoc (6.14.0)\n+      erb\n+      psych (&gt;= 4.0.0)\n     regexp_parser (2.10.0)\n+    reline (0.6.1)\n+      io-console (~&gt; 0.5)\n     rexml (3.4.1)\n     rouge (4.5.2)\n     rspec-core (3.13.4)\n@@ -358,6 +395,7 @@ GEM\n       sprockets (&gt; 3.0)\n       sprockets-rails\n       tilt\n+    securerandom (0.4.1)\n     selenium-webdriver (4.33.0)\n       base64 (~&gt; 0.2)\n       logger (~&gt; 1.4)\n@@ -381,6 +419,7 @@ GEM\n       actionpack (&gt;= 6.1)\n       activesupport (&gt;= 6.1)\n       sprockets (&gt;= 3.0.0)\n+    stringio (3.1.7)\n     tag-it-rails (2.0.0)\n       jquery-ui-rails\n       railties\n@@ -396,6 +435,7 @@ GEM\n       tzinfo (&gt;= 1.0.0)\n     uglifier (4.2.1)\n       execjs (&gt;= 0.3.0, &lt; 3)\n+    useragent (0.16.11)\n     web-console (4.2.1)\n       actionview (&gt;= 6.0.0)\n       activemodel (&gt;= 6.0.0)\n@@ -446,7 +486,7 @@ DEPENDENCIES\n   drb\n   email_validator\n   enum_help\n-  factory_girl_rails\n+  factory_bot_rails\n   faker\n   ffi (~&gt; 1.15.5)\n   font-awesome-rails\n@@ -468,7 +508,7 @@ DEPENDENCIES\n   puma\n   rack-dev-mark\n   rack-livereload\n-  rails (~&gt; 6.1.7.10)\n+  rails (~&gt; 7.2.2.1)\n   rails-controller-testing\n   rails-erd\n   rails_12factor\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 80ee82c..ce72980 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -10,8 +10,7 @@\n #\n # It's strongly recommended that you check this file into your version control system.\n\n-ActiveRecord::Schema.define(version: 2017_03_27_081649) do\n-\n+ActiveRecord::Schema[7.2].define(version: 2017_03_27_081649) do\n   create_table \"addresses\", id: :integer, charset: \"utf8mb3\", comment: \"\u4f4f\u6240\", force: :cascade do |t|\n     t.integer \"customer_id\", null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string \"type\", null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\ndiff --git a/spec/factories/addresses.rb b/spec/factories/addresses.rb\nindex ecbdc13..d4c161f 100644\n--- a/spec/factories/addresses.rb\n+++ b/spec/factories/addresses.rb\n@@ -26,22 +26,22 @@\n #  index_addresses_on_type_and_prefecture_and_city  (type,prefecture,city)\n #\n\n-FactoryGirl.define do\n+FactoryBot.define do\n   factory :home_address do\n-    postal_code '1000000'\n-    prefecture '\u6771\u4eac\u90fd'\n-    city '\u5343\u4ee3\u7530\u533a'\n-    address1 '\u8a66\u9a131-1-1'\n-    address2 ''\n+    postal_code {'1000000'}\n+    prefecture {'\u6771\u4eac\u90fd'}\n+    city {'\u5343\u4ee3\u7530\u533a'}\n+    address1 {'\u8a66\u9a131-1-1'}\n+    address2 {''}\n   end\n\n   factory :work_address do\n-    company_name '\u30c6\u30b9\u30c8'\n-    division_name '\u958b\u767a\u90e8'\n-    postal_code '1050000'\n-    prefecture '\u6771\u4eac\u90fd'\n-    city '\u6e2f\u533a'\n-    address1 '\u8a66\u9a131-1-1'\n-    address2 ''\n+    company_name {'\u30c6\u30b9\u30c8'}\n+    division_name {'\u958b\u767a\u90e8'}\n+    postal_code {'1050000'}\n+    prefecture {'\u6771\u4eac\u90fd'}\n+    city {'\u6e2f\u533a'}\n+    address1 {'\u8a66\u9a131-1-1'}\n+    address2 {''}\n   end\n end\ndiff --git a/spec/factories/administrators.rb b/spec/factories/administrators.rb\nindex 336095c..f6bb26f 100644\n--- a/spec/factories/administrators.rb\n+++ b/spec/factories/administrators.rb\n@@ -15,10 +15,10 @@\n #  index_administrators_on_email_for_index  (email_for_index) UNIQUE\n #\n\n-FactoryGirl.define do\n+FactoryBot.define do\n   factory :administrator do\n     sequence(:email) { |n| \"admin#{n}@example.com\" }\n-    password 'pw'\n-    suspended false\n+    password {'pw'}\n+    suspended {false}\n   end\n end\ndiff --git a/spec/factories/allowed_sources.rb b/spec/factories/allowed_sources.rb\nindex 3e60c02..f559f91 100644\n--- a/spec/factories/allowed_sources.rb\n+++ b/spec/factories/allowed_sources.rb\n@@ -17,7 +17,7 @@\n #  index_allowed_sources_on_namespace_and_octets  (namespace,octet1,octet2,octet3,octet4) UNIQUE\n #\n\n-FactoryGirl.define do\n+FactoryBot.define do\n   factory :allowed_source do\n\n   end\ndiff --git a/spec/factories/customers.rb b/spec/factories/customers.rb\nindex 9b0a9cd..3fc8a0d 100644\n--- a/spec/factories/customers.rb\n+++ b/spec/factories/customers.rb\n@@ -34,16 +34,16 @@\n #  index_customers_on_given_name_kana                            (given_name_kana)\n #\n\n-FactoryGirl.define do\n+FactoryBot.define do\n   factory :customer do\n     sequence(:email) { |n| \"member#{n}@example.jp\"}\n-    family_name '\u5c71\u7530'\n-    given_name '\u592a\u90ce'\n-    family_name_kana '\u30e4\u30de\u30c0'\n-    given_name_kana '\u30bf\u30ed\u30a6'\n-    password 'pw'\n-    birthday Date.new(1970,1,1)\n-    gender 'male'\n+    family_name {'\u5c71\u7530'}\n+    given_name {'\u592a\u90ce'}\n+    family_name_kana {'\u30e4\u30de\u30c0'}\n+    given_name_kana {'\u30bf\u30ed\u30a6'}\n+    password {'pw'}\n+    birthday {Date.new(1970,1,1)}\n+    gender {'male'}\n     association :home_address, strategy: :build\n     association :work_address, strategy: :build\n   end\ndiff --git a/spec/factories/entries.rb b/spec/factories/entries.rb\nindex 00ccc05..68decf9 100644\n--- a/spec/factories/entries.rb\n+++ b/spec/factories/entries.rb\n@@ -17,7 +17,7 @@\n #  index_entries_on_program_id_and_customer_id  (program_id,customer_id) UNIQUE\n #\n\n-FactoryGirl.define do\n+FactoryBot.define do\n   factory :entry do\n\n   end\ndiff --git a/spec/factories/hash_locks.rb b/spec/factories/hash_locks.rb\nindex 3300220..efd41d5 100644\n--- a/spec/factories/hash_locks.rb\n+++ b/spec/factories/hash_locks.rb\n@@ -14,7 +14,7 @@\n #  index_hash_locks_on_table_and_column_and_key  (table,column,key) UNIQUE\n #\n\n-FactoryGirl.define do\n+FactoryBot.define do\n   factory :hash_lock do\n\n   end\ndiff --git a/spec/factories/message_tag_links.rb b/spec/factories/message_tag_links.rb\nindex 013cedc..45d214e 100644\n--- a/spec/factories/message_tag_links.rb\n+++ b/spec/factories/message_tag_links.rb\n@@ -13,7 +13,7 @@\n #  index_message_tag_links_on_tag_id                 (tag_id)\n #\n\n-FactoryGirl.define do\n+FactoryBot.define do\n   factory :message_tag_link do\n\n   end\ndiff --git a/spec/factories/messages.rb b/spec/factories/messages.rb\nindex 374c483..f3b7548 100644\n--- a/spec/factories/messages.rb\n+++ b/spec/factories/messages.rb\n@@ -30,16 +30,16 @@\n #  index_messages_on_type_and_staff_member_id                  (type,staff_member_id)\n #\n\n-FactoryGirl.define do\n+FactoryBot.define do\n   factory :customer_message do\n-    subject 'Subject'\n-    body \"Body.\\nBody.\"\n+    subject {'Subject'}\n+    body {\"Body.\\nBody.\"}\n     customer\n   end\n\n   factory :staff_message do\n-    subject 'Subject'\n-    body \"Body.\\nBody.\"\n+    subject {'Subject'}\n+    body {\"Body.\\nBody.\"}\n     parent { FactoryGirl.create(:customer_message)}\n     staff_member\n   end\ndiff --git a/spec/factories/phones.rb b/spec/factories/phones.rb\nindex 694da4d..ec34d5a 100644\n--- a/spec/factories/phones.rb\n+++ b/spec/factories/phones.rb\n@@ -20,7 +20,7 @@\n #  index_phones_on_number_for_index  (number_for_index)\n #\n\n-FactoryGirl.define do\n+FactoryBot.define do\n   factory :phone do\n\n   end\ndiff --git a/spec/factories/programs.rb b/spec/factories/programs.rb\nindex a14ab17..a4ac558 100644\n--- a/spec/factories/programs.rb\n+++ b/spec/factories/programs.rb\n@@ -19,14 +19,14 @@\n #  index_programs_on_registrant_id           (registrant_id)\n #\n\n-FactoryGirl.define do\n+FactoryBot.define do\n   factory :program do\n-    title 'Title'\n-    description 'Description'\n+    title {'Title'}\n+    description {'Description'}\n     application_start_time { 5.days.ago.midnight }\n     application_end_time { 2.days.from_now.midnight }\n-    min_number_of_participants 5\n-    max_number_of_participants 10\n+    min_number_of_participants {5}\n+    max_number_of_participants {10}\n     registrant { create(:staff_member) }\n   end\n end\ndiff --git a/spec/factories/staff_events.rb b/spec/factories/staff_events.rb\nindex adb108e..77f9924 100644\n--- a/spec/factories/staff_events.rb\n+++ b/spec/factories/staff_events.rb\n@@ -14,7 +14,7 @@\n #  index_staff_events_on_staff_member_id_and_created_at  (staff_member_id,created_at)\n #\n\n-FactoryGirl.define do\n+FactoryBot.define do\n   factory :staff_event do\n\n   end\ndiff --git a/spec/factories/staff_members.rb b/spec/factories/staff_members.rb\nindex ce6d3bb..24cc294 100644\n--- a/spec/factories/staff_members.rb\n+++ b/spec/factories/staff_members.rb\n@@ -22,16 +22,16 @@\n #  index_staff_members_on_family_name_kana_and_given_name_kana  (family_name_kana,given_name_kana)\n #\n\n-FactoryGirl.define do\n+FactoryBot.define do\n   factory :staff_member do\n     sequence(:email) { |n| \"meber#{n}@example.com\" }\n-    family_name '\u5c71\u7530'\n-    given_name '\u592a\u90ce'\n-    family_name_kana '\u30e4\u30de\u30c0'\n-    given_name_kana '\u30bf\u30ed\u30a6'\n-    password 'pw'\n+    family_name {'\u5c71\u7530'}\n+    given_name {'\u592a\u90ce'}\n+    family_name_kana {'\u30e4\u30de\u30c0'}\n+    given_name_kana {'\u30bf\u30ed\u30a6'}\n+    password {'pw'}\n     start_date { Date.yesterday }\n-    end_date nil\n-    suspended false\n+    end_date {nil}\n+    suspended {false}\n   end\n end\ndiff --git a/spec/factories/tags.rb b/spec/factories/tags.rb\nindex 32a0e92..aa65ff9 100644\n--- a/spec/factories/tags.rb\n+++ b/spec/factories/tags.rb\n@@ -12,7 +12,7 @@\n #  index_tags_on_value  (value) UNIQUE\n #\n\n-FactoryGirl.define do\n+FactoryBot.define do\n   factory :tag do\n\n   end\ndiff --git a/spec/rails_helper.rb b/spec/rails_helper.rb\nindex 52a3101..a0c868b 100644\n--- a/spec/rails_helper.rb\n+++ b/spec/rails_helper.rb\n@@ -59,10 +59,10 @@ RSpec.configure do |config|\n   # arbitrary gems may also be filtered via:\n   # config.filter_gems_from_backtrace(\"gem name\")\n\n-  config.include FactoryGirl::Syntax::Methods\n+  config.include FactoryBot::Syntax::Methods\n\n   config.before(:suite) do\n-    FactoryGirl.reload\n+    FactoryBot.reload\n   end\n\n   config.before(performance: true) do\n</code></pre>"},{"location":"journal/20250607/#ebe4e22","title":"\u30b3\u30df\u30c3\u30c8: ebe4e22","text":""},{"location":"journal/20250607/#_34","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>chore:Rails\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\n</code></pre>"},{"location":"journal/20250607/#_35","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>M db/schema.rb</li> </ul>"},{"location":"journal/20250607/#_36","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit ebe4e2214d953e6c5a8d3d074f4e8ec4edc194b3\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jun 7 16:46:20 2025 +0900\n\n    chore:Rails\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\n\ndiff --git a/Gemfile b/Gemfile\nindex 54118c4..677ed7b 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -8,7 +8,7 @@ end\n\n\n # Bundle edge Rails instead: gem 'rails', github: 'rails/rails'\n-gem 'rails', '~&gt; 6.0.6.1'\n+gem 'rails', '~&gt; 6.1.7.10'\n # Use mysql as the database for Active Record\n gem 'pg'\n # Use Puma as the app server\n@@ -55,7 +55,6 @@ group :development do\n   gem 'spring-watcher-listen'\n   gem 'better_errors'\n   gem 'binding_of_caller'\n-  gem 'migration_comments'\n   gem 'annotate'\n   gem 'i18n_generators'\n   gem 'yard'\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex fa54609..f1822a7 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -1,61 +1,65 @@\n GEM\n   remote: https://rubygems.org/\n   specs:\n-    actioncable (6.0.6.1)\n-      actionpack (= 6.0.6.1)\n+    actioncable (6.1.7.10)\n+      actionpack (= 6.1.7.10)\n+      activesupport (= 6.1.7.10)\n       nio4r (~&gt; 2.0)\n       websocket-driver (&gt;= 0.6.1)\n-    actionmailbox (6.0.6.1)\n-      actionpack (= 6.0.6.1)\n-      activejob (= 6.0.6.1)\n-      activerecord (= 6.0.6.1)\n-      activestorage (= 6.0.6.1)\n-      activesupport (= 6.0.6.1)\n+    actionmailbox (6.1.7.10)\n+      actionpack (= 6.1.7.10)\n+      activejob (= 6.1.7.10)\n+      activerecord (= 6.1.7.10)\n+      activestorage (= 6.1.7.10)\n+      activesupport (= 6.1.7.10)\n       mail (&gt;= 2.7.1)\n-    actionmailer (6.0.6.1)\n-      actionpack (= 6.0.6.1)\n-      actionview (= 6.0.6.1)\n-      activejob (= 6.0.6.1)\n+    actionmailer (6.1.7.10)\n+      actionpack (= 6.1.7.10)\n+      actionview (= 6.1.7.10)\n+      activejob (= 6.1.7.10)\n+      activesupport (= 6.1.7.10)\n       mail (~&gt; 2.5, &gt;= 2.5.4)\n       rails-dom-testing (~&gt; 2.0)\n-    actionpack (6.0.6.1)\n-      actionview (= 6.0.6.1)\n-      activesupport (= 6.0.6.1)\n-      rack (~&gt; 2.0, &gt;= 2.0.8)\n+    actionpack (6.1.7.10)\n+      actionview (= 6.1.7.10)\n+      activesupport (= 6.1.7.10)\n+      rack (~&gt; 2.0, &gt;= 2.0.9)\n       rack-test (&gt;= 0.6.3)\n       rails-dom-testing (~&gt; 2.0)\n       rails-html-sanitizer (~&gt; 1.0, &gt;= 1.2.0)\n-    actiontext (6.0.6.1)\n-      actionpack (= 6.0.6.1)\n-      activerecord (= 6.0.6.1)\n-      activestorage (= 6.0.6.1)\n-      activesupport (= 6.0.6.1)\n+    actiontext (6.1.7.10)\n+      actionpack (= 6.1.7.10)\n+      activerecord (= 6.1.7.10)\n+      activestorage (= 6.1.7.10)\n+      activesupport (= 6.1.7.10)\n       nokogiri (&gt;= 1.8.5)\n-    actionview (6.0.6.1)\n-      activesupport (= 6.0.6.1)\n+    actionview (6.1.7.10)\n+      activesupport (= 6.1.7.10)\n       builder (~&gt; 3.1)\n       erubi (~&gt; 1.4)\n       rails-dom-testing (~&gt; 2.0)\n       rails-html-sanitizer (~&gt; 1.1, &gt;= 1.2.0)\n-    activejob (6.0.6.1)\n-      activesupport (= 6.0.6.1)\n+    activejob (6.1.7.10)\n+      activesupport (= 6.1.7.10)\n       globalid (&gt;= 0.3.6)\n-    activemodel (6.0.6.1)\n-      activesupport (= 6.0.6.1)\n-    activerecord (6.0.6.1)\n-      activemodel (= 6.0.6.1)\n-      activesupport (= 6.0.6.1)\n-    activestorage (6.0.6.1)\n-      actionpack (= 6.0.6.1)\n-      activejob (= 6.0.6.1)\n-      activerecord (= 6.0.6.1)\n+    activemodel (6.1.7.10)\n+      activesupport (= 6.1.7.10)\n+    activerecord (6.1.7.10)\n+      activemodel (= 6.1.7.10)\n+      activesupport (= 6.1.7.10)\n+    activestorage (6.1.7.10)\n+      actionpack (= 6.1.7.10)\n+      activejob (= 6.1.7.10)\n+      activerecord (= 6.1.7.10)\n+      activesupport (= 6.1.7.10)\n       marcel (~&gt; 1.0)\n-    activesupport (6.0.6.1)\n+      mini_mime (&gt;= 1.1.0)\n+    activesupport (6.1.7.10)\n       concurrent-ruby (~&gt; 1.0, &gt;= 1.0.2)\n-      i18n (&gt;= 0.7, &lt; 2)\n-      minitest (~&gt; 5.1)\n-      tzinfo (~&gt; 1.1)\n-      zeitwerk (~&gt; 2.2, &gt;= 2.2.2)\n+      i18n (&gt;= 1.6, &lt; 2)\n+      minitest (&gt;= 5.1)\n+      tzinfo (~&gt; 2.0)\n+      zeitwerk (~&gt; 2.3)\n     addressable (2.8.7)\n       public_suffix (&gt;= 2.0.2, &lt; 7.0)\n     annotate (3.2.0)\n@@ -78,9 +82,9 @@ GEM\n       sassc (&gt;= 2.0.0)\n     bootstrap3-datetimepicker-rails (4.17.47)\n       momentjs-rails (&gt;= 2.8.1)\n-    bootstrap_form (5.2.3)\n-      actionpack (&gt;= 6.0)\n-      activemodel (&gt;= 6.0)\n+    bootstrap_form (5.4.0)\n+      actionpack (&gt;= 6.1)\n+      activemodel (&gt;= 6.1)\n     builder (3.3.0)\n     byebug (12.0.0)\n     capybara (3.40.0)\n@@ -127,10 +131,10 @@ GEM\n     debase-ruby_core_source (3.4.1)\n     debug_inspector (1.2.0)\n     diff-lcs (1.6.2)\n-    dotenv (2.8.1)\n-    dotenv-rails (2.8.1)\n-      dotenv (= 2.8.1)\n-      railties (&gt;= 3.2)\n+    dotenv (3.1.8)\n+    dotenv-rails (3.1.8)\n+      dotenv (= 3.1.8)\n+      railties (&gt;= 6.1)\n     drb (2.2.3)\n     em-websocket (0.5.3)\n       eventmachine (&gt;= 0.12.9)\n@@ -153,8 +157,8 @@ GEM\n     font-awesome-rails (4.7.0.9)\n       railties (&gt;= 3.2, &lt; 9.0)\n     formatador (1.1.0)\n-    globalid (1.1.0)\n-      activesupport (&gt;= 5.0)\n+    globalid (1.2.1)\n+      activesupport (&gt;= 6.1)\n     guard (2.19.1)\n       formatador (&gt;= 0.2.4)\n       listen (&gt;= 2.7, &lt; 4.0)\n@@ -220,8 +224,6 @@ GEM\n     marcel (1.0.4)\n     matrix (0.4.2)\n     method_source (1.1.0)\n-    migration_comments (0.4.1)\n-      activerecord (&gt;= 4.2.0)\n     mini_mime (1.1.5)\n     minitest (5.25.5)\n     momentjs-rails (2.29.4.1)\n@@ -277,20 +279,20 @@ GEM\n       rack (&lt; 3)\n     rack-test (2.2.0)\n       rack (&gt;= 1.3)\n-    rails (6.0.6.1)\n-      actioncable (= 6.0.6.1)\n-      actionmailbox (= 6.0.6.1)\n-      actionmailer (= 6.0.6.1)\n-      actionpack (= 6.0.6.1)\n-      actiontext (= 6.0.6.1)\n-      actionview (= 6.0.6.1)\n-      activejob (= 6.0.6.1)\n-      activemodel (= 6.0.6.1)\n-      activerecord (= 6.0.6.1)\n-      activestorage (= 6.0.6.1)\n-      activesupport (= 6.0.6.1)\n-      bundler (&gt;= 1.3.0)\n-      railties (= 6.0.6.1)\n+    rails (6.1.7.10)\n+      actioncable (= 6.1.7.10)\n+      actionmailbox (= 6.1.7.10)\n+      actionmailer (= 6.1.7.10)\n+      actionpack (= 6.1.7.10)\n+      actiontext (= 6.1.7.10)\n+      actionview (= 6.1.7.10)\n+      activejob (= 6.1.7.10)\n+      activemodel (= 6.1.7.10)\n+      activerecord (= 6.1.7.10)\n+      activestorage (= 6.1.7.10)\n+      activesupport (= 6.1.7.10)\n+      bundler (&gt;= 1.15.0)\n+      railties (= 6.1.7.10)\n       sprockets-rails (&gt;= 2.0.0)\n     rails-controller-testing (1.0.5)\n       actionpack (&gt;= 5.0.1.rc1)\n@@ -313,12 +315,12 @@ GEM\n       rails_stdout_logging\n     rails_serve_static_assets (0.0.5)\n     rails_stdout_logging (0.0.5)\n-    railties (6.0.6.1)\n-      actionpack (= 6.0.6.1)\n-      activesupport (= 6.0.6.1)\n+    railties (6.1.7.10)\n+      actionpack (= 6.1.7.10)\n+      activesupport (= 6.1.7.10)\n       method_source\n-      rake (&gt;= 0.8.7)\n-      thor (&gt;= 0.20.3, &lt; 2.0)\n+      rake (&gt;= 12.2)\n+      thor (~&gt; 1.0)\n     rake (13.3.0)\n     rb-fsevent (0.11.2)\n     rb-inotify (0.11.1)\n@@ -334,14 +336,14 @@ GEM\n     rspec-mocks (3.13.5)\n       diff-lcs (&gt;= 1.2.0, &lt; 2.0)\n       rspec-support (~&gt; 3.13.0)\n-    rspec-rails (5.1.2)\n-      actionpack (&gt;= 5.2)\n-      activesupport (&gt;= 5.2)\n-      railties (&gt;= 5.2)\n-      rspec-core (~&gt; 3.10)\n-      rspec-expectations (~&gt; 3.10)\n-      rspec-mocks (~&gt; 3.10)\n-      rspec-support (~&gt; 3.10)\n+    rspec-rails (6.1.5)\n+      actionpack (&gt;= 6.1)\n+      activesupport (&gt;= 6.1)\n+      railties (&gt;= 6.1)\n+      rspec-core (~&gt; 3.13)\n+      rspec-expectations (~&gt; 3.13)\n+      rspec-mocks (~&gt; 3.13)\n+      rspec-support (~&gt; 3.13)\n     rspec-support (3.13.4)\n     ruby-graphviz (1.2.5)\n       rexml\n@@ -375,22 +377,21 @@ GEM\n       concurrent-ruby (~&gt; 1.0)\n       logger\n       rack (&gt;= 2.2.4, &lt; 4)\n-    sprockets-rails (3.4.2)\n-      actionpack (&gt;= 5.2)\n-      activesupport (&gt;= 5.2)\n+    sprockets-rails (3.5.2)\n+      actionpack (&gt;= 6.1)\n+      activesupport (&gt;= 6.1)\n       sprockets (&gt;= 3.0.0)\n     tag-it-rails (2.0.0)\n       jquery-ui-rails\n       railties\n     thor (1.3.2)\n-    thread_safe (0.3.6)\n     tilt (2.6.0)\n     timeout (0.4.3)\n     turbolinks (5.2.1)\n       turbolinks-source (~&gt; 5.2)\n     turbolinks-source (5.2.0)\n-    tzinfo (1.2.11)\n-      thread_safe (~&gt; 0.1)\n+    tzinfo (2.0.6)\n+      concurrent-ruby (~&gt; 1.0)\n     tzinfo-data (1.2025.2)\n       tzinfo (&gt;= 1.0.0)\n     uglifier (4.2.1)\n@@ -457,7 +458,6 @@ DEPENDENCIES\n   kaminari\n   launchy\n   listen\n-  migration_comments\n   momentjs-rails\n   mutex_m\n   mysql2\n@@ -468,7 +468,7 @@ DEPENDENCIES\n   puma\n   rack-dev-mark\n   rack-livereload\n-  rails (~&gt; 6.0.6.1)\n+  rails (~&gt; 6.1.7.10)\n   rails-controller-testing\n   rails-erd\n   rails_12factor\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 443ef64..80ee82c 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -2,8 +2,8 @@\n # of editing this file, please use the migrations feature of Active Record to\n # incrementally modify your database, and then regenerate this schema definition.\n #\n-# This file is the source Rails uses to define your schema when running `rails\n-# db:schema:load`. When creating a new database, `rails db:schema:load` tends to\n+# This file is the source Rails uses to define your schema when running `bin/rails\n+# db:schema:load`. When creating a new database, `bin/rails db:schema:load` tends to\n # be faster and is potentially less error prone than running all of your\n # migrations from scratch. Old migrations may fail to apply correctly if those\n # migrations use external dependencies or application code.\n@@ -12,7 +12,7 @@\n\n ActiveRecord::Schema.define(version: 2017_03_27_081649) do\n\n-  create_table \"addresses\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u4f4f\u6240\", force: :cascade do |t|\n+  create_table \"addresses\", id: :integer, charset: \"utf8mb3\", comment: \"\u4f4f\u6240\", force: :cascade do |t|\n     t.integer \"customer_id\", null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string \"type\", null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n     t.string \"postal_code\", null: false, comment: \"\u90f5\u4fbf\u756a\u53f7\"\n@@ -33,7 +33,7 @@ ActiveRecord::Schema.define(version: 2017_03_27_081649) do\n     t.index [\"type\", \"prefecture\", \"city\"], name: \"index_addresses_on_type_and_prefecture_and_city\"\n   end\n\n-  create_table \"administrators\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u7ba1\u7406\u8005\", force: :cascade do |t|\n+  create_table \"administrators\", id: :integer, charset: \"utf8mb3\", comment: \"\u7ba1\u7406\u8005\", force: :cascade do |t|\n     t.string \"email\", null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string \"email_for_index\", null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string \"hashed_password\", comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n@@ -43,7 +43,7 @@ ActiveRecord::Schema.define(version: 2017_03_27_081649) do\n     t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true\n   end\n\n-  create_table \"allowed_sources\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\", force: :cascade do |t|\n+  create_table \"allowed_sources\", id: :integer, charset: \"utf8mb3\", comment: \"IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\", force: :cascade do |t|\n     t.string \"namespace\", null: false, comment: \"\u540d\u524d\u7a7a\u9593\"\n     t.integer \"octet1\", null: false, comment: \"\u7b2c\uff11\u30aa\u30af\u30c6\u30c3\u30c8\"\n     t.integer \"octet2\", null: false, comment: \"\u7b2c\uff12\u30aa\u30af\u30c6\u30c3\u30c8\"\n@@ -55,7 +55,7 @@ ActiveRecord::Schema.define(version: 2017_03_27_081649) do\n     t.index [\"namespace\", \"octet1\", \"octet2\", \"octet3\", \"octet4\"], name: \"index_allowed_sources_on_namespace_and_octets\", unique: true\n   end\n\n-  create_table \"customers\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u9867\u5ba2\", force: :cascade do |t|\n+  create_table \"customers\", id: :integer, charset: \"utf8mb3\", comment: \"\u9867\u5ba2\", force: :cascade do |t|\n     t.string \"email\", null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string \"email_for_index\", null: false, comment: \"\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string \"family_name\", null: false, comment: \"\u59d3\"\n@@ -84,7 +84,7 @@ ActiveRecord::Schema.define(version: 2017_03_27_081649) do\n     t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\"\n   end\n\n-  create_table \"entries\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u7533\u3057\u8fbc\u307f\", force: :cascade do |t|\n+  create_table \"entries\", id: :integer, charset: \"utf8mb3\", comment: \"\u7533\u3057\u8fbc\u307f\", force: :cascade do |t|\n     t.integer \"program_id\", null: false\n     t.integer \"customer_id\", null: false\n     t.boolean \"approved\", default: false, null: false, comment: \"\u627f\u8a8d\u6e08\u307f\u30d5\u30e9\u30b0\"\n@@ -96,7 +96,7 @@ ActiveRecord::Schema.define(version: 2017_03_27_081649) do\n     t.index [\"program_id\"], name: \"index_entries_on_program_id\"\n   end\n\n-  create_table \"hash_locks\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u6392\u4ed6\u5236\u5fa1\", force: :cascade do |t|\n+  create_table \"hash_locks\", id: :integer, charset: \"utf8mb3\", comment: \"\u6392\u4ed6\u5236\u5fa1\", force: :cascade do |t|\n     t.string \"table\", null: false, comment: \"\u30c6\u30fc\u30d6\u30eb\"\n     t.string \"column\", null: false, comment: \"\u30ab\u30e9\u30e0\"\n     t.string \"key\", null: false, comment: \"\u30ad\u30fc\"\n@@ -105,7 +105,7 @@ ActiveRecord::Schema.define(version: 2017_03_27_081649) do\n     t.index [\"table\", \"column\", \"key\"], name: \"index_hash_locks_on_table_and_column_and_key\", unique: true\n   end\n\n-  create_table \"message_tag_links\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb\", force: :cascade do |t|\n+  create_table \"message_tag_links\", id: :integer, charset: \"utf8mb3\", comment: \"\u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb\", force: :cascade do |t|\n     t.integer \"message_id\", null: false\n     t.integer \"tag_id\", null: false\n     t.index [\"message_id\", \"tag_id\"], name: \"index_message_tag_links_on_message_id_and_tag_id\", unique: true\n@@ -113,7 +113,7 @@ ActiveRecord::Schema.define(version: 2017_03_27_081649) do\n     t.index [\"tag_id\"], name: \"index_message_tag_links_on_tag_id\"\n   end\n\n-  create_table \"messages\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u554f\u3044\u5408\u308f\u305b\", force: :cascade do |t|\n+  create_table \"messages\", id: :integer, charset: \"utf8mb3\", comment: \"\u554f\u3044\u5408\u308f\u305b\", force: :cascade do |t|\n     t.integer \"customer_id\", null: false\n     t.integer \"staff_member_id\"\n     t.integer \"root_id\", comment: \"Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n@@ -138,7 +138,7 @@ ActiveRecord::Schema.define(version: 2017_03_27_081649) do\n     t.index [\"type\", \"staff_member_id\"], name: \"index_messages_on_type_and_staff_member_id\"\n   end\n\n-  create_table \"phones\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u96fb\u8a71\", force: :cascade do |t|\n+  create_table \"phones\", id: :integer, charset: \"utf8mb3\", comment: \"\u96fb\u8a71\", force: :cascade do |t|\n     t.integer \"customer_id\", null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.integer \"address_id\", comment: \"\u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string \"number\", null: false, comment: \"\u96fb\u8a71\u756a\u53f7\"\n@@ -153,7 +153,7 @@ ActiveRecord::Schema.define(version: 2017_03_27_081649) do\n     t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\"\n   end\n\n-  create_table \"programs\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u30d7\u30ed\u30b0\u30e9\u30e0\", force: :cascade do |t|\n+  create_table \"programs\", id: :integer, charset: \"utf8mb3\", comment: \"\u30d7\u30ed\u30b0\u30e9\u30e0\", force: :cascade do |t|\n     t.integer \"registrant_id\", null: false, comment: \"\u767b\u9332\u8077\u54e1\uff08\u5916\u90e8\u30ad\u30fc\uff09\"\n     t.string \"title\", null: false, comment: \"\u30bf\u30a4\u30c8\u30eb\"\n     t.text \"description\", comment: \"\u8aac\u660e\"\n@@ -167,7 +167,7 @@ ActiveRecord::Schema.define(version: 2017_03_27_081649) do\n     t.index [\"registrant_id\"], name: \"index_programs_on_registrant_id\"\n   end\n\n-  create_table \"staff_events\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\", force: :cascade do |t|\n+  create_table \"staff_events\", id: :integer, charset: \"utf8mb3\", comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\", force: :cascade do |t|\n     t.integer \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n     t.string \"type\", null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n     t.datetime \"created_at\", null: false, comment: \"\u767a\u751f\u6642\u523b\"\n@@ -176,7 +176,7 @@ ActiveRecord::Schema.define(version: 2017_03_27_081649) do\n     t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\"\n   end\n\n-  create_table \"staff_members\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u8077\u54e1\", force: :cascade do |t|\n+  create_table \"staff_members\", id: :integer, charset: \"utf8mb3\", comment: \"\u8077\u54e1\", force: :cascade do |t|\n     t.string \"email\", null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string \"email_for_index\", null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n     t.string \"family_name\", null: false, comment: \"\u59d3\"\n@@ -193,7 +193,7 @@ ActiveRecord::Schema.define(version: 2017_03_27_081649) do\n     t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\"\n   end\n\n-  create_table \"tags\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u30bf\u30b0\", force: :cascade do |t|\n+  create_table \"tags\", id: :integer, charset: \"utf8mb3\", comment: \"\u30bf\u30b0\", force: :cascade do |t|\n     t.string \"value\", null: false\n     t.datetime \"created_at\", null: false\n     t.datetime \"updated_at\", null: false\n</code></pre>"},{"location":"journal/20250607/#3cda480","title":"\u30b3\u30df\u30c3\u30c8: 3cda480","text":""},{"location":"journal/20250607/#_37","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>chore:Ruby\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\n</code></pre>"},{"location":"journal/20250607/#_38","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .ruby-version</li> <li>M Dockerfile</li> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>M config/database.yml</li> </ul>"},{"location":"journal/20250607/#_39","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 3cda480db2ea8a6fe4500bdbd57a92f5165e1c84\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jun 7 16:36:26 2025 +0900\n\n    chore:Ruby\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\n\ndiff --git a/.ruby-version b/.ruby-version\nindex 6a81b4c..f989260 100644\n--- a/.ruby-version\n+++ b/.ruby-version\n@@ -1 +1 @@\n-2.7.8\n+3.4.4\ndiff --git a/Dockerfile b/Dockerfile\nindex 156e901..17ff930 100644\n--- a/Dockerfile\n+++ b/Dockerfile\n@@ -1,82 +1,146 @@\n-FROM ubuntu:18.04\n+# \u30d9\u30fc\u30b9\u30a4\u30e1\u30fc\u30b8\u3068\u3057\u3066 Ubuntu 22.04 \u3092\u4f7f\u7528\n+FROM ubuntu:22.04 AS base\n\n-# Setup locale\n-RUN \\\n-apt-get -yq update &amp;&amp; \\\n-apt-get install -y language-pack-ja-base language-pack-ja\n-RUN update-locale LANG=ja_JP.UTF-8 LANGUAGE=ja_JP:ja\n-ENV LANG=ja_JP.UTF-8\n-ENV LC_ALL=ja_JP.UTF-8\n-ENV LC_CTYPE=ja_JP.UTF-8\n+# \u74b0\u5883\u5909\u6570\u306e\u8a2d\u5b9a\n+ENV DEBIAN_FRONTEND=noninteractive \\\n+    LANG=ja_JP.UTF-8 \\\n+    LC_ALL=ja_JP.UTF-8 \\\n+    LC_CTYPE=ja_JP.UTF-8 \\\n+    RUBY_VER=3.4.4 \\\n+    BUNDLER_VER=2.6.7 \\\n+    NODE_VER=16 \\\n+    PACKER_VERSION=1.9.2 \\\n+    TERRAFORM_VERSION=1.6.6\n\n+# \u30ed\u30b1\u30fc\u30eb\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n+RUN apt-get update &amp;&amp; apt-get install -y \\\n+    language-pack-ja-base \\\n+    language-pack-ja \\\n+    &amp;&amp; update-locale LANG=ja_JP.UTF-8 LANGUAGE=ja_JP:ja \\\n+    &amp;&amp; rm -rf /var/lib/apt/lists/*\n+\n+# \u57fa\u672c\u7684\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n+ RUN apt-get update &amp;&amp; \\\n+     apt-get install -y \\\n+            sudo \\\n+            build-essential \\\n+            zip \\\n+            unzip \\\n+            git \\\n+            curl \\\n+            wget \\\n+            git-core \\\n+            libssl-dev \\\n+            libc6-dev \\\n+            automake \\\n+            libtool \\\n+            libyaml-dev \\\n+            zlib1g \\\n+            zlib1g-dev \\\n+            openssl \\\n+            libreadline-dev \\\n+            libxml2-dev \\\n+            libxslt1-dev \\\n+            libncurses5-dev \\\n+            pkg-config \\\n+            chrpath \\\n+            libfontconfig1-dev \\\n+            libxft-dev \\\n+            libpq-dev \\\n+            libsqlite3-dev \\\n+            default-mysql-client \\\n+            postgresql-client \\\n+            xvfb \\\n+            qtbase5-dev \\\n+            libqt5webkit5-dev \\\n+            xauth \\\n+            libcurl4-openssl-dev \\\n+            software-properties-common \\\n+            libffi-dev \\\n+            libgdbm-dev \\\n+            libdb-dev \\\n+            lsof \\\n+            default-libmysqlclient-dev \\\n+            ansible \\\n+            rsync \\\n+            vim \\\n+            &amp;&amp; apt-get clean \\\n+            &amp;&amp; rm -rf /var/lib/apt/lists/*\n+\n+# Ruby\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n+RUN git clone https://github.com/sstephenson/rbenv ~/.rbenv \\\n+    &amp;&amp; git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build \\\n+    &amp;&amp; ~/.rbenv/plugins/ruby-build/install.sh \\\n+    &amp;&amp; echo 'export PATH=\"/$HOME/.rbenv/bin:$PATH\"' &gt;&gt; ~/.bashrc \\\n+    &amp;&amp; echo 'eval \"$(rbenv init -)\"' &gt;&gt; ~/.bashrc \\\n+    &amp;&amp; . ~/.bashrc \\\n+    &amp;&amp; rbenv install $RUBY_VER \\\n+    &amp;&amp; rbenv global $RUBY_VER\n+\n+# Node.js\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n+RUN curl -fsSL https://deb.nodesource.com/setup_16.x | bash - \\\n+    &amp;&amp; apt-get install -y nodejs \\\n+    &amp;&amp; npm install -g yarn \\\n+    &amp;&amp; curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash \\\n+    &amp;&amp; . $HOME/.nvm/nvm.sh \\\n+    &amp;&amp; nvm install $NODE_VER \\\n+    &amp;&amp; nvm use $NODE_VER\n+\n+# pip\u306e\u66f4\u65b0\u3068AWS\u30c4\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n RUN apt-get update &amp;&amp; \\\n     apt-get install -y \\\n-           sudo \\\n-           build-essential \\\n-           zip \\\n-           unzip \\\n-           git \\\n-           curl \\\n-           wget \\\n-           git-core \\\n-           libssl-dev \\\n-           libqt4-dev \\\n-           libc6-dev \\\n-           automake \\\n-           libtool \\\n-           libyaml-dev \\\n-           zlib1g \\\n-           zlib1g-dev \\\n-           openssl \\\n-           libreadline-dev \\\n-           libxml2-dev \\\n-           libxslt1-dev \\\n-           libncurses5-dev \\\n-           pkg-config \\\n-           chrpath \\\n-           libfontconfig1-dev \\\n-           libxft-dev \\\n-           libpq-dev \\\n-           libsqlite3-dev \\\n-           libmysqlclient-dev \\\n-           default-mysql-client \\\n-           postgresql-client \\\n-           xvfb \\\n-           qtbase5-dev \\\n-           libqt5webkit5-dev \\\n-           libqtwebkit-dev \\\n-           xauth \\\n-           libcurl4-openssl-dev \\\n-           software-properties-common \\\n-           libffi-dev \\\n-           libgdbm5 \\\n-           libgdbm-dev \\\n-           libdb-dev \\\n-           lsof \\\n-           vim\n+        python3-pip \\\n+        python3-dev \\\n+        python3-venv \\\n+        virtualenv \\\n+        build-essential \\\n+        git \\\n+        unzip \\\n+        &amp;&amp; \\\n+    ln -sf /usr/bin/python3 /usr/bin/python &amp;&amp; \\\n+    pip3 install --no-cache-dir --upgrade pip virtualenv &amp;&amp; \\\n+    curl \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" -o \"awscliv2.zip\" &amp;&amp; \\\n+    unzip awscliv2.zip &amp;&amp; \\\n+    ./aws/install &amp;&amp; \\\n+    rm -rf awscliv2.zip aws &amp;&amp; \\\n+    git clone https://github.com/aws/aws-elastic-beanstalk-cli-setup.git &amp;&amp; \\\n+    cd aws-elastic-beanstalk-cli-setup &amp;&amp; \\\n+    python3 ./scripts/ebcli_installer.py &amp;&amp; \\\n+    echo 'export PATH=\"/root/.ebcli-virtual-env/executables:$PATH\"' &gt;&gt; /root/.bashrc &amp;&amp; \\\n+    rm -rf aws-elastic-beanstalk-cli-setup &amp;&amp; \\\n+    apt-get clean &amp;&amp; \\\n+    rm -rf /var/lib/apt/lists/*\n+\n+# PATH\u306e\u8a2d\u5b9a\n+ENV PATH=\"/root/.ebcli-virtual-env/executables:$PATH\"\n+\n+# HashiCorp\u30c4\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n+RUN curl -fsSL https://releases.hashicorp.com/packer/${PACKER_VERSION}/packer_${PACKER_VERSION}_linux_amd64.zip -o packer.zip \\\n+    &amp;&amp; unzip packer.zip -d /usr/local/bin \\\n+    &amp;&amp; rm packer.zip \\\n+    &amp;&amp; curl -fsSL https://releases.hashicorp.com/terraform/${TERRAFORM_VERSION}/terraform_${TERRAFORM_VERSION}_linux_amd64.zip -o terraform.zip \\\n+    &amp;&amp; unzip terraform.zip -d /usr/local/bin \\\n+    &amp;&amp; rm terraform.zip\n+\n+# EasyRSA\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n+RUN mkdir -p /home/vscode/easy-rsa \\\n+    &amp;&amp; useradd -m vscode || true \\\n+    &amp;&amp; wget -qO- https://github.com/OpenVPN/easy-rsa/releases/download/v3.1.5/EasyRSA-3.1.5.tgz | tar xz -C /home/vscode/easy-rsa/ --strip-components=1 \\\n+    &amp;&amp; chown -R vscode:vscode /home/vscode/easy-rsa \\\n+    &amp;&amp; chmod -R 755 /home/vscode/easy-rsa\n\n-# Ruby\n-ENV RUBY_VER 2.7.8\n-ENV BUNDLER_VER 2.1.4\n-RUN rm -rf ~/.rbenv\n-RUN git clone https://github.com/sstephenson/rbenv ~/.rbenv\n-RUN git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\n-RUN ~/.rbenv/plugins/ruby-build/install.sh\n-RUN echo 'export PATH=\"/$HOME/.rbenv/bin:$PATH\"' &gt;&gt; ~/.bash_profile\n-RUN echo 'eval \"$(rbenv init -)\"' &gt;&gt; ~/.bash_profile\n-RUN . ~/.bash_profile &amp;&amp; \\\n-         rbenv install $RUBY_VER  &amp;&amp; \\\n-         rbenv global $RUBY_VER\n-ENV PATH ~/.rbenv/shims:$PATH\n-RUN ~/.rbenv/shims/gem install bundler:$BUNDLER_VER\n+# \u30d8\u30eb\u30d1\u30fc\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u8ffd\u52a0\n+COPY --chmod=755 &lt;&lt;EOF /usr/local/bin/check-easyrsa\n+#!/bin/bash\n+echo \"Checking for EasyRSA:\"\n+find /usr -name \"easyrsa\" -type f\n+echo \"\"\n+echo \"Checking for OpenSSL configs:\"\n+find /usr -name \"openssl-*.cnf\"\n+EOF\n\n-# Node\n-ENV NODE_VER 16\n-RUN curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash\n-RUN . $HOME/.nvm/nvm.sh &amp;&amp; \\\n-    nvm install $NODE_VER &amp;&amp; \\\n-    nvm use $NODE_VER &amp;&amp; \\\n-    node -v &amp;&amp; npm -v &amp;&amp; \\\n-    npm i -g yarn\n-RUN apt install -y nodejs\n+# \u30d1\u30b9\u306e\u8a2d\u5b9a\n+ENV PATH=\"/root/.rbenv/shims:$PATH\"\n\n+# \u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u8a2d\u5b9a\n+WORKDIR /srv\ndiff --git a/Gemfile b/Gemfile\nindex 8d76ee1..54118c4 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -1,5 +1,5 @@\n source 'https://rubygems.org'\n-ruby '2.7.8'\n+ruby '3.4.4'\n\n git_source(:github) do |repo_name|\n   repo_name = \"#{repo_name}/#{repo_name}\" unless repo_name.include?(\"/\")\n@@ -95,4 +95,14 @@ gem 'momentjs-rails'\n gem 'bootstrap3-datetimepicker-rails'\n gem 'tag-it-rails'\n gem 'ffi', '~&gt; 1.15.5'\n-gem 'concurrent-ruby', '1.3.4'\n\\ No newline at end of file\n+gem 'concurrent-ruby', '1.3.4'\n+# Ruby 3.4\u5bfe\u5fdc\uff08\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u524a\u9664\u3055\u308c\u305fgem\uff09\n+gem 'webrick'\n+gem 'observer'\n+gem 'mutex_m'\n+gem 'bigdecimal'\n+gem 'drb'\n+gem 'ostruct'\n+gem 'base64'\n+gem 'csv'\n+gem 'nkf'\n\\ No newline at end of file\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex 62319f4..fa54609 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -69,6 +69,7 @@ GEM\n       erubi (&gt;= 1.0.0)\n       rack (&gt;= 0.9.0)\n       rouge (&gt;= 1.0.0)\n+    bigdecimal (3.2.2)\n     bindex (0.8.1)\n     binding_of_caller (1.0.1)\n       debug_inspector (&gt;= 1.2.0)\n@@ -77,16 +78,16 @@ GEM\n       sassc (&gt;= 2.0.0)\n     bootstrap3-datetimepicker-rails (4.17.47)\n       momentjs-rails (&gt;= 2.8.1)\n-    bootstrap_form (5.1.0)\n-      actionpack (&gt;= 5.2)\n-      activemodel (&gt;= 5.2)\n+    bootstrap_form (5.2.3)\n+      actionpack (&gt;= 6.0)\n+      activemodel (&gt;= 6.0)\n     builder (3.3.0)\n-    byebug (11.1.3)\n-    capybara (3.39.2)\n+    byebug (12.0.0)\n+    capybara (3.40.0)\n       addressable\n       matrix\n       mini_mime (&gt;= 0.1.3)\n-      nokogiri (~&gt; 1.8)\n+      nokogiri (~&gt; 1.11)\n       rack (&gt;= 1.6.0)\n       rack-test (&gt;= 0.6.3)\n       regexp_parser (&gt;= 1.5, &lt; 3.0)\n@@ -110,6 +111,7 @@ GEM\n     coffee-script-source (1.12.2)\n     concurrent-ruby (1.3.4)\n     crass (1.0.6)\n+    csv (3.3.5)\n     database_cleaner (2.1.0)\n       database_cleaner-active_record (&gt;= 2, &lt; 3)\n     database_cleaner-active_record (2.2.1)\n@@ -129,6 +131,7 @@ GEM\n     dotenv-rails (2.8.1)\n       dotenv (= 2.8.1)\n       railties (&gt;= 3.2)\n+    drb (2.2.3)\n     em-websocket (0.5.3)\n       eventmachine (&gt;= 0.12.9)\n       http_parser.rb (~&gt; 0)\n@@ -144,7 +147,7 @@ GEM\n     factory_girl_rails (4.9.0)\n       factory_girl (~&gt; 4.9.0)\n       railties (&gt;= 3.0.0)\n-    faker (3.4.2)\n+    faker (3.5.1)\n       i18n (&gt;= 1.8.11, &lt; 2)\n     ffi (1.15.5)\n     font-awesome-rails (4.7.0.9)\n@@ -220,14 +223,14 @@ GEM\n     migration_comments (0.4.1)\n       activerecord (&gt;= 4.2.0)\n     mini_mime (1.1.5)\n-    mini_portile2 (2.8.9)\n     minitest (5.25.5)\n     momentjs-rails (2.29.4.1)\n       railties (&gt;= 3.1)\n     multi_json (1.15.0)\n+    mutex_m (0.3.0)\n     mysql2 (0.5.6)\n     nenv (0.3.0)\n-    net-imap (0.4.22)\n+    net-imap (0.5.8)\n       date\n       net-protocol\n     net-pop (0.1.2)\n@@ -237,18 +240,33 @@ GEM\n     net-smtp (0.5.1)\n       net-protocol\n     nio4r (2.7.4)\n-    nokogiri (1.15.7)\n-      mini_portile2 (~&gt; 2.8.2)\n+    nkf (0.2.0)\n+    nokogiri (1.18.8-aarch64-linux-gnu)\n+      racc (~&gt; 1.4)\n+    nokogiri (1.18.8-aarch64-linux-musl)\n+      racc (~&gt; 1.4)\n+    nokogiri (1.18.8-arm-linux-gnu)\n+      racc (~&gt; 1.4)\n+    nokogiri (1.18.8-arm-linux-musl)\n+      racc (~&gt; 1.4)\n+    nokogiri (1.18.8-arm64-darwin)\n+      racc (~&gt; 1.4)\n+    nokogiri (1.18.8-x86_64-darwin)\n+      racc (~&gt; 1.4)\n+    nokogiri (1.18.8-x86_64-linux-gnu)\n+      racc (~&gt; 1.4)\n+    nokogiri (1.18.8-x86_64-linux-musl)\n       racc (~&gt; 1.4)\n     notiffany (0.1.3)\n       nenv (~&gt; 0.1)\n       shellany (~&gt; 0.0)\n+    observer (0.1.2)\n     ostruct (0.6.1)\n     pg (1.5.9)\n     pry (0.15.2)\n       coderay (~&gt; 1.1)\n       method_source (~&gt; 1.0)\n-    public_suffix (5.1.1)\n+    public_suffix (6.0.2)\n     puma (6.6.0)\n       nio4r (~&gt; 2.0)\n     racc (1.8.1)\n@@ -338,12 +356,14 @@ GEM\n       sprockets (&gt; 3.0)\n       sprockets-rails\n       tilt\n-    selenium-webdriver (4.9.0)\n+    selenium-webdriver (4.33.0)\n+      base64 (~&gt; 0.2)\n+      logger (~&gt; 1.4)\n       rexml (~&gt; 3.2, &gt;= 3.2.5)\n       rubyzip (&gt;= 1.2.2, &lt; 3.0)\n       websocket (~&gt; 1.0)\n     shellany (0.0.1)\n-    shoulda-matchers (5.3.0)\n+    shoulda-matchers (6.5.0)\n       activesupport (&gt;= 5.2.0)\n     spring (4.3.0)\n     spring-commands-rspec (1.0.4)\n@@ -380,6 +400,7 @@ GEM\n       activemodel (&gt;= 6.0.0)\n       bindex (&gt;= 0.4.0)\n       railties (&gt;= 6.0.0)\n+    webrick (1.9.1)\n     websocket (1.2.11)\n     websocket-driver (0.8.0)\n       base64\n@@ -388,15 +409,24 @@ GEM\n     xpath (3.2.0)\n       nokogiri (~&gt; 1.8)\n     yard (0.9.37)\n-    zeitwerk (2.6.18)\n+    zeitwerk (2.7.3)\n\n PLATFORMS\n-  ruby\n+  aarch64-linux-gnu\n+  aarch64-linux-musl\n+  arm-linux-gnu\n+  arm-linux-musl\n+  arm64-darwin\n+  x86_64-darwin\n+  x86_64-linux-gnu\n+  x86_64-linux-musl\n\n DEPENDENCIES\n   annotate\n+  base64\n   bcrypt\n   better_errors\n+  bigdecimal\n   binding_of_caller\n   bootstrap-sass\n   bootstrap3-datetimepicker-rails\n@@ -407,10 +437,12 @@ DEPENDENCIES\n   capybara-webkit\n   coffee-rails\n   concurrent-ruby (= 1.3.4)\n+  csv\n   database_cleaner\n   date_validator\n   debase\n   dotenv-rails\n+  drb\n   email_validator\n   enum_help\n   factory_girl_rails\n@@ -427,7 +459,11 @@ DEPENDENCIES\n   listen\n   migration_comments\n   momentjs-rails\n+  mutex_m\n   mysql2\n+  nkf\n+  observer\n+  ostruct\n   pg\n   puma\n   rack-dev-mark\n@@ -448,10 +484,11 @@ DEPENDENCIES\n   tzinfo-data\n   uglifier\n   web-console\n+  webrick\n   yard\n\n RUBY VERSION\n-   ruby 2.7.8p225\n+   ruby 3.4.4p34\n\n BUNDLED WITH\n-   2.1.4\n+   2.6.7\ndiff --git a/config/database.yml b/config/database.yml\nindex 11c63ba..1b2c8a0 100644\n--- a/config/database.yml\n+++ b/config/database.yml\n@@ -9,7 +9,8 @@\n # And be sure to use new-style password hashing:\n #   http://dev.mysql.com/doc/refman/5.7/en/old-client.html\n #\n-default: &amp;default\n+\n+development:\n   adapter: mysql2\n   encoding: utf8\n   collation: utf8_general_ci\n@@ -17,16 +18,19 @@ default: &amp;default\n   username: root\n   password: password\n   host: &lt;%= ENV.fetch(\"MYSQL_HOST\", \"127.0.0.1\") %&gt;\n-\n-development:\n-  &lt;&lt;: *default\n   database: baukis-kai_development\n\n # Warning: The database defined as \"test\" will be erased and\n # re-generated from your development database when you run \"rake\".\n # Do not set this db to the same as development or production.\n test:\n-  &lt;&lt;: *default\n+  adapter: mysql2\n+  encoding: utf8\n+  collation: utf8_general_ci\n+  pool: 5\n+  username: root\n+  password: password\n+  host: &lt;%= ENV.fetch(\"MYSQL_HOST\", \"127.0.0.1\") %&gt;\n   database: baukis-kai_test\n\n # As with config/secrets.yml, you never want to store sensitive information,\n</code></pre>"},{"location":"journal/20250607/#0e634ac","title":"\u30b3\u30df\u30c3\u30c8: 0e634ac","text":""},{"location":"journal/20250607/#_40","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>chore:Rails\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\n</code></pre>"},{"location":"journal/20250607/#_41","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>M bin/rails</li> <li>M bin/rake</li> <li>M bin/setup</li> <li>M config/application.rb</li> <li>M config/cable.yml</li> <li>M config/environments/development.rb</li> <li>M config/environments/production.rb</li> <li>M config/environments/test.rb</li> <li>M config/initializers/application_controller_renderer.rb</li> <li>M config/initializers/assets.rb</li> <li>A config/initializers/content_security_policy.rb</li> <li>M config/initializers/new_framework_defaults.rb</li> <li>M config/locales/en.yml</li> <li>M config/puma.rb</li> <li>M config/spring.rb</li> <li>A config/storage.yml</li> <li>M db/migrate/20170214071011_create_programs.rb</li> <li>M db/migrate/20170318002915_create_messages.rb</li> <li>M db/schema.rb</li> </ul>"},{"location":"journal/20250607/#_42","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 0e634aca01ba16314639a683427a0c5d29584e85\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jun 7 16:10:52 2025 +0900\n\n    chore:Rails\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\n\ndiff --git a/Gemfile b/Gemfile\nindex 6f27f2f..8d76ee1 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -8,7 +8,7 @@ end\n\n\n # Bundle edge Rails instead: gem 'rails', github: 'rails/rails'\n-gem 'rails', '~&gt; 5.0.1'\n+gem 'rails', '~&gt; 6.0.6.1'\n # Use mysql as the database for Active Record\n gem 'pg'\n # Use Puma as the app server\n@@ -94,4 +94,5 @@ gem 'jquery-ui-rails'\n gem 'momentjs-rails'\n gem 'bootstrap3-datetimepicker-rails'\n gem 'tag-it-rails'\n-gem 'ffi', '~&gt; 1.15.5'\n\\ No newline at end of file\n+gem 'ffi', '~&gt; 1.15.5'\n+gem 'concurrent-ruby', '1.3.4'\n\\ No newline at end of file\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex 94c0bd0..62319f4 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -1,51 +1,69 @@\n GEM\n   remote: https://rubygems.org/\n   specs:\n-    actioncable (5.0.7.2)\n-      actionpack (= 5.0.7.2)\n-      nio4r (&gt;= 1.2, &lt; 3.0)\n-      websocket-driver (~&gt; 0.6.1)\n-    actionmailer (5.0.7.2)\n-      actionpack (= 5.0.7.2)\n-      actionview (= 5.0.7.2)\n-      activejob (= 5.0.7.2)\n+    actioncable (6.0.6.1)\n+      actionpack (= 6.0.6.1)\n+      nio4r (~&gt; 2.0)\n+      websocket-driver (&gt;= 0.6.1)\n+    actionmailbox (6.0.6.1)\n+      actionpack (= 6.0.6.1)\n+      activejob (= 6.0.6.1)\n+      activerecord (= 6.0.6.1)\n+      activestorage (= 6.0.6.1)\n+      activesupport (= 6.0.6.1)\n+      mail (&gt;= 2.7.1)\n+    actionmailer (6.0.6.1)\n+      actionpack (= 6.0.6.1)\n+      actionview (= 6.0.6.1)\n+      activejob (= 6.0.6.1)\n       mail (~&gt; 2.5, &gt;= 2.5.4)\n       rails-dom-testing (~&gt; 2.0)\n-    actionpack (5.0.7.2)\n-      actionview (= 5.0.7.2)\n-      activesupport (= 5.0.7.2)\n-      rack (~&gt; 2.0)\n-      rack-test (~&gt; 0.6.3)\n+    actionpack (6.0.6.1)\n+      actionview (= 6.0.6.1)\n+      activesupport (= 6.0.6.1)\n+      rack (~&gt; 2.0, &gt;= 2.0.8)\n+      rack-test (&gt;= 0.6.3)\n       rails-dom-testing (~&gt; 2.0)\n-      rails-html-sanitizer (~&gt; 1.0, &gt;= 1.0.2)\n-    actionview (5.0.7.2)\n-      activesupport (= 5.0.7.2)\n+      rails-html-sanitizer (~&gt; 1.0, &gt;= 1.2.0)\n+    actiontext (6.0.6.1)\n+      actionpack (= 6.0.6.1)\n+      activerecord (= 6.0.6.1)\n+      activestorage (= 6.0.6.1)\n+      activesupport (= 6.0.6.1)\n+      nokogiri (&gt;= 1.8.5)\n+    actionview (6.0.6.1)\n+      activesupport (= 6.0.6.1)\n       builder (~&gt; 3.1)\n-      erubis (~&gt; 2.7.0)\n+      erubi (~&gt; 1.4)\n       rails-dom-testing (~&gt; 2.0)\n-      rails-html-sanitizer (~&gt; 1.0, &gt;= 1.0.3)\n-    activejob (5.0.7.2)\n-      activesupport (= 5.0.7.2)\n+      rails-html-sanitizer (~&gt; 1.1, &gt;= 1.2.0)\n+    activejob (6.0.6.1)\n+      activesupport (= 6.0.6.1)\n       globalid (&gt;= 0.3.6)\n-    activemodel (5.0.7.2)\n-      activesupport (= 5.0.7.2)\n-    activerecord (5.0.7.2)\n-      activemodel (= 5.0.7.2)\n-      activesupport (= 5.0.7.2)\n-      arel (~&gt; 7.0)\n-    activesupport (5.0.7.2)\n+    activemodel (6.0.6.1)\n+      activesupport (= 6.0.6.1)\n+    activerecord (6.0.6.1)\n+      activemodel (= 6.0.6.1)\n+      activesupport (= 6.0.6.1)\n+    activestorage (6.0.6.1)\n+      actionpack (= 6.0.6.1)\n+      activejob (= 6.0.6.1)\n+      activerecord (= 6.0.6.1)\n+      marcel (~&gt; 1.0)\n+    activesupport (6.0.6.1)\n       concurrent-ruby (~&gt; 1.0, &gt;= 1.0.2)\n       i18n (&gt;= 0.7, &lt; 2)\n       minitest (~&gt; 5.1)\n       tzinfo (~&gt; 1.1)\n+      zeitwerk (~&gt; 2.2, &gt;= 2.2.2)\n     addressable (2.8.7)\n       public_suffix (&gt;= 2.0.2, &lt; 7.0)\n     annotate (3.2.0)\n       activerecord (&gt;= 3.2, &lt; 8.0)\n       rake (&gt;= 10.4, &lt; 14.0)\n-    arel (7.1.4)\n     autoprefixer-rails (10.4.21.0)\n       execjs (~&gt; 2)\n+    base64 (0.3.0)\n     bcrypt (3.1.20)\n     better_errors (2.10.1)\n       erubi (&gt;= 1.0.0)\n@@ -59,9 +77,9 @@ GEM\n       sassc (&gt;= 2.0.0)\n     bootstrap3-datetimepicker-rails (4.17.47)\n       momentjs-rails (&gt;= 2.8.1)\n-    bootstrap_form (4.4.0)\n-      actionpack (&gt;= 5.0)\n-      activemodel (&gt;= 5.0)\n+    bootstrap_form (5.1.0)\n+      actionpack (&gt;= 5.2)\n+      activemodel (&gt;= 5.2)\n     builder (3.3.0)\n     byebug (11.1.3)\n     capybara (3.39.2)\n@@ -83,14 +101,14 @@ GEM\n       logger (~&gt; 1.5)\n     choice (0.2.0)\n     coderay (1.1.3)\n-    coffee-rails (4.2.2)\n+    coffee-rails (5.0.0)\n       coffee-script (&gt;= 2.2.0)\n-      railties (&gt;= 4.0.0)\n+      railties (&gt;= 5.2.0)\n     coffee-script (2.4.1)\n       coffee-script-source\n       execjs\n     coffee-script-source (1.12.2)\n-    concurrent-ruby (1.3.5)\n+    concurrent-ruby (1.3.4)\n     crass (1.0.6)\n     database_cleaner (2.1.0)\n       database_cleaner-active_record (&gt;= 2, &lt; 3)\n@@ -119,7 +137,6 @@ GEM\n     enum_help (0.0.19)\n       activesupport (&gt;= 3.0.0)\n     erubi (1.13.1)\n-    erubis (2.7.0)\n     eventmachine (1.2.7)\n     execjs (2.10.0)\n     factory_girl (4.9.0)\n@@ -197,6 +214,7 @@ GEM\n       net-imap\n       net-pop\n       net-smtp\n+    marcel (1.0.4)\n     matrix (0.4.2)\n     method_source (1.1.0)\n     migration_comments (0.4.1)\n@@ -239,19 +257,22 @@ GEM\n       rack (&gt;= 1.1, &lt; 4.0)\n     rack-livereload (0.5.2)\n       rack (&lt; 3)\n-    rack-test (0.6.3)\n-      rack (&gt;= 1.0)\n-    rails (5.0.7.2)\n-      actioncable (= 5.0.7.2)\n-      actionmailer (= 5.0.7.2)\n-      actionpack (= 5.0.7.2)\n-      actionview (= 5.0.7.2)\n-      activejob (= 5.0.7.2)\n-      activemodel (= 5.0.7.2)\n-      activerecord (= 5.0.7.2)\n-      activesupport (= 5.0.7.2)\n+    rack-test (2.2.0)\n+      rack (&gt;= 1.3)\n+    rails (6.0.6.1)\n+      actioncable (= 6.0.6.1)\n+      actionmailbox (= 6.0.6.1)\n+      actionmailer (= 6.0.6.1)\n+      actionpack (= 6.0.6.1)\n+      actiontext (= 6.0.6.1)\n+      actionview (= 6.0.6.1)\n+      activejob (= 6.0.6.1)\n+      activemodel (= 6.0.6.1)\n+      activerecord (= 6.0.6.1)\n+      activestorage (= 6.0.6.1)\n+      activesupport (= 6.0.6.1)\n       bundler (&gt;= 1.3.0)\n-      railties (= 5.0.7.2)\n+      railties (= 6.0.6.1)\n       sprockets-rails (&gt;= 2.0.0)\n     rails-controller-testing (1.0.5)\n       actionpack (&gt;= 5.0.1.rc1)\n@@ -274,12 +295,12 @@ GEM\n       rails_stdout_logging\n     rails_serve_static_assets (0.0.5)\n     rails_stdout_logging (0.0.5)\n-    railties (5.0.7.2)\n-      actionpack (= 5.0.7.2)\n-      activesupport (= 5.0.7.2)\n+    railties (6.0.6.1)\n+      actionpack (= 6.0.6.1)\n+      activesupport (= 6.0.6.1)\n       method_source\n       rake (&gt;= 0.8.7)\n-      thor (&gt;= 0.18.1, &lt; 2.0)\n+      thor (&gt;= 0.20.3, &lt; 2.0)\n     rake (13.3.0)\n     rb-fsevent (0.11.2)\n     rb-inotify (0.11.1)\n@@ -295,10 +316,10 @@ GEM\n     rspec-mocks (3.13.5)\n       diff-lcs (&gt;= 1.2.0, &lt; 2.0)\n       rspec-support (~&gt; 3.13.0)\n-    rspec-rails (4.1.2)\n-      actionpack (&gt;= 4.2)\n-      activesupport (&gt;= 4.2)\n-      railties (&gt;= 4.2)\n+    rspec-rails (5.1.2)\n+      actionpack (&gt;= 5.2)\n+      activesupport (&gt;= 5.2)\n+      railties (&gt;= 5.2)\n       rspec-core (~&gt; 3.10)\n       rspec-expectations (~&gt; 3.10)\n       rspec-mocks (~&gt; 3.10)\n@@ -322,8 +343,8 @@ GEM\n       rubyzip (&gt;= 1.2.2, &lt; 3.0)\n       websocket (~&gt; 1.0)\n     shellany (0.0.1)\n-    shoulda-matchers (4.5.1)\n-      activesupport (&gt;= 4.2.0)\n+    shoulda-matchers (5.3.0)\n+      activesupport (&gt;= 5.2.0)\n     spring (4.3.0)\n     spring-commands-rspec (1.0.4)\n       spring (&gt;= 0.9.1)\n@@ -334,9 +355,9 @@ GEM\n       concurrent-ruby (~&gt; 1.0)\n       logger\n       rack (&gt;= 2.2.4, &lt; 4)\n-    sprockets-rails (3.2.2)\n-      actionpack (&gt;= 4.0)\n-      activesupport (&gt;= 4.0)\n+    sprockets-rails (3.4.2)\n+      actionpack (&gt;= 5.2)\n+      activesupport (&gt;= 5.2)\n       sprockets (&gt;= 3.0.0)\n     tag-it-rails (2.0.0)\n       jquery-ui-rails\n@@ -354,18 +375,20 @@ GEM\n       tzinfo (&gt;= 1.0.0)\n     uglifier (4.2.1)\n       execjs (&gt;= 0.3.0, &lt; 3)\n-    web-console (3.7.0)\n-      actionview (&gt;= 5.0)\n-      activemodel (&gt;= 5.0)\n+    web-console (4.2.1)\n+      actionview (&gt;= 6.0.0)\n+      activemodel (&gt;= 6.0.0)\n       bindex (&gt;= 0.4.0)\n-      railties (&gt;= 5.0)\n+      railties (&gt;= 6.0.0)\n     websocket (1.2.11)\n-    websocket-driver (0.6.5)\n+    websocket-driver (0.8.0)\n+      base64\n       websocket-extensions (&gt;= 0.1.0)\n     websocket-extensions (0.1.5)\n     xpath (3.2.0)\n       nokogiri (~&gt; 1.8)\n     yard (0.9.37)\n+    zeitwerk (2.6.18)\n\n PLATFORMS\n   ruby\n@@ -383,6 +406,7 @@ DEPENDENCIES\n   capybara-screenshot\n   capybara-webkit\n   coffee-rails\n+  concurrent-ruby (= 1.3.4)\n   database_cleaner\n   date_validator\n   debase\n@@ -408,7 +432,7 @@ DEPENDENCIES\n   puma\n   rack-dev-mark\n   rack-livereload\n-  rails (~&gt; 5.0.1)\n+  rails (~&gt; 6.0.6.1)\n   rails-controller-testing\n   rails-erd\n   rails_12factor\ndiff --git a/bin/rails b/bin/rails\nindex 5badb2f..0739660 100755\n--- a/bin/rails\n+++ b/bin/rails\n@@ -1,9 +1,4 @@\n #!/usr/bin/env ruby\n-begin\n-  load File.expand_path('../spring', __FILE__)\n-rescue LoadError =&gt; e\n-  raise unless e.message.include?('spring')\n-end\n APP_PATH = File.expand_path('../config/application', __dir__)\n require_relative '../config/boot'\n require 'rails/commands'\ndiff --git a/bin/rake b/bin/rake\nindex d87d5f5..1724048 100755\n--- a/bin/rake\n+++ b/bin/rake\n@@ -1,9 +1,4 @@\n #!/usr/bin/env ruby\n-begin\n-  load File.expand_path('../spring', __FILE__)\n-rescue LoadError =&gt; e\n-  raise unless e.message.include?('spring')\n-end\n require_relative '../config/boot'\n require 'rake'\n Rake.application.run\ndiff --git a/bin/setup b/bin/setup\nindex e620b4d..0e39e8c 100755\n--- a/bin/setup\n+++ b/bin/setup\n@@ -1,17 +1,16 @@\n #!/usr/bin/env ruby\n-require 'pathname'\n require 'fileutils'\n-include FileUtils\n\n # path to your application root.\n-APP_ROOT = Pathname.new File.expand_path('../../', __FILE__)\n+APP_ROOT = File.expand_path('..', __dir__)\n\n def system!(*args)\n   system(*args) || abort(\"\\n== Command #{args} failed ==\")\n end\n\n-chdir APP_ROOT do\n-  # This script is a starting point to setup your application.\n+FileUtils.chdir APP_ROOT do\n+  # This script is a way to setup or update your development environment automatically.\n+  # This script is idempotent, so that you can run it at anytime and get an expectable outcome.\n   # Add necessary setup steps to this file.\n\n   puts '== Installing dependencies =='\n@@ -20,11 +19,11 @@ chdir APP_ROOT do\n\n   # puts \"\\n== Copying sample files ==\"\n   # unless File.exist?('config/database.yml')\n-  #   cp 'config/database.yml.sample', 'config/database.yml'\n+  #   FileUtils.cp 'config/database.yml.sample', 'config/database.yml'\n   # end\n\n   puts \"\\n== Preparing database ==\"\n-  system! 'bin/rails db:setup'\n+  system! 'bin/rails db:prepare'\n\n   puts \"\\n== Removing old logs and tempfiles ==\"\n   system! 'bin/rails log:clear tmp:clear'\ndiff --git a/config/application.rb b/config/application.rb\nindex ed333f7..5d03c3b 100644\n--- a/config/application.rb\n+++ b/config/application.rb\n@@ -8,8 +8,12 @@ Bundler.require(*Rails.groups)\n\n module BaukisKai\n   class Application &lt; Rails::Application\n+    # Initialize configuration defaults for originally generated Rails version.\n+    config.load_defaults 5.0\n+\n     # Settings in config/environments/* take precedence over those specified here.\n-    # Application configuration should go into files in config/initializers\n-    # -- all .rb files in that directory are automatically loaded.\n+    # Application configuration can go into files in config/initializers\n+    # -- all .rb files in that directory are automatically loaded after loading\n+    # the framework and any gems in your application.\n   end\n end\ndiff --git a/config/cable.yml b/config/cable.yml\nindex 0bbde6f..9d9d3e8 100644\n--- a/config/cable.yml\n+++ b/config/cable.yml\n@@ -2,8 +2,9 @@ development:\n   adapter: async\n\n test:\n-  adapter: async\n+  adapter: test\n\n production:\n   adapter: redis\n-  url: redis://localhost:6379/1\n+  url: &lt;%= ENV.fetch(\"REDIS_URL\") { \"redis://localhost:6379/1\" } %&gt;\n+  channel_prefix: baukis_kai_production\ndiff --git a/config/environments/development.rb b/config/environments/development.rb\nindex cfacff4..bdae036 100644\n--- a/config/environments/development.rb\n+++ b/config/environments/development.rb\n@@ -13,12 +13,14 @@ Rails.application.configure do\n   config.consider_all_requests_local = true\n\n   # Enable/disable caching. By default caching is disabled.\n-  if Rails.root.join('tmp/caching-dev.txt').exist?\n+  # Run rails dev:cache to toggle caching.\n+  if Rails.root.join('tmp', 'caching-dev.txt').exist?\n     config.action_controller.perform_caching = true\n+    config.action_controller.enable_fragment_cache_logging = true\n\n     config.cache_store = :memory_store\n     config.public_file_server.headers = {\n-      'Cache-Control' =&gt; 'public, max-age=172800'\n+      'Cache-Control' =&gt; \"public, max-age=#{2.days.to_i}\"\n     }\n   else\n     config.action_controller.perform_caching = false\n@@ -26,6 +28,9 @@ Rails.application.configure do\n     config.cache_store = :null_store\n   end\n\n+  # Store uploaded files on the local file system (see config/storage.yml for options).\n+  config.active_storage.service = :local\n+\n   # Don't care if the mailer can't send.\n   config.action_mailer.raise_delivery_errors = false\n\n@@ -37,6 +42,9 @@ Rails.application.configure do\n   # Raise an error on page load if there are pending migrations.\n   config.active_record.migration_error = :page_load\n\n+  # Highlight code that triggered database queries in logs.\n+  config.active_record.verbose_query_logs = true\n+\n   # Debug mode disables concatenation and preprocessing of assets.\n   # This option may cause significant delays in view rendering with a large\n   # number of complex assets.\n@@ -45,7 +53,7 @@ Rails.application.configure do\n   # Suppress logger output for asset requests.\n   config.assets.quiet = true\n\n-  # Raises error for missing translations\n+  # Raises error for missing translations.\n   # config.action_view.raise_on_missing_translations = true\n\n   # Use an evented file watcher to asynchronously detect changes in source code,\ndiff --git a/config/environments/production.rb b/config/environments/production.rb\nindex 5e2244c..b83848e 100644\n--- a/config/environments/production.rb\n+++ b/config/environments/production.rb\n@@ -14,19 +14,20 @@ Rails.application.configure do\n   config.consider_all_requests_local       = false\n   config.action_controller.perform_caching = true\n\n+  # Ensures that a master key has been made available in either ENV[\"RAILS_MASTER_KEY\"]\n+  # or in config/master.key. This key is used to decrypt credentials (and other encrypted files).\n+  # config.require_master_key = true\n+\n   # Disable serving static files from the `/public` folder by default since\n   # Apache or NGINX already handles this.\n   config.public_file_server.enabled = ENV['RAILS_SERVE_STATIC_FILES'].present?\n\n-  # Compress JavaScripts and CSS.\n-  config.assets.js_compressor = :uglifier\n+  # Compress CSS using a preprocessor.\n   # config.assets.css_compressor = :sass\n\n   # Do not fallback to assets pipeline if a precompiled asset is missed.\n   config.assets.compile = false\n\n-  # `config.assets.precompile` and `config.assets.version` have moved to config/initializers/assets.rb\n-\n   # Enable serving of images, stylesheets, and JavaScripts from an asset server.\n   # config.action_controller.asset_host = 'http://assets.example.com'\n\n@@ -34,7 +35,10 @@ Rails.application.configure do\n   # config.action_dispatch.x_sendfile_header = 'X-Sendfile' # for Apache\n   # config.action_dispatch.x_sendfile_header = 'X-Accel-Redirect' # for NGINX\n\n-  # Mount Action Cable outside main process or domain\n+  # Store uploaded files on the local file system (see config/storage.yml for options).\n+  config.active_storage.service = :local\n+\n+  # Mount Action Cable outside main process or domain.\n   # config.action_cable.mount_path = nil\n   # config.action_cable.url = 'wss://example.com/cable'\n   # config.action_cable.allowed_request_origins = [ 'http://example.com', /http:\\/\\/example.*/ ]\n@@ -52,9 +56,10 @@ Rails.application.configure do\n   # Use a different cache store in production.\n   # config.cache_store = :mem_cache_store\n\n-  # Use a real queuing backend for Active Job (and separate queues per environment)\n+  # Use a real queuing backend for Active Job (and separate queues per environment).\n   # config.active_job.queue_adapter     = :resque\n-  # config.active_job.queue_name_prefix = \"baukis-kai_#{Rails.env}\"\n+  # config.active_job.queue_name_prefix = \"baukis_kai_production\"\n+\n   config.action_mailer.perform_caching = false\n\n   # Ignore bad email addresses and do not raise email delivery errors.\n@@ -78,7 +83,7 @@ Rails.application.configure do\n   if ENV[\"RAILS_LOG_TO_STDOUT\"].present?\n     logger           = ActiveSupport::Logger.new(STDOUT)\n     logger.formatter = config.log_formatter\n-    config.logger = ActiveSupport::TaggedLogging.new(logger)\n+    config.logger    = ActiveSupport::TaggedLogging.new(logger)\n   end\n\n   # Do not dump schema after migrations.\ndiff --git a/config/environments/test.rb b/config/environments/test.rb\nindex 27275c7..dc2c3b7 100644\n--- a/config/environments/test.rb\n+++ b/config/environments/test.rb\n@@ -1,11 +1,13 @@\n+# The test environment is used exclusively to run your application's\n+# test suite. You never need to work with it otherwise. Remember that\n+# your test database is \"scratch space\" for the test suite and is wiped\n+# and recreated between test runs. Don't rely on the data there!\n+\n Rails.application.configure do\n   # Settings specified here will take precedence over those in config/application.rb.\n\n-  # The test environment is used exclusively to run your application's\n-  # test suite. You never need to work with it otherwise. Remember that\n-  # your test database is \"scratch space\" for the test suite and is wiped\n-  # and recreated between test runs. Don't rely on the data there!\n-  config.cache_classes = true\n+  config.cache_classes = false\n+  config.action_view.cache_template_loading = true\n\n   # Do not eager load code on boot. This avoids loading your whole application\n   # just for the purpose of running a single test. If you are using a tool that\n@@ -15,18 +17,23 @@ Rails.application.configure do\n   # Configure public file server for tests with Cache-Control for performance.\n   config.public_file_server.enabled = true\n   config.public_file_server.headers = {\n-    'Cache-Control' =&gt; 'public, max-age=3600'\n+    'Cache-Control' =&gt; \"public, max-age=#{1.hour.to_i}\"\n   }\n\n   # Show full error reports and disable caching.\n   config.consider_all_requests_local       = true\n   config.action_controller.perform_caching = false\n+  config.cache_store = :null_store\n\n   # Raise exceptions instead of rendering exception templates.\n   config.action_dispatch.show_exceptions = false\n\n   # Disable request forgery protection in test environment.\n   config.action_controller.allow_forgery_protection = false\n+\n+  # Store uploaded files on the local file system in a temporary directory.\n+  config.active_storage.service = :test\n+\n   config.action_mailer.perform_caching = false\n\n   # Tell Action Mailer not to deliver emails to the real world.\n@@ -37,7 +44,7 @@ Rails.application.configure do\n   # Print deprecation notices to the stderr.\n   config.active_support.deprecation = :stderr\n\n-  # Raises error for missing translations\n+  # Raises error for missing translations.\n   # config.action_view.raise_on_missing_translations = true\n\n   config.baukis_kai = {\ndiff --git a/config/initializers/application_controller_renderer.rb b/config/initializers/application_controller_renderer.rb\nindex 51639b6..89d2efa 100644\n--- a/config/initializers/application_controller_renderer.rb\n+++ b/config/initializers/application_controller_renderer.rb\n@@ -1,6 +1,8 @@\n # Be sure to restart your server when you modify this file.\n\n-# ApplicationController.renderer.defaults.merge!(\n-#   http_host: 'example.org',\n-#   https: false\n-# )\n+# ActiveSupport::Reloader.to_prepare do\n+#   ApplicationController.renderer.defaults.merge!(\n+#     http_host: 'example.org',\n+#     https: false\n+#   )\n+# end\ndiff --git a/config/initializers/assets.rb b/config/initializers/assets.rb\nindex f9bd5a5..fe48fc3 100644\n--- a/config/initializers/assets.rb\n+++ b/config/initializers/assets.rb\n@@ -3,12 +3,10 @@\n # Version of your assets, change this if you want to expire all your assets.\n Rails.application.config.assets.version = '1.0'\n\n-# Add additional assets to the asset load path\n+# Add additional assets to the asset load path.\n # Rails.application.config.assets.paths &lt;&lt; Emoji.images_path\n\n # Precompile additional assets.\n-# application.js, application.css, and all non-JS/CSS in app/assets folder are already added.\n-Rails.application.config.assets.precompile += %w( staff.js admin.js customer.js )\n-Rails.application.config.assets.paths &lt;&lt; Rails.root.join(\"app\", \"assets\", \"fonts\")\n-\n-Sprockets::Context.send(:include, Rails.application.routes.url_helpers)\n\\ No newline at end of file\n+# application.js, application.css, and all non-JS/CSS in the app/assets\n+# folder are already added.\n+# Rails.application.config.assets.precompile += %w( admin.js admin.css )\ndiff --git a/config/initializers/content_security_policy.rb b/config/initializers/content_security_policy.rb\nnew file mode 100644\nindex 0000000..41c4301\n--- /dev/null\n+++ b/config/initializers/content_security_policy.rb\n@@ -0,0 +1,28 @@\n+# Be sure to restart your server when you modify this file.\n+\n+# Define an application-wide content security policy\n+# For further information see the following documentation\n+# https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy\n+\n+# Rails.application.config.content_security_policy do |policy|\n+#   policy.default_src :self, :https\n+#   policy.font_src    :self, :https, :data\n+#   policy.img_src     :self, :https, :data\n+#   policy.object_src  :none\n+#   policy.script_src  :self, :https\n+#   policy.style_src   :self, :https\n+\n+#   # Specify URI for violation reports\n+#   # policy.report_uri \"/csp-violation-report-endpoint\"\n+# end\n+\n+# If you are using UJS then enable automatic nonce generation\n+# Rails.application.config.content_security_policy_nonce_generator = -&gt; request { SecureRandom.base64(16) }\n+\n+# Set the nonce only to specific directives\n+# Rails.application.config.content_security_policy_nonce_directives = %w(script-src)\n+\n+# Report CSP violations to a specified URI\n+# For further information see the following documentation:\n+# https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy-Report-Only\n+# Rails.application.config.content_security_policy_report_only = true\ndiff --git a/config/initializers/new_framework_defaults.rb b/config/initializers/new_framework_defaults.rb\nindex 671abb6..92240ef 100644\n--- a/config/initializers/new_framework_defaults.rb\n+++ b/config/initializers/new_framework_defaults.rb\n@@ -1,24 +1,45 @@\n # Be sure to restart your server when you modify this file.\n #\n-# This file contains migration options to ease your Rails 5.0 upgrade.\n+# This file contains migration options to ease your Rails 6.0 upgrade.\n+#\n+# Once upgraded flip defaults one by one to migrate to the new default.\n #\n # Read the Guide for Upgrading Ruby on Rails for more info on each option.\n\n-# Enable per-form CSRF tokens. Previous versions had false.\n-Rails.application.config.action_controller.per_form_csrf_tokens = true\n+# Don't force requests from old versions of IE to be UTF-8 encoded.\n+# Rails.application.config.action_view.default_enforce_utf8 = false\n+\n+# Embed purpose and expiry metadata inside signed and encrypted\n+# cookies for increased security.\n+#\n+# This option is not backwards compatible with earlier Rails versions.\n+# It's best enabled when your entire app is migrated and stable on 6.0.\n+# Rails.application.config.action_dispatch.use_cookies_with_metadata = true\n\n-# Enable origin-checking CSRF mitigation. Previous versions had false.\n-Rails.application.config.action_controller.forgery_protection_origin_check = true\n+# Change the return value of `ActionDispatch::Response#content_type` to Content-Type header without modification.\n+# Rails.application.config.action_dispatch.return_only_media_type_on_content_type = false\n\n-# Make Ruby 2.4 preserve the timezone of the receiver when calling `to_time`.\n-# Previous versions had false.\n-ActiveSupport.to_time_preserves_timezone = true\n+# Return false instead of self when enqueuing is aborted from a callback.\n+# Rails.application.config.active_job.return_false_on_aborted_enqueue = true\n\n-# Require `belongs_to` associations by default. Previous versions had false.\n-Rails.application.config.active_record.belongs_to_required_by_default = true\n+# Send Active Storage analysis and purge jobs to dedicated queues.\n+# Rails.application.config.active_storage.queues.analysis = :active_storage_analysis\n+# Rails.application.config.active_storage.queues.purge    = :active_storage_purge\n\n-# Do not halt callback chains when a callback returns false. Previous versions had true.\n-ActiveSupport.halt_callback_chains_on_return_false = false\n+# When assigning to a collection of attachments declared via `has_many_attached`, replace existing\n+# attachments instead of appending. Use #attach to add new attachments without replacing existing ones.\n+# Rails.application.config.active_storage.replace_on_assign_to_many = true\n+\n+# Use ActionMailer::MailDeliveryJob for sending parameterized and normal mail.\n+#\n+# The default delivery jobs (ActionMailer::Parameterized::DeliveryJob, ActionMailer::DeliveryJob),\n+# will be removed in Rails 6.1. This setting is not backwards compatible with earlier Rails versions.\n+# If you send mail in the background, job workers need to have a copy of\n+# MailDeliveryJob to ensure all delivery jobs are processed properly.\n+# Make sure your entire app is migrated and stable on 6.0 before using this setting.\n+# Rails.application.config.action_mailer.delivery_job = \"ActionMailer::MailDeliveryJob\"\n\n-# Configure SSL options to enable HSTS with subdomains. Previous versions had false.\n-Rails.application.config.ssl_options = { hsts: { subdomains: true } }\n+# Enable the same cache key to be reused when the object being cached of type\n+# `ActiveRecord::Relation` changes by moving the volatile information (max updated at and count)\n+# of the relation's cache key into the cache version to support recycling cache key.\n+# Rails.application.config.active_record.collection_cache_versioning = true\ndiff --git a/config/locales/en.yml b/config/locales/en.yml\nindex 0653957..cf9b342 100644\n--- a/config/locales/en.yml\n+++ b/config/locales/en.yml\n@@ -16,8 +16,18 @@\n #\n # This would use the information in config/locales/es.yml.\n #\n+# The following keys must be escaped otherwise they will not be retrieved by\n+# the default I18n backend:\n+#\n+# true, false, on, off, yes, no\n+#\n+# Instead, surround them with single quotes.\n+#\n+# en:\n+#   'true': 'foo'\n+#\n # To learn more, please read the Rails Internationalization guide\n-# available at http://guides.rubyonrails.org/i18n.html.\n+# available at https://guides.rubyonrails.org/i18n.html.\n\n en:\n   hello: \"Hello world\"\ndiff --git a/config/puma.rb b/config/puma.rb\nindex c7f311f..5ed4437 100644\n--- a/config/puma.rb\n+++ b/config/puma.rb\n@@ -1,13 +1,14 @@\n # Puma can serve each request in a thread from an internal thread pool.\n-# The `threads` method setting takes two numbers a minimum and maximum.\n+# The `threads` method setting takes two numbers: a minimum and maximum.\n # Any libraries that use thread pools should be configured to match\n # the maximum value specified for Puma. Default is set to 5 threads for minimum\n-# and maximum, this matches the default thread size of Active Record.\n+# and maximum; this matches the default thread size of Active Record.\n #\n-threads_count = ENV.fetch(\"RAILS_MAX_THREADS\") { 5 }.to_i\n-threads threads_count, threads_count\n+max_threads_count = ENV.fetch(\"RAILS_MAX_THREADS\") { 5 }\n+min_threads_count = ENV.fetch(\"RAILS_MIN_THREADS\") { max_threads_count }\n+threads min_threads_count, max_threads_count\n\n-# Specifies the `port` that Puma will listen on to receive requests, default is 3000.\n+# Specifies the `port` that Puma will listen on to receive requests; default is 3000.\n #\n port        ENV.fetch(\"PORT\") { 3000 }\n\n@@ -15,8 +16,11 @@ port        ENV.fetch(\"PORT\") { 3000 }\n #\n environment ENV.fetch(\"RAILS_ENV\") { \"development\" }\n\n+# Specifies the `pidfile` that Puma will use.\n+pidfile ENV.fetch(\"PIDFILE\") { \"tmp/pids/server.pid\" }\n+\n # Specifies the number of `workers` to boot in clustered mode.\n-# Workers are forked webserver processes. If using threads and workers together\n+# Workers are forked web server processes. If using threads and workers together\n # the concurrency of the application would be max `threads` * `workers`.\n # Workers do not work on JRuby or Windows (both of which do not support\n # processes).\n@@ -26,22 +30,9 @@ environment ENV.fetch(\"RAILS_ENV\") { \"development\" }\n # Use the `preload_app!` method when specifying a `workers` number.\n # This directive tells Puma to first boot the application and load code\n # before forking the application. This takes advantage of Copy On Write\n-# process behavior so workers use less memory. If you use this option\n-# you need to make sure to reconnect any threads in the `on_worker_boot`\n-# block.\n+# process behavior so workers use less memory.\n #\n # preload_app!\n\n-# The code in the `on_worker_boot` will be called if you are using\n-# clustered mode by specifying a number of `workers`. After each worker\n-# process is booted this block will be run, if you are using `preload_app!`\n-# option you will want to use this block to reconnect to any threads\n-# or connections that may have been created at application boot, Ruby\n-# cannot share connections between processes.\n-#\n-# on_worker_boot do\n-#   ActiveRecord::Base.establish_connection if defined?(ActiveRecord)\n-# end\n-\n # Allow puma to be restarted by `rails restart` command.\n plugin :tmp_restart\ndiff --git a/config/spring.rb b/config/spring.rb\nindex c9119b4..db5bf13 100644\n--- a/config/spring.rb\n+++ b/config/spring.rb\n@@ -1,6 +1,6 @@\n-%w(\n-  .ruby-version\n-  .rbenv-vars\n-  tmp/restart.txt\n-  tmp/caching-dev.txt\n-).each { |path| Spring.watch(path) }\n+Spring.watch(\n+  \".ruby-version\",\n+  \".rbenv-vars\",\n+  \"tmp/restart.txt\",\n+  \"tmp/caching-dev.txt\"\n+)\ndiff --git a/config/storage.yml b/config/storage.yml\nnew file mode 100644\nindex 0000000..d32f76e\n--- /dev/null\n+++ b/config/storage.yml\n@@ -0,0 +1,34 @@\n+test:\n+  service: Disk\n+  root: &lt;%= Rails.root.join(\"tmp/storage\") %&gt;\n+\n+local:\n+  service: Disk\n+  root: &lt;%= Rails.root.join(\"storage\") %&gt;\n+\n+# Use rails credentials:edit to set the AWS secrets (as aws:access_key_id|secret_access_key)\n+# amazon:\n+#   service: S3\n+#   access_key_id: &lt;%= Rails.application.credentials.dig(:aws, :access_key_id) %&gt;\n+#   secret_access_key: &lt;%= Rails.application.credentials.dig(:aws, :secret_access_key) %&gt;\n+#   region: us-east-1\n+#   bucket: your_own_bucket\n+\n+# Remember not to checkin your GCS keyfile to a repository\n+# google:\n+#   service: GCS\n+#   project: your_project\n+#   credentials: &lt;%= Rails.root.join(\"path/to/gcs.keyfile\") %&gt;\n+#   bucket: your_own_bucket\n+\n+# Use rails credentials:edit to set the Azure Storage secret (as azure_storage:storage_access_key)\n+# microsoft:\n+#   service: AzureStorage\n+#   storage_account_name: your_account_name\n+#   storage_access_key: &lt;%= Rails.application.credentials.dig(:azure_storage, :storage_access_key) %&gt;\n+#   container: your_container_name\n+\n+# mirror:\n+#   service: Mirror\n+#   primary: local\n+#   mirrors: [ amazon, google, microsoft ]\ndiff --git a/db/migrate/20170214071011_create_programs.rb b/db/migrate/20170214071011_create_programs.rb\nindex 957aa9a..1e39c0c 100644\n--- a/db/migrate/20170214071011_create_programs.rb\n+++ b/db/migrate/20170214071011_create_programs.rb\n@@ -14,6 +14,6 @@ class CreatePrograms &lt; ActiveRecord::Migration[5.0]\n\n     add_index :programs, :registrant_id\n     add_index :programs, :application_start_time\n-    add_foreign_key :programs, :staff_members, column: 'registrant_id'\n+    add_foreign_key :programs, :staff_members, column: :registrant_id\n   end\n end\ndiff --git a/db/migrate/20170318002915_create_messages.rb b/db/migrate/20170318002915_create_messages.rb\nindex 8bd233d..b8e56ae 100644\n--- a/db/migrate/20170318002915_create_messages.rb\n+++ b/db/migrate/20170318002915_create_messages.rb\n@@ -24,7 +24,7 @@ class CreateMessages &lt; ActiveRecord::Migration[5.0]\n\n     add_foreign_key :messages, :customers\n     add_foreign_key :messages, :staff_members\n-    add_foreign_key :messages, :messages, column: 'root_id'\n-    add_foreign_key :messages, :messages, column: 'parent_id'\n+    add_foreign_key :messages, :messages, column: :root_id\n+    add_foreign_key :messages, :messages, column: :parent_id\n   end\n end\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 92e47ae..443ef64 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -2,202 +2,202 @@\n # of editing this file, please use the migrations feature of Active Record to\n # incrementally modify your database, and then regenerate this schema definition.\n #\n-# Note that this schema.rb definition is the authoritative source for your\n-# database schema. If you need to create the application database on another\n-# system, you should be using db:schema:load, not running all the migrations\n-# from scratch. The latter is a flawed and unsustainable approach (the more migrations\n-# you'll amass, the slower it'll run and the greater likelihood for issues).\n+# This file is the source Rails uses to define your schema when running `rails\n+# db:schema:load`. When creating a new database, `rails db:schema:load` tends to\n+# be faster and is potentially less error prone than running all of your\n+# migrations from scratch. Old migrations may fail to apply correctly if those\n+# migrations use external dependencies or application code.\n #\n # It's strongly recommended that you check this file into your version control system.\n\n-ActiveRecord::Schema.define(version: 20170327081649) do\n+ActiveRecord::Schema.define(version: 2017_03_27_081649) do\n\n-  create_table \"addresses\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u4f4f\u6240\" do |t|\n-    t.integer  \"customer_id\",                null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n-    t.string   \"type\",                       null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n-    t.string   \"postal_code\",                null: false, comment: \"\u90f5\u4fbf\u756a\u53f7\"\n-    t.string   \"prefecture\",                 null: false, comment: \"\u90fd\u9053\u5e9c\u770c\"\n-    t.string   \"city\",                       null: false, comment: \"\u5e02\u533a\u753a\u6751\"\n-    t.string   \"address1\",                   null: false, comment: \"\u753a\u57df\u30fb\u756a\u5730\u7b49\"\n-    t.string   \"address2\",                   null: false, comment: \"\u5efa\u7269\u540d\u30fb\u90e8\u5c4b\u756a\u53f7\"\n-    t.string   \"company_name\",  default: \"\", null: false, comment: \"\u4f1a\u793e\u540d\"\n-    t.string   \"division_name\", default: \"\", null: false, comment: \"\u90e8\u7f72\u540d\"\n-    t.datetime \"created_at\",                 null: false\n-    t.datetime \"updated_at\",                 null: false\n-    t.index [\"city\"], name: \"index_addresses_on_city\", using: :btree\n-    t.index [\"customer_id\"], name: \"index_addresses_on_customer_id\", using: :btree\n-    t.index [\"postal_code\"], name: \"index_addresses_on_postal_code\", using: :btree\n-    t.index [\"prefecture\", \"city\"], name: \"index_addresses_on_prefecture_and_city\", using: :btree\n-    t.index [\"type\", \"city\"], name: \"index_addresses_on_type_and_city\", using: :btree\n-    t.index [\"type\", \"customer_id\"], name: \"index_addresses_on_type_and_customer_id\", unique: true, using: :btree\n-    t.index [\"type\", \"prefecture\", \"city\"], name: \"index_addresses_on_type_and_prefecture_and_city\", using: :btree\n+  create_table \"addresses\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u4f4f\u6240\", force: :cascade do |t|\n+    t.integer \"customer_id\", null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.string \"type\", null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n+    t.string \"postal_code\", null: false, comment: \"\u90f5\u4fbf\u756a\u53f7\"\n+    t.string \"prefecture\", null: false, comment: \"\u90fd\u9053\u5e9c\u770c\"\n+    t.string \"city\", null: false, comment: \"\u5e02\u533a\u753a\u6751\"\n+    t.string \"address1\", null: false, comment: \"\u753a\u57df\u30fb\u756a\u5730\u7b49\"\n+    t.string \"address2\", null: false, comment: \"\u5efa\u7269\u540d\u30fb\u90e8\u5c4b\u756a\u53f7\"\n+    t.string \"company_name\", default: \"\", null: false, comment: \"\u4f1a\u793e\u540d\"\n+    t.string \"division_name\", default: \"\", null: false, comment: \"\u90e8\u7f72\u540d\"\n+    t.datetime \"created_at\", null: false\n+    t.datetime \"updated_at\", null: false\n+    t.index [\"city\"], name: \"index_addresses_on_city\"\n+    t.index [\"customer_id\"], name: \"index_addresses_on_customer_id\"\n+    t.index [\"postal_code\"], name: \"index_addresses_on_postal_code\"\n+    t.index [\"prefecture\", \"city\"], name: \"index_addresses_on_prefecture_and_city\"\n+    t.index [\"type\", \"city\"], name: \"index_addresses_on_type_and_city\"\n+    t.index [\"type\", \"customer_id\"], name: \"index_addresses_on_type_and_customer_id\", unique: true\n+    t.index [\"type\", \"prefecture\", \"city\"], name: \"index_addresses_on_type_and_prefecture_and_city\"\n   end\n\n-  create_table \"administrators\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u7ba1\u7406\u8005\" do |t|\n-    t.string   \"email\",                           null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n-    t.string   \"email_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n-    t.string   \"hashed_password\",                              comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n-    t.boolean  \"suspended\",       default: false, null: false, comment: \"\u505c\u6b62\u30d5\u30e9\u30b0\"\n-    t.datetime \"created_at\",                      null: false\n-    t.datetime \"updated_at\",                      null: false\n-    t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true, using: :btree\n+  create_table \"administrators\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u7ba1\u7406\u8005\", force: :cascade do |t|\n+    t.string \"email\", null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string \"email_for_index\", null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string \"hashed_password\", comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n+    t.boolean \"suspended\", default: false, null: false, comment: \"\u505c\u6b62\u30d5\u30e9\u30b0\"\n+    t.datetime \"created_at\", null: false\n+    t.datetime \"updated_at\", null: false\n+    t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true\n   end\n\n-  create_table \"allowed_sources\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\" do |t|\n-    t.string   \"namespace\",                  null: false, comment: \"\u540d\u524d\u7a7a\u9593\"\n-    t.integer  \"octet1\",                     null: false, comment: \"\u7b2c\uff11\u30aa\u30af\u30c6\u30c3\u30c8\"\n-    t.integer  \"octet2\",                     null: false, comment: \"\u7b2c\uff12\u30aa\u30af\u30c6\u30c3\u30c8\"\n-    t.integer  \"octet3\",                     null: false, comment: \"\u7b2c\uff13\u30aa\u30af\u30c6\u30c3\u30c8\"\n-    t.integer  \"octet4\",                     null: false, comment: \"\u7b2c\uff14\u30aa\u30af\u30c6\u30c3\u30c8\"\n-    t.boolean  \"wildcard\",   default: false, null: false, comment: \"\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\"\n-    t.datetime \"created_at\",                 null: false\n-    t.datetime \"updated_at\",                 null: false\n-    t.index [\"namespace\", \"octet1\", \"octet2\", \"octet3\", \"octet4\"], name: \"index_allowed_sources_on_namespace_and_octets\", unique: true, using: :btree\n+  create_table \"allowed_sources\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\", force: :cascade do |t|\n+    t.string \"namespace\", null: false, comment: \"\u540d\u524d\u7a7a\u9593\"\n+    t.integer \"octet1\", null: false, comment: \"\u7b2c\uff11\u30aa\u30af\u30c6\u30c3\u30c8\"\n+    t.integer \"octet2\", null: false, comment: \"\u7b2c\uff12\u30aa\u30af\u30c6\u30c3\u30c8\"\n+    t.integer \"octet3\", null: false, comment: \"\u7b2c\uff13\u30aa\u30af\u30c6\u30c3\u30c8\"\n+    t.integer \"octet4\", null: false, comment: \"\u7b2c\uff14\u30aa\u30af\u30c6\u30c3\u30c8\"\n+    t.boolean \"wildcard\", default: false, null: false, comment: \"\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\"\n+    t.datetime \"created_at\", null: false\n+    t.datetime \"updated_at\", null: false\n+    t.index [\"namespace\", \"octet1\", \"octet2\", \"octet3\", \"octet4\"], name: \"index_allowed_sources_on_namespace_and_octets\", unique: true\n   end\n\n-  create_table \"customers\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u9867\u5ba2\" do |t|\n-    t.string   \"email\",            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n-    t.string   \"email_for_index\",  null: false, comment: \"\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n-    t.string   \"family_name\",      null: false, comment: \"\u59d3\"\n-    t.string   \"given_name\",       null: false, comment: \"\u540d\"\n-    t.string   \"family_name_kana\", null: false, comment: \"\u59d3\uff08\u30ab\u30ca\uff09\"\n-    t.string   \"given_name_kana\",  null: false, comment: \"\u540d\uff08\u30ab\u30ca\uff09\"\n-    t.string   \"gender\",                        comment: \"\u6027\u5225\"\n-    t.date     \"birthday\",                      comment: \"\u8a95\u751f\u65e5\"\n-    t.string   \"hashed_password\",               comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n-    t.datetime \"created_at\",       null: false\n-    t.datetime \"updated_at\",       null: false\n-    t.integer  \"birth_year\",                    comment: \"\u8a95\u751f\u5e74\"\n-    t.integer  \"birth_month\",                   comment: \"\u8a95\u751f\u6708\"\n-    t.integer  \"birth_mday\",                    comment: \"\u8a95\u751f\u65e5\"\n-    t.index [\"birth_mday\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_furigana\", using: :btree\n-    t.index [\"birth_mday\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_given_name_kana\", using: :btree\n-    t.index [\"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_month_and_birth_mday\", using: :btree\n-    t.index [\"birth_month\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_furigana\", using: :btree\n-    t.index [\"birth_month\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_given_name_kana\", using: :btree\n-    t.index [\"birth_year\", \"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_year_and_birth_month_and_birth_mday\", using: :btree\n-    t.index [\"birth_year\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_furigana\", using: :btree\n-    t.index [\"birth_year\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_given_name_kana\", using: :btree\n-    t.index [\"email_for_index\"], name: \"index_customers_on_email_for_index\", unique: true, using: :btree\n-    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_family_name_kana_and_given_name_kana\", using: :btree\n-    t.index [\"gender\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_gender_and_furigana\", using: :btree\n-    t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\", using: :btree\n+  create_table \"customers\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u9867\u5ba2\", force: :cascade do |t|\n+    t.string \"email\", null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string \"email_for_index\", null: false, comment: \"\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string \"family_name\", null: false, comment: \"\u59d3\"\n+    t.string \"given_name\", null: false, comment: \"\u540d\"\n+    t.string \"family_name_kana\", null: false, comment: \"\u59d3\uff08\u30ab\u30ca\uff09\"\n+    t.string \"given_name_kana\", null: false, comment: \"\u540d\uff08\u30ab\u30ca\uff09\"\n+    t.string \"gender\", comment: \"\u6027\u5225\"\n+    t.date \"birthday\", comment: \"\u8a95\u751f\u65e5\"\n+    t.string \"hashed_password\", comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n+    t.datetime \"created_at\", null: false\n+    t.datetime \"updated_at\", null: false\n+    t.integer \"birth_year\", comment: \"\u8a95\u751f\u5e74\"\n+    t.integer \"birth_month\", comment: \"\u8a95\u751f\u6708\"\n+    t.integer \"birth_mday\", comment: \"\u8a95\u751f\u65e5\"\n+    t.index [\"birth_mday\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_furigana\"\n+    t.index [\"birth_mday\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_given_name_kana\"\n+    t.index [\"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_month_and_birth_mday\"\n+    t.index [\"birth_month\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_furigana\"\n+    t.index [\"birth_month\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_given_name_kana\"\n+    t.index [\"birth_year\", \"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_year_and_birth_month_and_birth_mday\"\n+    t.index [\"birth_year\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_furigana\"\n+    t.index [\"birth_year\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_given_name_kana\"\n+    t.index [\"email_for_index\"], name: \"index_customers_on_email_for_index\", unique: true\n+    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_family_name_kana_and_given_name_kana\"\n+    t.index [\"gender\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_gender_and_furigana\"\n+    t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\"\n   end\n\n-  create_table \"entries\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u7533\u3057\u8fbc\u307f\" do |t|\n-    t.integer  \"program_id\",                  null: false\n-    t.integer  \"customer_id\",                 null: false\n-    t.boolean  \"approved\",    default: false, null: false, comment: \"\u627f\u8a8d\u6e08\u307f\u30d5\u30e9\u30b0\"\n-    t.boolean  \"canceled\",    default: false, null: false, comment: \"\u53d6\u308a\u6d88\u3057\u30d5\u30e9\u30b0\"\n-    t.datetime \"created_at\",                  null: false\n-    t.datetime \"updated_at\",                  null: false\n-    t.index [\"customer_id\"], name: \"index_entries_on_customer_id\", using: :btree\n-    t.index [\"program_id\", \"customer_id\"], name: \"index_entries_on_program_id_and_customer_id\", unique: true, using: :btree\n-    t.index [\"program_id\"], name: \"index_entries_on_program_id\", using: :btree\n+  create_table \"entries\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u7533\u3057\u8fbc\u307f\", force: :cascade do |t|\n+    t.integer \"program_id\", null: false\n+    t.integer \"customer_id\", null: false\n+    t.boolean \"approved\", default: false, null: false, comment: \"\u627f\u8a8d\u6e08\u307f\u30d5\u30e9\u30b0\"\n+    t.boolean \"canceled\", default: false, null: false, comment: \"\u53d6\u308a\u6d88\u3057\u30d5\u30e9\u30b0\"\n+    t.datetime \"created_at\", null: false\n+    t.datetime \"updated_at\", null: false\n+    t.index [\"customer_id\"], name: \"index_entries_on_customer_id\"\n+    t.index [\"program_id\", \"customer_id\"], name: \"index_entries_on_program_id_and_customer_id\", unique: true\n+    t.index [\"program_id\"], name: \"index_entries_on_program_id\"\n   end\n\n-  create_table \"hash_locks\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u6392\u4ed6\u5236\u5fa1\" do |t|\n-    t.string   \"table\",      null: false, comment: \"\u30c6\u30fc\u30d6\u30eb\"\n-    t.string   \"column\",     null: false, comment: \"\u30ab\u30e9\u30e0\"\n-    t.string   \"key\",        null: false, comment: \"\u30ad\u30fc\"\n+  create_table \"hash_locks\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u6392\u4ed6\u5236\u5fa1\", force: :cascade do |t|\n+    t.string \"table\", null: false, comment: \"\u30c6\u30fc\u30d6\u30eb\"\n+    t.string \"column\", null: false, comment: \"\u30ab\u30e9\u30e0\"\n+    t.string \"key\", null: false, comment: \"\u30ad\u30fc\"\n     t.datetime \"created_at\", null: false\n     t.datetime \"updated_at\", null: false\n-    t.index [\"table\", \"column\", \"key\"], name: \"index_hash_locks_on_table_and_column_and_key\", unique: true, using: :btree\n+    t.index [\"table\", \"column\", \"key\"], name: \"index_hash_locks_on_table_and_column_and_key\", unique: true\n   end\n\n-  create_table \"message_tag_links\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb\" do |t|\n+  create_table \"message_tag_links\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb\", force: :cascade do |t|\n     t.integer \"message_id\", null: false\n-    t.integer \"tag_id\",     null: false\n-    t.index [\"message_id\", \"tag_id\"], name: \"index_message_tag_links_on_message_id_and_tag_id\", unique: true, using: :btree\n-    t.index [\"message_id\"], name: \"index_message_tag_links_on_message_id\", using: :btree\n-    t.index [\"tag_id\"], name: \"index_message_tag_links_on_tag_id\", using: :btree\n+    t.integer \"tag_id\", null: false\n+    t.index [\"message_id\", \"tag_id\"], name: \"index_message_tag_links_on_message_id_and_tag_id\", unique: true\n+    t.index [\"message_id\"], name: \"index_message_tag_links_on_message_id\"\n+    t.index [\"tag_id\"], name: \"index_message_tag_links_on_tag_id\"\n   end\n\n-  create_table \"messages\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u554f\u3044\u5408\u308f\u305b\" do |t|\n-    t.integer  \"customer_id\",                                   null: false\n-    t.integer  \"staff_member_id\"\n-    t.integer  \"root_id\",                                                    comment: \"Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n-    t.integer  \"parent_id\",                                                  comment: \"Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n-    t.string   \"type\",                                          null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n-    t.string   \"status\",                        default: \"new\", null: false, comment: \"\u72b6\u614b\uff08\u8077\u54e1\u5411\u3051\uff09\"\n-    t.string   \"subject\",                                       null: false, comment: \"\u4ef6\u540d\"\n-    t.text     \"body\",            limit: 65535,                              comment: \"\u672c\u6587\"\n-    t.text     \"remarks\",         limit: 65535,                              comment: \"\u5099\u8003\uff08\u8077\u54e1\u5411\u3051\uff09\"\n-    t.boolean  \"discarded\",                     default: false, null: false, comment: \"\u9867\u5ba2\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\"\n-    t.boolean  \"deleted\",                       default: false, null: false, comment: \"\u8077\u54e1\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\"\n-    t.datetime \"created_at\",                                    null: false\n-    t.datetime \"updated_at\",                                    null: false\n-    t.index [\"customer_id\", \"deleted\", \"created_at\"], name: \"index_messages_on_customer_id_and_deleted_and_created_at\", using: :btree\n-    t.index [\"customer_id\", \"deleted\", \"status\", \"created_at\"], name: \"index_messages_on_c_d_s_c\", using: :btree\n-    t.index [\"customer_id\", \"discarded\", \"created_at\"], name: \"index_messages_on_customer_id_and_discarded_and_created_at\", using: :btree\n-    t.index [\"customer_id\"], name: \"index_messages_on_customer_id\", using: :btree\n-    t.index [\"parent_id\"], name: \"fk_rails_aafcb31dbf\", using: :btree\n-    t.index [\"root_id\", \"deleted\", \"created_at\"], name: \"index_messages_on_root_id_and_deleted_and_created_at\", using: :btree\n-    t.index [\"staff_member_id\"], name: \"index_messages_on_staff_member_id\", using: :btree\n-    t.index [\"type\", \"customer_id\"], name: \"index_messages_on_type_and_customer_id\", using: :btree\n-    t.index [\"type\", \"staff_member_id\"], name: \"index_messages_on_type_and_staff_member_id\", using: :btree\n+  create_table \"messages\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u554f\u3044\u5408\u308f\u305b\", force: :cascade do |t|\n+    t.integer \"customer_id\", null: false\n+    t.integer \"staff_member_id\"\n+    t.integer \"root_id\", comment: \"Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.integer \"parent_id\", comment: \"Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.string \"type\", null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n+    t.string \"status\", default: \"new\", null: false, comment: \"\u72b6\u614b\uff08\u8077\u54e1\u5411\u3051\uff09\"\n+    t.string \"subject\", null: false, comment: \"\u4ef6\u540d\"\n+    t.text \"body\", comment: \"\u672c\u6587\"\n+    t.text \"remarks\", comment: \"\u5099\u8003\uff08\u8077\u54e1\u5411\u3051\uff09\"\n+    t.boolean \"discarded\", default: false, null: false, comment: \"\u9867\u5ba2\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\"\n+    t.boolean \"deleted\", default: false, null: false, comment: \"\u8077\u54e1\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\"\n+    t.datetime \"created_at\", null: false\n+    t.datetime \"updated_at\", null: false\n+    t.index [\"customer_id\", \"deleted\", \"created_at\"], name: \"index_messages_on_customer_id_and_deleted_and_created_at\"\n+    t.index [\"customer_id\", \"deleted\", \"status\", \"created_at\"], name: \"index_messages_on_c_d_s_c\"\n+    t.index [\"customer_id\", \"discarded\", \"created_at\"], name: \"index_messages_on_customer_id_and_discarded_and_created_at\"\n+    t.index [\"customer_id\"], name: \"index_messages_on_customer_id\"\n+    t.index [\"parent_id\"], name: \"fk_rails_aafcb31dbf\"\n+    t.index [\"root_id\", \"deleted\", \"created_at\"], name: \"index_messages_on_root_id_and_deleted_and_created_at\"\n+    t.index [\"staff_member_id\"], name: \"index_messages_on_staff_member_id\"\n+    t.index [\"type\", \"customer_id\"], name: \"index_messages_on_type_and_customer_id\"\n+    t.index [\"type\", \"staff_member_id\"], name: \"index_messages_on_type_and_staff_member_id\"\n   end\n\n-  create_table \"phones\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u96fb\u8a71\" do |t|\n-    t.integer  \"customer_id\",                      null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n-    t.integer  \"address_id\",                                    comment: \"\u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n-    t.string   \"number\",                           null: false, comment: \"\u96fb\u8a71\u756a\u53f7\"\n-    t.string   \"number_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u96fb\u8a71\u756a\u53f7\"\n-    t.boolean  \"primary\",          default: false, null: false, comment: \"\u512a\u5148\u30d5\u30e9\u30b0\"\n-    t.datetime \"created_at\",                       null: false\n-    t.datetime \"updated_at\",                       null: false\n-    t.string   \"last_four_digits\",                              comment: \"\u96fb\u8a71\u756a\u53f7\u4e0b\uff14\u6841\"\n-    t.index [\"address_id\"], name: \"index_phones_on_address_id\", using: :btree\n-    t.index [\"customer_id\"], name: \"index_phones_on_customer_id\", using: :btree\n-    t.index [\"last_four_digits\"], name: \"index_phones_on_last_four_digits\", using: :btree\n-    t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\", using: :btree\n+  create_table \"phones\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u96fb\u8a71\", force: :cascade do |t|\n+    t.integer \"customer_id\", null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.integer \"address_id\", comment: \"\u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.string \"number\", null: false, comment: \"\u96fb\u8a71\u756a\u53f7\"\n+    t.string \"number_for_index\", null: false, comment: \"\u7d22\u5f15\u7528\u96fb\u8a71\u756a\u53f7\"\n+    t.boolean \"primary\", default: false, null: false, comment: \"\u512a\u5148\u30d5\u30e9\u30b0\"\n+    t.datetime \"created_at\", null: false\n+    t.datetime \"updated_at\", null: false\n+    t.string \"last_four_digits\", comment: \"\u96fb\u8a71\u756a\u53f7\u4e0b\uff14\u6841\"\n+    t.index [\"address_id\"], name: \"index_phones_on_address_id\"\n+    t.index [\"customer_id\"], name: \"index_phones_on_customer_id\"\n+    t.index [\"last_four_digits\"], name: \"index_phones_on_last_four_digits\"\n+    t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\"\n   end\n\n-  create_table \"programs\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u30d7\u30ed\u30b0\u30e9\u30e0\" do |t|\n-    t.integer  \"registrant_id\",                            null: false, comment: \"\u767b\u9332\u8077\u54e1\uff08\u5916\u90e8\u30ad\u30fc\uff09\"\n-    t.string   \"title\",                                    null: false, comment: \"\u30bf\u30a4\u30c8\u30eb\"\n-    t.text     \"description\",                limit: 65535,              comment: \"\u8aac\u660e\"\n-    t.datetime \"application_start_time\",                   null: false, comment: \"\u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5\"\n-    t.datetime \"application_end_time\",                     null: false, comment: \"\u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5\"\n-    t.integer  \"min_number_of_participants\",                            comment: \"\u6700\u5c0f\u53c2\u89b3\u8005\u6570\"\n-    t.integer  \"max_number_of_participants\",                            comment: \"\u6700\u5927\u53c2\u89b3\u8005\u6570\"\n-    t.datetime \"created_at\",                               null: false\n-    t.datetime \"updated_at\",                               null: false\n-    t.index [\"application_start_time\"], name: \"index_programs_on_application_start_time\", using: :btree\n-    t.index [\"registrant_id\"], name: \"index_programs_on_registrant_id\", using: :btree\n+  create_table \"programs\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u30d7\u30ed\u30b0\u30e9\u30e0\", force: :cascade do |t|\n+    t.integer \"registrant_id\", null: false, comment: \"\u767b\u9332\u8077\u54e1\uff08\u5916\u90e8\u30ad\u30fc\uff09\"\n+    t.string \"title\", null: false, comment: \"\u30bf\u30a4\u30c8\u30eb\"\n+    t.text \"description\", comment: \"\u8aac\u660e\"\n+    t.datetime \"application_start_time\", null: false, comment: \"\u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5\"\n+    t.datetime \"application_end_time\", null: false, comment: \"\u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5\"\n+    t.integer \"min_number_of_participants\", comment: \"\u6700\u5c0f\u53c2\u89b3\u8005\u6570\"\n+    t.integer \"max_number_of_participants\", comment: \"\u6700\u5927\u53c2\u89b3\u8005\u6570\"\n+    t.datetime \"created_at\", null: false\n+    t.datetime \"updated_at\", null: false\n+    t.index [\"application_start_time\"], name: \"index_programs_on_application_start_time\"\n+    t.index [\"registrant_id\"], name: \"index_programs_on_registrant_id\"\n   end\n\n-  create_table \"staff_events\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n-    t.integer  \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n-    t.string   \"type\",            null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n-    t.datetime \"created_at\",      null: false, comment: \"\u767a\u751f\u6642\u523b\"\n-    t.index [\"created_at\"], name: \"index_staff_events_on_created_at\", using: :btree\n-    t.index [\"staff_member_id\", \"created_at\"], name: \"index_staff_events_on_staff_member_id_and_created_at\", using: :btree\n-    t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\", using: :btree\n+  create_table \"staff_events\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\", force: :cascade do |t|\n+    t.integer \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.string \"type\", null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n+    t.datetime \"created_at\", null: false, comment: \"\u767a\u751f\u6642\u523b\"\n+    t.index [\"created_at\"], name: \"index_staff_events_on_created_at\"\n+    t.index [\"staff_member_id\", \"created_at\"], name: \"index_staff_events_on_staff_member_id_and_created_at\"\n+    t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\"\n   end\n\n-  create_table \"staff_members\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u8077\u54e1\" do |t|\n-    t.string   \"email\",                            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n-    t.string   \"email_for_index\",                  null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n-    t.string   \"family_name\",                      null: false, comment: \"\u59d3\"\n-    t.string   \"given_name\",                       null: false, comment: \"\u540d\"\n-    t.string   \"family_name_kana\",                 null: false, comment: \"\u59d3\uff08\u30ab\u30ca\uff09\"\n-    t.string   \"given_name_kana\",                  null: false, comment: \"\u540d\uff08\u30ab\u30ca\uff09\"\n-    t.string   \"hashed_password\",                               comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n-    t.date     \"start_date\",                       null: false, comment: \"\u958b\u59cb\u65e5\"\n-    t.date     \"end_date\",                                      comment: \"\u7d42\u4e86\u65e5\"\n-    t.boolean  \"suspended\",        default: false, null: false, comment: \"\u505c\u6b62\u30d5\u30e9\u30b0\"\n-    t.datetime \"created_at\",                       null: false\n-    t.datetime \"updated_at\",                       null: false\n-    t.index [\"email_for_index\"], name: \"index_staff_members_on_email_for_index\", unique: true, using: :btree\n-    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\", using: :btree\n+  create_table \"staff_members\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u8077\u54e1\", force: :cascade do |t|\n+    t.string \"email\", null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string \"email_for_index\", null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string \"family_name\", null: false, comment: \"\u59d3\"\n+    t.string \"given_name\", null: false, comment: \"\u540d\"\n+    t.string \"family_name_kana\", null: false, comment: \"\u59d3\uff08\u30ab\u30ca\uff09\"\n+    t.string \"given_name_kana\", null: false, comment: \"\u540d\uff08\u30ab\u30ca\uff09\"\n+    t.string \"hashed_password\", comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n+    t.date \"start_date\", null: false, comment: \"\u958b\u59cb\u65e5\"\n+    t.date \"end_date\", comment: \"\u7d42\u4e86\u65e5\"\n+    t.boolean \"suspended\", default: false, null: false, comment: \"\u505c\u6b62\u30d5\u30e9\u30b0\"\n+    t.datetime \"created_at\", null: false\n+    t.datetime \"updated_at\", null: false\n+    t.index [\"email_for_index\"], name: \"index_staff_members_on_email_for_index\", unique: true\n+    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\"\n   end\n\n-  create_table \"tags\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u30bf\u30b0\" do |t|\n-    t.string   \"value\",      null: false\n+  create_table \"tags\", id: :integer, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u30bf\u30b0\", force: :cascade do |t|\n+    t.string \"value\", null: false\n     t.datetime \"created_at\", null: false\n     t.datetime \"updated_at\", null: false\n-    t.index [\"value\"], name: \"index_tags_on_value\", unique: true, using: :btree\n+    t.index [\"value\"], name: \"index_tags_on_value\", unique: true\n   end\n\n   add_foreign_key \"addresses\", \"customers\"\n</code></pre>"},{"location":"journal/20250607/#_43","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20250607/#6fd35a1","title":"\u30b3\u30df\u30c3\u30c8: 6fd35a1","text":""},{"location":"journal/20250607/#_44","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>chore:Ruby\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\n</code></pre>"},{"location":"journal/20250607/#_45","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .ruby-version</li> <li>M Dockerfile</li> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>M app/assets/javascripts/admin.js</li> <li>M app/assets/javascripts/customer.js</li> <li>M app/assets/javascripts/staff.js</li> <li>M config/database.yml</li> <li>M db/schema.rb</li> </ul>"},{"location":"journal/20250607/#_46","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 6fd35a1b8c700e1dc148f66e20adfacebc9371fc\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jun 7 15:29:17 2025 +0900\n\n    chore:Ruby\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\n\ndiff --git a/.ruby-version b/.ruby-version\nindex 197c4d5..6a81b4c 100644\n--- a/.ruby-version\n+++ b/.ruby-version\n@@ -1 +1 @@\n-2.4.0\n+2.7.8\ndiff --git a/Dockerfile b/Dockerfile\nindex 6f34f59..156e901 100644\n--- a/Dockerfile\n+++ b/Dockerfile\n@@ -56,8 +56,8 @@ RUN apt-get update &amp;&amp; \\\n            vim\n\n # Ruby\n-ENV RUBY_VER 2.4.0\n-ENV BUNDLER_VER 1.13.7\n+ENV RUBY_VER 2.7.8\n+ENV BUNDLER_VER 2.1.4\n RUN rm -rf ~/.rbenv\n RUN git clone https://github.com/sstephenson/rbenv ~/.rbenv\n RUN git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\n@@ -80,8 +80,3 @@ RUN . $HOME/.nvm/nvm.sh &amp;&amp; \\\n     npm i -g yarn\n RUN apt install -y nodejs\n\n-# Workaround for Ruby\n-RUN apt-get install -y libmysqlclient-dev\n-RUN ~/.rbenv/shims/gem install mysql2 -v '0.4.5' --source 'https://rubygems.org/'\n-RUN apt-get install -y libssl1.0-dev\n-RUN ~/.rbenv/shims/gem install puma -v '3.6.0' --source 'https://rubygems.org/'\ndiff --git a/Gemfile b/Gemfile\nindex 40c2377..6f27f2f 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -1,5 +1,5 @@\n source 'https://rubygems.org'\n-ruby '2.4.0'\n+ruby '2.7.8'\n\n git_source(:github) do |repo_name|\n   repo_name = \"#{repo_name}/#{repo_name}\" unless repo_name.include?(\"/\")\n@@ -10,28 +10,28 @@ end\n # Bundle edge Rails instead: gem 'rails', github: 'rails/rails'\n gem 'rails', '~&gt; 5.0.1'\n # Use mysql as the database for Active Record\n-gem 'pg', '~&gt; 0.18'\n+gem 'pg'\n # Use Puma as the app server\n-gem 'puma', '~&gt; 3.0'\n+gem 'puma'\n # Use SCSS for stylesheets\n-gem 'sass-rails', '~&gt; 5.0'\n+gem 'sass-rails'\n # Use Uglifier as compressor for JavaScript assets\n-gem 'uglifier', '&gt;= 1.3.0'\n+gem 'uglifier'\n # Use CoffeeScript for .coffee assets and views\n-gem 'coffee-rails', '~&gt; 4.2'\n+gem 'coffee-rails'\n # See https://github.com/rails/execjs#readme for more supported runtimes\n # gem 'therubyracer', platforms: :ruby\n\n # Use jquery as the JavaScript library\n gem 'jquery-rails'\n # Turbolinks makes navigating your web application faster. Read more: https://github.com/turbolinks/turbolinks\n-gem 'turbolinks', '~&gt; 5'\n+gem 'turbolinks'\n # Build JSON APIs with ease. Read more: https://github.com/rails/jbuilder\n-gem 'jbuilder', '~&gt; 2.5'\n+gem 'jbuilder'\n # Use Redis adapter to run Action Cable in production\n # gem 'redis', '~&gt; 3.0'\n # Use ActiveModel has_secure_password\n-gem 'bcrypt', '~&gt; 3.1.7'\n+gem 'bcrypt'\n\n # Use Capistrano for deployment\n # gem 'capistrano-rails', group: :development\n@@ -39,21 +39,20 @@ gem 'bcrypt', '~&gt; 3.1.7'\n group :development, :test do\n   # Call 'byebug' anywhere in the code to stop execution and get a debugger console\n   gem 'byebug', platform: :mri\n-  gem 'sqlite3'\n-  gem 'rspec-rails', '~&gt; 3.5'\n+  gem 'rspec-rails'\n   gem 'spring-commands-rspec'\n   gem 'factory_girl_rails'\n   gem 'debase'\n end\n\n group :development do\n-  gem 'mysql2', '&gt;= 0.3.18', '&lt; 0.5'\n+  gem 'mysql2'\n   # Access an IRB console on exception pages or by using &lt;%= console %&gt; anywhere in the code.\n-  gem 'web-console', '&gt;= 3.3.0'\n-  gem 'listen', '~&gt; 3.0.5'\n+  gem 'web-console'\n+  gem 'listen'\n   # Spring speeds up development by keeping your application running in the background. Read more: https://github.com/rails/spring\n   gem 'spring'\n-  gem 'spring-watcher-listen', '~&gt; 2.0.0'\n+  gem 'spring-watcher-listen'\n   gem 'better_errors'\n   gem 'binding_of_caller'\n   gem 'migration_comments'\n@@ -61,19 +60,19 @@ group :development do\n   gem 'i18n_generators'\n   gem 'yard'\n   gem 'rails-erd'\n-  gem 'guard-livereload', '~&gt; 2.5', require: false\n+  gem 'guard-livereload', require: false\n   gem 'rack-livereload'\n   gem 'i18n_generators'\n end\n\n group :test do\n-  gem 'faker', '~&gt; 1.4.3'\n-  gem 'capybara', '~&gt; 2.8'\n+  gem 'faker'\n+  gem 'capybara'\n   gem 'capybara-webkit'\n-  gem 'database_cleaner', '~&gt; 1.3.0'\n-  gem 'launchy', '~&gt; 2.4.2'\n+  gem 'database_cleaner'\n+  gem 'launchy'\n   gem 'selenium-webdriver'\n-  gem 'shoulda-matchers', '~&gt; 2.6.2'\n+  gem 'shoulda-matchers'\n   gem 'capybara-screenshot'\n   gem 'rails-controller-testing'\n end\n@@ -85,13 +84,14 @@ gem 'font-awesome-rails'\n gem 'rails_12factor', group: :production\n gem 'rack-dev-mark'\n gem 'enum_help'\n-gem 'bootstrap-sass', '~&gt; 3.3.6'\n+gem 'bootstrap-sass'\n gem 'bootstrap_form'\n gem 'dotenv-rails'\n-gem 'kaminari', '~&gt; 0.17.0'\n-gem 'date_validator', '~&gt; 0.9.0'\n-gem 'email_validator', '~&gt; 1.6'\n-gem 'jquery-ui-rails', '~&gt; 5.0', '&gt;= 5.0.5'\n+gem 'kaminari'\n+gem 'date_validator'\n+gem 'email_validator'\n+gem 'jquery-ui-rails'\n gem 'momentjs-rails'\n gem 'bootstrap3-datetimepicker-rails'\n-gem 'tag-it-rails'\n\\ No newline at end of file\n+gem 'tag-it-rails'\n+gem 'ffi', '~&gt; 1.15.5'\n\\ No newline at end of file\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex 600d0fd..94c0bd0 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -1,133 +1,149 @@\n GEM\n   remote: https://rubygems.org/\n   specs:\n-    actioncable (5.0.1)\n-      actionpack (= 5.0.1)\n-      nio4r (~&gt; 1.2)\n+    actioncable (5.0.7.2)\n+      actionpack (= 5.0.7.2)\n+      nio4r (&gt;= 1.2, &lt; 3.0)\n       websocket-driver (~&gt; 0.6.1)\n-    actionmailer (5.0.1)\n-      actionpack (= 5.0.1)\n-      actionview (= 5.0.1)\n-      activejob (= 5.0.1)\n+    actionmailer (5.0.7.2)\n+      actionpack (= 5.0.7.2)\n+      actionview (= 5.0.7.2)\n+      activejob (= 5.0.7.2)\n       mail (~&gt; 2.5, &gt;= 2.5.4)\n       rails-dom-testing (~&gt; 2.0)\n-    actionpack (5.0.1)\n-      actionview (= 5.0.1)\n-      activesupport (= 5.0.1)\n+    actionpack (5.0.7.2)\n+      actionview (= 5.0.7.2)\n+      activesupport (= 5.0.7.2)\n       rack (~&gt; 2.0)\n       rack-test (~&gt; 0.6.3)\n       rails-dom-testing (~&gt; 2.0)\n       rails-html-sanitizer (~&gt; 1.0, &gt;= 1.0.2)\n-    actionview (5.0.1)\n-      activesupport (= 5.0.1)\n+    actionview (5.0.7.2)\n+      activesupport (= 5.0.7.2)\n       builder (~&gt; 3.1)\n       erubis (~&gt; 2.7.0)\n       rails-dom-testing (~&gt; 2.0)\n-      rails-html-sanitizer (~&gt; 1.0, &gt;= 1.0.2)\n-    activejob (5.0.1)\n-      activesupport (= 5.0.1)\n+      rails-html-sanitizer (~&gt; 1.0, &gt;= 1.0.3)\n+    activejob (5.0.7.2)\n+      activesupport (= 5.0.7.2)\n       globalid (&gt;= 0.3.6)\n-    activemodel (5.0.1)\n-      activesupport (= 5.0.1)\n-    activerecord (5.0.1)\n-      activemodel (= 5.0.1)\n-      activesupport (= 5.0.1)\n+    activemodel (5.0.7.2)\n+      activesupport (= 5.0.7.2)\n+    activerecord (5.0.7.2)\n+      activemodel (= 5.0.7.2)\n+      activesupport (= 5.0.7.2)\n       arel (~&gt; 7.0)\n-    activesupport (5.0.1)\n+    activesupport (5.0.7.2)\n       concurrent-ruby (~&gt; 1.0, &gt;= 1.0.2)\n-      i18n (~&gt; 0.7)\n+      i18n (&gt;= 0.7, &lt; 2)\n       minitest (~&gt; 5.1)\n       tzinfo (~&gt; 1.1)\n-    addressable (2.5.0)\n-      public_suffix (~&gt; 2.0, &gt;= 2.0.2)\n-    annotate (2.6.5)\n-      activerecord (&gt;= 2.3.0)\n-      rake (&gt;= 0.8.7)\n+    addressable (2.8.7)\n+      public_suffix (&gt;= 2.0.2, &lt; 7.0)\n+    annotate (3.2.0)\n+      activerecord (&gt;= 3.2, &lt; 8.0)\n+      rake (&gt;= 10.4, &lt; 14.0)\n     arel (7.1.4)\n-    autoprefixer-rails (6.6.1)\n-      execjs\n-    bcrypt (3.1.11)\n-    better_errors (2.1.1)\n-      coderay (&gt;= 1.0.0)\n-      erubis (&gt;= 2.6.6)\n+    autoprefixer-rails (10.4.21.0)\n+      execjs (~&gt; 2)\n+    bcrypt (3.1.20)\n+    better_errors (2.10.1)\n+      erubi (&gt;= 1.0.0)\n       rack (&gt;= 0.9.0)\n-    binding_of_caller (0.7.2)\n-      debug_inspector (&gt;= 0.0.1)\n-    bootstrap-sass (3.3.7)\n+      rouge (&gt;= 1.0.0)\n+    bindex (0.8.1)\n+    binding_of_caller (1.0.1)\n+      debug_inspector (&gt;= 1.2.0)\n+    bootstrap-sass (3.4.1)\n       autoprefixer-rails (&gt;= 5.2.1)\n-      sass (&gt;= 3.3.4)\n-    bootstrap3-datetimepicker-rails (4.17.43)\n+      sassc (&gt;= 2.0.0)\n+    bootstrap3-datetimepicker-rails (4.17.47)\n       momentjs-rails (&gt;= 2.8.1)\n-    bootstrap_form (2.5.3)\n-    builder (3.2.3)\n-    byebug (9.0.6)\n-    capybara (2.12.0)\n+    bootstrap_form (4.4.0)\n+      actionpack (&gt;= 5.0)\n+      activemodel (&gt;= 5.0)\n+    builder (3.3.0)\n+    byebug (11.1.3)\n+    capybara (3.39.2)\n       addressable\n-      mime-types (&gt;= 1.16)\n-      nokogiri (&gt;= 1.3.3)\n-      rack (&gt;= 1.0.0)\n-      rack-test (&gt;= 0.5.4)\n-      xpath (~&gt; 2.0)\n-    capybara-screenshot (1.0.14)\n-      capybara (&gt;= 1.0, &lt; 3)\n+      matrix\n+      mini_mime (&gt;= 0.1.3)\n+      nokogiri (~&gt; 1.8)\n+      rack (&gt;= 1.6.0)\n+      rack-test (&gt;= 0.6.3)\n+      regexp_parser (&gt;= 1.5, &lt; 3.0)\n+      xpath (~&gt; 3.2)\n+    capybara-screenshot (1.0.26)\n+      capybara (&gt;= 1.0, &lt; 4)\n       launchy\n-    capybara-webkit (1.12.0)\n-      capybara (&gt;= 2.3.0, &lt; 2.13.0)\n+    capybara-webkit (1.15.1)\n+      capybara (&gt;= 2.3, &lt; 4.0)\n       json\n-    childprocess (0.5.9)\n-      ffi (~&gt; 1.0, &gt;= 1.0.11)\n+    childprocess (5.1.0)\n+      logger (~&gt; 1.5)\n     choice (0.2.0)\n-    coderay (1.1.1)\n-    coffee-rails (4.2.1)\n+    coderay (1.1.3)\n+    coffee-rails (4.2.2)\n       coffee-script (&gt;= 2.2.0)\n-      railties (&gt;= 4.0.0, &lt; 5.2.x)\n+      railties (&gt;= 4.0.0)\n     coffee-script (2.4.1)\n       coffee-script-source\n       execjs\n     coffee-script-source (1.12.2)\n-    concurrent-ruby (1.0.4)\n-    database_cleaner (1.3.0)\n-    date_validator (0.9.0)\n-      activemodel\n-      activesupport\n-    debase (0.2.1)\n-      debase-ruby_core_source\n-    debase-ruby_core_source (0.9.6)\n-    debug_inspector (0.0.2)\n-    diff-lcs (1.2.5)\n-    dotenv (2.1.2)\n-    dotenv-rails (2.1.2)\n-      dotenv (= 2.1.2)\n-      railties (&gt;= 3.2, &lt; 5.1)\n-    em-websocket (0.5.1)\n+    concurrent-ruby (1.3.5)\n+    crass (1.0.6)\n+    database_cleaner (2.1.0)\n+      database_cleaner-active_record (&gt;= 2, &lt; 3)\n+    database_cleaner-active_record (2.2.1)\n+      activerecord (&gt;= 5.a)\n+      database_cleaner-core (~&gt; 2.0.0)\n+    database_cleaner-core (2.0.1)\n+    date (3.4.1)\n+    date_validator (0.12.0)\n+      activemodel (&gt;= 3)\n+      activesupport (&gt;= 3)\n+    debase (0.2.9)\n+      debase-ruby_core_source (&gt;= 3.4.1)\n+    debase-ruby_core_source (3.4.1)\n+    debug_inspector (1.2.0)\n+    diff-lcs (1.6.2)\n+    dotenv (2.8.1)\n+    dotenv-rails (2.8.1)\n+      dotenv (= 2.8.1)\n+      railties (&gt;= 3.2)\n+    em-websocket (0.5.3)\n       eventmachine (&gt;= 0.12.9)\n-      http_parser.rb (~&gt; 0.6.0)\n-    email_validator (1.6.0)\n+      http_parser.rb (~&gt; 0)\n+    email_validator (2.2.4)\n       activemodel\n-    enum_help (0.0.16)\n+    enum_help (0.0.19)\n+      activesupport (&gt;= 3.0.0)\n+    erubi (1.13.1)\n     erubis (2.7.0)\n-    eventmachine (1.2.1)\n-    execjs (2.7.0)\n-    factory_girl (4.8.0)\n+    eventmachine (1.2.7)\n+    execjs (2.10.0)\n+    factory_girl (4.9.0)\n       activesupport (&gt;= 3.0.0)\n-    factory_girl_rails (4.8.0)\n-      factory_girl (~&gt; 4.8.0)\n+    factory_girl_rails (4.9.0)\n+      factory_girl (~&gt; 4.9.0)\n       railties (&gt;= 3.0.0)\n-    faker (1.4.3)\n-      i18n (~&gt; 0.5)\n-    ffi (1.9.14)\n-    font-awesome-rails (4.7.0.1)\n-      railties (&gt;= 3.2, &lt; 5.1)\n-    formatador (0.2.5)\n-    globalid (0.3.7)\n-      activesupport (&gt;= 4.1.0)\n-    guard (2.14.0)\n+    faker (3.4.2)\n+      i18n (&gt;= 1.8.11, &lt; 2)\n+    ffi (1.15.5)\n+    font-awesome-rails (4.7.0.9)\n+      railties (&gt;= 3.2, &lt; 9.0)\n+    formatador (1.1.0)\n+    globalid (1.1.0)\n+      activesupport (&gt;= 5.0)\n+    guard (2.19.1)\n       formatador (&gt;= 0.2.4)\n       listen (&gt;= 2.7, &lt; 4.0)\n-      lumberjack (~&gt; 1.0)\n+      logger (~&gt; 1.6)\n+      lumberjack (&gt;= 1.0.12, &lt; 2.0)\n       nenv (~&gt; 0.1)\n       notiffany (~&gt; 0.0)\n-      pry (&gt;= 0.9.12)\n+      ostruct (~&gt; 0.6)\n+      pry (&gt;= 0.13.0)\n       shellany (~&gt; 0.0)\n       thor (&gt;= 0.18.1)\n     guard-compat (1.2.1)\n@@ -136,245 +152,282 @@ GEM\n       guard (~&gt; 2.8)\n       guard-compat (~&gt; 1.0)\n       multi_json (~&gt; 1.8)\n-    http_parser.rb (0.6.0)\n-    i18n (0.7.0)\n-    i18n_generators (2.1.1)\n-      rails (&gt;= 3.0.0)\n-    jbuilder (2.6.1)\n-      activesupport (&gt;= 3.0.0, &lt; 5.1)\n-      multi_json (~&gt; 1.2)\n-    jquery-rails (4.2.2)\n+    http_parser.rb (0.8.0)\n+    i18n (1.14.7)\n+      concurrent-ruby (~&gt; 1.0)\n+    i18n_generators (2.2.2)\n+      activerecord (&gt;= 3.0.0)\n+      railties (&gt;= 3.0.0)\n+    jbuilder (2.13.0)\n+      actionview (&gt;= 5.0.0)\n+      activesupport (&gt;= 5.0.0)\n+    jquery-rails (4.6.0)\n       rails-dom-testing (&gt;= 1, &lt; 3)\n       railties (&gt;= 4.2.0)\n       thor (&gt;= 0.14, &lt; 2.0)\n-    jquery-ui-rails (5.0.5)\n+    jquery-ui-rails (8.0.0)\n       railties (&gt;= 3.2.16)\n-    json (2.0.3)\n-    kaminari (0.17.0)\n-      actionpack (&gt;= 3.0.0)\n-      activesupport (&gt;= 3.0.0)\n-    launchy (2.4.3)\n-      addressable (~&gt; 2.3)\n-    listen (3.0.8)\n-      rb-fsevent (~&gt; 0.9, &gt;= 0.9.4)\n-      rb-inotify (~&gt; 0.9, &gt;= 0.9.7)\n-    loofah (2.0.3)\n-      nokogiri (&gt;= 1.5.9)\n-    lumberjack (1.0.11)\n-    mail (2.6.4)\n-      mime-types (&gt;= 1.16, &lt; 4)\n-    method_source (0.8.2)\n+    json (2.12.2)\n+    kaminari (1.2.2)\n+      activesupport (&gt;= 4.1.0)\n+      kaminari-actionview (= 1.2.2)\n+      kaminari-activerecord (= 1.2.2)\n+      kaminari-core (= 1.2.2)\n+    kaminari-actionview (1.2.2)\n+      actionview\n+      kaminari-core (= 1.2.2)\n+    kaminari-activerecord (1.2.2)\n+      activerecord\n+      kaminari-core (= 1.2.2)\n+    kaminari-core (1.2.2)\n+    launchy (3.1.1)\n+      addressable (~&gt; 2.8)\n+      childprocess (~&gt; 5.0)\n+      logger (~&gt; 1.6)\n+    listen (3.9.0)\n+      rb-fsevent (~&gt; 0.10, &gt;= 0.10.3)\n+      rb-inotify (~&gt; 0.9, &gt;= 0.9.10)\n+    logger (1.7.0)\n+    loofah (2.24.1)\n+      crass (~&gt; 1.0.2)\n+      nokogiri (&gt;= 1.12.0)\n+    lumberjack (1.2.10)\n+    mail (2.8.1)\n+      mini_mime (&gt;= 0.1.1)\n+      net-imap\n+      net-pop\n+      net-smtp\n+    matrix (0.4.2)\n+    method_source (1.1.0)\n     migration_comments (0.4.1)\n       activerecord (&gt;= 4.2.0)\n-    mime-types (3.1)\n-      mime-types-data (~&gt; 3.2015)\n-    mime-types-data (3.2016.0521)\n-    mini_portile2 (2.1.0)\n-    minitest (5.10.1)\n-    momentjs-rails (2.17.1)\n+    mini_mime (1.1.5)\n+    mini_portile2 (2.8.9)\n+    minitest (5.25.5)\n+    momentjs-rails (2.29.4.1)\n       railties (&gt;= 3.1)\n-    multi_json (1.12.1)\n-    mysql2 (0.4.5)\n+    multi_json (1.15.0)\n+    mysql2 (0.5.6)\n     nenv (0.3.0)\n-    nio4r (1.2.1)\n-    nokogiri (1.7.0.1)\n-      mini_portile2 (~&gt; 2.1.0)\n-    notiffany (0.1.1)\n+    net-imap (0.4.22)\n+      date\n+      net-protocol\n+    net-pop (0.1.2)\n+      net-protocol\n+    net-protocol (0.2.2)\n+      timeout\n+    net-smtp (0.5.1)\n+      net-protocol\n+    nio4r (2.7.4)\n+    nokogiri (1.15.7)\n+      mini_portile2 (~&gt; 2.8.2)\n+      racc (~&gt; 1.4)\n+    notiffany (0.1.3)\n       nenv (~&gt; 0.1)\n       shellany (~&gt; 0.0)\n-    pg (0.19.0)\n-    pry (0.10.4)\n-      coderay (~&gt; 1.1.0)\n-      method_source (~&gt; 0.8.1)\n-      slop (~&gt; 3.4)\n-    public_suffix (2.0.5)\n-    puma (3.6.2)\n-    rack (2.0.1)\n-    rack-dev-mark (0.7.5)\n-      rack (&gt;= 1.1)\n-    rack-livereload (0.3.16)\n-      rack\n+    ostruct (0.6.1)\n+    pg (1.5.9)\n+    pry (0.15.2)\n+      coderay (~&gt; 1.1)\n+      method_source (~&gt; 1.0)\n+    public_suffix (5.1.1)\n+    puma (6.6.0)\n+      nio4r (~&gt; 2.0)\n+    racc (1.8.1)\n+    rack (2.2.17)\n+    rack-dev-mark (0.8.1)\n+      rack (&gt;= 1.1, &lt; 4.0)\n+    rack-livereload (0.5.2)\n+      rack (&lt; 3)\n     rack-test (0.6.3)\n       rack (&gt;= 1.0)\n-    rails (5.0.1)\n-      actioncable (= 5.0.1)\n-      actionmailer (= 5.0.1)\n-      actionpack (= 5.0.1)\n-      actionview (= 5.0.1)\n-      activejob (= 5.0.1)\n-      activemodel (= 5.0.1)\n-      activerecord (= 5.0.1)\n-      activesupport (= 5.0.1)\n-      bundler (&gt;= 1.3.0, &lt; 2.0)\n-      railties (= 5.0.1)\n+    rails (5.0.7.2)\n+      actioncable (= 5.0.7.2)\n+      actionmailer (= 5.0.7.2)\n+      actionpack (= 5.0.7.2)\n+      actionview (= 5.0.7.2)\n+      activejob (= 5.0.7.2)\n+      activemodel (= 5.0.7.2)\n+      activerecord (= 5.0.7.2)\n+      activesupport (= 5.0.7.2)\n+      bundler (&gt;= 1.3.0)\n+      railties (= 5.0.7.2)\n       sprockets-rails (&gt;= 2.0.0)\n-    rails-controller-testing (1.0.1)\n-      actionpack (~&gt; 5.x)\n-      actionview (~&gt; 5.x)\n-      activesupport (~&gt; 5.x)\n-    rails-dom-testing (2.0.2)\n-      activesupport (&gt;= 4.2.0, &lt; 6.0)\n-      nokogiri (~&gt; 1.6)\n-    rails-erd (1.5.0)\n-      activerecord (&gt;= 3.2)\n-      activesupport (&gt;= 3.2)\n+    rails-controller-testing (1.0.5)\n+      actionpack (&gt;= 5.0.1.rc1)\n+      actionview (&gt;= 5.0.1.rc1)\n+      activesupport (&gt;= 5.0.1.rc1)\n+    rails-dom-testing (2.3.0)\n+      activesupport (&gt;= 5.0.0)\n+      minitest\n+      nokogiri (&gt;= 1.6)\n+    rails-erd (1.7.2)\n+      activerecord (&gt;= 4.2)\n+      activesupport (&gt;= 4.2)\n       choice (~&gt; 0.2.0)\n       ruby-graphviz (~&gt; 1.2)\n-    rails-html-sanitizer (1.0.3)\n-      loofah (~&gt; 2.0)\n+    rails-html-sanitizer (1.6.2)\n+      loofah (~&gt; 2.21)\n+      nokogiri (&gt;= 1.15.7, != 1.16.7, != 1.16.6, != 1.16.5, != 1.16.4, != 1.16.3, != 1.16.2, != 1.16.1, != 1.16.0.rc1, != 1.16.0)\n     rails_12factor (0.0.3)\n       rails_serve_static_assets\n       rails_stdout_logging\n     rails_serve_static_assets (0.0.5)\n     rails_stdout_logging (0.0.5)\n-    railties (5.0.1)\n-      actionpack (= 5.0.1)\n-      activesupport (= 5.0.1)\n+    railties (5.0.7.2)\n+      actionpack (= 5.0.7.2)\n+      activesupport (= 5.0.7.2)\n       method_source\n       rake (&gt;= 0.8.7)\n       thor (&gt;= 0.18.1, &lt; 2.0)\n-    rake (12.0.0)\n-    rb-fsevent (0.9.8)\n-    rb-inotify (0.9.7)\n-      ffi (&gt;= 0.5.0)\n-    rspec-core (3.5.4)\n-      rspec-support (~&gt; 3.5.0)\n-    rspec-expectations (3.5.0)\n+    rake (13.3.0)\n+    rb-fsevent (0.11.2)\n+    rb-inotify (0.11.1)\n+      ffi (~&gt; 1.0)\n+    regexp_parser (2.10.0)\n+    rexml (3.4.1)\n+    rouge (4.5.2)\n+    rspec-core (3.13.4)\n+      rspec-support (~&gt; 3.13.0)\n+    rspec-expectations (3.13.5)\n       diff-lcs (&gt;= 1.2.0, &lt; 2.0)\n-      rspec-support (~&gt; 3.5.0)\n-    rspec-mocks (3.5.0)\n+      rspec-support (~&gt; 3.13.0)\n+    rspec-mocks (3.13.5)\n       diff-lcs (&gt;= 1.2.0, &lt; 2.0)\n-      rspec-support (~&gt; 3.5.0)\n-    rspec-rails (3.5.2)\n-      actionpack (&gt;= 3.0)\n-      activesupport (&gt;= 3.0)\n-      railties (&gt;= 3.0)\n-      rspec-core (~&gt; 3.5.0)\n-      rspec-expectations (~&gt; 3.5.0)\n-      rspec-mocks (~&gt; 3.5.0)\n-      rspec-support (~&gt; 3.5.0)\n-    rspec-support (3.5.0)\n-    ruby-graphviz (1.2.2)\n-    rubyzip (1.2.0)\n-    sass (3.4.23)\n-    sass-rails (5.0.6)\n-      railties (&gt;= 4.0.0, &lt; 6)\n-      sass (~&gt; 3.1)\n-      sprockets (&gt;= 2.8, &lt; 4.0)\n-      sprockets-rails (&gt;= 2.0, &lt; 4.0)\n-      tilt (&gt;= 1.1, &lt; 3)\n-    selenium-webdriver (3.0.5)\n-      childprocess (~&gt; 0.5)\n-      rubyzip (~&gt; 1.0)\n+      rspec-support (~&gt; 3.13.0)\n+    rspec-rails (4.1.2)\n+      actionpack (&gt;= 4.2)\n+      activesupport (&gt;= 4.2)\n+      railties (&gt;= 4.2)\n+      rspec-core (~&gt; 3.10)\n+      rspec-expectations (~&gt; 3.10)\n+      rspec-mocks (~&gt; 3.10)\n+      rspec-support (~&gt; 3.10)\n+    rspec-support (3.13.4)\n+    ruby-graphviz (1.2.5)\n+      rexml\n+    rubyzip (2.4.1)\n+    sass-rails (6.0.0)\n+      sassc-rails (~&gt; 2.1, &gt;= 2.1.1)\n+    sassc (2.4.0)\n+      ffi (~&gt; 1.9)\n+    sassc-rails (2.1.2)\n+      railties (&gt;= 4.0.0)\n+      sassc (&gt;= 2.0)\n+      sprockets (&gt; 3.0)\n+      sprockets-rails\n+      tilt\n+    selenium-webdriver (4.9.0)\n+      rexml (~&gt; 3.2, &gt;= 3.2.5)\n+      rubyzip (&gt;= 1.2.2, &lt; 3.0)\n       websocket (~&gt; 1.0)\n     shellany (0.0.1)\n-    shoulda-matchers (2.6.2)\n-      activesupport (&gt;= 3.0.0)\n-    slop (3.6.0)\n-    spring (2.0.0)\n-      activesupport (&gt;= 4.2)\n+    shoulda-matchers (4.5.1)\n+      activesupport (&gt;= 4.2.0)\n+    spring (4.3.0)\n     spring-commands-rspec (1.0.4)\n       spring (&gt;= 0.9.1)\n-    spring-watcher-listen (2.0.1)\n+    spring-watcher-listen (2.1.0)\n       listen (&gt;= 2.7, &lt; 4.0)\n-      spring (&gt;= 1.2, &lt; 3.0)\n-    sprockets (3.7.1)\n+      spring (&gt;= 4)\n+    sprockets (4.2.2)\n       concurrent-ruby (~&gt; 1.0)\n-      rack (&gt; 1, &lt; 3)\n-    sprockets-rails (3.2.0)\n+      logger\n+      rack (&gt;= 2.2.4, &lt; 4)\n+    sprockets-rails (3.2.2)\n       actionpack (&gt;= 4.0)\n       activesupport (&gt;= 4.0)\n       sprockets (&gt;= 3.0.0)\n-    sqlite3 (1.3.12)\n     tag-it-rails (2.0.0)\n       jquery-ui-rails\n       railties\n-    thor (0.19.4)\n-    thread_safe (0.3.5)\n-    tilt (2.0.5)\n-    turbolinks (5.0.1)\n-      turbolinks-source (~&gt; 5)\n-    turbolinks-source (5.0.0)\n-    tzinfo (1.2.2)\n+    thor (1.3.2)\n+    thread_safe (0.3.6)\n+    tilt (2.6.0)\n+    timeout (0.4.3)\n+    turbolinks (5.2.1)\n+      turbolinks-source (~&gt; 5.2)\n+    turbolinks-source (5.2.0)\n+    tzinfo (1.2.11)\n       thread_safe (~&gt; 0.1)\n     tzinfo-data (1.2025.2)\n       tzinfo (&gt;= 1.0.0)\n-    uglifier (3.0.4)\n+    uglifier (4.2.1)\n       execjs (&gt;= 0.3.0, &lt; 3)\n-    web-console (3.4.0)\n+    web-console (3.7.0)\n       actionview (&gt;= 5.0)\n       activemodel (&gt;= 5.0)\n-      debug_inspector\n+      bindex (&gt;= 0.4.0)\n       railties (&gt;= 5.0)\n-    websocket (1.2.3)\n-    websocket-driver (0.6.4)\n+    websocket (1.2.11)\n+    websocket-driver (0.6.5)\n       websocket-extensions (&gt;= 0.1.0)\n-    websocket-extensions (0.1.2)\n-    xpath (2.0.0)\n-      nokogiri (~&gt; 1.3)\n-    yard (0.9.7)\n+    websocket-extensions (0.1.5)\n+    xpath (3.2.0)\n+      nokogiri (~&gt; 1.8)\n+    yard (0.9.37)\n\n PLATFORMS\n   ruby\n\n DEPENDENCIES\n   annotate\n-  bcrypt (~&gt; 3.1.7)\n+  bcrypt\n   better_errors\n   binding_of_caller\n-  bootstrap-sass (~&gt; 3.3.6)\n+  bootstrap-sass\n   bootstrap3-datetimepicker-rails\n   bootstrap_form\n   byebug\n-  capybara (~&gt; 2.8)\n+  capybara\n   capybara-screenshot\n   capybara-webkit\n-  coffee-rails (~&gt; 4.2)\n-  database_cleaner (~&gt; 1.3.0)\n-  date_validator (~&gt; 0.9.0)\n+  coffee-rails\n+  database_cleaner\n+  date_validator\n   debase\n   dotenv-rails\n-  email_validator (~&gt; 1.6)\n+  email_validator\n   enum_help\n   factory_girl_rails\n-  faker (~&gt; 1.4.3)\n+  faker\n+  ffi (~&gt; 1.15.5)\n   font-awesome-rails\n-  guard-livereload (~&gt; 2.5)\n+  guard-livereload\n   i18n_generators\n-  jbuilder (~&gt; 2.5)\n+  jbuilder\n   jquery-rails\n-  jquery-ui-rails (~&gt; 5.0, &gt;= 5.0.5)\n-  kaminari (~&gt; 0.17.0)\n-  launchy (~&gt; 2.4.2)\n-  listen (~&gt; 3.0.5)\n+  jquery-ui-rails\n+  kaminari\n+  launchy\n+  listen\n   migration_comments\n   momentjs-rails\n-  mysql2 (&gt;= 0.3.18, &lt; 0.5)\n-  pg (~&gt; 0.18)\n-  puma (~&gt; 3.0)\n+  mysql2\n+  pg\n+  puma\n   rack-dev-mark\n   rack-livereload\n   rails (~&gt; 5.0.1)\n   rails-controller-testing\n   rails-erd\n   rails_12factor\n-  rspec-rails (~&gt; 3.5)\n-  sass-rails (~&gt; 5.0)\n+  rspec-rails\n+  sass-rails\n   selenium-webdriver\n-  shoulda-matchers (~&gt; 2.6.2)\n+  shoulda-matchers\n   spring\n   spring-commands-rspec\n-  spring-watcher-listen (~&gt; 2.0.0)\n-  sqlite3\n+  spring-watcher-listen\n   tag-it-rails\n-  turbolinks (~&gt; 5)\n+  turbolinks\n   tzinfo-data\n-  uglifier (&gt;= 1.3.0)\n-  web-console (&gt;= 3.3.0)\n+  uglifier\n+  web-console\n   yard\n\n RUBY VERSION\n-   ruby 2.4.0p0\n+   ruby 2.7.8p225\n\n BUNDLED WITH\n-   1.13.7\n+   2.1.4\ndiff --git a/app/assets/javascripts/admin.js b/app/assets/javascripts/admin.js\nindex 9c88f37..4f65ddf 100644\n--- a/app/assets/javascripts/admin.js\n+++ b/app/assets/javascripts/admin.js\n@@ -16,8 +16,7 @@\n //= require bootstrap-sprockets\n //= require_tree ./lib\n //= require_tree ./shared\n-//= require jquery-ui/datepicker\n-//= require jquery-ui/datepicker-ja\n+//= require jquery-ui\n //= require moment\n //= require moment/ja\n //= require bootstrap-datetimepicker\ndiff --git a/app/assets/javascripts/customer.js b/app/assets/javascripts/customer.js\nindex 32e4a67..7e9b2be 100644\n--- a/app/assets/javascripts/customer.js\n+++ b/app/assets/javascripts/customer.js\n@@ -16,8 +16,7 @@\n //= require bootstrap-sprockets\n //= require_tree ./lib\n //= require_tree ./shared\n-//= require jquery-ui/datepicker\n-//= require jquery-ui/datepicker-ja\n+//= require jquery-ui\n //= require moment\n //= require moment/ja\n //= require bootstrap-datetimepicker\ndiff --git a/app/assets/javascripts/staff.js b/app/assets/javascripts/staff.js\nindex e746e87..dacfdee 100644\n--- a/app/assets/javascripts/staff.js\n+++ b/app/assets/javascripts/staff.js\n@@ -16,8 +16,7 @@\n //= require bootstrap-sprockets\n //= require_tree ./lib\n //= require_tree ./shared\n-//= require jquery-ui/datepicker\n-//= require jquery-ui/datepicker-ja\n+//= require jquery-ui\n //= require moment\n //= require moment/ja\n //= require jquery-ui\ndiff --git a/config/database.yml b/config/database.yml\nindex c44d192..11c63ba 100644\n--- a/config/database.yml\n+++ b/config/database.yml\n@@ -26,10 +26,8 @@ development:\n # re-generated from your development database when you run \"rake\".\n # Do not set this db to the same as development or production.\n test:\n-  adapter: sqlite3\n-  pool: 5\n-  timeout: 5000\n-  database: db/test.sqlite3\n+  &lt;&lt;: *default\n+  database: baukis-kai_test\n\n # As with config/secrets.yml, you never want to store sensitive information,\n # like your database password, in your source code. If your source code is\ndiff --git a/db/schema.rb b/db/schema.rb\nindex 04e130c..92e47ae 100644\n--- a/db/schema.rb\n+++ b/db/schema.rb\n@@ -12,192 +12,203 @@\n\n ActiveRecord::Schema.define(version: 20170327081649) do\n\n-  create_table \"addresses\", force: :cascade do |t|\n-    t.integer  \"customer_id\",                null: false\n-    t.string   \"type\",                       null: false\n-    t.string   \"postal_code\",                null: false\n-    t.string   \"prefecture\",                 null: false\n-    t.string   \"city\",                       null: false\n-    t.string   \"address1\",                   null: false\n-    t.string   \"address2\",                   null: false\n-    t.string   \"company_name\",  default: \"\", null: false\n-    t.string   \"division_name\", default: \"\", null: false\n+  create_table \"addresses\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u4f4f\u6240\" do |t|\n+    t.integer  \"customer_id\",                null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.string   \"type\",                       null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n+    t.string   \"postal_code\",                null: false, comment: \"\u90f5\u4fbf\u756a\u53f7\"\n+    t.string   \"prefecture\",                 null: false, comment: \"\u90fd\u9053\u5e9c\u770c\"\n+    t.string   \"city\",                       null: false, comment: \"\u5e02\u533a\u753a\u6751\"\n+    t.string   \"address1\",                   null: false, comment: \"\u753a\u57df\u30fb\u756a\u5730\u7b49\"\n+    t.string   \"address2\",                   null: false, comment: \"\u5efa\u7269\u540d\u30fb\u90e8\u5c4b\u756a\u53f7\"\n+    t.string   \"company_name\",  default: \"\", null: false, comment: \"\u4f1a\u793e\u540d\"\n+    t.string   \"division_name\", default: \"\", null: false, comment: \"\u90e8\u7f72\u540d\"\n     t.datetime \"created_at\",                 null: false\n     t.datetime \"updated_at\",                 null: false\n-    t.index [\"city\"], name: \"index_addresses_on_city\"\n-    t.index [\"customer_id\"], name: \"index_addresses_on_customer_id\"\n-    t.index [\"postal_code\"], name: \"index_addresses_on_postal_code\"\n-    t.index [\"prefecture\", \"city\"], name: \"index_addresses_on_prefecture_and_city\"\n-    t.index [\"type\", \"city\"], name: \"index_addresses_on_type_and_city\"\n-    t.index [\"type\", \"customer_id\"], name: \"index_addresses_on_type_and_customer_id\", unique: true\n-    t.index [\"type\", \"prefecture\", \"city\"], name: \"index_addresses_on_type_and_prefecture_and_city\"\n+    t.index [\"city\"], name: \"index_addresses_on_city\", using: :btree\n+    t.index [\"customer_id\"], name: \"index_addresses_on_customer_id\", using: :btree\n+    t.index [\"postal_code\"], name: \"index_addresses_on_postal_code\", using: :btree\n+    t.index [\"prefecture\", \"city\"], name: \"index_addresses_on_prefecture_and_city\", using: :btree\n+    t.index [\"type\", \"city\"], name: \"index_addresses_on_type_and_city\", using: :btree\n+    t.index [\"type\", \"customer_id\"], name: \"index_addresses_on_type_and_customer_id\", unique: true, using: :btree\n+    t.index [\"type\", \"prefecture\", \"city\"], name: \"index_addresses_on_type_and_prefecture_and_city\", using: :btree\n   end\n\n-  create_table \"administrators\", force: :cascade do |t|\n-    t.string   \"email\",                           null: false\n-    t.string   \"email_for_index\",                 null: false\n-    t.string   \"hashed_password\"\n-    t.boolean  \"suspended\",       default: false, null: false\n+  create_table \"administrators\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u7ba1\u7406\u8005\" do |t|\n+    t.string   \"email\",                           null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string   \"email_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string   \"hashed_password\",                              comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n+    t.boolean  \"suspended\",       default: false, null: false, comment: \"\u505c\u6b62\u30d5\u30e9\u30b0\"\n     t.datetime \"created_at\",                      null: false\n     t.datetime \"updated_at\",                      null: false\n-    t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true\n+    t.index [\"email_for_index\"], name: \"index_administrators_on_email_for_index\", unique: true, using: :btree\n   end\n\n-  create_table \"allowed_sources\", force: :cascade do |t|\n-    t.string   \"namespace\",                  null: false\n-    t.integer  \"octet1\",                     null: false\n-    t.integer  \"octet2\",                     null: false\n-    t.integer  \"octet3\",                     null: false\n-    t.integer  \"octet4\",                     null: false\n-    t.boolean  \"wildcard\",   default: false, null: false\n+  create_table \"allowed_sources\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"IP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\" do |t|\n+    t.string   \"namespace\",                  null: false, comment: \"\u540d\u524d\u7a7a\u9593\"\n+    t.integer  \"octet1\",                     null: false, comment: \"\u7b2c\uff11\u30aa\u30af\u30c6\u30c3\u30c8\"\n+    t.integer  \"octet2\",                     null: false, comment: \"\u7b2c\uff12\u30aa\u30af\u30c6\u30c3\u30c8\"\n+    t.integer  \"octet3\",                     null: false, comment: \"\u7b2c\uff13\u30aa\u30af\u30c6\u30c3\u30c8\"\n+    t.integer  \"octet4\",                     null: false, comment: \"\u7b2c\uff14\u30aa\u30af\u30c6\u30c3\u30c8\"\n+    t.boolean  \"wildcard\",   default: false, null: false, comment: \"\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\"\n     t.datetime \"created_at\",                 null: false\n     t.datetime \"updated_at\",                 null: false\n-    t.index [\"namespace\", \"octet1\", \"octet2\", \"octet3\", \"octet4\"], name: \"index_allowed_sources_on_namespace_and_octets\", unique: true\n+    t.index [\"namespace\", \"octet1\", \"octet2\", \"octet3\", \"octet4\"], name: \"index_allowed_sources_on_namespace_and_octets\", unique: true, using: :btree\n   end\n\n-  create_table \"customers\", force: :cascade do |t|\n-    t.string   \"email\",            null: false\n-    t.string   \"email_for_index\",  null: false\n-    t.string   \"family_name\",      null: false\n-    t.string   \"given_name\",       null: false\n-    t.string   \"family_name_kana\", null: false\n-    t.string   \"given_name_kana\",  null: false\n-    t.string   \"gender\"\n-    t.date     \"birthday\"\n-    t.string   \"hashed_password\"\n+  create_table \"customers\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u9867\u5ba2\" do |t|\n+    t.string   \"email\",            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string   \"email_for_index\",  null: false, comment: \"\u9867\u5ba2\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string   \"family_name\",      null: false, comment: \"\u59d3\"\n+    t.string   \"given_name\",       null: false, comment: \"\u540d\"\n+    t.string   \"family_name_kana\", null: false, comment: \"\u59d3\uff08\u30ab\u30ca\uff09\"\n+    t.string   \"given_name_kana\",  null: false, comment: \"\u540d\uff08\u30ab\u30ca\uff09\"\n+    t.string   \"gender\",                        comment: \"\u6027\u5225\"\n+    t.date     \"birthday\",                      comment: \"\u8a95\u751f\u65e5\"\n+    t.string   \"hashed_password\",               comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n     t.datetime \"created_at\",       null: false\n     t.datetime \"updated_at\",       null: false\n-    t.integer  \"birth_year\"\n-    t.integer  \"birth_month\"\n-    t.integer  \"birth_mday\"\n-    t.index [\"birth_mday\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_furigana\"\n-    t.index [\"birth_mday\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_given_name_kana\"\n-    t.index [\"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_month_and_birth_mday\"\n-    t.index [\"birth_month\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_furigana\"\n-    t.index [\"birth_month\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_given_name_kana\"\n-    t.index [\"birth_year\", \"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_year_and_birth_month_and_birth_mday\"\n-    t.index [\"birth_year\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_furigana\"\n-    t.index [\"birth_year\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_given_name_kana\"\n-    t.index [\"email_for_index\"], name: \"index_customers_on_email_for_index\", unique: true\n-    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_family_name_kana_and_given_name_kana\"\n-    t.index [\"gender\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_gender_and_furigana\"\n-    t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\"\n+    t.integer  \"birth_year\",                    comment: \"\u8a95\u751f\u5e74\"\n+    t.integer  \"birth_month\",                   comment: \"\u8a95\u751f\u6708\"\n+    t.integer  \"birth_mday\",                    comment: \"\u8a95\u751f\u65e5\"\n+    t.index [\"birth_mday\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_furigana\", using: :btree\n+    t.index [\"birth_mday\", \"given_name_kana\"], name: \"index_customers_on_birth_mday_and_given_name_kana\", using: :btree\n+    t.index [\"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_month_and_birth_mday\", using: :btree\n+    t.index [\"birth_month\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_furigana\", using: :btree\n+    t.index [\"birth_month\", \"given_name_kana\"], name: \"index_customers_on_birth_month_and_given_name_kana\", using: :btree\n+    t.index [\"birth_year\", \"birth_month\", \"birth_mday\"], name: \"index_customers_on_birth_year_and_birth_month_and_birth_mday\", using: :btree\n+    t.index [\"birth_year\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_furigana\", using: :btree\n+    t.index [\"birth_year\", \"given_name_kana\"], name: \"index_customers_on_birth_year_and_given_name_kana\", using: :btree\n+    t.index [\"email_for_index\"], name: \"index_customers_on_email_for_index\", unique: true, using: :btree\n+    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_family_name_kana_and_given_name_kana\", using: :btree\n+    t.index [\"gender\", \"family_name_kana\", \"given_name_kana\"], name: \"index_customers_on_gender_and_furigana\", using: :btree\n+    t.index [\"given_name_kana\"], name: \"index_customers_on_given_name_kana\", using: :btree\n   end\n\n-  create_table \"entries\", force: :cascade do |t|\n+  create_table \"entries\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u7533\u3057\u8fbc\u307f\" do |t|\n     t.integer  \"program_id\",                  null: false\n     t.integer  \"customer_id\",                 null: false\n-    t.boolean  \"approved\",    default: false, null: false\n-    t.boolean  \"canceled\",    default: false, null: false\n+    t.boolean  \"approved\",    default: false, null: false, comment: \"\u627f\u8a8d\u6e08\u307f\u30d5\u30e9\u30b0\"\n+    t.boolean  \"canceled\",    default: false, null: false, comment: \"\u53d6\u308a\u6d88\u3057\u30d5\u30e9\u30b0\"\n     t.datetime \"created_at\",                  null: false\n     t.datetime \"updated_at\",                  null: false\n-    t.index [\"customer_id\"], name: \"index_entries_on_customer_id\"\n-    t.index [\"program_id\", \"customer_id\"], name: \"index_entries_on_program_id_and_customer_id\", unique: true\n-    t.index [\"program_id\"], name: \"index_entries_on_program_id\"\n+    t.index [\"customer_id\"], name: \"index_entries_on_customer_id\", using: :btree\n+    t.index [\"program_id\", \"customer_id\"], name: \"index_entries_on_program_id_and_customer_id\", unique: true, using: :btree\n+    t.index [\"program_id\"], name: \"index_entries_on_program_id\", using: :btree\n   end\n\n-  create_table \"hash_locks\", force: :cascade do |t|\n-    t.string   \"table\",      null: false\n-    t.string   \"column\",     null: false\n-    t.string   \"key\",        null: false\n+  create_table \"hash_locks\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u6392\u4ed6\u5236\u5fa1\" do |t|\n+    t.string   \"table\",      null: false, comment: \"\u30c6\u30fc\u30d6\u30eb\"\n+    t.string   \"column\",     null: false, comment: \"\u30ab\u30e9\u30e0\"\n+    t.string   \"key\",        null: false, comment: \"\u30ad\u30fc\"\n     t.datetime \"created_at\", null: false\n     t.datetime \"updated_at\", null: false\n-    t.index [\"table\", \"column\", \"key\"], name: \"index_hash_locks_on_table_and_column_and_key\", unique: true\n+    t.index [\"table\", \"column\", \"key\"], name: \"index_hash_locks_on_table_and_column_and_key\", unique: true, using: :btree\n   end\n\n-  create_table \"message_tag_links\", force: :cascade do |t|\n+  create_table \"message_tag_links\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u30bf\u30b0\u30ea\u30f3\u30af\u30c6\u30fc\u30d6\u30eb\" do |t|\n     t.integer \"message_id\", null: false\n     t.integer \"tag_id\",     null: false\n-    t.index [\"message_id\", \"tag_id\"], name: \"index_message_tag_links_on_message_id_and_tag_id\", unique: true\n-    t.index [\"message_id\"], name: \"index_message_tag_links_on_message_id\"\n-    t.index [\"tag_id\"], name: \"index_message_tag_links_on_tag_id\"\n+    t.index [\"message_id\", \"tag_id\"], name: \"index_message_tag_links_on_message_id_and_tag_id\", unique: true, using: :btree\n+    t.index [\"message_id\"], name: \"index_message_tag_links_on_message_id\", using: :btree\n+    t.index [\"tag_id\"], name: \"index_message_tag_links_on_tag_id\", using: :btree\n   end\n\n-  create_table \"messages\", force: :cascade do |t|\n+  create_table \"messages\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u554f\u3044\u5408\u308f\u305b\" do |t|\n     t.integer  \"customer_id\",                                   null: false\n     t.integer  \"staff_member_id\"\n-    t.integer  \"root_id\"\n-    t.integer  \"parent_id\"\n-    t.string   \"type\",                                          null: false\n-    t.string   \"status\",                        default: \"new\", null: false\n-    t.string   \"subject\",                                       null: false\n-    t.text     \"body\",            limit: 65535\n-    t.text     \"remarks\",         limit: 65535\n-    t.boolean  \"discarded\",                     default: false, null: false\n-    t.boolean  \"deleted\",                       default: false, null: false\n+    t.integer  \"root_id\",                                                    comment: \"Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.integer  \"parent_id\",                                                  comment: \"Message\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.string   \"type\",                                          null: false, comment: \"\u7d99\u627f\u30ab\u30e9\u30e0\"\n+    t.string   \"status\",                        default: \"new\", null: false, comment: \"\u72b6\u614b\uff08\u8077\u54e1\u5411\u3051\uff09\"\n+    t.string   \"subject\",                                       null: false, comment: \"\u4ef6\u540d\"\n+    t.text     \"body\",            limit: 65535,                              comment: \"\u672c\u6587\"\n+    t.text     \"remarks\",         limit: 65535,                              comment: \"\u5099\u8003\uff08\u8077\u54e1\u5411\u3051\uff09\"\n+    t.boolean  \"discarded\",                     default: false, null: false, comment: \"\u9867\u5ba2\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\"\n+    t.boolean  \"deleted\",                       default: false, null: false, comment: \"\u8077\u54e1\u5074\u306e\u524a\u9664\u30d5\u30e9\u30b0\"\n     t.datetime \"created_at\",                                    null: false\n     t.datetime \"updated_at\",                                    null: false\n-    t.index [\"customer_id\", \"deleted\", \"created_at\"], name: \"index_messages_on_customer_id_and_deleted_and_created_at\"\n-    t.index [\"customer_id\", \"deleted\", \"status\", \"created_at\"], name: \"index_messages_on_c_d_s_c\"\n-    t.index [\"customer_id\", \"discarded\", \"created_at\"], name: \"index_messages_on_customer_id_and_discarded_and_created_at\"\n-    t.index [\"customer_id\"], name: \"index_messages_on_customer_id\"\n-    t.index [\"parent_id\"], name: \"fk_rails_aafcb31dbf\"\n-    t.index [\"root_id\", \"deleted\", \"created_at\"], name: \"index_messages_on_root_id_and_deleted_and_created_at\"\n-    t.index [\"staff_member_id\"], name: \"index_messages_on_staff_member_id\"\n-    t.index [\"type\", \"customer_id\"], name: \"index_messages_on_type_and_customer_id\"\n-    t.index [\"type\", \"staff_member_id\"], name: \"index_messages_on_type_and_staff_member_id\"\n+    t.index [\"customer_id\", \"deleted\", \"created_at\"], name: \"index_messages_on_customer_id_and_deleted_and_created_at\", using: :btree\n+    t.index [\"customer_id\", \"deleted\", \"status\", \"created_at\"], name: \"index_messages_on_c_d_s_c\", using: :btree\n+    t.index [\"customer_id\", \"discarded\", \"created_at\"], name: \"index_messages_on_customer_id_and_discarded_and_created_at\", using: :btree\n+    t.index [\"customer_id\"], name: \"index_messages_on_customer_id\", using: :btree\n+    t.index [\"parent_id\"], name: \"fk_rails_aafcb31dbf\", using: :btree\n+    t.index [\"root_id\", \"deleted\", \"created_at\"], name: \"index_messages_on_root_id_and_deleted_and_created_at\", using: :btree\n+    t.index [\"staff_member_id\"], name: \"index_messages_on_staff_member_id\", using: :btree\n+    t.index [\"type\", \"customer_id\"], name: \"index_messages_on_type_and_customer_id\", using: :btree\n+    t.index [\"type\", \"staff_member_id\"], name: \"index_messages_on_type_and_staff_member_id\", using: :btree\n   end\n\n-  create_table \"phones\", force: :cascade do |t|\n-    t.integer  \"customer_id\",                      null: false\n-    t.integer  \"address_id\"\n-    t.string   \"number\",                           null: false\n-    t.string   \"number_for_index\",                 null: false\n-    t.boolean  \"primary\",          default: false, null: false\n+  create_table \"phones\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u96fb\u8a71\" do |t|\n+    t.integer  \"customer_id\",                      null: false, comment: \"\u9867\u5ba2\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.integer  \"address_id\",                                    comment: \"\u4f4f\u6240\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.string   \"number\",                           null: false, comment: \"\u96fb\u8a71\u756a\u53f7\"\n+    t.string   \"number_for_index\",                 null: false, comment: \"\u7d22\u5f15\u7528\u96fb\u8a71\u756a\u53f7\"\n+    t.boolean  \"primary\",          default: false, null: false, comment: \"\u512a\u5148\u30d5\u30e9\u30b0\"\n     t.datetime \"created_at\",                       null: false\n     t.datetime \"updated_at\",                       null: false\n-    t.string   \"last_four_digits\"\n-    t.index [\"address_id\"], name: \"index_phones_on_address_id\"\n-    t.index [\"customer_id\"], name: \"index_phones_on_customer_id\"\n-    t.index [\"last_four_digits\"], name: \"index_phones_on_last_four_digits\"\n-    t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\"\n+    t.string   \"last_four_digits\",                              comment: \"\u96fb\u8a71\u756a\u53f7\u4e0b\uff14\u6841\"\n+    t.index [\"address_id\"], name: \"index_phones_on_address_id\", using: :btree\n+    t.index [\"customer_id\"], name: \"index_phones_on_customer_id\", using: :btree\n+    t.index [\"last_four_digits\"], name: \"index_phones_on_last_four_digits\", using: :btree\n+    t.index [\"number_for_index\"], name: \"index_phones_on_number_for_index\", using: :btree\n   end\n\n-  create_table \"programs\", force: :cascade do |t|\n-    t.integer  \"registrant_id\",                            null: false\n-    t.string   \"title\",                                    null: false\n-    t.text     \"description\",                limit: 65535\n-    t.datetime \"application_start_time\",                   null: false\n-    t.datetime \"application_end_time\",                     null: false\n-    t.integer  \"min_number_of_participants\"\n-    t.integer  \"max_number_of_participants\"\n+  create_table \"programs\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u30d7\u30ed\u30b0\u30e9\u30e0\" do |t|\n+    t.integer  \"registrant_id\",                            null: false, comment: \"\u767b\u9332\u8077\u54e1\uff08\u5916\u90e8\u30ad\u30fc\uff09\"\n+    t.string   \"title\",                                    null: false, comment: \"\u30bf\u30a4\u30c8\u30eb\"\n+    t.text     \"description\",                limit: 65535,              comment: \"\u8aac\u660e\"\n+    t.datetime \"application_start_time\",                   null: false, comment: \"\u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5\"\n+    t.datetime \"application_end_time\",                     null: false, comment: \"\u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5\"\n+    t.integer  \"min_number_of_participants\",                            comment: \"\u6700\u5c0f\u53c2\u89b3\u8005\u6570\"\n+    t.integer  \"max_number_of_participants\",                            comment: \"\u6700\u5927\u53c2\u89b3\u8005\u6570\"\n     t.datetime \"created_at\",                               null: false\n     t.datetime \"updated_at\",                               null: false\n-    t.index [\"application_start_time\"], name: \"index_programs_on_application_start_time\"\n-    t.index [\"registrant_id\"], name: \"index_programs_on_registrant_id\"\n+    t.index [\"application_start_time\"], name: \"index_programs_on_application_start_time\", using: :btree\n+    t.index [\"registrant_id\"], name: \"index_programs_on_registrant_id\", using: :btree\n   end\n\n-  create_table \"staff_events\", force: :cascade do |t|\n-    t.integer  \"staff_member_id\", null: false\n-    t.string   \"type\",            null: false\n-    t.datetime \"created_at\",      null: false\n-    t.index [\"created_at\"], name: \"index_staff_events_on_created_at\"\n-    t.index [\"staff_member_id\", \"created_at\"], name: \"index_staff_events_on_staff_member_id_and_created_at\"\n-    t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\"\n+  create_table \"staff_events\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\" do |t|\n+    t.integer  \"staff_member_id\", null: false, comment: \"\u8077\u54e1\u30ec\u30b3\u30fc\u30c9\u3078\u306e\u5916\u90e8\u30ad\u30fc\"\n+    t.string   \"type\",            null: false, comment: \"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\"\n+    t.datetime \"created_at\",      null: false, comment: \"\u767a\u751f\u6642\u523b\"\n+    t.index [\"created_at\"], name: \"index_staff_events_on_created_at\", using: :btree\n+    t.index [\"staff_member_id\", \"created_at\"], name: \"index_staff_events_on_staff_member_id_and_created_at\", using: :btree\n+    t.index [\"staff_member_id\"], name: \"index_staff_events_on_staff_member_id\", using: :btree\n   end\n\n-  create_table \"staff_members\", force: :cascade do |t|\n-    t.string   \"email\",                            null: false\n-    t.string   \"email_for_index\",                  null: false\n-    t.string   \"family_name\",                      null: false\n-    t.string   \"given_name\",                       null: false\n-    t.string   \"family_name_kana\",                 null: false\n-    t.string   \"given_name_kana\",                  null: false\n-    t.string   \"hashed_password\"\n-    t.date     \"start_date\",                       null: false\n-    t.date     \"end_date\"\n-    t.boolean  \"suspended\",        default: false, null: false\n+  create_table \"staff_members\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u8077\u54e1\" do |t|\n+    t.string   \"email\",                            null: false, comment: \"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string   \"email_for_index\",                  null: false, comment: \"\u7d22\u5f15\u7528\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\"\n+    t.string   \"family_name\",                      null: false, comment: \"\u59d3\"\n+    t.string   \"given_name\",                       null: false, comment: \"\u540d\"\n+    t.string   \"family_name_kana\",                 null: false, comment: \"\u59d3\uff08\u30ab\u30ca\uff09\"\n+    t.string   \"given_name_kana\",                  null: false, comment: \"\u540d\uff08\u30ab\u30ca\uff09\"\n+    t.string   \"hashed_password\",                               comment: \"\u30d1\u30b9\u30ef\u30fc\u30c9\"\n+    t.date     \"start_date\",                       null: false, comment: \"\u958b\u59cb\u65e5\"\n+    t.date     \"end_date\",                                      comment: \"\u7d42\u4e86\u65e5\"\n+    t.boolean  \"suspended\",        default: false, null: false, comment: \"\u505c\u6b62\u30d5\u30e9\u30b0\"\n     t.datetime \"created_at\",                       null: false\n     t.datetime \"updated_at\",                       null: false\n-    t.index [\"email_for_index\"], name: \"index_staff_members_on_email_for_index\", unique: true\n-    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\"\n+    t.index [\"email_for_index\"], name: \"index_staff_members_on_email_for_index\", unique: true, using: :btree\n+    t.index [\"family_name_kana\", \"given_name_kana\"], name: \"index_staff_members_on_family_name_kana_and_given_name_kana\", using: :btree\n   end\n\n-  create_table \"tags\", force: :cascade do |t|\n+  create_table \"tags\", force: :cascade, options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb3\", comment: \"\u30bf\u30b0\" do |t|\n     t.string   \"value\",      null: false\n     t.datetime \"created_at\", null: false\n     t.datetime \"updated_at\", null: false\n-    t.index [\"value\"], name: \"index_tags_on_value\", unique: true\n+    t.index [\"value\"], name: \"index_tags_on_value\", unique: true, using: :btree\n   end\n\n+  add_foreign_key \"addresses\", \"customers\"\n+  add_foreign_key \"entries\", \"customers\"\n+  add_foreign_key \"entries\", \"programs\"\n+  add_foreign_key \"messages\", \"customers\"\n+  add_foreign_key \"messages\", \"messages\", column: \"parent_id\"\n+  add_foreign_key \"messages\", \"messages\", column: \"root_id\"\n+  add_foreign_key \"messages\", \"staff_members\"\n+  add_foreign_key \"phones\", \"addresses\"\n+  add_foreign_key \"phones\", \"customers\"\n+  add_foreign_key \"programs\", \"staff_members\", column: \"registrant_id\"\n+  add_foreign_key \"staff_events\", \"staff_members\"\n end\n</code></pre>"},{"location":"journal/20250607/#844ee5c","title":"\u30b3\u30df\u30c3\u30c8: 844ee5c","text":""},{"location":"journal/20250607/#_47","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>chore:\u958b\u767a\u30b3\u30f3\u30c6\u30ca\u4fee\u6b63\n</code></pre>"},{"location":"journal/20250607/#_48","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M Dockerfile</li> <li>M README.md</li> </ul>"},{"location":"journal/20250607/#_49","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 844ee5c1ac6bceaa413cb3c0f60bdae598b74cef\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jun 7 14:45:08 2025 +0900\n\n    chore:\u958b\u767a\u30b3\u30f3\u30c6\u30ca\u4fee\u6b63\n\ndiff --git a/Dockerfile b/Dockerfile\nindex 1c31907..6f34f59 100644\n--- a/Dockerfile\n+++ b/Dockerfile\n@@ -1,25 +1,14 @@\n-# \u30d9\u30fc\u30b9\u30a4\u30e1\u30fc\u30b8\u3068\u3057\u3066 Ubuntu 18.04 \u3092\u4f7f\u7528\n-FROM ubuntu:18.04 AS base\n+FROM ubuntu:18.04\n\n-# \u74b0\u5883\u5909\u6570\u306e\u8a2d\u5b9a\n-ENV DEBIAN_FRONTEND=noninteractive \\\n-    LANG=ja_JP.UTF-8 \\\n-    LC_ALL=ja_JP.UTF-8 \\\n-    LC_CTYPE=ja_JP.UTF-8 \\\n-    RUBY_VER=3.4.4 \\\n-    BUNDLER_VER=2.6.7 \\\n-    NODE_VER=16 \\\n-    PACKER_VERSION=1.9.2 \\\n-    TERRAFORM_VERSION=1.6.6\n+# Setup locale\n+RUN \\\n+apt-get -yq update &amp;&amp; \\\n+apt-get install -y language-pack-ja-base language-pack-ja\n+RUN update-locale LANG=ja_JP.UTF-8 LANGUAGE=ja_JP:ja\n+ENV LANG=ja_JP.UTF-8\n+ENV LC_ALL=ja_JP.UTF-8\n+ENV LC_CTYPE=ja_JP.UTF-8\n\n-# \u30ed\u30b1\u30fc\u30eb\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n-RUN apt-get update &amp;&amp; apt-get install -y \\\n-    language-pack-ja-base \\\n-    language-pack-ja \\\n-    &amp;&amp; update-locale LANG=ja_JP.UTF-8 LANGUAGE=ja_JP:ja \\\n-    &amp;&amp; rm -rf /var/lib/apt/lists/*\n-\n-# \u57fa\u672c\u7684\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n RUN apt-get update &amp;&amp; \\\n     apt-get install -y \\\n            sudo \\\n@@ -55,6 +44,7 @@ RUN apt-get update &amp;&amp; \\\n            xvfb \\\n            qtbase5-dev \\\n            libqt5webkit5-dev \\\n+           libqtwebkit-dev \\\n            xauth \\\n            libcurl4-openssl-dev \\\n            software-properties-common \\\n@@ -63,71 +53,35 @@ RUN apt-get update &amp;&amp; \\\n            libgdbm-dev \\\n            libdb-dev \\\n            lsof \\\n-           libmariadb-dev \\\n-           curl \\\n-           unzip \\\n-           sudo \\\n-           ansible \\\n-           rsync \\\n-           vim \\\n-           &amp;&amp; apt-get clean \\\n-           &amp;&amp; rm -rf /var/lib/apt/lists/*\n-\n-# Ruby\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n-RUN git clone https://github.com/sstephenson/rbenv ~/.rbenv \\\n-    &amp;&amp; git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build \\\n-    &amp;&amp; ~/.rbenv/plugins/ruby-build/install.sh \\\n-    &amp;&amp; echo 'export PATH=\"/$HOME/.rbenv/bin:$PATH\"' &gt;&gt; ~/.bashrc \\\n-    &amp;&amp; echo 'eval \"$(rbenv init -)\"' &gt;&gt; ~/.bashrc \\\n-    &amp;&amp; . ~/.bashrc \\\n-    &amp;&amp; rbenv install $RUBY_VER \\\n-    &amp;&amp; rbenv global $RUBY_VER\n-\n-# Node.js\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n-RUN curl -fsSL https://deb.nodesource.com/setup_16.x | bash - \\\n-    &amp;&amp; apt-get install -y nodejs \\\n-    &amp;&amp; npm install -g yarn \\\n-    &amp;&amp; curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash \\\n-    &amp;&amp; . $HOME/.nvm/nvm.sh \\\n-    &amp;&amp; nvm install $NODE_VER \\\n-    &amp;&amp; nvm use $NODE_VER\n-\n- # pip\u306e\u66f4\u65b0\u3068AWS\u30c4\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n- RUN curl -sS https://bootstrap.pypa.io/pip/3.6/get-pip.py | python3 \\\n-     &amp;&amp; python3 -m pip install --no-cache-dir --upgrade pip \\\n-     &amp;&amp; curl \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" -o \"awscliv2.zip\" \\\n-     &amp;&amp; unzip awscliv2.zip \\\n-     &amp;&amp; ./aws/install \\\n-     &amp;&amp; rm -rf awscliv2.zip aws \\\n-     &amp;&amp; python3 -m pip install --no-cache-dir awsebcli --upgrade\n-\n-# HashiCorp\u30c4\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n-RUN curl -fsSL https://releases.hashicorp.com/packer/${PACKER_VERSION}/packer_${PACKER_VERSION}_linux_amd64.zip -o packer.zip \\\n-    &amp;&amp; unzip packer.zip -d /usr/local/bin \\\n-    &amp;&amp; rm packer.zip \\\n-    &amp;&amp; curl -fsSL https://releases.hashicorp.com/terraform/${TERRAFORM_VERSION}/terraform_${TERRAFORM_VERSION}_linux_amd64.zip -o terraform.zip \\\n-    &amp;&amp; unzip terraform.zip -d /usr/local/bin \\\n-    &amp;&amp; rm terraform.zip\n-\n-# EasyRSA\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n-RUN mkdir -p /home/vscode/easy-rsa \\\n-    &amp;&amp; useradd -m vscode || true \\\n-    &amp;&amp; wget -qO- https://github.com/OpenVPN/easy-rsa/releases/download/v3.1.5/EasyRSA-3.1.5.tgz | tar xz -C /home/vscode/easy-rsa/ --strip-components=1 \\\n-    &amp;&amp; chown -R vscode:vscode /home/vscode/easy-rsa \\\n-    &amp;&amp; chmod -R 755 /home/vscode/easy-rsa\n+           vim\n\n-# \u30d8\u30eb\u30d1\u30fc\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u8ffd\u52a0\n-COPY --chmod=755 &lt;&lt;EOF /usr/local/bin/check-easyrsa\n-#!/bin/bash\n-echo \"Checking for EasyRSA:\"\n-find /usr -name \"easyrsa\" -type f\n-echo \"\"\n-echo \"Checking for OpenSSL configs:\"\n-find /usr -name \"openssl-*.cnf\"\n-EOF\n+# Ruby\n+ENV RUBY_VER 2.4.0\n+ENV BUNDLER_VER 1.13.7\n+RUN rm -rf ~/.rbenv\n+RUN git clone https://github.com/sstephenson/rbenv ~/.rbenv\n+RUN git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\n+RUN ~/.rbenv/plugins/ruby-build/install.sh\n+RUN echo 'export PATH=\"/$HOME/.rbenv/bin:$PATH\"' &gt;&gt; ~/.bash_profile\n+RUN echo 'eval \"$(rbenv init -)\"' &gt;&gt; ~/.bash_profile\n+RUN . ~/.bash_profile &amp;&amp; \\\n+         rbenv install $RUBY_VER  &amp;&amp; \\\n+         rbenv global $RUBY_VER\n+ENV PATH ~/.rbenv/shims:$PATH\n+RUN ~/.rbenv/shims/gem install bundler:$BUNDLER_VER\n\n-# \u30d1\u30b9\u306e\u8a2d\u5b9a\n-ENV PATH=\"/root/.rbenv/shims:$PATH\"\n+# Node\n+ENV NODE_VER 16\n+RUN curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash\n+RUN . $HOME/.nvm/nvm.sh &amp;&amp; \\\n+    nvm install $NODE_VER &amp;&amp; \\\n+    nvm use $NODE_VER &amp;&amp; \\\n+    node -v &amp;&amp; npm -v &amp;&amp; \\\n+    npm i -g yarn\n+RUN apt install -y nodejs\n\n-# \u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u8a2d\u5b9a\n-WORKDIR /srv\n\\ No newline at end of file\n+# Workaround for Ruby\n+RUN apt-get install -y libmysqlclient-dev\n+RUN ~/.rbenv/shims/gem install mysql2 -v '0.4.5' --source 'https://rubygems.org/'\n+RUN apt-get install -y libssl1.0-dev\n+RUN ~/.rbenv/shims/gem install puma -v '3.6.0' --source 'https://rubygems.org/'\ndiff --git a/README.md b/README.md\nindex 3aeee2f..7c335bc 100644\n--- a/README.md\n+++ b/README.md\n@@ -45,7 +45,7 @@ Baukis \u6539\n\n ### Docker\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n ```\n-docker build -t app:base-kai .\n+docker build -t app:base .\n docker compose build\n docker compose up -d\n ```\n</code></pre>"},{"location":"journal/20250607/#ab7daed","title":"\u30b3\u30df\u30c3\u30c8: ab7daed","text":""},{"location":"journal/20250607/#_50","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>chore:\u958b\u767a\u30b3\u30f3\u30c6\u30ca\u4fee\u6b63\n</code></pre>"},{"location":"journal/20250607/#_51","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .devcontainer/devcontainer.json</li> <li>M Dockerfile</li> <li>A Dockerfile-app</li> <li>D Dockerfile-base</li> <li>M Dockerfile-console</li> <li>M README.md</li> <li>M docker-compose.yml</li> </ul>"},{"location":"journal/20250607/#_52","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit ab7daed0ca434f77d06815a2910034f452ab1c08\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sat Jun 7 13:48:07 2025 +0900\n\n    chore:\u958b\u767a\u30b3\u30f3\u30c6\u30ca\u4fee\u6b63\n\ndiff --git a/.devcontainer/devcontainer.json b/.devcontainer/devcontainer.json\nindex 55a3816..dd9b1b4 100644\n--- a/.devcontainer/devcontainer.json\n+++ b/.devcontainer/devcontainer.json\n@@ -1,8 +1,8 @@\n-// For format details, see https://aka.ms/devcontainer.json. For config options, see the\n-// README at: https://github.com/devcontainers/templates/tree/main/src/docker-in-docker\n {\n-   \"name\": \"Docker in Docker\",\n-   \"image\": \"baukis-kai\",\n+   \"name\": \"Baukis-Kai Dev Container\",\n+   \"build\": {\n+       \"dockerfile\": \"../Dockerfile\"\n+   },\n\n    \"features\": {\n        \"ghcr.io/devcontainers/features/docker-in-docker:2\": {\n@@ -12,19 +12,9 @@\n        }\n    },\n\n-   // Use 'forwardPorts' to make a list of ports inside the container available locally.\n-   // \"forwardPorts\": [],\n-\n-   // Use 'postCreateCommand' to run commands after the container is created.\n-   // \"postCreateCommand\": \"docker --version\",\n-\n-   // Configure tool-specific properties.\n-  \"customizations\" : {\n-    \"jetbrains\" : {\n-      \"backend\" : \"IntelliJ\"\n-    }\n-  },\n-\n-   // Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root.\n-   // \"remoteUser\": \"root\"\n-}\n+   \"customizations\": {\n+       \"jetbrains\": {\n+           \"backend\": \"IntelliJ\"\n+       }\n+   }\n+}\n\\ No newline at end of file\ndiff --git a/Dockerfile b/Dockerfile\nindex c68b6cd..1c31907 100644\n--- a/Dockerfile\n+++ b/Dockerfile\n@@ -1,11 +1,133 @@\n-FROM baukis-kai\n+# \u30d9\u30fc\u30b9\u30a4\u30e1\u30fc\u30b8\u3068\u3057\u3066 Ubuntu 18.04 \u3092\u4f7f\u7528\n+FROM ubuntu:18.04 AS base\n\n-# Bundle install\n-WORKDIR /srv\n-COPY Gemfile /srv/Gemfile\n-COPY Gemfile.lock /srv/Gemfile.lock\n-RUN ~/.rbenv/shims/bundle install\n+# \u74b0\u5883\u5909\u6570\u306e\u8a2d\u5b9a\n+ENV DEBIAN_FRONTEND=noninteractive \\\n+    LANG=ja_JP.UTF-8 \\\n+    LC_ALL=ja_JP.UTF-8 \\\n+    LC_CTYPE=ja_JP.UTF-8 \\\n+    RUBY_VER=3.4.4 \\\n+    BUNDLER_VER=2.6.7 \\\n+    NODE_VER=16 \\\n+    PACKER_VERSION=1.9.2 \\\n+    TERRAFORM_VERSION=1.6.6\n\n-COPY . /srv\n+# \u30ed\u30b1\u30fc\u30eb\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n+RUN apt-get update &amp;&amp; apt-get install -y \\\n+    language-pack-ja-base \\\n+    language-pack-ja \\\n+    &amp;&amp; update-locale LANG=ja_JP.UTF-8 LANGUAGE=ja_JP:ja \\\n+    &amp;&amp; rm -rf /var/lib/apt/lists/*\n\n-CMD [\"bash\", \"-c\", \"bundle exec rake assets:precompile &amp;&amp; bundle exec rake db:migrate &amp;&amp; bundle exec rails server -b 0.0.0.0\"]\n+# \u57fa\u672c\u7684\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n+RUN apt-get update &amp;&amp; \\\n+    apt-get install -y \\\n+           sudo \\\n+           build-essential \\\n+           zip \\\n+           unzip \\\n+           git \\\n+           curl \\\n+           wget \\\n+           git-core \\\n+           libssl-dev \\\n+           libqt4-dev \\\n+           libc6-dev \\\n+           automake \\\n+           libtool \\\n+           libyaml-dev \\\n+           zlib1g \\\n+           zlib1g-dev \\\n+           openssl \\\n+           libreadline-dev \\\n+           libxml2-dev \\\n+           libxslt1-dev \\\n+           libncurses5-dev \\\n+           pkg-config \\\n+           chrpath \\\n+           libfontconfig1-dev \\\n+           libxft-dev \\\n+           libpq-dev \\\n+           libsqlite3-dev \\\n+           libmysqlclient-dev \\\n+           default-mysql-client \\\n+           postgresql-client \\\n+           xvfb \\\n+           qtbase5-dev \\\n+           libqt5webkit5-dev \\\n+           xauth \\\n+           libcurl4-openssl-dev \\\n+           software-properties-common \\\n+           libffi-dev \\\n+           libgdbm5 \\\n+           libgdbm-dev \\\n+           libdb-dev \\\n+           lsof \\\n+           libmariadb-dev \\\n+           curl \\\n+           unzip \\\n+           sudo \\\n+           ansible \\\n+           rsync \\\n+           vim \\\n+           &amp;&amp; apt-get clean \\\n+           &amp;&amp; rm -rf /var/lib/apt/lists/*\n+\n+# Ruby\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n+RUN git clone https://github.com/sstephenson/rbenv ~/.rbenv \\\n+    &amp;&amp; git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build \\\n+    &amp;&amp; ~/.rbenv/plugins/ruby-build/install.sh \\\n+    &amp;&amp; echo 'export PATH=\"/$HOME/.rbenv/bin:$PATH\"' &gt;&gt; ~/.bashrc \\\n+    &amp;&amp; echo 'eval \"$(rbenv init -)\"' &gt;&gt; ~/.bashrc \\\n+    &amp;&amp; . ~/.bashrc \\\n+    &amp;&amp; rbenv install $RUBY_VER \\\n+    &amp;&amp; rbenv global $RUBY_VER\n+\n+# Node.js\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n+RUN curl -fsSL https://deb.nodesource.com/setup_16.x | bash - \\\n+    &amp;&amp; apt-get install -y nodejs \\\n+    &amp;&amp; npm install -g yarn \\\n+    &amp;&amp; curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash \\\n+    &amp;&amp; . $HOME/.nvm/nvm.sh \\\n+    &amp;&amp; nvm install $NODE_VER \\\n+    &amp;&amp; nvm use $NODE_VER\n+\n+ # pip\u306e\u66f4\u65b0\u3068AWS\u30c4\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n+ RUN curl -sS https://bootstrap.pypa.io/pip/3.6/get-pip.py | python3 \\\n+     &amp;&amp; python3 -m pip install --no-cache-dir --upgrade pip \\\n+     &amp;&amp; curl \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" -o \"awscliv2.zip\" \\\n+     &amp;&amp; unzip awscliv2.zip \\\n+     &amp;&amp; ./aws/install \\\n+     &amp;&amp; rm -rf awscliv2.zip aws \\\n+     &amp;&amp; python3 -m pip install --no-cache-dir awsebcli --upgrade\n+\n+# HashiCorp\u30c4\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n+RUN curl -fsSL https://releases.hashicorp.com/packer/${PACKER_VERSION}/packer_${PACKER_VERSION}_linux_amd64.zip -o packer.zip \\\n+    &amp;&amp; unzip packer.zip -d /usr/local/bin \\\n+    &amp;&amp; rm packer.zip \\\n+    &amp;&amp; curl -fsSL https://releases.hashicorp.com/terraform/${TERRAFORM_VERSION}/terraform_${TERRAFORM_VERSION}_linux_amd64.zip -o terraform.zip \\\n+    &amp;&amp; unzip terraform.zip -d /usr/local/bin \\\n+    &amp;&amp; rm terraform.zip\n+\n+# EasyRSA\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n+RUN mkdir -p /home/vscode/easy-rsa \\\n+    &amp;&amp; useradd -m vscode || true \\\n+    &amp;&amp; wget -qO- https://github.com/OpenVPN/easy-rsa/releases/download/v3.1.5/EasyRSA-3.1.5.tgz | tar xz -C /home/vscode/easy-rsa/ --strip-components=1 \\\n+    &amp;&amp; chown -R vscode:vscode /home/vscode/easy-rsa \\\n+    &amp;&amp; chmod -R 755 /home/vscode/easy-rsa\n+\n+# \u30d8\u30eb\u30d1\u30fc\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u8ffd\u52a0\n+COPY --chmod=755 &lt;&lt;EOF /usr/local/bin/check-easyrsa\n+#!/bin/bash\n+echo \"Checking for EasyRSA:\"\n+find /usr -name \"easyrsa\" -type f\n+echo \"\"\n+echo \"Checking for OpenSSL configs:\"\n+find /usr -name \"openssl-*.cnf\"\n+EOF\n+\n+# \u30d1\u30b9\u306e\u8a2d\u5b9a\n+ENV PATH=\"/root/.rbenv/shims:$PATH\"\n+\n+# \u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u8a2d\u5b9a\n+WORKDIR /srv\n\\ No newline at end of file\ndiff --git a/Dockerfile-app b/Dockerfile-app\nnew file mode 100644\nindex 0000000..df34212\n--- /dev/null\n+++ b/Dockerfile-app\n@@ -0,0 +1,11 @@\n+FROM app:base\n+\n+# Bundle install\n+WORKDIR /srv\n+COPY Gemfile /srv/Gemfile\n+COPY Gemfile.lock /srv/Gemfile.lock\n+RUN ~/.rbenv/shims/bundle install\n+\n+COPY . /srv\n+\n+CMD [\"bash\", \"-c\", \"bundle exec rake assets:precompile &amp;&amp; bundle exec rake db:migrate &amp;&amp; bundle exec rails server -b 0.0.0.0\"]\ndiff --git a/Dockerfile-base b/Dockerfile-base\ndeleted file mode 100644\nindex 91daa36..0000000\n--- a/Dockerfile-base\n+++ /dev/null\n@@ -1,95 +0,0 @@\n-FROM ubuntu:18.04\n-\n-# Setup locale\n-RUN \\\n-apt-get -yq update &amp;&amp; \\\n-apt-get install -y language-pack-ja-base language-pack-ja\n-RUN update-locale LANG=ja_JP.UTF-8 LANGUAGE=ja_JP:ja\n-ENV LANG=ja_JP.UTF-8\n-ENV LC_ALL=ja_JP.UTF-8\n-ENV LC_CTYPE=ja_JP.UTF-8\n-\n-RUN apt-get update &amp;&amp; \\\n-    apt-get install -y \\\n-           sudo \\\n-           build-essential \\\n-           zip \\\n-           unzip \\\n-           git \\\n-           curl \\\n-           wget \\\n-           git-core \\\n-           libssl-dev \\\n-           libqt4-dev \\\n-           libc6-dev \\\n-           automake \\\n-           libtool \\\n-           libyaml-dev \\\n-           zlib1g \\\n-           zlib1g-dev \\\n-           openssl \\\n-           libreadline-dev \\\n-           libxml2-dev \\\n-           libxslt1-dev \\\n-           libncurses5-dev \\\n-           pkg-config \\\n-           chrpath \\\n-           libfontconfig1-dev \\\n-           libxft-dev \\\n-           libpq-dev \\\n-           libsqlite3-dev \\\n-           libmysqlclient-dev \\\n-           default-mysql-client \\\n-           postgresql-client \\\n-           xvfb \\\n-           qtbase5-dev \\\n-           libqt5webkit5-dev \\\n-           libqtwebkit-dev \\\n-           xauth \\\n-           libcurl4-openssl-dev \\\n-           software-properties-common \\\n-           libffi-dev \\\n-           libgdbm5 \\\n-           libgdbm-dev \\\n-           libdb-dev \\\n-           lsof \\\n-           vim\n-\n-# Ruby\n-ENV RUBY_VER 2.4.0\n-ENV BUNDLER_VER 1.13.7\n-RUN rm -rf ~/.rbenv\n-RUN git clone https://github.com/sstephenson/rbenv ~/.rbenv\n-RUN git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\n-RUN ~/.rbenv/plugins/ruby-build/install.sh\n-RUN echo 'export PATH=\"/$HOME/.rbenv/bin:$PATH\"' &gt;&gt; ~/.bash_profile\n-RUN echo 'eval \"$(rbenv init -)\"' &gt;&gt; ~/.bash_profile\n-RUN . ~/.bash_profile &amp;&amp; \\\n-         rbenv install $RUBY_VER  &amp;&amp; \\\n-         rbenv global $RUBY_VER\n-ENV PATH ~/.rbenv/shims:$PATH\n-RUN ~/.rbenv/shims/gem install bundler:$BUNDLER_VER\n-\n-# Node\n-ENV NODE_VER 16\n-RUN curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash\n-RUN . $HOME/.nvm/nvm.sh &amp;&amp; \\\n-    nvm install $NODE_VER &amp;&amp; \\\n-    nvm use $NODE_VER &amp;&amp; \\\n-    node -v &amp;&amp; npm -v &amp;&amp; \\\n-    npm i -g yarn\n-RUN apt install -y nodejs\n-\n-# Workaround for Ruby\n-RUN apt-get install -y libmysqlclient-dev\n-RUN ~/.rbenv/shims/gem install mysql2 -v '0.4.5' --source 'https://rubygems.org/'\n-RUN apt-get install -y libssl1.0-dev\n-RUN ~/.rbenv/shims/gem install puma -v '3.6.0' --source 'https://rubygems.org/'\n-\n-# Bundle install\n-WORKDIR /srv\n-COPY Gemfile /srv/Gemfile\n-COPY Gemfile.lock /srv/Gemfile.lock\n-RUN ~/.rbenv/shims/bundle install\n-\n-SHELL [\"/bin/bash\", \"-c\"]\n\\ No newline at end of file\ndiff --git a/Dockerfile-console b/Dockerfile-console\nindex f9c8976..103a983 100644\n--- a/Dockerfile-console\n+++ b/Dockerfile-console\n@@ -1,80 +1,4 @@\n-FROM baukis-kai\n-\n-# \u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a\u3092\u975e\u5bfe\u8a71\u7684\u306b\u884c\u3046\u305f\u3081\u306e\u74b0\u5883\u5909\u6570\n-ENV DEBIAN_FRONTEND=noninteractive\n-ENV TZ=Asia/Tokyo\n-\n-# PATH\u5909\u6570\u306b ~/.local/bin \u3092\u8ffd\u52a0\n-ENV PATH=\"$PATH:/root/.local/bin\"\n-\n-# \u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\n-ENV PACKER_VERSION=1.9.2\n-ENV TERRAFORM_VERSION=1.6.6\n-\n-# \u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n-RUN apt-get update &amp;&amp; \\\n-    apt-get install -y \\\n-    curl \\\n-    unzip \\\n-    sudo \\\n-    ansible \\\n-    rsync \\\n-    vim \\\n-    &amp;&amp; apt-get clean \\\n-    &amp;&amp; rm -rf /var/lib/apt/lists/*\n-\n-# AWS CLI\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n-RUN curl \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" -o \"awscliv2.zip\" &amp;&amp; \\\n-    unzip awscliv2.zip &amp;&amp; \\\n-    sudo ./aws/install &amp;&amp; \\\n-    rm -rf awscliv2.zip aws\n-\n-# EB CLI\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n-RUN curl -O https://bootstrap.pypa.io/pip/3.6/get-pip.py\n-RUN python3 get-pip.py --user\n-RUN ~/.local/bin/pip install awsebcli --upgrade --user\n-\n-# Packer\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n-RUN curl -fsSL https://releases.hashicorp.com/packer/${PACKER_VERSION}/packer_${PACKER_VERSION}_linux_amd64.zip -o packer.zip &amp;&amp; \\\n-    unzip packer.zip -d /usr/local/bin &amp;&amp; \\\n-    rm packer.zip\n-\n-# Terraform\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n-RUN curl -fsSL https://releases.hashicorp.com/terraform/${TERRAFORM_VERSION}/terraform_${TERRAFORM_VERSION}_linux_amd64.zip -o terraform.zip &amp;&amp; \\\n-    unzip terraform.zip -d /usr/local/bin &amp;&amp; \\\n-    rm terraform.zip\n-\n-# Ubuntu\u7279\u6709\u306eEasyRSA\u30d1\u30b9\u3092\u78ba\u8a8d\n-RUN apt-get update &amp;&amp; apt-get install -y easy-rsa &amp;&amp; \\\n-    EASYRSA_PATH=$(find /usr -name \"easyrsa\" -type f | head -1) &amp;&amp; \\\n-    if [ -n \"$EASYRSA_PATH\" ]; then \\\n-    echo \"Found EasyRSA at $EASYRSA_PATH\"; \\\n-    EASYRSA_DIR=$(dirname $EASYRSA_PATH); \\\n-    mkdir -p /home/vscode/easy-rsa; \\\n-    cp -r $EASYRSA_DIR/* /home/vscode/easy-rsa/; \\\n-    else \\\n-    echo \"EasyRSA not found in standard locations, downloading...\"; \\\n-    mkdir -p /home/vscode/easy-rsa; \\\n-    wget -qO- https://github.com/OpenVPN/easy-rsa/releases/download/v3.1.5/EasyRSA-3.1.5.tgz | tar xz -C /home/vscode/easy-rsa/ --strip-components=1; \\\n-    fi &amp;&amp; \\\n-    mkdir -p /home/vscode &amp;&amp; \\\n-    useradd -m vscode || true &amp;&amp; \\\n-    chown -R vscode:vscode /home/vscode/easy-rsa &amp;&amp; \\\n-    chmod -R 755 /home/vscode/easy-rsa\n-\n-# \u30d8\u30eb\u30d1\u30fc\u30b3\u30de\u30f3\u30c9\u306e\u4f5c\u6210\n-RUN echo '#!/bin/bash\\necho \"Checking for EasyRSA:\"\\nfind /usr -name \"easyrsa\" -type f\\necho \"\"\\necho \"Checking for OpenSSL configs:\"\\nfind /usr -name \"openssl-*.cnf\"' &gt; /usr/local/bin/check-easyrsa &amp;&amp; \\\n-    chmod +x /usr/local/bin/check-easyrsa\n-\n-# Homebrew\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n-RUN apt-get update &amp;&amp; apt-get install -y build-essential procps curl file git\n-RUN /bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\" || true\n-RUN echo 'eval \"$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\"' &gt;&gt; /root/.bashrc\n-RUN eval \"$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\"\n-ENV PATH=\"/home/linuxbrew/.linuxbrew/bin:${PATH}\"\n-\n-# aws-vault\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n-RUN /bin/bash -c \"source /root/.bashrc &amp;&amp; brew install aws-vault\"\n+FROM app:base\n\n # Bundle install\n WORKDIR /srv\n@@ -82,4 +6,6 @@ COPY Gemfile /srv/Gemfile\n COPY Gemfile.lock /srv/Gemfile.lock\n RUN ~/.rbenv/shims/bundle install\n\n+COPY . /srv\n+\n SHELL [\"/bin/bash\", \"-c\"]\n\\ No newline at end of file\ndiff --git a/README.md b/README.md\nindex 8067995..3aeee2f 100644\n--- a/README.md\n+++ b/README.md\n@@ -45,7 +45,7 @@ Baukis \u6539\n\n ### Docker\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n ```\n-docker build -t baukis-kai -f Dockerfile-base .\n+docker build -t app:base-kai .\n docker compose build\n docker compose up -d\n ```\ndiff --git a/docker-compose.yml b/docker-compose.yml\nindex 60075e0..d9c992c 100644\n--- a/docker-compose.yml\n+++ b/docker-compose.yml\n@@ -2,6 +2,7 @@ services:\n   app:\n     build:\n       context: .\n+      dockerfile: Dockerfile-app\n     depends_on:\n       - db\n     environment:\n@@ -16,7 +17,7 @@ services:\n     volumes:\n       - ./:/app\n   db:\n-    image: mysql:5.7\n+    image: mysql:8.0\n     environment:\n       MYSQL_ROOT_PASSWORD: password\n       MYSQL_USER: user\n@@ -42,6 +43,8 @@ services:\n     depends_on:\n       - db\n     stdin_open: true\n+    ports:\n+      - \"3333:3000\"\n\n volumes:\n   mysql-db:\n</code></pre>"},{"location":"journal/20250608/","title":"\u4f5c\u696d\u5c65\u6b74 2025-06-08","text":""},{"location":"journal/20250608/#_1","title":"\u6982\u8981","text":"<p>2025-06-08\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30ea\u30ea\u30fc\u30b9\u6e96\u5099\u306b\u95a2\u3059\u308b\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002\u4e3b\u306b\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831\u306e\u66f4\u65b0\u3068\u30d3\u30e5\u30fc\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4fee\u6b63\u304c\u884c\u308f\u308c\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20250608/#_2","title":"\u30ea\u30ea\u30fc\u30b9\u6e96\u5099\u69cb\u6210\u56f3","text":""},{"location":"journal/20250608/#_3","title":"\u4f5c\u696d\u5185\u5bb9","text":""},{"location":"journal/20250608/#_4","title":"\u30ea\u30ea\u30fc\u30b9\u6e96\u5099","text":"<p>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30ea\u30ea\u30fc\u30b9\u306b\u5411\u3051\u3066\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3068\u30d3\u30e5\u30fc\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u66f4\u65b0\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u7279\u306b\u3001\u6700\u65b0\u306e\u6280\u8853\u30b9\u30bf\u30c3\u30af\u60c5\u5831\u3078\u306e\u66f4\u65b0\u3068\u3001\u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u6539\u5584\u306b\u7126\u70b9\u3092\u5f53\u3066\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20250608/#_5","title":"\u5909\u66f4\u70b9\u306e\u6982\u8981","text":"<ol> <li>README.md\u306e\u66f4\u65b0</li> <li>Ruby \u30d0\u30fc\u30b8\u30e7\u30f3\u3092 3.4.0 \u304b\u3089 3.4.4 \u306b\u66f4\u65b0</li> <li>Rails 5 \u304b\u3089 Rails 7 \u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u60c5\u5831\u3092\u8ffd\u52a0</li> <li> <p>Docker \u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831\u306e\u66f4\u65b0</p> </li> <li> <p>\u30d3\u30e5\u30fc\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4fee\u6b63</p> </li> <li>\u7ba1\u7406\u8005\u3001\u8077\u54e1\u3001\u9867\u5ba2\u5411\u3051\u306e\u30d5\u30c3\u30bf\u30fc\u3092\u66f4\u65b0</li> <li>\u7ba1\u7406\u8005\u3068\u8077\u54e1\u306e\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u3092\u66f4\u65b0</li> <li>\u8457\u4f5c\u6a29\u8868\u793a\u306e\u5e74\u3092\u66f4\u65b0</li> <li>\u304a\u77e5\u3089\u305b\u60c5\u5831\u306e\u8ffd\u52a0</li> </ol>"},{"location":"journal/20250608/#3d82042","title":"\u30b3\u30df\u30c3\u30c8: 3d82042","text":""},{"location":"journal/20250608/#_6","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>docs:\u30ea\u30ea\u30fc\u30b9\n</code></pre>"},{"location":"journal/20250608/#_7","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20250608/#_8","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 3d820420346e5e9947888ef37f25de18a05b9c32\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sun Jun 8 11:39:11 2025 +0900\n\n    docs:\u30ea\u30ea\u30fc\u30b9\n\ndiff --git a/README.md b/README.md\nindex 118d3f7..ce5f121 100644\n--- a/README.md\n+++ b/README.md\n@@ -10,7 +10,7 @@ Rails5\u304b\u3089Rails7\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\n # \u524d\u63d0 #\n | \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2   | \u30d0\u30fc\u30b8\u30e7\u30f3   | \u5099\u8003        |\n |:---------------|:--------|:------------|\n-| ruby           | 3.4.0   |             |\n+| ruby           | 3.4.4   |             |\n | rails          | 7.2.2.1 |             |\n | docker         | 28.1.1  |             |\n</code></pre>"},{"location":"journal/20250608/#bd6d681","title":"\u30b3\u30df\u30c3\u30c8: bd6d681","text":""},{"location":"journal/20250608/#_9","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>docs:\u30ea\u30ea\u30fc\u30b9\n</code></pre>"},{"location":"journal/20250608/#_10","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20250608/#_11","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit bd6d681b635320ab46bdab662b80a0096b734a3f\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sun Jun 8 11:31:46 2025 +0900\n\n    docs:\u30ea\u30ea\u30fc\u30b9\n\ndiff --git a/README.md b/README.md\nindex 0c30af0..118d3f7 100644\n--- a/README.md\n+++ b/README.md\n@@ -5,13 +5,14 @@ Baukis \u6539\n # \u76ee\u7684 #\n [\u5b9f\u8df5Ruby on Rails 4 \u73fe\u5834\u306e\u30d7\u30ed\u304b\u3089\u5b66\u3076\u672c\u683cWeb\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0](https://www.amazon.co.jp/%E5%AE%9F%E8%B7%B5Ruby-Rails-4-%E7%8F%BE%E5%A0%B4%E3%81%AE%E3%83%97%E3%83%AD%E3%81%8B%E3%82%89%E5%AD%A6%E3%81%B6%E6%9C%AC%E6%A0%BCWeb%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-%E9%BB%92%E7%94%B0/dp/4844335928)\u3092Rails5\u3067\u306e\u5b9f\u88c5\u53ca\u3073\u30d5\u30ed\u30f3\u30c8\u90e8\u5206\u306b\u30e2\u30c0\u30f3CSS\u8a2d\u8a08(BEM)\u3092\u7d44\u307f\u8fbc\u3080\n\n+Rails5\u304b\u3089Rails7\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\n+\n # \u524d\u63d0 #\n | \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2   | \u30d0\u30fc\u30b8\u30e7\u30f3   | \u5099\u8003        |\n |:---------------|:--------|:------------|\n | ruby           | 3.4.0   |             |\n | rails          | 7.2.2.1 |             |\n-| docker         | 1.12.5  |             |\n-| docker-compose | 1.8.0   |             |\n+| docker         | 28.1.1  |             |\n\n # \u69cb\u6210 #\n 1. [\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u69cb\u7bc9](#\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u69cb\u7bc9)\n</code></pre>"},{"location":"journal/20250608/#9ac34db","title":"\u30b3\u30df\u30c3\u30c8: 9ac34db","text":""},{"location":"journal/20250608/#_12","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>docs:\u30ea\u30ea\u30fc\u30b9\n</code></pre>"},{"location":"journal/20250608/#_13","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/admin/shared/_footer.html.erb</li> <li>M app/views/admin/top/index.html.erb</li> <li>M app/views/customer/shared/_footer.html.erb</li> <li>M app/views/staff/shared/_footer.html.erb</li> <li>M app/views/staff/top/index.html.erb</li> </ul>"},{"location":"journal/20250608/#_14","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 9ac34dbf1e5c3d33a5fc00ccb9365bced81f988e\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sun Jun 8 11:29:55 2025 +0900\n\n    docs:\u30ea\u30ea\u30fc\u30b9\n\ndiff --git a/app/views/admin/shared/_footer.html.erb b/app/views/admin/shared/_footer.html.erb\nindex 3fb42b5..d135621 100644\n--- a/app/views/admin/shared/_footer.html.erb\n+++ b/app/views/admin/shared/_footer.html.erb\n@@ -7,7 +7,7 @@\n       &lt;/ul&gt;\n     &lt;/div&gt;\n     &lt;div class=\"Footer__body\"&gt;\n-      &lt;p&gt;Powered by BAUKIS KAI &amp;copy; 2014 k2works&lt;/p&gt;\n+      &lt;p&gt;Powered by BAUKIS KAI &amp;copy; 2025 k2works&lt;/p&gt;\n     &lt;/div&gt;\n   &lt;/div&gt;\n &lt;/footer&gt;\n\\ No newline at end of file\ndiff --git a/app/views/admin/top/index.html.erb b/app/views/admin/top/index.html.erb\nindex 4547f6c..9446ed0 100644\n--- a/app/views/admin/top/index.html.erb\n+++ b/app/views/admin/top/index.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2025-6-6\"&gt;2025.6.8&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-2-13\"&gt;2017.2.13&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;IP\u30a2\u30af\u30bb\u30b9\u5236\u9650\u6a5f\u80fd\u8ffd\u52a0&lt;/span&gt;\ndiff --git a/app/views/customer/shared/_footer.html.erb b/app/views/customer/shared/_footer.html.erb\nindex e57987c..3d2f84c 100644\n--- a/app/views/customer/shared/_footer.html.erb\n+++ b/app/views/customer/shared/_footer.html.erb\n@@ -12,7 +12,7 @@\n       &lt;/ul&gt;\n     &lt;/div&gt;\n     &lt;div class=\"Footer__body\"&gt;\n-      &lt;p&gt;Powered by BAUKIS KAI &amp;copy; 2014 k2works&lt;/p&gt;\n+      &lt;p&gt;Powered by BAUKIS KAI &amp;copy; 2025 k2works&lt;/p&gt;\n       &lt;p&gt;&lt;a href=\"#\"&gt;Legal Notice&lt;/a&gt;&lt;/p&gt;\n       &lt;p&gt;&lt;a href=\"#\"&gt;Privacy policy&lt;/a&gt;&lt;/p&gt;\n     &lt;/div&gt;\ndiff --git a/app/views/staff/shared/_footer.html.erb b/app/views/staff/shared/_footer.html.erb\nindex 042f4c7..4b48457 100644\n--- a/app/views/staff/shared/_footer.html.erb\n+++ b/app/views/staff/shared/_footer.html.erb\n@@ -7,7 +7,7 @@\n       &lt;/ul&gt;\n     &lt;/div&gt;\n     &lt;div class=\"Footer__body\"&gt;\n-      &lt;p&gt;Powered by BAUKIS KAI &amp;copy; 2014 k2works&lt;/p&gt;\n+      &lt;p&gt;Powered by BAUKIS KAI &amp;copy; 2025 k2works&lt;/p&gt;\n     &lt;/div&gt;\n   &lt;/div&gt;\n &lt;/footer&gt;\n\\ No newline at end of file\ndiff --git a/app/views/staff/top/index.html.erb b/app/views/staff/top/index.html.erb\nindex dee2081..abc480e 100644\n--- a/app/views/staff/top/index.html.erb\n+++ b/app/views/staff/top/index.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2025-6-6\"&gt;2025.6.8&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-3-28\"&gt;2017.3.28&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u554f\u3044\u5408\u308f\u305b\u8fd4\u4fe1\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n</code></pre>"},{"location":"journal/20250608/#97b6cf1","title":"\u30b3\u30df\u30c3\u30c8: 97b6cf1","text":""},{"location":"journal/20250608/#_15","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>docs:README\u66f4\u65b0\n</code></pre>"},{"location":"journal/20250608/#_16","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20250608/#_17","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 97b6cf1d239dd96e0872624bb5231156aa082cce\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sun Jun 8 11:28:53 2025 +0900\n\n    docs:README\u66f4\u65b0\n\ndiff --git a/README.md b/README.md\nindex 7c335bc..0c30af0 100644\n--- a/README.md\n+++ b/README.md\n@@ -1,17 +1,17 @@\n Baukis \u6539\n ===================\n-[![CircleCI Build Status](https://circleci.com/gh/circleci/circleci-docs.svg?style=shield)](https://circleci.com/gh/k2works/baukis-kai) [![Code Climate](https://codeclimate.com/github/k2works/baukis-kai/badges/gpa.svg)](https://codeclimate.com/github/k2works/baukis-kai) [![GitHub license](https://img.shields.io/badge/license-MIT-blue.svg)](https://raw.githubusercontent.com/k2works/baukis-kai/master/MIT-LICENSE.txt)\n+[![GitHub Actions](https://github.com/k2works/baukis-kai/actions/workflows/CI.yml/badge.svg)](https://github.com/k2works/baukis-kai/actions) [![Code Climate](https://codeclimate.com/github/k2works/baukis-kai/badges/gpa.svg)](https://codeclimate.com/github/k2works/baukis-kai) [![GitHub license](https://img.shields.io/badge/license-MIT-blue.svg)](https://raw.githubusercontent.com/k2works/baukis-kai/master/MIT-LICENSE.txt)\n\n # \u76ee\u7684 #\n [\u5b9f\u8df5Ruby on Rails 4 \u73fe\u5834\u306e\u30d7\u30ed\u304b\u3089\u5b66\u3076\u672c\u683cWeb\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0](https://www.amazon.co.jp/%E5%AE%9F%E8%B7%B5Ruby-Rails-4-%E7%8F%BE%E5%A0%B4%E3%81%AE%E3%83%97%E3%83%AD%E3%81%8B%E3%82%89%E5%AD%A6%E3%81%B6%E6%9C%AC%E6%A0%BCWeb%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-%E9%BB%92%E7%94%B0/dp/4844335928)\u3092Rails5\u3067\u306e\u5b9f\u88c5\u53ca\u3073\u30d5\u30ed\u30f3\u30c8\u90e8\u5206\u306b\u30e2\u30c0\u30f3CSS\u8a2d\u8a08(BEM)\u3092\u7d44\u307f\u8fbc\u3080\n\n # \u524d\u63d0 #\n | \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2   | \u30d0\u30fc\u30b8\u30e7\u30f3   | \u5099\u8003        |\n-|:---------------|:-------------|:------------|\n-| ruby           |2.4.0    |             |\n-| rails          |5.0.1    |             |\n-| docker         |1.12.5    |             |\n-| docker-compose |1.8.0    |             |\n+|:---------------|:--------|:------------|\n+| ruby           | 3.4.0   |             |\n+| rails          | 7.2.2.1 |             |\n+| docker         | 1.12.5  |             |\n+| docker-compose | 1.8.0   |             |\n\n # \u69cb\u6210 #\n 1. [\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u69cb\u7bc9](#\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u69cb\u7bc9)\n@@ -61,6 +61,7 @@ docker compose up -d\n ### \u30c6\u30b9\u30c8\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n + RSpec\u306e\u521d\u671f\u8a2d\u5b9a\n + Factory Girl\u306e\u521d\u671f\u8a2d\u5b9a\n++ Factory Bot\u306b\u5909\u66f4\n\n **[\u2b06 back to top](#\u69cb\u6210)**\n</code></pre>"},{"location":"journal/20250608/#457a1cc","title":"\u30b3\u30df\u30c3\u30c8: 457a1cc","text":""},{"location":"journal/20250608/#_18","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Merge branch 'master' into develop\n# Conflicts:\n#   .gitignore\n</code></pre>"},{"location":"journal/20250608/#_19","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":""},{"location":"journal/20250608/#_20","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 457a1ccfe6a3dab30cc9bf219a60eac6e0074b04\nMerge: 25a525a 3428919\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sun Jun 8 11:10:20 2025 +0900\n\n    Merge branch 'master' into develop\n\n    # Conflicts:\n    #       .gitignore\n</code></pre>"},{"location":"journal/20250608/#25a525a","title":"\u30b3\u30df\u30c3\u30c8: 25a525a","text":""},{"location":"journal/20250608/#_21","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>fix:\u5358\u4f53\u30c6\u30b9\u30c8\n</code></pre>"},{"location":"journal/20250608/#_22","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/controllers/staff/customers_controller.rb</li> <li>M app/forms/staff/customer_form.rb</li> <li>M app/models/address.rb</li> <li>M app/models/customer.rb</li> <li>M app/models/phone.rb</li> <li>M db/seed/development/customers.rb</li> </ul>"},{"location":"journal/20250608/#_23","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 25a525a22b11dd4605a968511d260fd54757e84f\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Sun Jun 8 11:09:52 2025 +0900\n\n    fix:\u5358\u4f53\u30c6\u30b9\u30c8\n\ndiff --git a/app/controllers/staff/customers_controller.rb b/app/controllers/staff/customers_controller.rb\nindex 2414e30..6342b22 100644\n--- a/app/controllers/staff/customers_controller.rb\n+++ b/app/controllers/staff/customers_controller.rb\n@@ -22,7 +22,7 @@ class Staff::CustomersController &lt; Staff::Base\n\n   def create\n     @customer_form = Staff::CustomerForm.new\n-    @customer_form.assign_attributes(params.require(:form))\n+    @customer_form.assign_attributes(params[:form])\n     if @customer_form.save\n       flash.notice = t('.flash_notice')\n       redirect_to action: 'index'\n@@ -34,7 +34,7 @@ class Staff::CustomersController &lt; Staff::Base\n\n   def update\n     @customer_form = Staff::CustomerForm.new(Customer.find(params[:id]))\n-    @customer_form.assign_attributes(params.require(:form))\n+    @customer_form.assign_attributes(params[:form])\n     if @customer_form.save\n       flash.notice = t('.flash_notice')\n       redirect_to action: 'index'\ndiff --git a/app/forms/staff/customer_form.rb b/app/forms/staff/customer_form.rb\nindex af0ff3d..c002f20 100644\n--- a/app/forms/staff/customer_form.rb\n+++ b/app/forms/staff/customer_form.rb\n@@ -6,14 +6,14 @@ class Staff::CustomerForm\n\n   def initialize(customer = nil)\n     @customer = customer\n-    @customer ||= Customer.new(gender: 'male')\n+    @customer ||= Customer.new(gender: 'mail')\n     (2 - @customer.personal_phones.size).times do\n       @customer.personal_phones.build\n     end\n     self.inputs_home_address = @customer.home_address.present?\n     self.inputs_work_address = @customer.work_address.present?\n-    @customer.build_home_address unless @customer.home_address\n-    @customer.build_work_address unless @customer.work_address\n+    @customer.build_home_address unless @customer.home_address.present?\n+    @customer.build_work_address unless @customer.work_address.present?\n     (2 - @customer.home_address.phones.size).times do\n       @customer.home_address.phones.build\n     end\n@@ -24,12 +24,13 @@ class Staff::CustomerForm\n\n   def assign_attributes(params = {})\n     @params = params\n-    self.inputs_home_address = params[:inputs_home_address] == '1'\n-    self.inputs_work_address = params[:inputs_work_address] == '1'\n+\n+    self.inputs_home_address = (params[:inputs_home_address] == '1')\n+    self.inputs_work_address = (params[:inputs_work_address] == '1')\n\n     customer.assign_attributes(customer_params)\n\n-    phones = phone_params(:customer)[:phones] || {}\n+    phones = phone_params(:customer).fetch(:phones)\n     customer.personal_phones.size.times do |index|\n       attributes = phones[index.to_s]\n       if attributes &amp;&amp; attributes[:number].present?\n@@ -42,7 +43,7 @@ class Staff::CustomerForm\n     if inputs_home_address\n       customer.home_address.assign_attributes(home_address_params)\n\n-      phones = phone_params(:home_address)[:phones] || {}\n+      phones = phone_params(:home_address).fetch(:phones)\n       customer.home_address.phones.size.times do |index|\n         attributes = phones[index.to_s]\n         if attributes &amp;&amp; attributes[:number].present?\n@@ -54,10 +55,11 @@ class Staff::CustomerForm\n     else\n       customer.home_address.mark_for_destruction\n     end\n+\n     if inputs_work_address\n       customer.work_address.assign_attributes(work_address_params)\n\n-      phones = phone_params(:work_address)[:phones] || {}\n+      phones = phone_params(:work_address).fetch(:phones)\n       customer.work_address.phones.size.times do |index|\n         attributes = phones[index.to_s]\n         if attributes &amp;&amp; attributes[:number].present?\n@@ -71,46 +73,31 @@ class Staff::CustomerForm\n     end\n   end\n\n-  private\n-  def customer_params\n-    @params.require(:customer).permit(\n-                                  :email,\n-                                  :password,\n-                                  :family_name,\n-                                  :given_name,\n-                                  :family_name_kana,\n-                                  :given_name_kana,\n-                                  :birthday,\n-                                  :gender\n-    )\n+  def save\n+    customer.save\n   end\n\n-  def home_address_params\n-    @params.require(:home_address).permit(\n-                                     :postal_code,\n-                                     :prefecture,\n-                                     :city,\n-                                     :address1,\n-                                     :address2,\n-    )\n+  private def customer_params\n+    @params.require(:customer).except(:phones).permit(\n+      :email, :password,\n+      :family_name, :given_name, :family_name_kana, :given_name_kana,\n+      :birthday, :gender)\n   end\n\n-  def work_address_params\n-    @params.require(:work_address).permit(\n-                                      :postal_code,\n-                                      :prefecture,\n-                                      :city,\n-                                      :address1,\n-                                      :address2,\n-                                      :company_name,\n-                                      :division_name\n-    )\n+  private def home_address_params\n+    @params.require(:home_address).except(:phones).permit(\n+      :postal_code, :prefecture, :city, :address1, :address2)\n+  end\n+\n+  private def work_address_params\n+    @params.require(:work_address).except(:phones).permit(\n+      :postal_code, :prefecture, :city, :address1, :address2,\n+      :company_name, :division_name)\n   end\n\n-  def phone_params(record_name)\n-    @params.require(record_name).permit(phones: [ :number, :primary ])\n-  rescue ActionController::ParameterMissing\n-    # If the phones parameter is missing, return an empty hash with phones key\n-    { phones: {} }\n+  private def phone_params(record_name)\n+    @params.require(record_name).slice(:phones).permit(\n+      phones: [ :number, :primary ]\n+    )\n   end\n-end\n+end\n\\ No newline at end of file\ndiff --git a/app/models/address.rb b/app/models/address.rb\nindex 503bf41..44772e3 100644\n--- a/app/models/address.rb\n+++ b/app/models/address.rb\n@@ -30,7 +30,10 @@ class Address &lt; ApplicationRecord\n   include StringNormalizer\n\n   belongs_to :customer\n-  has_many :phones, -&gt; { order(:id) }, dependent: :destroy, autosave: true\n+  has_many :phones,\n+           -&gt; { order(:id) },\n+           dependent: :destroy,\n+           autosave: true\n\n   before_validation do\n     self.postal_code = normalize_as_postal_code(postal_code)\n@@ -49,8 +52,7 @@ class Address &lt; ApplicationRecord\n     \u5fb3\u5cf6\u770c \u9999\u5ddd\u770c \u611b\u5a9b\u770c \u9ad8\u77e5\u770c\n     \u798f\u5ca1\u770c \u4f50\u8cc0\u770c \u9577\u5d0e\u770c \u718a\u672c\u770c \u5927\u5206\u770c \u5bae\u5d0e\u770c \u9e7f\u5150\u5cf6\u770c\n     \u6c96\u7e04\u770c\n-    \u65e5\u672c\u56fd\u5916\n-  )\n+    \u65e5\u672c\u56fd\u5916)\n\n   validates :postal_code, format: { with: /\\A\\d{7}\\z/, allow_blank: true }\n   validates :prefecture, inclusion: { in: PREFECTURE_NAMES, allow_blank: true }\ndiff --git a/app/models/customer.rb b/app/models/customer.rb\nindex 9497b11..d61ffce 100644\n--- a/app/models/customer.rb\n+++ b/app/models/customer.rb\n@@ -33,28 +33,26 @@\n #  index_customers_on_gender_and_furigana                        (gender,family_name_kana,given_name_kana)\n #  index_customers_on_given_name_kana                            (given_name_kana)\n #\n-\n class Customer &lt; ApplicationRecord\n+  include StringNormalizer\n   include EmailHolder\n   include PersonalNameHolder\n   include PasswordHolder\n\n   has_many :addresses, dependent: :destroy\n-  has_one :home_address, class_name: 'HomeAddress', autosave: true\n-  has_one :work_address, class_name: 'WorkAddress', autosave: true\n+  has_one :home_address, autosave: true\n+  has_one :work_address, autosave: true\n   has_many :phones, dependent: :destroy\n-  has_many :personal_phones, -&gt; { where(address_id: nil).order(:id) },class_name: 'Phone', autosave: true\n-  has_many :entries, dependent: :destroy\n-  has_many :programs, through: :entries\n-  has_many :messages\n-  has_many :outbound_messages, class_name: 'CustomerMessage', foreign_key: 'customer_id'\n-  has_many :inbound_messages, class_name: 'StaffMessage', foreign_key: 'customer_id'\n+  has_many :personal_phones,\n+           -&gt; { where(address_id: nil).order(:id) },\n+           class_name: 'Phone',\n+           autosave: true\n\n   validates :gender, inclusion: { in: %w(male female), allow_blank: true }\n   validates :birthday, date: {\n-      after: Date.new(1900,1,1),\n-      before: -&gt;(obj) { Date.today },\n-      allow_blank: true\n+    after: Date.new(1900, 1, 1),\n+    before: -&gt;(obj) { Date.today },\n+    allow_blank: true\n   }\n\n   before_save do\n@@ -64,4 +62,4 @@ class Customer &lt; ApplicationRecord\n       self.birth_mday = birthday.mday\n     end\n   end\n-end\n+end\n\\ No newline at end of file\ndiff --git a/app/models/phone.rb b/app/models/phone.rb\nindex 94e92f9..ea574df 100644\n--- a/app/models/phone.rb\n+++ b/app/models/phone.rb\n@@ -23,20 +23,19 @@\n class Phone &lt; ApplicationRecord\n   include StringNormalizer\n\n-  belongs_to :customer\n-  belongs_to :address\n+  belongs_to :customer, optional: true\n+  belongs_to :address, optional: true\n\n   before_validation do\n     self.number = normalize_as_phone_number(number)\n     self.number_for_index = number.gsub(/\\D/, '') if number\n-    if number_for_index &amp;&amp; number_for_index.size &gt;= 4\n-      self.last_four_digits = number_for_index[-4, 4]\n-    end\n   end\n\n   before_create do\n     self.customer = address.customer if address\n   end\n\n-  validates :number, presence: true, format: { with: /\\A\\+?\\d+(-\\d+)*\\z/, allow_blank: true }\n-end\n+  validates :number,\n+            presence: true,\n+            format: { with: /\\A\\+?\\d+(-\\d+)*\\z/, allow_blank: true }\n+end\n\\ No newline at end of file\ndiff --git a/db/seed/development/customers.rb b/db/seed/development/customers.rb\nindex 0d14c3f..8cd2548 100644\n--- a/db/seed/development/customers.rb\n+++ b/db/seed/development/customers.rb\n@@ -26,44 +26,48 @@ given_names = %w{\n   \u4e80\u5b50:\u30ab\u30e1\u30b3:kameko\n }\n\n-company_names = %w(OIAX ABC XYZ)\n+company_names = %w(BURDOCK CARROT SPINACH)\n\n 10.times do |n|\n   10.times do |m|\n-    fn = family_names[n].split(':')\n-    gn = given_names[m].split(':')\n+    fn = family_names[n].split(\":\")\n+    gn = given_names[m].split(\":\")\n\n     c = Customer.create!(\n-        email: \"#{fn[2]}.#{gn[2]}-#{n}@example.jp\",\n-        family_name: fn[0],\n-        given_name: gn[0],\n-        family_name_kana: fn[1],\n-        given_name_kana: gn[1],\n-        password: 'password',\n-        birthday: 60.years.ago.advance(seconds: rand(40.years)).to_date,\n-        gender: m &lt; 5 ? 'male' : 'female'\n+      email: \"#{fn[2]}.#{gn[2]}@example.jp\",\n+      family_name: fn[0],\n+      given_name: gn[0],\n+      family_name_kana: fn[1],\n+      given_name_kana: gn[1],\n+      password: \"password\",\n+      birthday: 60.years.ago.advance(seconds: rand(40.years)).to_date,\n+      gender: m &lt; 5 ? \"male\" : \"female\"\n     )\n+\n     if m % 2 == 0\n-      c.personal_phones.create!(number: sprintf('090-0000-%04d', n * 10 + m))\n+      c.personal_phones.create!(number: sprintf(\"090-0000-%04d\", n * 10 + m))\n     end\n+\n     c.create_home_address!(\n-        postal_code: sprintf('%07d', rand(10000000)),\n-        prefecture: Address::PREFECTURE_NAMES.sample,\n-        city: city_names.sample,\n-        address1: '\u958b\u767a1-2-3',\n-        address2: '\u30ec\u30a4\u30eb\u30ba\u30cf\u30a4\u30c4301\u53f7\u5ba4'\n+      postal_code: sprintf(\"%07d\", rand(10000000)),\n+      prefecture: Address::PREFECTURE_NAMES.sample,\n+      city: city_names.sample,\n+      address1: \"\u958b\u767a1-2-3\",\n+      address2: \"\u30ec\u30a4\u30eb\u30ba\u30cf\u30a4\u30c4301\u53f7\u5ba4\"\n     )\n+\n     if m % 10 == 0\n-      c.home_address.phones.create!(number: sprintf('03-0000-%04d', n))\n+      c.home_address.phones.create!(number: sprintf(\"03-0000-%04d\", n))\n     end\n+\n     if m % 3 == 0\n       c.create_work_address!(\n-          postal_code: sprintf('%07d', rand(10000000)),\n-          prefecture: Address::PREFECTURE_NAMES.sample,\n-          city: city_names.sample,\n-          address1: '\u8a66\u9a134-5-6',\n-          address2: '\u30eb\u30d3\u30fc\u30d3\u30eb2F',\n-          company_name: company_names.sample\n+        postal_code: sprintf(\"%07d\", rand(10000000)),\n+        prefecture: Address::PREFECTURE_NAMES.sample,\n+        city: city_names.sample,\n+        address1: \"\u8a66\u9a134-5-6\",\n+        address2: \"\u30eb\u30d3\u30fc\u30d3\u30eb2F\",\n+        company_name: company_names.sample\n       )\n     end\n   end\n</code></pre>"},{"location":"journal/20250608/#_24","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20250609/","title":"\u4f5c\u696d\u5c65\u6b74 2025-06-09","text":""},{"location":"journal/20250609/#_1","title":"\u6982\u8981","text":"<p>2025-06-09\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u6539\u5584\u3001\u7279\u306bREADME\u30d5\u30a1\u30a4\u30eb\u306e\u66f4\u65b0\u3068\u69cb\u9020\u5316\u306b\u95a2\u3059\u308b\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20250609/#_2","title":"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u69cb\u9020\u56f3","text":""},{"location":"journal/20250609/#_3","title":"\u4f5c\u696d\u5185\u5bb9","text":""},{"location":"journal/20250609/#_4","title":"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u6539\u5584","text":"<p>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u7406\u89e3\u3068\u5229\u7528\u3092\u5bb9\u6613\u306b\u3059\u308b\u305f\u3081\u3001README\u30d5\u30a1\u30a4\u30eb\u306e\u5927\u5e45\u306a\u6539\u5584\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u7279\u306b\u3001Quick Start\u624b\u9806\u306e\u8ffd\u52a0\u3001\u4ed5\u69d8\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u62e1\u5145\u3001\u304a\u3088\u3073\u5168\u4f53\u69cb\u9020\u306e\u6574\u7406\u306b\u7126\u70b9\u3092\u5f53\u3066\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20250609/#_5","title":"\u5909\u66f4\u70b9\u306e\u6982\u8981","text":"<ol> <li>Quick Start\u624b\u9806\u306e\u8ffd\u52a0\uff08Docker\u74b0\u5883\u3067\u306e\u8d77\u52d5\u65b9\u6cd5\uff09</li> <li>\u4ed5\u69d8\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u8ffd\u52a0\uff08\u57fa\u672c\u4ed5\u69d8\u3001\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3001\u30b3\u30a2\u30e2\u30c7\u30eb\uff09</li> <li>\u69cb\u6210\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u6574\u7406\u3068\u66f4\u65b0</li> <li>\u53e4\u3044\u74b0\u5883\u69cb\u7bc9\u624b\u9806\u306e\u524a\u9664\uff08Vagrant\u95a2\u9023\uff09</li> <li>CI/CD\u95a2\u9023\u306e\u8a18\u8ff0\u3092CircleCI\u304b\u3089GitHub Actions\u306b\u66f4\u65b0</li> </ol>"},{"location":"journal/20250609/#cf20bcc","title":"\u30b3\u30df\u30c3\u30c8: cf20bcc","text":""},{"location":"journal/20250609/#_6","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>docs:README\u66f4\u65b0\n</code></pre>"},{"location":"journal/20250609/#_7","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20250609/#_8","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit cf20bcce37bd0563a0a982c777a6f67a2eb6a428\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jun 9 09:40:28 2025 +0900\n\n    docs:README\u66f4\u65b0\n\ndiff --git a/README.md b/README.md\nindex ce5f121..5406c95 100644\n--- a/README.md\n+++ b/README.md\n@@ -14,16 +14,28 @@ Rails5\u304b\u3089Rails7\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\n | rails          | 7.2.2.1 |             |\n | docker         | 28.1.1  |             |\n\n+# Quick Start #\n+\n+```\n+docker build -t app:base .\n+docker compose build\n+docker compose up -d\n+```\n+\n+http://127.0.0.1:3000 \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n+\n # \u69cb\u6210 #\n+1. [\u4ed5\u69d8](#\u4ed5\u69d8)\n+   1. [\u57fa\u672c\u4ed5\u69d8](#\u57fa\u672c\u4ed5\u69d8)\n+   1. [\u30e6\u30fc\u30b9\u30fc\u30b1\u30fc\u30b9](#\u30e6\u30fc\u30b9\u30fc\u30b1\u30fc\u30b9)\n+   1. [\u30b3\u30a2\u30e2\u30c7\u30eb](#\u30b3\u30a2\u30e2\u30c7\u30eb)\n 1. [\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u69cb\u7bc9](#\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u69cb\u7bc9)\n-   1. [Vagarnt\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7](#Vagarnt\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7)\n-   1. [Docker\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7](#Docker\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7)\n    1. [\u8ffd\u52a0Gem\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7](#\u8ffd\u52a0Gem\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7)\n    1. [\u305d\u306e\u4ed6\u306e\u6e96\u5099\u4f5c\u696d](#\u305d\u306e\u4ed6\u306e\u6e96\u5099\u4f5c\u696d)\n    1. [\u30c6\u30b9\u30c8\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7](#\u30c6\u30b9\u30c8\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7)\n 1. [\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u914d\u7f6e](#\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u914d\u7f6e)\n    1. [Heroku\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7](#Heroku\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7)\n-   1. [CircleCI\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7](#CircleCI\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7)\n+   1. [GitHubAction\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7](#CircleCI\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7)\n 1. [\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a](#\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a)\n    1. [\u30d3\u30b8\u30e5\u30a2\u30eb\u30c7\u30b6\u30a4\u30f3](#\u30d3\u30b8\u30e5\u30a2\u30eb\u30c7\u30b6\u30a4\u30f3)\n    1. [\u30a8\u30e9\u30fc\u30da\u30fc\u30b8](#\u30a8\u30e9\u30fc\u30da\u30fc\u30b8)\n@@ -42,15 +54,142 @@ Rails5\u304b\u3089Rails7\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\n    1. [\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8](#\u30d5\u30a9\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8)\n    1. [\u691c\u7d22\u30d5\u30a9\u30fc\u30e0](#\u691c\u7d22\u30d5\u30a9\u30fc\u30e0)\n\n-## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u69cb\u7bc9\n-\n-### Docker\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n+## \u4ed5\u69d8\n+\n+## \u57fa\u672c\u4ed5\u69d8\n++ \u30b7\u30b9\u30c6\u30e0\u306e\u5229\u7528\u8005\u306f\u3001\u8077\u54e1\uff08staff members\uff09\u3068\u7ba1\u7406\u8005\uff08administrators\uff09\u3068\u9867\u5ba2\uff08customers\uff09\u306b\u5206\u985e\u3055\u308c\u308b\u3002\n++ \u8077\u54e1\u306f\u9867\u5ba2\u306e\u4e00\u89a7\u3092\u8868\u793a\u3057\u305f\u308a\u3001\u7279\u5b9a\u306e\u6761\u4ef6\u3067\u9867\u5ba2\u3092\u62bd\u51fa\u3067\u304d\u308b\u3002\n++ \u8077\u54e1\u306f\u9867\u5ba2\u306e\u60c5\u5831\u3092\u8ffd\u52a0\u30fb\u66f4\u65b0\u30fb\u524a\u9664\u3067\u304d\u308b\u3002\n++ \u8077\u54e1\u306f\u30bf\u30a4\u30c8\u30eb\u3001\u7533\u8fbc\u307f\u958b\u59cb\u65e5\u6b21\u3001\u6700\u5927\u53c2\u52a0\u8005\u6570\u306a\u3069\u3092\u6307\u5b9a\u3057\u3066\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u767b\u9332\u3067\u304d\u308b\u3002\n++ \u7ba1\u7406\u8005\u306f\u8077\u54e1\u3092\u767b\u9332\u30fb\u66f4\u65b0\u30fb\u524a\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n++ \u7ba1\u7406\u8005\u306f\u8077\u54e1\u306e\u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u5c65\u6b74\u3092\u95b2\u89a7\u3067\u304d\u308b\u3002\n++ \u9867\u5ba2\u306b\u306f\u30ed\u30b0\u30a4\u30f3\u7528\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u767a\u884c\u3055\u308c\u3066\u3044\u308b\u3002\n++ \u9867\u5ba2\u306f\u4f01\u696d\u3078\u306e\u554f\u3044\u5408\u308f\u305b\u3092\u4e00\u89a7\u8868\u793a\u3067\u304d\u308b\u3002\n++ \u9867\u5ba2\u306f\u4f01\u696d\u3078\u306e\u554f\u3044\u5408\u308f\u305b\u3092\u691c\u7d22\u3067\u304d\u308b\u3002\n++ \u9867\u5ba2\u306f\u81ea\u5206\u81ea\u8eab\u306e\u500b\u4eba\u60c5\u5831\u3092\u95b2\u89a7\u30fb\u4fee\u6b63\u3067\u304d\u308b\u3002\n++ \u9867\u5ba2\u306f\u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7\u304b\u3089\u53c2\u52a0\u7533\u3057\u8fbc\u307f\u3067\u304d\u308b\u3002\n+\n+## \u30e6\u30fc\u30b9\u30fc\u30b1\u30fc\u30b9\n+```mermaid\n+flowchart LR\n+    \u7ba1\u7406\u8005((\u7ba1\u7406\u8005))\n+    \u8077\u54e1((\u8077\u54e1))\n+    \u9867\u5ba2((\u9867\u5ba2))\n+    \n+    subgraph Baukis[\"Baukis\"]\n+        \u8a8d\u8a3c[\"\u8a8d\u8a3c\"]\n+        \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406[\"\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\"]\n+        \u8077\u54e1\u306e\u30ed\u30b0\u30a4\u30f3\u30ed\u30b0\u30a2\u30a6\u30c8\u7ba1\u7406[\"\u8077\u54e1\u306e\u30ed\u30b0\u30a4\u30f3\u30fb\u30ed\u30b0\u30a2\u30a6\u30c8\u7ba1\u7406\"]\n+        \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406[\"\u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\"]\n+        \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u7ba1\u7406[\"\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u7ba1\u7406\"]\n+        \u554f\u3044\u5408\u308f\u305b\u7ba1\u7406[\"\u554f\u3044\u5408\u308f\u305b\u7ba1\u7406\"]\n+        \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u7533\u8fbc\u307f[\"\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u7533\u8fbc\u307f\"]\n+        \u554f\u3044\u5408\u308f\u305b[\"\u554f\u3044\u5408\u308f\u305b\"]\n+    end\n+    \n+    %% \u7ba1\u7406\u8005\u306e\u95a2\u9023\n+    \u7ba1\u7406\u8005 --- \u8a8d\u8a3c\n+    \u7ba1\u7406\u8005 --- \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\n+    \u7ba1\u7406\u8005 --- \u8077\u54e1\u306e\u30ed\u30b0\u30a4\u30f3\u30ed\u30b0\u30a2\u30a6\u30c8\u7ba1\u7406\n+    \n+    %% \u8077\u54e1\u306e\u95a2\u9023\n+    \u8077\u54e1 --- \u8a8d\u8a3c\n+    \u8077\u54e1 --- \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\n+    \u8077\u54e1 --- \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\n+    \u8077\u54e1 --- \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u7ba1\u7406\n+    \u8077\u54e1 --- \u554f\u3044\u5408\u308f\u305b\u7ba1\u7406\n+    \n+    %% \u9867\u5ba2\u306e\u95a2\u9023\n+    \u9867\u5ba2 --- \u8a8d\u8a3c\n+    \u9867\u5ba2 --- \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u7533\u8fbc\u307f\n+    \u9867\u5ba2 --- \u554f\u3044\u5408\u308f\u305b\n+    \u9867\u5ba2 --- \u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\n ```\n-docker build -t app:base .\n-docker compose build\n-docker compose up -d\n+\n+## \u30b3\u30a2\u30e2\u30c7\u30eb\n+```mermaid\n+classDiagram\n+   Administrator --|&gt; StaffMember\n+   StaffMember --o Customer\n+StaffMember \"1\" o-- \"0..*\" StaffEvent\n+StaffMember \"1\" o-- \"0..*\" Program\n+StaffMember \"1\" *-- \"1..*\" Message\n+Program \"1\" *-- \"0..*\" StaffEvent\n+Customer \"1\" *-- \"1..*\" Address\n+Customer \"1\" *-- \"1..*\" Phone\n+Customer \"1\" *-- \"1..*\" Message\n+Customer \"1\" o-- \"0..*\" StaffEvent\n+Customer \"1\" o-- \"0..*\" Program\n+Address &lt;|-- HomeAddress\n+Address &lt;|-- WorkAddress\n+Phone &lt;|-- PersonalPhone\n+Message &lt;|-- InboundMessage\n+Message &lt;|-- OutboundMessage\n+\n+class Administrator {\n++id: int\n++name: string\n+    }\n+\n+class StaffMember {\n++id: int\n++name: string\n+    }\n+\n+class Customer {\n++id: int\n++name: string\n+    }\n+\n+class StaffEvent {\n++id: int\n++event_type: string\n+    }\n+\n+class Program {\n++id: int\n++title: string\n+    }\n+\n+class Message {\n++id: int\n++content: string\n+    }\n+\n+class Address {\n++id: int\n++street: string\n+    }\n+\n+class Phone {\n++id: int\n++number: string\n+    }\n+\n+class HomeAddress {\n++home_specific_field: string\n+}\n+\n+class WorkAddress {\n++work_specific_field: string\n+}\n+\n+class PersonalPhone {\n++personal_specific_field: string\n+}\n+\n+class InboundMessage {\n++received_at: datetime\n+}\n+\n+class OutboundMessage {\n++sent_at: datetime\n+}\n ```\n\n+\n+## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u74b0\u5883\u69cb\u7bc9\n+\n ### \u8ffd\u52a0Gem\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n ### \u305d\u306e\u4ed6\u306e\u6e96\u5099\u4f5c\u696d\n@@ -74,7 +213,7 @@ heroku create baukis-kai\n git push heroku master\n ```\n\n-### CircleCI\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n+### GitHubAction\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n **[\u2b06 back to top](#\u69cb\u6210)**\n ## \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\n</code></pre>"},{"location":"journal/20250610/","title":"\u4f5c\u696d\u5c65\u6b74 2025-06-10","text":""},{"location":"journal/20250610/#_1","title":"\u6982\u8981","text":"<p>2025-06-10\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001E2E\u30c6\u30b9\u30c8\u74b0\u5883\u306e\u69cb\u7bc9\u3068\u5b9f\u88c5\u306b\u95a2\u3059\u308b\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20250610/#_2","title":"\u30b7\u30b9\u30c6\u30e0\u69cb\u6210\u56f3","text":""},{"location":"journal/20250610/#_3","title":"\u4f5c\u696d\u5185\u5bb9","text":""},{"location":"journal/20250610/#e2e","title":"E2E\u30c6\u30b9\u30c8\u74b0\u5883\u306e\u69cb\u7bc9","text":"<p>E2E\u30c6\u30b9\u30c8\uff08End-to-End \u30c6\u30b9\u30c8\uff09\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5168\u4f53\u7684\u306a\u6a5f\u80fd\u3092\u691c\u8a3c\u3059\u308b\u305f\u3081\u306b\u91cd\u8981\u3067\u3059\u3002\u4eca\u56de\u306e\u4f5c\u696d\u3067\u306f\u3001Capybara\u3068selenium-webdriver\u3092\u4f7f\u7528\u3057\u305fE2E\u30c6\u30b9\u30c8\u74b0\u5883\u3092\u6574\u5099\u3057\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20250610/#_4","title":"\u5909\u66f4\u70b9\u306e\u6982\u8981","text":"<ol> <li>\u30c6\u30b9\u30c8\u7528\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63</li> <li>\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u306e\u30d5\u30a1\u30af\u30c8\u30ea\u8a2d\u5b9a\u306e\u66f4\u65b0</li> <li>\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\u306eE2E\u30c6\u30b9\u30c8\u306e\u5b9f\u88c5</li> </ol>"},{"location":"journal/20250610/#_5","title":"\u6280\u8853\u7684\u8a73\u7d30","text":""},{"location":"journal/20250610/#75931b2","title":"\u30b3\u30df\u30c3\u30c8: 75931b2","text":""},{"location":"journal/20250610/#_6","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>test(WIP):E2E\u30c6\u30b9\u30c8\n</code></pre>"},{"location":"journal/20250610/#_7","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M config/locales/views/ja.yml</li> <li>M spec/factories/entries.rb</li> <li>M spec/features/staff/program_management_spec.rb</li> </ul>"},{"location":"journal/20250610/#_8","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 75931b26d769263f0e5169e1294146d410fa5795\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jun 10 18:10:48 2025 +0900\n\n    test(WIP):E2E\u30c6\u30b9\u30c8\n\ndiff --git a/config/locales/views/ja.yml b/config/locales/views/ja.yml\nindex 94c8e8f..a7d03e1 100644\n--- a/config/locales/views/ja.yml\n+++ b/config/locales/views/ja.yml\n@@ -120,7 +120,7 @@ ja:\n         program_start: '\u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5\u6642'\n         program_end: '\u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5\u6642'\n         program_min_entry: '\u6700\u5c0f\u53c2\u52a0\u8005\u6570'\n-        program_max_entry: '\u6700\u5927\u53c2\u89b3\u8005\u6570'\n+        program_max_entry: '\u6700\u5927\u53c2\u52a0\u8005\u6570'\n         program_entry_count: '\u7533\u3057\u8fbc\u307f\u4ef6\u6570'\n         program_staff: '\u767b\u9332\u8077\u54e1'\n         action: '\u30a2\u30af\u30b7\u30e7\u30f3'\n@@ -130,7 +130,7 @@ ja:\n         program_start: '\u7533\u3057\u8fbc\u307f\u958b\u59cb\u65e5\u6642'\n         program_end: '\u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5\u6642'\n         program_min_entry: '\u6700\u5c0f\u53c2\u52a0\u8005\u6570'\n-        program_max_entry: '\u6700\u5927\u53c2\u89b3\u8005\u6570'\n+        program_max_entry: '\u6700\u5927\u53c2\u52a0\u8005\u6570'\n         program_entry_count: '\u7533\u3057\u8fbc\u307f\u4ef6\u6570'\n         program_staff: '\u767b\u9332\u8077\u54e1'\n       new:\n@@ -151,7 +151,7 @@ ja:\n         program_end: '\u7533\u3057\u8fbc\u307f\u7d42\u4e86\u65e5\u6642'\n         program_end_instruction: '\u958b\u59cb\u65e5\u6642\u304b\u308990\u65e5\u5f8c\u307e\u3067'\n         program_min_entry: '\u6700\u5c0f\u53c2\u52a0\u8005\u6570'\n-        program_max_entry: '\u6700\u5927\u53c2\u89b3\u8005\u6570'\n+        program_max_entry: '\u6700\u5927\u53c2\u52a0\u8005\u6570'\n       entries_form:\n         name: '\u6c0f\u540d'\n         a: 'A'\ndiff --git a/spec/factories/entries.rb b/spec/factories/entries.rb\nindex 68decf9..6dc2a58 100644\n--- a/spec/factories/entries.rb\n+++ b/spec/factories/entries.rb\n@@ -19,6 +19,9 @@\n\n FactoryBot.define do\n   factory :entry do\n-    \n+    program\n+    customer\n+    approved { false }\n+    canceled { false }\n   end\n end\ndiff --git a/spec/features/staff/program_management_spec.rb b/spec/features/staff/program_management_spec.rb\nindex 413731f..190110a 100644\n--- a/spec/features/staff/program_management_spec.rb\n+++ b/spec/features/staff/program_management_spec.rb\n@@ -1,35 +1,82 @@\n require 'rails_helper'\n\n-feature '\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd', :performace do\n+feature '\u8077\u54e1\u306b\u3088\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406' do\n   include FeaturesSpecHelper\n   include PerformanceSpecHelper\n   let(:staff_member) { create(:staff_member) }\n+  let!(:program) { create(:program, registrant: staff_member) }\n+  let(:customer) { create(:customer) }\n+  let!(:entry) { create(:entry, program: program, customer: customer) }\n\n   before do\n-    20.times do |n|\n-      p  = create(:program, application_start_time: n.days.ago.midnight)\n-      if n &lt; 2\n-        p.applicants &lt;&lt; create(:customer)\n-        p.applicants &lt;&lt; create(:customer)\n-      end\n-    end\n-\n     switch_namespace(:staff)\n     login_as_staff_member(staff_member)\n   end\n\n-  scenario '\u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7' do |example|\n+  scenario '\u8077\u54e1\u304c\u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b' do\n     visit staff_programs_path\n     expect(page).to have_css('h1', text: I18n.t('staff.programs.index.title'))\n+    expect(page).to have_content(program.title)\n+  end\n+\n+  scenario '\u8077\u54e1\u304c\u30d7\u30ed\u30b0\u30e9\u30e0\u8a73\u7d30\u3092\u8868\u793a\u3059\u308b' do\n+    visit staff_programs_path\n+    click_link I18n.t('staff.programs.form.show')\n+\n+    expect(page).to have_content(program.title)\n+    expect(page).to have_content(program.description)\n+  end\n\n-    elapsed = Benchmark.realtime do\n-      100.times do\n-        visit staff_programs_path\n-      end\n-    end\n+  scenario '\u8077\u54e1\u304c\u65b0\u898f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u767b\u9332\u3059\u308b' do\n+    visit staff_programs_path\n+    first('a', text: I18n.t('staff.programs.index.new')).click\n+\n+    fill_in I18n.t('activerecord.attributes.program.title'), with: 'New Program'\n+    fill_in I18n.t('activerecord.attributes.program.description'), with: 'Program Description'\n+    fill_in I18n.t('activerecord.attributes.program.application_start_date'), with: Date.today.to_s\n+    select '09', from: \"form_program_application_start_hour\"\n+    select '00', from: \"form_program_application_start_minute\"\n+    fill_in I18n.t('activerecord.attributes.program.application_end_date'), with: Date.today.next_month.to_s\n+    select '17', from: \"form_program_application_end_hour\"\n+    select '00', from: \"form_program_application_end_minute\"\n+    fill_in I18n.t('activerecord.attributes.program.min_number_of_participants'), with: '5'\n+    fill_in I18n.t('activerecord.attributes.program.max_number_of_participants'), with: '10'\n+\n+    click_button I18n.t('staff.programs.new.create')\n\n-    write_to_performance_log(example, elapsed)\n-    expect(elapsed).to be &lt; 100.0\n+    expect(page).to have_css('.Flash__notice', text: I18n.t('staff.programs.create.flash_notice'))\n+    expect(Program.find_by(title: 'New Program')).to be_present\n   end\n\n+  scenario '\u8077\u54e1\u304c\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u7de8\u96c6\u3059\u308b' do\n+    visit staff_programs_path\n+    click_link I18n.t('staff.programs.form.edit')\n+\n+    fill_in I18n.t('activerecord.attributes.program.title'), with: 'Updated Program'\n+    click_button I18n.t('staff.programs.edit.update')\n+\n+    expect(page).to have_css('.Flash__notice', text: I18n.t('staff.programs.update.flash_notice'))\n+    expect(program.reload.title).to eq('Updated Program')\n+  end\n+\n+  scenario '\u8077\u54e1\u304c\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u524a\u9664\u3059\u308b' do\n+    program_without_entries = create(:program, registrant: staff_member)\n+\n+    visit staff_programs_path\n+\n+    all('a', text: I18n.t('staff.programs.form.delete')).last.click\n+\n+    expect(page).to have_css('.Flash__notice', text: I18n.t('staff.programs.destroy.flash_notice'))\n+    expect(Program.find_by(id: program_without_entries.id)).to be_nil\n+  end\n+\n+  scenario '\u8077\u54e1\u304c\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u7ba1\u7406\u3059\u308b' do\n+    visit staff_program_path(program)\n+\n+    find(\"input[type='checkbox'].isApproved[data-entry-id='#{entry.id}']\").click\n+    click_button I18n.t('staff.programs.entries_form.update')\n+\n+    expect(page).to have_css('.Flash__notice', text: I18n.t('staff.programs.entries.flash_notice'))\n+    expect(entry.reload.approved).to be true\n+  end\n end\n</code></pre>"},{"location":"journal/20250610/#00e4601","title":"\u30b3\u30df\u30c3\u30c8: 00e4601","text":""},{"location":"journal/20250610/#_9","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>test(WIP):E2E\u30c6\u30b9\u30c8\n</code></pre>"},{"location":"journal/20250610/#_10","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/controllers/customer/programs_controller.rb</li> <li>M spec/features/customer/program_management_spec.rb</li> </ul>"},{"location":"journal/20250610/#_11","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 00e4601c979a9c5b18e48f66a032ba5464f00149\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jun 10 16:35:12 2025 +0900\n\n    test(WIP):E2E\u30c6\u30b9\u30c8\n\ndiff --git a/app/controllers/customer/programs_controller.rb b/app/controllers/customer/programs_controller.rb\nindex 0cf4a1e..c6d8421 100644\n--- a/app/controllers/customer/programs_controller.rb\n+++ b/app/controllers/customer/programs_controller.rb\n@@ -4,6 +4,6 @@ class Customer::ProgramsController &lt; Customer::Base\n   end\n\n   def show\n-    @program = Program.published.find(params[:id])\n+    @program = Program.published.find_by(params[:id])\n   end\n end\ndiff --git a/spec/features/customer/program_management_spec.rb b/spec/features/customer/program_management_spec.rb\nindex 8341e2d..a2230b8 100644\n--- a/spec/features/customer/program_management_spec.rb\n+++ b/spec/features/customer/program_management_spec.rb\n@@ -19,50 +19,37 @@ feature '\u9867\u5ba2\u306b\u3088\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406' do\n\n   scenario '\u9867\u5ba2\u304c\u30d7\u30ed\u30b0\u30e9\u30e0\u8a73\u7d30\u3092\u95b2\u89a7\u3059\u308b' do\n     visit customer_programs_path\n-    click_link program.title\n-    \n-    expect(page).to have_css('h1', text: program.title)\n+    click_link I18n.t('staff.programs.form.show')\n+\n+    expect(page).to have_content(program.title)\n     expect(page).to have_content(program.description)\n   end\n\n   scenario '\u9867\u5ba2\u304c\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4e88\u7d04\u3059\u308b' do\n     visit customer_program_path(program)\n-    click_link I18n.t('customer.programs.show.apply')\n-    \n-    fill_in I18n.t('activerecord.attributes.entry.remarks'), with: '\u30c6\u30b9\u30c8\u4e88\u7d04'\n-    click_button I18n.t('customer.entries.new.submit')\n+    click_button I18n.t('customer.programs.show.apply')\n\n-    expect(page).to have_css('.notice', text: I18n.t('customer.entries.create.notice'))\n+    expect(page).to have_css('.Flash__notice', text: I18n.t('customer.entries.create.flash_notice'))\n     expect(Entry.find_by(program: program, customer: customer)).to be_present\n   end\n\n   scenario '\u9867\u5ba2\u304c\u4e88\u7d04\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3059\u308b' do\n-    entry = create(:entry, program: program, customer: customer)\n-    \n-    visit customer_entries_path\n-    click_link program.title\n-    click_link I18n.t('customer.entries.show.cancel')\n-    \n-    expect(page).to have_css('.notice', text: I18n.t('customer.entries.cancel.notice'))\n-    expect(entry.reload.canceled).to be_truthy\n+    visit customer_program_path(program)\n+    click_button I18n.t('customer.programs.show.apply')\n+    visit customer_program_path(program)\n+    click_button I18n.t('customer.programs.show.cancel')\n+\n+    expect(page).to have_css('.Flash__notice', text: I18n.t('customer.entries.cancel.flash_notice'))\n+    expect(Entry.find_by(program: program, customer: customer).canceled).to be true\n   end\n\n   scenario '\u9867\u5ba2\u304c\u4e88\u7d04\u671f\u9593\u5916\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4e88\u7d04\u3057\u3088\u3046\u3068\u3059\u308b' do\n-    closed_program = create(:program, application_start_time: 10.days.from_now, application_end_time: 20.days.from_now)\n-    \n-    visit customer_program_path(closed_program)\n-    \n-    expect(page).not_to have_link(I18n.t('customer.programs.show.apply'))\n-    expect(page).to have_content(I18n.t('customer.programs.show.not_applicable'))\n-  end\n+    Program.delete_all\n+    closed_program = create(:program, application_start_time: 20.days.ago, application_end_time: 10.days.ago)\n+    visit customer_programs_path\n\n-  scenario '\u9867\u5ba2\u304c\u5b9a\u54e1\u8d85\u904e\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4e88\u7d04\u3057\u3088\u3046\u3068\u3059\u308b' do\n-    full_program = create(:program, application_start_time: 2.days.ago, application_end_time: 2.days.from_now, max_number_of_participants: 1)\n-    create(:entry, program: full_program) # Fill the program\n-    \n-    visit customer_program_path(full_program)\n+    visit customer_program_path(closed_program)\n\n-    expect(page).not_to have_link(I18n.t('customer.programs.show.apply'))\n-    expect(page).to have_content(I18n.t('customer.programs.show.full'))\n+    expect(page).to have_button(I18n.t('customer.programs.show.closed'), disabled: true)\n   end\n end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20250610/#_12","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20250610/#429998b","title":"\u30b3\u30df\u30c3\u30c8: 429998b","text":""},{"location":"journal/20250610/#_13","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>docs:\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u66f4\u65b0\n</code></pre>"},{"location":"journal/20250610/#_14","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M \"docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\"</li> </ul>"},{"location":"journal/20250610/#_15","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 429998be7be58147cc12ad325bbfd790bd33b9bb\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jun 10 15:21:20 2025 +0900\n\n    docs:\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u66f4\u65b0\n\ndiff --git \"a/docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\" \"b/docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\"\nindex 8d89046..51eb39c 100644\n--- \"a/docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\"\n+++ \"b/docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\"\n@@ -2,58 +2,58 @@\n\n ## 1. \u6982\u8981\n\n-\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306fBaukis-Kai\u30b7\u30b9\u30c6\u30e0\u306e\u4e3b\u8981\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u30b7\u30b9\u30c6\u30e0\u306f\u4e3b\u306b3\u3064\u306e\u30e6\u30fc\u30b6\u30fc\u30bf\u30a4\u30d7\uff08\u30b9\u30bf\u30c3\u30d5\u3001\u9867\u5ba2\u3001\u7ba1\u7406\u8005\uff09\u5411\u3051\u306e\u6a5f\u80fd\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n+\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306fBaukis-Kai\u30b7\u30b9\u30c6\u30e0\u306e\u4e3b\u8981\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u30b7\u30b9\u30c6\u30e0\u306f\u4e3b\u306b3\u3064\u306e\u30e6\u30fc\u30b6\u30fc\u30bf\u30a4\u30d7\uff08\u8077\u54e1\u3001\u9867\u5ba2\u3001\u7ba1\u7406\u8005\uff09\u5411\u3051\u306e\u6a5f\u80fd\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n\n ## 2. \u30a2\u30af\u30bf\u30fc\u5b9a\u7fa9\n\n \u30b7\u30b9\u30c6\u30e0\u306b\u306f\u4ee5\u4e0b\u306e\u4e3b\u8981\u306a\u30a2\u30af\u30bf\u30fc\u304c\u5b58\u5728\u3057\u307e\u3059\uff1a\n\n-1. **\u30b9\u30bf\u30c3\u30d5**: \u9867\u5ba2\u60c5\u5831\u7ba1\u7406\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u3001\u9867\u5ba2\u3068\u306e\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u62c5\u5f53\u3059\u308b\u7d44\u7e54\u306e\u5f93\u696d\u54e1\n+1. **\u8077\u54e1**: \u9867\u5ba2\u60c5\u5831\u7ba1\u7406\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u3001\u9867\u5ba2\u3068\u306e\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u62c5\u5f53\u3059\u308b\u7d44\u7e54\u306e\u5f93\u696d\u54e1\n 2. **\u9867\u5ba2**: \u30b5\u30fc\u30d3\u30b9\u3092\u5229\u7528\u3059\u308b\u500b\u4eba\u307e\u305f\u306f\u30b0\u30eb\u30fc\u30d7\n-3. **\u7ba1\u7406\u8005**: \u30b7\u30b9\u30c6\u30e0\u5168\u4f53\u3068\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u7ba1\u7406\u3059\u308b\u6a29\u9650\u3092\u6301\u3064\u30e6\u30fc\u30b6\u30fc\n+3. **\u7ba1\u7406\u8005**: \u30b7\u30b9\u30c6\u30e0\u5168\u4f53\u3068\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u7ba1\u7406\u3059\u308b\u6a29\u9650\u3092\u6301\u3064\u30e6\u30fc\u30b6\u30fc\n\n-## 3. \u30b9\u30bf\u30c3\u30d5\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\n+## 3. \u8077\u54e1\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\n\n ### 3.1. \u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\n\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | S-001 |\n | ------------- | ----- |\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30b9\u30bf\u30c3\u30d5\u30ed\u30b0\u30a4\u30f3 |\n-| \u30a2\u30af\u30bf\u30fc | \u30b9\u30bf\u30c3\u30d5 |\n-| \u8aac\u660e | \u30b9\u30bf\u30c3\u30d5\u304c\u30b7\u30b9\u30c6\u30e0\u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b |\n-| \u4e8b\u524d\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b |\n-| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30b9\u30bf\u30c3\u30d5\u304c\u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b&lt;br&gt;3. \u8a8d\u8a3c\u60c5\u5831\u3092\u691c\u8a3c&lt;br&gt;4. \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8 |\n+| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u8077\u54e1\u30ed\u30b0\u30a4\u30f3 |\n+| \u30a2\u30af\u30bf\u30fc | \u8077\u54e1 |\n+| \u8aac\u660e | \u8077\u54e1\u304c\u30b7\u30b9\u30c6\u30e0\u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b |\n+| \u4e8b\u524d\u6761\u4ef6 | \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b |\n+| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b&lt;br&gt;3. \u8a8d\u8a3c\u60c5\u5831\u3092\u691c\u8a3c&lt;br&gt;4. \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8 |\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u8a8d\u8a3c\u5931\u6557: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a&lt;br&gt;- \u30a2\u30ab\u30a6\u30f3\u30c8\u505c\u6b62\u4e2d: \u30a2\u30af\u30bb\u30b9\u62d2\u5426\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a |\n-| \u4e8b\u5f8c\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u304c\u30b7\u30b9\u30c6\u30e0\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u72b6\u614b\u306b\u306a\u308b |\n+| \u4e8b\u5f8c\u6761\u4ef6 | \u8077\u54e1\u304c\u30b7\u30b9\u30c6\u30e0\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u72b6\u614b\u306b\u306a\u308b |\n\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | S-002 |\n | ------------- | ----- |\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30b9\u30bf\u30c3\u30d5\u30ed\u30b0\u30a2\u30a6\u30c8 |\n-| \u30a2\u30af\u30bf\u30fc | \u30b9\u30bf\u30c3\u30d5 |\n-| \u8aac\u660e | \u30b9\u30bf\u30c3\u30d5\u304c\u30b7\u30b9\u30c6\u30e0\u304b\u3089\u30ed\u30b0\u30a2\u30a6\u30c8\u3059\u308b |\n-| \u4e8b\u524d\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f |\n-| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30b9\u30bf\u30c3\u30d5\u304c\u30ed\u30b0\u30a2\u30a6\u30c8\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af&lt;br&gt;2. \u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u7d42\u4e86&lt;br&gt;3. \u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8 |\n+| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u8077\u54e1\u30ed\u30b0\u30a2\u30a6\u30c8 |\n+| \u30a2\u30af\u30bf\u30fc | \u8077\u54e1 |\n+| \u8aac\u660e | \u8077\u54e1\u304c\u30b7\u30b9\u30c6\u30e0\u304b\u3089\u30ed\u30b0\u30a2\u30a6\u30c8\u3059\u308b |\n+| \u4e8b\u524d\u6761\u4ef6 | \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f |\n+| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u8077\u54e1\u304c\u30ed\u30b0\u30a2\u30a6\u30c8\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af&lt;br&gt;2. \u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u7d42\u4e86&lt;br&gt;3. \u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8 |\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | \u306a\u3057 |\n-| \u4e8b\u5f8c\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u304c\u30ed\u30b0\u30a2\u30a6\u30c8\u72b6\u614b\u306b\u306a\u308b |\n+| \u4e8b\u5f8c\u6761\u4ef6 | \u8077\u54e1\u304c\u30ed\u30b0\u30a2\u30a6\u30c8\u72b6\u614b\u306b\u306a\u308b |\n\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | S-003 |\n | ------------- | ----- |\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u66f4\u65b0 |\n-| \u30a2\u30af\u30bf\u30fc | \u30b9\u30bf\u30c3\u30d5 |\n-| \u8aac\u660e | \u30b9\u30bf\u30c3\u30d5\u304c\u81ea\u8eab\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b |\n-| \u4e8b\u524d\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f |\n-| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30b9\u30bf\u30c3\u30d5\u304c\u30a2\u30ab\u30a6\u30f3\u30c8\u8a2d\u5b9a\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u60c5\u5831\u3092\u7de8\u96c6&lt;br&gt;3. \u5909\u66f4\u3092\u4fdd\u5b58 |\n+| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u66f4\u65b0 |\n+| \u30a2\u30af\u30bf\u30fc | \u8077\u54e1 |\n+| \u8aac\u660e | \u8077\u54e1\u304c\u81ea\u8eab\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b |\n+| \u4e8b\u524d\u6761\u4ef6 | \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f |\n+| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u8077\u54e1\u304c\u30a2\u30ab\u30a6\u30f3\u30c8\u8a2d\u5b9a\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u60c5\u5831\u3092\u7de8\u96c6&lt;br&gt;3. \u5909\u66f4\u3092\u4fdd\u5b58 |\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 |\n-| \u4e8b\u5f8c\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u306e\u60c5\u5831\u304c\u66f4\u65b0\u3055\u308c\u308b |\n+| \u4e8b\u5f8c\u6761\u4ef6 | \u8077\u54e1\u306e\u60c5\u5831\u304c\u66f4\u65b0\u3055\u308c\u308b |\n\n ### 3.2. \u9867\u5ba2\u7ba1\u7406\n\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | S-004 |\n | ------------- | ----- |\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u9867\u5ba2\u60c5\u5831\u767b\u9332 |\n-| \u30a2\u30af\u30bf\u30fc | \u30b9\u30bf\u30c3\u30d5 |\n-| \u8aac\u660e | \u30b9\u30bf\u30c3\u30d5\u304c\u65b0\u898f\u9867\u5ba2\u60c5\u5831\u3092\u767b\u9332\u3059\u308b |\n-| \u4e8b\u524d\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f |\n+| \u30a2\u30af\u30bf\u30fc | \u8077\u54e1 |\n+| \u8aac\u660e | \u8077\u54e1\u304c\u65b0\u898f\u9867\u5ba2\u60c5\u5831\u3092\u767b\u9332\u3059\u308b |\n+| \u4e8b\u524d\u6761\u4ef6 | \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f |\n | \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u9867\u5ba2\u767b\u9332\u30d5\u30a9\u30fc\u30e0\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u9867\u5ba2\u306e\u57fa\u672c\u60c5\u5831\u3092\u5165\u529b&lt;br&gt;3. \u4f4f\u6240\u60c5\u5831\u3092\u5165\u529b\uff08\u81ea\u5b85/\u8077\u5834\uff09&lt;br&gt;4. \u96fb\u8a71\u756a\u53f7\u60c5\u5831\u3092\u5165\u529b&lt;br&gt;5. \u30d5\u30a9\u30fc\u30e0\u3092\u9001\u4fe1&lt;br&gt;6. \u30b7\u30b9\u30c6\u30e0\u304c\u30c7\u30fc\u30bf\u3092\u691c\u8a3c&lt;br&gt;7. \u9867\u5ba2\u60c5\u5831\u3092\u4fdd\u5b58 |\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 |\n | \u4e8b\u5f8c\u6761\u4ef6 | \u65b0\u898f\u9867\u5ba2\u60c5\u5831\u304c\u30b7\u30b9\u30c6\u30e0\u306b\u767b\u9332\u3055\u308c\u308b |\n@@ -61,9 +61,9 @@\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | S-005 |\n | ------------- | ----- |\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u9867\u5ba2\u60c5\u5831\u691c\u7d22 |\n-| \u30a2\u30af\u30bf\u30fc | \u30b9\u30bf\u30c3\u30d5 |\n-| \u8aac\u660e | \u30b9\u30bf\u30c3\u30d5\u304c\u9867\u5ba2\u60c5\u5831\u3092\u691c\u7d22\u3059\u308b |\n-| \u4e8b\u524d\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f |\n+| \u30a2\u30af\u30bf\u30fc | \u8077\u54e1 |\n+| \u8aac\u660e | \u8077\u54e1\u304c\u9867\u5ba2\u60c5\u5831\u3092\u691c\u7d22\u3059\u308b |\n+| \u4e8b\u524d\u6761\u4ef6 | \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f |\n | \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u9867\u5ba2\u691c\u7d22\u30d5\u30a9\u30fc\u30e0\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u691c\u7d22\u6761\u4ef6\uff08\u540d\u524d\u3001\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3001\u96fb\u8a71\u756a\u53f7\u306a\u3069\uff09\u3092\u5165\u529b&lt;br&gt;3. \u691c\u7d22\u3092\u5b9f\u884c&lt;br&gt;4. \u691c\u7d22\u7d50\u679c\u3092\u8868\u793a |\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u691c\u7d22\u7d50\u679c\u306a\u3057: \u8a72\u5f53\u3059\u308b\u9867\u5ba2\u304c\u306a\u3044\u65e8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a |\n | \u4e8b\u5f8c\u6761\u4ef6 | \u691c\u7d22\u6761\u4ef6\u306b\u5408\u81f4\u3059\u308b\u9867\u5ba2\u60c5\u5831\u304c\u8868\u793a\u3055\u308c\u308b |\n@@ -71,9 +71,9 @@\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | S-006 |\n | ------------- | ----- |\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u9867\u5ba2\u60c5\u5831\u66f4\u65b0 |\n-| \u30a2\u30af\u30bf\u30fc | \u30b9\u30bf\u30c3\u30d5 |\n-| \u8aac\u660e | \u30b9\u30bf\u30c3\u30d5\u304c\u65e2\u5b58\u306e\u9867\u5ba2\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b |\n-| \u4e8b\u524d\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u9867\u5ba2\u304c\u767b\u9332\u6e08\u307f |\n+| \u30a2\u30af\u30bf\u30fc | \u8077\u54e1 |\n+| \u8aac\u660e | \u8077\u54e1\u304c\u65e2\u5b58\u306e\u9867\u5ba2\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b |\n+| \u4e8b\u524d\u6761\u4ef6 | \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u9867\u5ba2\u304c\u767b\u9332\u6e08\u307f |\n | \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u9867\u5ba2\u8a73\u7d30\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u7de8\u96c6\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af&lt;br&gt;3. \u9867\u5ba2\u60c5\u5831\u3092\u7de8\u96c6&lt;br&gt;4. \u5909\u66f4\u3092\u4fdd\u5b58 |\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 |\n | \u4e8b\u5f8c\u6761\u4ef6 | \u9867\u5ba2\u60c5\u5831\u304c\u66f4\u65b0\u3055\u308c\u308b |\n@@ -83,9 +83,9 @@\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | S-007 |\n | ------------- | ----- |\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30d7\u30ed\u30b0\u30e9\u30e0\u4f5c\u6210 |\n-| \u30a2\u30af\u30bf\u30fc | \u30b9\u30bf\u30c3\u30d5 |\n-| \u8aac\u660e | \u30b9\u30bf\u30c3\u30d5\u304c\u65b0\u898f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f5c\u6210\u3059\u308b |\n-| \u4e8b\u524d\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f |\n+| \u30a2\u30af\u30bf\u30fc | \u8077\u54e1 |\n+| \u8aac\u660e | \u8077\u54e1\u304c\u65b0\u898f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f5c\u6210\u3059\u308b |\n+| \u4e8b\u524d\u6761\u4ef6 | \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f |\n | \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30d7\u30ed\u30b0\u30e9\u30e0\u4f5c\u6210\u30d5\u30a9\u30fc\u30e0\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u30d7\u30ed\u30b0\u30e9\u30e0\u8a73\u7d30\uff08\u30bf\u30a4\u30c8\u30eb\u3001\u8aac\u660e\u3001\u65e5\u6642\u3001\u53c2\u52a0\u4eba\u6570\u5236\u9650\u7b49\uff09\u3092\u5165\u529b&lt;br&gt;3. \u30d5\u30a9\u30fc\u30e0\u3092\u9001\u4fe1&lt;br&gt;4. \u30b7\u30b9\u30c6\u30e0\u304c\u30c7\u30fc\u30bf\u3092\u691c\u8a3c&lt;br&gt;5. \u30d7\u30ed\u30b0\u30e9\u30e0\u60c5\u5831\u3092\u4fdd\u5b58 |\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 |\n | \u4e8b\u5f8c\u6761\u4ef6 | \u65b0\u898f\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u30b7\u30b9\u30c6\u30e0\u306b\u767b\u9332\u3055\u308c\u308b |\n@@ -93,9 +93,9 @@\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | S-008 |\n | ------------- | ----- |\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30d7\u30ed\u30b0\u30e9\u30e0\u66f4\u65b0 |\n-| \u30a2\u30af\u30bf\u30fc | \u30b9\u30bf\u30c3\u30d5 |\n-| \u8aac\u660e | \u30b9\u30bf\u30c3\u30d5\u304c\u65e2\u5b58\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b |\n-| \u4e8b\u524d\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u767b\u9332\u6e08\u307f |\n+| \u30a2\u30af\u30bf\u30fc | \u8077\u54e1 |\n+| \u8aac\u660e | \u8077\u54e1\u304c\u65e2\u5b58\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b |\n+| \u4e8b\u524d\u6761\u4ef6 | \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u767b\u9332\u6e08\u307f |\n | \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30d7\u30ed\u30b0\u30e9\u30e0\u8a73\u7d30\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u7de8\u96c6\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af&lt;br&gt;3. \u30d7\u30ed\u30b0\u30e9\u30e0\u60c5\u5831\u3092\u7de8\u96c6&lt;br&gt;4. \u5909\u66f4\u3092\u4fdd\u5b58 |\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059&lt;br&gt;- \u65e2\u306b\u4e88\u7d04\u304c\u3042\u308b\u5834\u5408: \u7279\u5b9a\u306e\u9805\u76ee\u306e\u7de8\u96c6\u3092\u5236\u9650 |\n | \u4e8b\u5f8c\u6761\u4ef6 | \u30d7\u30ed\u30b0\u30e9\u30e0\u60c5\u5831\u304c\u66f4\u65b0\u3055\u308c\u308b |\n@@ -103,9 +103,9 @@\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | S-009 |\n | ------------- | ----- |\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30d7\u30ed\u30b0\u30e9\u30e0\u53c2\u52a0\u8005\u7ba1\u7406 |\n-| \u30a2\u30af\u30bf\u30fc | \u30b9\u30bf\u30c3\u30d5 |\n-| \u8aac\u660e | \u30b9\u30bf\u30c3\u30d5\u304c\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u53c2\u52a0\u8005\u3092\u7ba1\u7406\u3059\u308b |\n-| \u4e8b\u524d\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u767b\u9332\u6e08\u307f |\n+| \u30a2\u30af\u30bf\u30fc | \u8077\u54e1 |\n+| \u8aac\u660e | \u8077\u54e1\u304c\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u53c2\u52a0\u8005\u3092\u7ba1\u7406\u3059\u308b |\n+| \u4e8b\u524d\u6761\u4ef6 | \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u767b\u9332\u6e08\u307f |\n | \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30d7\u30ed\u30b0\u30e9\u30e0\u8a73\u7d30\u30da\u30fc\u30b8\u306e\u53c2\u52a0\u8005\u30bf\u30d6\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u53c2\u52a0\u8005\u30ea\u30b9\u30c8\u3092\u78ba\u8a8d&lt;br&gt;3. \u53c2\u52a0\u627f\u8a8d\u307e\u305f\u306f\u62d2\u5426\u306e\u64cd\u4f5c\u3092\u884c\u3046 |\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u53c2\u52a0\u8005\u306a\u3057: \u53c2\u52a0\u8005\u304c\u3044\u306a\u3044\u65e8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a |\n | \u4e8b\u5f8c\u6761\u4ef6 | \u53c2\u52a0\u8005\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u66f4\u65b0\u3055\u308c\u308b |\n@@ -115,9 +115,9 @@\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | S-010 |\n | ------------- | ----- |\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u9867\u5ba2\u3078\u306e\u554f\u3044\u5408\u308f\u305b\u9001\u4fe1 |\n-| \u30a2\u30af\u30bf\u30fc | \u30b9\u30bf\u30c3\u30d5 |\n-| \u8aac\u660e | \u30b9\u30bf\u30c3\u30d5\u304c\u9867\u5ba2\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b |\n-| \u4e8b\u524d\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u9867\u5ba2\u304c\u767b\u9332\u6e08\u307f |\n+| \u30a2\u30af\u30bf\u30fc | \u8077\u54e1 |\n+| \u8aac\u660e | \u8077\u54e1\u304c\u9867\u5ba2\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b |\n+| \u4e8b\u524d\u6761\u4ef6 | \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u9867\u5ba2\u304c\u767b\u9332\u6e08\u307f |\n | \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u9867\u5ba2\u8a73\u7d30\u30da\u30fc\u30b8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u30bf\u30d6\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u65b0\u898f\u30e1\u30c3\u30bb\u30fc\u30b8\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af&lt;br&gt;3. \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30bf\u30a4\u30c8\u30eb\u3068\u672c\u6587\u3092\u5165\u529b&lt;br&gt;4. \u30bf\u30b0\u3092\u9078\u629e\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09&lt;br&gt;5. \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1 |\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 |\n | \u4e8b\u5f8c\u6761\u4ef6 | \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9867\u5ba2\u306b\u9001\u4fe1\u3055\u308c\u308b |\n@@ -125,9 +125,9 @@\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | S-011 |\n | ------------- | ----- |\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u9867\u5ba2\u304b\u3089\u306e\u554f\u3044\u5408\u308f\u305b\u78ba\u8a8d |\n-| \u30a2\u30af\u30bf\u30fc | \u30b9\u30bf\u30c3\u30d5 |\n-| \u8aac\u660e | \u30b9\u30bf\u30c3\u30d5\u304c\u9867\u5ba2\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u78ba\u8a8d\u3059\u308b |\n-| \u4e8b\u524d\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u9867\u5ba2\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9001\u4fe1\u6e08\u307f |\n+| \u30a2\u30af\u30bf\u30fc | \u8077\u54e1 |\n+| \u8aac\u660e | \u8077\u54e1\u304c\u9867\u5ba2\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u78ba\u8a8d\u3059\u308b |\n+| \u4e8b\u524d\u6761\u4ef6 | \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u9867\u5ba2\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9001\u4fe1\u6e08\u307f |\n | \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u672a\u8aad\u307e\u305f\u306f\u7279\u5b9a\u306e\u9867\u5ba2\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30d5\u30a3\u30eb\u30bf&lt;br&gt;3. \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9078\u629e\u3057\u3066\u8a73\u7d30\u3092\u95b2\u89a7 |\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30e1\u30c3\u30bb\u30fc\u30b8\u306a\u3057: \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u306a\u3044\u65e8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a |\n | \u4e8b\u5f8c\u6761\u4ef6 | \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u65e2\u8aad\u72b6\u614b\u306b\u306a\u308b |\n@@ -135,9 +135,9 @@\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | S-012 |\n | ------------- | ----- |\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u554f\u3044\u5408\u308f\u305b\u8fd4\u4fe1 |\n-| \u30a2\u30af\u30bf\u30fc | \u30b9\u30bf\u30c3\u30d5 |\n-| \u8aac\u660e | \u30b9\u30bf\u30c3\u30d5\u304c\u9867\u5ba2\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u8fd4\u4fe1\u3059\u308b |\n-| \u4e8b\u524d\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u9867\u5ba2\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9001\u4fe1\u6e08\u307f |\n+| \u30a2\u30af\u30bf\u30fc | \u8077\u54e1 |\n+| \u8aac\u660e | \u8077\u54e1\u304c\u9867\u5ba2\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u8fd4\u4fe1\u3059\u308b |\n+| \u4e8b\u524d\u6761\u4ef6 | \u8077\u54e1\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u9867\u5ba2\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9001\u4fe1\u6e08\u307f |\n | \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30e1\u30c3\u30bb\u30fc\u30b8\u8a73\u7d30\u753b\u9762\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u8fd4\u4fe1\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af&lt;br&gt;3. \u8fd4\u4fe1\u5185\u5bb9\u3092\u5165\u529b&lt;br&gt;4. \u8fd4\u4fe1\u3092\u9001\u4fe1 |\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 |\n | \u4e8b\u5f8c\u6761\u4ef6 | \u8fd4\u4fe1\u304c\u9867\u5ba2\u306b\u9001\u4fe1\u3055\u308c\u308b |\n@@ -222,13 +222,13 @@\n\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | C-008 |\n | ------------- | ----- |\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30b9\u30bf\u30c3\u30d5\u3078\u306e\u554f\u3044\u5408\u308f\u305b\u9001\u4fe1 |\n+| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u8077\u54e1\u3078\u306e\u554f\u3044\u5408\u308f\u305b\u9001\u4fe1 |\n | \u30a2\u30af\u30bf\u30fc | \u9867\u5ba2 |\n-| \u8aac\u660e | \u9867\u5ba2\u304c\u30b9\u30bf\u30c3\u30d5\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b |\n+| \u8aac\u660e | \u9867\u5ba2\u304c\u8077\u54e1\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b |\n | \u4e8b\u524d\u6761\u4ef6 | \u9867\u5ba2\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f |\n-| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30de\u30a4\u30da\u30fc\u30b8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u6a5f\u80fd\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u65b0\u898f\u30e1\u30c3\u30bb\u30fc\u30b8\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af&lt;br&gt;3. \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30bf\u30a4\u30c8\u30eb\u3068\u672c\u6587\u3092\u5165\u529b&lt;br&gt;4. \u5b9b\u5148\u306e\u30b9\u30bf\u30c3\u30d5\u3092\u9078\u629e\u307e\u305f\u306f\u30ab\u30c6\u30b4\u30ea\u3092\u9078\u629e&lt;br&gt;5. \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1 |\n+| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30de\u30a4\u30da\u30fc\u30b8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u6a5f\u80fd\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u65b0\u898f\u30e1\u30c3\u30bb\u30fc\u30b8\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af&lt;br&gt;3. \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30bf\u30a4\u30c8\u30eb\u3068\u672c\u6587\u3092\u5165\u529b&lt;br&gt;4. \u5b9b\u5148\u306e\u8077\u54e1\u3092\u9078\u629e\u307e\u305f\u306f\u30ab\u30c6\u30b4\u30ea\u3092\u9078\u629e&lt;br&gt;5. \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1 |\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 |\n-| \u4e8b\u5f8c\u6761\u4ef6 | \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u30b9\u30bf\u30c3\u30d5\u306b\u9001\u4fe1\u3055\u308c\u308b |\n+| \u4e8b\u5f8c\u6761\u4ef6 | \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8077\u54e1\u306b\u9001\u4fe1\u3055\u308c\u308b |\n\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | C-009 |\n | ------------- | ----- |\n@@ -244,11 +244,11 @@\n | ------------- |---------------------------------------------------|\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u554f\u3044\u5408\u308f\u305b\u8fd4\u4fe1                                           |\n | \u30a2\u30af\u30bf\u30fc | \u9867\u5ba2                                                |\n-| \u8aac\u660e | \u9867\u5ba2\u304c\u30b9\u30bf\u30c3\u30d5\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u8fd4\u4fe1\u3059\u308b                                |\n-| \u4e8b\u524d\u6761\u4ef6 | \u9867\u5ba2\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u30b9\u30bf\u30c3\u30d5\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9001\u4fe1\u6e08\u307f                        |\n+| \u8aac\u660e | \u9867\u5ba2\u304c\u8077\u54e1\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u8fd4\u4fe1\u3059\u308b                                |\n+| \u4e8b\u524d\u6761\u4ef6 | \u9867\u5ba2\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u8077\u54e1\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9001\u4fe1\u6e08\u307f                        |\n | \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30de\u30a4\u30da\u30fc\u30b8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u5c65\u6b74\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u30e1\u30c3\u30bb\u30fc\u30b8\u30b9\u30ec\u30c3\u30c9\u3092\u9078\u629e&lt;br&gt;3. \u8fd4\u4fe1 |\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059                  |\n-| \u4e8b\u5f8c\u6761\u4ef6 | \u8fd4\u4fe1\u304c\u30b9\u30bf\u30c3\u30d5\u306b\u9001\u4fe1\u3055\u308c\u308b                                     |\n+| \u4e8b\u5f8c\u6761\u4ef6 | \u8fd4\u4fe1\u304c\u8077\u54e1\u306b\u9001\u4fe1\u3055\u308c\u308b                                     |\n\n\n ## 5. \u7ba1\u7406\u8005\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\n@@ -275,62 +275,52 @@\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | \u306a\u3057 |\n | \u4e8b\u5f8c\u6761\u4ef6 | \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a2\u30a6\u30c8\u72b6\u614b\u306b\u306a\u308b |\n\n-### 5.2. \u30b9\u30bf\u30c3\u30d5\u7ba1\u7406\n+### 5.2. \u8077\u54e1\u7ba1\u7406\n\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | A-003 |\n | ------------- | ----- |\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210 |\n+| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210 |\n | \u30a2\u30af\u30bf\u30fc | \u7ba1\u7406\u8005 |\n-| \u8aac\u660e | \u7ba1\u7406\u8005\u304c\u65b0\u898f\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b |\n+| \u8aac\u660e | \u7ba1\u7406\u8005\u304c\u65b0\u898f\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b |\n | \u4e8b\u524d\u6761\u4ef6 | \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f |\n-| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30b9\u30bf\u30c3\u30d5\u7ba1\u7406\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u65b0\u898f\u30b9\u30bf\u30c3\u30d5\u4f5c\u6210\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af&lt;br&gt;3. \u30b9\u30bf\u30c3\u30d5\u60c5\u5831\u3092\u5165\u529b&lt;br&gt;4. \u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210 |\n+| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u8077\u54e1\u7ba1\u7406\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u65b0\u898f\u30b9\u30bf\u30c3\u30d5\u4f5c\u6210\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af&lt;br&gt;3. \u30b9\u30bf\u30c3\u30d5\u60c5\u5831\u3092\u5165\u529b&lt;br&gt;4. \u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210 |\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059&lt;br&gt;- \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u91cd\u8907: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a |\n-| \u4e8b\u5f8c\u6761\u4ef6 | \u65b0\u898f\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u308b |\n+| \u4e8b\u5f8c\u6761\u4ef6 | \u65b0\u898f\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u308b |\n\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | A-004 |\n | ------------- | ----- |\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6 |\n+| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6 |\n | \u30a2\u30af\u30bf\u30fc | \u7ba1\u7406\u8005 |\n-| \u8aac\u660e | \u7ba1\u7406\u8005\u304c\u65e2\u5b58\u306e\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u7de8\u96c6\u3059\u308b |\n-| \u4e8b\u524d\u6761\u4ef6 | \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u5b58\u5728\u3059\u308b |\n-| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30b9\u30bf\u30c3\u30d5\u4e00\u89a7\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u7de8\u96c6\u3059\u308b\u30b9\u30bf\u30c3\u30d5\u3092\u9078\u629e&lt;br&gt;3. \u7de8\u96c6\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af&lt;br&gt;4. \u30b9\u30bf\u30c3\u30d5\u60c5\u5831\u3092\u7de8\u96c6&lt;br&gt;5. \u5909\u66f4\u3092\u4fdd\u5b58 |\n+| \u8aac\u660e | \u7ba1\u7406\u8005\u304c\u65e2\u5b58\u306e\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u7de8\u96c6\u3059\u308b |\n+| \u4e8b\u524d\u6761\u4ef6 | \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u5b58\u5728\u3059\u308b |\n+| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u8077\u54e1\u4e00\u89a7\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u7de8\u96c6\u3059\u308b\u30b9\u30bf\u30c3\u30d5\u3092\u9078\u629e&lt;br&gt;3. \u7de8\u96c6\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af&lt;br&gt;4. \u30b9\u30bf\u30c3\u30d5\u60c5\u5831\u3092\u7de8\u96c6&lt;br&gt;5. \u5909\u66f4\u3092\u4fdd\u5b58 |\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 |\n-| \u4e8b\u5f8c\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u60c5\u5831\u304c\u66f4\u65b0\u3055\u308c\u308b |\n+| \u4e8b\u5f8c\u6761\u4ef6 | \u8077\u54e1\u60c5\u5831\u304c\u66f4\u65b0\u3055\u308c\u308b |\n\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | A-005 |\n | ------------- | ----- |\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u505c\u6b62/\u518d\u958b |\n+| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u505c\u6b62/\u518d\u958b |\n | \u30a2\u30af\u30bf\u30fc | \u7ba1\u7406\u8005 |\n-| \u8aac\u660e | \u7ba1\u7406\u8005\u304c\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u505c\u6b62\u307e\u305f\u306f\u518d\u958b\u3092\u884c\u3046 |\n-| \u4e8b\u524d\u6761\u4ef6 | \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u5b58\u5728\u3059\u308b |\n-| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30b9\u30bf\u30c3\u30d5\u4e00\u89a7\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u5bfe\u8c61\u306e\u30b9\u30bf\u30c3\u30d5\u3092\u9078\u629e&lt;br&gt;3. \u505c\u6b62/\u518d\u958b\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af&lt;br&gt;4. \u78ba\u8a8d\u30c0\u30a4\u30a2\u30ed\u30b0\u3067\u78ba\u8a8d |\n+| \u8aac\u660e | \u7ba1\u7406\u8005\u304c\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u505c\u6b62\u307e\u305f\u306f\u518d\u958b\u3092\u884c\u3046 |\n+| \u4e8b\u524d\u6761\u4ef6 | \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u5b58\u5728\u3059\u308b |\n+| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u8077\u54e1\u4e00\u89a7\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u5bfe\u8c61\u306e\u30b9\u30bf\u30c3\u30d5\u3092\u9078\u629e&lt;br&gt;3. \u505c\u6b62/\u518d\u958b\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af&lt;br&gt;4. \u78ba\u8a8d\u30c0\u30a4\u30a2\u30ed\u30b0\u3067\u78ba\u8a8d |\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | \u306a\u3057 |\n-| \u4e8b\u5f8c\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u72b6\u614b\u304c\u5909\u66f4\u3055\u308c\u308b |\n+| \u4e8b\u5f8c\u6761\u4ef6 | \u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u72b6\u614b\u304c\u5909\u66f4\u3055\u308c\u308b |\n\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | A-006 |\n | ------------- | ----- |\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30b9\u30bf\u30c3\u30d5\u30a4\u30d9\u30f3\u30c8\u30ed\u30b0\u78ba\u8a8d |\n+| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u8077\u54e1\u30a4\u30d9\u30f3\u30c8\u30ed\u30b0\u78ba\u8a8d |\n | \u30a2\u30af\u30bf\u30fc | \u7ba1\u7406\u8005 |\n-| \u8aac\u660e | \u7ba1\u7406\u8005\u304c\u30b9\u30bf\u30c3\u30d5\u306e\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u30ed\u30b0\u3092\u78ba\u8a8d\u3059\u308b |\n-| \u4e8b\u524d\u6761\u4ef6 | \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u5b58\u5728\u3059\u308b |\n-| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30b9\u30bf\u30c3\u30d5\u8a73\u7d30\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u30a4\u30d9\u30f3\u30c8\u30ed\u30b0\u30bf\u30d6\u3092\u9078\u629e&lt;br&gt;3. \u30ed\u30b0\u3092\u95b2\u89a7 |\n+| \u8aac\u660e | \u7ba1\u7406\u8005\u304c\u8077\u54e1\u306e\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u30ed\u30b0\u3092\u78ba\u8a8d\u3059\u308b |\n+| \u4e8b\u524d\u6761\u4ef6 | \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u5b58\u5728\u3059\u308b |\n+| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u8077\u54e1\u8a73\u7d30\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u30a4\u30d9\u30f3\u30c8\u30ed\u30b0\u30bf\u30d6\u3092\u9078\u629e&lt;br&gt;3. \u30ed\u30b0\u3092\u95b2\u89a7 |\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30ed\u30b0\u306a\u3057: \u30ed\u30b0\u304c\u306a\u3044\u65e8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a |\n-| \u4e8b\u5f8c\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u306e\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u30ed\u30b0\u304c\u8868\u793a\u3055\u308c\u308b |\n+| \u4e8b\u5f8c\u6761\u4ef6 | \u8077\u54e1\u306e\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u30ed\u30b0\u304c\u8868\u793a\u3055\u308c\u308b |\n\n ### 5.3. \u30b7\u30b9\u30c6\u30e0\u7ba1\u7406\n\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | A-007 |\n | ------------- | ----- |\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30b7\u30b9\u30c6\u30e0\u8a2d\u5b9a\u7ba1\u7406 |\n-| \u30a2\u30af\u30bf\u30fc | \u7ba1\u7406\u8005 |\n-| \u8aac\u660e | \u7ba1\u7406\u8005\u304c\u30b7\u30b9\u30c6\u30e0\u5168\u4f53\u306e\u8a2d\u5b9a\u3092\u7ba1\u7406\u3059\u308b |\n-| \u4e8b\u524d\u6761\u4ef6 | \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f |\n-| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30b7\u30b9\u30c6\u30e0\u8a2d\u5b9a\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u8a2d\u5b9a\u9805\u76ee\u3092\u7de8\u96c6&lt;br&gt;3. \u5909\u66f4\u3092\u4fdd\u5b58 |\n-| \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 |\n-| \u4e8b\u5f8c\u6761\u4ef6 | \u30b7\u30b9\u30c6\u30e0\u8a2d\u5b9a\u304c\u66f4\u65b0\u3055\u308c\u308b |\n-\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | A-008 |\n-| ------------- | ----- |\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30a2\u30af\u30bb\u30b9\u5236\u9650IP\u30a2\u30c9\u30ec\u30b9\u7ba1\u7406 |\n | \u30a2\u30af\u30bf\u30fc | \u7ba1\u7406\u8005 |\n | \u8aac\u660e | \u7ba1\u7406\u8005\u304c\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\u3059\u308bIP\u30a2\u30c9\u30ec\u30b9\u3092\u7ba1\u7406\u3059\u308b |\n@@ -339,50 +329,6 @@\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 |\n | \u4e8b\u5f8c\u6761\u4ef6 | \u30a2\u30af\u30bb\u30b9\u5236\u9650\u8a2d\u5b9a\u304c\u66f4\u65b0\u3055\u308c\u308b |\n\n-## 6. \u30b7\u30b9\u30c6\u30e0\u9593\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\n-\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | SYS-001 |\n-| ------------- | ----- |\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u81ea\u52d5\u30e1\u30fc\u30eb\u9001\u4fe1 |\n-| \u30a2\u30af\u30bf\u30fc | \u30b7\u30b9\u30c6\u30e0 |\n-| \u8aac\u660e | \u30b7\u30b9\u30c6\u30e0\u304c\u7279\u5b9a\u306e\u30a4\u30d9\u30f3\u30c8\u767a\u751f\u6642\u306b\u81ea\u52d5\u7684\u306b\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b |\n-| \u4e8b\u524d\u6761\u4ef6 | \u5bfe\u8c61\u30a4\u30d9\u30f3\u30c8\u304c\u767a\u751f\u3057\u3066\u3044\u308b\uff08\u4e88\u7d04\u5b8c\u4e86\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u53d7\u4fe1\u306a\u3069\uff09 |\n-| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30a4\u30d9\u30f3\u30c8\u767a\u751f\u3092\u691c\u77e5&lt;br&gt;2. \u30e1\u30fc\u30eb\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u9078\u629e&lt;br&gt;3. \u5fc5\u8981\u306a\u60c5\u5831\u3092\u57cb\u3081\u8fbc\u3080&lt;br&gt;4. \u30e1\u30fc\u30eb\u3092\u9001\u4fe1 |\n-| \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30e1\u30fc\u30eb\u9001\u4fe1\u5931\u6557: \u30a8\u30e9\u30fc\u3092\u30ed\u30b0\u306b\u8a18\u9332\u3057\u518d\u9001\u3092\u8a66\u307f\u308b |\n-| \u4e8b\u5f8c\u6761\u4ef6 | \u30e1\u30fc\u30eb\u304c\u9001\u4fe1\u3055\u308c\u308b |\n-\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | SYS-002 |\n-| ------------- | ----- |\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30d7\u30ed\u30b0\u30e9\u30e0\u958b\u59cb\u901a\u77e5 |\n-| \u30a2\u30af\u30bf\u30fc | \u30b7\u30b9\u30c6\u30e0 |\n-| \u8aac\u660e | \u30b7\u30b9\u30c6\u30e0\u304c\u30d7\u30ed\u30b0\u30e9\u30e0\u958b\u59cb\u524d\u306b\u53c2\u52a0\u8005\u306b\u901a\u77e5\u3059\u308b |\n-| \u4e8b\u524d\u6761\u4ef6 | \u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u767b\u9332\u6e08\u307f\u3001\u53c2\u52a0\u8005\u304c\u5b58\u5728\u3059\u308b |\n-| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3055\u308c\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u901a\u77e5\u51e6\u7406\u3092\u5b9f\u884c&lt;br&gt;2. \u53c2\u52a0\u8005\u30ea\u30b9\u30c8\u3092\u53d6\u5f97&lt;br&gt;3. \u5404\u53c2\u52a0\u8005\u306b\u901a\u77e5\u3092\u9001\u4fe1 |\n-| \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u901a\u77e5\u9001\u4fe1\u5931\u6557: \u30a8\u30e9\u30fc\u3092\u30ed\u30b0\u306b\u8a18\u9332 |\n-| \u4e8b\u5f8c\u6761\u4ef6 | \u53c2\u52a0\u8005\u306b\u901a\u77e5\u304c\u9001\u4fe1\u3055\u308c\u308b |\n-\n-## 7. \u975e\u6a5f\u80fd\u8981\u4ef6\u306b\u95a2\u9023\u3059\u308b\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\n-\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | NF-001 |\n-| ------------- | ----- |\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30b7\u30b9\u30c6\u30e0\u76e3\u8996 |\n-| \u30a2\u30af\u30bf\u30fc | \u7ba1\u7406\u8005 |\n-| \u8aac\u660e | \u7ba1\u7406\u8005\u304c\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3068\u5065\u5168\u6027\u3092\u76e3\u8996\u3059\u308b |\n-| \u4e8b\u524d\u6761\u4ef6 | \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f |\n-| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30b7\u30b9\u30c6\u30e0\u76e3\u8996\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6307\u6a19\u3092\u78ba\u8a8d&lt;br&gt;3. \u30a8\u30e9\u30fc\u30ed\u30b0\u3092\u78ba\u8a8d&lt;br&gt;4. \u5fc5\u8981\u306b\u5fdc\u3058\u3066\u5bfe\u5fdc\u7b56\u3092\u5b9f\u65bd |\n-| \u4ee3\u66ff\u30d5\u30ed\u30fc | \u306a\u3057 |\n-| \u4e8b\u5f8c\u6761\u4ef6 | \u30b7\u30b9\u30c6\u30e0\u72b6\u614b\u304c\u628a\u63e1\u3055\u308c\u308b |\n-\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | NF-002 |\n-| ------------- | ----- |\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30c7\u30fc\u30bf\u30d0\u30c3\u30af\u30a2\u30c3\u30d7 |\n-| \u30a2\u30af\u30bf\u30fc | \u30b7\u30b9\u30c6\u30e0 |\n-| \u8aac\u660e | \u30b7\u30b9\u30c6\u30e0\u304c\u5b9a\u671f\u7684\u306b\u30c7\u30fc\u30bf\u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u5b9f\u884c\u3059\u308b |\n-| \u4e8b\u524d\u6761\u4ef6 | \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b |\n-| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3055\u308c\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30d7\u30ed\u30bb\u30b9\u3092\u958b\u59cb&lt;br&gt;2. \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u53d6\u5f97&lt;br&gt;3. \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58&lt;br&gt;4. \u53e4\u3044\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30d5\u30a1\u30a4\u30eb\u306e\u6574\u7406 |\n-| \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u5931\u6557: \u30a8\u30e9\u30fc\u3092\u30ed\u30b0\u306b\u8a18\u9332\u3057\u7ba1\u7406\u8005\u306b\u901a\u77e5 |\n-| \u4e8b\u5f8c\u6761\u4ef6 | \u30c7\u30fc\u30bf\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u304c\u4f5c\u6210\u3055\u308c\u308b |\n-\n ## 8. \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u95a2\u9023\u56f3\n\n \u4ee5\u4e0b\u306f\u3001Baukis-Kai\u30b7\u30b9\u30c6\u30e0\u306e\u4e3b\u8981\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3068\u30a2\u30af\u30bf\u30fc\u9593\u306e\u95a2\u4fc2\u3092\u793a\u3059UML\u56f3\u3067\u3059\u3002\n@@ -401,15 +347,14 @@ skinparam usecase {\n   ActorFontColor black\n }\n\n-actor \"\u30b9\u30bf\u30c3\u30d5\" as Staff\n+actor \"\u8077\u54e1\" as Staff\n actor \"\u9867\u5ba2\" as Customer\n actor \"\u7ba1\u7406\u8005\" as Admin\n-actor \"\u30b7\u30b9\u30c6\u30e0\" as System\n\n-rectangle \"\u30b9\u30bf\u30c3\u30d5\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\" {\n-  usecase \"\u30b9\u30bf\u30c3\u30d5\u30ed\u30b0\u30a4\u30f3\" as S001\n-  usecase \"\u30b9\u30bf\u30c3\u30d5\u30ed\u30b0\u30a2\u30a6\u30c8\" as S002\n-  usecase \"\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u66f4\u65b0\" as S003\n+rectangle \"\u8077\u54e1\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\" {\n+  usecase \"\u8077\u54e1\u30ed\u30b0\u30a4\u30f3\" as S001\n+  usecase \"\u8077\u54e1\u30ed\u30b0\u30a2\u30a6\u30c8\" as S002\n+  usecase \"\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u66f4\u65b0\" as S003\n   usecase \"\u9867\u5ba2\u60c5\u5831\u767b\u9332\" as S004\n   usecase \"\u9867\u5ba2\u60c5\u5831\u691c\u7d22\" as S005\n   usecase \"\u9867\u5ba2\u60c5\u5831\u66f4\u65b0\" as S006\n@@ -429,30 +374,18 @@ rectangle \"\u9867\u5ba2\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\" {\n   usecase \"\u30d7\u30ed\u30b0\u30e9\u30e0\u95b2\u89a7\" as C005\n   usecase \"\u30d7\u30ed\u30b0\u30e9\u30e0\u4e88\u7d04\" as C006\n   usecase \"\u4e88\u7d04\u30ad\u30e3\u30f3\u30bb\u30eb\" as C007\n-  usecase \"\u30b9\u30bf\u30c3\u30d5\u3078\u306e\u554f\u3044\u5408\u308f\u305b\u9001\u4fe1\" as C008\n+  usecase \"\u8077\u54e1\u3078\u306e\u554f\u3044\u5408\u308f\u305b\u9001\u4fe1\" as C008\n   usecase \"\u554f\u3044\u5408\u308f\u305b\u5c65\u6b74\u78ba\u8a8d\" as C009\n }\n\n rectangle \"\u7ba1\u7406\u8005\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\" {\n   usecase \"\u7ba1\u7406\u8005\u30ed\u30b0\u30a4\u30f3\" as A001\n   usecase \"\u7ba1\u7406\u8005\u30ed\u30b0\u30a2\u30a6\u30c8\" as A002\n-  usecase \"\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210\" as A003\n-  usecase \"\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\ufffd\ufffd\ufffd\" as A004\n-  usecase \"\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u505c\u6b62/\u518d\u958b\" as A005\n-  usecase \"\u30b9\u30bf\u30c3\u30d5\u30a4\u30d9\u30f3\u30c8\u30ed\u30b0\u78ba\u8a8d\" as A006\n-  usecase \"\u30b7\u30b9\u30c6\u30e0\u8a2d\u5b9a\u7ba1\u7406\" as A007\n+  usecase \"\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210\" as A003\n+  usecase \"\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\ufffd\ufffd\ufffd\" as A004\n+  usecase \"\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u505c\u6b62/\u518d\u958b\" as A005\n+  usecase \"\u8077\u54e1\u30a4\u30d9\u30f3\u30c8\u30ed\u30b0\u78ba\u8a8d\" as A006\n   usecase \"\u30a2\u30af\u30bb\u30b9\u5236\u9650IP\u30a2\u30c9\u30ec\u30b9\u7ba1\u7406\" as A008\n-  usecase \"\u30bf\u30b0\u7ba1\u7406\" as A009\n-}\n-\n-rectangle \"\u30b7\u30b9\u30c6\u30e0\u9593\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\" {\n-  usecase \"\u81ea\u52d5\u30e1\u30fc\u30eb\u9001\u4fe1\" as SYS001\n-  usecase \"\u30d7\u30ed\u30b0\u30e9\u30e0\u958b\u59cb\u901a\u77e5\" as SYS002\n-}\n-\n-rectangle \"\u975e\u6a5f\u80fd\u8981\u4ef6\u306b\u95a2\u9023\u3059\u308b\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\" {\n-  usecase \"\u30b7\u30b9\u30c6\u30e0\u76e3\u8996\" as NF001\n-  usecase \"\u30c7\u30fc\u30bf\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\" as NF002\n }\n\n Staff --&gt; S001\n@@ -468,15 +401,15 @@ Staff --&gt; S010\n Staff --&gt; S011\n Staff --&gt; S012\n\n-Customer --&gt; C001\n-Customer --&gt; C002\n-Customer --&gt; C003\n-Customer --&gt; C004\n-Customer --&gt; C005\n-Customer --&gt; C006\n-Customer --&gt; C007\n-Customer --&gt; C008\n-Customer --&gt; C009\n+C001 &lt;-- Customer\n+C002 &lt;-- Customer\n+C003 &lt;-- Customer\n+C004 &lt;-- Customer\n+C005 &lt;-- Customer\n+C006 &lt;-- Customer\n+C007 &lt;-- Customer\n+C008 &lt;-- Customer\n+C009 &lt;-- Customer\n\n Admin --&gt; A001\n Admin --&gt; A002\n@@ -484,14 +417,7 @@ Admin --&gt; A003\n Admin --&gt; A004\n Admin --&gt; A005\n Admin --&gt; A006\n-Admin --&gt; A007\n Admin --&gt; A008\n-Admin --&gt; A009\n-Admin --&gt; NF001\n-\n-System --&gt; SYS001\n-System --&gt; SYS002\n-System --&gt; NF002\n\n S010 ..&gt; C009 : &lt;&lt;extend&gt;&gt;\n S011 ..&gt; C008 : &lt;&lt;extend&gt;&gt;\n</code></pre>"},{"location":"journal/20250610/#72de0b8","title":"\u30b3\u30df\u30c3\u30c8: 72de0b8","text":""},{"location":"journal/20250610/#_16","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>test(WIP):E2E\u30c6\u30b9\u30c8\n</code></pre>"},{"location":"journal/20250610/#_17","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M spec/features/staff/message_management_spec.rb</li> </ul>"},{"location":"journal/20250610/#_18","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 72de0b863e8b81e58fea1eda5817d45b870cd569\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jun 10 15:11:35 2025 +0900\n\n    test(WIP):E2E\u30c6\u30b9\u30c8\n\ndiff --git a/spec/features/staff/message_management_spec.rb b/spec/features/staff/message_management_spec.rb\nindex 18c6b9f..4561273 100644\n--- a/spec/features/staff/message_management_spec.rb\n+++ b/spec/features/staff/message_management_spec.rb\n@@ -1,6 +1,6 @@\n require 'rails_helper'\n\n-feature '\u30b9\u30bf\u30c3\u30d5\u306b\u3088\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u7ba1\u7406' do\n+feature '\u8077\u54e1\u306b\u3088\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u7ba1\u7406' do\n   include FeaturesSpecHelper\n   include PerformanceSpecHelper\n   let(:staff_member) { create(:staff_member) }\n@@ -18,24 +18,24 @@ feature '\u30b9\u30bf\u30c3\u30d5\u306b\u3088\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u7ba1\u7406' do\n     login_as_staff_member(staff_member)\n   end\n\n-  scenario '\u30b9\u30bf\u30c3\u30d5\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b' do\n+  scenario '\u8077\u54e1\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b' do\n     visit staff_messages_path\n     expect(page).to have_css('h1', text: I18n.t('staff.messages.index.title_index'))\n     expect(page).to have_content('Hello')\n   end\n\n-  scenario '\u30b9\u30bf\u30c3\u30d5\u304c\u554f\u3044\u5408\u308f\u305b\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b' do\n+  scenario '\u8077\u54e1\u304c\u554f\u3044\u5408\u308f\u305b\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b' do\n     visit inbound_staff_messages_path\n     expect(page).to have_css('h1', text: I18n.t('staff.messages.index.title_inbound'))\n     expect(page).to have_content('Hello')\n   end\n\n-  scenario '\u30b9\u30bf\u30c3\u30d5\u304c\u8fd4\u4fe1\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b' do\n+  scenario '\u8077\u54e1\u304c\u8fd4\u4fe1\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b' do\n     visit outbound_staff_messages_path\n     expect(page).to have_css('h1', text: I18n.t('staff.messages.index.title_outbound'))\n   end\n\n-  scenario '\u30b9\u30bf\u30c3\u30d5\u304c\u9867\u5ba2\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u8fd4\u4fe1\u3059\u308b' do\n+  scenario '\u8077\u54e1\u304c\u9867\u5ba2\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u8fd4\u4fe1\u3059\u308b' do\n     visit staff_message_path(root_message)\n     within('.Table__links') do\n       click_link I18n.t('staff.messages.show.reply')\n@@ -50,7 +50,7 @@ feature '\u30b9\u30bf\u30c3\u30d5\u306b\u3088\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u7ba1\u7406' do\n     expect(StaffMessage.find_by(subject: 'Re: Hello', staff_member: staff_member)).to be_present\n   end\n\n-  scenario '\u30b9\u30bf\u30c3\u30d5\u304c\u554f\u3044\u5408\u308f\u305b\u3092\u524a\u9664\u3059\u308b' do\n+  scenario '\u8077\u54e1\u304c\u554f\u3044\u5408\u308f\u305b\u3092\u524a\u9664\u3059\u308b' do\n     visit staff_message_path(root_message)\n     expect(page).to have_css('h1', text: '\u30e1\u30c3\u30bb\u30fc\u30b8\u8a73\u7d30')\n</code></pre>"},{"location":"journal/20250610/#356390d","title":"\u30b3\u30df\u30c3\u30c8: 356390d","text":""},{"location":"journal/20250610/#_19","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>test(WIP):E2E\u30c6\u30b9\u30c8\n</code></pre>"},{"location":"journal/20250610/#_20","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M spec/features/staff/message_management_spec.rb</li> </ul>"},{"location":"journal/20250610/#_21","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 356390d0a333a674270edff57e1a16cc9f1c0f22\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jun 10 15:11:04 2025 +0900\n\n    test(WIP):E2E\u30c6\u30b9\u30c8\n\ndiff --git a/spec/features/staff/message_management_spec.rb b/spec/features/staff/message_management_spec.rb\nindex 763d243..18c6b9f 100644\n--- a/spec/features/staff/message_management_spec.rb\n+++ b/spec/features/staff/message_management_spec.rb\n@@ -1,34 +1,66 @@\n require 'rails_helper'\n\n-feature '\u30e1\u30c3\u30bb\u30fc\u30b8\u7ba1\u7406\u6a5f\u80fd' do\n+feature '\u30b9\u30bf\u30c3\u30d5\u306b\u3088\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u7ba1\u7406' do\n   include FeaturesSpecHelper\n   include PerformanceSpecHelper\n   let(:staff_member) { create(:staff_member) }\n-  let!(:root_message) { create(:customer_message, subject: 'Hello') }\n-  let!(:reply1) { create(:staff_message, parent: root_message) }\n-  let!(:message1) { create(:customer_message, parent: reply1) }\n-  let!(:message2) { create(:customer_message, parent: reply1) }\n-  let!(:reply2) { create(:staff_message, parent: message1) }\n-  let!(:reply3) { create(:staff_message, parent: message1) }\n-  let!(:message3) { create(:customer_message, parent: reply3) }\n+  let(:customer) { create(:customer) }\n+  let!(:root_message) { create(:customer_message, subject: 'Hello', customer: customer) }\n+  let!(:reply1) { create(:staff_message, parent: root_message, staff_member: staff_member) }\n+  let!(:message1) { create(:customer_message, parent: reply1, customer: customer) }\n+  let!(:message2) { create(:customer_message, parent: reply1, customer: customer) }\n+  let!(:reply2) { create(:staff_message, parent: message1, staff_member: staff_member) }\n+  let!(:reply3) { create(:staff_message, parent: message1, staff_member: staff_member) }\n+  let!(:message3) { create(:customer_message, parent: reply3, customer: customer) }\n\n   before do\n     switch_namespace(:staff)\n     login_as_staff_member(staff_member)\n   end\n\n-  scenario '\u30e1\u30c3\u30bb\u30fc\u30b8\u30c4\u30ea\u30fc\u306e\u8868\u793a', :performance do |example|\n-    visit staff_message_path(message1)\n+  scenario '\u30b9\u30bf\u30c3\u30d5\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b' do\n+    visit staff_messages_path\n+    expect(page).to have_css('h1', text: I18n.t('staff.messages.index.title_index'))\n+    expect(page).to have_content('Hello')\n+  end\n+\n+  scenario '\u30b9\u30bf\u30c3\u30d5\u304c\u554f\u3044\u5408\u308f\u305b\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b' do\n+    visit inbound_staff_messages_path\n+    expect(page).to have_css('h1', text: I18n.t('staff.messages.index.title_inbound'))\n+    expect(page).to have_content('Hello')\n+  end\n+\n+  scenario '\u30b9\u30bf\u30c3\u30d5\u304c\u8fd4\u4fe1\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b' do\n+    visit outbound_staff_messages_path\n+    expect(page).to have_css('h1', text: I18n.t('staff.messages.index.title_outbound'))\n+  end\n+\n+  scenario '\u30b9\u30bf\u30c3\u30d5\u304c\u9867\u5ba2\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u8fd4\u4fe1\u3059\u308b' do\n+    visit staff_message_path(root_message)\n+    within('.Table__links') do\n+      click_link I18n.t('staff.messages.show.reply')\n+    end\n+\n+    fill_in I18n.t('activerecord.attributes.message.subject'), with: 'Re: Hello'\n+    fill_in I18n.t('activerecord.attributes.message.body'), with: 'This is a reply to your message.'\n+    click_button I18n.t('staff.replies.new.confirm')\n+    click_button I18n.t('staff.replies.confirm.send')\n+\n+    expect(page).to have_css('.Flash__notice', text: I18n.t('staff.replies.create.flash_notice'))\n+    expect(StaffMessage.find_by(subject: 'Re: Hello', staff_member: staff_member)).to be_present\n+  end\n+\n+  scenario '\u30b9\u30bf\u30c3\u30d5\u304c\u554f\u3044\u5408\u308f\u305b\u3092\u524a\u9664\u3059\u308b' do\n+    visit staff_message_path(root_message)\n     expect(page).to have_css('h1', text: '\u30e1\u30c3\u30bb\u30fc\u30b8\u8a73\u7d30')\n-    expect(page).to have_css('li a', text: 'Hello')\n\n-    elapsed = Benchmark.realtime do\n-      100.times do\n-        visit staff_message_path(message1)\n-      end\n+    visit staff_messages_path\n+\n+    within(\"tr\", text: root_message.subject) do\n+      click_link I18n.t('staff.messages.index.delete')\n     end\n\n-    write_to_performance_log(example, elapsed)\n-    expect(elapsed).to be &lt; 100.0\n+    expect(page).to have_css('.Flash__notice', text: I18n.t('staff.messages.destroy.flash_notice'))\n+    expect(Message.find(root_message.id).deleted).to be true\n   end\n-end\n\\ No newline at end of file\n+end\n</code></pre>"},{"location":"journal/20250610/#6d58199","title":"\u30b3\u30df\u30c3\u30c8: 6d58199","text":""},{"location":"journal/20250610/#_22","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>test(WIP):E2E\u30c6\u30b9\u30c8\n</code></pre>"},{"location":"journal/20250610/#_23","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/controllers/staff/messages_controller.rb</li> <li>M config/locales/controllers/ja.yml</li> <li>M \"docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\"</li> <li>M spec/features/admin/staff_management_spec.rb</li> <li>M spec/features/staff/customer_management_spec.rb</li> </ul>"},{"location":"journal/20250610/#_24","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 6d58199c85407137dc14704a0bec3563509c9758\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jun 10 14:50:17 2025 +0900\n\n    test(WIP):E2E\u30c6\u30b9\u30c8\n\ndiff --git a/app/controllers/staff/messages_controller.rb b/app/controllers/staff/messages_controller.rb\nindex 00b5e99..815a060 100644\n--- a/app/controllers/staff/messages_controller.rb\n+++ b/app/controllers/staff/messages_controller.rb\n@@ -45,7 +45,8 @@ class Staff::MessagesController &lt; Staff::Base\n     message = CustomerMessage.find(params[:id])\n     message.update_column(:deleted, true)\n     flash.notice = t('.flash_notice')\n-    redirect_to :back\n+\n+    redirect_back(fallback_location: staff_message_path)\n   end\n\n   # POST/DELETE\ndiff --git a/config/locales/controllers/ja.yml b/config/locales/controllers/ja.yml\nindex 97ff6e3..4d16ae0 100644\n--- a/config/locales/controllers/ja.yml\n+++ b/config/locales/controllers/ja.yml\n@@ -30,7 +30,7 @@ ja:\n         flash_notice: '\u9867\u5ba2\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002'\n         flash_alert: '\u5165\u529b\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002'\n       destroy:\n-        flash_notice: '\u9867\u5ba2\u3092\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'\n+        flash_notice: '\u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002'\n     programs:\n       create:\n         flash_notice: '\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u767b\u9332\u3057\u307e\u3057\u305f\u3002'\ndiff --git \"a/docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\" \"b/docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\"\nindex 41923d3..8d89046 100644\n--- \"a/docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\"\n+++ \"b/docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\"\n@@ -218,7 +218,7 @@\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30ad\u30e3\u30f3\u30bb\u30eb\u671f\u9650\u8d85\u904e: \u30ad\u30e3\u30f3\u30bb\u30eb\u3067\u304d\u306a\u3044\u65e8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a |\n | \u4e8b\u5f8c\u6761\u4ef6 | \u4e88\u7d04\u304c\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u308b |\n\n-### 4.3. \u30e1\u30c3\u30bb\u30fc\u30b8\u30f3\u30b0\n+### 4.3. \u554f\u3044\u5408\u308f\u305b\n\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | C-008 |\n | ------------- | ----- |\n@@ -240,6 +240,17 @@\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30e1\u30c3\u30bb\u30fc\u30b8\u306a\u3057: \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u306a\u3044\u65e8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a |\n | \u4e8b\u5f8c\u6761\u4ef6 | \u30e1\u30c3\u30bb\u30fc\u30b8\u5c65\u6b74\u304c\u8868\u793a\u3055\u308c\u308b |\n\n+| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | C-010                                             |\n+| ------------- |---------------------------------------------------|\n+| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u554f\u3044\u5408\u308f\u305b\u8fd4\u4fe1                                           |\n+| \u30a2\u30af\u30bf\u30fc | \u9867\u5ba2                                                |\n+| \u8aac\u660e | \u9867\u5ba2\u304c\u30b9\u30bf\u30c3\u30d5\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u8fd4\u4fe1\u3059\u308b                                |\n+| \u4e8b\u524d\u6761\u4ef6 | \u9867\u5ba2\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u30b9\u30bf\u30c3\u30d5\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9001\u4fe1\u6e08\u307f                        |\n+| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30de\u30a4\u30da\u30fc\u30b8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u5c65\u6b74\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u30e1\u30c3\u30bb\u30fc\u30b8\u30b9\u30ec\u30c3\u30c9\u3092\u9078\u629e&lt;br&gt;3. \u8fd4\u4fe1 |\n+| \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059                  |\n+| \u4e8b\u5f8c\u6761\u4ef6 | \u8fd4\u4fe1\u304c\u30b9\u30bf\u30c3\u30d5\u306b\u9001\u4fe1\u3055\u308c\u308b                                     |\n+\n+\n ## 5. \u7ba1\u7406\u8005\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\n\n ### 5.1. \u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\ndiff --git a/spec/features/admin/staff_management_spec.rb b/spec/features/admin/staff_management_spec.rb\nindex a816337..d7c215e 100644\n--- a/spec/features/admin/staff_management_spec.rb\n+++ b/spec/features/admin/staff_management_spec.rb\n@@ -61,4 +61,13 @@ feature '\u7ba1\u7406\u8005\u306b\u3088\u308b\u30b9\u30bf\u30c3\u30d5\u7ba1\u7406' do\n     expect(page).to have_css('.Flash__notice', text: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002')\n     expect(staff_member.reload.suspended).to be_falsey\n   end\n+\n+  scenario '\u7ba1\u7406\u8005\u304c\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u524a\u9664\u3059\u308b' do\n+    staff_member = create(:staff_member)\n+    visit admin_staff_members_path\n+\n+    first('a', text: I18n.t('admin.staff_members.index.delete')).click\n+\n+    expect(page).to have_css('.Flash__notice', text: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002')\n+  end\n end\n\\ No newline at end of file\ndiff --git a/spec/features/staff/customer_management_spec.rb b/spec/features/staff/customer_management_spec.rb\nindex 2ce6bbe..9847cd7 100644\n--- a/spec/features/staff/customer_management_spec.rb\n+++ b/spec/features/staff/customer_management_spec.rb\n@@ -118,4 +118,11 @@ feature '\u8077\u54e1\u306b\u3088\u308b\u9867\u5ba2\u7ba1\u7406' do\n     customer.reload\n     expect(customer.work_address.company_name).to eq('\u30c6\u30b9\u30c8')\n   end\n+\n+  scenario '\u8077\u54e1\u304c\u9867\u5ba2\u3092\u524a\u9664\u3059\u308b' do\n+    click_link I18n.t('staff.top.dashboard.staff_customers')\n+    first('table.Table__body--listing').click_link I18n.t('staff.customers.index.delete')\n+\n+    expect(page).to have_css('.Flash__notice', text: '\u9867\u5ba2\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u524a\u9664\u3057\u307e\u3057\u305f\u3002')\n+  end\n end\n</code></pre>"},{"location":"journal/20250610/#_25","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20250610/#ec454b9","title":"\u30b3\u30df\u30c3\u30c8: ec454b9","text":""},{"location":"journal/20250610/#_26","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>test(WIP):E2E\u30c6\u30b9\u30c8\n</code></pre>"},{"location":"journal/20250610/#_27","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/controllers/customer/messages_controller.rb</li> <li>M app/models/message.rb</li> <li>M \"docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\"</li> <li>M spec/factories/messages.rb</li> <li>M spec/features/customer/message_management_spec.rb</li> </ul>"},{"location":"journal/20250610/#_28","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit ec454b96d6c5f024cd58a0e33c0a461f376dd634\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Tue Jun 10 14:13:42 2025 +0900\n\n    test(WIP):E2E\u30c6\u30b9\u30c8\n\ndiff --git a/app/controllers/customer/messages_controller.rb b/app/controllers/customer/messages_controller.rb\nindex 2877f1e..8c521f1 100644\n--- a/app/controllers/customer/messages_controller.rb\n+++ b/app/controllers/customer/messages_controller.rb\n@@ -42,7 +42,8 @@ class Customer::MessagesController &lt; Customer::Base\n     message = StaffMessage.find(params[:id])\n     message.update_column(:discarded, true)\n     flash.notice = t('.flash_notice')\n-    redirect_to :back\n+\n+    redirect_back(fallback_location: customer_root_path)\n   end\n\n   private\ndiff --git a/app/models/message.rb b/app/models/message.rb\nindex f9c8853..e54ddaa 100644\n--- a/app/models/message.rb\n+++ b/app/models/message.rb\n@@ -31,7 +31,7 @@\n #\n\n class Message &lt; ApplicationRecord\n-  belongs_to :customer\n+  belongs_to :customer, optional: true\n   belongs_to :staff_member, optional: true\n   belongs_to :root, class_name: 'Message', foreign_key: 'root_id', optional: true\n   belongs_to :parent, class_name: 'Message', foreign_key: 'parent_id', optional: true\ndiff --git \"a/docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\" \"b/docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\"\nindex 2989e6a..41923d3 100644\n--- \"a/docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\"\n+++ \"b/docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\"\n@@ -110,11 +110,11 @@\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u53c2\u52a0\u8005\u306a\u3057: \u53c2\u52a0\u8005\u304c\u3044\u306a\u3044\u65e8\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a |\n | \u4e8b\u5f8c\u6761\u4ef6 | \u53c2\u52a0\u8005\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u66f4\u65b0\u3055\u308c\u308b |\n\n-### 3.4. \u30e1\u30c3\u30bb\u30fc\u30b8\u30f3\u30b0\n+### 3.4. \u554f\u3044\u5408\u308f\u305b\n\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | S-010 |\n | ------------- | ----- |\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u9867\u5ba2\u3078\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1 |\n+| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u9867\u5ba2\u3078\u306e\u554f\u3044\u5408\u308f\u305b\u9001\u4fe1 |\n | \u30a2\u30af\u30bf\u30fc | \u30b9\u30bf\u30c3\u30d5 |\n | \u8aac\u660e | \u30b9\u30bf\u30c3\u30d5\u304c\u9867\u5ba2\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b |\n | \u4e8b\u524d\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u9867\u5ba2\u304c\u767b\u9332\u6e08\u307f |\n@@ -124,7 +124,7 @@\n\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | S-011 |\n | ------------- | ----- |\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u9867\u5ba2\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u78ba\u8a8d |\n+| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u9867\u5ba2\u304b\u3089\u306e\u554f\u3044\u5408\u308f\u305b\u78ba\u8a8d |\n | \u30a2\u30af\u30bf\u30fc | \u30b9\u30bf\u30c3\u30d5 |\n | \u8aac\u660e | \u30b9\u30bf\u30c3\u30d5\u304c\u9867\u5ba2\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u78ba\u8a8d\u3059\u308b |\n | \u4e8b\u524d\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u9867\u5ba2\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9001\u4fe1\u6e08\u307f |\n@@ -134,7 +134,7 @@\n\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | S-012 |\n | ------------- | ----- |\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30e1\u30c3\u30bb\u30fc\u30b8\u8fd4\u4fe1 |\n+| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u554f\u3044\u5408\u308f\u305b\u8fd4\u4fe1 |\n | \u30a2\u30af\u30bf\u30fc | \u30b9\u30bf\u30c3\u30d5 |\n | \u8aac\u660e | \u30b9\u30bf\u30c3\u30d5\u304c\u9867\u5ba2\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u8fd4\u4fe1\u3059\u308b |\n | \u4e8b\u524d\u6761\u4ef6 | \u30b9\u30bf\u30c3\u30d5\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u9867\u5ba2\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9001\u4fe1\u6e08\u307f |\n@@ -222,7 +222,7 @@\n\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | C-008 |\n | ------------- | ----- |\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30b9\u30bf\u30c3\u30d5\u3078\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1 |\n+| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30b9\u30bf\u30c3\u30d5\u3078\u306e\u554f\u3044\u5408\u308f\u305b\u9001\u4fe1 |\n | \u30a2\u30af\u30bf\u30fc | \u9867\u5ba2 |\n | \u8aac\u660e | \u9867\u5ba2\u304c\u30b9\u30bf\u30c3\u30d5\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b |\n | \u4e8b\u524d\u6761\u4ef6 | \u9867\u5ba2\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f |\n@@ -232,7 +232,7 @@\n\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | C-009 |\n | ------------- | ----- |\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30e1\u30c3\u30bb\u30fc\u30b8\u5c65\u6b74\u78ba\u8a8d |\n+| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u554f\u3044\u5408\u308f\u305b\u5c65\u6b74\u78ba\u8a8d |\n | \u30a2\u30af\u30bf\u30fc | \u9867\u5ba2 |\n | \u8aac\u660e | \u9867\u5ba2\u304c\u904e\u53bb\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u3084\u308a\u53d6\u308a\u3092\u78ba\u8a8d\u3059\u308b |\n | \u4e8b\u524d\u6761\u4ef6 | \u9867\u5ba2\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u3084\u308a\u53d6\u308a\u304c\u5b58\u5728\u3059\u308b |\n@@ -405,9 +405,9 @@ rectangle \"\u30b9\u30bf\u30c3\u30d5\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\" {\n   usecase \"\u30d7\u30ed\u30b0\u30e9\u30e0\u4f5c\u6210\" as S007\n   usecase \"\u30d7\u30ed\u30b0\u30e9\u30e0\u66f4\u65b0\" as S008\n   usecase \"\u30d7\u30ed\u30b0\u30e9\u30e0\u53c2\u52a0\u8005\u7ba1\u7406\" as S009\n-  usecase \"\u9867\u5ba2\u3078\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\" as S010\n-  usecase \"\u9867\u5ba2\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u78ba\u8a8d\" as S011\n-  usecase \"\u30e1\u30c3\u30bb\u30fc\u30b8\u8fd4\u4fe1\" as S012\n+  usecase \"\u9867\u5ba2\u3078\u306e\u554f\u3044\u5408\u308f\u305b\u9001\u4fe1\" as S010\n+  usecase \"\u9867\u5ba2\u304b\u3089\u306e\u554f\u3044\u5408\u308f\u305b\u78ba\u8a8d\" as S011\n+  usecase \"\u554f\u3044\u5408\u308f\u305b\u8fd4\u4fe1\" as S012\n }\n\n rectangle \"\u9867\u5ba2\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\" {\n@@ -418,8 +418,8 @@ rectangle \"\u9867\u5ba2\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\" {\n   usecase \"\u30d7\u30ed\u30b0\u30e9\u30e0\u95b2\u89a7\" as C005\n   usecase \"\u30d7\u30ed\u30b0\u30e9\u30e0\u4e88\u7d04\" as C006\n   usecase \"\u4e88\u7d04\u30ad\u30e3\u30f3\u30bb\u30eb\" as C007\n-  usecase \"\u30b9\u30bf\u30c3\u30d5\u3078\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\" as C008\n-  usecase \"\u30e1\u30c3\u30bb\u30fc\u30b8\u5c65\u6b74\u78ba\u8a8d\" as C009\n+  usecase \"\u30b9\u30bf\u30c3\u30d5\u3078\u306e\u554f\u3044\u5408\u308f\u305b\u9001\u4fe1\" as C008\n+  usecase \"\u554f\u3044\u5408\u308f\u305b\u5c65\u6b74\u78ba\u8a8d\" as C009\n }\n\n rectangle \"\u7ba1\u7406\u8005\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\" {\ndiff --git a/spec/factories/messages.rb b/spec/factories/messages.rb\nindex f3b7548..20757bc 100644\n--- a/spec/factories/messages.rb\n+++ b/spec/factories/messages.rb\n@@ -40,7 +40,7 @@ FactoryBot.define do\n   factory :staff_message do\n     subject {'Subject'}\n     body {\"Body.\\nBody.\"}\n-    parent { FactoryGirl.create(:customer_message)}\n+    parent { FactoryBot.create(:customer_message)}\n     staff_member\n   end\n end\ndiff --git a/spec/features/customer/message_management_spec.rb b/spec/features/customer/message_management_spec.rb\nindex 91972d9..20f3550 100644\n--- a/spec/features/customer/message_management_spec.rb\n+++ b/spec/features/customer/message_management_spec.rb\n@@ -11,59 +11,58 @@ feature '\u9867\u5ba2\u306b\u3088\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u7ba1\u7406' do\n   end\n\n   scenario '\u9867\u5ba2\u304c\u30b9\u30bf\u30c3\u30d5\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b' do\n-    visit customer_messages_path\n-    click_link I18n.t('customer.messages.index.new')\n-    \n+    visit new_customer_message_path\n+\n     fill_in I18n.t('activerecord.attributes.message.subject'), with: '\u30c6\u30b9\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8'\n     fill_in I18n.t('activerecord.attributes.message.body'), with: '\u3053\u308c\u306f\u30c6\u30b9\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u3059\u3002'\n-    select staff_member.family_name + staff_member.given_name, from: I18n.t('activerecord.attributes.message.staff_member_id')\n     click_button I18n.t('customer.messages.new.submit')\n+    click_button I18n.t('customer.messages.confirm.update')\n\n-    expect(page).to have_css('.notice', text: I18n.t('customer.messages.create.notice'))\n+    expect(page).to have_css('.Flash__notice', text: I18n.t('customer.messages.create.flash_notice'))\n     expect(Message.find_by(subject: '\u30c6\u30b9\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8', customer: customer)).to be_present\n   end\n\n   scenario '\u9867\u5ba2\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u5c65\u6b74\u3092\u78ba\u8a8d\u3059\u308b' do\n     # Create a message from customer to staff\n-    message = create(:message, customer: customer, staff_member: staff_member)\n+    message = create(:customer_message, customer: customer)\n     # Create a reply from staff to customer\n-    create(:reply, message: message, staff_member: staff_member)\n+    create(:staff_message, parent: message, staff_member: staff_member)\n\n     visit customer_messages_path\n-    click_link message.subject\n-    \n-    expect(page).to have_css('h1', text: message.subject)\n-    expect(page).to have_content(message.body)\n-    expect(page).to have_css('.replies .reply', count: 1)\n+    click_link I18n.t('customer.messages.index.detail')\n+\n+    expect(page).to have_content(message.subject)\n+    expect(page).to have_content(message.body.to_s.delete(\"\\n\"))\n   end\n\n-  scenario '\u9867\u5ba2\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u691c\u7d22\u3059\u308b' do\n-    create(:message, customer: customer, staff_member: staff_member, subject: '\u554f\u3044\u5408\u308f\u305b')\n-    create(:message, customer: customer, staff_member: staff_member, subject: '\u4e88\u7d04\u306b\u3064\u3044\u3066')\n-    \n+  scenario '\u9867\u5ba2\u304c\u30b9\u30bf\u30c3\u30d5\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u56de\u7b54\u3059\u308b' do\n+    # Create a message from customer to staff\n+    message = create(:customer_message, customer: customer)\n+    # Create a reply from staff to customer\n+    create(:staff_message, parent: message, staff_member: staff_member)\n+\n     visit customer_messages_path\n-    fill_in I18n.t('customer.messages.index.search_form.subject'), with: '\u4e88\u7d04'\n-    click_button I18n.t('customer.messages.index.search_form.submit')\n-    \n-    expect(page).to have_content('\u4e88\u7d04\u306b\u3064\u3044\u3066')\n-    expect(page).not_to have_content('\u554f\u3044\u5408\u308f\u305b')\n+    click_link I18n.t('customer.messages.index.detail')\n+    click_link I18n.t('customer.messages.show.reply')\n+    fill_in I18n.t('activerecord.attributes.message.subject'), with: '\u56de\u7b54\u30c6\u30b9\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8'\n+    fill_in I18n.t('activerecord.attributes.message.body'), with: '\u3053\u308c\u306f\u56de\u7b54\u30c6\u30b9\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u3059\u3002'\n+    click_button I18n.t('customer.replies.new.submit')\n+    click_button I18n.t('customer.replies.confirm.send')\n+\n+    expect(page).to have_css('.Flash__notice', text: I18n.t('customer.replies.create.flash_notice'))\n+    expect(Message.find_by(subject: '\u56de\u7b54\u30c6\u30b9\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8', customer: customer)).to be_present\n   end\n\n-  scenario '\u9867\u5ba2\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u30bf\u30b0\u3092\u4ed8\u3051\u308b' do\n-    tag = create(:tag, value: '\u30c6\u30b9\u30c8\u30bf\u30b0')\n-    \n+  scenario '\u9867\u5ba2\u304c\u30b9\u30bf\u30c3\u30d5\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u524a\u9664\u3059\u308b' do\n+    # Create a message from customer to staff\n+    message = create(:customer_message, customer: customer)\n+    # Create a reply from staff to customer\n+    create(:staff_message, parent: message, staff_member: staff_member)\n+\n     visit customer_messages_path\n-    click_link I18n.t('customer.messages.index.new')\n-    \n-    fill_in I18n.t('activerecord.attributes.message.subject'), with: '\u30bf\u30b0\u4ed8\u304d\u30e1\u30c3\u30bb\u30fc\u30b8'\n-    fill_in I18n.t('activerecord.attributes.message.body'), with: '\u3053\u308c\u306f\u30bf\u30b0\u4ed8\u304d\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u3059\u3002'\n-    select staff_member.family_name + staff_member.given_name, from: I18n.t('activerecord.attributes.message.staff_member_id')\n-    check \"tag_#{tag.id}\"\n-    click_button I18n.t('customer.messages.new.submit')\n-    \n-    expect(page).to have_css('.notice', text: I18n.t('customer.messages.create.notice'))\n-    message = Message.find_by(subject: '\u30bf\u30b0\u4ed8\u304d\u30e1\u30c3\u30bb\u30fc\u30b8', customer: customer)\n-    expect(message).to be_present\n-    expect(message.tags).to include(tag)\n+    click_link I18n.t('customer.messages.index.delete')\n+\n+    expect(page).to have_css('.Flash__notice', text: I18n.t('customer.messages.destroy.flash_notice'))\n   end\n+\n end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20250610/#_29","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20250610/#60822b7","title":"\u30b3\u30df\u30c3\u30c8: 60822b7","text":""},{"location":"journal/20250610/#_30","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>test(WIP):E2E\u30c6\u30b9\u30c8\n</code></pre>"},{"location":"journal/20250610/#_31","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/models/customer.rb</li> </ul>"},{"location":"journal/20250610/#_32","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 60822b76d4823db992bd35d8d0f18bc5eab9e35c\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jun 9 19:04:54 2025 +0900\n\n    test(WIP):E2E\u30c6\u30b9\u30c8\n\ndiff --git a/app/models/customer.rb b/app/models/customer.rb\nindex d61ffce..03b7ec8 100644\n--- a/app/models/customer.rb\n+++ b/app/models/customer.rb\n@@ -47,6 +47,11 @@ class Customer &lt; ApplicationRecord\n            -&gt; { where(address_id: nil).order(:id) },\n            class_name: 'Phone',\n            autosave: true\n+  has_many :entries, dependent: :destroy\n+  has_many :programs, through: :entries\n+  has_many :messages\n+  has_many :outbound_messages, class_name: 'CustomerMessage', foreign_key: 'customer_id'\n+  has_many :inbound_messages, class_name: 'StaffMessage', foreign_key: 'customer_id'\n\n   validates :gender, inclusion: { in: %w(male female), allow_blank: true }\n   validates :birthday, date: {\n</code></pre>"},{"location":"journal/20250610/#_33","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20250610/#01e2dca","title":"\u30b3\u30df\u30c3\u30c8: 01e2dca","text":""},{"location":"journal/20250610/#_34","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>test(WIP):E2E\u30c6\u30b9\u30c8\n</code></pre>"},{"location":"journal/20250610/#_35","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M \"docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\"</li> <li>M spec/features/admin/account_management_spec.rb</li> <li>M spec/features/admin/staff_management_spec.rb</li> <li>M spec/features/admin/system_management_spec.rb</li> </ul>"},{"location":"journal/20250610/#_36","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 01e2dca118613fd499eac83d7a10924d02e778d3\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jun 9 18:40:01 2025 +0900\n\n    test(WIP):E2E\u30c6\u30b9\u30c8\n\ndiff --git \"a/docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\" \"b/docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\"\nindex aeee4d3..2989e6a 100644\n--- \"a/docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\"\n+++ \"b/docs/\\343\\203\\246\\343\\203\\274\\343\\202\\271\\343\\202\\261\\343\\203\\274\\343\\202\\271.md\"\n@@ -328,16 +328,6 @@\n | \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 |\n | \u4e8b\u5f8c\u6761\u4ef6 | \u30a2\u30af\u30bb\u30b9\u5236\u9650\u8a2d\u5b9a\u304c\u66f4\u65b0\u3055\u308c\u308b |\n\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | A-009 |\n-| ------------- | ----- |\n-| \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u540d | \u30bf\u30b0\u7ba1\u7406 |\n-| \u30a2\u30af\u30bf\u30fc | \u7ba1\u7406\u8005 |\n-| \u8aac\u660e | \u7ba1\u7406\u8005\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u30f3\u30b0\u3067\u4f7f\u7528\u3059\u308b\u30bf\u30b0\u3092\u7ba1\u7406\u3059\u308b |\n-| \u4e8b\u524d\u6761\u4ef6 | \u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u6e08\u307f |\n-| \u57fa\u672c\u30d5\u30ed\u30fc | 1. \u30bf\u30b0\u7ba1\u7406\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9&lt;br&gt;2. \u30bf\u30b0\u3092\u8ffd\u52a0/\u7de8\u96c6/\u524a\u9664&lt;br&gt;3. \u5909\u66f4\u3092\u4fdd\u5b58 |\n-| \u4ee3\u66ff\u30d5\u30ed\u30fc | - \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc: \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u518d\u7de8\u96c6\u3092\u4fc3\u3059 |\n-| \u4e8b\u5f8c\u6761\u4ef6 | \u30bf\u30b0\u8a2d\u5b9a\u304c\u66f4\u65b0\u3055\u308c\u308b |\n-\n ## 6. \u30b7\u30b9\u30c6\u30e0\u9593\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\n\n | \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9ID | SYS-001 |\ndiff --git a/spec/features/admin/account_management_spec.rb b/spec/features/admin/account_management_spec.rb\nindex 6d43ea4..919a2c1 100644\n--- a/spec/features/admin/account_management_spec.rb\n+++ b/spec/features/admin/account_management_spec.rb\n@@ -17,15 +17,15 @@ feature '\u7ba1\u7406\u8005\u306b\u3088\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406' do\n     end\n\n     expect(current_path).to eq(admin_root_path)\n-    expect(page).to have_content(administrator.email)\n+    expect(page).to have_content(\"\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u305f\")\n   end\n\n   scenario '\u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a2\u30a6\u30c8\u3059\u308b' do\n     login_as_administrator(administrator)\n     click_link I18n.t('admin.shared.header.logout')\n\n-    expect(current_path).to eq(admin_login_path)\n-    expect(page).to have_css('.notice', text: I18n.t('admin.sessions.destroy.notice'))\n+    expect(current_path).to eq(admin_root_path)\n+    expect(page).to have_content(\"\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u307e\u3057\u305f\")\n   end\n\n   scenario '\u7ba1\u7406\u8005\u304c\u7121\u52b9\u306a\u30d1\u30b9\u30ef\u30fc\u30c9\u3067\u30ed\u30b0\u30a4\u30f3\u3092\u8a66\u307f\u308b' do\n@@ -36,7 +36,6 @@ feature '\u7ba1\u7406\u8005\u306b\u3088\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406' do\n       click_button I18n.t('admin.sessions.new.submit')\n     end\n\n-    expect(current_path).to eq(admin_login_path)\n-    expect(page).to have_css('.alert', text: I18n.t('admin.sessions.create.alert'))\n+    expect(current_path).to eq(admin_session_path)\n   end\n end\n\\ No newline at end of file\ndiff --git a/spec/features/admin/staff_management_spec.rb b/spec/features/admin/staff_management_spec.rb\nindex ff3e2aa..a816337 100644\n--- a/spec/features/admin/staff_management_spec.rb\n+++ b/spec/features/admin/staff_management_spec.rb\n@@ -10,54 +10,55 @@ feature '\u7ba1\u7406\u8005\u306b\u3088\u308b\u30b9\u30bf\u30c3\u30d5\u7ba1\u7406' do\n   end\n\n   scenario '\u7ba1\u7406\u8005\u304c\u65b0\u898f\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b' do\n-    click_link I18n.t('admin.staff_members.index.new')\n+    click_link I18n.t('admin.top.dashboard.admin_staff_members')\n+    first('a', text: I18n.t('admin.staff_members.index.new')).click\n\n     fill_in I18n.t('activerecord.attributes.staff_member.email'), with: 'test@example.com'\n     fill_in I18n.t('activerecord.attributes.staff_member.family_name'), with: '\u8a66\u9a13'\n     fill_in I18n.t('activerecord.attributes.staff_member.given_name'), with: '\u592a\u90ce'\n     fill_in I18n.t('activerecord.attributes.staff_member.family_name_kana'), with: '\u30b7\u30b1\u30f3'\n     fill_in I18n.t('activerecord.attributes.staff_member.given_name_kana'), with: '\u30bf\u30ed\u30a6'\n-    fill_in I18n.t('activerecord.attributes.staff_member.password'), with: 'password'\n-    click_button I18n.t('admin.staff_members.new.submit')\n+    fill_in I18n.t('activerecord.attributes.staff_member.hashed_password'), with: 'password'\n+    fill_in I18n.t('activerecord.attributes.staff_member.start_date'), with: Date.today.strftime('%Y-%m-%d')\n+    click_button I18n.t('admin.staff_members.new.create')\n\n-    expect(page).to have_css('.notice', text: I18n.t('admin.staff_members.create.notice'))\n+    expect(page).to have_css('.Flash__notice', text: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u65b0\u898f\u767b\u9332\u3057\u307e\u3057\u305f\u3002')\n     expect(StaffMember.find_by(email: 'test@example.com')).to be_present\n   end\n\n   scenario '\u7ba1\u7406\u8005\u304c\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b' do\n     staff_member = create(:staff_member)\n     visit admin_staff_members_path\n-    click_link staff_member.family_name + staff_member.given_name\n\n-    click_link I18n.t('admin.staff_members.show.edit')\n+    first('a', text: I18n.t('admin.staff_members.index.edit')).click\n     fill_in I18n.t('activerecord.attributes.staff_member.email'), with: 'edited@example.com'\n-    click_button I18n.t('admin.staff_members.edit.submit')\n+    click_button I18n.t('admin.staff_members.edit.update')\n\n-    expect(page).to have_css('.notice', text: I18n.t('admin.staff_members.update.notice'))\n+    expect(page).to have_css('.Flash__notice', text: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002')\n     expect(staff_member.reload.email).to eq('edited@example.com')\n   end\n\n   scenario '\u7ba1\u7406\u8005\u304c\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u505c\u6b62\u3059\u308b' do\n     staff_member = create(:staff_member)\n     visit admin_staff_members_path\n-    \n-    within(\"#staff_member_#{staff_member.id}\") do\n-      click_link I18n.t('admin.staff_members.index.suspend')\n-    end\n\n-    expect(page).to have_css('.notice', text: I18n.t('admin.staff_members.suspend.notice'))\n+    first('a', text: I18n.t('admin.staff_members.index.edit')).click\n+    check I18n.t('activerecord.attributes.staff_member.suspended')\n+    click_button I18n.t('admin.staff_members.edit.update')\n+\n+    expect(page).to have_css('.Flash__notice', text: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002')\n     expect(staff_member.reload.suspended).to be_truthy\n   end\n\n   scenario '\u7ba1\u7406\u8005\u304c\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u518d\u958b\u3059\u308b' do\n     staff_member = create(:staff_member, suspended: true)\n     visit admin_staff_members_path\n-    \n-    within(\"#staff_member_#{staff_member.id}\") do\n-      click_link I18n.t('admin.staff_members.index.resume')\n-    end\n\n-    expect(page).to have_css('.notice', text: I18n.t('admin.staff_members.resume.notice'))\n+    first('a', text: I18n.t('admin.staff_members.index.edit')).click\n+    uncheck I18n.t('activerecord.attributes.staff_member.suspended')\n+    click_button I18n.t('admin.staff_members.edit.update')\n+\n+    expect(page).to have_css('.Flash__notice', text: '\u8077\u54e1\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002')\n     expect(staff_member.reload.suspended).to be_falsey\n   end\n end\n\\ No newline at end of file\ndiff --git a/spec/features/admin/system_management_spec.rb b/spec/features/admin/system_management_spec.rb\nindex 88c77fd..ca56786 100644\n--- a/spec/features/admin/system_management_spec.rb\n+++ b/spec/features/admin/system_management_spec.rb\n@@ -15,51 +15,22 @@ feature '\u7ba1\u7406\u8005\u306b\u3088\u308b\u30b7\u30b9\u30c6\u30e0\u7ba1\u7406' do\n     staff_member.events.create!(type: 'logged_in')\n     staff_member.events.create!(type: 'logged_out')\n\n-    visit admin_staff_member_path(staff_member)\n-    click_link I18n.t('admin.staff_members.show.events')\n-    \n+    visit admin_staff_events_path\n+\n     expect(page).to have_css('h1', text: I18n.t('admin.staff_events.index.title'))\n-    expect(page).to have_selector('table.staff-events tbody tr', count: 2)\n+    expect(page).to have_selector('table.Table__body tr.Table__tr', count: 3)\n   end\n\n   scenario '\u7ba1\u7406\u8005\u304cIP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\u3092\u8a2d\u5b9a\u3059\u308b' do\n     visit admin_allowed_sources_path\n-    click_link I18n.t('admin.allowed_sources.index.new')\n-    \n-    fill_in I18n.t('activerecord.attributes.allowed_source.octet1'), with: '192'\n-    fill_in I18n.t('activerecord.attributes.allowed_source.octet2'), with: '168'\n-    fill_in I18n.t('activerecord.attributes.allowed_source.octet3'), with: '1'\n-    fill_in I18n.t('activerecord.attributes.allowed_source.octet4'), with: '0'\n-    fill_in I18n.t('activerecord.attributes.allowed_source.wildcard'), with: true\n-    fill_in I18n.t('activerecord.attributes.allowed_source.note'), with: '\u30c6\u30b9\u30c8\u7528'\n-    click_button I18n.t('admin.allowed_sources.new.submit')\n-    \n-    expect(page).to have_css('.notice', text: I18n.t('admin.allowed_sources.create.notice'))\n-    expect(AllowedSource.find_by(octet1: 192, octet2: 168, octet3: 1, octet4: 0, wildcard: true)).to be_present\n-  end\n\n-  scenario '\u7ba1\u7406\u8005\u304c\u30bf\u30b0\u3092\u7ba1\u7406\u3059\u308b' do\n-    visit admin_tags_path\n-    click_link I18n.t('admin.tags.index.new')\n-    \n-    fill_in I18n.t('activerecord.attributes.tag.value'), with: '\u30c6\u30b9\u30c8\u30bf\u30b0'\n-    click_button I18n.t('admin.tags.new.submit')\n-    \n-    expect(page).to have_css('.notice', text: I18n.t('admin.tags.create.notice'))\n-    expect(Tag.find_by(value: '\u30c6\u30b9\u30c8\u30bf\u30b0')).to be_present\n-    \n-    # Edit tag\n-    click_link '\u30c6\u30b9\u30c8\u30bf\u30b0'\n-    click_link I18n.t('admin.tags.show.edit')\n-    fill_in I18n.t('activerecord.attributes.tag.value'), with: '\u66f4\u65b0\u30bf\u30b0'\n-    click_button I18n.t('admin.tags.edit.submit')\n-    \n-    expect(page).to have_css('.notice', text: I18n.t('admin.tags.update.notice'))\n-    expect(Tag.find_by(value: '\u66f4\u65b0\u30bf\u30b0')).to be_present\n-    \n-    # Delete tag\n-    click_link I18n.t('admin.tags.show.delete')\n-    expect(page).to have_css('.notice', text: I18n.t('admin.tags.destroy.notice'))\n-    expect(Tag.find_by(value: '\u66f4\u65b0\u30bf\u30b0')).to be_nil\n+    fill_in 'allowed_source_octet1', with: '192'\n+    fill_in 'allowed_source_octet2', with: '168'\n+    fill_in 'allowed_source_octet3', with: '1'\n+    fill_in 'allowed_source_last_octet', with: '*'\n+    click_button '\u8ffd\u52a0'\n+\n+    expect(page).to have_css('.Flash__notice', text: I18n.t('admin.allowed_sources.create.flash_notice'))\n+    expect(AllowedSource.find_by(octet1: 192, octet2: 168, octet3: 1, octet4: 0, wildcard: true)).to be_present\n   end\n end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20250610/#fc160e1","title":"\u30b3\u30df\u30c3\u30c8: fc160e1","text":""},{"location":"journal/20250610/#_37","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>chore:\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u8a2d\u5b9a\n</code></pre>"},{"location":"journal/20250610/#_38","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M spec/rails_helper.rb</li> </ul>"},{"location":"journal/20250610/#_39","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit fc160e11784d9a3980544b9f11f4f17635d651f8\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jun 9 18:39:20 2025 +0900\n\n    chore:\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u8a2d\u5b9a\n\ndiff --git a/spec/rails_helper.rb b/spec/rails_helper.rb\nindex bd111bc..cd000d0 100644\n--- a/spec/rails_helper.rb\n+++ b/spec/rails_helper.rb\n@@ -11,6 +11,7 @@ require 'rspec/rails'\n require 'capybara/rails'\n require 'capybara/rspec'\n require 'selenium-webdriver'\n+require 'capybara-screenshot/rspec'\n\n # Chrome Headless\u8a2d\u5b9a\n Capybara.register_driver :selenium_chrome_headless do |app|\n@@ -49,6 +50,10 @@ Capybara.default_max_wait_time = 5\n Capybara.server_host = '0.0.0.0'\n Capybara.server_port = 3001\n\n+# \u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u8a2d\u5b9a\n+Capybara::Screenshot.autosave_on_failure = true\n+Capybara::Screenshot.prune_strategy = :keep_last_run\n+\n # Requires supporting ruby files with custom matchers and macros, etc, in\n # spec/support/ and its subdirectories. Files matching `spec/**/*_spec.rb` are\n # run as spec files by default. This means that files in spec/support that end\n</code></pre>"},{"location":"journal/20250610/#3e43b03","title":"\u30b3\u30df\u30c3\u30c8: 3e43b03","text":""},{"location":"journal/20250610/#_40","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>fix:\u30b7\u30fc\u30c9\n</code></pre>"},{"location":"journal/20250610/#_41","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/models/message.rb</li> <li>A spec/models/customer_message_spec.rb</li> <li>A test_customer_message.rb</li> </ul>"},{"location":"journal/20250610/#_42","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 3e43b0320d45a3e08b3ede2b65c816f0d15b5625\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jun 9 16:47:32 2025 +0900\n\n    fix:\u30b7\u30fc\u30c9\n\ndiff --git a/app/models/message.rb b/app/models/message.rb\nindex 3364e95..f9c8853 100644\n--- a/app/models/message.rb\n+++ b/app/models/message.rb\n@@ -32,9 +32,9 @@\n\n class Message &lt; ApplicationRecord\n   belongs_to :customer\n-  belongs_to :staff_member\n-  belongs_to :root, class_name: 'Message', foreign_key: 'root_id'\n-  belongs_to :parent, class_name: 'Message', foreign_key: 'parent_id'\n+  belongs_to :staff_member, optional: true\n+  belongs_to :root, class_name: 'Message', foreign_key: 'root_id', optional: true\n+  belongs_to :parent, class_name: 'Message', foreign_key: 'parent_id', optional: true\n   has_many :message_tag_links, dependent: :destroy\n   has_many :tags, -&gt; { order(:value)}, through: :message_tag_links\n\ndiff --git a/spec/models/customer_message_spec.rb b/spec/models/customer_message_spec.rb\nnew file mode 100644\nindex 0000000..a51f646\n--- /dev/null\n+++ b/spec/models/customer_message_spec.rb\n@@ -0,0 +1,17 @@\n+require 'rails_helper'\n+\n+RSpec.describe CustomerMessage, type: :model do\n+  describe 'validations' do\n+    it 'can be created without staff_member, root, or parent' do\n+      customer = FactoryBot.create(:customer)\n+      message = CustomerMessage.new(\n+        customer: customer,\n+        subject: 'Test Subject',\n+        body: 'Test Body'\n+      )\n+      \n+      expect(message).to be_valid\n+      expect { message.save! }.not_to raise_error\n+    end\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/test_customer_message.rb b/test_customer_message.rb\nnew file mode 100644\nindex 0000000..f754441\n--- /dev/null\n+++ b/test_customer_message.rb\n@@ -0,0 +1,29 @@\n+#!/usr/bin/env ruby\n+require_relative 'config/environment'\n+\n+# Create a customer\n+customer = Customer.first || Customer.create!(\n+  email: 'test@example.com',\n+  family_name: 'Test',\n+  given_name: 'User',\n+  family_name_kana: '\u30c6\u30b9\u30c8',\n+  given_name_kana: '\u30e6\u30fc\u30b6\u30fc',\n+  password: 'password',\n+  birthday: Date.new(1980, 1, 1),\n+  gender: 'male'\n+)\n+\n+# Create a CustomerMessage without staff_member, root, or parent\n+message = CustomerMessage.new(\n+  customer: customer,\n+  subject: 'Test Subject',\n+  body: 'Test Body'\n+)\n+\n+puts \"Message valid? #{message.valid?}\"\n+if message.valid?\n+  message.save!\n+  puts \"Message saved successfully with ID: #{message.id}\"\n+else\n+  puts \"Message validation errors: #{message.errors.full_messages.join(', ')}\"\n+end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20250610/#_43","title":"\u69cb\u9020\u5909\u66f4","text":""},{"location":"journal/20250610/#6e9569a","title":"\u30b3\u30df\u30c3\u30c8: 6e9569a","text":""},{"location":"journal/20250610/#_44","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>test(WIP):E2E\u30c6\u30b9\u30c8\n</code></pre>"},{"location":"journal/20250610/#_45","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A spec/features/admin/account_management_spec.rb</li> <li>A spec/features/admin/staff_management_spec.rb</li> <li>A spec/features/admin/system_management_spec.rb</li> <li>A spec/features/customer/message_management_spec.rb</li> <li>A spec/features/customer/program_management_spec.rb</li> <li>M spec/support/features_spec_helper.rb</li> </ul>"},{"location":"journal/20250610/#_46","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 6e9569aed1d38e5f97f2b43ec56b2cb6155ab99c\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jun 9 16:22:15 2025 +0900\n\n    test(WIP):E2E\u30c6\u30b9\u30c8\n\ndiff --git a/spec/features/admin/account_management_spec.rb b/spec/features/admin/account_management_spec.rb\nnew file mode 100644\nindex 0000000..6d43ea4\n--- /dev/null\n+++ b/spec/features/admin/account_management_spec.rb\n@@ -0,0 +1,42 @@\n+require 'rails_helper'\n+\n+feature '\u7ba1\u7406\u8005\u306b\u3088\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406' do\n+  include FeaturesSpecHelper\n+  let(:administrator) { create(:administrator) }\n+\n+  before do\n+    switch_namespace(:admin)\n+  end\n+\n+  scenario '\u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u3059\u308b' do\n+    visit admin_login_path\n+    within('.Login--admin') do\n+      fill_in I18n.t('activemodel.attributes.admin/login_form.email'), with: administrator.email\n+      fill_in I18n.t('activemodel.attributes.admin/login_form.password'), with: 'pw'\n+      click_button I18n.t('admin.sessions.new.submit')\n+    end\n+\n+    expect(current_path).to eq(admin_root_path)\n+    expect(page).to have_content(administrator.email)\n+  end\n+\n+  scenario '\u7ba1\u7406\u8005\u304c\u30ed\u30b0\u30a2\u30a6\u30c8\u3059\u308b' do\n+    login_as_administrator(administrator)\n+    click_link I18n.t('admin.shared.header.logout')\n+    \n+    expect(current_path).to eq(admin_login_path)\n+    expect(page).to have_css('.notice', text: I18n.t('admin.sessions.destroy.notice'))\n+  end\n+\n+  scenario '\u7ba1\u7406\u8005\u304c\u7121\u52b9\u306a\u30d1\u30b9\u30ef\u30fc\u30c9\u3067\u30ed\u30b0\u30a4\u30f3\u3092\u8a66\u307f\u308b' do\n+    visit admin_login_path\n+    within('.Login--admin') do\n+      fill_in I18n.t('activemodel.attributes.admin/login_form.email'), with: administrator.email\n+      fill_in I18n.t('activemodel.attributes.admin/login_form.password'), with: 'wrong_password'\n+      click_button I18n.t('admin.sessions.new.submit')\n+    end\n+\n+    expect(current_path).to eq(admin_login_path)\n+    expect(page).to have_css('.alert', text: I18n.t('admin.sessions.create.alert'))\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/spec/features/admin/staff_management_spec.rb b/spec/features/admin/staff_management_spec.rb\nnew file mode 100644\nindex 0000000..ff3e2aa\n--- /dev/null\n+++ b/spec/features/admin/staff_management_spec.rb\n@@ -0,0 +1,63 @@\n+require 'rails_helper'\n+\n+feature '\u7ba1\u7406\u8005\u306b\u3088\u308b\u30b9\u30bf\u30c3\u30d5\u7ba1\u7406' do\n+  include FeaturesSpecHelper\n+  let(:administrator) { create(:administrator) }\n+\n+  before do\n+    switch_namespace(:admin)\n+    login_as_administrator(administrator)\n+  end\n+\n+  scenario '\u7ba1\u7406\u8005\u304c\u65b0\u898f\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b' do\n+    click_link I18n.t('admin.staff_members.index.new')\n+    \n+    fill_in I18n.t('activerecord.attributes.staff_member.email'), with: 'test@example.com'\n+    fill_in I18n.t('activerecord.attributes.staff_member.family_name'), with: '\u8a66\u9a13'\n+    fill_in I18n.t('activerecord.attributes.staff_member.given_name'), with: '\u592a\u90ce'\n+    fill_in I18n.t('activerecord.attributes.staff_member.family_name_kana'), with: '\u30b7\u30b1\u30f3'\n+    fill_in I18n.t('activerecord.attributes.staff_member.given_name_kana'), with: '\u30bf\u30ed\u30a6'\n+    fill_in I18n.t('activerecord.attributes.staff_member.password'), with: 'password'\n+    click_button I18n.t('admin.staff_members.new.submit')\n+\n+    expect(page).to have_css('.notice', text: I18n.t('admin.staff_members.create.notice'))\n+    expect(StaffMember.find_by(email: 'test@example.com')).to be_present\n+  end\n+\n+  scenario '\u7ba1\u7406\u8005\u304c\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b' do\n+    staff_member = create(:staff_member)\n+    visit admin_staff_members_path\n+    click_link staff_member.family_name + staff_member.given_name\n+\n+    click_link I18n.t('admin.staff_members.show.edit')\n+    fill_in I18n.t('activerecord.attributes.staff_member.email'), with: 'edited@example.com'\n+    click_button I18n.t('admin.staff_members.edit.submit')\n+\n+    expect(page).to have_css('.notice', text: I18n.t('admin.staff_members.update.notice'))\n+    expect(staff_member.reload.email).to eq('edited@example.com')\n+  end\n+\n+  scenario '\u7ba1\u7406\u8005\u304c\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u505c\u6b62\u3059\u308b' do\n+    staff_member = create(:staff_member)\n+    visit admin_staff_members_path\n+    \n+    within(\"#staff_member_#{staff_member.id}\") do\n+      click_link I18n.t('admin.staff_members.index.suspend')\n+    end\n+\n+    expect(page).to have_css('.notice', text: I18n.t('admin.staff_members.suspend.notice'))\n+    expect(staff_member.reload.suspended).to be_truthy\n+  end\n+\n+  scenario '\u7ba1\u7406\u8005\u304c\u30b9\u30bf\u30c3\u30d5\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u518d\u958b\u3059\u308b' do\n+    staff_member = create(:staff_member, suspended: true)\n+    visit admin_staff_members_path\n+    \n+    within(\"#staff_member_#{staff_member.id}\") do\n+      click_link I18n.t('admin.staff_members.index.resume')\n+    end\n+\n+    expect(page).to have_css('.notice', text: I18n.t('admin.staff_members.resume.notice'))\n+    expect(staff_member.reload.suspended).to be_falsey\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/spec/features/admin/system_management_spec.rb b/spec/features/admin/system_management_spec.rb\nnew file mode 100644\nindex 0000000..88c77fd\n--- /dev/null\n+++ b/spec/features/admin/system_management_spec.rb\n@@ -0,0 +1,65 @@\n+require 'rails_helper'\n+\n+feature '\u7ba1\u7406\u8005\u306b\u3088\u308b\u30b7\u30b9\u30c6\u30e0\u7ba1\u7406' do\n+  include FeaturesSpecHelper\n+  let(:administrator) { create(:administrator) }\n+\n+  before do\n+    switch_namespace(:admin)\n+    login_as_administrator(administrator)\n+  end\n+\n+  scenario '\u7ba1\u7406\u8005\u304c\u30b9\u30bf\u30c3\u30d5\u30a4\u30d9\u30f3\u30c8\u30ed\u30b0\u3092\u78ba\u8a8d\u3059\u308b' do\n+    staff_member = create(:staff_member)\n+    # Create some staff events\n+    staff_member.events.create!(type: 'logged_in')\n+    staff_member.events.create!(type: 'logged_out')\n+    \n+    visit admin_staff_member_path(staff_member)\n+    click_link I18n.t('admin.staff_members.show.events')\n+    \n+    expect(page).to have_css('h1', text: I18n.t('admin.staff_events.index.title'))\n+    expect(page).to have_selector('table.staff-events tbody tr', count: 2)\n+  end\n+\n+  scenario '\u7ba1\u7406\u8005\u304cIP\u30a2\u30c9\u30ec\u30b9\u5236\u9650\u3092\u8a2d\u5b9a\u3059\u308b' do\n+    visit admin_allowed_sources_path\n+    click_link I18n.t('admin.allowed_sources.index.new')\n+    \n+    fill_in I18n.t('activerecord.attributes.allowed_source.octet1'), with: '192'\n+    fill_in I18n.t('activerecord.attributes.allowed_source.octet2'), with: '168'\n+    fill_in I18n.t('activerecord.attributes.allowed_source.octet3'), with: '1'\n+    fill_in I18n.t('activerecord.attributes.allowed_source.octet4'), with: '0'\n+    fill_in I18n.t('activerecord.attributes.allowed_source.wildcard'), with: true\n+    fill_in I18n.t('activerecord.attributes.allowed_source.note'), with: '\u30c6\u30b9\u30c8\u7528'\n+    click_button I18n.t('admin.allowed_sources.new.submit')\n+    \n+    expect(page).to have_css('.notice', text: I18n.t('admin.allowed_sources.create.notice'))\n+    expect(AllowedSource.find_by(octet1: 192, octet2: 168, octet3: 1, octet4: 0, wildcard: true)).to be_present\n+  end\n+\n+  scenario '\u7ba1\u7406\u8005\u304c\u30bf\u30b0\u3092\u7ba1\u7406\u3059\u308b' do\n+    visit admin_tags_path\n+    click_link I18n.t('admin.tags.index.new')\n+    \n+    fill_in I18n.t('activerecord.attributes.tag.value'), with: '\u30c6\u30b9\u30c8\u30bf\u30b0'\n+    click_button I18n.t('admin.tags.new.submit')\n+    \n+    expect(page).to have_css('.notice', text: I18n.t('admin.tags.create.notice'))\n+    expect(Tag.find_by(value: '\u30c6\u30b9\u30c8\u30bf\u30b0')).to be_present\n+    \n+    # Edit tag\n+    click_link '\u30c6\u30b9\u30c8\u30bf\u30b0'\n+    click_link I18n.t('admin.tags.show.edit')\n+    fill_in I18n.t('activerecord.attributes.tag.value'), with: '\u66f4\u65b0\u30bf\u30b0'\n+    click_button I18n.t('admin.tags.edit.submit')\n+    \n+    expect(page).to have_css('.notice', text: I18n.t('admin.tags.update.notice'))\n+    expect(Tag.find_by(value: '\u66f4\u65b0\u30bf\u30b0')).to be_present\n+    \n+    # Delete tag\n+    click_link I18n.t('admin.tags.show.delete')\n+    expect(page).to have_css('.notice', text: I18n.t('admin.tags.destroy.notice'))\n+    expect(Tag.find_by(value: '\u66f4\u65b0\u30bf\u30b0')).to be_nil\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/spec/features/customer/message_management_spec.rb b/spec/features/customer/message_management_spec.rb\nnew file mode 100644\nindex 0000000..91972d9\n--- /dev/null\n+++ b/spec/features/customer/message_management_spec.rb\n@@ -0,0 +1,69 @@\n+require 'rails_helper'\n+\n+feature '\u9867\u5ba2\u306b\u3088\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u7ba1\u7406' do\n+  include FeaturesSpecHelper\n+  let(:customer) { create(:customer) }\n+  let(:staff_member) { create(:staff_member) }\n+\n+  before do\n+    switch_namespace(:customer)\n+    login_as_customer(customer)\n+  end\n+\n+  scenario '\u9867\u5ba2\u304c\u30b9\u30bf\u30c3\u30d5\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b' do\n+    visit customer_messages_path\n+    click_link I18n.t('customer.messages.index.new')\n+    \n+    fill_in I18n.t('activerecord.attributes.message.subject'), with: '\u30c6\u30b9\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8'\n+    fill_in I18n.t('activerecord.attributes.message.body'), with: '\u3053\u308c\u306f\u30c6\u30b9\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u3059\u3002'\n+    select staff_member.family_name + staff_member.given_name, from: I18n.t('activerecord.attributes.message.staff_member_id')\n+    click_button I18n.t('customer.messages.new.submit')\n+    \n+    expect(page).to have_css('.notice', text: I18n.t('customer.messages.create.notice'))\n+    expect(Message.find_by(subject: '\u30c6\u30b9\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8', customer: customer)).to be_present\n+  end\n+\n+  scenario '\u9867\u5ba2\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u5c65\u6b74\u3092\u78ba\u8a8d\u3059\u308b' do\n+    # Create a message from customer to staff\n+    message = create(:message, customer: customer, staff_member: staff_member)\n+    # Create a reply from staff to customer\n+    create(:reply, message: message, staff_member: staff_member)\n+    \n+    visit customer_messages_path\n+    click_link message.subject\n+    \n+    expect(page).to have_css('h1', text: message.subject)\n+    expect(page).to have_content(message.body)\n+    expect(page).to have_css('.replies .reply', count: 1)\n+  end\n+\n+  scenario '\u9867\u5ba2\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u691c\u7d22\u3059\u308b' do\n+    create(:message, customer: customer, staff_member: staff_member, subject: '\u554f\u3044\u5408\u308f\u305b')\n+    create(:message, customer: customer, staff_member: staff_member, subject: '\u4e88\u7d04\u306b\u3064\u3044\u3066')\n+    \n+    visit customer_messages_path\n+    fill_in I18n.t('customer.messages.index.search_form.subject'), with: '\u4e88\u7d04'\n+    click_button I18n.t('customer.messages.index.search_form.submit')\n+    \n+    expect(page).to have_content('\u4e88\u7d04\u306b\u3064\u3044\u3066')\n+    expect(page).not_to have_content('\u554f\u3044\u5408\u308f\u305b')\n+  end\n+\n+  scenario '\u9867\u5ba2\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u30bf\u30b0\u3092\u4ed8\u3051\u308b' do\n+    tag = create(:tag, value: '\u30c6\u30b9\u30c8\u30bf\u30b0')\n+    \n+    visit customer_messages_path\n+    click_link I18n.t('customer.messages.index.new')\n+    \n+    fill_in I18n.t('activerecord.attributes.message.subject'), with: '\u30bf\u30b0\u4ed8\u304d\u30e1\u30c3\u30bb\u30fc\u30b8'\n+    fill_in I18n.t('activerecord.attributes.message.body'), with: '\u3053\u308c\u306f\u30bf\u30b0\u4ed8\u304d\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u3059\u3002'\n+    select staff_member.family_name + staff_member.given_name, from: I18n.t('activerecord.attributes.message.staff_member_id')\n+    check \"tag_#{tag.id}\"\n+    click_button I18n.t('customer.messages.new.submit')\n+    \n+    expect(page).to have_css('.notice', text: I18n.t('customer.messages.create.notice'))\n+    message = Message.find_by(subject: '\u30bf\u30b0\u4ed8\u304d\u30e1\u30c3\u30bb\u30fc\u30b8', customer: customer)\n+    expect(message).to be_present\n+    expect(message.tags).to include(tag)\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/spec/features/customer/program_management_spec.rb b/spec/features/customer/program_management_spec.rb\nnew file mode 100644\nindex 0000000..8341e2d\n--- /dev/null\n+++ b/spec/features/customer/program_management_spec.rb\n@@ -0,0 +1,68 @@\n+require 'rails_helper'\n+\n+feature '\u9867\u5ba2\u306b\u3088\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406' do\n+  include FeaturesSpecHelper\n+  let(:customer) { create(:customer) }\n+  let!(:program) { create(:program, application_start_time: 2.days.ago, application_end_time: 2.days.from_now) }\n+\n+  before do\n+    switch_namespace(:customer)\n+    login_as_customer(customer)\n+  end\n+\n+  scenario '\u9867\u5ba2\u304c\u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7\u3092\u95b2\u89a7\u3059\u308b' do\n+    visit customer_programs_path\n+    \n+    expect(page).to have_css('h1', text: I18n.t('customer.programs.index.title'))\n+    expect(page).to have_content(program.title)\n+  end\n+\n+  scenario '\u9867\u5ba2\u304c\u30d7\u30ed\u30b0\u30e9\u30e0\u8a73\u7d30\u3092\u95b2\u89a7\u3059\u308b' do\n+    visit customer_programs_path\n+    click_link program.title\n+    \n+    expect(page).to have_css('h1', text: program.title)\n+    expect(page).to have_content(program.description)\n+  end\n+\n+  scenario '\u9867\u5ba2\u304c\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4e88\u7d04\u3059\u308b' do\n+    visit customer_program_path(program)\n+    click_link I18n.t('customer.programs.show.apply')\n+    \n+    fill_in I18n.t('activerecord.attributes.entry.remarks'), with: '\u30c6\u30b9\u30c8\u4e88\u7d04'\n+    click_button I18n.t('customer.entries.new.submit')\n+    \n+    expect(page).to have_css('.notice', text: I18n.t('customer.entries.create.notice'))\n+    expect(Entry.find_by(program: program, customer: customer)).to be_present\n+  end\n+\n+  scenario '\u9867\u5ba2\u304c\u4e88\u7d04\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3059\u308b' do\n+    entry = create(:entry, program: program, customer: customer)\n+    \n+    visit customer_entries_path\n+    click_link program.title\n+    click_link I18n.t('customer.entries.show.cancel')\n+    \n+    expect(page).to have_css('.notice', text: I18n.t('customer.entries.cancel.notice'))\n+    expect(entry.reload.canceled).to be_truthy\n+  end\n+\n+  scenario '\u9867\u5ba2\u304c\u4e88\u7d04\u671f\u9593\u5916\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4e88\u7d04\u3057\u3088\u3046\u3068\u3059\u308b' do\n+    closed_program = create(:program, application_start_time: 10.days.from_now, application_end_time: 20.days.from_now)\n+    \n+    visit customer_program_path(closed_program)\n+    \n+    expect(page).not_to have_link(I18n.t('customer.programs.show.apply'))\n+    expect(page).to have_content(I18n.t('customer.programs.show.not_applicable'))\n+  end\n+\n+  scenario '\u9867\u5ba2\u304c\u5b9a\u54e1\u8d85\u904e\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4e88\u7d04\u3057\u3088\u3046\u3068\u3059\u308b' do\n+    full_program = create(:program, application_start_time: 2.days.ago, application_end_time: 2.days.from_now, max_number_of_participants: 1)\n+    create(:entry, program: full_program) # Fill the program\n+    \n+    visit customer_program_path(full_program)\n+    \n+    expect(page).not_to have_link(I18n.t('customer.programs.show.apply'))\n+    expect(page).to have_content(I18n.t('customer.programs.show.full'))\n+  end\n+end\n\\ No newline at end of file\ndiff --git a/spec/support/features_spec_helper.rb b/spec/support/features_spec_helper.rb\nindex c17fb25..aac0165 100644\n--- a/spec/support/features_spec_helper.rb\n+++ b/spec/support/features_spec_helper.rb\n@@ -21,4 +21,13 @@ module FeaturesSpecHelper\n       click_button I18n.t('customer.sessions.new.submit')\n     end\n   end\n-end\n\\ No newline at end of file\n+\n+  def login_as_administrator(administrator, password = 'pw')\n+    visit admin_login_path\n+    within('.Login--admin') do\n+      fill_in I18n.t('activemodel.attributes.admin/login_form.email'), with: administrator.email\n+      fill_in I18n.t('activemodel.attributes.admin/login_form.password'), with: password\n+      click_button I18n.t('admin.sessions.new.submit')\n+    end\n+  end\n+end\n</code></pre>"},{"location":"journal/20250610/#b0dca43","title":"\u30b3\u30df\u30c3\u30c8: b0dca43","text":""},{"location":"journal/20250610/#_47","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>test:E2E\u30c6\u30b9\u30c8\n</code></pre>"},{"location":"journal/20250610/#_48","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M spec/features/staff/customer_management_spec.rb</li> <li>M spec/features/staff/phone_management_spec.rb</li> <li>M spec/features/staff/program_management_spec.rb</li> </ul>"},{"location":"journal/20250610/#_49","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit b0dca43861f203f72561b12aeb36f99963f5b171\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Mon Jun 9 16:09:12 2025 +0900\n\n    test:E2E\u30c6\u30b9\u30c8\n\ndiff --git a/spec/features/staff/customer_management_spec.rb b/spec/features/staff/customer_management_spec.rb\nindex 8aac7ee..2ce6bbe 100644\n--- a/spec/features/staff/customer_management_spec.rb\n+++ b/spec/features/staff/customer_management_spec.rb\n@@ -1,7 +1,6 @@\n require 'rails_helper'\n\n-# \u8077\u54e1\u306b\u3088\u308b\u9867\u5ba2\u7ba1\u7406\n-feature 'Customer management by staff' do\n+feature '\u8077\u54e1\u306b\u3088\u308b\u9867\u5ba2\u7ba1\u7406' do\n   include FeaturesSpecHelper\n   let(:staff_member) { create(:staff_member) }\n   let!(:customer) { create(:customer) }\n@@ -11,8 +10,7 @@ feature 'Customer management by staff' do\n     login_as_staff_member(staff_member)\n   end\n\n-  # \u8077\u54e1\u304c\u9867\u5ba2\uff08\u57fa\u672c\u60c5\u5831\u306e\u307f\uff09\u3092\u767b\u9332\u3059\u308b\n-  scenario 'Employees register customers (only basic information)' do\n+  scenario '\u8077\u54e1\u304c\u9867\u5ba2\uff08\u57fa\u672c\u60c5\u5831\u306e\u307f\uff09\u3092\u767b\u9332\u3059\u308b' do\n     click_link I18n.t('staff.top.dashboard.staff_customers')\n     first('.Table__links').click_link I18n.t('staff.customers.index.new')\n     fill_in I18n.t('activerecord.attributes.customer.email'), with: 'test@example.jp'\n@@ -33,8 +31,7 @@ feature 'Customer management by staff' do\n     expect(new_customer.work_address).to be_nil\n   end\n\n-  # \u8077\u54e1\u304c\u9867\u5ba2\u3001\u81ea\u5b85\u4f4f\u6240\u3001\u52e4\u52d9\u5148\u3092\u66f4\u65b0\u3059\u308b\n-  scenario 'Staff update customer, home address, work place' do\n+  scenario '\u8077\u54e1\u304c\u9867\u5ba2\u3001\u81ea\u5b85\u4f4f\u6240\u3001\u52e4\u52d9\u5148\u3092\u66f4\u65b0\u3059\u308b' do\n     click_link I18n.t('staff.top.dashboard.staff_customers')\n     first('table.Table__body--listing').click_link I18n.t('staff.customers.index.edit')\n\n@@ -53,8 +50,7 @@ feature 'Customer management by staff' do\n     expect(customer.work_address.company_name).to eq('\u30c6\u30b9\u30c8')\n   end\n\n-  # \u8077\u54e1\u304c\u9867\u5ba2\u3001\u81ea\u5b85\u4f4f\u6240\u3001\u52e4\u52d9\u5148\u3092\u767b\u9332\u3059\u308b\n-  scenario 'Employees register customer, home address, work place' do\n+  scenario '\u8077\u54e1\u304c\u9867\u5ba2\u3001\u81ea\u5b85\u4f4f\u6240\u3001\u52e4\u52d9\u5148\u3092\u767b\u9332\u3059\u308b' do\n     click_link I18n.t('staff.top.dashboard.staff_customers')\n     first('.Table__links').click_link I18n.t('staff.customers.index.new')\n\n@@ -94,8 +90,7 @@ feature 'Customer management by staff' do\n     expect(new_customer.work_address.company_name).to eq('\u30c6\u30b9\u30c8')\n   end\n\n-  # \u8077\u54e1\u304c\u751f\u5e74\u6708\u65e5\u3068\u81ea\u5b85\u306e\u90f5\u4fbf\u756a\u53f7\u306b\u7121\u52b9\u306a\u5024\u3092\u5165\u529b\u3059\u308b\n-  scenario 'Employees enter invalid values for birth date and home postal code' do\n+  scenario '\u8077\u54e1\u304c\u751f\u5e74\u6708\u65e5\u3068\u81ea\u5b85\u306e\u90f5\u4fbf\u756a\u53f7\u306b\u7121\u52b9\u306a\u5024\u3092\u5165\u529b\u3059\u308b' do\n     click_link I18n.t('staff.top.dashboard.staff_customers')\n     first('table.Table__body--listing').click_link I18n.t('staff.customers.index.edit')\n\n@@ -109,8 +104,7 @@ feature 'Customer management by staff' do\n     expect(page).to have_css('.has-error span.help-block')\n   end\n\n-  # \u8077\u54e1\u304c\u52e4\u52d9\u5148\u30c7\u30fc\u30bf\u306e\u306a\u3044\u65e2\u5b58\u9867\u5ba2\u306b\u4f1a\u793e\u540d\u306e\u60c5\u5831\u3092\u8ffd\u52a0\u3059\u308b\n-  scenario 'Staff add company name information to existing customers that do not have work data' do\n+  scenario '\u8077\u54e1\u304c\u52e4\u52d9\u5148\u30c7\u30fc\u30bf\u306e\u306a\u3044\u65e2\u5b58\u9867\u5ba2\u306b\u4f1a\u793e\u540d\u306e\u60c5\u5831\u3092\u8ffd\u52a0\u3059\u308b' do\n     customer.work_address.destroy\n     click_link I18n.t('staff.top.dashboard.staff_customers')\n     first('table.Table__body--listing').click_link I18n.t('staff.customers.index.edit')\n@@ -124,4 +118,4 @@ feature 'Customer management by staff' do\n     customer.reload\n     expect(customer.work_address.company_name).to eq('\u30c6\u30b9\u30c8')\n   end\n-end\n\\ No newline at end of file\n+end\ndiff --git a/spec/features/staff/phone_management_spec.rb b/spec/features/staff/phone_management_spec.rb\nindex 99935f2..0f97a6a 100644\n--- a/spec/features/staff/phone_management_spec.rb\n+++ b/spec/features/staff/phone_management_spec.rb\n@@ -1,7 +1,6 @@\n require 'rails_helper'\n\n-# \u8077\u54e1\u306b\u3088\u308b\u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u7ba1\u7406\n-feature 'Customer telephone number management by staff' do\n+feature '\u8077\u54e1\u306b\u3088\u308b\u9867\u5ba2\u96fb\u8a71\u756a\u53f7\u7ba1\u7406' do\n   include FeaturesSpecHelper\n   let(:staff_member) { create(:staff_member) }\n   let!(:customer) { create(:customer) }\n@@ -11,8 +10,7 @@ feature 'Customer telephone number management by staff' do\n     login_as_staff_member(staff_member)\n   end\n\n-  # \u8077\u54e1\u304c\u9867\u5ba2\u306e\u96fb\u8a71\u756a\u53f7\u3092\u8ffd\u52a0\u3059\u308b\n-  scenario \"The staff adds the customer's phone number\" do\n+  scenario '\u8077\u54e1\u304c\u9867\u5ba2\u306e\u96fb\u8a71\u756a\u53f7\u3092\u8ffd\u52a0\u3059\u308b' do\n     click_link I18n.t('staff.top.dashboard.staff_customers')\n     first('table.Table__body--listing').click_link I18n.t('staff.customers.index.edit')\n\n@@ -25,8 +23,7 @@ feature 'Customer telephone number management by staff' do\n     expect(customer.personal_phones[0].number).to eq('090-9999-9999')\n   end\n\n-  # \u8077\u54e1\u304c\u9867\u5ba2\u306e\u81ea\u5b85\u96fb\u8a71\u756a\u53f7\u3092\u8ffd\u52a0\u3059\u308b\n-  scenario \"The staff adds the customer's home phone number\" do\n+  scenario '\u8077\u54e1\u304c\u9867\u5ba2\u306e\u81ea\u5b85\u96fb\u8a71\u756a\u53f7\u3092\u8ffd\u52a0\u3059\u308b' do\n     click_link I18n.t('staff.top.dashboard.staff_customers')\n     first('table.Table__body--listing').click_link I18n.t('staff.customers.index.edit')\n\n@@ -39,8 +36,7 @@ feature 'Customer telephone number management by staff' do\n     expect(customer.home_address.phones[0].number).to eq('090-9999-9999')\n   end\n\n-  # \u8077\u54e1\u304c\u9867\u5ba2\u306e\u52e4\u52d9\u5148\u96fb\u8a71\u756a\u53f7\u3092\u8ffd\u52a0\u3059\u308b\n-  scenario \"The staff adds the customer's work phone number\" do\n+  scenario '\u8077\u54e1\u304c\u9867\u5ba2\u306e\u52e4\u52d9\u5148\u96fb\u8a71\u756a\u53f7\u3092\u8ffd\u52a0\u3059\u308b' do\n     click_link I18n.t('staff.top.dashboard.staff_customers')\n     first('table.Table__body--listing').click_link I18n.t('staff.customers.index.edit')\n\n@@ -52,4 +48,4 @@ feature 'Customer telephone number management by staff' do\n     expect(customer.work_address.phones.size).to eq(1)\n     expect(customer.work_address.phones[0].number).to eq('03-9999-9999')\n   end\n-end\n\\ No newline at end of file\n+end\ndiff --git a/spec/features/staff/program_management_spec.rb b/spec/features/staff/program_management_spec.rb\nindex 9131037..413731f 100644\n--- a/spec/features/staff/program_management_spec.rb\n+++ b/spec/features/staff/program_management_spec.rb\n@@ -1,7 +1,6 @@\n require 'rails_helper'\n\n-# \u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd\n-feature 'Program management function', :performace do\n+feature '\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406\u6a5f\u80fd', :performace do\n   include FeaturesSpecHelper\n   include PerformanceSpecHelper\n   let(:staff_member) { create(:staff_member) }\n@@ -19,8 +18,7 @@ feature 'Program management function', :performace do\n     login_as_staff_member(staff_member)\n   end\n\n-  # \u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7\n-  scenario 'Program list' do |example|\n+  scenario '\u30d7\u30ed\u30b0\u30e9\u30e0\u4e00\u89a7' do |example|\n     visit staff_programs_path\n     expect(page).to have_css('h1', text: I18n.t('staff.programs.index.title'))\n\n@@ -34,4 +32,4 @@ feature 'Program management function', :performace do\n     expect(elapsed).to be &lt; 100.0\n   end\n\n-end\n\\ No newline at end of file\n+end\n</code></pre>"},{"location":"journal/20250611/","title":"\u4f5c\u696d\u5c65\u6b74 2025-06-11","text":""},{"location":"journal/20250611/#_1","title":"\u6982\u8981","text":"<p>2025-06-11\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001E2E\u30c6\u30b9\u30c8\u74b0\u5883\u306e\u69cb\u7bc9\u3068\u8a2d\u5b9a\u306e\u6539\u5584\u3001\u304a\u3088\u3073\u30ea\u30ea\u30fc\u30b9\u6e96\u5099\u306b\u95a2\u3059\u308b\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20250611/#_2","title":"\u30b7\u30b9\u30c6\u30e0\u69cb\u6210\u56f3","text":""},{"location":"journal/20250611/#_3","title":"\u4f5c\u696d\u5185\u5bb9","text":""},{"location":"journal/20250611/#e2e","title":"E2E\u30c6\u30b9\u30c8\u74b0\u5883\u306e\u6539\u5584","text":"<p>\u524d\u65e5\u306b\u5f15\u304d\u7d9a\u304d\u3001E2E\u30c6\u30b9\u30c8\u74b0\u5883\u306e\u69cb\u7bc9\u3068\u6539\u5584\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u7279\u306b\u3001GitHub Actions\u3067\u306e\u81ea\u52d5\u30c6\u30b9\u30c8\u5b9f\u884c\u306e\u305f\u3081\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3092\u5f37\u5316\u3057\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20250611/#_4","title":"\u5909\u66f4\u70b9\u306e\u6982\u8981","text":"<ol> <li>GitHub Actions\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u66f4\u65b0\uff08Chrome\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u8ffd\u52a0\uff09</li> <li>Dockerfile\u306e\u66f4\u65b0\uff08Chrome\u95a2\u9023\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u8ffd\u52a0\uff09</li> <li>Capybara\u8a2d\u5b9a\u306e\u5206\u96e2\u3068\u6539\u5584</li> </ol>"},{"location":"journal/20250611/#_5","title":"\u6280\u8853\u7684\u8a73\u7d30","text":""},{"location":"journal/20250611/#589b060","title":"\u30b3\u30df\u30c3\u30c8: 589b060","text":""},{"location":"journal/20250611/#_6","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>docs:\u30ea\u30ea\u30fc\u30b9\n</code></pre>"},{"location":"journal/20250611/#_7","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M app/views/customer/shared/_footer_login.html.erb</li> <li>M app/views/customer/top/dashboard.html.erb</li> </ul>"},{"location":"journal/20250611/#_8","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 589b0602663c4459f29b6012f410c5ddf57cddd4\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jun 11 14:02:39 2025 +0900\n\n    docs:\u30ea\u30ea\u30fc\u30b9\n\ndiff --git a/app/views/customer/shared/_footer_login.html.erb b/app/views/customer/shared/_footer_login.html.erb\nindex dd87033..d84ada3 100644\n--- a/app/views/customer/shared/_footer_login.html.erb\n+++ b/app/views/customer/shared/_footer_login.html.erb\n@@ -7,7 +7,7 @@\n       &lt;/ul&gt;\n     &lt;/div&gt;\n     &lt;div class=\"Footer__body\"&gt;\n-      &lt;p&gt;Powered by BAUKIS KAI &amp;copy; 2014 k2works&lt;/p&gt;\n+      &lt;p&gt;Powered by BAUKIS KAI &amp;copy; 2025 k2works&lt;/p&gt;\n     &lt;/div&gt;\n   &lt;/div&gt;\n &lt;/footer&gt;\n\\ No newline at end of file\ndiff --git a/app/views/customer/top/dashboard.html.erb b/app/views/customer/top/dashboard.html.erb\nindex a819b2a..04e371b 100644\n--- a/app/views/customer/top/dashboard.html.erb\n+++ b/app/views/customer/top/dashboard.html.erb\n@@ -8,6 +8,10 @@\n     &lt;h2 class=\"sectionLabel\"&gt;\u304a\u77e5\u3089\u305b&lt;/h2&gt;\n   &lt;/div&gt;\n   &lt;ol class=\"NewsList\"&gt;\n+    &lt;li class=\"NewsList__item\"&gt;\n+      &lt;time class=\"NewsList__head\" datatime=\"2025-6-6\"&gt;2025.6.8&lt;/time&gt;\n+      &lt;span class=\"NewsList__body\"&gt;\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7&lt;/span&gt;\n+    &lt;/li&gt;\n     &lt;li class=\"NewsList__item\"&gt;\n       &lt;time class=\"NewsList__head\" datatime=\"2017-3-28\"&gt;2017.3.28&lt;/time&gt;\n       &lt;span class=\"NewsList__body\"&gt;\u554f\u3044\u5408\u308f\u305b\u8fd4\u4fe1\u6a5f\u80fd\u3092\u8ffd\u52a0&lt;/span&gt;\n</code></pre>"},{"location":"journal/20250611/#84e9ba2","title":"\u30b3\u30df\u30c3\u30c8: 84e9ba2","text":""},{"location":"journal/20250611/#_9","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>test:E2E\u30c6\u30b9\u30c8\n</code></pre>"},{"location":"journal/20250611/#_10","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M spec/features/staff/program_management_spec.rb</li> </ul>"},{"location":"journal/20250611/#_11","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 84e9ba28c6d63d2f8a32201572e68895ba7cb43a\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jun 11 13:37:38 2025 +0900\n\n    test:E2E\u30c6\u30b9\u30c8\n\ndiff --git a/spec/features/staff/program_management_spec.rb b/spec/features/staff/program_management_spec.rb\nindex 28b8976..c08a853 100644\n--- a/spec/features/staff/program_management_spec.rb\n+++ b/spec/features/staff/program_management_spec.rb\n@@ -1,6 +1,6 @@\n require 'rails_helper'\n\n-feature '\u8077\u54e1\u306b\u3088\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406', type: :system do\n+feature '\u8077\u54e1\u306b\u3088\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406' do\n   include FeaturesSpecHelper\n   include PerformanceSpecHelper\n   let(:staff_member) { create(:staff_member) }\n@@ -65,13 +65,14 @@ feature '\u8077\u54e1\u306b\u3088\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406', type: :system do\n     all('a', text: I18n.t('staff.programs.form.delete')).last.click\n\n     # JavaScript\u30a2\u30e9\u30fc\u30c8\u3092\u53d7\u3051\u5165\u308c\u308b\n-    page.driver.browser.switch_to.alert.accept\n+    # page.driver.browser.switch_to.alert.accept\n\n     expect(page).to have_css('.Flash__notice', text: I18n.t('staff.programs.destroy.flash_notice'))\n     expect(Program.find_by(id: program_without_entries.id)).to be_nil\n   end\n\n-  scenario '\u8077\u54e1\u304c\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u7ba1\u7406\u3059\u308b' do\n+  # type: :system\u6307\u5b9a\u6642\u306e\u6319\u52d5\u304c\u4e0d\u5b89\u5b9a\u306a\u306e\u3067 JavaScript\u3092\u4f7f\u3046E2E\u30c6\u30b9\u30c8\u306f\u9664\u5916\n+  xscenario '\u8077\u54e1\u304c\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u7ba1\u7406\u3059\u308b' do\n     visit staff_program_path(program)\n\n     find(\"input[type='checkbox'].isApproved[data-entry-id='#{entry.id}']\").click\n</code></pre>"},{"location":"journal/20250611/#47fda6d","title":"\u30b3\u30df\u30c3\u30c8: 47fda6d","text":""},{"location":"journal/20250611/#_12","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>chore:E2E\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n</code></pre>"},{"location":"journal/20250611/#_13","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .github/workflows/CI.yml</li> <li>M Dockerfile</li> </ul>"},{"location":"journal/20250611/#_14","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 47fda6dc29e0033a11b34d1cf79b98678c906c0b\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jun 11 13:19:55 2025 +0900\n\n    chore:E2E\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\ndiff --git a/.github/workflows/CI.yml b/.github/workflows/CI.yml\nindex a71f2b1..90efec6 100644\n--- a/.github/workflows/CI.yml\n+++ b/.github/workflows/CI.yml\n@@ -36,6 +36,9 @@ jobs:\n           bundle exec rake db:create RAILS_ENV=test\n           bundle exec rake db:migrate RAILS_ENV=test\n\n+      - uses: browser-actions/setup-chrome@latest\n+      - run: chrome --version\n+\n       - name: Run tests\n         env:\n           RAILS_ENV: test\ndiff --git a/Dockerfile b/Dockerfile\nindex c2c6661..96177e8 100644\n--- a/Dockerfile\n+++ b/Dockerfile\n@@ -131,6 +131,24 @@ echo \"Checking for OpenSSL configs:\"\n find /usr -name \"openssl-*.cnf\"\n EOF\n\n+# Chrome\u95a2\u9023\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\n+RUN apt-get update &amp;&amp; \\\n+    apt-get install -y \\\n+    libnss3 \\\n+    libnss3-dev \\\n+    libxss1 \\\n+    libasound2 \\\n+    libatk-bridge2.0-0 \\\n+    libdrm2 \\\n+    libxcomposite1 \\\n+    libxdamage1 \\\n+    libxrandr2 \\\n+    libgbm1 \\\n+    libgtk-3-0 \\\n+    libxkbcommon0 \\\n+    libatspi2.0-0 \\\n+    libxfixes3\n+\n # \u30d1\u30b9\u306e\u8a2d\u5b9a\n ENV PATH=\"/root/.rbenv/shims:$PATH\"\n</code></pre>"},{"location":"journal/20250611/#cc4a690","title":"\u30b3\u30df\u30c3\u30c8: cc4a690","text":""},{"location":"journal/20250611/#_15","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>chore(WIP):E2E\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n</code></pre>"},{"location":"journal/20250611/#_16","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M Dockerfile</li> <li>M spec/rails_helper.rb</li> <li>A spec/support/capybara_config.rb</li> </ul>"},{"location":"journal/20250611/#_17","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit cc4a690f318320ff3f9cd79d05c4279b1cd1733d\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jun 11 12:39:03 2025 +0900\n\n    chore(WIP):E2E\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\ndiff --git a/Dockerfile b/Dockerfile\nindex 17ff930..c2c6661 100644\n--- a/Dockerfile\n+++ b/Dockerfile\n@@ -29,7 +29,9 @@ RUN apt-get update &amp;&amp; apt-get install -y \\\n             git \\\n             curl \\\n             wget \\\n-            git-core \\\n+            ansible \\\n+            rsync \\\n+            vim \\\n             libssl-dev \\\n             libc6-dev \\\n             automake \\\n@@ -43,17 +45,10 @@ RUN apt-get update &amp;&amp; apt-get install -y \\\n             libxslt1-dev \\\n             libncurses5-dev \\\n             pkg-config \\\n-            chrpath \\\n-            libfontconfig1-dev \\\n-            libxft-dev \\\n             libpq-dev \\\n             libsqlite3-dev \\\n             default-mysql-client \\\n             postgresql-client \\\n-            xvfb \\\n-            qtbase5-dev \\\n-            libqt5webkit5-dev \\\n-            xauth \\\n             libcurl4-openssl-dev \\\n             software-properties-common \\\n             libffi-dev \\\n@@ -61,9 +56,6 @@ RUN apt-get update &amp;&amp; apt-get install -y \\\n             libdb-dev \\\n             lsof \\\n             default-libmysqlclient-dev \\\n-            ansible \\\n-            rsync \\\n-            vim \\\n             &amp;&amp; apt-get clean \\\n             &amp;&amp; rm -rf /var/lib/apt/lists/*\n\n@@ -144,3 +136,4 @@ ENV PATH=\"/root/.rbenv/shims:$PATH\"\n\n # \u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u8a2d\u5b9a\n WORKDIR /srv\n+\ndiff --git a/spec/rails_helper.rb b/spec/rails_helper.rb\nindex da3a27d..09c97a9 100644\n--- a/spec/rails_helper.rb\n+++ b/spec/rails_helper.rb\n@@ -7,54 +7,6 @@ require 'spec_helper'\n require 'rspec/rails'\n # Add additional requires below this line. Rails is not loaded until this point!\n\n-# Capybara \u3068Selenium WebDriver\u306e\u8a2d\u5b9a\n-require 'capybara/rails'\n-require 'capybara/rspec'\n-require 'selenium-webdriver'\n-require 'capybara-screenshot/rspec'\n-\n-# Chrome Headless\u8a2d\u5b9a\n-Capybara.register_driver :selenium_chrome_headless do |app|\n-  options = Selenium::WebDriver::Chrome::Options.new\n-  options.add_argument('--headless')\n-  options.add_argument('--no-sandbox')\n-  options.add_argument('--disable-dev-shm-usage')\n-  options.add_argument('--disable-gpu')\n-  options.add_argument('--remote-debugging-port=9222')\n-  options.add_argument('--window-size=1400,1400')\n-  options.add_argument('--disable-features=VizDisplayCompositor')\n-\n-  Capybara::Selenium::Driver.new(app, browser: :chrome, options: options)\n-end\n-\n-# Chrome\u8a2d\u5b9a\uff08\u30c7\u30d0\u30c3\u30b0\u7528\uff09\n-Capybara.register_driver :selenium_chrome do |app|\n-  options = Selenium::WebDriver::Chrome::Options.new\n-  options.add_argument('--no-sandbox')\n-  options.add_argument('--disable-dev-shm-usage')\n-  options.add_argument('--window-size=1400,1400')\n-\n-  Capybara::Selenium::Driver.new(app, browser: :chrome, options: options)\n-end\n-\n-# \u74b0\u5883\u306b\u5fdc\u3058\u3066\u30c9\u30e9\u30a4\u30d0\u30fc\u3092\u5207\u308a\u66ff\u3048\n-if ENV['HEADLESS'] || ENV['CI']\n-  Capybara.javascript_driver = :selenium_chrome_headless\n-else\n-  Capybara.javascript_driver = :selenium_chrome\n-end\n-\n-# Capybara\u8a2d\u5b9a\n-Capybara.default_driver = :rack_test\n-Capybara.default_max_wait_time = 5\n-Capybara.server_host = '0.0.0.0'\n-Capybara.server_port = 3001\n-Capybara.app_host = 'http://127.0.0.1:3001'\n-\n-# \u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u8a2d\u5b9a\n-Capybara::Screenshot.autosave_on_failure = true\n-Capybara::Screenshot.prune_strategy = :keep_last_run\n-\n # Requires supporting ruby files with custom matchers and macros, etc, in\n # spec/support/ and its subdirectories. Files matching `spec/**/*_spec.rb` are\n # run as spec files by default. This means that files in spec/support that end\ndiff --git a/spec/support/capybara_config.rb b/spec/support/capybara_config.rb\nnew file mode 100644\nindex 0000000..27a7986\n--- /dev/null\n+++ b/spec/support/capybara_config.rb\n@@ -0,0 +1,47 @@\n+# Capybara \u3068Selenium WebDriver\u306e\u8a2d\u5b9a\n+require 'capybara/rails'\n+require 'capybara/rspec'\n+require 'selenium-webdriver'\n+require 'capybara-screenshot/rspec'\n+\n+# Chrome Headless\u8a2d\u5b9a\n+Capybara.register_driver :selenium_chrome_headless do |app|\n+  options = Selenium::WebDriver::Chrome::Options.new\n+  options.add_argument('--headless')\n+  options.add_argument('--no-sandbox')\n+  options.add_argument('--disable-dev-shm-usage')\n+  options.add_argument('--disable-gpu')\n+  options.add_argument('--remote-debugging-port=9222')\n+  options.add_argument('--window-size=1400,1400')\n+  options.add_argument('--disable-features=VizDisplayCompositor')\n+\n+  Capybara::Selenium::Driver.new(app, browser: :chrome, options: options)\n+end\n+\n+# Chrome\u8a2d\u5b9a\uff08\u30c7\u30d0\u30c3\u30b0\u7528\uff09\n+Capybara.register_driver :selenium_chrome do |app|\n+  options = Selenium::WebDriver::Chrome::Options.new\n+  options.add_argument('--no-sandbox')\n+  options.add_argument('--disable-dev-shm-usage')\n+  options.add_argument('--window-size=1400,1400')\n+\n+  Capybara::Selenium::Driver.new(app, browser: :chrome, options: options)\n+end\n+\n+# \u74b0\u5883\u306b\u5fdc\u3058\u3066\u30c9\u30e9\u30a4\u30d0\u30fc\u3092\u5207\u308a\u66ff\u3048\n+if ENV['HEADLESS'] || ENV['CI']\n+  Capybara.javascript_driver = :selenium_chrome_headless\n+else\n+  Capybara.javascript_driver = :selenium_chrome\n+end\n+\n+# Capybara\u8a2d\u5b9a\n+Capybara.default_driver = :rack_test\n+Capybara.default_max_wait_time = 5\n+Capybara.server_host = '0.0.0.0'\n+Capybara.server_port = 3001\n+Capybara.app_host = 'http://127.0.0.1:3001'\n+\n+# \u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u8a2d\u5b9a\n+Capybara::Screenshot.autosave_on_failure = true\n+Capybara::Screenshot.prune_strategy = :keep_last_run\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20250611/#4646581","title":"\u30b3\u30df\u30c3\u30c8: 4646581","text":""},{"location":"journal/20250611/#_18","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>test(WIP):E2E\u30c6\u30b9\u30c8\n</code></pre>"},{"location":"journal/20250611/#_19","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M spec/routing/hostname_constraints_spec.rb</li> </ul>"},{"location":"journal/20250611/#_20","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 4646581ecfb3363b0e2459fabaa0392cf7cf8bb1\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jun 11 12:29:25 2025 +0900\n\n    test(WIP):E2E\u30c6\u30b9\u30c8\n\ndiff --git a/spec/routing/hostname_constraints_spec.rb b/spec/routing/hostname_constraints_spec.rb\nindex cad8334..2438582 100644\n--- a/spec/routing/hostname_constraints_spec.rb\n+++ b/spec/routing/hostname_constraints_spec.rb\n@@ -4,8 +4,8 @@ require 'rails_helper'\n describe 'Routes' do\n   # \u8077\u54e1\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\n   it 'should route staff top page' do\n-    expect(get: 'http://baukis-kai.example.com/staff').to route_to(\n-                                         host: 'baukis-kai.example.com',\n+    expect(get: 'http://127.0.0.1/staff').to route_to(\n+                                         host: '127.0.0.1',\n                                          controller: 'staff/top',\n                                          action: 'index'\n                                      )\n@@ -13,8 +13,8 @@ describe 'Routes' do\n\n   # \u7ba1\u7406\u8005\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\n   it 'should route administrator login form' do\n-    expect(get: 'http://baukis-kai.example.com/admin/login').to route_to(\n-                                         host: 'baukis-kai.example.com',\n+    expect(get: 'http://127.0.0.1/admin/login').to route_to(\n+                                         host: '127.0.0.1',\n                                          controller: 'admin/sessions',\n                                          action: 'new'\n                                      )\n@@ -22,8 +22,8 @@ describe 'Routes' do\n\n   # \u9867\u5ba2\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\n   it 'should route customer top page' do\n-    expect(get: 'http://baukis-kai.example.com').to route_to(\n-                                                              host: 'baukis-kai.example.com',\n+    expect(get: 'http://127.0.0.1').to route_to(\n+                                                              host: '127.0.0.1',\n                                                               controller: 'customer/top',\n                                                               action: 'index'\n                                                           )\n</code></pre>"},{"location":"journal/20250611/#27a16ff","title":"\u30b3\u30df\u30c3\u30c8: 27a16ff","text":""},{"location":"journal/20250611/#_21","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>test(WIP):E2E\u30c6\u30b9\u30c8\n</code></pre>"},{"location":"journal/20250611/#_22","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M Gemfile</li> <li>M Gemfile.lock</li> <li>M config/environments/test.rb</li> <li>M spec/features/staff/program_management_spec.rb</li> <li>M spec/rails_helper.rb</li> <li>M spec/support/features_spec_helper.rb</li> </ul>"},{"location":"journal/20250611/#_23","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 27a16ff83164825e9b5253cac7d7bf97ccf785c4\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Wed Jun 11 12:22:58 2025 +0900\n\n    test(WIP):E2E\u30c6\u30b9\u30c8\n\ndiff --git a/Gemfile b/Gemfile\nindex e85164d..695fe3a 100644\n--- a/Gemfile\n+++ b/Gemfile\n@@ -69,9 +69,7 @@ group :test do\n   gem 'capybara'\n   gem 'database_cleaner'\n   gem 'launchy'\n-  gem 'capybara'\n-  gem 'selenium-webdriver'\n-  gem 'webdrivers'\n+  gem 'selenium-webdriver', '~&gt; 4.11'\n   gem 'shoulda-matchers'\n   gem 'capybara-screenshot'\n   gem 'rails-controller-testing'\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex 944d710..edae2fd 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -437,10 +437,6 @@ GEM\n       activemodel (&gt;= 6.0.0)\n       bindex (&gt;= 0.4.0)\n       railties (&gt;= 6.0.0)\n-    webdrivers (5.2.0)\n-      nokogiri (~&gt; 1.6)\n-      rubyzip (&gt;= 1.3.0)\n-      selenium-webdriver (~&gt; 4.0)\n     webrick (1.9.1)\n     websocket (1.2.11)\n     websocket-driver (0.8.0)\n@@ -513,7 +509,7 @@ DEPENDENCIES\n   rails_12factor\n   rspec-rails\n   sass-rails\n-  selenium-webdriver\n+  selenium-webdriver (~&gt; 4.11)\n   shoulda-matchers\n   spring\n   spring-commands-rspec\n@@ -523,7 +519,6 @@ DEPENDENCIES\n   tzinfo-data\n   uglifier\n   web-console\n-  webdrivers\n   webrick\n   yard\n\ndiff --git a/config/environments/test.rb b/config/environments/test.rb\nindex dc2c3b7..ea99a73 100644\n--- a/config/environments/test.rb\n+++ b/config/environments/test.rb\n@@ -48,8 +48,8 @@ Rails.application.configure do\n   # config.action_view.raise_on_missing_translations = true\n\n   config.baukis_kai = {\n-      staff: { host: 'baukis-kai.example.com', path: 'staff' },\n-      admin: { host: 'baukis-kai.example.com', path: 'admin' },\n-      customer: { host: 'baukis-kai.example.com', path: '' }\n+      staff: { host: '127.0.0.1', path: 'staff' },\n+      admin: { host: '127.0.0.1', path: 'admin' },\n+      customer: { host: '127.0.0.1', path: '' }\n   }\n end\ndiff --git a/spec/features/staff/program_management_spec.rb b/spec/features/staff/program_management_spec.rb\nindex 190110a..28b8976 100644\n--- a/spec/features/staff/program_management_spec.rb\n+++ b/spec/features/staff/program_management_spec.rb\n@@ -1,6 +1,6 @@\n require 'rails_helper'\n\n-feature '\u8077\u54e1\u306b\u3088\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406' do\n+feature '\u8077\u54e1\u306b\u3088\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406', type: :system do\n   include FeaturesSpecHelper\n   include PerformanceSpecHelper\n   let(:staff_member) { create(:staff_member) }\n@@ -20,8 +20,7 @@ feature '\u8077\u54e1\u306b\u3088\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406' do\n   end\n\n   scenario '\u8077\u54e1\u304c\u30d7\u30ed\u30b0\u30e9\u30e0\u8a73\u7d30\u3092\u8868\u793a\u3059\u308b' do\n-    visit staff_programs_path\n-    click_link I18n.t('staff.programs.form.show')\n+    visit staff_program_path(program)\n\n     expect(page).to have_content(program.title)\n     expect(page).to have_content(program.description)\n@@ -49,8 +48,7 @@ feature '\u8077\u54e1\u306b\u3088\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406' do\n   end\n\n   scenario '\u8077\u54e1\u304c\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u7de8\u96c6\u3059\u308b' do\n-    visit staff_programs_path\n-    click_link I18n.t('staff.programs.form.edit')\n+    visit edit_staff_program_path(program)\n\n     fill_in I18n.t('activerecord.attributes.program.title'), with: 'Updated Program'\n     click_button I18n.t('staff.programs.edit.update')\n@@ -66,6 +64,9 @@ feature '\u8077\u54e1\u306b\u3088\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u7ba1\u7406' do\n\n     all('a', text: I18n.t('staff.programs.form.delete')).last.click\n\n+    # JavaScript\u30a2\u30e9\u30fc\u30c8\u3092\u53d7\u3051\u5165\u308c\u308b\n+    page.driver.browser.switch_to.alert.accept\n+\n     expect(page).to have_css('.Flash__notice', text: I18n.t('staff.programs.destroy.flash_notice'))\n     expect(Program.find_by(id: program_without_entries.id)).to be_nil\n   end\ndiff --git a/spec/rails_helper.rb b/spec/rails_helper.rb\nindex cd000d0..da3a27d 100644\n--- a/spec/rails_helper.rb\n+++ b/spec/rails_helper.rb\n@@ -49,6 +49,7 @@ Capybara.default_driver = :rack_test\n Capybara.default_max_wait_time = 5\n Capybara.server_host = '0.0.0.0'\n Capybara.server_port = 3001\n+Capybara.app_host = 'http://127.0.0.1:3001'\n\n # \u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u8a2d\u5b9a\n Capybara::Screenshot.autosave_on_failure = true\ndiff --git a/spec/support/features_spec_helper.rb b/spec/support/features_spec_helper.rb\nindex aac0165..5d2f87c 100644\n--- a/spec/support/features_spec_helper.rb\n+++ b/spec/support/features_spec_helper.rb\n@@ -1,7 +1,10 @@\n module FeaturesSpecHelper\n   def switch_namespace(namespace)\n     config = Rails.application.config.baukis_kai\n-    Capybara.app_host = 'http://' + config[namespace][:host]\n+    # \u30ed\u30fc\u30ab\u30eb\u30c6\u30b9\u30c8\u7528\u306blocalhost:3001\u3092\u4f7f\u7528\n+    Capybara.app_host = \"http://127.0.0.1:3001\"\n+    # \u30d1\u30b9\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u8a2d\u5b9a\uff08\u5fc5\u8981\u306a\u5834\u5408\uff09\n+    # Capybara.app_host = \"http://localhost:3001/#{config[namespace][:path]}\"\n   end\n\n   def login_as_staff_member(staff_member, password = 'pw')\n</code></pre>"},{"location":"journal/20250612/","title":"\u4f5c\u696d\u5c65\u6b74 2025-06-12","text":""},{"location":"journal/20250612/#_1","title":"\u6982\u8981","text":"<p>2025-06-12\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b8\u30e3\u30fc\u30ca\u30eb\u3067\u306f\u3001\u958b\u767a\u74b0\u5883\u306e\u6539\u5584\u3068\u30c7\u30d0\u30c3\u30b0\u52b9\u7387\u5316\u306e\u305f\u3081\u306e\u8a2d\u5b9a\u3001\u304a\u3088\u3073\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u4fee\u6b63\u306b\u95a2\u3059\u308b\u4f5c\u696d\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"journal/20250612/#_2","title":"\u30b7\u30b9\u30c6\u30e0\u69cb\u6210\u56f3","text":""},{"location":"journal/20250612/#_3","title":"\u4f5c\u696d\u5185\u5bb9","text":""},{"location":"journal/20250612/#visual-studio-code","title":"Visual Studio Code\u958b\u767a\u74b0\u5883\u306e\u6539\u5584","text":"<p>\u958b\u767a\u52b9\u7387\u3092\u5411\u4e0a\u3055\u305b\u308b\u305f\u3081\u306b\u3001Visual Studio Code\u306e\u8a2d\u5b9a\u3092\u6539\u5584\u3057\u307e\u3057\u305f\u3002\u7279\u306b\u3001\u30c7\u30d0\u30c3\u30b0\u8a2d\u5b9a\u3068Ruby\u958b\u767a\u74b0\u5883\u306e\u6574\u5099\u306b\u7126\u70b9\u3092\u5f53\u3066\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20250612/#_4","title":"\u5909\u66f4\u70b9\u306e\u6982\u8981","text":"<ol> <li>VSCode\u7528\u306elaunch.json\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u66f4\u65b0</li> <li>Ruby\u30c7\u30d0\u30c3\u30b0\u8a2d\u5b9a\u306e\u8ffd\u52a0</li> <li>RSpec\u30c6\u30b9\u30c8\u5b9f\u884c\u7528\u306ebinstub\u306e\u8ffd\u52a0</li> </ol>"},{"location":"journal/20250612/#_5","title":"\u6280\u8853\u7684\u8a73\u7d30","text":""},{"location":"journal/20250612/#docker","title":"Docker\u74b0\u5883\u306e\u6539\u5584","text":"<p>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u74b0\u5883\u3092\u3088\u308a\u672c\u756a\u306b\u8fd1\u3044\u5f62\u3067\u69cb\u7bc9\u3059\u308b\u305f\u3081\u3001Docker\u74b0\u5883\u306e\u8a2d\u5b9a\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002</p>"},{"location":"journal/20250612/#_6","title":"\u5909\u66f4\u70b9\u306e\u6982\u8981","text":"<ol> <li>docker-compose.yml\u306e\u66f4\u65b0\uff08PostgreSQL\u306e\u8ffd\u52a0\uff09</li> <li>\u74b0\u5883\u5909\u6570\u306e\u6574\u7406\u3068\u7d71\u4e00</li> <li>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u5b9a\u306e\u6539\u5584</li> </ol>"},{"location":"journal/20250612/#_7","title":"\u6280\u8853\u7684\u8a73\u7d30","text":""},{"location":"journal/20250612/#8dc2f88","title":"\u30b3\u30df\u30c3\u30c8: 8dc2f88","text":""},{"location":"journal/20250612/#_8","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>chore:VSCode\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n</code></pre>"},{"location":"journal/20250612/#_9","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .vscode/launch.json</li> <li>M bin/bundle</li> <li>A bin/rspec</li> </ul>"},{"location":"journal/20250612/#_10","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 8dc2f888f9c43ec5a64b9efda6ce40e6e25165bd\nAuthor: Katuyuki Kakigi &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Jun 12 03:35:34 2025 +0000\n\n    chore:VSCode\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\ndiff --git a/.vscode/launch.json b/.vscode/launch.json\nindex 097cc98..986756c 100644\n--- a/.vscode/launch.json\n+++ b/.vscode/launch.json\n@@ -37,7 +37,7 @@\n       \"name\": \"RSpec Tests\",\n       \"type\": \"node-terminal\",\n       \"request\": \"launch\",\n-      \"command\": \"bin/bundle exec rspec\",\n+      \"command\": \"bin/rspec\",\n       \"cwd\": \"${workspaceFolder}\",\n       \"env\": {\n         \"RAILS_ENV\": \"test\"\n@@ -47,11 +47,52 @@\n       \"name\": \"RSpec Current File\",\n       \"type\": \"node-terminal\",\n       \"request\": \"launch\",\n-      \"command\": \"bin/bundle exec rspec ${file}\",\n+      \"command\": \"bin/rspec ${file}\",\n       \"cwd\": \"${workspaceFolder}\",\n       \"env\": {\n         \"RAILS_ENV\": \"test\"\n       }\n+    },\n+    {\n+      \"name\": \"Debug Rails Server\",\n+      \"type\": \"rdbg\",\n+      \"request\": \"launch\",\n+      \"script\": \"${workspaceFolder}/bin/rails\",\n+      \"args\": [\"server\", \"-b\", \"0.0.0.0\", \"-p\", \"3000\"],\n+      \"cwd\": \"${workspaceFolder}\",\n+      \"env\": {\n+        \"RAILS_ENV\": \"development\"\n+      },\n+      \"useBundler\": true\n+    },\n+    {\n+      \"name\": \"Debug RSpec Current File\",\n+      \"type\": \"rdbg\",\n+      \"request\": \"launch\",\n+      \"script\": \"${workspaceFolder}/bin/rspec\",\n+      \"args\": [\"${file}\"],\n+      \"cwd\": \"${workspaceFolder}\",\n+      \"env\": {\n+        \"RAILS_ENV\": \"test\"\n+      }\n+    },\n+    {\n+      \"name\": \"Debug RSpec All Tests\",\n+      \"type\": \"rdbg\",\n+      \"request\": \"launch\",\n+      \"script\": \"${workspaceFolder}/bin/rspec\",\n+      \"args\": [],\n+      \"cwd\": \"${workspaceFolder}\",\n+      \"env\": {\n+        \"RAILS_ENV\": \"test\"\n+      }\n+    },\n+    {\n+      \"name\": \"Attach to Rails Server\",\n+      \"type\": \"rdbg\",\n+      \"request\": \"attach\",\n+      \"rdbgPath\": \"rdbg\",\n+      \"debugPort\": \"12345\"\n     }\n   ]\n }\ndiff --git a/bin/bundle b/bin/bundle\nindex 66e9889..50da5fd 100755\n--- a/bin/bundle\n+++ b/bin/bundle\n@@ -1,3 +1,109 @@\n #!/usr/bin/env ruby\n-ENV['BUNDLE_GEMFILE'] ||= File.expand_path('../../Gemfile', __FILE__)\n-load Gem.bin_path('bundler', 'bundle')\n+# frozen_string_literal: true\n+\n+#\n+# This file was generated by Bundler.\n+#\n+# The application 'bundle' is installed as part of a gem, and\n+# this file is here to facilitate running it.\n+#\n+\n+require \"rubygems\"\n+\n+m = Module.new do\n+  module_function\n+\n+  def invoked_as_script?\n+    File.expand_path($0) == File.expand_path(__FILE__)\n+  end\n+\n+  def env_var_version\n+    ENV[\"BUNDLER_VERSION\"]\n+  end\n+\n+  def cli_arg_version\n+    return unless invoked_as_script? # don't want to hijack other binstubs\n+    return unless \"update\".start_with?(ARGV.first || \" \") # must be running `bundle update`\n+    bundler_version = nil\n+    update_index = nil\n+    ARGV.each_with_index do |a, i|\n+      if update_index &amp;&amp; update_index.succ == i &amp;&amp; a.match?(Gem::Version::ANCHORED_VERSION_PATTERN)\n+        bundler_version = a\n+      end\n+      next unless a =~ /\\A--bundler(?:[= ](#{Gem::Version::VERSION_PATTERN}))?\\z/\n+      bundler_version = $1\n+      update_index = i\n+    end\n+    bundler_version\n+  end\n+\n+  def gemfile\n+    gemfile = ENV[\"BUNDLE_GEMFILE\"]\n+    return gemfile if gemfile &amp;&amp; !gemfile.empty?\n+\n+    File.expand_path(\"../Gemfile\", __dir__)\n+  end\n+\n+  def lockfile\n+    lockfile =\n+      case File.basename(gemfile)\n+      when \"gems.rb\" then gemfile.sub(/\\.rb$/, \".locked\")\n+      else \"#{gemfile}.lock\"\n+      end\n+    File.expand_path(lockfile)\n+  end\n+\n+  def lockfile_version\n+    return unless File.file?(lockfile)\n+    lockfile_contents = File.read(lockfile)\n+    return unless lockfile_contents =~ /\\n\\nBUNDLED WITH\\n\\s{2,}(#{Gem::Version::VERSION_PATTERN})\\n/\n+    Regexp.last_match(1)\n+  end\n+\n+  def bundler_requirement\n+    @bundler_requirement ||=\n+      env_var_version ||\n+      cli_arg_version ||\n+      bundler_requirement_for(lockfile_version)\n+  end\n+\n+  def bundler_requirement_for(version)\n+    return \"#{Gem::Requirement.default}.a\" unless version\n+\n+    bundler_gem_version = Gem::Version.new(version)\n+\n+    bundler_gem_version.approximate_recommendation\n+  end\n+\n+  def load_bundler!\n+    ENV[\"BUNDLE_GEMFILE\"] ||= gemfile\n+\n+    activate_bundler\n+  end\n+\n+  def activate_bundler\n+    gem_error = activation_error_handling do\n+      gem \"bundler\", bundler_requirement\n+    end\n+    return if gem_error.nil?\n+    require_error = activation_error_handling do\n+      require \"bundler/version\"\n+    end\n+    return if require_error.nil? &amp;&amp; Gem::Requirement.new(bundler_requirement).satisfied_by?(Gem::Version.new(Bundler::VERSION))\n+    warn \"Activating bundler (#{bundler_requirement}) failed:\\n#{gem_error.message}\\n\\nTo install the version of bundler this project requires, run `gem install bundler -v '#{bundler_requirement}'`\"\n+    exit 42\n+  end\n+\n+  def activation_error_handling\n+    yield\n+    nil\n+  rescue StandardError, LoadError =&gt; e\n+    e\n+  end\n+end\n+\n+m.load_bundler!\n+\n+if m.invoked_as_script?\n+  load Gem.bin_path(\"bundler\", \"bundle\")\n+end\ndiff --git a/bin/rspec b/bin/rspec\nnew file mode 100755\nindex 0000000..cb53ebe\n--- /dev/null\n+++ b/bin/rspec\n@@ -0,0 +1,27 @@\n+#!/usr/bin/env ruby\n+# frozen_string_literal: true\n+\n+#\n+# This file was generated by Bundler.\n+#\n+# The application 'rspec' is installed as part of a gem, and\n+# this file is here to facilitate running it.\n+#\n+\n+ENV[\"BUNDLE_GEMFILE\"] ||= File.expand_path(\"../Gemfile\", __dir__)\n+\n+bundle_binstub = File.expand_path(\"bundle\", __dir__)\n+\n+if File.file?(bundle_binstub)\n+  if File.read(bundle_binstub, 300).include?(\"This file was generated by Bundler\")\n+    load(bundle_binstub)\n+  else\n+    abort(\"Your `bin/bundle` was not generated by Bundler, so this binstub cannot run.\n+Replace `bin/bundle` by running `bundle binstubs bundler --force`, then run this command again.\")\n+  end\n+end\n+\n+require \"rubygems\"\n+require \"bundler/setup\"\n+\n+load Gem.bin_path(\"rspec-core\", \"rspec\")\n</code></pre>"},{"location":"journal/20250612/#7f46019","title":"\u30b3\u30df\u30c3\u30c8: 7f46019","text":""},{"location":"journal/20250612/#_11","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>chore:VSCode\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n</code></pre>"},{"location":"journal/20250612/#_12","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>A .vscode/launch.json</li> </ul>"},{"location":"journal/20250612/#_13","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 7f4601963232c9223e15b711b9035f70fddb0e29\nAuthor: Katuyuki Kakigi &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Jun 12 03:17:43 2025 +0000\n\n    chore:VSCode\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\ndiff --git a/.vscode/launch.json b/.vscode/launch.json\nnew file mode 100644\nindex 0000000..097cc98\n--- /dev/null\n+++ b/.vscode/launch.json\n@@ -0,0 +1,57 @@\n+{\n+  \"version\": \"0.2.0\",\n+  \"configurations\": [\n+    {\n+      \"name\": \"Rails Server\",\n+      \"type\": \"node-terminal\",\n+      \"request\": \"launch\",\n+      \"command\": \"bin/rails server -b 0.0.0.0 -p 3000\",\n+      \"cwd\": \"${workspaceFolder}\",\n+      \"env\": {\n+        \"RAILS_ENV\": \"development\"\n+      }\n+    },\n+    {\n+      \"name\": \"Rails Server (Production)\",\n+      \"type\": \"node-terminal\",\n+      \"request\": \"launch\",\n+      \"command\": \"bin/rails server -b 0.0.0.0 -p 3000 -e production\",\n+      \"cwd\": \"${workspaceFolder}\",\n+      \"env\": {\n+        \"RAILS_ENV\": \"production\",\n+        \"SECRET_KEY_BASE\": \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\",\n+        \"PRD_URL\": \"127.0.0.1\"\n+      }\n+    },\n+    {\n+      \"name\": \"Rails Console\",\n+      \"type\": \"node-terminal\",\n+      \"request\": \"launch\",\n+      \"command\": \"bin/rails console\",\n+      \"cwd\": \"${workspaceFolder}\",\n+      \"env\": {\n+        \"RAILS_ENV\": \"development\"\n+      }\n+    },\n+    {\n+      \"name\": \"RSpec Tests\",\n+      \"type\": \"node-terminal\",\n+      \"request\": \"launch\",\n+      \"command\": \"bin/bundle exec rspec\",\n+      \"cwd\": \"${workspaceFolder}\",\n+      \"env\": {\n+        \"RAILS_ENV\": \"test\"\n+      }\n+    },\n+    {\n+      \"name\": \"RSpec Current File\",\n+      \"type\": \"node-terminal\",\n+      \"request\": \"launch\",\n+      \"command\": \"bin/bundle exec rspec ${file}\",\n+      \"cwd\": \"${workspaceFolder}\",\n+      \"env\": {\n+        \"RAILS_ENV\": \"test\"\n+      }\n+    }\n+  ]\n+}\n</code></pre>"},{"location":"journal/20250612/#c6a9e75","title":"\u30b3\u30df\u30c3\u30c8: c6a9e75","text":""},{"location":"journal/20250612/#_14","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>fix:Typo\n</code></pre>"},{"location":"journal/20250612/#_15","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> </ul>"},{"location":"journal/20250612/#_16","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit c6a9e751f80538b8cc8f79eb3b39236383ddd45b\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Jun 12 10:52:07 2025 +0900\n\n    fix:Typo\n\ndiff --git a/README.md b/README.md\nindex 70683ae..acb352f 100644\n--- a/README.md\n+++ b/README.md\n@@ -43,7 +43,7 @@ http://127.0.0.1:3000 \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u8d77\u52d5\n    1. [\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c(2)](#\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c(2))\n    1. [\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0](#\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0)\n    1. [\u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664](#\u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664)\n-   1. [Strong Parameters](#Strong Parameters])\n+   1. [Strong Parameters](#Strong Parameters)\n    1. [\u30a2\u30af\u30bb\u30b9\u5236\u5fa1](#\u30a2\u30af\u30bb\u30b9\u5236\u5fa1)\n    1. [\u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051](#\u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051)\n    1. [\u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3](#\u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3)\n</code></pre>"},{"location":"journal/20250612/#76c2989","title":"\u30b3\u30df\u30c3\u30c8: 76c2989","text":""},{"location":"journal/20250612/#_17","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>Merge remote-tracking branch 'origin/develop' into develop\n</code></pre>"},{"location":"journal/20250612/#_18","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":""},{"location":"journal/20250612/#_19","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 76c2989d29bb52b7d67dbc8e16c5dca1960ae6b6\nMerge: d9b605a 2f21c63\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Jun 12 10:50:15 2025 +0900\n\n    Merge remote-tracking branch 'origin/develop' into develop\n</code></pre>"},{"location":"journal/20250612/#d9b605a","title":"\u30b3\u30df\u30c3\u30c8: d9b605a","text":""},{"location":"journal/20250612/#_20","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>fix:Typo\n</code></pre>"},{"location":"journal/20250612/#_21","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M README.md</li> <li>D test_customer_message.rb</li> </ul>"},{"location":"journal/20250612/#_22","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit d9b605ac2e0a40e3ffb9772781208b015e67277d\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Jun 12 10:38:50 2025 +0900\n\n    fix:Typo\n\ndiff --git a/README.md b/README.md\nindex 5406c95..70683ae 100644\n--- a/README.md\n+++ b/README.md\n@@ -43,7 +43,7 @@ http://127.0.0.1:3000 \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u8d77\u52d5\n    1. [\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c(2)](#\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c(2))\n    1. [\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0](#\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0)\n    1. [\u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664](#\u30ec\u30b3\u30fc\u30c9\u306e\u8868\u793a\u3001\u65b0\u898f\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664)\n-   1. [String Parameters](#String Parameters])\n+   1. [Strong Parameters](#Strong Parameters])\n    1. [\u30a2\u30af\u30bb\u30b9\u5236\u5fa1](#\u30a2\u30af\u30bb\u30b9\u5236\u5fa1)\n    1. [\u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051](#\u30e2\u30c7\u30eb\u9593\u306e\u95a2\u9023\u4ed8\u3051)\n    1. [\u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3](#\u5024\u306e\u6b63\u898f\u5316\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3)\n@@ -564,8 +564,8 @@ git push heroku master\n + update\u30a2\u30af\u30b7\u30e7\u30f3\n + destroy\u30a2\u30af\u30b7\u30e7\u30f3\n\n-### String Parameters\n-#### String Parameters\n+### Strong Parameters\n+#### Strong Parameters\n + \u30de\u30b9\u30a2\u30b5\u30a4\u30f3\u30e1\u30f3\u30c8\u8106\u5f31\u6027\n + \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30c6\u30b9\u30c8\n + 400 Bad Request\n@@ -940,4 +940,4 @@ git push heroku master\n + [Rails Bootstrap Forms](https://github.com/bootstrap-ruby/rails-bootstrap-forms)\n + [Annotate (aka AnnotateModels)](https://github.com/ctran/annotate_models)\n + [MigrationComments](https://github.com/pinnymz/migration_comments)\n-+ [i18n_generators](https://github.com/amatsuda/i18n_generators)\n\\ No newline at end of file\n++ [i18n_generators](https://github.com/amatsuda/i18n_generators)\ndiff --git a/test_customer_message.rb b/test_customer_message.rb\ndeleted file mode 100644\nindex f754441..0000000\n--- a/test_customer_message.rb\n+++ /dev/null\n@@ -1,29 +0,0 @@\n-#!/usr/bin/env ruby\n-require_relative 'config/environment'\n-\n-# Create a customer\n-customer = Customer.first || Customer.create!(\n-  email: 'test@example.com',\n-  family_name: 'Test',\n-  given_name: 'User',\n-  family_name_kana: '\u30c6\u30b9\u30c8',\n-  given_name_kana: '\u30e6\u30fc\u30b6\u30fc',\n-  password: 'password',\n-  birthday: Date.new(1980, 1, 1),\n-  gender: 'male'\n-)\n-\n-# Create a CustomerMessage without staff_member, root, or parent\n-message = CustomerMessage.new(\n-  customer: customer,\n-  subject: 'Test Subject',\n-  body: 'Test Body'\n-)\n-\n-puts \"Message valid? #{message.valid?}\"\n-if message.valid?\n-  message.save!\n-  puts \"Message saved successfully with ID: #{message.id}\"\n-else\n-  puts \"Message validation errors: #{message.errors.full_messages.join(', ')}\"\n-end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20250612/#2f21c63","title":"\u30b3\u30df\u30c3\u30c8: 2f21c63","text":""},{"location":"journal/20250612/#_23","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>chore:\u4e0d\u8981\u306a\u30b3\u30fc\u30c9\u524a\u9664\n</code></pre>"},{"location":"journal/20250612/#_24","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>D test_customer_message.rb</li> </ul>"},{"location":"journal/20250612/#_25","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 2f21c631f45c00e5e73a50fb1b2197f8c3ac46b5\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Jun 12 10:38:50 2025 +0900\n\n    chore:\u4e0d\u8981\u306a\u30b3\u30fc\u30c9\u524a\u9664\n\ndiff --git a/test_customer_message.rb b/test_customer_message.rb\ndeleted file mode 100644\nindex f754441..0000000\n--- a/test_customer_message.rb\n+++ /dev/null\n@@ -1,29 +0,0 @@\n-#!/usr/bin/env ruby\n-require_relative 'config/environment'\n-\n-# Create a customer\n-customer = Customer.first || Customer.create!(\n-  email: 'test@example.com',\n-  family_name: 'Test',\n-  given_name: 'User',\n-  family_name_kana: '\u30c6\u30b9\u30c8',\n-  given_name_kana: '\u30e6\u30fc\u30b6\u30fc',\n-  password: 'password',\n-  birthday: Date.new(1980, 1, 1),\n-  gender: 'male'\n-)\n-\n-# Create a CustomerMessage without staff_member, root, or parent\n-message = CustomerMessage.new(\n-  customer: customer,\n-  subject: 'Test Subject',\n-  body: 'Test Body'\n-)\n-\n-puts \"Message valid? #{message.valid?}\"\n-if message.valid?\n-  message.save!\n-  puts \"Message saved successfully with ID: #{message.id}\"\n-else\n-  puts \"Message validation errors: #{message.errors.full_messages.join(', ')}\"\n-end\n\\ No newline at end of file\n</code></pre>"},{"location":"journal/20250612/#3d3d40f","title":"\u30b3\u30df\u30c3\u30c8: 3d3d40f","text":""},{"location":"journal/20250612/#_26","title":"\u30e1\u30c3\u30bb\u30fc\u30b8","text":"<pre><code>chore:docker-compose\u66f4\u65b0\n</code></pre>"},{"location":"journal/20250612/#_27","title":"\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb","text":"<ul> <li>M .gitignore</li> <li>M config/database.yml</li> <li>M docker-compose.yml</li> </ul>"},{"location":"journal/20250612/#_28","title":"\u5909\u66f4\u5185\u5bb9","text":"<pre><code>commit 3d3d40fb03a78e498d8787bdd0a5c53916845d9b\nAuthor: k2works &lt;kakimomokuri@gmail.com&gt;\nDate:   Thu Jun 12 10:15:21 2025 +0900\n\n    chore:docker-compose\u66f4\u65b0\n\ndiff --git a/.gitignore b/.gitignore\nindex 40045d9..ee66fe4 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -88,6 +88,7 @@ config/initializers/secret_token.rb\n ## Environment normalization:\n /.bundle\n /vendor/bundle\n+.gem_rbs_collection\n\n # these should all be checked in to normalize the environment:\n # Gemfile.lock, .ruby-version, .ruby-gemset\n@@ -108,4 +109,4 @@ bower.json\n\n public/assets/\n .idea/\n-*.iml\n\\ No newline at end of file\n+*.iml\ndiff --git a/config/database.yml b/config/database.yml\nindex 1b2c8a0..c42297f 100644\n--- a/config/database.yml\n+++ b/config/database.yml\n@@ -15,10 +15,10 @@ development:\n   encoding: utf8\n   collation: utf8_general_ci\n   pool: 5\n-  username: root\n-  password: password\n-  host: &lt;%= ENV.fetch(\"MYSQL_HOST\", \"127.0.0.1\") %&gt;\n-  database: baukis-kai_development\n+  username: &lt;%= ENV.fetch(\"DB_USER\", \"root\") %&gt;\n+  password: &lt;%= ENV.fetch(\"DB_PASSWORD\", \"password\") %&gt;\n+  host: &lt;%= ENV.fetch(\"DB_HOST\", \"127.0.0.1\") %&gt;\n+  database: &lt;%= ENV.fetch(\"DB_DATABASE\", \"bauki-kai_development\") %&gt;\n\n # Warning: The database defined as \"test\" will be erased and\n # re-generated from your development database when you run \"rake\".\n@@ -28,10 +28,10 @@ test:\n   encoding: utf8\n   collation: utf8_general_ci\n   pool: 5\n-  username: root\n-  password: password\n-  host: &lt;%= ENV.fetch(\"MYSQL_HOST\", \"127.0.0.1\") %&gt;\n-  database: baukis-kai_test\n+  username: &lt;%= ENV.fetch(\"DB_USER\", \"root\") %&gt;\n+  password: &lt;%= ENV.fetch(\"DB_PASSWORD\", \"password\") %&gt;\n+  host: &lt;%= ENV.fetch(\"DB_HOST\", \"127.0.0.1\") %&gt;\n+  database: \"app_test\"\n\n # As with config/secrets.yml, you never want to store sensitive information,\n # like your database password, in your source code. If your source code is\n@@ -58,8 +58,8 @@ production:\n   # For details on connection pooling, see rails configuration guide\n   # http://guides.rubyonrails.org/configuring.html#database-pooling\n   pool: &lt;%= ENV.fetch(\"RAILS_MAX_THREADS\") { 5 } %&gt;\n-  username: postgres\n-  password: password\n-  host: 127.0.0.1\n-  database: baukis-kai_production\n+  username: &lt;%= ENV.fetch(\"DB_USER\", \"postgres\") %&gt;\n+  password: &lt;%= ENV.fetch(\"DB_PASSWORD\", \"password\") %&gt;\n+  host: &lt;%= ENV.fetch(\"DB_HOST\", \"127.0.0.1\") %&gt;\n+  database: &lt;%= ENV.fetch(\"DB_DATABASE\", \"bauki-kai_production\") %&gt;\n\ndiff --git a/docker-compose.yml b/docker-compose.yml\nindex d9c992c..101dc00 100644\n--- a/docker-compose.yml\n+++ b/docker-compose.yml\n@@ -4,48 +4,68 @@ services:\n       context: .\n       dockerfile: Dockerfile-app\n     depends_on:\n-      - db\n+      - db_prd\n     environment:\n-      MYSQL_HOST: db\n-      MYSQL_PORT: 3306\n-      MYSQL_USER: user\n-      MYSQL_PASSWORD: pass\n-      MYSQL_DATABASE: app_development\n+      RAILS_ENV: production\n+      SECRET_KEY_BASE: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\n+      PRD_URL: 127.0.0.1\n+      DB_HOST: db_prd\n+      DB_PORT: 5432\n+      DB_USER: postgres\n+      DB_PASSWORD: password\n+      DB_DATABASE: app_production\n     ports:\n-      - \"3000:3000\"\n+      - \"3001:3000\"\n     working_dir: /app\n     volumes:\n       - ./:/app\n-  db:\n+\n+  db_dev:\n     image: mysql:8.0\n     environment:\n       MYSQL_ROOT_PASSWORD: password\n       MYSQL_USER: user\n-      MYSQL_PASSWORD: pass\n+      MYSQL_PASSWORD: password\n+      MYSQL_DATABASE: app_development\n     ports:\n       - 3306:3306\n     volumes:\n       - mysql-db:/var/lib/mysql\n\n+  db_prd:\n+    image: postgres:17\n+    environment:\n+      POSTGRES_USER: postgres\n+      POSTGRES_PASSWORD: password\n+      POSTGRES_INITDB_ARGS: \"--encoding=UTF-8\"\n+      POSTGRES_DB: app_production\n+    user: postgres\n+    ports:\n+      - \"5432:5432\"\n+    volumes:\n+      - postgresql-db:/var/lib/postgresql\n+\n   console:\n     build:\n       context: .\n       dockerfile: Dockerfile-console\n     environment:\n-      MYSQL_HOST: db\n-      MYSQL_PORT: 3306\n-      MYSQL_USER: user\n-      MYSQL_PASSWORD: pass\n-      MYSQL_DATABASE: app_development\n+      DB_HOST: db_dev\n+      DB_PORT: 3306\n+      DB_USER: root\n+      DB_PASSWORD: password\n+      DB_DATABASE: app_development\n     volumes:\n       - ./:/srv\n     working_dir: /srv\n     depends_on:\n-      - db\n+      - db_dev\n     stdin_open: true\n     ports:\n-      - \"3333:3000\"\n+      - \"3000:3000\"\n\n volumes:\n   mysql-db:\n-    driver: local\n\\ No newline at end of file\n+    driver: local\n+  postgresql-db:\n+    driver: local\n</code></pre>"}]}